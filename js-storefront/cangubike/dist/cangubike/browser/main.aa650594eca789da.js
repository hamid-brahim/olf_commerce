(self.webpackChunkcangubike=self.webpackChunkcangubike||[]).push([[179],{8090:(ye,X,v)=>{"use strict";var n=v(1481),e=v(4650),h=v(529),P=v(8935),E=v(5024),M=v(8555);var V=v(610);let j=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[V.Bz.forRoot([],{anchorScrolling:"enabled",relativeLinkResolution:"corrected",initialNavigation:"enabledNonBlocking"})]}),y})();var H=v(1446);let G=(()=>{class y{constructor(){this.title="cangubike"}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-root"]],decls:1,vars:0,template:function(k,se){1&k&&e._UZ(0,"cx-storefront")},dependencies:[H.gJ4]}),y})();const z={common:["common","spinner","searchBox","navigation","sorting","httpHandlers","pageMetaResolver","miniCart","skipLink","formErrors","errorHandlers","carousel","assistiveMessage","passwordVisibility","generalErrors"],address:["addressForm","addressBook","addressCard","addressSuggestion","addressMessages"],payment:["paymentForm","paymentMethods","paymentCard","paymentTypes","paymentMessages"],myAccount:["orderDetails","orderHistory","closeAccount","updatePasswordForm","updateProfileForm","consentManagementForm","myCoupons","notificationPreference","myInterests","AccountOrderHistoryTabContainer","returnRequestList","returnRequest"],pwa:["pwa"],product:["productDetails","productList","productFacetNavigation","productCarousel","productSummary","productReview","addToCart","addToWishList","CMSTabParagraphContainer","stockNotification","TabPanelContainer","itemCounter","productView"],user:["anonymousConsents","loginRegister","checkoutLogin","authMessages"],video:["player"]};var de=v(6322);const Fe={backend:{occ:{endpoints:{user:"orgUsers/${userId}",userUpdateProfile:"users/${userId}",userCloseAccount:"users/${userId}",addEntries:"orgUsers/${userId}/carts/${cartId}/entries?quantity=${quantity}",placeOrder:"orgUsers/${userId}/orders?fields=FULL",scheduleReplenishmentOrder:"orgUsers/${userId}/replenishmentOrders?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType"}}}};let ht=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)(H.TrH),(0,de.A2H)(H.MuM),...H.XiQ,(0,de.A2H)({backend:{}}),(0,de.A2H)({context:{urlParameters:["baseSite","language","currency"],baseSite:["cangubike-spa"],language:["en","fr"],currency:["USD","EUR"]}}),(0,de.A2H)({i18n:{backend:{loadPath:"assets/i18n-assets/{{lng}}/{{ns}}.json"},chunks:z,fallbackLang:"en"}}),(0,de.A2H)({features:{level:"5.1"}}),(0,de.A2H)(Fe)]}),y})();var Re=v(8809),fe=v(6895);let _e=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275prov=e.Yz7({token:y,factory:function(){return(0,de.wvQ)({facade:y,feature:"cartWishListCore",methods:["createWishList","getWishList","loadWishList","addEntry","removeEntry","getWishListLoading"],async:!0})},providedIn:"root"}),y})();const Ot=["cx-wish-list-item",""],Ft=function(y){return{cxRoute:"product",params:y}};function Ct(y,U){if(1&y&&(e.TgZ(0,"div",13)(1,"a",14),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&y){const k=e.oxw();e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,Ft,k.cartEntry.product))),e.xp6(2),e.Oqu(null==k.cartEntry.product?null:k.cartEntry.product.name)}}function it(y,U){if(1&y&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&y){const k=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"cartItems.id")," ",null==k.cartEntry.product?null:k.cartEntry.product.code," ")}}function Zt(y,U){if(1&y&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&y){const k=e.oxw().$implicit;e.xp6(1),e.AsE(" ",k.name,": ",k.value," ")}}function wt(y,U){if(1&y&&(e.TgZ(0,"div",17),e.YNc(1,Zt,2,2,"div",18),e.qZA()),2&y){const k=U.$implicit;e.xp6(1),e.Q6J("ngIf",k.name&&k.value)}}function Dt(y,U){if(1&y&&(e.ynx(0),e.YNc(1,wt,2,1,"div",16),e.BQk()),2&y){const k=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==k.cartEntry.product||null==k.cartEntry.product.baseOptions[0]||null==k.cartEntry.product.baseOptions[0].selected?null:k.cartEntry.product.baseOptions[0].selected.variantOptionQualifiers)}}function dt(y,U){if(1&y&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&y){const k=e.oxw(2);e.xp6(1),e.hij(" ",null==k.cartEntry.basePrice?null:k.cartEntry.basePrice.formattedValue," ")}}function Qt(y,U){if(1&y&&(e.TgZ(0,"td",20)(1,"div",21),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,dt,2,1,"div",22),e.qZA()),2&y){const k=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"cartItems.itemPrice")," "),e.xp6(2),e.Q6J("ngIf",k.cartEntry.basePrice)}}function me(y,U){1&y&&e.GkF(0,24)}function vt(y,U){1&y&&(e.TgZ(0,"span",25),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&y&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addToCart.outOfStock")," "))}function Ze(y,U){if(1&y){const k=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(k);const Xe=e.oxw();return e.KtG(Xe.removeEntry(Xe.cartEntry))}),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&y){const k=e.oxw();e.Q6J("cxAtMessage",e.lcZ(1,3,"wishlist.itemRemoved"))("disabled",k.isLoading),e.xp6(2),e.hij(" ",e.lcZ(3,5,"common.remove")," ")}}function $t(y,U){if(1&y){const k=e.EpF();e.TgZ(0,"tr",11),e.NdJ("remove",function(Xe){e.CHM(k);const jt=e.oxw(3);return e.KtG(jt.removeEntry(Xe))}),e.ALo(1,"async"),e.qZA()}if(2&y){const k=U.$implicit,se=e.oxw(3);e.Q6J("cartEntry",k)("isLoading",e.lcZ(1,2,se.loading$))}}function It(y,U){if(1&y&&(e.TgZ(0,"table",3)(1,"caption",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"thead")(5,"tr",5)(6,"th",6),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"th",7),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"th",8),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA()()(),e.TgZ(15,"tbody",9),e.YNc(16,$t,2,4,"tr",10),e.qZA()()),2&y){const k=e.oxw().ngIf;e.xp6(2),e.hij(" ",e.lcZ(3,5,"wishlist.caption")," "),e.xp6(5),e.hij(" ",e.lcZ(8,7,"cartItems.description")," "),e.xp6(3),e.hij(" ",e.lcZ(11,9,"cartItems.itemPrice")," "),e.xp6(3),e.hij(" ",e.lcZ(14,11,"cartItems.actions")," "),e.xp6(3),e.Q6J("ngForOf",null==k?null:k.entries)}}function cn(y,U){if(1&y&&(e.ynx(0),e.YNc(1,It,17,13,"table",2),e.BQk()),2&y){const k=U.ngIf;e.oxw();const se=e.MAs(3);e.xp6(1),e.Q6J("ngIf",(null==k||null==k.entries?null:k.entries.length)>0)("ngIfElse",se)}}function Ut(y,U){1&y&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&y&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"wishlist.empty")))}let pn=(()=>{class y{constructor(k){this.productListItemContextSource=k,this.isLoading=!1,this.remove=new e.vpe}ngOnChanges(k){k?.cartEntry&&this.productListItemContextSource.product$.next(this.cartEntry.product)}removeEntry(k){this.remove.emit(k)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(H.e1w))},y.\u0275cmp=e.Xpm({type:y,selectors:[["","cx-wish-list-item",""],["cx-wish-list-item"]],inputs:{isLoading:"isLoading",cartEntry:"cartEntry"},outputs:{remove:"remove"},features:[e._Bn([H.e1w,{provide:H.Z6X,useExisting:H.e1w}]),e.TTD],attrs:Ot,decls:15,vars:12,consts:[["role","cell"],[1,"cx-table-item-container"],["tabindex","-1",3,"routerLink"],["format","thumbnail",3,"container"],[1,"cx-info"],["class","cx-name",4,"ngIf"],["class","cx-code",4,"ngIf"],[4,"ngIf"],["role","cell","class","cx-price",4,"ngIf"],["role","cell",1,"cx-actions"],["cxInnerComponentsHost","",4,"ngIf"],["outOfStock",""],["class","link cx-action-link cx-remove-btn",3,"cxAtMessage","disabled","click",4,"ngIf"],[1,"cx-name"],[1,"cx-link",3,"routerLink"],[1,"cx-code"],["class","cx-property",4,"ngFor","ngForOf"],[1,"cx-property"],["class","cx-label",4,"ngIf"],[1,"cx-label"],["role","cell",1,"cx-price"],[1,"cx-mobile-header"],["class","cx-value",4,"ngIf"],[1,"cx-value"],["cxInnerComponentsHost",""],[1,"cx-out-of-stock"],[1,"link","cx-action-link","cx-remove-btn",3,"cxAtMessage","disabled","click"]],template:function(k,se){1&k&&(e.TgZ(0,"td",0)(1,"div",1)(2,"a",2),e.ALo(3,"cxUrl"),e._UZ(4,"cx-media",3),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,Ct,4,6,"div",5),e.YNc(7,it,3,4,"div",6),e.qZA()(),e.YNc(8,Dt,2,1,"ng-container",7),e.qZA(),e.YNc(9,Qt,5,4,"td",8),e.TgZ(10,"td",9),e.YNc(11,me,1,0,"ng-container",10),e.YNc(12,vt,3,3,"ng-template",null,11,e.W1O),e.YNc(14,Ze,4,7,"button",12),e.qZA()),2&k&&(e.xp6(2),e.Q6J("routerLink",e.lcZ(3,8,e.VKq(10,Ft,se.cartEntry.product))),e.xp6(2),e.Q6J("container",null==se.cartEntry.product||null==se.cartEntry.product.images?null:se.cartEntry.product.images.PRIMARY),e.xp6(2),e.Q6J("ngIf",null==se.cartEntry.product?null:se.cartEntry.product.name),e.xp6(1),e.Q6J("ngIf",null==se.cartEntry.product?null:se.cartEntry.product.code),e.xp6(1),e.Q6J("ngIf",null==se.cartEntry.product||null==se.cartEntry.product.baseOptions?null:se.cartEntry.product.baseOptions.length),e.xp6(1),e.Q6J("ngIf",se.cartEntry.basePrice),e.xp6(2),e.Q6J("ngIf",se.cartEntry.updateable),e.xp6(3),e.Q6J("ngIf",se.cartEntry.updateable))},dependencies:[H.cgP,fe.sg,fe.O5,H.R7z,H.ik0,V.yS,de.X$D,de.l2T],encapsulation:2,changeDetection:0}),y})(),ut=(()=>{class y{constructor(k){this.wishListFacade=k,this.wishList$=this.wishListFacade.getWishList(),this.loading$=this.wishListFacade.getWishListLoading()}removeEntry(k){this.wishListFacade.removeEntry(k)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(_e))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cx-wish-list"]],decls:4,vars:3,consts:[[4,"ngIf"],["emptyWishList",""],["role","table",4,"ngIf","ngIfElse"],["role","table"],[1,"cx-visually-hidden"],["role","row",1,"cx-item-list-header","cx-wish-list-header"],["role","columnheader",1,"cx-item-list-desc"],["role","columnheader",1,"cx-item-list-price"],["role","columnheader",1,"cx-item-list-actions"],[1,"cx-item-list-items"],["cx-wish-list-item","","role","row","class","cx-item-list-row cx-wish-list-item-row",3,"cartEntry","isLoading","remove",4,"ngFor","ngForOf"],["cx-wish-list-item","","role","row",1,"cx-item-list-row","cx-wish-list-item-row",3,"cartEntry","isLoading","remove"]],template:function(k,se){1&k&&(e.YNc(0,cn,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Ut,3,3,"ng-template",null,1,e.W1O)),2&k&&e.Q6J("ngIf",e.lcZ(1,1,se.wishList$))},dependencies:[fe.sg,fe.O5,pn,fe.Ov,de.X$D],encapsulation:2}),y})(),qt=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.i51)({cmsComponents:{WishListComponent:{component:ut,data:{composition:{inner:["ProductAddToCartComponent"]}},guards:[de.a1M]}}})],imports:[H.p$5,fe.ez,de.LUR,H.Td$,H.cOq,H._Gt,V.Bz,H.fsT,de.bhT]}),y})();var Pt=v(3749),mn=v(6053),En=v(5254),Ce=v(8896),Te=v(5778),Me=v(2994),pt=v(2198),ft=v(7545),nn=v(4850),zt=v(7168),hn=v(2986),Wt=v(7221),Oe=v(1406),yt=v(7212),Ae=v(655);const qe="[Wish List] Create Wish List",We="[Wish List] Create Wish List Success",Tt="[Wish List] Load Wish List",bt="[Wish List] Load Wish List Success";class un{constructor(U){this.payload=U,this.type=qe}}class Vt extends de.kPG.EntitySuccessAction{constructor(U){super(Re.N4,U.cartId),this.payload=U,this.type=We}}class st extends de.kPG.EntityFailAction{constructor(U){super(Re.N4,U.cartId,U.error),this.payload=U,this.type="[Wish List] Create Wish List Fail"}}class xn extends de.kPG.EntityLoadAction{constructor(U){super(Re.N4,U.cartId),this.payload=U,this.type=Tt}}class Gn extends de.kPG.EntitySuccessAction{constructor(U){super(Re.N4,U.cartId),this.payload=U,this.type=bt}}class kn extends de.kPG.EntityFailAction{constructor(U){super(Re.N4,U.cartId,U.error),this.payload=U,this.type="[Wish List] Load Wish List Fail"}}function yn(y){return`wishlist${y}`}let wn=(()=>{class y{constructor(k,se,Xe,jt){this.store=k,this.userAccountFacade=se,this.multiCartFacade=Xe,this.userIdService=jt}createWishList(k,se,Xe){this.store.dispatch(new un({userId:k,name:se,description:Xe}))}getWishList(){return(0,mn.aj)([this.getWishListId(),this.userAccountFacade.get(),this.userIdService.getUserId()]).pipe((0,Te.x)(),(0,Me.b)(([k,se,Xe])=>{!Boolean(k)&&Xe!==de.Fds&&se?.customerId&&this.loadWishList(Xe,se.customerId)}),(0,pt.h)(([k])=>Boolean(k)),(0,ft.w)(([k])=>this.multiCartFacade.getCart(k)))}loadWishList(k,se){this.store.dispatch(new xn({userId:k,cartId:yn(se)}))}addEntry(k){this.getWishListIdWithUserId().subscribe(([se,Xe])=>this.multiCartFacade.addEntry(Xe,se,k,1))}removeEntry(k){this.getWishListIdWithUserId().subscribe(([se,Xe])=>this.multiCartFacade.removeEntry(Xe,se,k.entryNumber))}getWishListLoading(){return this.getWishListId().pipe((0,ft.w)(k=>this.multiCartFacade.isStable(k).pipe((0,nn.U)(se=>!se))))}getWishListId(){return this.multiCartFacade.getCartIdByType(Pt.EI.WISH_LIST)}getWishListIdWithUserId(){return this.getWishListId().pipe((0,Te.x)(),(0,zt.M)(this.userIdService.getUserId(),this.userAccountFacade.get()),(0,Me.b)(([k,se,Xe])=>{!Boolean(k)&&Xe?.customerId&&this.loadWishList(se,Xe.customerId)}),(0,pt.h)(([k])=>Boolean(k)),(0,nn.U)(([k,se])=>[k,se]),(0,hn.q)(1))}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(M.yh),e.LFG(yt.gf),e.LFG(Pt.WT),e.LFG(de.XBV))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac}),y})();const Ln=[wn,{provide:_e,useExisting:wn}],er=[(()=>{class y{constructor(k,se,Xe,jt){this.actions$=k,this.cartConnector=se,this.userIdService=Xe,this.store=jt,this.createWishList$=this.actions$.pipe((0,E.l4)(qe),(0,nn.U)(sn=>sn.payload),(0,ft.w)(sn=>this.cartConnector.create(sn.userId).pipe((0,ft.w)(on=>this.cartConnector.save(sn.userId,on.code??"",sn.name,sn.description).pipe((0,ft.w)(Rn=>[new Vt({cart:Rn,cartId:(0,Re.T6)(Rn,sn.userId)})]),(0,Wt.K)(Rn=>(0,En.D)([new st({cartId:on.code??"",error:(0,de.cxH)(Rn)})]))))))),this.loadWishList$=this.actions$.pipe((0,E.l4)(Tt),(0,nn.U)(sn=>sn.payload),(0,Oe.b)(sn=>{const{userId:on,cartId:Rn}=sn;return this.cartConnector.loadAll(on).pipe((0,ft.w)(Ur=>{const Wo=Rn,gi=Ur.find(Os=>Os.name===Wo),bo=[];return bo.push(gi?new Gn({cart:gi,cartId:(0,Re.T6)(gi,on)}):new un({userId:on,name:Wo})),bo.push(new Re.$.RemoveCart({cartId:Wo})),bo}),(0,Wt.K)(Ur=>(0,En.D)([new kn({cartId:Rn,error:(0,de.cxH)(Ur)})])))})),this.resetWishList$=this.actions$.pipe((0,E.l4)(de.dO9.LANGUAGE_CHANGE,de.dO9.CURRENCY_CHANGE),(0,zt.M)(this.userIdService.getUserId(),this.store.pipe((0,pt.h)(sn=>!!sn.cart),(0,M.Ys)(Re.F5.getCartIdByTypeFactory(Pt.EI.WISH_LIST)))),(0,ft.w)(([,sn,on])=>Boolean(on)?this.cartConnector.load(sn,on).pipe((0,ft.w)(Rn=>[new Gn({cart:Rn??{},cartId:(0,Re.T6)(Rn,sn)})]),(0,Wt.K)(Rn=>(0,En.D)([new kn({cartId:on,error:(0,de.cxH)(Rn)})]))):Ce.E)),this.setWishListId$=this.actions$.pipe((0,E.l4)(We,bt),(0,nn.U)(sn=>{switch(sn.type){case We:case bt:return new Re.$.SetCartTypeIndex({cartType:Pt.EI.WISH_LIST,cartId:sn.meta.entityId})}}),(0,pt.h)(de.pTN)),this.setWishListData$=this.actions$.pipe((0,E.l4)(We,bt),(0,nn.U)(sn=>{switch(sn.type){case We:case bt:return new Re.$.SetCartData({cart:sn.payload.cart,cartId:sn.payload.cartId})}}),(0,pt.h)(de.pTN))}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(E.eX),e.LFG(Re.CQ),e.LFG(de.XBV),e.LFG(M.yh))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac}),(0,Ae.gn)([(0,E.Qm)()],y.prototype,"createWishList$",void 0),(0,Ae.gn)([(0,E.Qm)()],y.prototype,"loadWishList$",void 0),(0,Ae.gn)([(0,E.Qm)()],y.prototype,"resetWishList$",void 0),(0,Ae.gn)([(0,E.Qm)()],y.prototype,"setWishListId$",void 0),(0,Ae.gn)([(0,E.Qm)()],y.prototype,"setWishListData$",void 0),y})()];let Wn=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[E.sQ.forFeature(er)]}),y})(),Le=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[...Ln],imports:[Wn]}),y})(),ke=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[qt,Le]}),y})();var pe=v(7828),Q=v(679);const he={en:{asm:{asm:{mainLogoLabel:"SAP",mainTitle:"Assisted Service Mode",logout:"Sign Out",hideUi:"Close ASM",customers:"Customers",toggleUi:{collapse:"Hide ASM",expand:"Show ASM"},loginForm:{submit:"Sign In",userId:{label:"Agent ID",required:"Agent ID is required"},password:{label:"Password",required:"Password is required"}},customerSearch:{searchTerm:{label:"Customer Name/Email Address"},submit:"Start Session",noMatch:"No customer found."},customerList:{title:"Customer List",description:"Select a customer from one of several provided lists.",tableHeader:{customer:"Customer",name:"Name",email:"Email",phone:"Phone",cart:"Cart",order:"Order"},tableSort:{sortBy:"Sort by",byNameAsc:"Name (Asc)",byNameDesc:"Name (Desc)",byDateAsc:"Date (Asc)",byDateDesc:"Date (Desc)",byOrderDateAsc:"Order date (Asc)",byOrderDateDesc:"Order date (Desc)"},page:{page:"Page {{count}}",previous:"Previous",next:"Next"},noOfCustomers:"{{count}} Customers",noCustomers:"There are currently no customers in this customer list.",noLists:"There are currently no customer lists available. Contact your system administrator.",listsError:"The customer lists could not be retrieved. Please try again later."},bindCart:{cartNumber:"Cart Number",bindCartToCustomer:"Assign Cart to Customer",success:"Cart has been successfully assigned",assignCartId:"Assign a cart id to customer",enterCartId:"Enter cart id",resetCartId:"Reset",dialog:{title:"Assign Anonymous Cart",body:"Do you want to replace the current active cart with the anonymous cart? If you replace the current active cart, it is saved as a saved cart.",actions:{replace:"Replace Cart"}}},csagentTokenExpired:"Your customer support agent session is expired.",endSession:"End Session",agentSessionTimer:{label:"Session Timeout",minutes:"min",reset:"Reset"},auth:{agentLoggedInError:"Cannot login as user when there is an active CS agent session. Please either emulate user or logout CS agent."},error:{noCustomerId:"No customerId found for selected user. Session cannot be started."}}}}},Je={asm:["asm"]};var mt=v(5344);let Kt=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[mt.Kj]:{module:()=>v.e(112).then(v.bind(v,5112)).then(U=>U.AsmModule)}}}),(0,de.A2H)({i18n:{resources:he,chunks:Je}})],imports:[mt.HZ]}),y})();const Tn={en:{importExport:{exportEntries:{exportToCsv:"Export to CSV",exportMessage:"CSV file will download automatically to your device, if it does not please check your browser settings",columnNames:{code:"Code",quantity:"Quantity",name:"Name",price:"Price"}},importEntries:{importProducts:"Import Products"},importEntriesDialog:{importProducts:"Import Products",importProductsSubtitle:"Add products by importing a .CSV file.",importProductsNewSavedCartSubtitle:"Add products by importing a .CSV file and creating a new saved cart.",importProductFileDetails:"Text file should contain list of products with required columns separated by comma: SKU and quantity.",selectFile:"Select File",savedCartName:"Saved Cart Name",savedCartDescription:"Saved Cart Description",optional:"optional",charactersLeft:"characters left: {{count}}",cancel:"Cancel",upload:"Upload",close:"Close",summary:{info:"Do not close or refresh this window while products are being imported.",loadedToCart:"Products has been loaded to cart {{ cartName }}",loaded:"Products has been loaded",loading:"Products are being processed... ({{ count }}/{{ total }})",successes:"{{ successesCount }} out of {{ total }} products have been imported successfully.",warning:"{{ count }} product was not imported totally.",warning_other:"{{ count }} products were not imported totally.",error:"{{ count }} product was not imported.",error_other:"{{ count }} products were not imported.",messages:{unknownIdentifier:'Product SKU "{{ productCode}}" does not exist.',lowStock:"Quantity for {{ productName }}: {{ quantity }} has been reduced to {{ quantityAdded }}.",noStock:"{{ productName }} is currently out of stock.",unknownError:'Unrecognized problem with "{{ productCode }}".',limitExceeded:'Can not add "{{ productCode }}". Limit exceeded.'},show:"Show",hide:"Hide"}}}}},Yn={importExport:["exportEntries","importEntries","importEntriesDialog"]},nr="cartImportExport";let sr=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.i51)({featureModules:{[nr]:{cmsComponents:["ImportExportOrderEntriesComponent","ImportOrderEntriesComponent","ExportOrderEntriesComponent"]}}})]}),y})(),Er=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[nr]:{module:()=>v.e(487).then(v.bind(v,6487)).then(U=>U.ImportExportModule)}}}),(0,de.A2H)({i18n:{resources:Tn,chunks:Yn}})],imports:[sr]}),y})();const ar={en:{quickOrder:{quickOrderCartForm:{entriesWereAdded:"({{ quantity }}) {{ product }} has been added to the cart",entryWasAdded:"{{ product }} has been added to the cart",noResults:"We could not find any products",stockLevelReached:"The maximum stock level has been reached",title:"Quick Order",productCodePlaceholder:"Enter ID",entryProductCode:"Enter Product ID for Quick Order",quantity:"Quantity for Quick Order",addToCart:"Add Product to Quick Order",add:"Add",product:"Product",products:"Products",productCodeLabel:"Product ID",quantityLabel:"Qty"},quickOrderForm:{placeholder:"Enter Product name or SKU",searchBoxLabel:"Enter Product name or SKU for quick order. You can add up to {{ limit }} products per order.",listLimitReached:"The product limit has been reached.",id:"ID {{ id }}",noResults:"We could not find any results",addProduct:"Add product {{ product }}",initialDescription:"When autocomplete results are available use up and down arrows to review and enter to select.",productsResults:"{{ count }} products are available.",quickOrderSearch:"Find product for quick order"},quickOrderList:{addToCart:"Add to cart",emptyList:"Empty list",header:"Add Products/SKUs",subHeader:"You can add up to {{ limit }} valid SKU at a time.",errorProceedingToCart:"Error proceeding to Cart.",warningProceedingToCart:"Warning proceeding to Cart.",successfullyAddedToCart:"Successfully added to Cart.",errors:{productIsOutOfStock:"{{ name }} (#{{code}}) is out of stock.",reviewErrors:"Please review these errors.",listIsFull:"The list is full, add these {{ count }} products to Cart in order to continue.",nonPurchasableError:"Product {{ name }} cannot be purchased",outOfStockErrorFound:"{{count}} out of stock product was not added.",outOfStockErrorFound_other:"{{count}} out of stock products were not added."},warnings:{productWasReduced:"Quantity for {{ name }} (#{{code}}) was reduced to {{ quantityAdded}}.",reviewWarnings:"Please review these warnings.",reduceWarningFound:"{{count}} product quantity was reduced.",reduceWarningFound_other:"{{count}} products quantity were reduced."},successes:{productAddedToCart:"{{ name }} (#{{code}}) was added to cart.",addedToCartFound:"{{ count }} product was added to cart.",addedToCartFound_other:"{{ count }} products were added to cart."},informations:{addProductBeforeAddingToCart:"Add products to the list before adding to the cart."},undo:"UNDO",revokeUndo:'Revoked product "{{name}}" deletion.',productWasDeleted:'Product "{{ name }}" moved to trash.'},quickOrderTable:{product:"Product",id:"ID",price:"Price",quantity:"QTY",itemPrice:"Item price",qty:"Qty",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",listCleared:"Quick order list has been cleared",addedtoCart:"Quick order list has been added to the cart",caption:"Quick order contents."}}}},_r={quickOrder:["quickOrderCartForm","quickOrderForm","quickOrderList","quickOrderTable"]};var Nn=v(8581);let Hn=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Nn.Jx]:{module:()=>v.e(464).then(v.bind(v,8464)).then(U=>U.QuickOrderModule)}}}),(0,de.A2H)({i18n:{resources:ar,chunks:_r}})],imports:[Nn.e$]}),y})();const Be={en:{savedCart:{savedCartDetails:{cartName:"Name",cartDescription:"Description",cartId:"ID",dateSaved:"Date Saved",items:"Items",quantity:"Quantity",total:"Total",editSavedCart:"Edit Saved Cart",deleteSavedCart:"Delete Saved Cart",addSelectedItems:"Add selected items",emptyCartItems:"Empty Cart Items"},savedCartList:{savedCarts:"Saved Carts ({{count}})",cartName:"Name",cartId:"Id",dateSaved:"Date Saved",cartDescription:"Description",quantity:"Qty",total:"Total",actions:"Actions",makeCartActive:"Make cart active",notFound:"No Saved Carts Found",swapCartNoActiveCart:"Existing cart is activated by {{cartName}} successfully.",swapCartWithActiveCart:"Existing cart is activated by {{cartName}} successfully. Your previous items were saved in a cart {{previousCartName}}."},savedCartCartPage:{messages:{cartSaved:'Your cart items have been successfully saved for later in the "{{cartName}}" cart'}},savedCartDialog:{saveForLater:"Save For Later",itemsSavedForLater:"All of the items in your cart will be saved for later",savedCartName:"Saved Cart Name",savedCartDescription:"Saved Cart Description",optional:"optional",charactersLeft:"characters left: {{count}}",cancel:"Cancel",save:"Save",restore:"Restore",followingCartDelete:"The following saved cart will be deleted",followingCartRestore:"The following saved cart will be restored as the active cart",delete:"Delete",deleteCartSuccess:"Cart Deleted Successfully",editCartSuccess:"Cart Edited Successfully",editSavedCart:"Edit Saved Cart",deleteSavedCart:"Delete Saved Cart",restoreSavedCart:"Restore Saved Cart",name:"Name",id:"ID",description:"Description",quantity:"QTY",total:"Total",keepCopySavedCart:"Keep a copy of this cart in the saved carts list",defaultCloneCartName:"Copy of {{name}}",nameOfCloneCart:"Name of copied cart"},addToSavedCart:{savedCarts:"Saved carts",saveCartForLater:"Save cart for later"}}}},_t={savedCart:["savedCartDetails","savedCartList","savedCartCartPage","savedCartDialog","addToSavedCart"]};var N=v(950);let xe=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[N.UQ]:{module:()=>v.e(980).then(v.bind(v,2980)).then(U=>U.SavedCartModule)}}}),(0,de.A2H)({i18n:{resources:Be,chunks:_t}})],imports:[N.$O]}),y})();const He={en:{checkoutB2B:{checkoutB2B:{noPoNumber:"None",poNumber:"Purchase order number (optional)",costCenter:"Cost Center",placeholder:"Enter P.O",availableLabel:"Delivery addresses available to you depend on the cost center's unit",invalid:{accountType:"Your account does not allow you to checkout here."},methodOfPayment:{paymentType:"Payment Type"},review:{poNumber:"Purchase Order Number"},progress:{methodOfPayment:"Method of Payment"},invalidCostCenter:"Invalid cost center."}}}},Rt={checkoutB2B:["checkoutB2B"]};var rn=v(1487);const Jn={en:{checkout:{checkout:{backToCart:"Back to cart"},checkoutProgress:{label:"Checkout Progress",deliveryAddress:"Delivery Address",deliveryMode:"Delivery Mode",paymentDetails:"Payment Details",reviewOrder:"Review Order"},checkoutAddress:{deliveryAddress:"Delivery Address",selectYourDeliveryAddress:"Select your Delivery Address",defaultDeliveryAddress:"Default Delivery Address",addNewAddress:"Add New Address",shipToThisAddress:"Ship to this address",deliveryAddressSelected:"Delivery address selected"},checkoutMode:{deliveryMethod:"Delivery Method",standardDelivery:"Standard Delivery",premiumDelivery:"Premium Delivery"},checkoutReview:{review:"Review",orderItems:"Order Items",confirmThatRead:"I am confirming that I have read and agreed with the",placeOrder:"Place Order",termsAndConditions:"Terms & Conditions",editDeliveryAddressDetails:"Edit delivery address details, opens Delivery Address page",editPaymentDetails:"Edit payment details, opens Payment Details page",editPaymentType:"Edit payment method, opens Method of Payment page",editDeliveryMode:"Edit delivery mode, opens Delivery Mode page",orderInProcess:"Order is in process. Please wait."},checkoutOrderConfirmation:{confirmationOfOrder:"Confirmation of Order:",thankYou:"Thank you for your order!",invoiceHasBeenSentByEmail:"An invoice has been sent by email. You should receive it soon.",orderItems:"Order Items",orderPlacedSuccessfully:"Order placed successfully",createAccount:"Create an account?",createAccountForNext:"Create an account for <{{email}}> for a faster checkout on your next visit."}}}},fr={checkout:["checkout","checkoutProgress","checkoutAddress","checkoutMode","checkoutReview","checkoutOrderConfirmation"]};var hr=v(7935);let eo=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[hr.W$]:{module:()=>v.e(725).then(v.bind(v,725)).then(U=>U.CheckoutWrapperModule)}}}),(0,de.A2H)({i18n:{resources:Jn,chunks:fr}}),(0,de.A2H)({i18n:{resources:He,chunks:Rt}})],imports:[hr.Rv,rn.CN]}),y})();var To=v(3966),to=v(2654),Rr=v(1086),ci=v(4006),no=v(7039),xo=v(2453);function Bo(y,U){if(1&y){const k=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"cx-card",17),e.NdJ("sendCard",function(){const jt=e.CHM(k).$implicit,sn=e.oxw(5);return e.KtG(sn.selectPaymentMethod(jt.paymentMethod))}),e.qZA()()()}if(2&y){const k=U.$implicit;e.xp6(2),e.Q6J("border",!0)("fitToContainer",!0)("content",k.content)}}function Xo(y,U){if(1&y){const k=e.EpF();e.ynx(0),e.TgZ(1,"p",7),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"div",8)(5,"div",9)(6,"button",10),e.NdJ("click",function(){e.CHM(k);const Xe=e.oxw(4);return e.KtG(Xe.showNewPaymentForm())}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA()()(),e.TgZ(9,"div",11),e.YNc(10,Bo,3,3,"div",12),e.qZA(),e.TgZ(11,"div",13)(12,"div",9)(13,"button",10),e.NdJ("click",function(){e.CHM(k);const Xe=e.oxw(4);return e.KtG(Xe.back())}),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()(),e.TgZ(16,"div",9)(17,"button",14),e.NdJ("click",function(){e.CHM(k);const Xe=e.oxw(4);return e.KtG(Xe.next())}),e.ALo(18,"async"),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&y){const k=e.oxw(3).ngIf,se=e.oxw();let Xe;e.xp6(2),e.hij(" ",e.lcZ(3,6,"paymentForm.choosePaymentMethod")," "),e.xp6(5),e.hij(" ",e.lcZ(8,8,"paymentForm.addNewPayment")," "),e.xp6(3),e.Q6J("ngForOf",k),e.xp6(4),e.hij(" ",e.lcZ(15,10,se.backBtnText)," "),e.xp6(3),e.Q6J("disabled",!(null!=(Xe=e.lcZ(18,12,se.selectedMethod$))&&Xe.id)),e.xp6(2),e.hij(" ",e.lcZ(20,14,"common.continue")," ")}}function jr(y,U){if(1&y&&(e.ynx(0),e._UZ(1,"div",6),e.ALo(2,"cxTranslate"),e.YNc(3,Xo,21,16,"ng-container",2),e.BQk()),2&y){e.oxw();const k=e.MAs(4),se=e.oxw().ngIf,Xe=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(2),e.Q6J("ngIf",(null==se?null:se.length)&&!Xe.newPaymentFormManuallyOpened)("ngIfElse",k)}}function Go(y,U){if(1&y){const k=e.EpF();e.TgZ(0,"cx-dp-payment-form",18),e.NdJ("setPaymentDetails",function(Xe){e.CHM(k);const jt=e.oxw(3);return e.KtG(jt.setPaymentDetails(Xe))})("closeForm",function(){e.CHM(k);const Xe=e.oxw(3);return e.KtG(Xe.hideNewPaymentForm())}),e.qZA()}}function ei(y,U){if(1&y&&(e.ynx(0),e.YNc(1,jr,4,5,"ng-container",2),e.ALo(2,"async"),e.YNc(3,Go,1,0,"ng-template",null,5,e.W1O),e.BQk()),2&y){e.oxw();const k=e.MAs(6),se=e.oxw();e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,se.isUpdating$))("ngIfElse",k)}}function ui(y,U){1&y&&(e.TgZ(0,"div",19),e._UZ(1,"cx-spinner"),e.qZA())}function Eo(y,U){if(1&y){const k=e.EpF();e.TgZ(0,"cx-dp-payment-callback",20),e.NdJ("paymentDetailsAdded",function(Xe){e.CHM(k);const jt=e.oxw(2);return e.KtG(jt.paymentDetailsAdded(Xe))})("closeCallback",function(){e.CHM(k);const Xe=e.oxw(2);return e.KtG(Xe.hideCallbackScreen())}),e.qZA()}}function Ao(y,U){if(1&y&&(e.ynx(0),e.TgZ(1,"h3",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,ei,5,4,"ng-container",2),e.YNc(5,ui,2,0,"ng-template",null,3,e.W1O),e.YNc(7,Eo,1,0,"ng-template",null,4,e.W1O),e.BQk()),2&y){const k=e.MAs(8),se=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,"paymentForm.payment")," "),e.xp6(2),e.Q6J("ngIf",!se.showCallbackScreen)("ngIfElse",k)}}const Cr={backend:{occ:{endpoints:{paymentRequest:"users/${userId}/carts/${cartId}/payment/digitalPayments/request",paymentDetails:"users/${userId}/carts/${cartId}/payment/digitalPayments/response"}}}},ti=new e.OlP("DpDetailsNormalizer"),Mo=new e.OlP("DpRequestNormalizer");class ni{}let Dr=(()=>{class y{convert(k,se){return void 0===se&&(se={...k}),se}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ro=(()=>{class y{convert(k,se){return void 0===se&&(se={...k}),se.url=k.postUrl,se.sessionId=k?.parameters?.entry?.find(Xe=>"session_id"===Xe.key)?.value,se.signature=k?.parameters?.entry?.find(Xe=>"signature"===Xe.key)?.value,se}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const vo="current",oo="x-card-registration-status";let _o=(()=>{class y{constructor(k,se,Xe){this.http=k,this.occEndpoints=se,this.converter=Xe,this.paramEncoder=new de.qug}createPaymentRequest(k,se=vo){const Xe=this.occEndpoints.buildUrl("paymentRequest",{urlParams:{userId:k,cartId:se}});return this.http.post(Xe,null).pipe(this.converter.pipeable(Mo))}createPaymentDetails(k,se,Xe,jt=vo){let sn=new h.LE({encoder:this.paramEncoder});sn=sn.append("sid",k),sn=sn.append("sign",se);const on=this.occEndpoints.buildUrl("paymentDetails",{urlParams:{userId:Xe,cartId:jt}});return this.http.post(on,null,{params:sn}).pipe(this.converter.pipeable(ti))}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(h.eN),e.LFG(de.Lz0),e.LFG(de.IXI))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac}),y})(),li=(()=>{class y{constructor(k,se,Xe,jt){this.dpAdapter=k,this.command=se,this.query=Xe,this.userIdService=jt,this.RequestUrlQuery=this.query.create(()=>this.userIdService.takeUserId().pipe((0,ft.w)(sn=>this.dpAdapter.createPaymentRequest(sn)))),this.createPaymentDetailsCommand=this.command.create(sn=>this.userIdService.takeUserId().pipe((0,ft.w)(on=>this.dpAdapter.createPaymentDetails(sn.sessionId,sn.signature,on))),{strategy:de.flE.Queue})}getCardRegistrationDetails(){return this.RequestUrlQuery.get()}createPaymentDetails(k,se){return this.createPaymentDetailsCommand.execute({sessionId:k,signature:se})}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(ni),e.LFG(de.VDr),e.LFG(de._7J),e.LFG(de.XBV))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Kn="digital-payment.checkout.request";let Ho=(()=>{class y{constructor(k){this.statePersistenceService=k,this.subscription=new to.w}syncCardRegistrationState(k){this.subscription.add(this.statePersistenceService.syncWithStorage({key:Kn,state$:(0,Rr.of)(k)}))}readCardRegistrationState(){const k=this.statePersistenceService.readStateFromStorage({key:Kn});return this.clearDpStorage(),k}clearDpStorage(){this.statePersistenceService.syncWithStorage({key:Kn,state$:(0,Rr.of)({})})}ngOnDestroy(){this.subscription.unsubscribe()}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(de.WBb))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),$o=(()=>{class y{constructor(k,se,Xe,jt){this.dpPaymentService=k,this.dpStorageService=se,this.globalMsgService=Xe,this.route=jt,this.closeCallback=new e.vpe,this.paymentDetailsAdded=new e.vpe}ngOnInit(){"successful"===this.route.snapshot.queryParamMap.get(oo)?.toLowerCase()?this.fetchPaymentDetails():(this.globalMsgService.add({key:"dpPaymentForm.cancelledOrFailed"},de.xUg.MSG_TYPE_WARNING),this.closeCallback.emit())}fetchPaymentDetails(){const k=this.dpStorageService.readCardRegistrationState();k?.sessionId&&k?.signature?this.dpPaymentService.createPaymentDetails(k.sessionId,k.signature).subscribe(se=>{se?.id?this.paymentDetailsAdded.emit(se):se&&(this.globalMsgService.add({key:"dpPaymentForm.error.paymentFetch"},de.xUg.MSG_TYPE_ERROR),this.closeCallback.emit())}):(this.globalMsgService.add({key:"dpPaymentForm.error.unknown"},de.xUg.MSG_TYPE_ERROR),this.closeCallback.emit())}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(li),e.Y36(Ho),e.Y36(de.IWp),e.Y36(V.gz))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cx-dp-payment-callback"]],outputs:{closeCallback:"closeCallback",paymentDetailsAdded:"paymentDetailsAdded"},decls:5,vars:3,consts:[[1,"text-center"],[1,"cx-spinner"]],template:function(k,se){1&k&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"cx-spinner"),e.qZA()),2&k&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dpPaymentForm.callback")))},dependencies:[H.ORR,de.X$D],encapsulation:2}),y})(),Io=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[fe.ez,H.Fme,de.LUR]}),y})(),tr=(()=>{class y{constructor(k,se,Xe,jt){this.dpPaymentService=k,this.dpStorageService=se,this.globalMsgService=Xe,this.winRef=jt,this.closeForm=new e.vpe}ngOnInit(){this.dpPaymentService.getCardRegistrationDetails().subscribe(k=>{k?.url?(this.dpStorageService.syncCardRegistrationState(k),this.redirect(k.url)):k&&(this.globalMsgService.add({key:"dpPaymentForm.error.redirect"},de.xUg.MSG_TYPE_ERROR),this.closeForm.emit())})}redirect(k){const se=this.winRef.nativeWindow;se?.location&&(se.location.href=k)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(li),e.Y36(Ho),e.Y36(de.IWp),e.Y36(de.X9E))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cx-dp-payment-form"]],outputs:{closeForm:"closeForm"},decls:5,vars:3,consts:[[1,"text-center"],[1,"cx-spinner"]],template:function(k,se){1&k&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"cx-spinner"),e.qZA()),2&k&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dpPaymentForm.redirect")))},dependencies:[H.ORR,de.X$D],encapsulation:2}),y})(),di=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[fe.ez,ci.UX,no.A0,de.LUR,H.Fme]}),y})(),je=(()=>{class y extends To.UN{constructor(k,se,Xe,jt,sn,on,Rn,Ur){super(k,se,Xe,jt,sn,on,Rn,Ur),this.userPaymentService=k,this.checkoutDeliveryAddressFacade=se,this.checkoutPaymentFacade=Xe,this.activatedRoute=jt,this.translationService=sn,this.activeCartFacade=on,this.checkoutStepService=Rn,this.globalMessageService=Ur,this.showCallbackScreen=!1,this.showCallbackScreen=this.isDpCallback()}isDpCallback(){return!!this.activatedRoute.snapshot.queryParamMap.get(oo)}hideCallbackScreen(){this.showCallbackScreen=!1}paymentDetailsAdded(k){this.savePaymentMethod(k),this.next()}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(de.TWG),e.Y36(xo.E8),e.Y36(xo.zQ),e.Y36(V.gz),e.Y36(de.D7D),e.Y36(Pt.bu),e.Y36(To.hF),e.Y36(de.IWp))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cx-payment-method"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf","ngIfElse"],["loading",""],["loadingPaymentDetails",""],["newPaymentForm",""],["role","status"],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-payment-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-payment-card","col-md-12","col-lg-6"],[1,"cx-payment-card-inner"],[3,"border","fitToContainer","content","sendCard"],[3,"setPaymentDetails","closeForm"],[1,"cx-spinner"],[3,"paymentDetailsAdded","closeCallback"]],template:function(k,se){1&k&&(e.YNc(0,Ao,9,5,"ng-container",0),e.ALo(1,"async")),2&k&&e.Q6J("ngIf",e.lcZ(1,1,se.cards$))},dependencies:[fe.sg,fe.O5,tr,H.AkF,H.ORR,$o,fe.Ov,de.X$D],encapsulation:2,changeDetection:0}),y})(),St=(()=>{class y extends To.IF{}return y.\u0275fac=function(){let U;return function(se){return(U||(U=e.n5z(y)))(se||y)}}(),y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[fe.ez,di,V.Bz,H.dTQ,H.Fme,de.LUR,Io,de.pEA.withConfig({cmsComponents:{CheckoutPaymentDetails:{component:je}}})]}),y})(),lt=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[{provide:ni,useClass:_o},{provide:ti,useExisting:Dr,multi:!0},{provide:Mo,useExisting:ro,multi:!0},li,(0,de.i51)(Cr)],imports:[St]}),y})(),Ht=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[lt]}),y})();const Sn={en:{dpPaymentForm:{dpPaymentForm:{redirect:"You will soon be redirected to third party page for card registration",callback:"Please Wait... Fetching payment details...",cancelledOrFailed:"Card registration failed or cancelled",error:{redirect:"Unable to initiate operation. Please try again",paymentFetch:"Unable to fetch payment details. Please try again.",unknown:"Unknown error occurred while fetching payment. Please contact support"}}}}},Gr={dpPaymentForm:["dpPaymentForm"]};let Vr=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({i18n:{resources:Sn,chunks:Gr}})],imports:[Ht]}),y})();const Qe={en:{epdVisualization:{epdVisualization:{visualViewer:{contentType:{drawing2D:"2D",model3D:"3D"},toolbar:{homeButton:{label:"Home"},zoomButton:{label:"Zoom"},panButton:{label:"Pan"},rotateButton:{label:"Rotate"},isolateButton:{label:"Isolate"},playButton:{label:"Play"},pauseButton:{label:"Pause"},hotspotsButton:{label:"Hotspots",show:"Show",hide:"Hide"},visualViewerAnimationSlider:{label:"Animation Slider",role:"Slider"}}},visualPicking:{visualPickingTab:{noProductReferences:"No spare parts are available for this product."},visualPickingProductList:{description:"Description",itemPrice:"Price",outOfStock:"Out of stock",id:"ID"},visualPickingProductFilter:{input:{placeholder:"Filter by name or id"},searchButton:{label:"search"},resetButton:{label:"reset"}}},errors:{visualLoad:{noMatchingVisualFound:"No matching visualization found",multipleMatchingVisualsFound:"Multiple matching visualizations found",unexpectedLoadError:"Error occurred while loading visualization"}}}}}},at={epdVisualization:["epdVisualization"]};var Cn=v(339);let $n=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Cn.$q]:{module:()=>v.e(300).then(v.bind(v,6300)).then(U=>U.EpdVisualizationModule)}}}),(0,de.A2H)({i18n:{resources:Qe,chunks:at}}),(0,de.A2H)({epdVisualization:{ui5:{bootstrapUrl:"https://sapui5.hana.ondemand.com/1.97.0/resources/sap-ui-core.js"},apis:{baseUrl:""}}})],imports:[Cn.xk]}),y})();const gr={en:{order:{orderDetails:{orderId:"Order #",orderNumber:"Order Number",replenishmentId:"Replenishment #",purchaseOrderId:"Purchase Order #",purchaseOrderNumber:"Purchase Order Number",emptyPurchaseOrderId:"None",none:"None {{value}}",placed:"Placed",placedBy:"Placed By",unit:"Unit",costCenter:"Cost Center",costCenterAndUnit:"Cost Center / Unit",costCenterAndUnitValue:"{{costCenterName}} / {{unitName}}",methodOfPayment:"Method of Payment",payByAccount:"Pay by Account",paidByCreditCard:"(paid by credit card)",status:"Status",active:"Active",shippedOn:"Shipped on",shippingMethod:"Shipping Method",placedOn:"Placed on",startOn:"Start On",nextOrderDate:"Next Order Date",frequency:"Frequency",cancelled:" Cancelled",deliveryStatus_IN_TRANSIT:"In Transit",deliveryStatus_READY_FOR_PICKUP:"Ready for Pickup",deliveryStatus_READY_FOR_SHIPPING:"Ready for Shipping",deliveryStatus_WAITING:"Waiting",deliveryStatus_DELIVERING:"Delivering",deliveryStatus_PICKPACK:"Preparing for Shipment",deliveryStatus_PICKUP_COMPLETE:"Pickup Complete",deliveryStatus_DELIVERY_COMPLETED:"Delivery Complete",deliveryStatus_PAYMENT_NOT_CAPTURED:"Payment Issue",deliveryStatus_IN_PROCESS:"In Process",deliveryStatus_READY:"In Process",deliveryStatus_DELIVERY_REJECTED:"Delivery Rejected",deliveryStatus_SHIPPED:"Shipped",deliveryStatus_TAX_NOT_COMMITTED:"Tax Issue",deliveryStatus_CANCELLED:"Cancelled",statusDisplay_cancelled:"Cancelled",statusDisplay_cancelling:"Cancel Pending",statusDisplay_completed:"Completed",statusDisplay_created:"Created",statusDisplay_error:"Pending",statusDisplay_Error:"Pending",statusDisplay_processing:"Pending",statusDisplay_open:"Open",statusDisplay_pending:{approval:"Pending Approval",merchant:{approval:"Pending Merchant Approval"}},statusDisplay_approved:"Approved",statusDisplay_rejected:"Rejected",statusDisplay_merchant:{approved:"Merchant Approved",rejected:"Merchant Rejected"},statusDisplay_assigned:{admin:"Assigned To Administrator"},consignmentTracking:{action:"Track package",dialog:{header:"Tracking Information",shipped:"Shipped",estimate:"Estimated Delivery",carrier:"Delivery Service",trackingId:"Tracking Number",noTracking:"The package has not been dispatched from the warehouse. The tracking information will be available after the package is shipped.",loadingHeader:"Consignment Tracking"}},cancellationAndReturn:{returnAction:"Request a Return",cancelAction:"Cancel Items",item:"Item",itemPrice:"Item Price",quantity:"Max Quantity",returnQty:"Quantity to Return",cancelQty:"Quantity to Cancel",setAll:"Set all quantities to maximum",totalPrice:"Total",submit:"Submit Request",submitDescription:"Submit Request. Items on this page will be included in the cancellation request.",returnSuccess:"Your return request ({{rma}}) was submitted",cancelSuccess:"Your cancellation request was submitted (original order {{orderCode}} will be updated)"},cancelReplenishment:{title:"Cancel Replenishment",description:"Cancel any future replenishment order?",accept:"Yes",reject:"No",cancelSuccess:"Replenishment order #{{replenishmentOrderCode}} has been successfully cancelled"},caption:"Order contents."},orderHistory:{orderHistory:"Order history",orderId:"Order #",emptyPurchaseOrderId:"None",date:"Date",status:"Status",PONumber:"P.O. Number",total:"Total",noOrders:"We have no order records for this account.",noReplenishmentOrders:"We have no replenishment order records for this account.",startShopping:"Start Shopping",sortBy:"Sort by",sortOrders:"Sort orders",replenishmentOrderHistory:"Replenishment Order History",replenishmentOrderId:"Replenishment #",purchaseOrderNumber:"PO #",costCenter:"Cost Center",startOn:"Start On",frequency:"Frequency",nextOrderDate:"Next Order Date",cancel:"Cancel",cancelled:"Cancelled",replenishmentHistory:"Replenishment History",notFound:"No Orders Found",actions:"Actions"},AccountOrderHistoryTabContainer:{tabs:{AccountOrderHistoryComponent:"ALL ORDERS ({{param}})",OrderReturnRequestListComponent:"RETURNS ({{param}})"},tabPanelContainerRegion:"Group with order history details"},returnRequestList:{returnRequestId:"Return #",orderId:"Order #",date:"Date Created",status:"Status",sortBy:"Sort by",sortReturns:"Sort returns",statusDisplay_APPROVAL_PENDING:"Approval Pending",statusDisplay_CANCELED:"Cancelled",statusDisplay_CANCELLING:"Cancelling",statusDisplay_WAIT:"Wait",statusDisplay_RECEIVED:"Received",statusDisplay_RECEIVING:"Receiving",statusDisplay_APPROVING:"Approving",statusDisplay_REVERSING_PAYMENT:"Reversing Payment",statusDisplay_PAYMENT_REVERSED:"Payment Reversed",statusDisplay_PAYMENT_REVERSAL_FAILED:"Payment Reversal Failed",statusDisplay_REVERSING_TAX:"Reversing Tax",statusDisplay_TAX_REVERSED:"Tax Reversed",statusDisplay_TAX_REVERSAL_FAILED:"Tax Reversal Failed",statusDisplay_COMPLETED:"Completed"},returnRequest:{returnRequestId:"Return Request #",orderCode:"For Order #",status:"Return status",cancel:"Cancel Return Request",item:"Description",itemPrice:"Item Price",returnQty:"Return Quantity",total:"Total",summary:"Return Totals",subtotal:"Subtotal",deliveryCode:"Delivery cost",estimatedRefund:"Estimated refund",note:"The totals are estimated and may not include applicable taxes or other charges.",cancelSuccess:"Your return request ({{rma}}) was cancelled",caption:"Order contents."}}}},Js={order:["orderDetails","orderHistory","AccountOrderHistoryTabContainer","returnRequestList","returnRequest"]};var kr=v(4129);let Z=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[kr.GH]:{module:()=>Promise.all([v.e(745),v.e(182)]).then(v.bind(v,3182)).then(U=>U.OrderModule)}}}),(0,de.A2H)({i18n:{resources:gr,chunks:Js}})],imports:[kr.pF]}),y})();const ce={en:{organization:{organization:{enabled:"Active",disabled:"Disabled",enable:"Enable",disable:"Disable",name:"Name",code:"Code",done:"done",cancel:"Cancel",add:"Add",create:"Create {{name}}",edit:"Edit",save:"Save {{name}}",delete:"Delete",assign:"Manage",active:"Active",status:"Status",details:"Details",messages:{emptyList:"The list is empty"},userRoles:{b2bcustomergroup:"Customer",b2bapprovergroup:"Approver",b2bmanagergroup:"Manager",b2badmingroup:"Admin"},userRights:{unitorderviewergroup:"View Unit-Level Orders"},breadcrumb:"Organization",notification:{noSufficientPermissions:"No sufficient permissions to access this page",notExist:"This item does not exist",disabled:"You cannot edit a disabled item"},confirmation:{cancel:"CANCEL",confirm:"CONFIRM",disable:"DISABLE",delete:"DELETE"},httpHandlers:{conflict:{budget:"Budget with code {{ code }} already exists.",costCenter:"Cost center with code {{ code }} already exists.",unit:"Organizational unit with uid {{ code }} already exists.",user:"User with email {{ code }} already exists",userGroup:"User Group with id {{ code }} already exists",permission:"Approval Permission with code {{ code }} already exists.",unknown:"Server validation error."}}},orgCostCenter:{header:"All cost centers ({{count}})",code:"Code",active:"Status",name:"Name",currency:"Currency",unit:"Parent Unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byCode:"Code"},hint:"All orders placed through your organization's purchase account are linked to a cost center for tracking purposes. Each unit can have multiple cost centers. To limit spending, budgets are assigned to cost centers. A buyer selects a cost center when checking out.",disable:{confirm:"Disable"},messages:{deactivateTitle:"Disable this cost center?",deactivate:"Disabled cost centers cannot be used for placing new orders. Ensure that your unit has at least one cost center. Existing orders are not affected.",confirmEnabled:"Cost Center {{ item.name }} enabled successfully",confirmDisabled:"Cost Center {{ item.name }} disabled successfully",update:"Cost Center {{ item.name }} updated successfully",create:"Cost Center {{ item.name }} created successfully"},info:{disabledEdit:"Enable the cost center to allow editing.",disabledEnable:"Unit must be enabled before this cost center may be enabled."},details:{title:"Cost Center Details",subtitle:"Cost Center: {{ item.name }}"},edit:{title:"Edit Cost Center",subtitle:"Cost Center: {{ item.name }}"},create:{title:"Create Cost Center",subtitle:""},budget:{link:"Budgets"},breadcrumbs:{list:"All cost centers",details:"{{name}}",budgets:"Budgets"}},orgCostCenterBudgets:{title:"Manage budgets",subtitle:"Cost Center: {{ item.name }}",assigned:"Budget {{ item.name }} assigned successfully",unassigned:"Budget {{ item.name }} unassigned successfully"},orgCostCenterAssignedBudgets:{title:"Assigned budgets",subtitle:"Cost Center: {{ item.name }}",assigned:"Budget {{ item.name }} assigned successfully",unassigned:"Budget {{ item.name }} unassigned successfully"},orgBudget:{header:"All budgets ({{count}})",code:"Code",name:"Name",active:"Status",currency:"Currency",amount:"Amount",unit:"Unit",businessUnits:"Unit",dateRange:"Start - End",startDate:"Start",endDate:"End",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byCode:"Code",byValue:"Value"},hint:"Budgets set overall purchase limits and are assigned to cost centers. A buyer selects a cost center when checking out.",details:{title:"Budget Details",subtitle:"Budget: {{ item.name }}"},edit:{title:"Edit Budget",subtitle:"Budget: {{ item.name }}"},create:{title:"Create Budget",subtitle:""},messages:{deactivateTitle:"Disable this budget?",deactivate:"Disabled budgets no longer apply to the cost centers they are assigned to. Ensure that the associated cost center has at least one budget.",confirmEnabled:"Budget {{ item.name }} enabled successfully",confirmDisabled:"Budget {{ item.name }} disabled successfully",update:"Budget {{ item.name }} updated successfully",create:"Budget {{ item.name }} created successfully"},info:{disabledEdit:"Enable the budget to allow editing.",disabledEnable:"Unit must be enabled before this budget may be enabled."},links:{costCenters:"Cost Centers"},breadcrumbs:{list:"All budgets",details:"{{name}}"}},orgBudgetAssignedCostCenters:{title:"Cost centers",subtitle:"Budget: {{ item.name }}"},orgUnit:{header:"All units ({{count}})",unit:"Unit",name:"Name",uid:"ID",approvalProcess:"Approval process",parentUnit:"Parent Unit",active:"Status",hint:"Units represent departments, stores, regions, or any other logical grouping that makes sense to you. The cost centers and delivery addresses available to a buyer when checking out, depend on their unit. Users have access to all child units of their primary unit.",details:{title:"Unit Details",subtitle:"Unit: {{ item.name }}",hint:"Units represent departments, stores, regions, or any other logical grouping that makes sense to you. Disabling a unit disables all children of the unit, including child units, users, approvers, and cost centers. Disabled units cannot be edited."},edit:{title:"Edit Unit",subtitle:"Unit: {{ item.name }}"},create:{title:"Create Unit",subtitle:""},messages:{deactivateTitle:"Disable this unit?",deactivate:"Disabling a unit has wide-ranging affects on your commerce organization. ALL the unit's child units, users, budgets, and cost centers will also disabled.",confirmEnabled:"Unit {{item.name}} enabled successfully",confirmDisabled:"Unit {{item.name}} disabled successfully",update:"Unit {{ item.name }} updated successfully",create:"Unit {{ item.name }} created successfully"},info:{disabledEdit:"Enable the unit to allow editing.",disabledEnable:"Parent must be enabled before this unit may be enabled.",disabledDisable:"Root unit can not be disabled."},links:{units:"Child Units",users:"Users",approvers:"Approvers",shippingAddresses:"Delivery Addresses",costCenters:"Cost Centers"},tree:{expandAll:"Expand all",collapseAll:"Collapse all"},children:{create:{title:"Create child unit",subtitle:""},messages:{create:"Unit {{ item.name }} created successfully"}},costCenters:{create:{title:"Create cost center",subtitle:""}},form:{parentOrgUnit:"Parent business unit",create:"Create Unit",parentOrgUnitNotes:"This unit is the top-level unit for your organization. It cannot be assigned to another unit."},users:{header:"Users in {{code}}",changeUserRoles:"Change user roles",newUser:"New user"},assignRoles:{header:"Manage roles in {{code}}",instructions:{check:"To assign a role to a user, select the role's check box.",uncheck:"To remove a role, clear the role's check box.",changes:"Changes are saved automatically."}},approvers:{header:"Approvers in {{code}}",assign:"Manage approvers",new:"New approver"},assignApprovers:{header:"Manage approvers in {{code}}",instructions:{check:"To assign an approver to this unit, select the user's check box.",uncheck:"To remove an approver, clear the user's check box.",changes:"Changes are saved automatically."},hint:"Users displayed under the Approvers list are assigned approval privileges for the buyers of this unit and of child units. Note that a user who has the approver role is separate from an approver who appears under the Approvers list. If an approver doesn't exist for a unit, or if approvers do not have sufficient approval purchase privileges, an approver higher up the unit hierarchy is found, until an administration is chosen."},breadcrumbs:{list:"All units",details:"{{name}}",children:"Child units",users:"Users",approvers:"Approvers",addresses:"Delivery addresses",addressDetails:"{{formattedAddress}}",costCenters:"Cost Centers"}},orgUnitChildren:{title:"Child units",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"Child unit can not be created for disabled unit."},hint:'Units represent departments, stores, regions, or any other logical grouping that makes sense to you. Users "inherit" child units, meaning buyers have access to cost centers and delivery addresses of child units when checking out.'},orgUnitApprovers:{title:"Manage approvers",subtitle:"Unit: {{item.name}}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully"},orgUnitAssignedApprovers:{title:"Assigned approvers",subtitle:"Unit: {{item.name}}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully",hint:"Users displayed under the Approvers list are assigned approval privileges for the buyers of this unit and of child units. Note that a user who has the approver role is separate from an approver who appears under the Approvers list. If an approver doesn't exist for a unit, or if approvers do not have sufficient approval purchase privileges, an approver higher up the unit hierarchy is found, until an administration is chosen."},orgUnitAssignedRoles:{header:"Manage roles in {{code}}",name:"Name",email:"Email",roles:"Roles",roleCustomer:"Customer",roleApprover:"Approver",roleManager:"Manager",roleAdministrator:"Admin"},orgUnitUsers:{title:"Assigned users",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"User can not be created for disabled unit."},hint:'Users are the buyers, approvers, managers, and administrators of your organization. Each user is assigned a role for making or approving purchases. Users "inherit" child units, meaning buyers have access to cost centers and delivery addresses of child units when checking out.'},orgUnitUserRoles:{title:"User roles and rights",subtitle:"User: {{item.name}}",messages:{rolesUpdated:"Roles successfully updated for {{item.name}}"}},orgUnitAssignedUsers:{title:"Assigned users",subtitle:"Unit: {{item.name}}"},orgUnitCostCenters:{title:"Assigned cost centers",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"Cost center can not be created for disabled unit."},hint:'All orders placed through your organization\'s purchase account are linked to a cost center for tracking purposes. A buyer selects a cost center when checking out using the "Account" purchase method. Each unit can have multiple cost centers, but a single cost center can only be assigned to a single unit. To define ultimate spending limits, budgets are assigned to cost centers. '},orgUnitAddress:{title:"Delivery addresses",subtitle:"Unit: {{item.name}}",country:"Country/Region",titles:"Title",firstName:"First name",lastName:"Last name",formattedAddress:"Address",address1:"Address",address2:"2nd address (optional)",city:"City",state:"State",zipCode:"Zip code",phoneNumber:"Phone number (optional)",streetAddress:"Street Address",aptSuite:"Apt, Suite",selectOne:"Select One...",hint:'When a buyer is checking out using the "Account" purchase method, they much choose a cost center. The delivery addresses available to the buyer depend on the unit of the cost center chosen.',details:{title:"Address details",subtitle:"Unit: {{item.name}}"},edit:{title:"Edit Address"},create:{title:"Create Address"},form:{subtitle:"Unit: {{item.name}}"},messages:{create:"Address {{ item.firstName }} {{ item.lastName }} created successfully",update:"Address {{ item.firstName }} {{ item.lastName }} updated successfully",delete:"The address cannot be brought back. Existing orders are not affected.",deleteTitle:"Delete this address?",deleted:"Address {{ item.firstName }} {{ item.lastName }} deleted successfully"}},orgUserGroup:{header:"All user groups ({{count}})",disabled:"(disabled)",uid:"Code",name:"Name",unit:"Unit",orgUnit:"Unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byGroupID:"Group"},hint:"User groups allow you to combine users together in one group, for the purposes of assigning purchase limits for many users at once.",details:{title:"User group Details",subtitle:"User group: {{ item.name }}"},edit:{title:"Edit User group",subtitle:"User group: {{ item.name }}"},create:{title:"Create User group",subtitle:""},links:{user:"Users",permission:"Purchase limits"},messages:{update:"User Group {{ item.name }} updated successfully",create:"User Group {{ item.name }} created successfully",deleteTitle:"Delete this user group?",delete:"The users in this group are not affected when the user group is deleted.",deleted:"User Group {{ item.name }} deleted successfully"},breadcrumbs:{list:"All user groups",details:"{{name}}",users:"Users",permissions:"Purchase limits"}},orgUserGroupUsers:{title:"Manage users",subtitle:"User group: {{ item.name }}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully",unassignAll:"Unassign All",unassignAllConfirmation:"All users unassigned successfully"},orgUserGroupAssignedUsers:{title:"Assigned users",subtitle:"User group: {{ item.name }}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully"},orgUserGroupPermissions:{title:"Manage purchase limits",subtitle:"Limit: {{ item.name }}",assigned:"Purchase limits {{item.code}} assigned successfully",unassigned:"Purchase limits {{item.code}} unassigned successfully"},orgUserGroupAssignedPermissions:{title:"Assigned purchase limits",subtitle:"Limit: {{ item.name }}",assigned:"Purchase limits {{item.code}} assigned successfully",unassigned:"Purchase limits {{item.code}} unassigned successfully"},orgUser:{header:"All users ({{count}})",disabled:"(disabled)",uid:"Email",active:"Status",name:"Name",firstName:"First name",lastName:"Last name",email:"Email",orgUnit:"Unit",unit:"Unit",roles:"Roles",rights:"Rights",title:"Title",hint:"Users are the buyers, approvers, managers, and administrators of your organization. Each user is assigned a role for making or approving purchases. Each user belongs to a unit, and they have access to all child units of their primary unit.",unitApprover:"Unit approver",assignApprover:"Add the user to approvers for the unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnit:"Unit"},details:{title:"User Details",subtitle:"User: {{ item.name }}"},edit:{title:"Edit User",subtitle:"User: {{ item.name }}"},create:{title:"Create User",subtitle:""},links:{password:"Change password",approvers:"Approvers",userGroup:"User groups",permission:"Purchase limits",rolesAndRights:"Roles and Rights"},messages:{deactivateTitle:"Disable this user?",deactivate:"Disabled users cannot log onto the storefront and place orders.",confirmEnabled:"User {{item.firstName}} {{item.lastName}} enabled successfully",confirmDisabled:"User {{item.firstName}} {{item.lastName}} disabled successfully",update:"User {{item.firstName}} {{item.lastName}} updated successfully",create:"User {{item.firstName}} {{item.lastName}} created successfully",updatePassword:"User {{item.firstName}} {{item.lastName}} password updated successfully"},info:{disabledEdit:"Enable the user to allow editing.",disabledEnable:"Unit must be enabled before this user may be enabled."},approver:{link:"Approvers",header:"Approvers in {{code}}",assign:"Assign Approvers",assignHeader:"Assign Approvers in {{code}}",back:"Back",new:"New approver",instructions:{check:"To assign an approver to this user, select the user's check box.",uncheck:"To remove an approver, clear the user's check box.",changes:"Changes are saved automatically."}},userGroup:{link:"User groups",header:"User groups in {{code}}",assign:"Assign user groups",assignHeader:"Assign user groups in {{code}}",back:"Back",instructions:{check:"To assign an user group to this user, select the user's check box.",uncheck:"To remove aa user group, clear the user's check box.",changes:"Changes are saved automatically."}},permission:{link:"Purchase limits",header:"Purchase limits in {{code}}",assign:"Assign purchase limits",assignHeader:"Assign purchase limits in {{code}}",back:"Back",instructions:{check:"To assign a purchase limits to this user, select its check box.",uncheck:"To unassign a purchase limits, clear its check box.",changes:"Changes are saved automatically."},per:{undefined:"",MONTH:"per Month",YEAR:"per Year",WEEK:"per Week",QUARTER:"per Quarter"}},password:{title:"Change password",subtitle:"User: {{ item.email }}",newPassword:"New password",confirmPassword:"Retype new password"},breadcrumbs:{list:"All users",details:"{{name}}",userGroups:"User groups",approvers:"Approvers",permissions:"Purchase limits"}},orgUserUserGroups:{title:"Manage user groups",subtitle:"User: {{ item.name }}",assigned:"User group {{item.name}} assigned successfully",unassigned:"User group {{item.name}} unassigned successfully"},orgUserAssignedUserGroups:{title:"Assigned user groups",subtitle:"User: {{ item.name }}",assigned:"User group {{item.name}} assigned successfully",unassigned:"User group {{item.name}} unassigned successfully"},orgUserApprovers:{title:"Manage approvers",subtitle:"User: {{ item.name }}",assigned:"Approver {{ item.name }} assigned successfully",unassigned:"Approver {{ item.name }} unassigned successfully"},orgUserAssignedApprovers:{title:"Assigned approvers",subtitle:"User: {{ item.name }}",assigned:"Approver {{ item.name }} assigned successfully",unassigned:"Approver {{ item.name }} unassigned successfully"},orgUserPermissions:{title:"Manage purchase limits",subtitle:"User: {{ item.name }}",assigned:"Purchase limit {{ item.code }} assigned successfully",unassigned:"Purchase limit {{ item.code }} unassigned successfully"},orgUserAssignedPermissions:{title:"Assigned purchase limits",subtitle:"User: {{ item.name }}",assigned:"Purchase limit {{ item.code }} assigned successfully",unassigned:"Purchase limit {{ item.code }} unassigned successfully"},orgPurchaseLimit:{header:"All purchase limits ({{count}})",name:"Name",code:"Code",active:"Status",limit:"Limit",orderApprovalPermissionType:"Type",threshold:"Threshold",periodRange:"Period",currency:"Currency",orgUnit:"Parent Unit",unit:"Parent Unit",actions:"",hint:"Purchase limits help control spending by defining how much buyers can spend per order or per week, month, quarter, or year. Purchase limits are assigned to users or user groups. Purchase limits are also assigned to approvers, defining how much they are permitted to approve. You can assign purchase limits to many users at once with user groups.",details:{title:"Purchase Limit Details",subtitle:"Purchase Limit: {{ item.code }}"},edit:{title:"Edit Purchase Limit",subtitle:"Purchase limits : {{ item.code }}"},create:{title:"Create Purchase Limit",subtitle:""},sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit"},messages:{deactivateTitle:"Disable this purchase limit?",deactivate:"Disabled purchase limits can no longer be assigned to a user or user group. Current assignments will have no effect.",confirmEnabled:"Purchase Limit {{ item.code }} enabled successfully",confirmDisabled:"Purchase Limit {{ item.code }} disabled successfully",update:"Purchase Limit {{ item.code }} updated successfully",create:"Purchase Limit {{ item.code }} created successfully"},info:{disabledEdit:"Enable the purchase limit to allow editing.",disabledEnable:"Unit must be enabled before this purchase limit may be enabled."},per:{DAY:"per day",WEEK:"per week",MONTH:"per month",QUARTER:"per quarter",YEAR:"per year"},breadcrumbs:{list:"All purchase limits",details:"{{code}}"}}}}},$e={organization:["orgBudget","orgBudgetAssignedCostCenters","orgCostCenter","orgCostCenterBudgets","orgCostCenterAssignedBudgets","orgUnit","orgUnitChildren","orgUnitAssignedRoles","orgUnitApprovers","orgUnitAssignedApprovers","orgUnitCostCenters","orgUnitUsers","orgUnitUserRoles","orgUnitAssignedUsers","orgUnitAddress","orgUserGroup","orgUserGroupUsers","orgUserGroupAssignedUsers","orgUserGroupPermissions","orgUserGroupAssignedPermissions","orgUser","orgUserApprovers","orgUserAssignedApprovers","orgUserPermissions","orgUserAssignedPermissions","orgUserUserGroups","orgUserAssignedUserGroups","orgPurchaseLimit"]};var Et=v(5883);let xt=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Et.E1]:{module:()=>v.e(446).then(v.bind(v,4446)).then(U=>U.AdministrationModule)}}}),(0,de.A2H)({i18n:{resources:ce,chunks:$e}})],imports:[Et.al]}),y})();const br={en:{orderApproval:{orderApprovalDetails:{back:"Back To List",showForm_APPROVE:"Approve Order...",showForm_REJECT:"Reject Order...",form:{title_APPROVE:"Approve order {{orderCode}} totalling {{orderTotal}}",title_REJECT:"Reject order {{orderCode}} totalling {{orderTotal}}",submit_APPROVE:"Approve",submit_REJECT:"Reject",cancel:"Cancel",comment_APPROVE:{label:"Comment (optional, maximum 255 characters)",placeholder:""},comment_REJECT:{label:"Comment (maximum 255 characters)",placeholder:""}},permissionResults:{header:"Customer Approval Details",permission:"Permission",approver:"Approver",status:"Status",approverComments:"Approver Comments",noApprovalComments:"None",permissionType_B2BBudgetExceededPermission:"The budget associated with the chosen cost center has been exceeded",permissionType_B2BOrderThresholdPermission:"Order total exceeded the per-order limit",permissionType_B2BOrderThresholdTimespanPermission:"Order total exceeded the per-timespan limit"}},orderApprovalList:{orderCode:"Order #",POCode:"PO #",placedBy:"Placed by",date:"Date",status:"Status",total:"Total",none:"None",emptyList:"There are no orders to approve at this time.",orderApprovalList:"Order Approval List"},orderApprovalGlobal:{notification:{noSufficientPermissions:"No sufficient permissions to access this page."}}}}},jn={orderApproval:["orderApprovalDetails","orderApprovalList","orderApprovalGlobal"]},Pr="organizationOrderApproval";function Ro(){return{featureModules:{[Pr]:{cmsComponents:["OrderApprovalListComponent","OrderApprovalDetailTotalsComponent","OrderApprovalDetailApprovalDetailsComponent","OrderApprovalDetailShippingComponent","OrderApprovalDetailItemsComponent","OrderApprovalDetailFormComponent","AccountOrderDetailsApprovalDetailsComponent"],dependencies:[kr.GH]}}}}let Do=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.x2j)(Ro),(0,de.i51)({routing:{routes:{orderApprovals:{paths:["my-account/approval-dashboard"]},orderApprovalDetails:{paths:["my-account/approval/:approvalCode"]}}}})],imports:[V.Bz.forChild([{path:null,canActivate:[de.a1M,H.al$],component:H.wAB,data:{cxRoute:"orderApprovalDetails"}}])]}),y})(),fi=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Pr]:{module:()=>Promise.all([v.e(745),v.e(827)]).then(v.bind(v,9827)).then(U=>U.OrderApprovalModule)}}}),(0,de.A2H)({i18n:{resources:br,chunks:jn}})],imports:[Do]}),y})();const Di={en:{configurator:{configurator:{header:{consistent:"Consistent",complete:"Complete",configId:"Configuration ID",toconfig:"Configure",editConfiguration:"Edit Configuration",displayConfiguration:"Display Configuration",resolveIssues:"Resolve Issues",resolveConflicts:"Resolve Conflicts",updateMessage:"The configuration is being updated in the background",showMore:"show more",showLess:"show less",items:"{{count}} item",items_other:"{{count}} items",show:"show",hide:"hide",multipleWarnings:"There are multiple warnings.",reviewWarnings:"Review these warnings",multipleErrors:"There are multiple errors.",reviewErrors:"Review these errors",kbKeyName:"Kb name",kbKeyLogsys:"Kb logical system",kbKeyVersion:"Kb version",kbKeyBuildNr:"Kb build number"},tabBar:{configuration:"Configuration",overview:"Overview"},notificationBanner:{numberOfIssues:"{{count}} issue must be resolved before checkout.",numberOfIssues_other:"{{count}} issues must be resolved before checkout.",numberOfConflicts:"{{count}} conflict must be resolved before checkout.",numberOfConflicts_other:"{{count}} conflicts must be resolved before checkout."},attribute:{id:"ID",quantity:"Qty",caption:"Attributes",notSupported:"Attribute Type is not supported.",requiredAttribute:"{{param}} required",defaultRequiredMessage:"Enter a value for the required field",singleSelectRequiredMessage:"Select a value",singleSelectAdditionalRequiredMessage:"Select or enter a value",multiSelectRequiredMessage:"Select one or more values",wrongNumericFormat:"Wrong format, this numerical attribute should be entered according to pattern {{pattern}}",deselectionNotPossible:"Add a different product before removing this one",dropDownSelectMsg:"Make a selection",noOptionSelectedMsg:"No option selected",notVisibleAttributeMsg:"This attribute is not visible to the user"},button:{previous:"Previous",next:"Next",back:"Back",more:"more",less:"less",deselect:"Deselect",select:"Select",add:"Add",remove:"Remove",exit:"Exit Configuration",exitMobile:"Exit",cancelConfiguration:"Cancel Configuration",cancelConfigurationMobile:"Cancel",filterOverview:"Filter",filterOverviewWithCount:"Filter ({{numAppliedFilters}})"},icon:{groupComplete:"Complete",groupIncomplete:"Incomplete",groupConflict:"Conflict",subgroup:"has sub-groups"},priceSummary:{basePrice:"Base Price",selectedOptions:"Selected Options",totalPrice:"Total"},addToCart:{button:"Add to Cart",buttonAfterAddToCart:"Continue to Cart",buttonUpdateCart:"Done",buttonDisplayOnly:"Done",confirmation:"Configuration has been added to the cart",confirmationUpdate:"Cart has been updated with configuration"},overviewForm:{noAttributeHeader:"No Results",noAttributeText:"Remove filter(s) to see Overview content",itemPrice:"Item Price"},overviewSidebar:{menu:"Menu",filter:"Filter"},overviewFilter:{title:"Select Filters",byOption:"Filter by Option",byGroup:"Filter by Group",byPrice:"Price-Relevant Options",mySelections:"My Selections",removeAll:"Remove All",removeAllFilters:"Remove All Filters",removeByPrice:"Remove Price-Relevant Filter",removeMySelections:"Remove My Selections Filter",removeByGroup:"Remove Group Filter for group {{group}}"},group:{general:"General",conflictHeader:"Resolve conflicts",conflictGroup:"Conflict for {{attribute}}"},conflict:{suggestionTitle:"Suggestion {{number}}:",suggestionText:'Change value for "{{ attribute }}"',viewConflictDetails:"Conflict Detected - View Details",conflictDetected:"Conflict Detected",viewConfigurationDetails:"View In Configuration"},a11y:{configureProduct:"Configure product",cartEntryBundleInfo:"There is an item ",cartEntryBundleInfo_other:"There are {{items}} items ",cartEntryBundleName:"Item {{ name }}",cartEntryBundleNameWithQuantity:"Item {{ name }} item quantity {{quantity}}",cartEntryBundleNameWithPrice:"Item {{ name }} item price {{price}}",cartEntryBundle:"Item {{ name }} item price {{price}} item quantity {{quantity}}",cartEntryInfoIntro:"Product has the following attributes and selected values",cartEntryInfo:"Attribute {{ attribute }} has selected value {{value}}",nameOfAttribute:"Name of Attribute",valueOfAttribute:"Value of attribute {{ attribute }}",forAttribute:"{{ value }} for attribute {{ attribute }}",valueOfAttributeFull:"Value {{ value }} of attribute {{ attribute }}",valueOfAttributeFullWithPrice:"Value {{ value }} of attribute {{ attribute }}, Surcharge {{ price }}",selectedValueOfAttributeFull:"Selected value {{ value }} of attribute {{ attribute }}",selectedValueOfAttributeFullWithPrice:"Selected value {{ value }} of attribute {{ attribute }}, Surcharge {{ price }}",readOnlyValueOfAttributeFull:"Read-only value {{ value }} of attribute {{ attribute }}",valueOfAttributeBlank:"Value of attribute {{ attribute }} is blank",value:"Value {{ value }}",attribute:"Attribute {{ attribute }}",requiredAttribute:"Attribute {{param}} is required",listOfAttributesAndValues:"List of attributes and their values:",editAttributesAndValues:"Edit values of attributes:",group:"{{ group }} group of attributes",itemOfAttributeSelected:"Item {{ item }} of attribute {{ attribute }} is selected. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedWithPrice:"Item {{ item }} of attribute {{ attribute }} is selected, Surcharge {{ price }}. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedPressToUnselect:"Item {{ item }} of attribute {{ attribute }} is selected. Press button to unselect. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedPressToUnselectWithPrice:"Item {{ item }} of attribute {{ attribute }} is selected, Surcharge {{ price }} Press button to unselect. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeUnselected:"Item {{ item }} of attribute {{ attribute }} is unselected. Press button to select. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeUnselectedWithPrice:"Item {{ item }} of attribute {{ attribute }} is unselected, Surcharge {{ price }}. Press button to select. {{ itemIndex }} of {{ itemCount }}",selectNoItemOfAttribute:"To select no item for attribute {{ attribute }} press button. {{ itemIndex }} of {{ itemCount }}",itemOfAttribute:"Item of attribute {{ attribute }}",itemOfAttributeFull:"Item {{ item }} of attribute {{ attribute }}",itemOfAttributeFullWithPrice:"Item {{ item }} of attribute {{ attribute }}, Surcharge {{ price }}",itemOfAttributeFullWithQuantity:"Item {{ item }} of attribute {{ attribute }}, Quantity {{ quantity }}",itemOfAttributeFullWithPriceAndQuantity:"Item {{ item }} of attribute {{ attribute }}, Quantity {{ quantity }}, Surcharge {{ price }}",itemDescription:"Description for item {{ item }}",listbox:"Listbox with {{ count }} values.",valueSurcharge:"Value surcharge",conflictDetected:"Conflict detected! Check the conflicts at top of group list.",conflictsInConfiguration:"There are conflicts in your configuration. Number of conflicts: {{ numberOfConflicts }}, Select for more details.",listOfGroups:"List of groups",inListOfGroups:"You are in the group list",groupName:"Group {{ group }}",groupBack:"You are in a sub-group. Select to go back.",conflictBack:"You are in the conflict solver. Select to go back or select next tabs to solve conflicts.",iconConflict:"Group has conflicts.",iconIncomplete:"Group has required attributes without selected values.",iconComplete:"Group is complete.",iconSubGroup:"Group has a sub-group.",next:"Navigate to next group.",previous:"Navigate to previous group.",showMoreProductInfo:"Show more information for product {{ product }} or continue to configuration.",showLessProductInfo:"Show less information for product {{ product }} or continue to configuration.",productName:"Product Name",productCode:"Product Code",productDescription:"Product description",kbKeyName:"Kb name {{name}}",kbKeyLogsys:"Kb logical system {{logsys}}",kbKeyVersion:"Kb version {{version}}",kbKeyBuildNr:"Kb build number {{number}}",configurationPage:"You are on the configuration page.",configurationPageLink:"Navigate to configuration  page.",overviewPage:"You are on the overview page. Check attributes and their selected values with reading mode of your screen reader.",overviewPageLink:"Navigate to configuration overview page.",navigateToConflict:"Follow link to get more details on conflict for attribute {{ attribute }}.",numericIntervalStandard:"Enter a value between {{ minValue }} and {{ maxValue }}",numericIntervalStandardOpen:"(Endpoints are not included)",numericIntervalStandardLowerEndpointNotIncluded:"(The lower endpoint is not included)",numericIntervalStandardUpperEndpointNotIncluded:"(The upper endpoint is not included)",numericInfiniteIntervalMinValueIncluded:"Enter a value greater than or equal to {{ value }}",numericInfiniteIntervalMinValue:"Enter a value greater than {{ value }}",numericInfiniteIntervalMaxValueIncluded:"Enter a value less than or equal to {{ value }}",numericInfiniteIntervalMaxValue:"Enter a value less than {{ value }}",numericIntervalSingleValue:"Enter {{ value }}",combinedIntervalsText:"{{ combinedInterval }} or {{ newInterval }}",additionalValue:"You can also enter an additional value.",addToCartPrices:"Base Price {{basePrice}}, Selected Options {{selectedOptions}}, Total Price {{totalPrice}}",filterOverview:"Open configuration overview filter menu",filterOverviewWithCount:"Open the configuration overview filter menu - {{numAppliedFilters}} active filters",closeFilterMenu:"Close the configuration overview filter menu and apply the selected filters",filterOverviewByPrice:"Filter configuration overview by price-relevant options",filterOverviewByMySelections:"Filter configuration overview by your selections",filterOverviewByGroup:"Filter configuration overview by group {{groupName}}"},variantCarousel:{title:"Pre-configured Versions"}}}}},qs={};var Aa=v(2535),is=v(6506);const Xs="productConfiguratorTextfield",ru=["TextfieldConfigurationForm"];function sc(){return{featureModules:{[Xs]:{cmsComponents:ru}}}}let ac=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.x2j)(sc)]}),y})();const ou={routing:{routes:{configureTEXTFIELD:{paths:["configure/textfield/:ownerType/entityKey/:entityKey"]},configureOverviewTEXTFIELD:{paths:["configure-overview/textfield/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/textfield/:ownerType/entityKey/:entityKey"]}}}};let Vi=(()=>{class y{static forRoot(){return{ngModule:y,providers:[(0,de.i51)(ou)]}}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({}),y})(),ea=(()=>{class y{static forRoot(){return{ngModule:y}}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.i51)({layoutSlots:{TextfieldConfigurationTemplate:{slots:["TextfieldConfigContent"]}}})],imports:[fe.ez,is.r3,ac,Vi.forRoot(),V.Bz.forChild([{path:null,component:H.wAB,data:{cxRoute:"configureTEXTFIELD"},canActivate:[H.al$]},{path:null,component:H.wAB,data:{cxRoute:"configureOverviewTEXTFIELD"},canActivate:[H.al$]}])]}),y})(),so=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Aa.oQ]:{module:()=>Promise.all([v.e(865),v.e(972)]).then(v.bind(v,6972)).then(U=>U.RulebasedCpqConfiguratorModule)}}}),(0,de.A2H)({i18n:{resources:Di,chunks:qs}}),(0,de.A2H)({featureModules:{[Xs]:{module:()=>v.e(393).then(v.bind(v,8393)).then(U=>U.TextfieldConfiguratorModule)}}}),(0,de.A2H)({featureModules:{[Aa.oQ]:{module:()=>v.e(865).then(v.bind(v,2865)).then(U=>U.RulebasedConfiguratorModule)}}})],imports:[Aa.SG,Aa.Mc,ea]}),y})();const ri={en:{bulkPricing:{bulkPricingTable:{quantity:"Quantity",price:"Price",discount:"Discount"}}}},Da={bulkPricing:["bulkPricingTable"]},bi="productBulkPricing";function ba(){return{featureModules:{[bi]:{cmsComponents:["BulkPricingTableComponent"]}}}}let ws=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.x2j)(ba)]}),y})(),iu=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[bi]:{module:()=>v.e(680).then(v.bind(v,6680)).then(U=>U.BulkPricingModule)}}}),(0,de.A2H)({i18n:{resources:ri,chunks:Da}})],imports:[ws]}),y})();const ao={en:{productImageZoom:{productImageZoomTrigger:{expand:"Expand image"},productImageZoomDialog:{close:"Close"}}}},Oo={productImageZoom:["productImageZoomTrigger","productImageZoomDialog"]},Lr="productImageZoom";function co(){return{featureModules:{[Lr]:{cmsComponents:["ProductImagesComponent"]}}}}let oi=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.x2j)(co)]}),y})(),Lo=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Lr]:{module:()=>v.e(617).then(v.bind(v,9617)).then(U=>U.ProductImageZoomModule)}}}),(0,de.A2H)({i18n:{resources:ao,chunks:Oo}})],imports:[oi]}),y})();const Fo={en:{productVariants:{productVariants:{style:"Style",selectedStyle:"Selected style",size:"Size",color:"Color",sizeGuideLabel:"Style guide"}}}},su={productVariants:["productVariants"]};function lc(y,U){if(1&y&&(e.TgZ(0,"li"),e._UZ(1,"img"),e.qZA()),2&y){const k=U.$implicit,se=e.oxw(2);e.xp6(1),e.uIk("src",se.getVariantThumbnailUrl(k.variantOptionQualifiers),e.LSH)("title",se.variantNames[k.code])("alt",se.variantNames[k.code])}}function Jr(y,U){if(1&y&&(e.TgZ(0,"ul",1),e.YNc(1,lc,2,3,"li",2),e.qZA()),2&y){const k=e.oxw();e.xp6(1),e.Q6J("ngForOf",k.variants)}}const Rs="productVariants";let Hi=(()=>{class y{constructor(k,se){this.config=k,this.productListItemContext=se,this.subscriptions=new to.w,this.ProductListOutlets=H.RVA,this.product$=this.productListItemContext?.product$??Ce.E,this.variantNames={}}ngOnInit(){this.setVariantsNames(),this.subscriptions.add(this.product$.subscribe(k=>{k.variantOptions&&k.variantOptions.length&&(this.variants=k.variantOptions,this.setVariantsNames())}))}setVariantsNames(){this.variants?.forEach(k=>{k.code&&k.variantOptionQualifiers&&(this.variantNames[k.code]=this.getVariantName(k.variantOptionQualifiers)||"")})}getVariantThumbnailUrl(k){const se=k.find(Xe=>Xe.qualifier===de.zYO.THUMBNAIL);return se?`${this.config?.backend?.occ?.baseUrl}${se.image?.url}`:""}getVariantName(k){const se=k.find(jt=>jt.qualifier===de.zYO.ROLLUP_PROPERTY),Xe=se?k.find(jt=>jt.qualifier===se.value):null;return Xe?Xe.value:""}ngOnDestroy(){this.subscriptions.unsubscribe()}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(de.Vri),e.Y36(H.Z6X,8))},y.\u0275cmp=e.Xpm({type:y,selectors:[["cx-variant-style-icons"]],inputs:{variants:"variants"},decls:1,vars:1,consts:[["class","variant-list",4,"ngIf"],[1,"variant-list"],[4,"ngFor","ngForOf"]],template:function(k,se){1&k&&e.YNc(0,Jr,2,1,"ul",0),2&k&&e.Q6J("ngIf",se.variants&&se.variants.length)},dependencies:[fe.sg,fe.O5],styles:["ul[_ngcontent-%COMP%]{padding:0;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}"],changeDetection:0}),y})(),$i=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[fe.ez,V.Bz,de.bhT,de.LUR]}),y})();function hi(){return{featureModules:{[Rs]:{cmsComponents:["ProductVariantSelectorComponent"]}}}}let Ta=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.x2j)(hi),(0,H.qCb)({id:H.RVA.ITEM_DETAILS,position:H.otu.AFTER,component:Hi})],imports:[$i]}),y})(),ss=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Rs]:{module:()=>v.e(694).then(v.bind(v,1532)).then(U=>U.ProductVariantsModule)}}}),(0,de.A2H)({i18n:{resources:Fo,chunks:su}})],imports:[Ta]}),y})();var xa=v(5457);let dc=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[xa.kd]:{module:()=>v.e(479).then(v.bind(v,5479)).then(U=>U.SmartEditModule)}}}),(0,de.A2H)({smartEdit:{allowOrigin:"localhost:9002, *.*.model-t.cc.commerce.ondemand.com:443"}})],imports:[xa.Vg]}),y})();const Ma={en:{storeFinder:{storeFinder:{openUntil:"Open until",closed:"Closed",back:"Back",call:"Call",getDirections:"Get Directions",ariaLabelGetDirections:"Get Directions, this link opens in a new window",ariaLabelCountriesCount:"Stores in {{ count }} countries found",listView:"List View",mapView:"Map View",noStoresFound:"No Stores Found.",storeHours:"Store hours",storeFeatures:"Store features",storeFinder:"Store Finder",storesFound:"{{ count }} store found",storesFound_other:"{{ count }} stores found",fromStoresFound:"from {{ count }} store found",fromStoresFound_other:"from {{ count }} stores found",findStore:"Find store",useMyLocation:"Use my location",viewAllStores:"View all stores",contactUs:"Contact us",searchBox:"Postal code, town or address",backToList:"Back to list",noStoresMessage:"No stores found in database...",geolocationNotEnabled:"Cannot locate nearby stores. Geolocation consent has not been enabled",searchNearestStores:"Search nearest stores",searchBoxLabel:"Enter postal code, town or address"}}}},Ia={storeFinder:["storeFinder"]},Oi={layoutSlots:{StoreFinderPageTemplate:{slots:["MiddleContent","SideContent"]}}},as="storeFinder";function Kr(){return{featureModules:{[as]:{cmsComponents:["StoreFinderComponent"]}}}}let ji=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.i51)(Oi),(0,de.x2j)(Kr)]}),y})(),cs=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[as]:{module:()=>v.e(442).then(v.bind(v,2442)).then(U=>U.StoreFinderModule)}}}),(0,de.A2H)({i18n:{resources:Ma,chunks:Ia}})],imports:[ji]}),y})(),us=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275prov=e.Yz7({token:y,factory:function(k){let se=null;return se=k?new(k||y):e.LFG(de.DeH),se},providedIn:"root"}),y})();const fc="personalization",cu={personalization:{enabled:!1,httpHeaderName:{id:"Occ-Personalization-Id",timestamp:"Occ-Personalization-Time"},context:{slotPosition:"PlaceholderContentSlot",componentId:"PersonalizationScriptComponent"}}},tl=[{provide:h.TP,useExisting:(()=>{class y{constructor(k,se,Xe){this.config=k,this.occEndpoints=se,this.winRef=Xe,this.enabled=!1,this.PERSONALIZATION_ID_KEY="personalization-id",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.id.toLowerCase(),this.personalizationId=this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_ID_KEY))}intercept(k,se){return this.enabled?(this.requestHeader&&this.personalizationId&&k.url.includes(this.occEndpoints.getBaseUrl())&&(k=k.clone({setHeaders:{[this.requestHeader]:this.personalizationId}})),se.handle(k).pipe((0,Me.b)(Xe=>{if(Xe instanceof h.Zn&&this.requestHeader&&Xe.headers.keys().includes(this.requestHeader)){const jt=Xe.headers.get(this.requestHeader);this.personalizationId!==jt&&(this.personalizationId=jt,this.personalizationId&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_ID_KEY,this.personalizationId))}}))):se.handle(k)}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(us),e.LFG(de.Lz0),e.LFG(de.X9E))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),multi:!0},{provide:h.TP,useExisting:(()=>{class y{constructor(k,se,Xe){this.config=k,this.occEndpoints=se,this.winRef=Xe,this.enabled=!1,this.PERSONALIZATION_TIME_KEY="personalization-time",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.timestamp.toLowerCase(),this.timestamp=this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_TIME_KEY))}intercept(k,se){return this.enabled?(this.requestHeader&&this.timestamp&&k.url.includes(this.occEndpoints.getBaseUrl())&&(k=k.clone({setHeaders:{[this.requestHeader]:this.timestamp}})),se.handle(k).pipe((0,Me.b)(Xe=>{if(Xe instanceof h.Zn&&this.requestHeader&&Xe.headers.keys().includes(this.requestHeader)){const jt=Xe.headers.get(this.requestHeader);this.timestamp!==jt&&(this.timestamp=jt,this.timestamp&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_TIME_KEY,this.timestamp))}}))):se.handle(k)}}return y.\u0275fac=function(k){return new(k||y)(e.LFG(us),e.LFG(de.Lz0),e.LFG(de.X9E))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),multi:!0}];function nl(){return{featureModules:{[fc]:{cmsComponents:["PersonalizationScriptComponent"]}}}}let wa=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[...tl,(0,de.i51)(cu),(0,de.x2j)(nl)]}),y})(),rl=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[fc]:{module:()=>v.e(26).then(v.bind(v,4026)).then(U=>U.PersonalizationModule)}}})],imports:[wa]}),y})();var Ip=v(6054);const ol={en:{userAccount:{loginForm:{forgotPassword:"Forgot password?",signIn:"Sign In",register:"Register",dontHaveAccount:"Don\u2019t have an account?",guestCheckout:"Guest Checkout",emailAddress:{label:"Email address",placeholder:"Enter email"},password:{label:"Password",placeholder:"Password"},wrongEmailFormat:"This is not a valid email format."},miniLogin:{userGreeting:"Hi, {{name}}",signInRegister:"Sign In / Register"}}}},sd={userAccount:["loginForm","miniLogin"]},ta={en:{userProfile:{updateEmailForm:{newEmailAddress:{label:"New email address",placeholder:"Enter email"},confirmNewEmailAddress:{label:"Confirm new email address",placeholder:"Enter email"},enterValidEmail:"Please enter a valid email.",bothEmailMustMatch:"Both emails must match",password:{label:"Password",placeholder:"Enter password"},pleaseInputPassword:"Please input password",emailUpdateSuccess:"Success. Please sign in with {{ newUid }}"},register:{confirmPassword:{action:"Confirm password",label:"Confirm password",placeholder:"Confirm Password"},managementInMyAccount:"Management in My Account.",termsAndConditions:"Terms & Conditions",signIn:"I already have an account. Sign In",register:"Register",confirmNewPassword:"Confirm New Password",resetPassword:"Reset Password",createAccount:"Create an account",title:"Title",firstName:{label:"First name",placeholder:"First name"},lastName:{label:"Last name",placeholder:"Last name"},emailAddress:{label:"Email address",placeholder:"Email address"},password:{label:"Password",placeholder:"Password"},newPassword:"New Password",emailMarketing:"Use my personal data to receive e-mail newsletters for marketing campaigns. To change your settings, go to Consent Management in My Account.",confirmThatRead:"I am confirming that I have read and agreed with the",selectTitle:"Select Title",passwordMinRequirements:"Password must be six characters minimum, with one uppercase letter, one number, one symbol",bothPasswordMustMatch:"Both password must match",titleRequired:"Title is required.",postRegisterMessage:"Please log in with provided credentials."},forgottenPassword:{resetPassword:"Reset password",enterEmailAddressAssociatedWithYourAccount:"Enter the email address associated with your account",emailAddress:{label:"Email address",placeholder:"Enter email"},enterValidEmail:"Please enter a valid email.",passwordResetEmailSent:"An email has been sent to you with information on how to reset your password.",passwordResetSuccess:"Success! You can now login using your new password."}}}},ad={userProfile:["updateEmailForm","register","forgottenPassword"]};var Pa=v(6538);let zo=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[yt.gu]:{module:()=>Promise.resolve().then(v.bind(v,6054)).then(U=>U.UserAccountModule)}}}),(0,de.A2H)({i18n:{resources:ol,chunks:sd}}),(0,de.A2H)({featureModules:{[Pa.t5]:{module:()=>v.e(697).then(v.bind(v,8697)).then(U=>U.UserProfileModule)}}}),(0,de.A2H)({i18n:{resources:ta,chunks:ad}})],imports:[yt.Jj,Pa.Ye,Ip.UserAccountModule]}),y})();const Oa={en:{cart:{cartDetails:{id:"ID",proceedToCheckout:"Proceed to Checkout",cartName:"Cart #{{code}}"},cartItems:{id:"ID",description:"Description",item:"Item",itemPrice:"Item price",quantity:"Qty",quantityTitle:"The quantity represents the total number of this item in your cart.",total:"Total",actions:"Actions",cartTotal:"Cart total ({{count}} item)",cartTotal_other:"Cart total ({{count}} items)",itemRemoved:"Selected item has been removed. Cart total has been updated.",caption:"Shopping cart contents."},orderCost:{orderSummary:"Order Summary",subtotal:"Subtotal after discounts:",shipping:"Shipping:",estimatedShipping:"Estimated shipping:",discount:"You saved:",salesTax:"Sales Tax:",grossTax:"The order total does not include tax of",grossIncludeTax:"The order total includes tax of",total:"Total:",toBeDetermined:"TBD"},voucher:{coupon:"Have a coupon?",coupon_other:"Coupon codes",couponLabel:"Enter a promo code here",apply:"Apply",placeholder:"Promo code",applyVoucherSuccess:"{{voucherCode}} has been applied.",removeVoucherSuccess:"{{voucherCode}} has been removed.",anchorLabel:"Enter or remove your coupon code",vouchersApplied:"Applied coupons",availableCoupons:"Available coupons",availableCouponsLabel:"You can add these coupons to this order."},saveForLaterItems:{itemTotal:"Saved for later ({{count}} item)",itemTotal_other:"Saved for later ({{count}} items)",cartTitle:"Cart",saveForLater:"Save For Later",moveToCart:"Move To Cart",stock:"Stock",forceInStock:"In Stock"},clearCart:{clearCart:"Clear Cart",clearingCart:"Clearing Cart...",cartClearedSuccessfully:"Active cart cleared successfully.",areYouSureToClearCart:"Are you sure you want to clear this cart?",allItemsWillBeRemoved:"All items in your active cart will be removed."},validation:{cartEntriesChangeDuringCheckout:"During checkout we found problems with your entries. Please review your cart.",cartEntryRemoved:"{{name}} was removed from the cart due to being out of stock.",productOutOfStock:"{{name}} has been removed from the cart due to insufficient stock.",lowStock:"Quantity has reduced to {{quantity}} due to insufficient stock.",reviewConfiguration:"Resolve the issues in the configuration for cart entry first.",pricingError:"Configurator pricing is currently not available. Checkout/quote submission is not possible. Please try again later.",unresolvableIssues:"The product configuration requires additional entries in the back end. As a result, you cannot proceed. Please contact support.",inProgress:"Processing"}}}},Ps={cart:["cartDetails","cartItems","orderCost","voucher","saveForLaterItems","clearCart","validation"]};let D=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Pt.O0]:{module:()=>v.e(537).then(v.bind(v,5537)).then(U=>U.CartBaseModule)}}}),(0,de.A2H)({featureModules:{[Pt.nw]:{module:()=>v.e(599).then(v.bind(v,599)).then(U=>U.MiniCartModule)}}}),(0,de.A2H)({featureModules:{[Pt.pl]:{module:()=>v.e(277).then(v.bind(v,1277)).then(U=>U.AddToCartModule)}}}),(0,de.A2H)({i18n:{resources:Oa,chunks:Ps}})],imports:[Pt.JP]}),y})(),T=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[de.nyr.forRoot(),H.Ixg,H.FLS,H.iqf,H.gJ3,H.LOH,H.sy8,H.wtB,H.Fpw,H.R8M,H.Jv5,H.AG5,H.Hyp,H.wHA,de.zht,de.Y2r,H.rSk,H.z2b,H.F9u,H.lzR,H.v5t,H.T2n,H.Kcf,de.cNt.forRoot(),H._VN,H._x$,de.scg.forRoot(),de.bPT,H.knA,H.FHW,H.fw4,H.F4,H.E7s,H.nKP,H.pvk,H.Sk1,H.tFc,H.zah,H.GZp,Re.Jp,pe.Tp,ke,de.nWM,Q.FV,H.xRf,H.mUh,Re.ym,H.dDJ,de.gLQ.forRoot(),zo,rl,cs,dc,so,iu,ss,Lo,xt,fi,$n,Vr,eo,Z,D,xe,Hn,Er,Kt]}),y})(),A=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({imports:[T,ht,H.ncj,H.ncj]}),y})(),F=(()=>{class y{}return y.\u0275fac=function(k){return new(k||y)},y.\u0275mod=e.oAB({type:y,bootstrap:[G]}),y.\u0275inj=e.cJS({imports:[n.b2.withServerTransition({appId:"serverApp"}),h.JF,j,M.Aw.forRoot({}),E.sQ.forRoot([]),A,P.Wr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),n.Cu]}),y})();(0,e.G48)(),document.addEventListener("DOMContentLoaded",()=>{n.q6().bootstrapModule(F).catch(y=>console.error(y))})},8472:function(ye,X){var h,v=typeof self<"u"?self:this,n=function(){function h(){this.fetch=!1,this.DOMException=v.DOMException}return h.prototype=v,new h}();h=n,function(E){var M_searchParams="URLSearchParams"in h,M_iterable="Symbol"in h&&"iterator"in Symbol,M_blob="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),M_formData="FormData"in h,M_arrayBuffer="ArrayBuffer"in h;if(M_arrayBuffer)var V=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],j=ArrayBuffer.isView||function(Fe){return Fe&&V.indexOf(Object.prototype.toString.call(Fe))>-1};function H(Fe){if("string"!=typeof Fe&&(Fe=String(Fe)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Fe))throw new TypeError("Invalid character in header field name");return Fe.toLowerCase()}function G(Fe){return"string"!=typeof Fe&&(Fe=String(Fe)),Fe}function z(Fe){var ht={next:function(){var Re=Fe.shift();return{done:void 0===Re,value:Re}}};return M_iterable&&(ht[Symbol.iterator]=function(){return ht}),ht}function q(Fe){this.map={},Fe instanceof q?Fe.forEach(function(ht,Re){this.append(Re,ht)},this):Array.isArray(Fe)?Fe.forEach(function(ht){this.append(ht[0],ht[1])},this):Fe&&Object.getOwnPropertyNames(Fe).forEach(function(ht){this.append(ht,Fe[ht])},this)}function ee(Fe){if(Fe.bodyUsed)return Promise.reject(new TypeError("Already read"));Fe.bodyUsed=!0}function ue(Fe){return new Promise(function(ht,Re){Fe.onload=function(){ht(Fe.result)},Fe.onerror=function(){Re(Fe.error)}})}function oe(Fe){var ht=new FileReader,Re=ue(ht);return ht.readAsArrayBuffer(Fe),Re}function ot(Fe){if(Fe.slice)return Fe.slice(0);var ht=new Uint8Array(Fe.byteLength);return ht.set(new Uint8Array(Fe)),ht.buffer}function ze(){return this.bodyUsed=!1,this._initBody=function(Fe){this._bodyInit=Fe,Fe?"string"==typeof Fe?this._bodyText=Fe:M_blob&&Blob.prototype.isPrototypeOf(Fe)?this._bodyBlob=Fe:M_formData&&FormData.prototype.isPrototypeOf(Fe)?this._bodyFormData=Fe:M_searchParams&&URLSearchParams.prototype.isPrototypeOf(Fe)?this._bodyText=Fe.toString():M_arrayBuffer&&M_blob&&function R(Fe){return Fe&&DataView.prototype.isPrototypeOf(Fe)}(Fe)?(this._bodyArrayBuffer=ot(Fe.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):M_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Fe)||j(Fe))?this._bodyArrayBuffer=ot(Fe):this._bodyText=Fe=Object.prototype.toString.call(Fe):this._bodyText="",this.headers.get("content-type")||("string"==typeof Fe?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):M_searchParams&&URLSearchParams.prototype.isPrototypeOf(Fe)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M_blob&&(this.blob=function(){var Fe=ee(this);if(Fe)return Fe;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ee(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(oe)}),this.text=function(){var Fe=ee(this);if(Fe)return Fe;if(this._bodyBlob)return function De(Fe){var ht=new FileReader,Re=ue(ht);return ht.readAsText(Fe),Re}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Ye(Fe){for(var ht=new Uint8Array(Fe),Re=new Array(ht.length),fe=0;fe<ht.length;fe++)Re[fe]=String.fromCharCode(ht[fe]);return Re.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M_formData&&(this.formData=function(){return this.text().then(de)}),this.json=function(){return this.text().then(JSON.parse)},this}q.prototype.append=function(Fe,ht){Fe=H(Fe),ht=G(ht);var Re=this.map[Fe];this.map[Fe]=Re?Re+", "+ht:ht},q.prototype.delete=function(Fe){delete this.map[H(Fe)]},q.prototype.get=function(Fe){return Fe=H(Fe),this.has(Fe)?this.map[Fe]:null},q.prototype.has=function(Fe){return this.map.hasOwnProperty(H(Fe))},q.prototype.set=function(Fe,ht){this.map[H(Fe)]=G(ht)},q.prototype.forEach=function(Fe,ht){for(var Re in this.map)this.map.hasOwnProperty(Re)&&Fe.call(ht,this.map[Re],Re,this)},q.prototype.keys=function(){var Fe=[];return this.forEach(function(ht,Re){Fe.push(Re)}),z(Fe)},q.prototype.values=function(){var Fe=[];return this.forEach(function(ht){Fe.push(ht)}),z(Fe)},q.prototype.entries=function(){var Fe=[];return this.forEach(function(ht,Re){Fe.push([Re,ht])}),z(Fe)},M_iterable&&(q.prototype[Symbol.iterator]=q.prototype.entries);var Ge=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ve(Fe,ht){var Re=(ht=ht||{}).body;if(Fe instanceof ve){if(Fe.bodyUsed)throw new TypeError("Already read");this.url=Fe.url,this.credentials=Fe.credentials,ht.headers||(this.headers=new q(Fe.headers)),this.method=Fe.method,this.mode=Fe.mode,this.signal=Fe.signal,!Re&&null!=Fe._bodyInit&&(Re=Fe._bodyInit,Fe.bodyUsed=!0)}else this.url=String(Fe);if(this.credentials=ht.credentials||this.credentials||"same-origin",(ht.headers||!this.headers)&&(this.headers=new q(ht.headers)),this.method=function ge(Fe){var ht=Fe.toUpperCase();return Ge.indexOf(ht)>-1?ht:Fe}(ht.method||this.method||"GET"),this.mode=ht.mode||this.mode||null,this.signal=ht.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Re)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Re)}function de(Fe){var ht=new FormData;return Fe.trim().split("&").forEach(function(Re){if(Re){var fe=Re.split("="),ie=fe.shift().replace(/\+/g," "),ne=fe.join("=").replace(/\+/g," ");ht.append(decodeURIComponent(ie),decodeURIComponent(ne))}}),ht}function Ke(Fe){var ht=new q;return Fe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(fe){var ie=fe.split(":"),ne=ie.shift().trim();if(ne){var Ve=ie.join(":").trim();ht.append(ne,Ve)}}),ht}function rt(Fe,ht){ht||(ht={}),this.type="default",this.status=void 0===ht.status?200:ht.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ht?ht.statusText:"OK",this.headers=new q(ht.headers),this.url=ht.url||"",this._initBody(Fe)}ve.prototype.clone=function(){return new ve(this,{body:this._bodyInit})},ze.call(ve.prototype),ze.call(rt.prototype),rt.prototype.clone=function(){return new rt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})},rt.error=function(){var Fe=new rt(null,{status:0,statusText:""});return Fe.type="error",Fe};var Ie=[301,302,303,307,308];rt.redirect=function(Fe,ht){if(-1===Ie.indexOf(ht))throw new RangeError("Invalid status code");return new rt(null,{status:ht,headers:{location:Fe}})},E.DOMException=h.DOMException;try{new E.DOMException}catch{E.DOMException=function(ht,Re){this.message=ht,this.name=Re;var fe=Error(ht);this.stack=fe.stack},E.DOMException.prototype=Object.create(Error.prototype),E.DOMException.prototype.constructor=E.DOMException}function Nt(Fe,ht){return new Promise(function(Re,fe){var ie=new ve(Fe,ht);if(ie.signal&&ie.signal.aborted)return fe(new E.DOMException("Aborted","AbortError"));var ne=new XMLHttpRequest;function Ve(){ne.abort()}ne.onload=function(){var _e={status:ne.status,statusText:ne.statusText,headers:Ke(ne.getAllResponseHeaders()||"")};_e.url="responseURL"in ne?ne.responseURL:_e.headers.get("X-Request-URL"),Re(new rt("response"in ne?ne.response:ne.responseText,_e))},ne.onerror=function(){fe(new TypeError("Network request failed"))},ne.ontimeout=function(){fe(new TypeError("Network request failed"))},ne.onabort=function(){fe(new E.DOMException("Aborted","AbortError"))},ne.open(ie.method,ie.url,!0),"include"===ie.credentials?ne.withCredentials=!0:"omit"===ie.credentials&&(ne.withCredentials=!1),"responseType"in ne&&M_blob&&(ne.responseType="blob"),ie.headers.forEach(function(_e,Ue){ne.setRequestHeader(Ue,_e)}),ie.signal&&(ie.signal.addEventListener("abort",Ve),ne.onreadystatechange=function(){4===ne.readyState&&ie.signal.removeEventListener("abort",Ve)}),ne.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}Nt.polyfill=!0,h.fetch||(h.fetch=Nt,h.Headers=q,h.Request=ve,h.Response=rt),E.Headers=q,E.Request=ve,E.Response=rt,E.fetch=Nt,Object.defineProperty(E,"__esModule",{value:!0})}({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var e=n;(X=e.fetch).default=e.fetch,X.fetch=e.fetch,X.Headers=e.Headers,X.Request=e.Request,X.Response=e.Response,ye.exports=X},1302:function(ye,X,v){var n;!function(e,h){var P={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function P(q,ee,ue,oe,De){for(var Ye,ot,ze,Ge,ge,ve,de,Ke,rt,Ie,Nt,Fe,ht;De>=64;){for(Ye=ee[0],ot=ee[1],ze=ee[2],Ge=ee[3],ge=ee[4],ve=ee[5],de=ee[6],Ke=ee[7],Ie=0;Ie<16;Ie++)q[Ie]=(255&ue[Nt=oe+4*Ie])<<24|(255&ue[Nt+1])<<16|(255&ue[Nt+2])<<8|255&ue[Nt+3];for(Ie=16;Ie<64;Ie++)q[Ie]=((Fe=((rt=q[Ie-2])>>>17|rt<<15)^(rt>>>19|rt<<13)^rt>>>10)+q[Ie-7]|0)+((ht=((rt=q[Ie-15])>>>7|rt<<25)^(rt>>>18|rt<<14)^rt>>>3)+q[Ie-16]|0);for(Ie=0;Ie<64;Ie++)Fe=(((ge>>>6|ge<<26)^(ge>>>11|ge<<21)^(ge>>>25|ge<<7))+(ge&ve^~ge&de)|0)+(Ke+(h[Ie]+q[Ie]|0)|0)|0,ht=((Ye>>>2|Ye<<30)^(Ye>>>13|Ye<<19)^(Ye>>>22|Ye<<10))+(Ye&ot^Ye&ze^ot&ze)|0,Ke=de,de=ve,ve=ge,ge=Ge+Fe|0,Ge=ze,ze=ot,ot=Ye,Ye=Fe+ht|0;ee[0]+=Ye,ee[1]+=ot,ee[2]+=ze,ee[3]+=Ge,ee[4]+=ge,ee[5]+=ve,ee[6]+=de,ee[7]+=Ke,oe+=64,De-=64}return oe}var E=function(){function q(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return q.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},q.prototype.clean=function(){for(var ee=0;ee<this.buffer.length;ee++)this.buffer[ee]=0;for(ee=0;ee<this.temp.length;ee++)this.temp[ee]=0;this.reset()},q.prototype.update=function(ee,ue){if(void 0===ue&&(ue=ee.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var oe=0;if(this.bytesHashed+=ue,this.bufferLength>0){for(;this.bufferLength<64&&ue>0;)this.buffer[this.bufferLength++]=ee[oe++],ue--;64===this.bufferLength&&(P(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(ue>=64&&(oe=P(this.temp,this.state,ee,oe,ue),ue%=64);ue>0;)this.buffer[this.bufferLength++]=ee[oe++],ue--;return this},q.prototype.finish=function(ee){if(!this.finished){var ue=this.bytesHashed,oe=this.bufferLength,De=ue/536870912|0,Ye=ue<<3,ot=ue%64<56?64:128;this.buffer[oe]=128;for(var ze=oe+1;ze<ot-8;ze++)this.buffer[ze]=0;this.buffer[ot-8]=De>>>24&255,this.buffer[ot-7]=De>>>16&255,this.buffer[ot-6]=De>>>8&255,this.buffer[ot-5]=De>>>0&255,this.buffer[ot-4]=Ye>>>24&255,this.buffer[ot-3]=Ye>>>16&255,this.buffer[ot-2]=Ye>>>8&255,this.buffer[ot-1]=Ye>>>0&255,P(this.temp,this.state,this.buffer,0,ot),this.finished=!0}for(ze=0;ze<8;ze++)ee[4*ze+0]=this.state[ze]>>>24&255,ee[4*ze+1]=this.state[ze]>>>16&255,ee[4*ze+2]=this.state[ze]>>>8&255,ee[4*ze+3]=this.state[ze]>>>0&255;return this},q.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},q.prototype._saveState=function(ee){for(var ue=0;ue<this.state.length;ue++)ee[ue]=this.state[ue]},q.prototype._restoreState=function(ee,ue){for(var oe=0;oe<this.state.length;oe++)this.state[oe]=ee[oe];this.bytesHashed=ue,this.finished=!1,this.bufferLength=0},q}();e.Hash=E;var M=function(){function q(ee){this.inner=new E,this.outer=new E,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var ue=new Uint8Array(this.blockSize);if(ee.length>this.blockSize)(new E).update(ee).finish(ue).clean();else for(var oe=0;oe<ee.length;oe++)ue[oe]=ee[oe];for(oe=0;oe<ue.length;oe++)ue[oe]^=54;for(this.inner.update(ue),oe=0;oe<ue.length;oe++)ue[oe]^=106;for(this.outer.update(ue),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),oe=0;oe<ue.length;oe++)ue[oe]=0}return q.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},q.prototype.clean=function(){for(var ee=0;ee<this.istate.length;ee++)this.ostate[ee]=this.istate[ee]=0;this.inner.clean(),this.outer.clean()},q.prototype.update=function(ee){return this.inner.update(ee),this},q.prototype.finish=function(ee){return this.outer.finished?this.outer.finish(ee):(this.inner.finish(ee),this.outer.update(ee,this.digestLength).finish(ee)),this},q.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},q}();function R(q){var ee=(new E).update(q),ue=ee.digest();return ee.clean(),ue}function V(q,ee){var ue=new M(q).update(ee),oe=ue.digest();return ue.clean(),oe}function j(q,ee,ue,oe){var De=oe[0];if(0===De)throw new Error("hkdf: cannot expand more");ee.reset(),De>1&&ee.update(q),ue&&ee.update(ue),ee.update(oe),ee.finish(q),oe[0]++}e.HMAC=M,e.hash=R,e.default=R,e.hmac=V;var H=new Uint8Array(e.digestLength);e.hkdf=function G(q,ee,ue,oe){void 0===ee&&(ee=H),void 0===oe&&(oe=32);for(var De=new Uint8Array([1]),Ye=V(ee,q),ot=new M(Ye),ze=new Uint8Array(ot.digestLength),Ge=ze.length,ge=new Uint8Array(oe),ve=0;ve<oe;ve++)Ge===ze.length&&(j(ze,ot,ue,De),Ge=0),ge[ve]=ze[Ge++];return ot.clean(),ze.fill(0),De.fill(0),ge},e.pbkdf2=function z(q,ee,ue,oe){for(var De=new M(q),Ye=De.digestLength,ot=new Uint8Array(4),ze=new Uint8Array(Ye),Ge=new Uint8Array(Ye),ge=new Uint8Array(oe),ve=0;ve*Ye<oe;ve++){var de=ve+1;ot[0]=de>>>24&255,ot[1]=de>>>16&255,ot[2]=de>>>8&255,ot[3]=de>>>0&255,De.reset(),De.update(ee),De.update(ot),De.finish(Ge);for(var Ke=0;Ke<Ye;Ke++)ze[Ke]=Ge[Ke];for(Ke=2;Ke<=ue;Ke++){De.reset(),De.update(Ge).finish(Ge);for(var rt=0;rt<Ye;rt++)ze[rt]^=Ge[rt]}for(Ke=0;Ke<Ye&&ve*Ye+Ke<oe;Ke++)ge[ve*Ye+Ke]=ze[Ke]}for(ve=0;ve<Ye;ve++)ze[ve]=Ge[ve]=0;for(ve=0;ve<4;ve++)ot[ve]=0;return De.clean(),ge}}(P);var E=P.default;for(var M in P)E[M]=P[M];"object"==typeof ye.exports?ye.exports=E:void 0!==(n=function(){return E}.call(P,v,P,ye))&&(ye.exports=n)}()},591:(ye,X,v)=>{"use strict";v.d(X,{X:()=>h});var n=v(8929),e=v(5279);class h extends n.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const M=super._subscribe(E);return M&&!M.closed&&E.next(this._value),M}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new e.N;return this._value}next(E){super.next(this._value=E)}}},9312:(ye,X,v)=>{"use strict";v.d(X,{P:()=>E});var n=v(8896),e=v(1086),h=v(1737);class E{constructor(R,V,j){this.kind=R,this.value=V,this.error=j,this.hasValue="N"===R}observe(R){switch(this.kind){case"N":return R.next&&R.next(this.value);case"E":return R.error&&R.error(this.error);case"C":return R.complete&&R.complete()}}do(R,V,j){switch(this.kind){case"N":return R&&R(this.value);case"E":return V&&V(this.error);case"C":return j&&j()}}accept(R,V,j){return R&&"function"==typeof R.next?this.observe(R):this.do(R,V,j)}toObservable(){switch(this.kind){case"N":return(0,e.of)(this.value);case"E":return(0,h._)(this.error);case"C":return(0,n.c)()}throw new Error("unexpected notification kind value")}static createNext(R){return typeof R<"u"?new E("N",R):E.undefinedValueNotification}static createError(R){return new E("E",void 0,R)}static createComplete(){return E.completeNotification}}E.completeNotification=new E("C"),E.undefinedValueNotification=new E("N",void 0)},6498:(ye,X,v)=>{"use strict";v.d(X,{y:()=>j});var n=v(3489),h=v(7668),P=v(3292),M=v(3821),R=v(4843),V=v(2830);let j=(()=>{class G{constructor(q){this._isScalar=!1,q&&(this._subscribe=q)}lift(q){const ee=new G;return ee.source=this,ee.operator=q,ee}subscribe(q,ee,ue){const{operator:oe}=this,De=function E(G,z,q){if(G){if(G instanceof n.L)return G;if(G[h.b])return G[h.b]()}return G||z||q?new n.L(G,z,q):new n.L(P.c)}(q,ee,ue);if(De.add(oe?oe.call(De,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!De.syncErrorThrowable?this._subscribe(De):this._trySubscribe(De)),V.v.useDeprecatedSynchronousErrorHandling&&De.syncErrorThrowable&&(De.syncErrorThrowable=!1,De.syncErrorThrown))throw De.syncErrorValue;return De}_trySubscribe(q){try{return this._subscribe(q)}catch(ee){V.v.useDeprecatedSynchronousErrorHandling&&(q.syncErrorThrown=!0,q.syncErrorValue=ee),function e(G){for(;G;){const{closed:z,destination:q,isStopped:ee}=G;if(z||ee)return!1;G=q&&q instanceof n.L?q:null}return!0}(q)?q.error(ee):console.warn(ee)}}forEach(q,ee){return new(ee=H(ee))((ue,oe)=>{let De;De=this.subscribe(Ye=>{try{q(Ye)}catch(ot){oe(ot),De&&De.unsubscribe()}},oe,ue)})}_subscribe(q){const{source:ee}=this;return ee&&ee.subscribe(q)}[M.L](){return this}pipe(...q){return 0===q.length?this:(0,R.U)(q)(this)}toPromise(q){return new(q=H(q))((ee,ue)=>{let oe;this.subscribe(De=>oe=De,De=>ue(De),()=>ee(oe))})}}return G.create=z=>new G(z),G})();function H(G){if(G||(G=V.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},3292:(ye,X,v)=>{"use strict";v.d(X,{c:()=>h});var n=v(2830),e=v(2782);const h={closed:!0,next(P){},error(P){if(n.v.useDeprecatedSynchronousErrorHandling)throw P;(0,e.z)(P)},complete(){}}},826:(ye,X,v)=>{"use strict";v.d(X,{L:()=>e});var n=v(3489);class e extends n.L{notifyNext(P,E,M,R,V){this.destination.next(E)}notifyError(P,E){this.destination.error(P)}notifyComplete(P){this.destination.complete()}}},839:(ye,X,v)=>{"use strict";v.d(X,{t:()=>R});var n=v(8929),e=v(341),h=v(2654),P=v(7770),E=v(5279),M=v(5283);class R extends n.xQ{constructor(H=Number.POSITIVE_INFINITY,G=Number.POSITIVE_INFINITY,z){super(),this.scheduler=z,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=H<1?1:H,this._windowTime=G<1?1:G,G===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(H){if(!this.isStopped){const G=this._events;G.push(H),G.length>this._bufferSize&&G.shift()}super.next(H)}nextTimeWindow(H){this.isStopped||(this._events.push(new V(this._getNow(),H)),this._trimBufferThenGetEvents()),super.next(H)}_subscribe(H){const G=this._infiniteTimeWindow,z=G?this._events:this._trimBufferThenGetEvents(),q=this.scheduler,ee=z.length;let ue;if(this.closed)throw new E.N;if(this.isStopped||this.hasError?ue=h.w.EMPTY:(this.observers.push(H),ue=new M.W(this,H)),q&&H.add(H=new P.ht(H,q)),G)for(let oe=0;oe<ee&&!H.closed;oe++)H.next(z[oe]);else for(let oe=0;oe<ee&&!H.closed;oe++)H.next(z[oe].value);return this.hasError?H.error(this.thrownError):this.isStopped&&H.complete(),ue}_getNow(){return(this.scheduler||e.c).now()}_trimBufferThenGetEvents(){const H=this._getNow(),G=this._bufferSize,z=this._windowTime,q=this._events,ee=q.length;let ue=0;for(;ue<ee&&!(H-q[ue].time<z);)ue++;return ee>G&&(ue=Math.max(ue,ee-G)),ue>0&&q.splice(0,ue),q}}class V{constructor(H,G){this.time=H,this.value=G}}},8929:(ye,X,v)=>{"use strict";v.d(X,{Yc:()=>R,xQ:()=>V});var n=v(6498),e=v(3489),h=v(2654),P=v(5279),E=v(5283),M=v(7668);class R extends e.L{constructor(G){super(G),this.destination=G}}let V=(()=>{class H extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[M.b](){return new R(this)}lift(z){const q=new j(this,this);return q.operator=z,q}next(z){if(this.closed)throw new P.N;if(!this.isStopped){const{observers:q}=this,ee=q.length,ue=q.slice();for(let oe=0;oe<ee;oe++)ue[oe].next(z)}}error(z){if(this.closed)throw new P.N;this.hasError=!0,this.thrownError=z,this.isStopped=!0;const{observers:q}=this,ee=q.length,ue=q.slice();for(let oe=0;oe<ee;oe++)ue[oe].error(z);this.observers.length=0}complete(){if(this.closed)throw new P.N;this.isStopped=!0;const{observers:z}=this,q=z.length,ee=z.slice();for(let ue=0;ue<q;ue++)ee[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(z){if(this.closed)throw new P.N;return super._trySubscribe(z)}_subscribe(z){if(this.closed)throw new P.N;return this.hasError?(z.error(this.thrownError),h.w.EMPTY):this.isStopped?(z.complete(),h.w.EMPTY):(this.observers.push(z),new E.W(this,z))}asObservable(){const z=new n.y;return z.source=this,z}}return H.create=(G,z)=>new j(G,z),H})();class j extends V{constructor(G,z){super(),this.destination=G,this.source=z}next(G){const{destination:z}=this;z&&z.next&&z.next(G)}error(G){const{destination:z}=this;z&&z.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:z}=this;return z?this.source.subscribe(G):h.w.EMPTY}}},5283:(ye,X,v)=>{"use strict";v.d(X,{W:()=>e});var n=v(2654);class e extends n.w{constructor(P,E){super(),this.subject=P,this.subscriber=E,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const P=this.subject,E=P.observers;if(this.subject=null,!E||0===E.length||P.isStopped||P.closed)return;const M=E.indexOf(this.subscriber);-1!==M&&E.splice(M,1)}}},3489:(ye,X,v)=>{"use strict";v.d(X,{L:()=>R});var n=v(7043),e=v(3292),h=v(2654),P=v(7668),E=v(2830),M=v(2782);class R extends h.w{constructor(H,G,z){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=e.c;break;case 1:if(!H){this.destination=e.c;break}if("object"==typeof H){H instanceof R?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new V(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new V(this,H,G,z)}}[P.b](){return this}static create(H,G,z){const q=new R(H,G,z);return q.syncErrorThrowable=!1,q}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class V extends R{constructor(H,G,z,q){super(),this._parentSubscriber=H;let ee,ue=this;(0,n.m)(G)?ee=G:G&&(ee=G.next,z=G.error,q=G.complete,G!==e.c&&(ue=Object.create(G),(0,n.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=ee,this._error=z,this._complete=q}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;E.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:z}=E.v;if(this._error)z&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(G.syncErrorThrowable)z?(G.syncErrorValue=H,G.syncErrorThrown=!0):(0,M.z)(H),this.unsubscribe();else{if(this.unsubscribe(),z)throw H;(0,M.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const G=()=>this._complete.call(this._context);E.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,G){try{H.call(this._context,G)}catch(z){if(this.unsubscribe(),E.v.useDeprecatedSynchronousErrorHandling)throw z;(0,M.z)(z)}}__tryOrSetError(H,G,z){if(!E.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,z)}catch(q){return E.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=q,H.syncErrorThrown=!0,!0):((0,M.z)(q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},2654:(ye,X,v)=>{"use strict";v.d(X,{w:()=>M});var n=v(6688),e=v(7830),h=v(7043);const E=(()=>{function V(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((H,G)=>`${G+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return V.prototype=Object.create(Error.prototype),V})();class M{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:G,_unsubscribe:z,_subscriptions:q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof M)H.remove(this);else if(null!==H)for(let ee=0;ee<H.length;++ee)H[ee].remove(this);if((0,h.m)(z)){G&&(this._unsubscribe=void 0);try{z.call(this)}catch(ee){j=ee instanceof E?R(ee.errors):[ee]}}if((0,n.k)(q)){let ee=-1,ue=q.length;for(;++ee<ue;){const oe=q[ee];if((0,e.K)(oe))try{oe.unsubscribe()}catch(De){j=j||[],De instanceof E?j=j.concat(R(De.errors)):j.push(De)}}}if(j)throw new E(j)}add(j){let H=j;if(!j)return M.EMPTY;switch(typeof j){case"function":H=new M(j);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof M)){const q=H;H=new M,H._subscriptions=[q]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:G}=H;if(null===G)H._parentOrParents=this;else if(G instanceof M){if(G===this)return H;H._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return H;G.push(this)}const z=this._subscriptions;return null===z?this._subscriptions=[H]:z.push(H),H}remove(j){const H=this._subscriptions;if(H){const G=H.indexOf(j);-1!==G&&H.splice(G,1)}}}var V;function R(V){return V.reduce((j,H)=>j.concat(H instanceof E?H.errors:H),[])}M.EMPTY=((V=new M).closed=!0,V)},2830:(ye,X,v)=>{"use strict";v.d(X,{v:()=>e});let n=!1;const e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(h){if(h){const P=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+P.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=h},get useDeprecatedSynchronousErrorHandling(){return n}}},1177:(ye,X,v)=>{"use strict";v.d(X,{Ds:()=>M,IY:()=>P,ft:()=>V});var n=v(3489),e=v(6498),h=v(9249);class P extends n.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class M extends n.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function V(j,H){if(H.closed)return;if(j instanceof e.y)return j.subscribe(H);let G;try{G=(0,h.s)(j)(H)}catch(z){H.error(z)}return G}},1762:(ye,X,v)=>{"use strict";v.d(X,{N:()=>M,c:()=>E});var n=v(8929),e=v(6498),h=v(2654),P=v(4327);class E extends e.y{constructor(G,z){super(),this.source=G,this.subjectFactory=z,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new h.w,G.add(this.source.subscribe(new R(this.getSubject(),this))),G.closed&&(this._connection=null,G=h.w.EMPTY)),G}refCount(){return(0,P.x)()(this)}}const M=(()=>{const H=E.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class R extends n.Yc{constructor(G,z){super(G),this.connectable=z}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const z=G._connection;G._refCount=0,G._subject=null,G._connection=null,z&&z.unsubscribe()}}}},6053:(ye,X,v)=>{"use strict";v.d(X,{aj:()=>R});var n=v(2866),e=v(6688),h=v(826),P=v(448),E=v(3009);const M={};function R(...H){let G,z;return(0,n.K)(H[H.length-1])&&(z=H.pop()),"function"==typeof H[H.length-1]&&(G=H.pop()),1===H.length&&(0,e.k)(H[0])&&(H=H[0]),(0,E.n)(H,z).lift(new V(G))}class V{constructor(G){this.resultSelector=G}call(G,z){return z.subscribe(new j(G,this.resultSelector))}}class j extends h.L{constructor(G,z){super(G),this.resultSelector=z,this.active=0,this.values=[],this.observables=[]}_next(G){this.values.push(M),this.observables.push(G)}_complete(){const G=this.observables,z=G.length;if(0===z)this.destination.complete();else{this.active=z,this.toRespond=z;for(let q=0;q<z;q++)this.add((0,P.D)(this,G[q],void 0,q))}}notifyComplete(G){0==(this.active-=1)&&this.destination.complete()}notifyNext(G,z,q){const ee=this.values,oe=this.toRespond?ee[q]===M?--this.toRespond:this.toRespond:0;ee[q]=z,0===oe&&(this.resultSelector?this._tryResultSelector(ee):this.destination.next(ee.slice()))}_tryResultSelector(G){let z;try{z=this.resultSelector.apply(this,G)}catch(q){return void this.destination.error(q)}this.destination.next(z)}}},1221:(ye,X,v)=>{"use strict";v.d(X,{z:()=>P});var n=v(1086),e=v(9146);function P(...E){return function h(){return(0,e.J)(1)}()((0,n.of)(...E))}},8514:(ye,X,v)=>{"use strict";v.d(X,{P:()=>P});var n=v(6498),e=v(5254),h=v(8896);function P(E){return new n.y(M=>{let R;try{R=E()}catch(j){return void M.error(j)}return(R?(0,e.D)(R):(0,h.c)()).subscribe(M)})}},8896:(ye,X,v)=>{"use strict";v.d(X,{E:()=>e,c:()=>h});var n=v(6498);const e=new n.y(E=>E.complete());function h(E){return E?function P(E){return new n.y(M=>E.schedule(()=>M.complete()))}(E):e}},567:(ye,X,v)=>{"use strict";v.d(X,{D:()=>M});var n=v(6498),e=v(6688),h=v(4850),P=v(7830),E=v(5254);function M(...V){if(1===V.length){const j=V[0];if((0,e.k)(j))return R(j,null);if((0,P.K)(j)&&Object.getPrototypeOf(j)===Object.prototype){const H=Object.keys(j);return R(H.map(G=>j[G]),H)}}if("function"==typeof V[V.length-1]){const j=V.pop();return R(V=1===V.length&&(0,e.k)(V[0])?V[0]:V,null).pipe((0,h.U)(H=>j(...H)))}return R(V,null)}function R(V,j){return new n.y(H=>{const G=V.length;if(0===G)return void H.complete();const z=new Array(G);let q=0,ee=0;for(let ue=0;ue<G;ue++){const oe=(0,E.D)(V[ue]);let De=!1;H.add(oe.subscribe({next:Ye=>{De||(De=!0,ee++),z[ue]=Ye},error:Ye=>H.error(Ye),complete:()=>{q++,(q===G||!De)&&(ee===G&&H.next(j?j.reduce((Ye,ot,ze)=>(Ye[ot]=z[ze],Ye),{}):z),H.complete())}}))}})}},5254:(ye,X,v)=>{"use strict";v.d(X,{D:()=>ue});var n=v(6498),e=v(9249),h=v(2654),P=v(3821),R=v(6454),V=v(5430),G=v(8955),z=v(8515);function ue(oe,De){return De?function ee(oe,De){if(null!=oe){if(function H(oe){return oe&&"function"==typeof oe[P.L]}(oe))return function E(oe,De){return new n.y(Ye=>{const ot=new h.w;return ot.add(De.schedule(()=>{const ze=oe[P.L]();ot.add(ze.subscribe({next(Ge){ot.add(De.schedule(()=>Ye.next(Ge)))},error(Ge){ot.add(De.schedule(()=>Ye.error(Ge)))},complete(){ot.add(De.schedule(()=>Ye.complete()))}}))})),ot})}(oe,De);if((0,G.t)(oe))return function M(oe,De){return new n.y(Ye=>{const ot=new h.w;return ot.add(De.schedule(()=>oe.then(ze=>{ot.add(De.schedule(()=>{Ye.next(ze),ot.add(De.schedule(()=>Ye.complete()))}))},ze=>{ot.add(De.schedule(()=>Ye.error(ze)))}))),ot})}(oe,De);if((0,z.z)(oe))return(0,R.r)(oe,De);if(function q(oe){return oe&&"function"==typeof oe[V.hZ]}(oe)||"string"==typeof oe)return function j(oe,De){if(!oe)throw new Error("Iterable cannot be null");return new n.y(Ye=>{const ot=new h.w;let ze;return ot.add(()=>{ze&&"function"==typeof ze.return&&ze.return()}),ot.add(De.schedule(()=>{ze=oe[V.hZ](),ot.add(De.schedule(function(){if(Ye.closed)return;let Ge,ge;try{const ve=ze.next();Ge=ve.value,ge=ve.done}catch(ve){return void Ye.error(ve)}ge?Ye.complete():(Ye.next(Ge),this.schedule())}))})),ot})}(oe,De)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,De):oe instanceof n.y?oe:new n.y((0,e.s)(oe))}},3009:(ye,X,v)=>{"use strict";v.d(X,{n:()=>P});var n=v(6498),e=v(3650),h=v(6454);function P(E,M){return M?(0,h.r)(E,M):new n.y((0,e.V)(E))}},3753:(ye,X,v)=>{"use strict";v.d(X,{R:()=>M});var n=v(6498),e=v(6688),h=v(7043),P=v(4850);function M(G,z,q,ee){return(0,h.m)(q)&&(ee=q,q=void 0),ee?M(G,z,q).pipe((0,P.U)(ue=>(0,e.k)(ue)?ee(...ue):ee(ue))):new n.y(ue=>{R(G,z,function oe(De){ue.next(arguments.length>1?Array.prototype.slice.call(arguments):De)},ue,q)})}function R(G,z,q,ee,ue){let oe;if(function H(G){return G&&"function"==typeof G.addEventListener&&"function"==typeof G.removeEventListener}(G)){const De=G;G.addEventListener(z,q,ue),oe=()=>De.removeEventListener(z,q,ue)}else if(function j(G){return G&&"function"==typeof G.on&&"function"==typeof G.off}(G)){const De=G;G.on(z,q),oe=()=>De.off(z,q)}else if(function V(G){return G&&"function"==typeof G.addListener&&"function"==typeof G.removeListener}(G)){const De=G;G.addListener(z,q),oe=()=>De.removeListener(z,q)}else{if(!G||!G.length)throw new TypeError("Invalid event target");for(let De=0,Ye=G.length;De<Ye;De++)R(G[De],z,q,ee,ue)}ee.add(oe)}},910:(ye,X,v)=>{"use strict";v.d(X,{s:()=>h});var n=v(8514),e=v(8896);function h(P,E=e.E,M=e.E){return(0,n.P)(()=>P()?E:M)}},6787:(ye,X,v)=>{"use strict";v.d(X,{T:()=>E});var n=v(6498),e=v(2866),h=v(9146),P=v(3009);function E(...M){let R=Number.POSITIVE_INFINITY,V=null,j=M[M.length-1];return(0,e.K)(j)?(V=M.pop(),M.length>1&&"number"==typeof M[M.length-1]&&(R=M.pop())):"number"==typeof j&&(R=M.pop()),null===V&&1===M.length&&M[0]instanceof n.y?M[0]:(0,h.J)(R)((0,P.n)(M,V))}},7274:(ye,X,v)=>{"use strict";v.d(X,{C:()=>h});var n=v(6498),e=v(7876);const h=new n.y(e.Z)},1086:(ye,X,v)=>{"use strict";v.d(X,{of:()=>P});var n=v(2866),e=v(3009),h=v(6454);function P(...E){let M=E[E.length-1];return(0,n.K)(M)?(E.pop(),(0,h.r)(E,M)):(0,e.n)(E)}},1946:(ye,X,v)=>{"use strict";v.d(X,{S3:()=>E});var n=v(6688),e=v(3009),h=v(826),P=v(448);function E(...V){if(1===V.length){if(!(0,n.k)(V[0]))return V[0];V=V[0]}return(0,e.n)(V,void 0).lift(new M)}class M{call(j,H){return H.subscribe(new R(j))}}class R extends h.L{constructor(j){super(j),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(j){this.observables.push(j)}_complete(){const j=this.observables,H=j.length;if(0===H)this.destination.complete();else{for(let G=0;G<H&&!this.hasFirst;G++){const q=(0,P.D)(this,j[G],void 0,G);this.subscriptions&&this.subscriptions.push(q),this.add(q)}this.observables=null}}notifyNext(j,H,G){if(!this.hasFirst){this.hasFirst=!0;for(let z=0;z<this.subscriptions.length;z++)if(z!==G){let q=this.subscriptions[z];q.unsubscribe(),this.remove(q)}this.subscriptions=null}this.destination.next(H)}}},1737:(ye,X,v)=>{"use strict";v.d(X,{_:()=>e});var n=v(6498);function e(P,E){return new n.y(E?M=>E.schedule(h,0,{error:P,subscriber:M}):M=>M.error(P))}function h({error:P,subscriber:E}){E.error(P)}},8723:(ye,X,v)=>{"use strict";v.d(X,{H:()=>E});var n=v(6498),e=v(353),h=v(4241),P=v(2866);function E(R=0,V,j){let H=-1;return(0,h.k)(V)?H=Number(V)<1?1:Number(V):(0,P.K)(V)&&(j=V),(0,P.K)(j)||(j=e.P),new n.y(G=>{const z=(0,h.k)(R)?R:+R-j.now();return j.schedule(M,z,{index:0,period:H,subscriber:G})})}function M(R){const{index:V,period:j,subscriber:H}=R;if(H.next(V),!H.closed){if(-1===j)return H.complete();R.index=V+1,this.schedule(R,j)}}},5409:(ye,X,v)=>{"use strict";v.d(X,{g:()=>P});var n=v(6498),e=v(5254),h=v(8896);function P(E,M){return new n.y(R=>{let V,j;try{V=E()}catch(z){return void R.error(z)}try{j=M(V)}catch(z){return void R.error(z)}const G=(j?(0,e.D)(j):h.E).subscribe(R);return()=>{G.unsubscribe(),V&&V.unsubscribe()}})}},384:(ye,X,v)=>{"use strict";v.d(X,{U:()=>e});var n=v(1177);function e(E){return function(R){return R.lift(new h(E))}}class h{constructor(M){this.durationSelector=M}call(M,R){return R.subscribe(new P(M,this.durationSelector))}}class P extends n.Ds{constructor(M,R){super(M),this.durationSelector=R,this.hasValue=!1}_next(M){if(this.value=M,this.hasValue=!0,!this.throttled){let R;try{const{durationSelector:j}=this;R=j(M)}catch(j){return this.destination.error(j)}const V=(0,n.ft)(R,new n.IY(this));!V||V.closed?this.clearThrottle():this.add(this.throttled=V)}}clearThrottle(){const{value:M,hasValue:R,throttled:V}=this;V&&(this.remove(V),this.throttled=void 0,V.unsubscribe()),R&&(this.value=void 0,this.hasValue=!1,this.destination.next(M))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},7568:(ye,X,v)=>{"use strict";v.d(X,{e:()=>P});var n=v(353),e=v(384),h=v(8723);function P(E,M=n.P){return(0,e.U)(()=>(0,h.H)(E,M))}},7221:(ye,X,v)=>{"use strict";v.d(X,{K:()=>e});var n=v(1177);function e(E){return function(R){const V=new h(E),j=R.lift(V);return V.caught=j}}class h{constructor(M){this.selector=M}call(M,R){return R.subscribe(new P(M,this.selector,this.caught))}}class P extends n.Ds{constructor(M,R,V){super(M),this.selector=R,this.caught=V}error(M){if(!this.isStopped){let R;try{R=this.selector(M,this.caught)}catch(H){return void super.error(H)}this._unsubscribeAndRecycle();const V=new n.IY(this);this.add(V);const j=(0,n.ft)(R,V);j!==V&&this.add(j)}}}},1406:(ye,X,v)=>{"use strict";v.d(X,{b:()=>e});var n=v(1709);function e(h,P){return(0,n.zg)(h,P,1)}},8849:(ye,X,v)=>{"use strict";v.d(X,{D:()=>e});var n=v(1177);function e(E){return M=>M.lift(new h(E))}class h{constructor(M){this.durationSelector=M}call(M,R){return R.subscribe(new P(M,this.durationSelector))}}class P extends n.Ds{constructor(M,R){super(M),this.durationSelector=R,this.hasValue=!1}_next(M){try{const R=this.durationSelector.call(this,M);R&&this._tryNext(M,R)}catch(R){this.destination.error(R)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(M,R){let V=this.durationSubscription;this.value=M,this.hasValue=!0,V&&(V.unsubscribe(),this.remove(V)),V=(0,n.ft)(R,new n.IY(this)),V&&!V.closed&&this.add(this.durationSubscription=V)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const M=this.value,R=this.durationSubscription;R&&(this.durationSubscription=void 0,R.unsubscribe(),this.remove(R)),this.value=void 0,this.hasValue=!1,super._next(M)}}}},13:(ye,X,v)=>{"use strict";v.d(X,{b:()=>h});var n=v(3489),e=v(353);function h(R,V=e.P){return j=>j.lift(new P(R,V))}class P{constructor(V,j){this.dueTime=V,this.scheduler=j}call(V,j){return j.subscribe(new E(V,this.dueTime,this.scheduler))}}class E extends n.L{constructor(V,j,H){super(V),this.dueTime=j,this.scheduler=H,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(V){this.clearDebounce(),this.lastValue=V,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(M,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:V}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(V)}}clearDebounce(){const V=this.debouncedSubscription;null!==V&&(this.remove(V),V.unsubscribe(),this.debouncedSubscription=null)}}function M(R){R.debouncedNext()}},7314:(ye,X,v)=>{"use strict";v.d(X,{d:()=>e});var n=v(3489);function e(E=null){return M=>M.lift(new h(E))}class h{constructor(M){this.defaultValue=M}call(M,R){return R.subscribe(new P(M,this.defaultValue))}}class P extends n.L{constructor(M,R){super(M),this.defaultValue=R,this.isEmpty=!0}_next(M){this.isEmpty=!1,this.destination.next(M)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(ye,X,v)=>{"use strict";v.d(X,{g:()=>E});var n=v(353),e=v(2697),h=v(3489),P=v(9312);function E(j,H=n.P){const z=(0,e.J)(j)?+j-H.now():Math.abs(j);return q=>q.lift(new M(z,H))}class M{constructor(H,G){this.delay=H,this.scheduler=G}call(H,G){return G.subscribe(new R(H,this.delay,this.scheduler))}}class R extends h.L{constructor(H,G,z){super(H),this.delay=G,this.scheduler=z,this.queue=[],this.active=!1,this.errored=!1}static dispatch(H){const G=H.source,z=G.queue,q=H.scheduler,ee=H.destination;for(;z.length>0&&z[0].time-q.now()<=0;)z.shift().notification.observe(ee);if(z.length>0){const ue=Math.max(0,z[0].time-q.now());this.schedule(H,ue)}else this.unsubscribe(),G.active=!1}_schedule(H){this.active=!0,this.destination.add(H.schedule(R.dispatch,this.delay,{source:this,destination:this.destination,scheduler:H}))}scheduleNotification(H){if(!0===this.errored)return;const G=this.scheduler,z=new V(G.now()+this.delay,H);this.queue.push(z),!1===this.active&&this._schedule(G)}_next(H){this.scheduleNotification(P.P.createNext(H))}_error(H){this.errored=!0,this.queue=[],this.destination.error(H),this.unsubscribe()}_complete(){this.scheduleNotification(P.P.createComplete()),this.unsubscribe()}}class V{constructor(H,G){this.time=H,this.notification=G}}},8003:(ye,X,v)=>{"use strict";v.d(X,{j:()=>E});var n=v(3489),e=v(6498),h=v(826),P=v(448);function E(H,G){return G?z=>new V(z,G).lift(new M(H)):z=>z.lift(new M(H))}class M{constructor(G){this.delayDurationSelector=G}call(G,z){return z.subscribe(new R(G,this.delayDurationSelector))}}class R extends h.L{constructor(G,z){super(G),this.delayDurationSelector=z,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(G,z,q,ee,ue){this.destination.next(G),this.removeSubscription(ue),this.tryComplete()}notifyError(G,z){this._error(G)}notifyComplete(G){const z=this.removeSubscription(G);z&&this.destination.next(z),this.tryComplete()}_next(G){const z=this.index++;try{const q=this.delayDurationSelector(G,z);q&&this.tryDelay(q,G)}catch(q){this.destination.error(q)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(G){G.unsubscribe();const z=this.delayNotifierSubscriptions.indexOf(G);return-1!==z&&this.delayNotifierSubscriptions.splice(z,1),G.outerValue}tryDelay(G,z){const q=(0,P.D)(this,G,z);q&&!q.closed&&(this.destination.add(q),this.delayNotifierSubscriptions.push(q))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class V extends e.y{constructor(G,z){super(),this.source=G,this.subscriptionDelay=z}_subscribe(G){this.subscriptionDelay.subscribe(new j(G,this.source))}}class j extends n.L{constructor(G,z){super(),this.parent=G,this.source=z,this.sourceSubscribed=!1}_next(G){this.subscribeToSource()}_error(G){this.unsubscribe(),this.parent.error(G)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}},5778:(ye,X,v)=>{"use strict";v.d(X,{x:()=>e});var n=v(3489);function e(E,M){return R=>R.lift(new h(E,M))}class h{constructor(M,R){this.compare=M,this.keySelector=R}call(M,R){return R.subscribe(new P(M,this.compare,this.keySelector))}}class P extends n.L{constructor(M,R,V){super(M),this.keySelector=V,this.hasKey=!1,"function"==typeof R&&(this.compare=R)}compare(M,R){return M===R}_next(M){let R;try{const{keySelector:j}=this;R=j?j(M):M}catch(j){return this.destination.error(j)}let V=!1;if(this.hasKey)try{const{compare:j}=this;V=j(this.key,R)}catch(j){return this.destination.error(j)}else this.hasKey=!0;V||(this.key=R,this.destination.next(M))}}},9184:(ye,X,v)=>{"use strict";v.d(X,{g:()=>e});var n=v(5778);function e(h,P){return(0,n.x)((E,M)=>P?P(E[h],M[h]):E[h]===M[h])}},8807:(ye,X,v)=>{"use strict";v.d(X,{z:()=>P});var n=v(4850),e=v(5254),h=v(1177);function P(R,V){return V?j=>j.pipe(P((H,G)=>(0,e.D)(R(H,G)).pipe((0,n.U)((z,q)=>V(H,z,G,q))))):j=>j.lift(new E(R))}class E{constructor(V){this.project=V}call(V,j){return j.subscribe(new M(V,this.project))}}class M extends h.Ds{constructor(V,j){super(V),this.project=j,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(V){this.hasSubscription||this.tryNext(V)}tryNext(V){let j;const H=this.index++;try{j=this.project(V,H)}catch(G){return void this.destination.error(G)}this.hasSubscription=!0,this._innerSub(j)}_innerSub(V){const j=new h.IY(this),H=this.destination;H.add(j);const G=(0,h.ft)(V,j);G!==j&&H.add(G)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},2198:(ye,X,v)=>{"use strict";v.d(X,{h:()=>e});var n=v(3489);function e(E,M){return function(V){return V.lift(new h(E,M))}}class h{constructor(M,R){this.predicate=M,this.thisArg=R}call(M,R){return R.subscribe(new P(M,this.predicate,this.thisArg))}}class P extends n.L{constructor(M,R,V){super(M),this.predicate=R,this.thisArg=V,this.count=0}_next(M){let R;try{R=this.predicate.call(this.thisArg,M,this.count++)}catch(V){return void this.destination.error(V)}R&&this.destination.next(M)}}},537:(ye,X,v)=>{"use strict";v.d(X,{x:()=>h});var n=v(3489),e=v(2654);function h(M){return R=>R.lift(new P(M))}class P{constructor(R){this.callback=R}call(R,V){return V.subscribe(new E(R,this.callback))}}class E extends n.L{constructor(R,V){super(R),this.add(new e.w(V))}}},7224:(ye,X,v)=>{"use strict";v.d(X,{P:()=>R});var n=v(4450),e=v(2198),h=v(2986),P=v(7314),E=v(4907),M=v(5379);function R(V,j){const H=arguments.length>=2;return G=>G.pipe(V?(0,e.h)((z,q)=>V(z,q,G)):M.y,(0,h.q)(1),H?(0,P.d)(j):(0,E.T)(()=>new n.K))}},4002:(ye,X,v)=>{"use strict";v.d(X,{v:()=>E});var n=v(3489),e=v(2654),h=v(6498),P=v(8929);function E(G,z,q,ee){return ue=>ue.lift(new M(G,z,q,ee))}class M{constructor(z,q,ee,ue){this.keySelector=z,this.elementSelector=q,this.durationSelector=ee,this.subjectSelector=ue}call(z,q){return q.subscribe(new R(z,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class R extends n.L{constructor(z,q,ee,ue,oe){super(z),this.keySelector=q,this.elementSelector=ee,this.durationSelector=ue,this.subjectSelector=oe,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(z){let q;try{q=this.keySelector(z)}catch(ee){return void this.error(ee)}this._group(z,q)}_group(z,q){let ee=this.groups;ee||(ee=this.groups=new Map);let oe,ue=ee.get(q);if(this.elementSelector)try{oe=this.elementSelector(z)}catch(De){this.error(De)}else oe=z;if(!ue){ue=this.subjectSelector?this.subjectSelector():new P.xQ,ee.set(q,ue);const De=new j(q,ue,this);if(this.destination.next(De),this.durationSelector){let Ye;try{Ye=this.durationSelector(new j(q,ue))}catch(ot){return void this.error(ot)}this.add(Ye.subscribe(new V(q,ue,this)))}}ue.closed||ue.next(oe)}_error(z){const q=this.groups;q&&(q.forEach((ee,ue)=>{ee.error(z)}),q.clear()),this.destination.error(z)}_complete(){const z=this.groups;z&&(z.forEach((q,ee)=>{q.complete()}),z.clear()),this.destination.complete()}removeGroup(z){this.groups.delete(z)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class V extends n.L{constructor(z,q,ee){super(q),this.key=z,this.group=q,this.parent=ee}_next(z){this.complete()}_unsubscribe(){const{parent:z,key:q}=this;this.key=this.parent=null,z&&z.removeGroup(q)}}class j extends h.y{constructor(z,q,ee){super(),this.key=z,this.groupSubject=q,this.refCountSubscription=ee}_subscribe(z){const q=new e.w,{refCountSubscription:ee,groupSubject:ue}=this;return ee&&!ee.closed&&q.add(new H(ee)),q.add(ue.subscribe(z)),q}}class H extends e.w{constructor(z){super(),this.parent=z,z.count++}unsubscribe(){const z=this.parent;!z.closed&&!this.closed&&(super.unsubscribe(),z.count-=1,0===z.count&&z.attemptedToUnsubscribe&&z.unsubscribe())}}},4850:(ye,X,v)=>{"use strict";v.d(X,{U:()=>e});var n=v(3489);function e(E,M){return function(V){if("function"!=typeof E)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return V.lift(new h(E,M))}}class h{constructor(M,R){this.project=M,this.thisArg=R}call(M,R){return R.subscribe(new P(M,this.project,this.thisArg))}}class P extends n.L{constructor(M,R,V){super(M),this.project=R,this.count=0,this.thisArg=V||this}_next(M){let R;try{R=this.project.call(this.thisArg,M,this.count++)}catch(V){return void this.destination.error(V)}this.destination.next(R)}}},7604:(ye,X,v)=>{"use strict";v.d(X,{h:()=>e});var n=v(3489);function e(E){return M=>M.lift(new h(E))}class h{constructor(M){this.value=M}call(M,R){return R.subscribe(new P(M,this.value))}}class P extends n.L{constructor(M,R){super(M),this.value=R}_next(M){this.destination.next(this.value)}}},9146:(ye,X,v)=>{"use strict";v.d(X,{J:()=>h});var n=v(1709),e=v(5379);function h(P=Number.POSITIVE_INFINITY){return(0,n.zg)(e.y,P)}},1709:(ye,X,v)=>{"use strict";v.d(X,{zg:()=>P});var n=v(4850),e=v(5254),h=v(1177);function P(V,j,H=Number.POSITIVE_INFINITY){return"function"==typeof j?G=>G.pipe(P((z,q)=>(0,e.D)(V(z,q)).pipe((0,n.U)((ee,ue)=>j(z,ee,q,ue))),H)):("number"==typeof j&&(H=j),G=>G.lift(new E(V,H)))}class E{constructor(j,H=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=H}call(j,H){return H.subscribe(new M(j,this.project,this.concurrent))}}class M extends h.Ds{constructor(j,H,G=Number.POSITIVE_INFINITY){super(j),this.project=H,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let H;const G=this.index++;try{H=this.project(j,G)}catch(z){return void this.destination.error(z)}this.active++,this._innerSub(H)}_innerSub(j){const H=new h.IY(this),G=this.destination;G.add(H);const z=(0,h.ft)(j,H);z!==H&&G.add(z)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(ye,X,v)=>{"use strict";v.d(X,{O:()=>e});var n=v(1762);function e(P,E){return function(R){let V;if(V="function"==typeof P?P:function(){return P},"function"==typeof E)return R.lift(new h(V,E));const j=Object.create(R,n.N);return j.source=R,j.subjectFactory=V,j}}class h{constructor(E,M){this.subjectFactory=E,this.selector=M}call(E,M){const{selector:R}=this,V=this.subjectFactory(),j=R(V).subscribe(E);return j.add(M.subscribe(V)),j}}},7770:(ye,X,v)=>{"use strict";v.d(X,{QV:()=>h,ht:()=>E});var n=v(3489),e=v(9312);function h(R,V=0){return function(H){return H.lift(new P(R,V))}}class P{constructor(V,j=0){this.scheduler=V,this.delay=j}call(V,j){return j.subscribe(new E(V,this.scheduler,this.delay))}}class E extends n.L{constructor(V,j,H=0){super(V),this.scheduler=j,this.delay=H}static dispatch(V){const{notification:j,destination:H}=V;j.observe(H),this.unsubscribe()}scheduleMessage(V){this.destination.add(this.scheduler.schedule(E.dispatch,this.delay,new M(V,this.destination)))}_next(V){this.scheduleMessage(e.P.createNext(V))}_error(V){this.scheduleMessage(e.P.createError(V)),this.unsubscribe()}_complete(){this.scheduleMessage(e.P.createComplete()),this.unsubscribe()}}class M{constructor(V,j){this.notification=V,this.destination=j}}},519:(ye,X,v)=>{"use strict";v.d(X,{G:()=>e});var n=v(3489);function e(){return E=>E.lift(new h)}class h{call(M,R){return R.subscribe(new P(M))}}class P extends n.L{constructor(M){super(M),this.hasPrev=!1}_next(M){let R;this.hasPrev?R=[this.prev,M]:this.hasPrev=!0,this.prev=M,R&&this.destination.next(R)}}},373:(ye,X,v)=>{"use strict";v.d(X,{j:()=>e});var n=v(4850);function e(...P){const E=P.length;if(0===E)throw new Error("list of properties cannot be empty.");return M=>(0,n.U)(function h(P,E){return R=>{let V=R;for(let j=0;j<E;j++){const H=V?.[P[j]];if(void 0===H)return;V=H}return V}}(P,E))(M)}},4327:(ye,X,v)=>{"use strict";v.d(X,{x:()=>e});var n=v(3489);function e(){return function(M){return M.lift(new h(M))}}class h{constructor(M){this.connectable=M}call(M,R){const{connectable:V}=this;V._refCount++;const j=new P(M,V),H=R.subscribe(j);return j.closed||(j.connection=V.connect()),H}}class P extends n.L{constructor(M,R){super(M),this.connectable=R}_unsubscribe(){const{connectable:M}=this;if(!M)return void(this.connection=null);this.connectable=null;const R=M._refCount;if(R<=0)return void(this.connection=null);if(M._refCount=R-1,R>1)return void(this.connection=null);const{connection:V}=this,j=M._connection;this.connection=null,j&&(!V||j===V)&&j.unsubscribe()}}},2014:(ye,X,v)=>{"use strict";v.d(X,{R:()=>e});var n=v(3489);function e(E,M){let R=!1;return arguments.length>=2&&(R=!0),function(j){return j.lift(new h(E,M,R))}}class h{constructor(M,R,V=!1){this.accumulator=M,this.seed=R,this.hasSeed=V}call(M,R){return R.subscribe(new P(M,this.accumulator,this.seed,this.hasSeed))}}class P extends n.L{constructor(M,R,V,j){super(M),this.accumulator=R,this._seed=V,this.hasSeed=j,this.index=0}get seed(){return this._seed}set seed(M){this.hasSeed=!0,this._seed=M}_next(M){if(this.hasSeed)return this._tryNext(M);this.seed=M,this.destination.next(M)}_tryNext(M){const R=this.index++;let V;try{V=this.accumulator(this.seed,M,R)}catch(j){this.destination.error(j)}this.seed=V,this.destination.next(V)}}},8117:(ye,X,v)=>{"use strict";v.d(X,{B:()=>E});var n=v(2536),e=v(4327),h=v(8929);function P(){return new h.xQ}function E(){return M=>(0,e.x)()((0,n.O)(P)(M))}},5154:(ye,X,v)=>{"use strict";v.d(X,{d:()=>e});var n=v(839);function e(P,E,M){let R;return R=P&&"object"==typeof P?P:{bufferSize:P,windowTime:E,refCount:!1,scheduler:M},V=>V.lift(function h({bufferSize:P=Number.POSITIVE_INFINITY,windowTime:E=Number.POSITIVE_INFINITY,refCount:M,scheduler:R}){let V,H,j=0,G=!1,z=!1;return function(ee){let ue;j++,!V||G?(G=!1,V=new n.t(P,E,R),ue=V.subscribe(this),H=ee.subscribe({next(oe){V.next(oe)},error(oe){G=!0,V.error(oe)},complete(){z=!0,H=void 0,V.complete()}}),z&&(H=void 0)):ue=V.subscribe(this),this.add(()=>{j--,ue.unsubscribe(),ue=void 0,H&&!z&&M&&0===j&&(H.unsubscribe(),H=void 0,V=void 0)})}}(R))}},1307:(ye,X,v)=>{"use strict";v.d(X,{T:()=>e});var n=v(3489);function e(E){return M=>M.lift(new h(E))}class h{constructor(M){this.total=M}call(M,R){return R.subscribe(new P(M,this.total))}}class P extends n.L{constructor(M,R){super(M),this.total=R,this.count=0}_next(M){++this.count>this.total&&this.destination.next(M)}}},9403:(ye,X,v)=>{"use strict";v.d(X,{n:()=>e});var n=v(3489);function e(E){return M=>M.lift(new h(E))}class h{constructor(M){this.predicate=M}call(M,R){return R.subscribe(new P(M,this.predicate))}}class P extends n.L{constructor(M,R){super(M),this.predicate=R,this.skipping=!0,this.index=0}_next(M){const R=this.destination;this.skipping&&this.tryCallPredicate(M),this.skipping||R.next(M)}tryCallPredicate(M){try{const R=this.predicate(M,this.index++);this.skipping=Boolean(R)}catch(R){this.destination.error(R)}}}},1059:(ye,X,v)=>{"use strict";v.d(X,{O:()=>h});var n=v(1221),e=v(2866);function h(...P){const E=P[P.length-1];return(0,e.K)(E)?(P.pop(),M=>(0,n.z)(P,M,E)):M=>(0,n.z)(P,M)}},7545:(ye,X,v)=>{"use strict";v.d(X,{w:()=>P});var n=v(4850),e=v(5254),h=v(1177);function P(R,V){return"function"==typeof V?j=>j.pipe(P((H,G)=>(0,e.D)(R(H,G)).pipe((0,n.U)((z,q)=>V(H,z,G,q))))):j=>j.lift(new E(R))}class E{constructor(V){this.project=V}call(V,j){return j.subscribe(new M(V,this.project))}}class M extends h.Ds{constructor(V,j){super(V),this.project=j,this.index=0}_next(V){let j;const H=this.index++;try{j=this.project(V,H)}catch(G){return void this.destination.error(G)}this._innerSub(j)}_innerSub(V){const j=this.innerSubscription;j&&j.unsubscribe();const H=new h.IY(this),G=this.destination;G.add(H),this.innerSubscription=(0,h.ft)(V,H),this.innerSubscription!==H&&G.add(this.innerSubscription)}_complete(){const{innerSubscription:V}=this;(!V||V.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(V){this.destination.next(V)}}},2313:(ye,X,v)=>{"use strict";v.d(X,{c:()=>e});var n=v(7545);function e(h,P){return P?(0,n.w)(()=>h,P):(0,n.w)(()=>h)}},2986:(ye,X,v)=>{"use strict";v.d(X,{q:()=>P});var n=v(3489),e=v(4231),h=v(8896);function P(R){return V=>0===R?(0,h.c)():V.lift(new E(R))}class E{constructor(V){if(this.total=V,this.total<0)throw new e.W}call(V,j){return j.subscribe(new M(V,this.total))}}class M extends n.L{constructor(V,j){super(V),this.total=j,this.count=0}_next(V){const j=this.total,H=++this.count;H<=j&&(this.destination.next(V),H===j&&(this.destination.complete(),this.unsubscribe()))}}},7625:(ye,X,v)=>{"use strict";v.d(X,{R:()=>e});var n=v(1177);function e(E){return M=>M.lift(new h(E))}class h{constructor(M){this.notifier=M}call(M,R){const V=new P(M),j=(0,n.ft)(this.notifier,new n.IY(V));return j&&!V.seenValue?(V.add(j),R.subscribe(V)):V}}class P extends n.Ds{constructor(M){super(M),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(ye,X,v)=>{"use strict";v.d(X,{o:()=>e});var n=v(3489);function e(E,M=!1){return R=>R.lift(new h(E,M))}class h{constructor(M,R){this.predicate=M,this.inclusive=R}call(M,R){return R.subscribe(new P(M,this.predicate,this.inclusive))}}class P extends n.L{constructor(M,R,V){super(M),this.predicate=R,this.inclusive=V,this.index=0}_next(M){const R=this.destination;let V;try{V=this.predicate(M,this.index++)}catch(j){return void R.error(j)}this.nextOrComplete(M,V)}nextOrComplete(M,R){const V=this.destination;Boolean(R)?V.next(M):(this.inclusive&&V.next(M),V.complete())}}},2994:(ye,X,v)=>{"use strict";v.d(X,{b:()=>P});var n=v(3489),e=v(7876),h=v(7043);function P(R,V,j){return function(G){return G.lift(new E(R,V,j))}}class E{constructor(V,j,H){this.nextOrObserver=V,this.error=j,this.complete=H}call(V,j){return j.subscribe(new M(V,this.nextOrObserver,this.error,this.complete))}}class M extends n.L{constructor(V,j,H,G){super(V),this._tapNext=e.Z,this._tapError=e.Z,this._tapComplete=e.Z,this._tapError=H||e.Z,this._tapComplete=G||e.Z,(0,h.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||e.Z,this._tapError=j.error||e.Z,this._tapComplete=j.complete||e.Z)}_next(V){try{this._tapNext.call(this._context,V)}catch(j){return void this.destination.error(j)}this.destination.next(V)}_error(V){try{this._tapError.call(this._context,V)}catch(j){return void this.destination.error(j)}this.destination.error(V)}_complete(){try{this._tapComplete.call(this._context)}catch(V){return void this.destination.error(V)}return this.destination.complete()}}},4907:(ye,X,v)=>{"use strict";v.d(X,{T:()=>h});var n=v(4450),e=v(3489);function h(R=M){return V=>V.lift(new P(R))}class P{constructor(V){this.errorFactory=V}call(V,j){return j.subscribe(new E(V,this.errorFactory))}}class E extends e.L{constructor(V,j){super(V),this.errorFactory=j,this.hasValue=!1}_next(V){this.hasValue=!0,this.destination.next(V)}_complete(){if(this.hasValue)return this.destination.complete();{let V;try{V=this.errorFactory()}catch(j){V=j}this.destination.error(V)}}}function M(){return new n.K}},6227:(ye,X,v)=>{"use strict";v.d(X,{V:()=>H});var n=v(353);const h=(()=>{function G(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return G.prototype=Object.create(Error.prototype),G})();var P=v(2697),E=v(1177);class R{constructor(z,q,ee,ue){this.waitFor=z,this.absoluteTimeout=q,this.withObservable=ee,this.scheduler=ue}call(z,q){return q.subscribe(new V(z,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class V extends E.Ds{constructor(z,q,ee,ue,oe){super(z),this.absoluteTimeout=q,this.waitFor=ee,this.withObservable=ue,this.scheduler=oe,this.scheduleTimeout()}static dispatchTimeout(z){const{withObservable:q}=z;z._unsubscribeAndRecycle(),z.add((0,E.ft)(q,new E.IY(z)))}scheduleTimeout(){const{action:z}=this;z?this.action=z.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(V.dispatchTimeout,this.waitFor,this))}_next(z){this.absoluteTimeout||this.scheduleTimeout(),super._next(z)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var j=v(1737);function H(G,z=n.P){return function M(G,z,q=n.P){return ee=>{let ue=(0,P.J)(G),oe=ue?+G-q.now():Math.abs(G);return ee.lift(new R(oe,ue,z,q))}}(G,(0,j._)(new h),z)}},7168:(ye,X,v)=>{"use strict";v.d(X,{M:()=>h});var n=v(826),e=v(448);function h(...M){return R=>{let V;return"function"==typeof M[M.length-1]&&(V=M.pop()),R.lift(new P(M,V))}}class P{constructor(R,V){this.observables=R,this.project=V}call(R,V){return V.subscribe(new E(R,this.observables,this.project))}}class E extends n.L{constructor(R,V,j){super(R),this.observables=V,this.project=j,this.toRespond=[];const H=V.length;this.values=new Array(H);for(let G=0;G<H;G++)this.toRespond.push(G);for(let G=0;G<H;G++)this.add((0,e.D)(this,V[G],void 0,G))}notifyNext(R,V,j){this.values[j]=V;const H=this.toRespond;if(H.length>0){const G=H.indexOf(j);-1!==G&&H.splice(G,1)}}notifyComplete(){}_next(R){if(0===this.toRespond.length){const V=[R,...this.values];this.project?this._tryProject(V):this.destination.next(V)}}_tryProject(R){let V;try{V=this.project.apply(this,R)}catch(j){return void this.destination.error(j)}this.destination.next(V)}}},6454:(ye,X,v)=>{"use strict";v.d(X,{r:()=>h});var n=v(6498),e=v(2654);function h(P,E){return new n.y(M=>{const R=new e.w;let V=0;return R.add(E.schedule(function(){V!==P.length?(M.next(P[V++]),M.closed||R.add(this.schedule())):M.complete()})),R})}},6686:(ye,X,v)=>{"use strict";v.d(X,{o:()=>h});var n=v(2654);class e extends n.w{constructor(E,M){super()}schedule(E,M=0){return this}}class h extends e{constructor(E,M){super(E,M),this.scheduler=E,this.work=M,this.pending=!1}schedule(E,M=0){if(this.closed)return this;this.state=E;const R=this.id,V=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(V,R,M)),this.pending=!0,this.delay=M,this.id=this.id||this.requestAsyncId(V,this.id,M),this}requestAsyncId(E,M,R=0){return setInterval(E.flush.bind(E,this),R)}recycleAsyncId(E,M,R=0){if(null!==R&&this.delay===R&&!1===this.pending)return M;clearInterval(M)}execute(E,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(E,M);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,M){let V,R=!1;try{this.work(E)}catch(j){R=!0,V=!!j&&j||new Error(j)}if(R)return this.unsubscribe(),V}_unsubscribe(){const E=this.id,M=this.scheduler,R=M.actions,V=R.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==V&&R.splice(V,1),null!=E&&(this.id=this.recycleAsyncId(M,E,null)),this.delay=null}}},2268:(ye,X,v)=>{"use strict";v.d(X,{v:()=>e});let n=(()=>{class h{constructor(E,M=h.now){this.SchedulerAction=E,this.now=M}schedule(E,M=0,R){return new this.SchedulerAction(this,E).schedule(R,M)}}return h.now=()=>Date.now(),h})();class e extends n{constructor(P,E=n.now){super(P,()=>e.delegate&&e.delegate!==this?e.delegate.now():E()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(P,E=0,M){return e.delegate&&e.delegate!==this?e.delegate.schedule(P,E,M):super.schedule(P,E,M)}flush(P){const{actions:E}=this;if(this.active)return void E.push(P);let M;this.active=!0;do{if(M=P.execute(P.state,P.delay))break}while(P=E.shift());if(this.active=!1,M){for(;P=E.shift();)P.unsubscribe();throw M}}}},8139:(ye,X,v)=>{"use strict";v.d(X,{E:()=>G});let n=1;const e=Promise.resolve(),h={};function P(q){return q in h&&(delete h[q],!0)}const E={setImmediate(q){const ee=n++;return h[ee]=!0,e.then(()=>P(ee)&&q()),ee},clearImmediate(q){P(q)}};var R=v(6686),j=v(2268);const G=new class H extends j.v{flush(ee){this.active=!0,this.scheduled=void 0;const{actions:ue}=this;let oe,De=-1,Ye=ue.length;ee=ee||ue.shift();do{if(oe=ee.execute(ee.state,ee.delay))break}while(++De<Ye&&(ee=ue.shift()));if(this.active=!1,oe){for(;++De<Ye&&(ee=ue.shift());)ee.unsubscribe();throw oe}}}(class V extends R.o{constructor(ee,ue){super(ee,ue),this.scheduler=ee,this.work=ue}requestAsyncId(ee,ue,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ee,ue,oe):(ee.actions.push(this),ee.scheduled||(ee.scheduled=E.setImmediate(ee.flush.bind(ee,null))))}recycleAsyncId(ee,ue,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(ee,ue,oe);0===ee.actions.length&&(E.clearImmediate(ue),ee.scheduled=void 0)}})},353:(ye,X,v)=>{"use strict";v.d(X,{P:()=>P});var n=v(6686);const P=new(v(2268).v)(n.o)},341:(ye,X,v)=>{"use strict";v.d(X,{c:()=>M,N:()=>E});var n=v(6686),h=v(2268);const E=new class P extends h.v{}(class e extends n.o{constructor(V,j){super(V,j),this.scheduler=V,this.work=j}schedule(V,j=0){return j>0?super.schedule(V,j):(this.delay=j,this.state=V,this.scheduler.flush(this),this)}execute(V,j){return j>0||this.closed?super.execute(V,j):this._execute(V,j)}requestAsyncId(V,j,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(V,j,H):V.flush(this)}}),M=E},5430:(ye,X,v)=>{"use strict";v.d(X,{hZ:()=>e});const e=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(ye,X,v)=>{"use strict";v.d(X,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(ye,X,v)=>{"use strict";v.d(X,{b:()=>n});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(ye,X,v)=>{"use strict";v.d(X,{W:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})()},4450:(ye,X,v)=>{"use strict";v.d(X,{K:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return h.prototype=Object.create(Error.prototype),h})()},5279:(ye,X,v)=>{"use strict";v.d(X,{N:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return h.prototype=Object.create(Error.prototype),h})()},2782:(ye,X,v)=>{"use strict";function n(e){setTimeout(()=>{throw e},0)}v.d(X,{z:()=>n})},5379:(ye,X,v)=>{"use strict";function n(e){return e}v.d(X,{y:()=>n})},6688:(ye,X,v)=>{"use strict";v.d(X,{k:()=>n});const n=Array.isArray||(e=>e&&"number"==typeof e.length)},8515:(ye,X,v)=>{"use strict";v.d(X,{z:()=>n});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2697:(ye,X,v)=>{"use strict";function n(e){return e instanceof Date&&!isNaN(+e)}v.d(X,{J:()=>n})},7043:(ye,X,v)=>{"use strict";function n(e){return"function"==typeof e}v.d(X,{m:()=>n})},4241:(ye,X,v)=>{"use strict";v.d(X,{k:()=>e});var n=v(6688);function e(h){return!(0,n.k)(h)&&h-parseFloat(h)+1>=0}},7830:(ye,X,v)=>{"use strict";function n(e){return null!==e&&"object"==typeof e}v.d(X,{K:()=>n})},4715:(ye,X,v)=>{"use strict";v.d(X,{b:()=>e});var n=v(6498);function e(h){return!!h&&(h instanceof n.y||"function"==typeof h.lift&&"function"==typeof h.subscribe)}},8955:(ye,X,v)=>{"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}v.d(X,{t:()=>n})},2866:(ye,X,v)=>{"use strict";function n(e){return e&&"function"==typeof e.schedule}v.d(X,{K:()=>n})},7876:(ye,X,v)=>{"use strict";function n(){}v.d(X,{Z:()=>n})},4843:(ye,X,v)=>{"use strict";v.d(X,{U:()=>h,z:()=>e});var n=v(5379);function e(...P){return h(P)}function h(P){return 0===P.length?n.y:1===P.length?P[0]:function(M){return P.reduce((R,V)=>V(R),M)}}},9249:(ye,X,v)=>{"use strict";v.d(X,{s:()=>G});var n=v(3650),e=v(2782),P=v(5430),M=v(3821),V=v(8515),j=v(8955),H=v(7830);const G=z=>{if(z&&"function"==typeof z[M.L])return(z=>q=>{const ee=z[M.L]();if("function"!=typeof ee.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ee.subscribe(q)})(z);if((0,V.z)(z))return(0,n.V)(z);if((0,j.t)(z))return(z=>q=>(z.then(ee=>{q.closed||(q.next(ee),q.complete())},ee=>q.error(ee)).then(null,e.z),q))(z);if(z&&"function"==typeof z[P.hZ])return(z=>q=>{const ee=z[P.hZ]();for(;;){let ue;try{ue=ee.next()}catch(oe){return q.error(oe),q}if(ue.done){q.complete();break}if(q.next(ue.value),q.closed)break}return"function"==typeof ee.return&&q.add(()=>{ee.return&&ee.return()}),q})(z);{const ee=`You provided ${(0,H.K)(z)?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ee)}}},3650:(ye,X,v)=>{"use strict";v.d(X,{V:()=>n});const n=e=>h=>{for(let P=0,E=e.length;P<E&&!h.closed;P++)h.next(e[P]);h.complete()}},448:(ye,X,v)=>{"use strict";v.d(X,{D:()=>E});var n=v(3489);class e extends n.L{constructor(R,V,j){super(),this.parent=R,this.outerValue=V,this.outerIndex=j,this.index=0}_next(R){this.parent.notifyNext(this.outerValue,R,this.outerIndex,this.index++,this)}_error(R){this.parent.notifyError(R,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var h=v(9249),P=v(6498);function E(M,R,V,j,H=new e(M,V,j)){if(!H.closed)return R instanceof P.y?R.subscribe(H):(0,h.s)(R)(H)}},655:(ye,X,v)=>{"use strict";function E(fe,ie,ne,Ve){var Ee,_e=arguments.length,Ue=_e<3?ie:null===Ve?Ve=Object.getOwnPropertyDescriptor(ie,ne):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(fe,ie,ne,Ve);else for(var Ot=fe.length-1;Ot>=0;Ot--)(Ee=fe[Ot])&&(Ue=(_e<3?Ee(Ue):_e>3?Ee(ie,ne,Ue):Ee(ie,ne))||Ue);return _e>3&&Ue&&Object.defineProperty(ie,ne,Ue),Ue}function M(fe,ie){return function(ne,Ve){ie(ne,Ve,fe)}}v.d(X,{fM:()=>M,gn:()=>E})},2136:(ye,X,v)=>{var n;if("function"==typeof fetch&&(n=typeof global<"u"&&global.fetch?global.fetch:typeof window<"u"&&window.fetch?window.fetch:fetch),typeof window>"u"||typeof window.document>"u"){var e=n||v(8472);e.default&&(e=e.default),X.default=e,ye.exports=X.default}},9671:(ye,X,v)=>{"use strict";function n(h,P,E,M,R,V,j){try{var H=h[V](j),G=H.value}catch(z){return void E(z)}H.done?P(G):Promise.resolve(G).then(M,R)}function e(h){return function(){var P=this,E=arguments;return new Promise(function(M,R){var V=h.apply(P,E);function j(G){n(V,M,R,j,H,"next",G)}function H(G){n(V,M,R,j,H,"throw",G)}j(void 0)})}}v.d(X,{Z:()=>e})},6895:(ye,X,v)=>{"use strict";v.d(X,{Do:()=>ze,ED:()=>mo,EM:()=>Ho,HT:()=>E,JF:()=>je,JJ:()=>Go,K0:()=>R,Mx:()=>vr,NF:()=>vo,Nd:()=>Xo,O5:()=>Hn,OU:()=>Vo,Ov:()=>ln,PM:()=>oo,RF:()=>wr,S$:()=>De,Ts:()=>xo,V_:()=>H,Ye:()=>Ge,b0:()=>ot,bD:()=>Mo,dv:()=>Zt,ez:()=>ti,i8:()=>Jn,jK:()=>ut,mk:()=>Dn,n9:()=>Xr,q:()=>h,sg:()=>ar,tP:()=>xe,uU:()=>to,uf:()=>Jt,wE:()=>Re,wM:()=>ie,w_:()=>M,xG:()=>mt});var n=v(4650);let e=null;function h(){return e}function E(w){e||(e=w)}class M{}const R=new n.OlP("DocumentToken");let V=(()=>{class w{historyGo(B){throw new Error("Not implemented")}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275prov=n.Yz7({token:w,factory:function(){return function j(){return(0,n.LFG)(G)}()},providedIn:"platform"}),w})();const H=new n.OlP("Location Initialized");let G=(()=>{class w extends V{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(B){const ce=h().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",B,!1),()=>ce.removeEventListener("popstate",B)}onHashChange(B){const ce=h().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",B,!1),()=>ce.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ce,$e){z()?this._history.pushState(B,ce,$e):this.location.hash=$e}replaceState(B,ce,$e){z()?this._history.replaceState(B,ce,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return w.\u0275fac=function(B){return new(B||w)(n.LFG(R))},w.\u0275prov=n.Yz7({token:w,factory:function(){return function q(){return new G((0,n.LFG)(R))}()},providedIn:"platform"}),w})();function z(){return!!window.history.pushState}function ee(w,W){if(0==w.length)return W;if(0==W.length)return w;let B=0;return w.endsWith("/")&&B++,W.startsWith("/")&&B++,2==B?w+W.substring(1):1==B?w+W:w+"/"+W}function ue(w){const W=w.match(/#|\?|$/),B=W&&W.index||w.length;return w.slice(0,B-("/"===w[B-1]?1:0))+w.slice(B)}function oe(w){return w&&"?"!==w[0]?"?"+w:w}let De=(()=>{class w{historyGo(B){throw new Error("Not implemented")}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275prov=n.Yz7({token:w,factory:function(){return(0,n.f3M)(ot)},providedIn:"root"}),w})();const Ye=new n.OlP("appBaseHref");let ot=(()=>{class w extends De{constructor(B,ce){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=ce??this._platformLocation.getBaseHrefFromDOM()??(0,n.f3M)(R).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ee(this._baseHref,B)}path(B=!1){const ce=this._platformLocation.pathname+oe(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&B?`${ce}${$e}`:ce}pushState(B,ce,$e,Et){const xt=this.prepareExternalUrl($e+oe(Et));this._platformLocation.pushState(B,ce,xt)}replaceState(B,ce,$e,Et){const xt=this.prepareExternalUrl($e+oe(Et));this._platformLocation.replaceState(B,ce,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return w.\u0275fac=function(B){return new(B||w)(n.LFG(V),n.LFG(Ye,8))},w.\u0275prov=n.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),ze=(()=>{class w extends De{constructor(B,ce){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(B){const ce=ee(this._baseHref,B);return ce.length>0?"#"+ce:ce}pushState(B,ce,$e,Et){let xt=this.prepareExternalUrl($e+oe(Et));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.pushState(B,ce,xt)}replaceState(B,ce,$e,Et){let xt=this.prepareExternalUrl($e+oe(Et));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.replaceState(B,ce,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return w.\u0275fac=function(B){return new(B||w)(n.LFG(V),n.LFG(Ye,8))},w.\u0275prov=n.Yz7({token:w,factory:w.\u0275fac}),w})(),Ge=(()=>{class w{constructor(B){this._subject=new n.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ce=this._locationStrategy.getBaseHref();this._baseHref=ue(de(ce)),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ce=""){return this.path()==this.normalize(B+oe(ce))}normalize(B){return w.stripTrailingSlash(function ve(w,W){return w&&W.startsWith(w)?W.substring(w.length):W}(this._baseHref,de(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ce="",$e=null){this._locationStrategy.pushState($e,"",B,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+oe(ce)),$e)}replaceState(B,ce="",$e=null){this._locationStrategy.replaceState($e,"",B,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+oe(ce)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ce){this._urlChangeListeners.forEach($e=>$e(B,ce))}subscribe(B,ce,$e){return this._subject.subscribe({next:B,error:ce,complete:$e})}}return w.normalizeQueryParams=oe,w.joinWithSlash=ee,w.stripTrailingSlash=ue,w.\u0275fac=function(B){return new(B||w)(n.LFG(De))},w.\u0275prov=n.Yz7({token:w,factory:function(){return function ge(){return new Ge((0,n.LFG)(De))}()},providedIn:"root"}),w})();function de(w){return w.replace(/\/index.html$/,"")}const Ke={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var rt=(()=>((rt=rt||{})[rt.Decimal=0]="Decimal",rt[rt.Percent=1]="Percent",rt[rt.Currency=2]="Currency",rt[rt.Scientific=3]="Scientific",rt))(),Nt=(()=>((Nt=Nt||{})[Nt.Format=0]="Format",Nt[Nt.Standalone=1]="Standalone",Nt))(),Fe=(()=>((Fe=Fe||{})[Fe.Narrow=0]="Narrow",Fe[Fe.Abbreviated=1]="Abbreviated",Fe[Fe.Wide=2]="Wide",Fe[Fe.Short=3]="Short",Fe))(),ht=(()=>((ht=ht||{})[ht.Short=0]="Short",ht[ht.Medium=1]="Medium",ht[ht.Long=2]="Long",ht[ht.Full=3]="Full",ht))(),Re=(()=>((Re=Re||{})[Re.Decimal=0]="Decimal",Re[Re.Group=1]="Group",Re[Re.List=2]="List",Re[Re.PercentSign=3]="PercentSign",Re[Re.PlusSign=4]="PlusSign",Re[Re.MinusSign=5]="MinusSign",Re[Re.Exponential=6]="Exponential",Re[Re.SuperscriptingExponent=7]="SuperscriptingExponent",Re[Re.PerMille=8]="PerMille",Re[Re.Infinity=9]="Infinity",Re[Re.NaN=10]="NaN",Re[Re.TimeSeparator=11]="TimeSeparator",Re[Re.CurrencyDecimal=12]="CurrencyDecimal",Re[Re.CurrencyGroup=13]="CurrencyGroup",Re))();function ie(w){return(0,n.cg1)(w)[n.wAp.LocaleId]}function Ft(w,W){return Ut((0,n.cg1)(w)[n.wAp.DateFormat],W)}function Ct(w,W){return Ut((0,n.cg1)(w)[n.wAp.TimeFormat],W)}function it(w,W){return Ut((0,n.cg1)(w)[n.wAp.DateTimeFormat],W)}function Zt(w,W){const B=(0,n.cg1)(w),ce=B[n.wAp.NumberSymbols][W];if(typeof ce>"u"){if(W===Re.CurrencyDecimal)return B[n.wAp.NumberSymbols][Re.Decimal];if(W===Re.CurrencyGroup)return B[n.wAp.NumberSymbols][Re.Group]}return ce}function wt(w,W){return(0,n.cg1)(w)[n.wAp.NumberFormats][W]}function Ze(w){if(!w[n.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${w[n.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ut(w,W){for(let B=W;B>-1;B--)if(typeof w[B]<"u")return w[B];throw new Error("Locale data API: locale data undefined")}function pn(w){const[W,B]=w.split(":");return{hours:+W,minutes:+B}}function ut(w,W,B="en"){const ce=function me(w){return(0,n.cg1)(w)[n.wAp.Currencies]}(B)[w]||Ke[w]||[],$e=ce[1];return"narrow"===W&&"string"==typeof $e?$e:ce[0]||w}const mn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,En={},Ce=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Te=(()=>((Te=Te||{})[Te.Short=0]="Short",Te[Te.ShortGMT=1]="ShortGMT",Te[Te.Long=2]="Long",Te[Te.Extended=3]="Extended",Te))(),Me=(()=>((Me=Me||{})[Me.FullYear=0]="FullYear",Me[Me.Month=1]="Month",Me[Me.Date=2]="Date",Me[Me.Hours=3]="Hours",Me[Me.Minutes=4]="Minutes",Me[Me.Seconds=5]="Seconds",Me[Me.FractionalSeconds=6]="FractionalSeconds",Me[Me.Day=7]="Day",Me))(),pt=(()=>((pt=pt||{})[pt.DayPeriods=0]="DayPeriods",pt[pt.Days=1]="Days",pt[pt.Months=2]="Months",pt[pt.Eras=3]="Eras",pt))();function ft(w,W,B,ce){let $e=function wn(w){if(zn(w))return w;if("number"==typeof w&&!isNaN(w))return new Date(w);if("string"==typeof w){if(w=w.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(w)){const[$e,Et=1,xt=1]=w.split("-").map(fn=>+fn);return nn($e,Et-1,xt)}const B=parseFloat(w);if(!isNaN(w-B))return new Date(B);let ce;if(ce=w.match(mn))return function Ln(w){const W=new Date(0);let B=0,ce=0;const $e=w[8]?W.setUTCFullYear:W.setFullYear,Et=w[8]?W.setUTCHours:W.setHours;w[9]&&(B=Number(w[9]+w[10]),ce=Number(w[9]+w[11])),$e.call(W,Number(w[1]),Number(w[2])-1,Number(w[3]));const xt=Number(w[4]||0)-B,fn=Number(w[5]||0)-ce,ir=Number(w[6]||0),Qn=Math.floor(1e3*parseFloat("0."+(w[7]||0)));return Et.call(W,xt,fn,ir,Qn),W}(ce)}const W=new Date(w);if(!zn(W))throw new Error(`Unable to convert "${w}" into a date`);return W}(w);W=zt(B,W)||W;let fn,xt=[];for(;W;){if(fn=Ce.exec(W),!fn){xt.push(W);break}{xt=xt.concat(fn.slice(1));const qn=xt.pop();if(!qn)break;W=qn}}let ir=$e.getTimezoneOffset();ce&&(ir=kn(ce,ir),$e=function yn(w,W,B){const ce=B?-1:1,$e=w.getTimezoneOffset();return function dr(w,W){return(w=new Date(w.getTime())).setMinutes(w.getMinutes()+W),w}(w,ce*(kn(W,$e)-$e))}($e,ce,!0));let Qn="";return xt.forEach(qn=>{const Bn=function Gn(w){if(xn[w])return xn[w];let W;switch(w){case"G":case"GG":case"GGG":W=qe(pt.Eras,Fe.Abbreviated);break;case"GGGG":W=qe(pt.Eras,Fe.Wide);break;case"GGGGG":W=qe(pt.Eras,Fe.Narrow);break;case"y":W=yt(Me.FullYear,1,0,!1,!0);break;case"yy":W=yt(Me.FullYear,2,0,!0,!0);break;case"yyy":W=yt(Me.FullYear,3,0,!1,!0);break;case"yyyy":W=yt(Me.FullYear,4,0,!1,!0);break;case"Y":W=st(1);break;case"YY":W=st(2,!0);break;case"YYY":W=st(3);break;case"YYYY":W=st(4);break;case"M":case"L":W=yt(Me.Month,1,1);break;case"MM":case"LL":W=yt(Me.Month,2,1);break;case"MMM":W=qe(pt.Months,Fe.Abbreviated);break;case"MMMM":W=qe(pt.Months,Fe.Wide);break;case"MMMMM":W=qe(pt.Months,Fe.Narrow);break;case"LLL":W=qe(pt.Months,Fe.Abbreviated,Nt.Standalone);break;case"LLLL":W=qe(pt.Months,Fe.Wide,Nt.Standalone);break;case"LLLLL":W=qe(pt.Months,Fe.Narrow,Nt.Standalone);break;case"w":W=Vt(1);break;case"ww":W=Vt(2);break;case"W":W=Vt(1,!0);break;case"d":W=yt(Me.Date,1);break;case"dd":W=yt(Me.Date,2);break;case"c":case"cc":W=yt(Me.Day,1);break;case"ccc":W=qe(pt.Days,Fe.Abbreviated,Nt.Standalone);break;case"cccc":W=qe(pt.Days,Fe.Wide,Nt.Standalone);break;case"ccccc":W=qe(pt.Days,Fe.Narrow,Nt.Standalone);break;case"cccccc":W=qe(pt.Days,Fe.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":W=qe(pt.Days,Fe.Abbreviated);break;case"EEEE":W=qe(pt.Days,Fe.Wide);break;case"EEEEE":W=qe(pt.Days,Fe.Narrow);break;case"EEEEEE":W=qe(pt.Days,Fe.Short);break;case"a":case"aa":case"aaa":W=qe(pt.DayPeriods,Fe.Abbreviated);break;case"aaaa":W=qe(pt.DayPeriods,Fe.Wide);break;case"aaaaa":W=qe(pt.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":W=qe(pt.DayPeriods,Fe.Abbreviated,Nt.Standalone,!0);break;case"bbbb":W=qe(pt.DayPeriods,Fe.Wide,Nt.Standalone,!0);break;case"bbbbb":W=qe(pt.DayPeriods,Fe.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":W=qe(pt.DayPeriods,Fe.Abbreviated,Nt.Format,!0);break;case"BBBB":W=qe(pt.DayPeriods,Fe.Wide,Nt.Format,!0);break;case"BBBBB":W=qe(pt.DayPeriods,Fe.Narrow,Nt.Format,!0);break;case"h":W=yt(Me.Hours,1,-12);break;case"hh":W=yt(Me.Hours,2,-12);break;case"H":W=yt(Me.Hours,1);break;case"HH":W=yt(Me.Hours,2);break;case"m":W=yt(Me.Minutes,1);break;case"mm":W=yt(Me.Minutes,2);break;case"s":W=yt(Me.Seconds,1);break;case"ss":W=yt(Me.Seconds,2);break;case"S":W=yt(Me.FractionalSeconds,1);break;case"SS":W=yt(Me.FractionalSeconds,2);break;case"SSS":W=yt(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=We(Te.Short);break;case"ZZZZZ":W=We(Te.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=We(Te.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=We(Te.Long);break;default:return null}return xn[w]=W,W}(qn);Qn+=Bn?Bn($e,B,ir):"''"===qn?"'":qn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qn}function nn(w,W,B){const ce=new Date(0);return ce.setFullYear(w,W,B),ce.setHours(0,0,0),ce}function zt(w,W){const B=ie(w);if(En[B]=En[B]||{},En[B][W])return En[B][W];let ce="";switch(W){case"shortDate":ce=Ft(w,ht.Short);break;case"mediumDate":ce=Ft(w,ht.Medium);break;case"longDate":ce=Ft(w,ht.Long);break;case"fullDate":ce=Ft(w,ht.Full);break;case"shortTime":ce=Ct(w,ht.Short);break;case"mediumTime":ce=Ct(w,ht.Medium);break;case"longTime":ce=Ct(w,ht.Long);break;case"fullTime":ce=Ct(w,ht.Full);break;case"short":const $e=zt(w,"shortTime"),Et=zt(w,"shortDate");ce=hn(it(w,ht.Short),[$e,Et]);break;case"medium":const xt=zt(w,"mediumTime"),fn=zt(w,"mediumDate");ce=hn(it(w,ht.Medium),[xt,fn]);break;case"long":const ir=zt(w,"longTime"),Qn=zt(w,"longDate");ce=hn(it(w,ht.Long),[ir,Qn]);break;case"full":const qn=zt(w,"fullTime"),Bn=zt(w,"fullDate");ce=hn(it(w,ht.Full),[qn,Bn])}return ce&&(En[B][W]=ce),ce}function hn(w,W){return W&&(w=w.replace(/\{([^}]+)}/g,function(B,ce){return null!=W&&ce in W?W[ce]:B})),w}function Wt(w,W,B="-",ce,$e){let Et="";(w<0||$e&&w<=0)&&($e?w=1-w:(w=-w,Et=B));let xt=String(w);for(;xt.length<W;)xt="0"+xt;return ce&&(xt=xt.slice(xt.length-W)),Et+xt}function yt(w,W,B=0,ce=!1,$e=!1){return function(Et,xt){let fn=function Ae(w,W){switch(w){case Me.FullYear:return W.getFullYear();case Me.Month:return W.getMonth();case Me.Date:return W.getDate();case Me.Hours:return W.getHours();case Me.Minutes:return W.getMinutes();case Me.Seconds:return W.getSeconds();case Me.FractionalSeconds:return W.getMilliseconds();case Me.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${w}".`)}}(w,Et);if((B>0||fn>-B)&&(fn+=B),w===Me.Hours)0===fn&&-12===B&&(fn=12);else if(w===Me.FractionalSeconds)return function Oe(w,W){return Wt(w,3).substring(0,W)}(fn,W);const ir=Zt(xt,Re.MinusSign);return Wt(fn,W,ir,ce,$e)}}function qe(w,W,B=Nt.Format,ce=!1){return function($e,Et){return function Gt(w,W,B,ce,$e,Et){switch(B){case pt.Months:return function _e(w,W,B){const ce=(0,n.cg1)(w),Et=Ut([ce[n.wAp.MonthsFormat],ce[n.wAp.MonthsStandalone]],W);return Ut(Et,B)}(W,$e,ce)[w.getMonth()];case pt.Days:return function Ve(w,W,B){const ce=(0,n.cg1)(w),Et=Ut([ce[n.wAp.DaysFormat],ce[n.wAp.DaysStandalone]],W);return Ut(Et,B)}(W,$e,ce)[w.getDay()];case pt.DayPeriods:const xt=w.getHours(),fn=w.getMinutes();if(Et){const Qn=function $t(w){const W=(0,n.cg1)(w);return Ze(W),(W[n.wAp.ExtraData][2]||[]).map(ce=>"string"==typeof ce?pn(ce):[pn(ce[0]),pn(ce[1])])}(W),qn=function It(w,W,B){const ce=(0,n.cg1)(w);Ze(ce);const Et=Ut([ce[n.wAp.ExtraData][0],ce[n.wAp.ExtraData][1]],W)||[];return Ut(Et,B)||[]}(W,$e,ce),Bn=Qn.findIndex(br=>{if(Array.isArray(br)){const[jn,Pr]=br,Ro=xt>=jn.hours&&fn>=jn.minutes,Do=xt<Pr.hours||xt===Pr.hours&&fn<Pr.minutes;if(jn.hours<Pr.hours){if(Ro&&Do)return!0}else if(Ro||Do)return!0}else if(br.hours===xt&&br.minutes===fn)return!0;return!1});if(-1!==Bn)return qn[Bn]}return function ne(w,W,B){const ce=(0,n.cg1)(w),Et=Ut([ce[n.wAp.DayPeriodsFormat],ce[n.wAp.DayPeriodsStandalone]],W);return Ut(Et,B)}(W,$e,ce)[xt<12?0:1];case pt.Eras:return function Ue(w,W){return Ut((0,n.cg1)(w)[n.wAp.Eras],W)}(W,ce)[w.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}($e,Et,w,W,B,ce)}}function We(w){return function(W,B,ce){const $e=-1*ce,Et=Zt(B,Re.MinusSign),xt=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(w){case Te.Short:return($e>=0?"+":"")+Wt(xt,2,Et)+Wt(Math.abs($e%60),2,Et);case Te.ShortGMT:return"GMT"+($e>=0?"+":"")+Wt(xt,1,Et);case Te.Long:return"GMT"+($e>=0?"+":"")+Wt(xt,2,Et)+":"+Wt(Math.abs($e%60),2,Et);case Te.Extended:return 0===ce?"Z":($e>=0?"+":"")+Wt(xt,2,Et)+":"+Wt(Math.abs($e%60),2,Et);default:throw new Error(`Unknown zone width "${w}"`)}}}function un(w){return nn(w.getFullYear(),w.getMonth(),w.getDate()+(4-w.getDay()))}function Vt(w,W=!1){return function(B,ce){let $e;if(W){const Et=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,xt=B.getDate();$e=1+Math.floor((xt+Et)/7)}else{const Et=un(B),xt=function Lt(w){const W=nn(w,0,1).getDay();return nn(w,0,1+(W<=4?4:11)-W)}(Et.getFullYear()),fn=Et.getTime()-xt.getTime();$e=1+Math.round(fn/6048e5)}return Wt($e,w,Zt(ce,Re.MinusSign))}}function st(w,W=!1){return function(B,ce){return Wt(un(B).getFullYear(),w,Zt(ce,Re.MinusSign),W)}}const xn={};function kn(w,W){w=w.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+w)/6e4;return isNaN(B)?W:B}function zn(w){return w instanceof Date&&!isNaN(w.valueOf())}const er=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Je(w,W,B,ce,$e,Et,xt=!1){let fn="",ir=!1;if(isFinite(w)){let Qn=function ur(w){let ce,$e,Et,xt,fn,W=Math.abs(w)+"",B=0;for(($e=W.indexOf("."))>-1&&(W=W.replace(".","")),(Et=W.search(/e/i))>0?($e<0&&($e=Et),$e+=+W.slice(Et+1),W=W.substring(0,Et)):$e<0&&($e=W.length),Et=0;"0"===W.charAt(Et);Et++);if(Et===(fn=W.length))ce=[0],$e=1;else{for(fn--;"0"===W.charAt(fn);)fn--;for($e-=Et,ce=[],xt=0;Et<=fn;Et++,xt++)ce[xt]=Number(W.charAt(Et))}return $e>22&&(ce=ce.splice(0,21),B=$e-1,$e=1),{digits:ce,exponent:B,integerLen:$e}}(w);xt&&(Qn=function Pn(w){if(0===w.digits[0])return w;const W=w.digits.length-w.integerLen;return w.exponent?w.exponent+=2:(0===W?w.digits.push(0,0):1===W&&w.digits.push(0),w.integerLen+=2),w}(Qn));let qn=W.minInt,Bn=W.minFrac,br=W.maxFrac;if(Et){const Yr=Et.match(er);if(null===Yr)throw new Error(`${Et} is not a valid digit info`);const Yo=Yr[1],Di=Yr[3],qs=Yr[5];null!=Yo&&(qn=Tn(Yo)),null!=Di&&(Bn=Tn(Di)),null!=qs?br=Tn(qs):null!=Di&&Bn>br&&(br=Bn)}!function Vn(w,W,B){if(W>B)throw new Error(`The minimum number of digits after fraction (${W}) is higher than the maximum (${B}).`);let ce=w.digits,$e=ce.length-w.integerLen;const Et=Math.min(Math.max(W,$e),B);let xt=Et+w.integerLen,fn=ce[xt];if(xt>0){ce.splice(Math.max(w.integerLen,xt));for(let Bn=xt;Bn<ce.length;Bn++)ce[Bn]=0}else{$e=Math.max(0,$e),w.integerLen=1,ce.length=Math.max(1,xt=Et+1),ce[0]=0;for(let Bn=1;Bn<xt;Bn++)ce[Bn]=0}if(fn>=5)if(xt-1<0){for(let Bn=0;Bn>xt;Bn--)ce.unshift(0),w.integerLen++;ce.unshift(1),w.integerLen++}else ce[xt-1]++;for(;$e<Math.max(0,Et);$e++)ce.push(0);let ir=0!==Et;const Qn=W+w.integerLen,qn=ce.reduceRight(function(Bn,br,jn,Pr){return Pr[jn]=(br+=Bn)<10?br:br-10,ir&&(0===Pr[jn]&&jn>=Qn?Pr.pop():ir=!1),br>=10?1:0},0);qn&&(ce.unshift(qn),w.integerLen++)}(Qn,Bn,br);let jn=Qn.digits,Pr=Qn.integerLen;const Ro=Qn.exponent;let Do=[];for(ir=jn.every(Yr=>!Yr);Pr<qn;Pr++)jn.unshift(0);for(;Pr<0;Pr++)jn.unshift(0);Pr>0?Do=jn.splice(Pr,jn.length):(Do=jn,jn=[0]);const fi=[];for(jn.length>=W.lgSize&&fi.unshift(jn.splice(-W.lgSize,jn.length).join(""));jn.length>W.gSize;)fi.unshift(jn.splice(-W.gSize,jn.length).join(""));jn.length&&fi.unshift(jn.join("")),fn=fi.join(Zt(B,ce)),Do.length&&(fn+=Zt(B,$e)+Do.join("")),Ro&&(fn+=Zt(B,Re.Exponential)+"+"+Ro)}else fn=Zt(B,Re.Infinity);return fn=w<0&&!ir?W.negPre+fn+W.negSuf:W.posPre+fn+W.posSuf,fn}function mt(w,W,B,ce,$e){const xt=Un(wt(W,rt.Currency),Zt(W,Re.MinusSign));return xt.minFrac=function Pt(w){let W;const B=Ke[w];return B&&(W=B[2]),"number"==typeof W?W:2}(ce),xt.maxFrac=xt.minFrac,Je(w,xt,W,Re.CurrencyGroup,Re.CurrencyDecimal,$e).replace("\xa4",B).replace("\xa4","").trim()}function Jt(w,W,B){return Je(w,Un(wt(W,rt.Decimal),Zt(W,Re.MinusSign)),W,Re.Group,Re.Decimal,B)}function Un(w,W="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=w.split(";"),$e=ce[0],Et=ce[1],xt=-1!==$e.indexOf(".")?$e.split("."):[$e.substring(0,$e.lastIndexOf("0")+1),$e.substring($e.lastIndexOf("0")+1)],fn=xt[0],ir=xt[1]||"";B.posPre=fn.substring(0,fn.indexOf("#"));for(let qn=0;qn<ir.length;qn++){const Bn=ir.charAt(qn);"0"===Bn?B.minFrac=B.maxFrac=qn+1:"#"===Bn?B.maxFrac=qn+1:B.posSuf+=Bn}const Qn=fn.split(",");if(B.gSize=Qn[1]?Qn[1].length:0,B.lgSize=Qn[2]||Qn[1]?(Qn[2]||Qn[1]).length:0,Et){const qn=$e.length-B.posPre.length-B.posSuf.length,Bn=Et.indexOf("#");B.negPre=Et.substring(0,Bn).replace(/'/g,""),B.negSuf=Et.slice(Bn+qn).replace(/'/g,"")}else B.negPre=W+B.posPre,B.negSuf=B.posSuf;return B}function Tn(w){const W=parseInt(w);if(isNaN(W))throw new Error("Invalid integer literal when parsing "+w);return W}function vr(w,W){W=encodeURIComponent(W);for(const B of w.split(";")){const ce=B.indexOf("="),[$e,Et]=-1==ce?[B,""]:[B.slice(0,ce),B.slice(ce+1)];if($e.trim()===W)return decodeURIComponent(Et)}return null}let Dn=(()=>{class w{constructor(B,ce,$e,Et){this._iterableDiffers=B,this._keyValueDiffers=ce,this._ngEl=$e,this._renderer=Et,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),B.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),B.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),B.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(B).forEach(ce=>this._toggleClass(ce,!!B[ce])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(B).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(B,ce){(B=B.trim())&&B.split(/\s+/g).forEach($e=>{ce?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),w})();class pr{constructor(W,B,ce,$e){this.$implicit=W,this.ngForOf=B,this.index=ce,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ar=(()=>{class w{constructor(B,ce,$e){this._viewContainer=B,this._template=ce,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ce=this._viewContainer;B.forEachOperation(($e,Et,xt)=>{if(null==$e.previousIndex)ce.createEmbeddedView(this._template,new pr($e.item,this._ngForOf,-1,-1),null===xt?void 0:xt);else if(null==xt)ce.remove(null===Et?void 0:Et);else if(null!==Et){const fn=ce.get(Et);ce.move(fn,xt),_r(fn,$e)}});for(let $e=0,Et=ce.length;$e<Et;$e++){const fn=ce.get($e).context;fn.index=$e,fn.count=Et,fn.ngForOf=this._ngForOf}B.forEachIdentityChange($e=>{_r(ce.get($e.currentIndex),$e)})}static ngTemplateContextGuard(B,ce){return!0}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),w})();function _r(w,W){w.context.$implicit=W.item}let Hn=(()=>{class w{constructor(B,ce){this._viewContainer=B,this._context=new rr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Mn("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Mn("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ce){return!0}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.s_b),n.Y36(n.Rgc))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),w})();class rr{constructor(){this.$implicit=null,this.ngIf=null}}function Mn(w,W){if(W&&!W.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,n.AaK)(W)}'.`)}class or{constructor(W,B){this._viewContainerRef=W,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(W){W&&!this._created?this.create():!W&&this._created&&this.destroy()}}let wr=(()=>{class w{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const ce=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(B)}}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275dir=n.lG2({type:w,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),w})(),Xr=(()=>{class w{constructor(B,ce,$e){this.ngSwitch=$e,$e._addCase(),this._view=new or(B,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(wr,9))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),w})(),mo=(()=>{class w{constructor(B,ce,$e){$e._addDefault(new or(B,ce))}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(wr,9))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngSwitchDefault",""]],standalone:!0}),w})(),xe=(()=>{class w{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$e,ngTemplateOutletContext:Et,ngTemplateOutletInjector:xt}=this;this._viewRef=ce.createEmbeddedView($e,Et,xt?{injector:xt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.s_b))},w.\u0275dir=n.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[n.TTD]}),w})();function J(w,W){return new n.vHH(2100,!1)}class He{createSubscription(W,B){return W.subscribe({next:B,error:ce=>{throw ce}})}dispose(W){W.unsubscribe()}}class Rt{createSubscription(W,B){return W.then(B,ce=>{throw ce})}dispose(W){}}const rn=new Rt,gn=new He;let ln=(()=>{class w{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,ce=>this._updateLatestValue(B,ce))}_selectStrategy(B){if((0,n.QGY)(B))return rn;if((0,n.F4k)(B))return gn;throw J()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,ce){B===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.sBO,16))},w.\u0275pipe=n.Yjl({name:"async",type:w,pure:!1,standalone:!0}),w})(),Jn=(()=>{class w{transform(B){if(null==B)return null;if("string"!=typeof B)throw J();return B.toLowerCase()}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275pipe=n.Yjl({name:"lowercase",type:w,pure:!0,standalone:!0}),w})();const To=new n.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let to=(()=>{class w{constructor(B,ce){this.locale=B,this.defaultTimezone=ce}transform(B,ce="mediumDate",$e,Et){if(null==B||""===B||B!=B)return null;try{return ft(B,ce,Et||this.locale,$e??this.defaultTimezone??void 0)}catch(xt){throw J()}}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.soG,16),n.Y36(To,24))},w.\u0275pipe=n.Yjl({name:"date",type:w,pure:!0,standalone:!0}),w})(),xo=(()=>{class w{transform(B){return JSON.stringify(B,null,2)}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275pipe=n.Yjl({name:"json",type:w,pure:!1,standalone:!0}),w})(),Xo=(()=>{class w{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=jr}transform(B,ce=jr){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const $e=this.differ.diff(B),Et=ce!==this.compareFn;return $e&&(this.keyValues=[],$e.forEachItem(xt=>{this.keyValues.push(function Bo(w,W){return{key:w,value:W}}(xt.key,xt.currentValue))})),($e||Et)&&(this.keyValues.sort(ce),this.compareFn=ce),this.keyValues}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.aQg,16))},w.\u0275pipe=n.Yjl({name:"keyvalue",type:w,pure:!1,standalone:!0}),w})();function jr(w,W){const B=w.key,ce=W.key;if(B===ce)return 0;if(void 0===B)return 1;if(void 0===ce)return-1;if(null===B)return 1;if(null===ce)return-1;if("string"==typeof B&&"string"==typeof ce)return B<ce?-1:1;if("number"==typeof B&&"number"==typeof ce)return B-ce;if("boolean"==typeof B&&"boolean"==typeof ce)return B<ce?-1:1;const $e=String(B),Et=String(ce);return $e==Et?0:$e<Et?-1:1}let Go=(()=>{class w{constructor(B){this._locale=B}transform(B,ce,$e){if(!function Eo(w){return!(null==w||""===w||w!=w)}(B))return null;$e=$e||this._locale;try{return Jt(function Ao(w){if("string"==typeof w&&!isNaN(Number(w)-parseFloat(w)))return Number(w);if("number"!=typeof w)throw new Error(`${w} is not a number`);return w}(B),$e,ce)}catch(Et){throw J()}}}return w.\u0275fac=function(B){return new(B||w)(n.Y36(n.soG,16))},w.\u0275pipe=n.Yjl({name:"number",type:w,pure:!0,standalone:!0}),w})();let Vo=(()=>{class w{transform(B,ce,$e){if(null==B)return null;if(!this.supports(B))throw J();return B.slice(ce,$e)}supports(B){return"string"==typeof B||Array.isArray(B)}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275pipe=n.Yjl({name:"slice",type:w,pure:!1,standalone:!0}),w})(),ti=(()=>{class w{}return w.\u0275fac=function(B){return new(B||w)},w.\u0275mod=n.oAB({type:w}),w.\u0275inj=n.cJS({}),w})();const Mo="browser";function vo(w){return w===Mo}function oo(w){return"server"===w}let Ho=(()=>{class w{}return w.\u0275prov=(0,n.Yz7)({token:w,providedIn:"root",factory:()=>new $o((0,n.LFG)(R),window)}),w})();class $o{constructor(W,B){this.document=W,this.window=B,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const B=function tr(w,W){const B=w.getElementById(W)||w.getElementsByName(W)[0];if(B)return B;if("function"==typeof w.createTreeWalker&&w.body&&(w.body.createShadowRoot||w.body.attachShadow)){const ce=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let $e=ce.currentNode;for(;$e;){const Et=$e.shadowRoot;if(Et){const xt=Et.getElementById(W)||Et.querySelector(`[name="${W}"]`);if(xt)return xt}$e=ce.nextNode()}}return null}(this.document,W);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=W)}}scrollToElement(W){const B=W.getBoundingClientRect(),ce=B.left+this.window.pageXOffset,$e=B.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(ce-Et[0],$e-Et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Io(this.window.history)||Io(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Io(w){return Object.getOwnPropertyDescriptor(w,"scrollRestoration")}class je{}},529:(ye,X,v)=>{"use strict";v.d(X,{JF:()=>Pt,LE:()=>Ye,TP:()=>Ve,UA:()=>Re,WM:()=>H,Xk:()=>ot,Zn:()=>ht,eN:()=>ie,mL:()=>z,qT:()=>ze});var n=v(6895),e=v(4650),h=v(1086),P=v(6498),E=v(1406),M=v(2198),R=v(4850);class V{}class j{}class H{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(Me=>{const pt=Me.indexOf(":");if(pt>0){const ft=Me.slice(0,pt),nn=ft.toLowerCase(),zt=Me.slice(pt+1).trim();this.maybeSetNormalizedName(ft,nn),this.headers.has(nn)?this.headers.get(nn).push(zt):this.headers.set(nn,[zt])}})}:()=>{this.headers=new Map,Object.keys(Te).forEach(Me=>{let pt=Te[Me];const ft=Me.toLowerCase();"string"==typeof pt&&(pt=[pt]),pt.length>0&&(this.headers.set(ft,pt),this.maybeSetNormalizedName(Me,ft))})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const Me=this.headers.get(Te.toLowerCase());return Me&&Me.length>0?Me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,Me){return this.clone({name:Te,value:Me,op:"a"})}set(Te,Me){return this.clone({name:Te,value:Me,op:"s"})}delete(Te,Me){return this.clone({name:Te,value:Me,op:"d"})}maybeSetNormalizedName(Te,Me){this.normalizedNames.has(Me)||this.normalizedNames.set(Me,Te)}init(){this.lazyInit&&(this.lazyInit instanceof H?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(Me=>{this.headers.set(Me,Te.headers.get(Me)),this.normalizedNames.set(Me,Te.normalizedNames.get(Me))})}clone(Te){const Me=new H;return Me.lazyInit=this.lazyInit&&this.lazyInit instanceof H?this.lazyInit:this,Me.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),Me}applyUpdate(Te){const Me=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let pt=Te.value;if("string"==typeof pt&&(pt=[pt]),0===pt.length)return;this.maybeSetNormalizedName(Te.name,Me);const ft=("a"===Te.op?this.headers.get(Me):void 0)||[];ft.push(...pt),this.headers.set(Me,ft);break;case"d":const nn=Te.value;if(nn){let zt=this.headers.get(Me);if(!zt)return;zt=zt.filter(hn=>-1===nn.indexOf(hn)),0===zt.length?(this.headers.delete(Me),this.normalizedNames.delete(Me)):this.headers.set(Me,zt)}else this.headers.delete(Me),this.normalizedNames.delete(Me)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(Me=>Te(this.normalizedNames.get(Me),this.headers.get(Me)))}}class z{encodeKey(Te){return oe(Te)}encodeValue(Te){return oe(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const ee=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oe(Ce){return encodeURIComponent(Ce).replace(ee,(Te,Me)=>ue[Me]??Te)}function De(Ce){return`${Ce}`}class Ye{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new z,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function q(Ce,Te){const Me=new Map;return Ce.length>0&&Ce.replace(/^\?/,"").split("&").forEach(ft=>{const nn=ft.indexOf("="),[zt,hn]=-1==nn?[Te.decodeKey(ft),""]:[Te.decodeKey(ft.slice(0,nn)),Te.decodeValue(ft.slice(nn+1))],Wt=Me.get(zt)||[];Wt.push(hn),Me.set(zt,Wt)}),Me}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(Me=>{const pt=Te.fromObject[Me],ft=Array.isArray(pt)?pt.map(De):[De(pt)];this.map.set(Me,ft)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const Me=this.map.get(Te);return Me?Me[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,Me){return this.clone({param:Te,value:Me,op:"a"})}appendAll(Te){const Me=[];return Object.keys(Te).forEach(pt=>{const ft=Te[pt];Array.isArray(ft)?ft.forEach(nn=>{Me.push({param:pt,value:nn,op:"a"})}):Me.push({param:pt,value:ft,op:"a"})}),this.clone(Me)}set(Te,Me){return this.clone({param:Te,value:Me,op:"s"})}delete(Te,Me){return this.clone({param:Te,value:Me,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const Me=this.encoder.encodeKey(Te);return this.map.get(Te).map(pt=>Me+"="+this.encoder.encodeValue(pt)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const Me=new Ye({encoder:this.encoder});return Me.cloneFrom=this.cloneFrom||this,Me.updates=(this.updates||[]).concat(Te),Me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const Me=("a"===Te.op?this.map.get(Te.param):void 0)||[];Me.push(De(Te.value)),this.map.set(Te.param,Me);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let pt=this.map.get(Te.param)||[];const ft=pt.indexOf(De(Te.value));-1!==ft&&pt.splice(ft,1),pt.length>0?this.map.set(Te.param,pt):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class ot{constructor(Te){this.defaultValue=Te}}class ze{constructor(){this.map=new Map}set(Te,Me){return this.map.set(Te,Me),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function ge(Ce){return typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer}function ve(Ce){return typeof Blob<"u"&&Ce instanceof Blob}function de(Ce){return typeof FormData<"u"&&Ce instanceof FormData}class rt{constructor(Te,Me,pt,ft){let nn;if(this.url=Me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function Ge(Ce){switch(Ce){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==pt?pt:null,nn=ft):nn=pt,nn&&(this.reportProgress=!!nn.reportProgress,this.withCredentials=!!nn.withCredentials,nn.responseType&&(this.responseType=nn.responseType),nn.headers&&(this.headers=nn.headers),nn.context&&(this.context=nn.context),nn.params&&(this.params=nn.params)),this.headers||(this.headers=new H),this.context||(this.context=new ze),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=Me;else{const hn=Me.indexOf("?");this.urlWithParams=Me+(-1===hn?"?":hn<Me.length-1?"&":"")+zt}}else this.params=new Ye,this.urlWithParams=Me}serializeBody(){return null===this.body?null:ge(this.body)||ve(this.body)||de(this.body)||function Ke(Ce){return typeof URLSearchParams<"u"&&Ce instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||de(this.body)?null:ve(this.body)?this.body.type||null:ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const Me=Te.method||this.method,pt=Te.url||this.url,ft=Te.responseType||this.responseType,nn=void 0!==Te.body?Te.body:this.body,zt=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,hn=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let Wt=Te.headers||this.headers,Oe=Te.params||this.params;const yt=Te.context??this.context;return void 0!==Te.setHeaders&&(Wt=Object.keys(Te.setHeaders).reduce((Ae,qe)=>Ae.set(qe,Te.setHeaders[qe]),Wt)),Te.setParams&&(Oe=Object.keys(Te.setParams).reduce((Ae,qe)=>Ae.set(qe,Te.setParams[qe]),Oe)),new rt(Me,pt,nn,{params:Oe,headers:Wt,context:yt,reportProgress:hn,responseType:ft,withCredentials:zt})}}var Ie=(()=>((Ie=Ie||{})[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie))();class Nt{constructor(Te,Me=200,pt="OK"){this.headers=Te.headers||new H,this.status=void 0!==Te.status?Te.status:Me,this.statusText=Te.statusText||pt,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class Fe extends Nt{constructor(Te={}){super(Te),this.type=Ie.ResponseHeader}clone(Te={}){return new Fe({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class ht extends Nt{constructor(Te={}){super(Te),this.type=Ie.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new ht({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class Re extends Nt{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function fe(Ce,Te){return{body:Te,headers:Ce.headers,context:Ce.context,observe:Ce.observe,params:Ce.params,reportProgress:Ce.reportProgress,responseType:Ce.responseType,withCredentials:Ce.withCredentials}}let ie=(()=>{class Ce{constructor(Me){this.handler=Me}request(Me,pt,ft={}){let nn;if(Me instanceof rt)nn=Me;else{let Wt,Oe;Wt=ft.headers instanceof H?ft.headers:new H(ft.headers),ft.params&&(Oe=ft.params instanceof Ye?ft.params:new Ye({fromObject:ft.params})),nn=new rt(Me,pt,void 0!==ft.body?ft.body:null,{headers:Wt,context:ft.context,params:Oe,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const zt=(0,h.of)(nn).pipe((0,E.b)(Wt=>this.handler.handle(Wt)));if(Me instanceof rt||"events"===ft.observe)return zt;const hn=zt.pipe((0,M.h)(Wt=>Wt instanceof ht));switch(ft.observe||"body"){case"body":switch(nn.responseType){case"arraybuffer":return hn.pipe((0,R.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wt.body}));case"blob":return hn.pipe((0,R.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof Blob))throw new Error("Response is not a Blob.");return Wt.body}));case"text":return hn.pipe((0,R.U)(Wt=>{if(null!==Wt.body&&"string"!=typeof Wt.body)throw new Error("Response is not a string.");return Wt.body}));default:return hn.pipe((0,R.U)(Wt=>Wt.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(Me,pt={}){return this.request("DELETE",Me,pt)}get(Me,pt={}){return this.request("GET",Me,pt)}head(Me,pt={}){return this.request("HEAD",Me,pt)}jsonp(Me,pt){return this.request("JSONP",Me,{params:(new Ye).append(pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Me,pt={}){return this.request("OPTIONS",Me,pt)}patch(Me,pt,ft={}){return this.request("PATCH",Me,fe(ft,pt))}post(Me,pt,ft={}){return this.request("POST",Me,fe(ft,pt))}put(Me,pt,ft={}){return this.request("PUT",Me,fe(ft,pt))}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(e.LFG(V))},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class ne{constructor(Te,Me){this.next=Te,this.interceptor=Me}handle(Te){return this.interceptor.intercept(Te,this.next)}}const Ve=new e.OlP("HTTP_INTERCEPTORS");let _e=(()=>{class Ce{intercept(Me,pt){return pt.handle(Me)}}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const dt=/^\)\]\}',?\n/;let me=(()=>{class Ce{constructor(Me){this.xhrFactory=Me}handle(Me){if("JSONP"===Me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new P.y(pt=>{const ft=this.xhrFactory.build();if(ft.open(Me.method,Me.urlWithParams),Me.withCredentials&&(ft.withCredentials=!0),Me.headers.forEach((Gt,We)=>ft.setRequestHeader(Gt,We.join(","))),Me.headers.has("Accept")||ft.setRequestHeader("Accept","application/json, text/plain, */*"),!Me.headers.has("Content-Type")){const Gt=Me.detectContentTypeHeader();null!==Gt&&ft.setRequestHeader("Content-Type",Gt)}if(Me.responseType){const Gt=Me.responseType.toLowerCase();ft.responseType="json"!==Gt?Gt:"text"}const nn=Me.serializeBody();let zt=null;const hn=()=>{if(null!==zt)return zt;const Gt=ft.statusText||"OK",We=new H(ft.getAllResponseHeaders()),Tt=function Qt(Ce){return"responseURL"in Ce&&Ce.responseURL?Ce.responseURL:/^X-Request-URL:/m.test(Ce.getAllResponseHeaders())?Ce.getResponseHeader("X-Request-URL"):null}(ft)||Me.url;return zt=new Fe({headers:We,status:ft.status,statusText:Gt,url:Tt}),zt},Wt=()=>{let{headers:Gt,status:We,statusText:Tt,url:bt}=hn(),Lt=null;204!==We&&(Lt=typeof ft.response>"u"?ft.responseText:ft.response),0===We&&(We=Lt?200:0);let un=We>=200&&We<300;if("json"===Me.responseType&&"string"==typeof Lt){const Vt=Lt;Lt=Lt.replace(dt,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(st){Lt=Vt,un&&(un=!1,Lt={error:st,text:Lt})}}un?(pt.next(new ht({body:Lt,headers:Gt,status:We,statusText:Tt,url:bt||void 0})),pt.complete()):pt.error(new Re({error:Lt,headers:Gt,status:We,statusText:Tt,url:bt||void 0}))},Oe=Gt=>{const{url:We}=hn(),Tt=new Re({error:Gt,status:ft.status||0,statusText:ft.statusText||"Unknown Error",url:We||void 0});pt.error(Tt)};let yt=!1;const Ae=Gt=>{yt||(pt.next(hn()),yt=!0);let We={type:Ie.DownloadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(We.total=Gt.total),"text"===Me.responseType&&!!ft.responseText&&(We.partialText=ft.responseText),pt.next(We)},qe=Gt=>{let We={type:Ie.UploadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(We.total=Gt.total),pt.next(We)};return ft.addEventListener("load",Wt),ft.addEventListener("error",Oe),ft.addEventListener("timeout",Oe),ft.addEventListener("abort",Oe),Me.reportProgress&&(ft.addEventListener("progress",Ae),null!==nn&&ft.upload&&ft.upload.addEventListener("progress",qe)),ft.send(nn),pt.next({type:Ie.Sent}),()=>{ft.removeEventListener("error",Oe),ft.removeEventListener("abort",Oe),ft.removeEventListener("load",Wt),ft.removeEventListener("timeout",Oe),Me.reportProgress&&(ft.removeEventListener("progress",Ae),null!==nn&&ft.upload&&ft.upload.removeEventListener("progress",qe)),ft.readyState!==ft.DONE&&ft.abort()}})}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(e.LFG(n.JF))},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const vt=new e.OlP("XSRF_COOKIE_NAME"),Ze=new e.OlP("XSRF_HEADER_NAME");class $t{}let It=(()=>{class Ce{constructor(Me,pt,ft){this.doc=Me,this.platform=pt,this.cookieName=ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Me=this.doc.cookie||"";return Me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,n.Mx)(Me,this.cookieName),this.lastCookieString=Me),this.lastToken}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(e.LFG(n.K0),e.LFG(e.Lbi),e.LFG(vt))},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),cn=(()=>{class Ce{constructor(Me,pt){this.tokenService=Me,this.headerName=pt}intercept(Me,pt){const ft=Me.url.toLowerCase();if("GET"===Me.method||"HEAD"===Me.method||ft.startsWith("http://")||ft.startsWith("https://"))return pt.handle(Me);const nn=this.tokenService.getToken();return null!==nn&&!Me.headers.has(this.headerName)&&(Me=Me.clone({headers:Me.headers.set(this.headerName,nn)})),pt.handle(Me)}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(e.LFG($t),e.LFG(Ze))},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),Ut=(()=>{class Ce{constructor(Me,pt){this.backend=Me,this.injector=pt,this.chain=null}handle(Me){if(null===this.chain){const pt=this.injector.get(Ve,[]);this.chain=pt.reduceRight((ft,nn)=>new ne(ft,nn),this.backend)}return this.chain.handle(Me)}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(e.LFG(j),e.LFG(e.zs3))},Ce.\u0275prov=e.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),qt=(()=>{class Ce{static disable(){return{ngModule:Ce,providers:[{provide:cn,useClass:_e}]}}static withOptions(Me={}){return{ngModule:Ce,providers:[Me.cookieName?{provide:vt,useValue:Me.cookieName}:[],Me.headerName?{provide:Ze,useValue:Me.headerName}:[]]}}}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({providers:[cn,{provide:Ve,useExisting:cn,multi:!0},{provide:$t,useClass:It},{provide:vt,useValue:"XSRF-TOKEN"},{provide:Ze,useValue:"X-XSRF-TOKEN"}]}),Ce})(),Pt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({providers:[ie,{provide:V,useClass:Ut},me,{provide:j,useExisting:me}],imports:[qt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ce})()},4650:(ye,X,v)=>{"use strict";v.d(X,{$8M:()=>Ia,$Z:()=>Ou,AFp:()=>bp,ALo:()=>MS,AaK:()=>V,Akn:()=>Ds,AsE:()=>N_,BQk:()=>C,CHM:()=>gr,CRH:()=>GS,CZH:()=>RC,Ckj:()=>tf,CqO:()=>an,D6c:()=>HE,DdM:()=>yS,Dn7:()=>wS,EJc:()=>dE,EiD:()=>ef,EpF:()=>re,F$t:()=>wm,F4k:()=>Bt,FYo:()=>Ya,FiY:()=>du,G48:()=>QA,Gf:()=>US,GfV:()=>xl,GkF:()=>b,Gpc:()=>G,Gre:()=>V_,Hsn:()=>Rm,Ikx:()=>Y_,JOm:()=>vi,JVY:()=>fs,Jf7:()=>za,KtG:()=>Js,L6k:()=>wc,LAX:()=>xd,LFG:()=>uo,LSH:()=>yr,Lbi:()=>OA,Lck:()=>AD,MAs:()=>E_,MGl:()=>Pm,MMx:()=>fS,MT6:()=>H_,NdJ:()=>Zn,OlP:()=>cr,Oqu:()=>k_,PXZ:()=>YA,PiD:()=>ud,Q6J:()=>xm,QGY:()=>et,QP$:()=>zn,Qsj:()=>kc,R0b:()=>Ca,RDi:()=>ml,Rgc:()=>td,SBq:()=>Fc,Sil:()=>LC,Suo:()=>BS,TTD:()=>ei,TgZ:()=>hp,Tol:()=>Um,Udp:()=>_h,VKq:()=>SS,W1O:()=>jS,WLB:()=>ES,X6Q:()=>RE,XFs:()=>Ut,Xpm:()=>bt,Xts:()=>Cl,Y36:()=>Gc,YKP:()=>Q0,YNc:()=>S_,Yjl:()=>dr,Yz7:()=>Ct,Z0I:()=>Dt,ZZ4:()=>Hh,_Bn:()=>K0,_UZ:()=>_,_Vd:()=>da,_Yv:()=>la,_c5:()=>$C,_uU:()=>F_,aQg:()=>VC,c2e:()=>LA,cJS:()=>Zt,cQ8:()=>D_,cg1:()=>ky,dDg:()=>FD,dqk:()=>ft,eBb:()=>wg,eFA:()=>EE,ekj:()=>Nm,eoX:()=>$A,evT:()=>gf,f3M:()=>_c,g9A:()=>OC,h0i:()=>wh,hGG:()=>aD,hYB:()=>Om,hij:()=>Vm,iGM:()=>NS,ifc:()=>pt,ip1:()=>wC,jDz:()=>hS,kEZ:()=>nC,kL8:()=>Ny,l5B:()=>AS,lG2:()=>kn,lcZ:()=>iC,lnq:()=>yh,lqb:()=>ja,lri:()=>vE,mCW:()=>On,n5z:()=>dc,oAB:()=>st,oJD:()=>wd,oxw:()=>Ju,pB0:()=>Ki,q3G:()=>Hr,qLn:()=>Ml,qOj:()=>uh,qZA:()=>s,qbA:()=>tv,qzn:()=>Ic,rWj:()=>_E,s9C:()=>A_,sBO:()=>PE,sIi:()=>Jl,s_b:()=>Oh,soG:()=>Bh,tBr:()=>al,tb:()=>lE,tp0:()=>yc,uIk:()=>dh,vHH:()=>ue,vpe:()=>nc,wAp:()=>In,xi3:()=>sC,xp6:()=>Cf,ynx:()=>d,z2F:()=>qc,z3N:()=>ps,zSh:()=>Sl,zs3:()=>es});var n=v(8929),e=v(2654),h=v(6498),P=v(6787),E=v(8117);function M(i){for(let a in i)if(i[a]===M)return a;throw Error("Could not find renamed property on target object.")}function R(i,a){for(const l in a)a.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=a[l])}function V(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(V).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const a=i.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function j(i,a){return null==i||""===i?null===a?"":a:null==a||""===a?i:i+" "+a}const H=M({__forward_ref__:M});function G(i){return i.__forward_ref__=G,i.toString=function(){return V(this())},i}function z(i){return q(i)?i():i}function q(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===G}class ue extends Error{constructor(a,l){super(function oe(i,a){return`NG0${Math.abs(i)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function De(i){return"string"==typeof i?i:null==i?"":String(i)}function ge(i,a){throw new ue(-201,!1)}function _e(i,a){null==i&&function Ue(i,a,l,f){throw new Error(`ASSERTION ERROR: ${i}`+(null==f?"":` [Expected=> ${l} ${f} ${a} <=Actual]`))}(a,i,null,"!=")}function Ct(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function wt(i){return dt(i,Ze)||dt(i,It)}function Dt(i){return null!==wt(i)}function dt(i,a){return i.hasOwnProperty(a)?i[a]:null}function vt(i){return i&&(i.hasOwnProperty($t)||i.hasOwnProperty(cn))?i[$t]:null}const Ze=M({\u0275prov:M}),$t=M({\u0275inj:M}),It=M({ngInjectableDef:M}),cn=M({ngInjectorDef:M});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let pn;function qt(i){const a=pn;return pn=i,a}function Pt(i,a,l){const f=wt(i);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:l&Ut.Optional?null:void 0!==a?a:void ge(V(i))}function En(i){return{toString:i}.toString()}var Ce=(()=>((Ce=Ce||{})[Ce.OnPush=0]="OnPush",Ce[Ce.Default=1]="Default",Ce))(),pt=(()=>{return(i=pt||(pt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",pt;var i})();const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hn={},Wt=[],Oe=M({\u0275cmp:M}),yt=M({\u0275dir:M}),Ae=M({\u0275pipe:M}),qe=M({\u0275mod:M}),Gt=M({\u0275fac:M}),We=M({__NG_ELEMENT_ID__:M});let Tt=0;function bt(i){return En(()=>{const l=!0===i.standalone,f={},g={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ce.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Wt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||pt.Emulated,id:"c"+Tt++,styles:i.styles||Wt,_:null,setInput:null,schemas:i.schemas||null,tView:null},t=i.dependencies,c=i.features;return g.inputs=Gn(i.inputs,f),g.outputs=Gn(i.outputs),c&&c.forEach(o=>o(g)),g.directiveDefs=t?()=>("function"==typeof t?t():t).map(un).filter(Vt):null,g.pipeDefs=t?()=>("function"==typeof t?t():t).map(Ln).filter(Vt):null,g})}function un(i){return yn(i)||wn(i)}function Vt(i){return null!==i}function st(i){return En(()=>({type:i.type,bootstrap:i.bootstrap||Wt,declarations:i.declarations||Wt,imports:i.imports||Wt,exports:i.exports||Wt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Gn(i,a){if(null==i)return hn;const l={};for(const f in i)if(i.hasOwnProperty(f)){let g=i[f],t=g;Array.isArray(g)&&(t=g[1],g=g[0]),l[g]=f,a&&(a[g]=t)}return l}const kn=bt;function dr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function yn(i){return i[Oe]||null}function wn(i){return i[yt]||null}function Ln(i){return i[Ae]||null}function zn(i){const a=yn(i)||wn(i)||Ln(i);return null!==a&&a.standalone}function er(i,a){const l=i[qe]||null;if(!l&&!0===a)throw new Error(`Type ${V(i)} does not have '\u0275mod' property.`);return l}function Mn(i){return Array.isArray(i)&&"object"==typeof i[1]}function or(i){return Array.isArray(i)&&!0===i[1]}function wr(i){return 0!=(8&i.flags)}function Xr(i){return 2==(2&i.flags)}function mo(i){return 1==(1&i.flags)}function xr(i){return null!==i.template}function Be(i){return 0!=(256&i[2])}function jr(i,a){return i.hasOwnProperty(Gt)?i[Gt]:null}class Go{constructor(a,l,f){this.previousValue=a,this.currentValue=l,this.firstChange=f}isFirstChange(){return this.firstChange}}function ei(){return ui}function ui(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ao),Eo}function Eo(){const i=Cr(this),a=i?.current;if(a){const l=i.previous;if(l===hn)i.previous=a;else for(let f in a)l[f]=a[f];i.current=null,this.ngOnChanges(a)}}function Ao(i,a,l,f){const g=Cr(i)||function ti(i,a){return i[Vo]=a}(i,{previous:hn,current:null}),t=g.current||(g.current={}),c=g.previous,o=this.declaredInputs[l],u=c[o];t[o]=new Go(u&&u.currentValue,a,c===hn),i[f]=a}ei.ngInherit=!0;const Vo="__ngSimpleChanges__";function Cr(i){return i[Vo]||null}function Kn(i){for(;Array.isArray(i);)i=i[0];return i}function Io(i,a){return Kn(a[i])}function tr(i,a){return Kn(a[i.index])}function je(i,a){return i.data[a]}function St(i,a){return i[a]}function lt(i,a){const l=a[i];return Mn(l)?l:l[0]}function Yt(i){return 64==(64&i[2])}function Sn(i,a){return null==a?null:i[a]}function Gr(i){i[18]=0}function Vr(i,a){i[5]+=a;let l=i,f=i[3];for(;null!==f&&(1===a&&1===l[5]||-1===a&&0===l[5]);)f[5]+=a,l=f,f=f[3]}const An={lFrame:Is(null),bindingsEnabled:!0};function at(){return An.bindingsEnabled}function kt(){return An.lFrame.lView}function bn(){return An.lFrame.tView}function gr(i){return An.lFrame.contextLView=i,i[8]}function Js(i){return An.lFrame.contextLView=null,i}function kr(){let i=Z();for(;null!==i&&64===i.type;)i=i.parent;return i}function Z(){return An.lFrame.currentTNode}function L(i,a){const l=An.lFrame;l.currentTNode=i,l.isParent=a}function le(){return An.lFrame.isParent}function Mt(){An.lFrame.isParent=!1}function Mr(){const i=An.lFrame;let a=i.bindingRootIndex;return-1===a&&(a=i.bindingRootIndex=i.tView.bindingStartIndex),a}function Ei(){return An.lFrame.bindingIndex}function xs(){return An.lFrame.bindingIndex++}function jo(i){const a=An.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+i,l}function Co(i,a){const l=An.lFrame;l.bindingIndex=l.bindingRootIndex=i,Ks(a)}function Ks(i){An.lFrame.currentDirectiveIndex=i}function Ms(){return An.lFrame.currentQueryIndex}function wi(i){An.lFrame.currentQueryIndex=i}function Ai(i){const a=i[1];return 2===a.type?a.declTNode:1===a.type?i[6]:null}function os(i,a,l){if(l&Ut.SkipSelf){let g=a,t=i;for(;!(g=g.parent,null!==g||l&Ut.Host||(g=Ai(t),null===g||(t=t[15],10&g.type))););if(null===g)return!1;a=g,i=t}const f=An.lFrame=Zo();return f.currentTNode=a,f.lView=i,!0}function Qs(i){const a=Zo(),l=i[1];An.lFrame=a,a.currentTNode=l.firstChild,a.lView=i,a.tView=l,a.contextLView=i,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Zo(){const i=An.lFrame,a=null===i?null:i.child;return null===a?Is(i):a}function Is(i){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=a),a}function nu(){const i=An.lFrame;return An.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const w=nu;function W(){const i=nu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function $e(){return An.lFrame.selectedIndex}function Et(i){An.lFrame.selectedIndex=i}function xt(){const i=An.lFrame;return je(i.tView,i.selectedIndex)}function jn(i,a){for(let l=a.directiveStart,f=a.directiveEnd;l<f;l++){const t=i.data[l].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:o,ngAfterViewInit:u,ngAfterViewChecked:p,ngOnDestroy:m}=t;c&&(i.contentHooks||(i.contentHooks=[])).push(-l,c),o&&((i.contentHooks||(i.contentHooks=[])).push(l,o),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(l,o)),u&&(i.viewHooks||(i.viewHooks=[])).push(-l,u),p&&((i.viewHooks||(i.viewHooks=[])).push(l,p),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(l,p)),null!=m&&(i.destroyHooks||(i.destroyHooks=[])).push(l,m)}}function Pr(i,a,l){fi(i,a,3,l)}function Ro(i,a,l,f){(3&i[2])===l&&fi(i,a,l,f)}function Do(i,a){let l=i[2];(3&l)===a&&(l&=2047,l+=1,i[2]=l)}function fi(i,a,l,f){const t=f??-1,c=a.length-1;let o=0;for(let u=void 0!==f?65535&i[18]:0;u<c;u++)if("number"==typeof a[u+1]){if(o=a[u],null!=f&&o>=f)break}else a[u]<0&&(i[18]+=65536),(o<t||-1==t)&&(Yr(i,l,a,u),i[18]=(4294901760&i[18])+u+2),u++}function Yr(i,a,l,f){const g=l[f]<0,t=l[f+1],o=i[g?-l[f]:l[f]];if(g){if(i[2]>>11<i[18]>>16&&(3&i[2])===a){i[2]+=2048;try{t.call(o)}finally{}}}else try{t.call(o)}finally{}}class Di{constructor(a,l,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=f}}function Vi(i,a,l){let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const t=l[f++],c=l[f++],o=l[f++];i.setAttribute(a,c,o,t)}else{const t=g,c=l[++f];so(t)?i.setProperty(a,t,c):i.setAttribute(a,t,c),f++}}return f}function ea(i){return 3===i||4===i||6===i}function so(i){return 64===i.charCodeAt(0)}function zr(i,a){if(null!==a&&0!==a.length)if(null===i||0===i.length)i=a.slice();else{let l=-1;for(let f=0;f<a.length;f++){const g=a[f];"number"==typeof g?l=g:0===l||yo(i,l,g,null,-1===l||2===l?a[++f]:null)}}return i}function yo(i,a,l,f,g){let t=0,c=i.length;if(-1===a)c=-1;else for(;t<i.length;){const o=i[t++];if("number"==typeof o){if(o===a){c=-1;break}if(o>a){c=t-1;break}}}for(;t<i.length;){const o=i[t];if("number"==typeof o)break;if(o===l){if(null===f)return void(null!==g&&(i[t+1]=g));if(f===i[t+1])return void(i[t+2]=g)}t++,null!==f&&t++,null!==g&&t++}-1!==c&&(i.splice(c,0,a),t=c+1),i.splice(t++,0,l),null!==f&&i.splice(t++,0,f),null!==g&&i.splice(t++,0,g)}function Ri(i){return-1!==i}function ri(i){return 32767&i}function bi(i,a){let l=function Da(i){return i>>16}(i),f=a;for(;l>0;)f=f[15],l--;return f}let ba=!0;function ws(i){const a=ba;return ba=i,a}let Po=0;const Or={};function Oo(i,a){const l=co(i,a);if(-1!==l)return l;const f=a[1];f.firstCreatePass&&(i.injectorIndex=a.length,Lr(f.data,i),Lr(a,null),Lr(f.blueprint,null));const g=oi(i,a),t=i.injectorIndex;if(Ri(g)){const c=ri(g),o=bi(g,a),u=o[1].data;for(let p=0;p<8;p++)a[t+p]=o[c+p]|u[c+p]}return a[t+8]=g,t}function Lr(i,a){i.push(0,0,0,0,0,0,0,0,a)}function co(i,a){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===a[i.injectorIndex+8]?-1:i.injectorIndex}function oi(i,a){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,f=null,g=a;for(;null!==g;){if(f=Ma(g),null===f)return-1;if(l++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|l<<16}return-1}function Lo(i,a,l){!function ao(i,a,l){let f;"string"==typeof l?f=l.charCodeAt(0)||0:l.hasOwnProperty(We)&&(f=l[We]),null==f&&(f=l[We]=Po++);const g=255&f;a.data[i+(g>>5)]|=1<<g}(i,a,l)}function Wr(i,a,l){if(l&Ut.Optional||void 0!==i)return i;ge()}function Fo(i,a,l,f){if(l&Ut.Optional&&void 0===f&&(f=null),0==(l&(Ut.Self|Ut.Host))){const g=i[9],t=qt(void 0);try{return g?g.get(a,f,l&Ut.Optional):Pt(a,f,l&Ut.Optional)}finally{qt(t)}}return Wr(f,0,l)}function su(i,a,l,f=Ut.Default,g){if(null!==i){if(1024&a[2]){const c=function au(i,a,l,f,g){let t=i,c=a;for(;null!==t&&null!==c&&1024&c[2]&&!(256&c[2]);){const o=lc(t,c,l,f|Ut.Self,Or);if(o!==Or)return o;let u=t.parent;if(!u){const p=c[21];if(p){const m=p.get(l,Or,f);if(m!==Or)return m}u=Ma(c),c=c[15]}t=u}return g}(i,a,l,f,Or);if(c!==Or)return c}const t=lc(i,a,l,f,Or);if(t!==Or)return t}return Fo(a,l,f,g)}function lc(i,a,l,f,g){const t=function $i(i){if("string"==typeof i)return i.charCodeAt(0)||0;const a=i.hasOwnProperty(We)?i[We]:void 0;return"number"==typeof a?a>=0?255&a:xa:a}(l);if("function"==typeof t){if(!os(a,i,f))return f&Ut.Host?Wr(g,0,f):Fo(a,l,f,g);try{const c=t(f);if(null!=c||f&Ut.Optional)return c;ge()}finally{w()}}else if("number"==typeof t){let c=null,o=co(i,a),u=-1,p=f&Ut.Host?a[16][6]:null;for((-1===o||f&Ut.SkipSelf)&&(u=-1===o?oi(i,a):a[o+8],-1!==u&&Ta(f,!1)?(c=a[1],o=ri(u),a=bi(u,a)):o=-1);-1!==o;){const m=a[1];if(hi(t,o,m.data)){const S=Jr(o,a,l,c,f,p);if(S!==Or)return S}u=a[o+8],-1!==u&&Ta(f,a[1].data[o+8]===p)&&hi(t,o,a)?(c=m,o=ri(u),a=bi(u,a)):o=-1}}return g}function Jr(i,a,l,f,g,t){const c=a[1],o=c.data[i+8],m=Rs(o,c,l,null==f?Xr(o)&&ba:f!=c&&0!=(3&o.type),g&Ut.Host&&t===o);return null!==m?Hi(a,c,m,o):Or}function Rs(i,a,l,f,g){const t=i.providerIndexes,c=a.data,o=1048575&t,u=i.directiveStart,m=t>>20,I=g?o+m:i.directiveEnd;for(let Y=f?o:o+m;Y<I;Y++){const ae=c[Y];if(Y<u&&l===ae||Y>=u&&ae.type===l)return Y}if(g){const Y=c[u];if(Y&&xr(Y)&&Y.type===l)return u}return null}function Hi(i,a,l,f){let g=i[l];const t=a.data;if(function qs(i){return i instanceof Di}(g)){const c=g;c.resolving&&function ot(i,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${i}`:"";throw new ue(-200,`Circular dependency in DI detected for ${i}${l}`)}(function Ye(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():De(i)}(t[l]));const o=ws(c.canSeeViewProviders);c.resolving=!0;const u=c.injectImpl?qt(c.injectImpl):null;os(i,f,Ut.Default);try{g=i[l]=c.factory(void 0,t,i,f),a.firstCreatePass&&l>=f.directiveStart&&function br(i,a,l){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:t}=a.type.prototype;if(f){const c=ui(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(i,c),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,c)}g&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-i,g),t&&((l.preOrderHooks||(l.preOrderHooks=[])).push(i,t),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,t))}(l,t[l],a)}finally{null!==u&&qt(u),ws(o),c.resolving=!1,w()}}return g}function hi(i,a,l){return!!(l[a+(i>>5)]&1<<i)}function Ta(i,a){return!(i&Ut.Self||i&Ut.Host&&a)}class ss{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,f){return su(this._tNode,this._lView,a,f,l)}}function xa(){return new ss(kr(),kt())}function dc(i){return En(()=>{const a=i.prototype.constructor,l=a[Gt]||pc(a),f=Object.prototype;let g=Object.getPrototypeOf(i.prototype).constructor;for(;g&&g!==f;){const t=g[Gt]||pc(g);if(t&&t!==l)return t;g=Object.getPrototypeOf(g)}return t=>new t})}function pc(i){return q(i)?()=>{const a=pc(z(i));return a&&a()}:jr(i)}function Ma(i){const a=i[1],l=a.type;return 2===l?a.declTNode:1===l?i[6]:null}function Ia(i){return function Pi(i,a){if("class"===a)return i.classes;if("style"===a)return i.styles;const l=i.attrs;if(l){const f=l.length;let g=0;for(;g<f;){const t=l[g];if(ea(t))break;if(0===t)g+=2;else if("number"==typeof t)for(g++;g<f&&"string"==typeof l[g];)g++;else{if(t===a)return l[g+1];g+=2}}}return null}(kr(),i)}const as="__parameters__";function us(i,a,l){return En(()=>{const f=function cs(i){return function(...l){if(i){const f=i(...l);for(const g in f)this[g]=f[g]}}}(a);function g(...t){if(this instanceof g)return f.apply(this,t),this;const c=new g(...t);return o.annotation=c,o;function o(u,p,m){const S=u.hasOwnProperty(as)?u[as]:Object.defineProperty(u,as,{value:[]})[as];for(;S.length<=m;)S.push(null);return(S[m]=S[m]||[]).push(c),u}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=i,g.annotationCls=g,g})}class cr{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ct({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zo(i,a){void 0===a&&(a=i);for(let l=0;l<i.length;l++){let f=i[l];Array.isArray(f)?(a===i&&(a=i.slice(0,l)),zo(f,a)):a!==i&&a.push(f)}return a}function Zi(i,a){i.forEach(l=>Array.isArray(l)?Zi(l,a):a(l))}function gc(i,a,l){a>=i.length?i.push(l):i.splice(a,0,l)}function Oa(i,a){return a>=i.length-1?i.pop():i.splice(a,1)[0]}function Ps(i,a){const l=[];for(let f=0;f<i;f++)l.push(a);return l}function k(i,a,l){let f=Xe(i,a);return f>=0?i[1|f]=l:(f=~f,function A(i,a,l,f){let g=i.length;if(g==a)i.push(l,f);else if(1===g)i.push(f,i[0]),i[0]=l;else{for(g--,i.push(i[g-1],i[g]);g>a;)i[g]=i[g-2],g--;i[a]=l,i[a+1]=f}}(i,f,a,l)),f}function se(i,a){const l=Xe(i,a);if(l>=0)return i[1|l]}function Xe(i,a){return function sn(i,a,l){let f=0,g=i.length>>l;for(;g!==f;){const t=f+(g-f>>1),c=i[t<<l];if(a===c)return t<<l;c>a?g=t:f=t+1}return~(g<<l)}(i,a,1)}const mc={},il="__NG_DI_FLAG__",sl="ngTempTokenPath",Tv=/\n/gm,wp="__source";let lu;function vc(i){const a=lu;return lu=i,a}function Rp(i,a=Ut.Default){if(void 0===lu)throw new ue(-203,!1);return null===lu?Pt(i,void 0,a):lu.get(i,a&Ut.Optional?null:void 0,a)}function uo(i,a=Ut.Default){return(function ut(){return pn}()||Rp)(z(i),a)}function _c(i,a=Ut.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),uo(i,a)}function Cc(i){const a=[];for(let l=0;l<i.length;l++){const f=z(i[l]);if(Array.isArray(f)){if(0===f.length)throw new ue(900,!1);let g,t=Ut.Default;for(let c=0;c<f.length;c++){const o=f[c],u=Wh(o);"number"==typeof u?-1===u?g=o.token:t|=u:g=o}a.push(uo(g,t))}else a.push(uo(f))}return a}function La(i,a){return i[il]=a,i.prototype[il]=a,i}function Wh(i){return i[il]}const al=La(us("Inject",i=>({token:i})),-1),du=La(us("Optional"),8),ud=La(us("Self"),2),yc=La(us("SkipSelf"),4);var vi=(()=>((vi=vi||{})[vi.Important=1]="Important",vi[vi.DashCase=2]="DashCase",vi))();const Np=new Map;let dd=0;const ll="__ngContext__";function Jo(i,a){Mn(a)?(i[ll]=a[20],function hu(i){Np.set(i[20],i)}(a)):i[ll]=a}function gd(i,a){return undefined(i,a)}function Dc(i){const a=i[3];return or(a)?a[3]:a}function _d(i){return Vp(i[13])}function Cd(i){return Vp(i[4])}function Vp(i){for(;null!==i&&!or(i);)i=i[4];return i}function bc(i,a,l,f,g){if(null!=f){let t,c=!1;or(f)?t=f:Mn(f)&&(c=!0,f=f[0]);const o=Kn(f);0===i&&null!==l?null==g?Ag(a,l,o):Ba(a,l,o,g||null,!0):1===i&&null!==l?Ba(a,l,o,g||null,!0):2===i?function _i(i,a,l){const f=Ji(i,a);f&&function Wp(i,a,l,f){i.removeChild(a,l,f)}(i,f,a,l)}(a,o,c):3===i&&a.destroyNode(o),null!=t&&function Mg(i,a,l,f,g){const t=l[7];t!==Kn(l)&&bc(a,i,f,t,g);for(let o=10;o<l.length;o++){const u=l[o];ra(u[1],u,i,a,f,t)}}(a,i,t,l,g)}}function mu(i,a,l){return i.createElement(a,l)}function yg(i,a){const l=i[9],f=l.indexOf(a),g=a[3];512&a[2]&&(a[2]&=-513,Vr(g,-1)),l.splice(f,1)}function fl(i,a){if(i.length<=10)return;const l=10+a,f=i[l];if(f){const g=f[17];null!==g&&g!==i&&yg(g,f),a>0&&(i[l-1][4]=f[4]);const t=Oa(i,10+a);!function ds(i,a){ra(i,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const c=t[19];null!==c&&c.detachView(t[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function Tc(i,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&ra(i,a,l,3,null,null),function jp(i){let a=i[13];if(!a)return Zp(i[1],i);for(;a;){let l=null;if(Mn(a))l=a[13];else{const f=a[10];f&&(l=f)}if(!l){for(;a&&!a[4]&&a!==i;)Mn(a)&&Zp(a[1],a),a=a[3];null===a&&(a=i),Mn(a)&&Zp(a[1],a),l=a&&a[4]}a=l}}(a)}}function Zp(i,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Yp(i,a){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let f=0;f<l.length;f+=2){const g=a[l[f]];if(!(g instanceof Di)){const t=l[f+1];if(Array.isArray(t))for(let c=0;c<t.length;c+=2){const o=g[t[c]],u=t[c+1];try{u.call(o)}finally{}}else try{t.call(g)}finally{}}}}(i,a),function Sg(i,a){const l=i.cleanup,f=a[7];let g=-1;if(null!==l)for(let t=0;t<l.length-1;t+=2)if("string"==typeof l[t]){const c=l[t+1],o="function"==typeof c?c(a):Kn(a[c]),u=f[g=l[t+2]],p=l[t+3];"boolean"==typeof p?o.removeEventListener(l[t],u,p):p>=0?f[g=p]():f[g=-p].unsubscribe(),t+=2}else{const c=f[g=l[t+1]];l[t].call(c)}if(null!==f){for(let t=g+1;t<f.length;t++)(0,f[t])();a[7]=null}}(i,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&or(a[3])){l!==a[3]&&yg(l,a);const f=a[19];null!==f&&f.detachView(i)}!function Na(i){Np.delete(i[20])}(a)}}function Eg(i,a,l){return function zp(i,a,l){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return l[0];if(2&f.flags){const g=i.data[f.directiveStart].encapsulation;if(g===pt.None||g===pt.Emulated)return null}return tr(f,l)}(i,a.parent,l)}function Ba(i,a,l,f,g){i.insertBefore(a,l,f,g)}function Ag(i,a,l){i.appendChild(a,l)}function Dg(i,a,l,f,g){null!==f?Ba(i,a,l,f,g):Ag(i,a,l)}function Ji(i,a){return i.parentNode(a)}function Tg(i,a,l){return Sd(i,a,l)}let Va,Us,Ti,Sd=function xg(i,a,l){return 40&i.type?tr(i,l):null};function hl(i,a,l,f){const g=Eg(i,f,a),t=a[11],o=Tg(f.parent||a[6],f,a);if(null!=g)if(Array.isArray(l))for(let u=0;u<l.length;u++)Dg(t,g,l[u],o,!1);else Dg(t,g,l,o,!1)}function Jp(i,a){if(null!==a){const l=a.type;if(3&l)return tr(a,i);if(4&l)return Ed(-1,i[a.index]);if(8&l){const f=a.child;if(null!==f)return Jp(i,f);{const g=i[a.index];return or(g)?Ed(-1,g):Kn(g)}}if(32&l)return gd(a,i)()||Kn(i[a.index]);{const f=Ns(i,a);return null!==f?Array.isArray(f)?f[0]:Jp(Dc(i[16]),f):Jp(i,a.next)}}return null}function Ns(i,a){return null!==a?i[16][6].projection[a.projection]:null}function Ed(i,a){const l=10+i+1;if(l<a.length){const f=a[l],g=f[1].firstChild;if(null!==g)return Jp(f,g)}return a[7]}function Ga(i,a,l,f,g,t,c){for(;null!=l;){const o=f[l.index],u=l.type;if(c&&0===a&&(o&&Jo(Kn(o),f),l.flags|=4),64!=(64&l.flags))if(8&u)Ga(i,a,l.child,f,g,t,!1),bc(a,i,g,o,t);else if(32&u){const p=gd(l,f);let m;for(;m=p();)bc(a,i,g,m,t);bc(a,i,g,o,t)}else 16&u?Cu(i,a,f,l,g,t):bc(a,i,g,o,t);l=c?l.projectionNext:l.next}}function ra(i,a,l,f,g,t){Ga(l,f,i.firstChild,a,g,t,!1)}function Cu(i,a,l,f,g,t){const c=l[16],u=c[6].projection[f.projection];if(Array.isArray(u))for(let p=0;p<u.length;p++)bc(a,i,g,u[p],t);else Ga(i,a,u,c[3],g,t,!0)}function Ad(i,a,l){i.setAttribute(a,"style",l)}function Dd(i,a,l){""===l?i.removeAttribute(a,"class"):i.setAttribute(a,"class",l)}function xc(i){return function ko(){if(void 0===Va&&(Va=null,ft.trustedTypes))try{Va=ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Va}()?.createHTML(i)||i}function ml(i){Us=i}function yu(i){return function bd(){if(void 0===Ti&&(Ti=null,ft.trustedTypes))try{Ti=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ti}()?.createHTML(i)||i}class Ir{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gv extends Ir{getTypeName(){return"HTML"}}class Td extends Ir{getTypeName(){return"Style"}}class xi extends Ir{getTypeName(){return"Script"}}class Mc extends Ir{getTypeName(){return"URL"}}class Qp extends Ir{getTypeName(){return"ResourceURL"}}function ps(i){return i instanceof Ir?i.changingThisBreaksApplicationSecurity:i}function Ic(i,a){const l=function Ig(i){return i instanceof Ir&&i.getTypeName()||null}(i);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function fs(i){return new Gv(i)}function wc(i){return new Td(i)}function wg(i){return new xi(i)}function xd(i){return new Mc(i)}function Ki(i){return new Qp(i)}class Vv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(xc(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class Pg{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const f=this.inertDocument.createElement("body");l.appendChild(f)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=xc(a),l;const f=this.inertDocument.createElement("body");return f.innerHTML=xc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const l=a.attributes;for(let g=l.length-1;0<g;g--){const c=l.item(g).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&a.removeAttribute(c)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const oa=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function On(i){return(i=String(i)).match(oa)?i:"unsafe:"+i}function ia(i){const a={};for(const l of i.split(","))a[l]=!0;return a}function Md(...i){const a={};for(const l of i)for(const f in l)l.hasOwnProperty(f)&&(a[f]=!0);return a}const Qi=ia("area,br,col,hr,img,wbr"),lo=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qp=ia("rp,rt"),vl=Md(Qi,Md(lo,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Md(qp,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Md(qp,lo)),Xp=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Id=Md(Xp,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hv=ia("script,style,template");class $v{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,f=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?f=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,f&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let g=this.checkClobberedElement(l,l.nextSibling);if(g){l=g;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!vl.hasOwnProperty(l))return this.sanitizedSomething=!0,!Hv.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const f=a.attributes;for(let g=0;g<f.length;g++){const t=f.item(g),c=t.name,o=c.toLowerCase();if(!Id.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let u=t.value;Xp[o]&&(u=On(u)),this.buf.push(" ",c,'="',yi(u),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();vl.hasOwnProperty(l)&&!Qi.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(yi(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const jv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bs=/([^\#-~ |!])/g;function yi(i){return i.replace(/&/g,"&amp;").replace(jv,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Bs,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $a;function ef(i,a){let l=null;try{$a=$a||function Rg(i){const a=new Pg(i);return function lr(){try{return!!(new window.DOMParser).parseFromString(xc(""),"text/html")}catch{return!1}}()?new Vv(a):a}(i);let f=a?String(a):"";l=$a.getInertBodyElement(f);let g=5,t=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=t,t=l.innerHTML,l=$a.getInertBodyElement(f)}while(f!==t);return xc((new $v).sanitizeChildren(hs(l)||l))}finally{if(l){const f=hs(l)||l;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function hs(i){return"content"in i&&function sa(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Hr=(()=>((Hr=Hr||{})[Hr.NONE=0]="NONE",Hr[Hr.HTML=1]="HTML",Hr[Hr.STYLE=2]="STYLE",Hr[Hr.SCRIPT=3]="SCRIPT",Hr[Hr.URL=4]="URL",Hr[Hr.RESOURCE_URL=5]="RESOURCE_URL",Hr))();function wd(i){const a=Su();return a?yu(a.sanitize(Hr.HTML,i)||""):Ic(i,"HTML")?yu(ps(i)):ef(function Ha(){return void 0!==Us?Us:typeof document<"u"?document:void 0}(),De(i))}function tf(i){const a=Su();return a?a.sanitize(Hr.STYLE,i)||"":Ic(i,"Style")?ps(i):De(i)}function yr(i){const a=Su();return a?a.sanitize(Hr.URL,i)||"":Ic(i,"URL")?ps(i):On(De(i))}function Su(){const i=kt();return i&&i[12]}const Cl=new cr("ENVIRONMENT_INITIALIZER"),Rd=new cr("INJECTOR",-1),sf=new cr("INJECTOR_DEF_TYPES");class Zv{get(a,l=mc){if(l===mc){const f=new Error(`NullInjectorError: No provider for ${V(a)}!`);throw f.name="NullInjectorError",f}return l}}function Pc(...i){return{\u0275providers:af(0,i)}}function af(i,...a){const l=[],f=new Set;let g;return Zi(a,t=>{const c=t;cf(c,l,[],f)&&(g||(g=[]),g.push(c))}),void 0!==g&&Lg(g,l),l}function Lg(i,a){for(let l=0;l<i.length;l++){const{providers:g}=i[l];Zi(g,t=>{a.push(t)})}}function cf(i,a,l,f){if(!(i=z(i)))return!1;let g=null,t=vt(i);const c=!t&&yn(i);if(t||c){if(c&&!c.standalone)return!1;g=i}else{const u=i.ngModule;if(t=vt(u),!t)return!1;g=u}const o=f.has(g);if(c){if(o)return!1;if(f.add(g),c.dependencies){const u="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const p of u)cf(p,a,l,f)}}else{if(!t)return!1;{if(null!=t.imports&&!o){let p;f.add(g);try{Zi(t.imports,m=>{cf(m,a,l,f)&&(p||(p=[]),p.push(m))})}finally{}void 0!==p&&Lg(p,a)}if(!o){const p=jr(g)||(()=>new g);a.push({provide:g,useFactory:p,deps:Wt},{provide:sf,useValue:g,multi:!0},{provide:Cl,useValue:()=>uo(g),multi:!0})}const u=t.providers;null==u||o||Zi(u,m=>{a.push(m)})}}return g!==i&&void 0!==i.providers}const Fg=M({provide:String,useValue:M});function uf(i){return null!==i&&"object"==typeof i&&Fg in i}function gs(i){return"function"==typeof i}const Sl=new cr("Set Injector scope."),Od={},lf={};let El;function Al(){return void 0===El&&(El=new Zv),El}class ja{}class df extends ja{constructor(a,l,f,g){super(),this.parent=l,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(a,c=>this.processProvider(c)),this.records.set(Rd,ua(void 0,this)),g.has("environment")&&this.records.set(ja,ua(void 0,this));const t=this.records.get(Sl);null!=t&&"string"==typeof t.value&&this.scopes.add(t.value),this.injectorDefTypes=new Set(this.get(sf.multi,Wt,Ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=vc(this),f=qt(void 0);try{return a()}finally{vc(l),qt(f)}}get(a,l=mc,f=Ut.Default){this.assertNotDestroyed();const g=vc(this),t=qt(void 0);try{if(!(f&Ut.SkipSelf)){let o=this.records.get(a);if(void 0===o){const u=function Eu(i){return"function"==typeof i||"object"==typeof i&&i instanceof cr}(a)&&wt(a);o=u&&this.injectableDefInScope(u)?ua(Ld(a),Od):null,this.records.set(a,o)}if(null!=o)return this.hydrate(a,o)}return(f&Ut.Self?Al():this.parent).get(a,l=f&Ut.Optional&&l===mc?null:l)}catch(c){if("NullInjectorError"===c.name){if((c[sl]=c[sl]||[]).unshift(V(a)),g)throw c;return function Jh(i,a,l,f){const g=i[sl];throw a[wp]&&g.unshift(a[wp]),i.message=function Kh(i,a,l,f=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let g=V(a);if(Array.isArray(a))g=a.map(V).join(" -> ");else if("object"==typeof a){let t=[];for(let c in a)if(a.hasOwnProperty(c)){let o=a[c];t.push(c+":"+("string"==typeof o?JSON.stringify(o):V(o)))}g=`{${t.join(", ")}}`}return`${l}${f?"("+f+")":""}[${g}]: ${i.replace(Tv,"\n  ")}`}("\n"+i.message,g,l,f),i.ngTokenPath=g,i[sl]=null,i}(c,a,"R3InjectorError",this.source)}throw c}finally{qt(t),vc(g)}}resolveInjectorInitializers(){const a=vc(this),l=qt(void 0);try{const f=this.get(Cl.multi,Wt,Ut.Self);for(const g of f)g()}finally{vc(a),qt(l)}}toString(){const a=[],l=this.records;for(const f of l.keys())a.push(V(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(a){let l=gs(a=z(a))?a:z(a&&a.provide);const f=function Xn(i){return uf(i)?ua(void 0,i.useValue):ua(kg(i),Od)}(a);if(gs(a)||!0!==a.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=ua(void 0,Od,!0),g.factory=()=>Cc(g.multi),this.records.set(l,g)),l=a,g.multi.push(a)}this.records.set(l,f)}hydrate(a,l){return l.value===Od&&(l.value=lf,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Za(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=z(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ld(i){const a=wt(i),l=null!==a?a.factory:jr(i);if(null!==l)return l;if(i instanceof cr)throw new ue(204,!1);if(i instanceof Function)return function pf(i){const a=i.length;if(a>0)throw Ps(a,"?"),new ue(204,!1);const l=function Qt(i){const a=i&&(i[Ze]||i[It]);if(a){const l=function me(i){if(i.hasOwnProperty("name"))return i.name;const a=(""+i).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new ue(204,!1)}function kg(i,a,l){let f;if(gs(i)){const g=z(i);return jr(g)||Ld(g)}if(uf(i))f=()=>z(i.useValue);else if(function ca(i){return!(!i||!i.useFactory)}(i))f=()=>i.useFactory(...Cc(i.deps||[]));else if(function yl(i){return!(!i||!i.useExisting)}(i))f=()=>uo(z(i.useExisting));else{const g=z(i&&(i.useClass||i.provide));if(!function Oc(i){return!!i.deps}(i))return jr(g)||Ld(g);f=()=>new g(...Cc(i.deps))}return f}function ua(i,a,l=!1){return{factory:i,value:a,multi:l?[]:void 0}}function Ng(i){return!!i.\u0275providers}function Fd(i,a){for(const l of i)Array.isArray(l)?Fd(l,a):Ng(l)?Fd(l.\u0275providers,a):a(l)}class la{}class Du{resolveComponentFactory(a){throw function Lc(i){const a=Error(`No component factory found for ${V(i)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=i,a}(a)}}let da=(()=>{class i{}return i.NULL=new Du,i})();function pa(){return No(kr(),kt())}function No(i,a){return new Fc(tr(i,a))}let Fc=(()=>{class i{constructor(l){this.nativeElement=l}}return i.__NG_ELEMENT_ID__=pa,i})();function bl(i){return i instanceof Fc?i.nativeElement:i}class Ya{}let kc=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Tl(){const i=kt(),l=lt(kr().index,i);return(Mn(l)?l:i)[11]}(),i})(),Nd=(()=>{class i{}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:()=>null}),i})();class xl{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Ug=new xl("14.2.12"),ff={};function Ud(i){return i.ngOriginalError}class Ml{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Ud(a);for(;l&&Ud(l);)l=Ud(l);return l||null}}function za(i){return i.ownerDocument.defaultView}function gf(i){return i.ownerDocument}function ms(i){return i instanceof Function?i():i}function Gd(i,a,l){let f=i.length;for(;;){const g=i.indexOf(a,l);if(-1===g)return g;if(0===g||i.charCodeAt(g-1)<=32){const t=a.length;if(g+t===f||i.charCodeAt(g+t)<=32)return g}l=g+1}}const vf="ng-template";function Hg(i,a,l){let f=0;for(;f<i.length;){let g=i[f++];if(l&&"class"===g){if(g=i[f],-1!==Gd(g.toLowerCase(),a,0))return!0}else if(1===g){for(;f<i.length&&"string"==typeof(g=i[f++]);)if(g.toLowerCase()===a)return!0;return!1}}return!1}function Il(i){return 4===i.type&&i.value!==vf}function $g(i,a,l){return a===(4!==i.type||l?i.value:vf)}function jg(i,a,l){let f=4;const g=i.attrs||[],t=function vs(i){for(let a=0;a<i.length;a++)if(ea(i[a]))return a;return i.length}(g);let c=!1;for(let o=0;o<a.length;o++){const u=a[o];if("number"!=typeof u){if(!c)if(4&f){if(f=2|1&f,""!==u&&!$g(i,u,l)||""===u&&1===a.length){if(Qo(f))return!1;c=!0}}else{const p=8&f?u:a[++o];if(8&f&&null!==i.attrs){if(!Hg(i.attrs,p,l)){if(Qo(f))return!1;c=!0}continue}const S=wl(8&f?"class":u,g,Il(i),l);if(-1===S){if(Qo(f))return!1;c=!0;continue}if(""!==p){let I;I=S>t?"":g[S+1].toLowerCase();const Y=8&f?I:null;if(Y&&-1!==Gd(Y,p,0)||2&f&&p!==I){if(Qo(f))return!1;c=!0}}}}else{if(!c&&!Qo(f)&&!Qo(u))return!1;if(c&&Qo(u))continue;c=!1,f=u|1&f}}return Qo(f)||c}function Qo(i){return 0==(1&i)}function wl(i,a,l,f){if(null===a)return-1;let g=0;if(f||!l){let t=!1;for(;g<a.length;){const c=a[g];if(c===i)return g;if(3===c||6===c)t=!0;else{if(1===c||2===c){let o=a[++g];for(;"string"==typeof o;)o=a[++g];continue}if(4===c)break;if(0===c){g+=4;continue}}g+=t?1:2}return-1}return function Xi(i,a){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const f=i[l];if("number"==typeof f)return-1;if(f===a)return l;l++}return-1}(a,i)}function fa(i,a,l=!1){for(let f=0;f<a.length;f++)if(jg(i,a[f],l))return!0;return!1}function Tu(i,a){e:for(let l=0;l<a.length;l++){const f=a[l];if(i.length===f.length){for(let g=0;g<i.length;g++)if(i[g]!==f[g])continue e;return!0}}return!1}function Vd(i,a){return i?":not("+a.trim()+")":a}function xu(i){let a=i[0],l=1,f=2,g="",t=!1;for(;l<i.length;){let c=i[l];if("string"==typeof c)if(2&f){const o=i[++l];g+="["+c+(o.length>0?'="'+o+'"':"")+"]"}else 8&f?g+="."+c:4&f&&(g+=" "+c);else""!==g&&!Qo(c)&&(a+=Vd(t,g),g=""),f=c,t=t||!Qo(f);l++}return""!==g&&(a+=Vd(t,g)),a}const Fn={};function Cf(i){Hd(bn(),kt(),$e()+i,!1)}function Hd(i,a,l,f){if(!f)if(3==(3&a[2])){const t=i.preOrderCheckHooks;null!==t&&Pr(a,t,l)}else{const t=i.preOrderHooks;null!==t&&Ro(a,t,0,l)}Et(l)}function jd(i,a=null,l=null,f){const g=Mu(i,a,l,f);return g.resolveInjectorInitializers(),g}function Mu(i,a=null,l=null,f,g=new Set){const t=[l||Wt,Pc(i)];return f=f||("object"==typeof i?void 0:V(i)),new df(t,a||Al(),f||null,g)}let es=(()=>{class i{static create(l,f){if(Array.isArray(l))return jd({name:""},f,l,"");{const g=l.name??"";return jd({name:g},l.parent,l.providers,g)}}}return i.THROW_IF_NOT_FOUND=mc,i.NULL=new Zv,i.\u0275prov=Ct({token:i,providedIn:"any",factory:()=>uo(Rd)}),i.__NG_ELEMENT_ID__=-1,i})();function Gc(i,a=Ut.Default){const l=kt();return null===l?uo(i,a):su(kr(),l,z(i),a)}function Ou(){throw new Error("invalid")}function Wd(i,a){return i<<17|a<<2}function _s(i){return i>>17&32767}function Jd(i){return 2|i}function Vs(i){return(131068&i)>>2}function Fl(i,a){return-131069&i|a<<2}function Kd(i){return 1|i}function jf(i,a){const l=i.contentQueries;if(null!==l)for(let f=0;f<l.length;f+=2){const g=l[f],t=l[f+1];if(-1!==t){const c=i.data[t];wi(g),c.contentQueries(2,a[t],t)}}}function Nu(i,a,l,f,g,t,c,o,u,p,m){const S=a.blueprint.slice();return S[0]=g,S[2]=76|f,(null!==m||i&&1024&i[2])&&(S[2]|=1024),Gr(S),S[3]=S[15]=i,S[8]=l,S[10]=c||i&&i[10],S[11]=o||i&&i[11],S[12]=u||i&&i[12]||null,S[9]=p||i&&i[9]||null,S[6]=t,S[20]=function Fi(){return dd++}(),S[21]=m,S[16]=2==a.type?i[16]:S,S}function Ja(i,a,l,f,g){let t=i.data[a];if(null===t)t=function np(i,a,l,f,g){const t=Z(),c=le(),u=i.data[a]=function lm(i,a,l,f,g,t){return{type:l,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:t,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?t:t&&t.parent,l,a,f,g);return null===i.firstChild&&(i.firstChild=u),null!==t&&(c?null==t.child&&null!==u.parent&&(t.child=u):null===t.next&&(t.next=u)),u}(i,a,l,f,g),function io(){return An.lFrame.inI18n}()&&(t.flags|=64);else if(64&t.type){t.type=l,t.value=f,t.attrs=g;const c=function $(){const i=An.lFrame,a=i.currentTNode;return i.isParent?a:a.parent}();t.injectorIndex=null===c?-1:c.injectorIndex}return L(t,!0),t}function Hc(i,a,l,f){if(0===l)return-1;const g=a.length;for(let t=0;t<l;t++)a.push(f),i.blueprint.push(f),i.data.push(null);return g}function rp(i,a,l){Qs(a);try{const f=i.viewQuery;null!==f&&Qa(1,f,l);const g=i.template;null!==g&&Yf(i,a,g,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jf(i,a),i.staticViewQueries&&Qa(2,i.viewQuery,l);const t=i.components;null!==t&&function tp(i,a){for(let l=0;l<a.length;l++)ry(i,a[l])}(a,t)}catch(f){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),f}finally{a[2]&=-5,W()}}function Hl(i,a,l,f){const g=a[2];if(128!=(128&g)){Qs(a);try{Gr(a),function Sa(i){return An.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&Yf(i,a,l,2,f);const c=3==(3&g);if(c){const p=i.preOrderCheckHooks;null!==p&&Pr(a,p,null)}else{const p=i.preOrderHooks;null!==p&&Ro(a,p,0,null),Do(a,0)}if(function Gu(i){for(let a=_d(i);null!==a;a=Cd(a)){if(!a[2])continue;const l=a[9];for(let f=0;f<l.length;f++){const g=l[f],t=g[3];0==(512&g[2])&&Vr(t,1),g[2]|=512}}}(a),function vm(i){for(let a=_d(i);null!==a;a=Cd(a))for(let l=10;l<a.length;l++){const f=a[l],g=f[1];Yt(f)&&Hl(g,f,g.template,f[8])}}(a),null!==i.contentQueries&&jf(i,a),c){const p=i.contentCheckHooks;null!==p&&Pr(a,p)}else{const p=i.contentHooks;null!==p&&Ro(a,p,1),Do(a,1)}!function Vl(i,a){const l=i.hostBindingOpCodes;if(null!==l)try{for(let f=0;f<l.length;f++){const g=l[f];if(g<0)Et(~g);else{const t=g,c=l[++f],o=l[++f];Co(c,t),o(2,a[t])}}}finally{Et(-1)}}(i,a);const o=i.components;null!==o&&function Zf(i,a){for(let l=0;l<a.length;l++)ny(i,a[l])}(a,o);const u=i.viewQuery;if(null!==u&&Qa(2,u,f),c){const p=i.viewCheckHooks;null!==p&&Pr(a,p)}else{const p=i.viewHooks;null!==p&&Ro(a,p,2),Do(a,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Vr(a[3],-1))}finally{W()}}}function Yf(i,a,l,f,g){const t=$e(),c=2&f;try{Et(-1),c&&a.length>22&&Hd(i,a,22,!1),l(f,g)}finally{Et(t)}}function op(i,a,l){if(wr(a)){const g=a.directiveEnd;for(let t=a.directiveStart;t<g;t++){const c=i.data[t];c.contentQueries&&c.contentQueries(1,l[t],t)}}}function $l(i,a,l){!at()||(function gm(i,a,l,f){const g=l.directiveStart,t=l.directiveEnd;i.firstCreatePass||Oo(l,a),Jo(f,a);const c=l.initialInputs;for(let o=g;o<t;o++){const u=i.data[o],p=xr(u);p&&u_(a,l,u);const m=Hi(a,i,o,l);Jo(m,a),null!==c&&mm(0,o-g,m,u,0,c),p&&(lt(l.index,a)[8]=m)}}(i,a,l,tr(l,a)),128==(128&l.flags)&&function zf(i,a,l){const f=l.directiveStart,g=l.directiveEnd,t=l.index,c=function ic(){return An.lFrame.currentDirectiveIndex}();try{Et(t);for(let o=f;o<g;o++){const u=i.data[o],p=a[o];Ks(o),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&zl(u,p)}}finally{Et(-1),Ks(c)}}(i,a,l))}function jl(i,a,l=tr){const f=a.localNames;if(null!==f){let g=a.index+1;for(let t=0;t<f.length;t+=2){const c=f[t+1],o=-1===c?l(a,i):i[c];i[g++]=o}}}function Zl(i){const a=i.tView;return null===a||a.incompleteFirstPass?i.tView=Yl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):a}function Yl(i,a,l,f,g,t,c,o,u,p){const m=22+f,S=m+g,I=function am(i,a){const l=[];for(let f=0;f<a;f++)l.push(f<i?null:Fn);return l}(m,S),Y="function"==typeof p?p():p;return I[1]={type:i,blueprint:I,template:l,queries:null,viewQuery:o,declTNode:a,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof t?t():t,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:u,consts:Y,incompleteFirstPass:!1}}function Uu(i,a,l,f){const g=$u(a);null===l?g.push(f):(g.push(l),i.firstCreatePass&&lp(i).push(f,g.length-1))}function ip(i,a,l){for(let f in i)if(i.hasOwnProperty(f)){const g=i[f];(l=null===l?{}:l).hasOwnProperty(f)?l[f].push(a,g):l[f]=[a,g]}return l}function dm(i,a){const f=a.directiveEnd,g=i.data,t=a.attrs,c=[];let o=null,u=null;for(let p=a.directiveStart;p<f;p++){const m=g[p],S=m.inputs,I=null===t||Il(a)?null:qf(S,t);c.push(I),o=ip(S,p,o),u=ip(m.outputs,p,u)}null!==o&&(o.hasOwnProperty("class")&&(a.flags|=16),o.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=c,a.inputs=o,a.outputs=u}function Mi(i,a,l,f,g,t,c,o){const u=tr(a,l);let m,p=a.inputs;!o&&null!=p&&(m=p[f])?(ys(i,l,m,f,g),Xr(a)&&pm(l,a.index)):3&a.type&&(f=function a_(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(f),g=null!=c?c(g,a.value||"",f):g,t.setProperty(u,f,g))}function pm(i,a){const l=lt(a,i);16&l[2]||(l[2]|=32)}function sp(i,a,l,f){let g=!1;if(at()){const t=function Wf(i,a,l){const f=i.directiveRegistry;let g=null;if(f)for(let t=0;t<f.length;t++){const c=f[t];fa(l,c.selectors,!1)&&(g||(g=[]),Lo(Oo(l,a),i,c.type),xr(c)?(Jf(i,l),g.unshift(c)):g.push(c))}return g}(i,a,l),c=null===f?null:{"":-1};if(null!==t){g=!0,Kf(l,i.data.length,t.length);for(let m=0;m<t.length;m++){const S=t[m];S.providersResolver&&S.providersResolver(S)}let o=!1,u=!1,p=Hc(i,a,t.length,null);for(let m=0;m<t.length;m++){const S=t[m];l.mergedAttrs=zr(l.mergedAttrs,S.hostAttrs),Qf(i,l,a,p,S),cp(p,S,c),null!==S.contentQueries&&(l.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(l.flags|=128);const I=S.type.prototype;!o&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(l.index),o=!0),!u&&(I.ngOnChanges||I.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(l.index),u=!0),p++}dm(i,l)}c&&function ap(i,a,l){if(a){const f=i.localNames=[];for(let g=0;g<a.length;g+=2){const t=l[a[g+1]];if(null==t)throw new ue(-301,!1);f.push(a[g],t)}}}(l,f,c)}return l.mergedAttrs=zr(l.mergedAttrs,l.attrs),g}function Bu(i,a,l,f,g,t){const c=t.hostBindings;if(c){let o=i.hostBindingOpCodes;null===o&&(o=i.hostBindingOpCodes=[]);const u=~a.index;(function hm(i){let a=i.length;for(;a>0;){const l=i[--a];if("number"==typeof l&&l<0)return l}return 0})(o)!=u&&o.push(u),o.push(f,g,c)}}function zl(i,a){null!==i.hostBindings&&i.hostBindings(1,a)}function Jf(i,a){a.flags|=2,(i.components||(i.components=[])).push(a.index)}function cp(i,a,l){if(l){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)l[a.exportAs[f]]=i;xr(a)&&(l[""]=i)}}function Kf(i,a,l){i.flags|=1,i.directiveStart=a,i.directiveEnd=a+l,i.providerIndexes=a}function Qf(i,a,l,f,g){i.data[f]=g;const t=g.factory||(g.factory=jr(g.type)),c=new Di(t,xr(g),Gc);i.blueprint[f]=c,l[f]=c,Bu(i,a,0,f,Hc(i,l,g.hostVars,Fn),g)}function u_(i,a,l){const f=tr(a,i),g=Zl(l),t=i[10],c=Ii(i,Nu(i,g,null,l.onPush?32:16,f,a,t,t.createRenderer(f,l),null,null,null));i[a.index]=c}function Ui(i,a,l,f,g,t){const c=tr(i,a);!function up(i,a,l,f,g,t,c){if(null==t)i.removeAttribute(a,g,l);else{const o=null==c?De(t):c(t,f||"",g);i.setAttribute(a,g,o,l)}}(a[11],c,t,i.value,l,f,g)}function mm(i,a,l,f,g,t){const c=t[a];if(null!==c){const o=f.setInput;for(let u=0;u<c.length;){const p=c[u++],m=c[u++],S=c[u++];null!==o?f.setInput(l,S,p,m):l[m]=S}}}function qf(i,a){let l=null,f=0;for(;f<a.length;){const g=a[f];if(0!==g)if(5!==g){if("number"==typeof g)break;i.hasOwnProperty(g)&&(null===l&&(l=[]),l.push(g,i[g],a[f+1])),f+=2}else f+=2;else f+=4}return l}function eh(i,a,l,f){return new Array(i,!0,!1,a,null,0,f,l,null,null)}function ny(i,a){const l=lt(a,i);if(Yt(l)){const f=l[1];48&l[2]?Hl(f,l,f.template,l[8]):l[5]>0&&th(l)}}function th(i){for(let f=_d(i);null!==f;f=Cd(f))for(let g=10;g<f.length;g++){const t=f[g];if(Yt(t))if(512&t[2]){const c=t[1];Hl(c,t,c.template,t[8])}else t[5]>0&&th(t)}const l=i[1].components;if(null!==l)for(let f=0;f<l.length;f++){const g=lt(l[f],i);Yt(g)&&g[5]>0&&th(g)}}function ry(i,a){const l=lt(a,i),f=l[1];(function nh(i,a){for(let l=a.length;l<i.blueprint.length;l++)a.push(i.blueprint[l])})(f,l),rp(f,l,l[8])}function Ii(i,a){return i[13]?i[14][4]=a:i[13]=a,i[14]=a,a}function Vu(i){for(;i;){i[2]|=32;const a=Dc(i);if(Be(i)&&!a)return i;i=a}return null}function Ka(i,a,l,f=!0){const g=a[10];g.begin&&g.begin();try{Hl(i,a,i.template,l)}catch(c){throw f&&Wl(a,c),c}finally{g.end&&g.end()}}function Qa(i,a,l){wi(0),a(i,l)}function $u(i){return i[7]||(i[7]=[])}function lp(i){return i.cleanup||(i.cleanup=[])}function Wl(i,a){const l=i[9],f=l?l.get(Ml,null):null;f&&f.handleError(a)}function ys(i,a,l,f,g){for(let t=0;t<l.length;){const c=l[t++],o=l[t++],u=a[c],p=i.data[c];null!==p.setInput?p.setInput(u,g,f,o):u[o]=g}}function Ss(i,a,l){const f=Io(a,i);!function Hp(i,a,l){i.setValue(a,l)}(i[11],f,l)}function ju(i,a,l){let f=l?i.styles:null,g=l?i.classes:null,t=0;if(null!==a)for(let c=0;c<a.length;c++){const o=a[c];"number"==typeof o?t=o:1==t?g=j(g,o):2==t&&(f=j(f,o+": "+a[++c]+";"))}l?i.styles=f:i.stylesWithoutHost=f,l?i.classes=g:i.classesWithoutHost=g}function oh(i,a,l,f,g=!1){for(;null!==l;){const t=a[l.index];if(null!==t&&f.push(Kn(t)),or(t))for(let o=10;o<t.length;o++){const u=t[o],p=u[1].firstChild;null!==p&&oh(u[1],u,p,f)}const c=l.type;if(8&c)oh(i,a,l.child,f);else if(32&c){const o=gd(l,a);let u;for(;u=o();)f.push(u)}else if(16&c){const o=Ns(a,l);if(Array.isArray(o))f.push(...o);else{const u=Dc(a[16]);oh(u[1],u,o,f,!0)}}l=g?l.projectionNext:l.next}return f}class Zu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return oh(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(or(a)){const l=a[8],f=l?l.indexOf(this):-1;f>-1&&(fl(a,f),Oa(l,f))}this._attachedToViewContainer=!1}Tc(this._lView[1],this._lView)}onDestroy(a){Uu(this._lView[1],this._lView,null,a)}markForCheck(){Vu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ka(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vg(i,a){ra(i,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=a}}class oy extends Zu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ka(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class ih extends da{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=yn(a);return new $s(l,this.ngModule)}}function _m(i){const a=[];for(let l in i)i.hasOwnProperty(l)&&a.push({propName:i[l],templateName:l});return a}class Cm{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,f){const g=this.injector.get(a,ff,f);return g!==ff||l===ff?g:this.parentInjector.get(a,l,f)}}class $s extends la{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function _f(i){return i.map(xu).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return _m(this.componentDef.inputs)}get outputs(){return _m(this.componentDef.outputs)}create(a,l,f,g){let t=(g=g||this.ngModule)instanceof ja?g:g?.injector;t&&null!==this.componentDef.getStandaloneInjector&&(t=this.componentDef.getStandaloneInjector(t)||t);const c=t?new Cm(a,t):a,o=c.get(Ya,null);if(null===o)throw new ue(407,!1);const u=c.get(Nd,null),p=o.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",S=f?function um(i,a,l){return i.selectRootElement(a,l===pt.ShadowDom)}(p,f,this.componentDef.encapsulation):mu(p,m,function l_(i){const a=i.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(m)),I=this.componentDef.onPush?288:272,Y=Yl(0,null,null,1,0,null,null,null,null,null),ae=Nu(null,Y,null,I,null,null,o,p,u,c,null);let Pe,Ne;Qs(ae);try{const ct=function Sm(i,a,l,f,g,t){const c=l[1];l[22]=i;const u=Ja(c,22,2,"#host",null),p=u.mergedAttrs=a.hostAttrs;null!==p&&(ju(u,p,!0),null!==i&&(Vi(g,i,p),null!==u.classes&&Dd(g,i,u.classes),null!==u.styles&&Ad(g,i,u.styles)));const m=f.createRenderer(i,a),S=Nu(l,Zl(a),null,a.onPush?32:16,l[22],u,f,m,t||null,null,null);return c.firstCreatePass&&(Lo(Oo(u,l),c,a.type),Jf(c,u),Kf(u,l.length,1)),Ii(l,S),l[22]=S}(S,this.componentDef,ae,o,p);if(S)if(f)Vi(p,S,["ng-version",Ug.full]);else{const{attrs:At,classes:gt}=function Uc(i){const a=[],l=[];let f=1,g=2;for(;f<i.length;){let t=i[f];if("string"==typeof t)2===g?""!==t&&a.push(t,i[++f]):8===g&&l.push(t);else{if(!Qo(g))break;g=t}f++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);At&&Vi(p,S,At),gt&&gt.length>0&&Dd(p,S,gt.join(" "))}if(Ne=je(Y,22),void 0!==l){const At=Ne.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const en=l[gt];At.push(null!=en?Array.from(en):null)}}Pe=function sh(i,a,l,f){const g=l[1],t=function fm(i,a,l){const f=kr();i.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Qf(i,f,a,Hc(i,a,1,null),l),dm(i,f));const g=Hi(a,i,f.directiveStart,f);Jo(g,a);const t=tr(f,a);return t&&Jo(t,a),g}(g,l,a);if(i[8]=l[8]=t,null!==f)for(const o of f)o(t,a);if(a.contentQueries){const o=kr();a.contentQueries(1,t,o.directiveStart)}const c=kr();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Et(c.index),Bu(l[1],c,0,c.directiveStart,c.directiveEnd,a),zl(a,t)),t}(ct,this.componentDef,ae,[ah]),rp(Y,ae,null)}finally{W()}return new ym(this.componentType,Pe,No(Ne,ae),ae,Ne)}}class ym extends class Yv{}{constructor(a,l,f,g,t){super(),this.location=f,this._rootLView=g,this._tNode=t,this.instance=l,this.hostView=this.changeDetectorRef=new oy(g),this.componentType=a}setInput(a,l){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[a])){const t=this._rootLView;ys(t[1],t,g,a,l),pm(t,this._tNode.index)}}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ah(){const i=kr();jn(kt()[1],i)}function uh(i){let a=function ch(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const f=[i];for(;a;){let g;if(xr(i))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ue(903,!1);g=a.\u0275dir}if(g){if(l){f.push(g);const c=i;c.inputs=Es(i.inputs),c.declaredInputs=Es(i.declaredInputs),c.outputs=Es(i.outputs);const o=g.hostBindings;o&&f_(i,o);const u=g.viewQuery,p=g.contentQueries;if(u&&lh(i,u),p&&p_(i,p),R(i.inputs,g.inputs),R(i.declaredInputs,g.declaredInputs),R(i.outputs,g.outputs),xr(g)&&g.data.animation){const m=i.data;m.animation=(m.animation||[]).concat(g.data.animation)}}const t=g.features;if(t)for(let c=0;c<t.length;c++){const o=t[c];o&&o.ngInherit&&o(i),o===uh&&(l=!1)}}a=Object.getPrototypeOf(a)}!function Yu(i){let a=0,l=null;for(let f=i.length-1;f>=0;f--){const g=i[f];g.hostVars=a+=g.hostVars,g.hostAttrs=zr(g.hostAttrs,l=zr(l,g.hostAttrs))}}(f)}function Es(i){return i===hn?{}:i===Wt?[]:i}function lh(i,a){const l=i.viewQuery;i.viewQuery=l?(f,g)=>{a(f,g),l(f,g)}:a}function p_(i,a){const l=i.contentQueries;i.contentQueries=l?(f,g,t)=>{a(f,g,t),l(f,g,t)}:a}function f_(i,a){const l=i.hostBindings;i.hostBindings=l?(f,g)=>{a(f,g),l(f,g)}:a}let dp=null;function $c(){if(!dp){const i=ft.Symbol;if(i&&i.iterator)dp=i.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const f=a[l];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(dp=f)}}}return dp}function Jl(i){return!!pp(i)&&(Array.isArray(i)||!(i instanceof Map)&&$c()in i)}function pp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function js(i,a,l){return i[a]=l}function jc(i,a){return i[a]}function ii(i,a,l){return!Object.is(i[a],l)&&(i[a]=l,!0)}function zu(i,a,l,f){const g=ii(i,a,l);return ii(i,a+1,f)||g}function Kl(i,a,l,f,g){const t=zu(i,a,l,f);return ii(i,a+2,g)||t}function Si(i,a,l,f,g,t){const c=zu(i,a,l,f);return zu(i,a+2,g,t)||c}function dh(i,a,l,f){const g=kt();return ii(g,xs(),a)&&(bn(),Ui(xt(),g,i,a,l,f)),dh}function Xa(i,a,l,f){return ii(i,xs(),l)?a+De(l)+f:Fn}function ec(i,a,l,f,g,t){const o=zu(i,Ei(),l,g);return jo(2),o?a+De(l)+f+De(g)+t:Fn}function Zc(i,a,l,f,g,t,c,o){const p=Kl(i,Ei(),l,g,c);return jo(3),p?a+De(l)+f+De(g)+t+De(c)+o:Fn}function S_(i,a,l,f,g,t,c,o){const u=kt(),p=bn(),m=i+22,S=p.firstCreatePass?function y_(i,a,l,f,g,t,c,o,u){const p=a.consts,m=Ja(a,i,4,c||null,Sn(p,o));sp(a,l,m,Sn(p,u)),jn(a,m);const S=m.tViews=Yl(2,m,f,g,t,a.directiveRegistry,a.pipeRegistry,null,a.schemas,p);return null!==a.queries&&(a.queries.template(a,m),S.queries=a.queries.embeddedTView(m)),m}(m,p,u,a,l,f,g,t,c):p.data[m];L(S,!1);const I=u[11].createComment("");hl(p,u,I,S),Jo(I,u),Ii(u,u[m]=eh(I,u,I,S)),mo(S)&&$l(p,u,S),null!=c&&jl(u,S,o)}function E_(i){return St(function Nr(){return An.lFrame.contextLView}(),22+i)}function xm(i,a,l){const f=kt();return ii(f,xs(),a)&&Mi(bn(),xt(),f,i,a,f[11],l,!1),xm}function Mm(i,a,l,f,g){const c=g?"class":"style";ys(i,l,a.inputs[c],c,f)}function hp(i,a,l,f){const g=kt(),t=bn(),c=22+i,o=g[11],u=g[c]=mu(o,a,function Bn(){return An.lFrame.currentNamespace}()),p=t.firstCreatePass?function gh(i,a,l,f,g,t,c){const o=a.consts,p=Ja(a,i,2,g,Sn(o,t));return sp(a,l,p,Sn(o,c)),null!==p.attrs&&ju(p,p.attrs,!1),null!==p.mergedAttrs&&ju(p,p.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,p),p}(c,t,g,0,a,l,f):t.data[c];L(p,!0);const m=p.mergedAttrs;null!==m&&Vi(o,u,m);const S=p.classes;null!==S&&Dd(o,u,S);const I=p.styles;return null!==I&&Ad(o,u,I),64!=(64&p.flags)&&hl(t,g,u,p),0===function Se(){return An.lFrame.elementDepthCount}()&&Jo(u,g),function nt(){An.lFrame.elementDepthCount++}(),mo(p)&&($l(t,g,p),op(t,p,g)),null!==f&&jl(g,p),hp}function s(){let i=kr();le()?Mt():(i=i.parent,L(i,!1));const a=i;!function Qe(){An.lFrame.elementDepthCount--}();const l=bn();return l.firstCreatePass&&(jn(l,i),wr(i)&&l.queries.elementEnd(i)),null!=a.classesWithoutHost&&function ru(i){return 0!=(16&i.flags)}(a)&&Mm(l,a,kt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function sc(i){return 0!=(32&i.flags)}(a)&&Mm(l,a,kt(),a.stylesWithoutHost,!1),s}function _(i,a,l,f){return hp(i,a,l,f),s(),_}function d(i,a,l){const f=kt(),g=bn(),t=i+22,c=g.firstCreatePass?function r(i,a,l,f,g){const t=a.consts,c=Sn(t,f),o=Ja(a,i,8,"ng-container",c);return null!==c&&ju(o,c,!0),sp(a,l,o,Sn(t,g)),null!==a.queries&&a.queries.elementStart(a,o),o}(t,g,f,a,l):g.data[t];L(c,!0);const o=f[t]=f[11].createComment("");return hl(g,f,o,c),Jo(o,f),mo(c)&&($l(g,f,c),op(g,c,f)),null!=l&&jl(f,c),d}function C(){let i=kr();const a=bn();return le()?Mt():(i=i.parent,L(i,!1)),a.firstCreatePass&&(jn(a,i),wr(i)&&a.queries.elementEnd(i)),C}function b(i,a,l){return d(i,a,l),C(),b}function re(){return kt()}function et(i){return!!i&&"function"==typeof i.then}function Bt(i){return!!i&&"function"==typeof i.subscribe}const an=Bt;function Zn(i,a,l,f){const g=kt(),t=bn(),c=kr();return function Wu(i,a,l,f,g,t,c,o){const u=mo(f),m=i.firstCreatePass&&lp(i),S=a[8],I=$u(a);let Y=!0;if(3&f.type||o){const Ne=tr(f,a),ct=o?o(Ne):Ne,At=I.length,gt=o?dn=>o(Kn(dn[f.index])):f.index;let en=null;if(!o&&u&&(en=function Xl(i,a,l,f){const g=i.cleanup;if(null!=g)for(let t=0;t<g.length-1;t+=2){const c=g[t];if(c===l&&g[t+1]===f){const o=a[7],u=g[t+2];return o.length>u?o[u]:null}"string"==typeof c&&(t+=2)}return null}(i,a,g,f.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=t,en.__ngLastListenerFn__=t,Y=!1;else{t=zc(f,a,S,t,!1);const dn=l.listen(ct,g,t);I.push(t,dn),m&&m.push(g,gt,At,At+1)}}else t=zc(f,a,S,t,!1);const ae=f.outputs;let Pe;if(Y&&null!==ae&&(Pe=ae[g])){const Ne=Pe.length;if(Ne)for(let ct=0;ct<Ne;ct+=2){const tn=a[Pe[ct]][Pe[ct+1]].subscribe(t),vn=I.length;I.push(t,tn),m&&m.push(g,f.index,vn,-(vn+1))}}}(t,g,g[11],c,i,a,0,f),Zn}function tc(i,a,l,f){try{return!1!==l(f)}catch(g){return Wl(i,g),!1}}function zc(i,a,l,f,g){return function t(c){if(c===Function)return f;Vu(2&i.flags?lt(i.index,a):a);let u=tc(a,0,f,c),p=t.__ngNextListenerFn__;for(;p;)u=tc(a,0,p,c)&&u,p=p.__ngNextListenerFn__;return g&&!1===u&&(c.preventDefault(),c.returnValue=!1),u}}function Ju(i=1){return function B(i){return(An.lFrame.contextLView=function ce(i,a){for(;i>0;)a=a[15],i--;return a}(i,An.lFrame.contextLView))[8]}(i)}function Im(i,a){let l=null;const f=function Zg(i){const a=i.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(i);for(let g=0;g<a.length;g++){const t=a[g];if("*"!==t){if(null===f?fa(i,t,!0):Tu(f,t))return g}else l=g}return l}function wm(i){const a=kt()[16][6];if(!a.projection){const f=a.projection=Ps(i?i.length:1,null),g=f.slice();let t=a.child;for(;null!==t;){const c=i?Im(t,i):0;null!==c&&(g[c]?g[c].projectionNext=t:f[c]=t,g[c]=t),t=t.next}}}function Rm(i,a=0,l){const f=kt(),g=bn(),t=Ja(g,22+i,16,null,l||null);null===t.projection&&(t.projection=a),Mt(),64!=(64&t.flags)&&function Bv(i,a,l){Cu(a[11],0,a,l,Eg(i,l,a),Tg(l.parent||a[6],l,a))}(g,f,t)}function A_(i,a,l){return Pm(i,"",a,"",l),A_}function Pm(i,a,l,f,g){const t=kt(),c=Xa(t,a,l,f);return c!==Fn&&Mi(bn(),xt(),t,i,c,t[11],g,!1),Pm}function Om(i,a,l,f,g,t,c){const o=kt(),u=ec(o,a,l,f,g,t);return u!==Fn&&Mi(bn(),xt(),o,i,u,o[11],c,!1),Om}function D_(i,a,l,f,g,t,c,o,u){const p=kt(),m=Zc(p,a,l,f,g,t,c,o);return m!==Fn&&Mi(bn(),xt(),p,i,m,p[11],u,!1),D_}function T_(i,a,l,f,g){const t=i[l+1],c=null===a;let o=f?_s(t):Vs(t),u=!1;for(;0!==o&&(!1===u||c);){const m=i[o+1];t0(i[o],a)&&(u=!0,i[o+1]=f?Kd(m):Jd(m)),o=f?_s(m):Vs(m)}u&&(i[l+1]=f?Jd(t):Kd(t))}function t0(i,a){return null===i||null==a||(Array.isArray(i)?i[1]:i)===a||!(!Array.isArray(i)||"string"!=typeof a)&&Xe(i,a)>=0}const Uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hy(i){return i.substring(Uo.key,Uo.keyEnd)}function x_(i){return i.substring(Uo.value,Uo.valueEnd)}function gp(i,a){const l=Uo.textEnd;return l===a?-1:(a=Uo.keyEnd=function M_(i,a,l){for(;a<l&&i.charCodeAt(a)>32;)a++;return a}(i,Uo.key=a,l),Wc(i,a,l))}function mh(i,a){const l=Uo.textEnd;let f=Uo.key=Wc(i,a,l);return l===f?-1:(f=Uo.keyEnd=function I_(i,a,l){let f;for(;a<l&&(45===(f=i.charCodeAt(a))||95===f||(-33&f)>=65&&(-33&f)<=90||f>=48&&f<=57);)a++;return a}(i,f,l),f=w_(i,f,l),f=Uo.value=Wc(i,f,l),f=Uo.valueEnd=function gy(i,a,l){let f=-1,g=-1,t=-1,c=a,o=c;for(;c<l;){const u=i.charCodeAt(c++);if(59===u)return o;34===u||39===u?o=c=km(i,u,c,l):a===c-4&&85===t&&82===g&&76===f&&40===u?o=c=km(i,41,c,l):u>32&&(o=c),t=g,g=f,f=-33&u}return o}(i,f,l),w_(i,f,l))}function vh(i){Uo.key=0,Uo.keyEnd=0,Uo.value=0,Uo.valueEnd=0,Uo.textEnd=i.length}function Wc(i,a,l){for(;a<l&&i.charCodeAt(a)<=32;)a++;return a}function w_(i,a,l,f){return(a=Wc(i,a,l))<l&&a++,a}function km(i,a,l,f){let g=-1,t=l;for(;t<f;){const c=i.charCodeAt(t++);if(c==a&&92!==g)return t;g=92==c&&92===g?0:c}throw new Error}function _h(i,a,l){return rs(i,a,l,!1),_h}function Nm(i,a){return rs(i,a,null,!0),Nm}function Ds(i){bs(Gm,my,i,!1)}function my(i,a){for(let l=function Fm(i){return vh(i),mh(i,Wc(i,0,Uo.textEnd))}(a);l>=0;l=mh(a,l))Gm(i,hy(a),x_(a))}function Um(i){bs(k,Zs,i,!0)}function Zs(i,a){for(let l=function Lm(i){return vh(i),gp(i,Wc(i,0,Uo.textEnd))}(a);l>=0;l=gp(a,l))k(i,hy(a),!0)}function rs(i,a,l,f){const g=kt(),t=bn(),c=jo(2);t.firstUpdatePass&&mp(t,i,c,f),a!==Fn&&ii(g,c,a)&&P_(t,t.data[$e()],g,g[11],i,g[c+1]=function Ay(i,a){return null==i||("string"==typeof a?i+=a:"object"==typeof i&&(i=V(ps(i)))),i}(a,l),f,c)}function bs(i,a,l,f){const g=bn(),t=jo(2);g.firstUpdatePass&&mp(g,null,t,f);const c=kt();if(l!==Fn&&ii(c,t,l)){const o=g.data[$e()];if(L_(o,f)&&!Bm(g,t)){let u=f?o.classesWithoutHost:o.stylesWithoutHost;null!==u&&(l=j(u,l||"")),Mm(g,o,c,l,f)}else!function R_(i,a,l,f,g,t,c,o){g===Fn&&(g=Wt);let u=0,p=0,m=0<g.length?g[0]:null,S=0<t.length?t[0]:null;for(;null!==m||null!==S;){const I=u<g.length?g[u+1]:void 0,Y=p<t.length?t[p+1]:void 0;let Pe,ae=null;m===S?(u+=2,p+=2,I!==Y&&(ae=S,Pe=Y)):null===S||null!==m&&m<S?(u+=2,ae=m):(p+=2,ae=S,Pe=Y),null!==ae&&P_(i,a,l,f,ae,Pe,c,o),m=u<g.length?g[u]:null,S=p<t.length?t[p]:null}}(g,o,c,c[11],c[t+1],c[t+1]=function Ey(i,a,l){if(null==l||""===l)return Wt;const f=[],g=ps(l);if(Array.isArray(g))for(let t=0;t<g.length;t++)i(f,g[t],!0);else if("object"==typeof g)for(const t in g)g.hasOwnProperty(t)&&i(f,t,g[t]);else"string"==typeof g&&a(f,g);return f}(i,a,l),f,t)}}function Bm(i,a){return a>=i.expandoStartIndex}function mp(i,a,l,f){const g=i.data;if(null===g[l+1]){const t=g[$e()],c=Bm(i,l);L_(t,f)&&null===a&&!c&&(a=!1),a=function vy(i,a,l,f){const g=function Ea(i){const a=An.lFrame.currentDirectiveIndex;return-1===a?null:i[a]}(i);let t=f?a.residualClasses:a.residualStyles;if(null===g)0===(f?a.classBindings:a.styleBindings)&&(l=Ku(l=Sy(null,i,a,l,f),a.attrs,f),t=null);else{const c=a.directiveStylingLast;if(-1===c||i[c]!==g)if(l=Sy(g,i,a,l,f),null===t){let u=function _y(i,a,l){const f=l?a.classBindings:a.styleBindings;if(0!==Vs(f))return i[_s(f)]}(i,a,f);void 0!==u&&Array.isArray(u)&&(u=Sy(null,i,a,u[1],f),u=Ku(u,a.attrs,f),function Cy(i,a,l,f){i[_s(l?a.classBindings:a.styleBindings)]=f}(i,a,f,u))}else t=function yy(i,a,l){let f;const g=a.directiveEnd;for(let t=1+a.directiveStylingLast;t<g;t++)f=Ku(f,i[t].hostAttrs,l);return Ku(f,a.attrs,l)}(i,a,f)}return void 0!==t&&(f?a.residualClasses=t:a.residualStyles=t),l}(g,t,a,f),function XE(i,a,l,f,g,t){let c=t?a.classBindings:a.styleBindings,o=_s(c),u=Vs(c);i[f]=l;let m,p=!1;if(Array.isArray(l)){const S=l;m=S[1],(null===m||Xe(S,m)>0)&&(p=!0)}else m=l;if(g)if(0!==u){const I=_s(i[o+1]);i[f+1]=Wd(I,o),0!==I&&(i[I+1]=Fl(i[I+1],f)),i[o+1]=function Rf(i,a){return 131071&i|a<<17}(i[o+1],f)}else i[f+1]=Wd(o,0),0!==o&&(i[o+1]=Fl(i[o+1],f)),o=f;else i[f+1]=Wd(u,0),0===o?o=f:i[u+1]=Fl(i[u+1],f),u=f;p&&(i[f+1]=Jd(i[f+1])),T_(i,m,f,!0),T_(i,m,f,!1),function e0(i,a,l,f,g){const t=g?i.residualClasses:i.residualStyles;null!=t&&"string"==typeof a&&Xe(t,a)>=0&&(l[f+1]=Kd(l[f+1]))}(a,m,i,f,t),c=Wd(o,u),t?a.classBindings=c:a.styleBindings=c}(g,t,a,l,c,f)}}function Sy(i,a,l,f,g){let t=null;const c=l.directiveEnd;let o=l.directiveStylingLast;for(-1===o?o=l.directiveStart:o++;o<c&&(t=a[o],f=Ku(f,t.hostAttrs,g),t!==i);)o++;return null!==i&&(l.directiveStylingLast=o),f}function Ku(i,a,l){const f=l?1:2;let g=-1;if(null!==a)for(let t=0;t<a.length;t++){const c=a[t];"number"==typeof c?g=c:g===f&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),k(i,c,!!l||a[++t]))}return void 0===i?null:i}function Gm(i,a,l){k(i,a,ps(l))}function P_(i,a,l,f,g,t,c,o){if(!(3&a.type))return;const u=i.data,p=u[o+1];Ch(function Hs(i){return 1==(1&i)}(p)?O_(u,a,l,g,Vs(p),c):void 0)||(Ch(t)||function wf(i){return 2==(2&i)}(p)&&(t=O_(u,null,l,g,o,c)),function gl(i,a,l,f,g){if(a)g?i.addClass(l,f):i.removeClass(l,f);else{let t=-1===f.indexOf("-")?void 0:vi.DashCase;null==g?i.removeStyle(l,f,t):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),t|=vi.Important),i.setStyle(l,f,g,t))}}(f,c,Io($e(),l),g,t))}function O_(i,a,l,f,g,t){const c=null===a;let o;for(;g>0;){const u=i[g],p=Array.isArray(u),m=p?u[1]:u,S=null===m;let I=l[g+1];I===Fn&&(I=S?Wt:void 0);let Y=S?se(I,f):m===f?I:void 0;if(p&&!Ch(Y)&&(Y=se(u,f)),Ch(Y)&&(o=Y,c))return o;const ae=i[g+1];g=c?_s(ae):Vs(ae)}if(null!==a){let u=t?a.residualClasses:a.residualStyles;null!=u&&(o=se(u,f))}return o}function Ch(i){return void 0!==i}function L_(i,a){return 0!=(i.flags&(a?16:32))}function F_(i,a=""){const l=kt(),f=bn(),g=i+22,t=f.firstCreatePass?Ja(f,g,1,a,null):f.data[g],c=l[g]=function pl(i,a){return i.createText(a)}(l[11],a);hl(f,l,c,t),L(t,!1)}function k_(i){return Vm("",i,""),k_}function Vm(i,a,l){const f=kt(),g=Xa(f,i,a,l);return g!==Fn&&Ss(f,$e(),g),Vm}function N_(i,a,l,f,g){const t=kt(),c=ec(t,i,a,l,f,g);return c!==Fn&&Ss(t,$e(),c),N_}function yh(i,a,l,f,g,t,c){const o=kt(),u=Zc(o,i,a,l,f,g,t,c);return u!==Fn&&Ss(o,$e(),u),yh}function V_(i,a,l){bs(k,Zs,Xa(kt(),i,a,l),!0)}function H_(i,a,l,f,g){bs(k,Zs,ec(kt(),i,a,l,f,g),!0)}function Y_(i,a,l){const f=kt();return ii(f,xs(),a)&&Mi(bn(),xt(),f,i,a,f[11],l,!0),Y_}const ed=void 0;var a0=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fy(i){const l=Math.floor(Math.abs(i)),f=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let _p={};function ky(i){const a=function u0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=bh(a);if(l)return l;const f=a.split("-")[0];if(l=bh(f),l)return l;if("en"===f)return a0;throw new ue(701,!1)}function Ny(i){return ky(i)[In.PluralCase]}function bh(i){return i in _p||(_p[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),_p[i]}var In=(()=>((In=In||{})[In.LocaleId=0]="LocaleId",In[In.DayPeriodsFormat=1]="DayPeriodsFormat",In[In.DayPeriodsStandalone=2]="DayPeriodsStandalone",In[In.DaysFormat=3]="DaysFormat",In[In.DaysStandalone=4]="DaysStandalone",In[In.MonthsFormat=5]="MonthsFormat",In[In.MonthsStandalone=6]="MonthsStandalone",In[In.Eras=7]="Eras",In[In.FirstDayOfWeek=8]="FirstDayOfWeek",In[In.WeekendRange=9]="WeekendRange",In[In.DateFormat=10]="DateFormat",In[In.TimeFormat=11]="TimeFormat",In[In.DateTimeFormat=12]="DateTimeFormat",In[In.NumberSymbols=13]="NumberSymbols",In[In.NumberFormats=14]="NumberFormats",In[In.CurrencyCode=15]="CurrencyCode",In[In.CurrencySymbol=16]="CurrencySymbol",In[In.CurrencyName=17]="CurrencyName",In[In.Currencies=18]="Currencies",In[In.Directionality=19]="Directionality",In[In.PluralCase=20]="PluralCase",In[In.ExtraData=21]="ExtraData",In))();const Cp="en-US";let h0=Cp;function eC(i,a,l,f,g){if(i=z(i),Array.isArray(i))for(let t=0;t<i.length;t++)eC(i[t],a,l,f,g);else{const t=bn(),c=kt();let o=gs(i)?i:z(i.provide),u=kg(i);const p=kr(),m=1048575&p.providerIndexes,S=p.directiveStart,I=p.providerIndexes>>20;if(gs(i)||!i.multi){const Y=new Di(u,g,Gc),ae=Xm(o,a,g?m:m+I,S);-1===ae?(Lo(Oo(p,c),t,o),qm(t,i,a.length),a.push(o),p.directiveStart++,p.directiveEnd++,g&&(p.providerIndexes+=1048576),l.push(Y),c.push(Y)):(l[ae]=Y,c[ae]=Y)}else{const Y=Xm(o,a,m+I,S),ae=Xm(o,a,m,m+I),Pe=Y>=0&&l[Y],Ne=ae>=0&&l[ae];if(g&&!Ne||!g&&!Pe){Lo(Oo(p,c),t,o);const ct=function dS(i,a,l,f,g){const t=new Di(i,l,Gc);return t.multi=[],t.index=a,t.componentProviders=0,lS(t,g,f&&!l),t}(g?J0:W0,l.length,g,f,u);!g&&Ne&&(l[ae].providerFactory=ct),qm(t,i,a.length,0),a.push(o),p.directiveStart++,p.directiveEnd++,g&&(p.providerIndexes+=1048576),l.push(ct),c.push(ct)}else qm(t,i,Y>-1?Y:ae,lS(l[g?ae:Y],u,!g&&f));!g&&f&&Ne&&l[ae].componentProviders++}}}function qm(i,a,l,f){const g=gs(a),t=function Pd(i){return!!i.useClass}(a);if(g||t){const u=(t?z(a.useClass):a).prototype.ngOnDestroy;if(u){const p=i.destroyHooks||(i.destroyHooks=[]);if(!g&&a.multi){const m=p.indexOf(l);-1===m?p.push(l,[f,u]):p[m+1].push(f,u)}else p.push(l,u)}}}function lS(i,a,l){return l&&i.componentProviders++,i.multi.push(a)-1}function Xm(i,a,l,f){for(let g=l;g<f;g++)if(a[g]===i)return g;return-1}function W0(i,a,l,f){return tC(this.multi,[])}function J0(i,a,l,f){const g=this.multi;let t;if(this.providerFactory){const c=this.providerFactory.componentProviders,o=Hi(l,l[1],this.providerFactory.index,f);t=o.slice(0,c),tC(g,t);for(let u=c;u<o.length;u++)t.push(o[u])}else t=[],tC(g,t);return t}function tC(i,a){for(let l=0;l<i.length;l++)a.push((0,i[l])());return a}function K0(i,a=[]){return l=>{l.providersResolver=(f,g)=>function z0(i,a,l){const f=bn();if(f.firstCreatePass){const g=xr(i);eC(l,f.data,f.blueprint,g,!0),eC(a,f.data,f.blueprint,g,!1)}}(f,g?g(i):i,a)}}class wh{}class Q0{}function AD(i,a){return new ev(i,a??null)}class ev extends wh{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ih(this);const f=er(a);this._bootstrapComponents=ms(f.bootstrap),this._r3Injector=Mu(a,l,[{provide:wh,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],V(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Rh extends Q0{constructor(a){super(),this.moduleType=a}create(a){return new ev(this.moduleType,a)}}class pS extends wh{constructor(a,l,f){super(),this.componentFactoryResolver=new ih(this),this.instance=null;const g=new df([...a,{provide:wh,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],l||Al(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function fS(i,a,l=null){return new pS(i,a,l).injector}let Sp=(()=>{class i{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const f=af(0,l.type),g=f.length>0?fS([f],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,g)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Ct({token:i,providedIn:"environment",factory:()=>new i(uo(ja))}),i})();function hS(i){i.getStandaloneInjector=a=>a.get(Sp).getOrCreateStandaloneInjector(i)}function yS(i,a,l){const f=Mr()+i,g=kt();return g[f]===Fn?js(g,f,l?a.call(l):a()):jc(g,f)}function SS(i,a,l,f){return rC(kt(),Mr(),i,a,l,f)}function ES(i,a,l,f,g){return bS(kt(),Mr(),i,a,l,f,g)}function nC(i,a,l,f,g,t){return oC(kt(),Mr(),i,a,l,f,g,t)}function AS(i,a,l,f,g,t,c){return function TS(i,a,l,f,g,t,c,o,u){const p=a+l;return Si(i,p,g,t,c,o)?js(i,p+4,u?f.call(u,g,t,c,o):f(g,t,c,o)):qu(i,p+4)}(kt(),Mr(),i,a,l,f,g,t,c)}function tv(i,a,l,f,g,t,c,o){const u=Mr()+i,p=kt(),m=Si(p,u,l,f,g,t);return ii(p,u+4,c)||m?js(p,u+5,o?a.call(o,l,f,g,t,c):a(l,f,g,t,c)):jc(p,u+5)}function qu(i,a){const l=i[a];return l===Fn?void 0:l}function rC(i,a,l,f,g,t){const c=a+l;return ii(i,c,g)?js(i,c+1,t?f.call(t,g):f(g)):qu(i,c+1)}function bS(i,a,l,f,g,t,c){const o=a+l;return zu(i,o,g,t)?js(i,o+2,c?f.call(c,g,t):f(g,t)):qu(i,o+2)}function oC(i,a,l,f,g,t,c,o){const u=a+l;return Kl(i,u,g,t,c)?js(i,u+3,o?f.call(o,g,t,c):f(g,t,c)):qu(i,u+3)}function MS(i,a){const l=bn();let f;const g=i+22;l.firstCreatePass?(f=function IS(i,a){if(a)for(let l=a.length-1;l>=0;l--){const f=a[l];if(i===f.name)return f}}(a,l.pipeRegistry),l.data[g]=f,f.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(g,f.onDestroy)):f=l.data[g];const t=f.factory||(f.factory=jr(f.type)),c=qt(Gc);try{const o=ws(!1),u=t();return ws(o),function cy(i,a,l,f){l>=i.data.length&&(i.data[l]=null,i.blueprint[l]=null),a[l]=f}(l,kt(),g,u),u}finally{qt(c)}}function iC(i,a,l){const f=i+22,g=kt(),t=St(g,f);return Ph(g,f)?rC(g,Mr(),a,t.transform,l,t):t.transform(l)}function sC(i,a,l,f){const g=i+22,t=kt(),c=St(t,g);return Ph(t,g)?bS(t,Mr(),a,c.transform,l,f,c):c.transform(l,f)}function wS(i,a,l,f,g){const t=i+22,c=kt(),o=St(c,t);return Ph(c,t)?oC(c,Mr(),a,o.transform,l,f,g,o):o.transform(l,f,g)}function Ph(i,a){return i[1].data[a].pure}function aC(i){return a=>{setTimeout(i,void 0,a)}}const nc=class pA extends n.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,f){let g=a,t=l||(()=>null),c=f;if(a&&"object"==typeof a){const u=a;g=u.next?.bind(u),t=u.error?.bind(u),c=u.complete?.bind(u)}this.__isAsync&&(t=aC(t),g&&(g=aC(g)),c&&(c=aC(c)));const o=super.subscribe({next:g,error:t,complete:c});return a instanceof e.w&&a.add(o),o}};function fA(){return this._results[$c()]()}class cC{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=$c(),f=cC.prototype;f[l]||(f[l]=fA)}get changes(){return this._changes||(this._changes=new nc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const f=this;f.dirty=!1;const g=zo(a);(this._changesDetected=!function Pa(i,a,l){if(i.length!==a.length)return!1;for(let f=0;f<i.length;f++){let g=i[f],t=a[f];if(l&&(g=l(g),t=l(t)),t!==g)return!1}return!0}(f._results,g,l))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let td=(()=>{class i{}return i.__NG_ELEMENT_ID__=mA,i})();const hA=td,gA=class extends hA{constructor(a,l,f){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=f}createEmbeddedView(a,l){const f=this._declarationTContainer.tViews,g=Nu(this._declarationLView,f,a,16,null,f.declTNode,null,null,null,null,l||null);g[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(g[19]=c.createEmbeddedView(f)),rp(f,g,a),new Zu(g)}};function mA(){return Ep(kr(),kt())}function Ep(i,a){return 4&i.type?new gA(a,i,No(i,a)):null}let Oh=(()=>{class i{}return i.__NG_ELEMENT_ID__=nv,i})();function nv(){return uC(kr(),kt())}const vA=Oh,RS=class extends vA{constructor(a,l,f){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=f}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){const a=oi(this._hostTNode,this._hostLView);if(Ri(a)){const l=bi(a,this._hostLView),f=ri(a);return new ss(l[1].data[f+8],l)}return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=PS(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,f){let g,t;"number"==typeof f?g=f:null!=f&&(g=f.index,t=f.injector);const c=a.createEmbeddedView(l||{},t);return this.insert(c,g),c}createComponent(a,l,f,g,t){const c=a&&!function ta(i){return"function"==typeof i}(a);let o;if(c)o=l;else{const S=l||{};o=S.index,f=S.injector,g=S.projectableNodes,t=S.environmentInjector||S.ngModuleRef}const u=c?a:new $s(yn(a)),p=f||this.parentInjector;if(!t&&null==u.ngModule){const I=(c?p:this.parentInjector).get(ja,null);I&&(t=I)}const m=u.create(p,g,void 0,t);return this.insert(m.hostView,o),m}insert(a,l){const f=a._lView,g=f[1];if(function Xt(i){return or(i[3])}(f)){const m=this.indexOf(a);if(-1!==m)this.detach(m);else{const S=f[3],I=new RS(S,S[6],S[3]);I.detach(I.indexOf(a))}}const t=this._adjustIndex(l),c=this._lContainer;!function _g(i,a,l,f){const g=10+f,t=l.length;f>0&&(l[g-1][4]=a),f<t-10?(a[4]=l[g],gc(l,10+f,a)):(l.push(a),a[4]=null),a[3]=l;const c=a[17];null!==c&&l!==c&&function Cg(i,a){const l=i[9];a[16]!==a[3][3][16]&&(i[2]=!0),null===l?i[9]=[a]:l.push(a)}(c,a);const o=a[19];null!==o&&o.insertView(i),a[2]|=64}(g,f,c,t);const o=Ed(t,c),u=f[11],p=Ji(u,c[7]);return null!==p&&function mg(i,a,l,f,g,t){f[0]=g,f[6]=a,ra(i,f,l,1,g,t)}(g,c[6],u,f,p,o),a.attachToViewContainerRef(),gc(rv(c),t,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=PS(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),f=fl(this._lContainer,l);f&&(Oa(rv(this._lContainer),l),Tc(f[1],f))}detach(a){const l=this._adjustIndex(a,-1),f=fl(this._lContainer,l);return f&&null!=Oa(rv(this._lContainer),l)?new Zu(f):null}_adjustIndex(a,l=0){return a??this.length+l}};function PS(i){return i[8]}function rv(i){return i[8]||(i[8]=[])}function uC(i,a){let l;const f=a[i.index];if(or(f))l=f;else{let g;if(8&i.type)g=Kn(f);else{const t=a[11];g=t.createComment("");const c=tr(i,a);Ba(t,Ji(t,c),g,function yd(i,a){return i.nextSibling(a)}(t,c),!1)}a[i.index]=l=eh(f,a,g,i),Ii(a,l)}return new RS(l,i,a)}class ov{constructor(a){this.queryList=a,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class lC{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const f=null!==a.contentQueries?a.contentQueries[0]:l.length,g=[];for(let t=0;t<f;t++){const c=l.getByIndex(t);g.push(this.queries[c.indexInDeclarationView].clone())}return new lC(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==$S(a,l).matches&&this.queries[l].setDirty()}}class dC{constructor(a,l,f=null){this.predicate=a,this.flags=l,this.read=f}}class pC{constructor(a=[]){this.queries=a}elementStart(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let f=0;f<this.length;f++){const g=null!==l?l.length:0,t=this.getByIndex(f).embeddedTView(a,g);t&&(t.indexInDeclarationView=f,null!==l?l.push(t):l=[t])}return null!==l?new pC(l):null}template(a,l){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class fC{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new fC(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==l;)f=f.parent;return l===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const t=f[g];this.matchTNodeWithReadOption(a,l,OS(l,t)),this.matchTNodeWithReadOption(a,l,Rs(l,a,t,!1,!1))}else f===td?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Rs(l,a,f,!1,!1))}matchTNodeWithReadOption(a,l,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Fc||g===Oh||g===td&&4&l.type)this.addMatch(l.index,-2);else{const t=Rs(l,a,g,!1,!1);null!==t&&this.addMatch(l.index,t)}else this.addMatch(l.index,f)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function OS(i,a){const l=i.localNames;if(null!==l)for(let f=0;f<l.length;f+=2)if(l[f]===a)return l[f+1];return null}function FS(i,a,l,f){return-1===l?function LS(i,a){return 11&i.type?No(i,a):4&i.type?Ep(i,a):null}(a,i):-2===l?function kS(i,a,l){return l===Fc?No(a,i):l===td?Ep(a,i):l===Oh?uC(a,i):void 0}(i,a,f):Hi(i,i[1],l,a)}function hC(i,a,l,f){const g=a[19].queries[f];if(null===g.matches){const t=i.data,c=l.matches,o=[];for(let u=0;u<c.length;u+=2){const p=c[u];o.push(p<0?null:FS(a,t[p],c[u+1],l.metadata.read))}g.matches=o}return g.matches}function iv(i,a,l,f){const g=i.queries.getByIndex(l),t=g.matches;if(null!==t){const c=hC(i,a,g,l);for(let o=0;o<t.length;o+=2){const u=t[o];if(u>0)f.push(c[o/2]);else{const p=t[o+1],m=a[-u];for(let S=10;S<m.length;S++){const I=m[S];I[17]===I[3]&&iv(I[1],I,p,f)}if(null!==m[9]){const S=m[9];for(let I=0;I<S.length;I++){const Y=S[I];iv(Y[1],Y,p,f)}}}}}return f}function NS(i){const a=kt(),l=bn(),f=Ms();wi(f+1);const g=$S(l,f);if(i.dirty&&function Ht(i){return 4==(4&i[2])}(a)===(2==(2&g.metadata.flags))){if(null===g.matches)i.reset([]);else{const t=g.crossesNgTemplate?iv(l,a,f,[]):hC(l,a,g,f);i.reset(t,bl),i.notifyOnChanges()}return!0}return!1}function US(i,a,l){const f=bn();f.firstCreatePass&&(HS(f,new dC(i,a,l),-1),2==(2&a)&&(f.staticViewQueries=!0)),VS(f,kt(),a)}function BS(i,a,l,f){const g=bn();if(g.firstCreatePass){const t=kr();HS(g,new dC(a,l,f),t.index),function SA(i,a){const l=i.contentQueries||(i.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,a)}(g,i),2==(2&l)&&(g.staticContentQueries=!0)}VS(g,kt(),l)}function GS(){return function yA(i,a){return i[19].queries[a].queryList}(kt(),Ms())}function VS(i,a,l){const f=new cC(4==(4&l));Uu(i,a,f,f.destroy),null===a[19]&&(a[19]=new lC),a[19].queries.push(new ov(f))}function HS(i,a,l){null===i.queries&&(i.queries=new pC),i.queries.track(new fC(a,l))}function $S(i,a){return i.queries.getByIndex(a)}function jS(i,a){return Ep(i,a)}function Dp(...i){}const wC=new cr("Application Initializer");let RC=(()=>{class i{constructor(l){this.appInits=l,this.resolve=Dp,this.reject=Dp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const l=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const t=this.appInits[g]();if(et(t))l.push(t);else if(an(t)){const c=new Promise((o,u)=>{t.subscribe({complete:o,error:u})});l.push(c)}}Promise.all(l).then(()=>{f()}).catch(g=>{this.reject(g)}),0===l.length&&f(),this.initialized=!0}}return i.\u0275fac=function(l){return new(l||i)(uo(wC,8))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bp=new cr("AppId",{providedIn:"root",factory:function PC(){return`${hv()}${hv()}${hv()}`}});function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OC=new cr("Platform Initializer"),OA=new cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lE=new cr("appBootstrapListener");let LA=(()=>{class i{log(l){console.log(l)}warn(l){console.warn(l)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Bh=new cr("LocaleId",{providedIn:"root",factory:()=>_c(Bh,Ut.Optional|Ut.SkipSelf)||function gv(){return typeof $localize<"u"&&$localize.locale||Cp}()}),dE=new cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fE{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let LC=(()=>{class i{compileModuleSync(l){return new Rh(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const f=this.compileModuleSync(l),t=ms(er(l).declarations).reduce((c,o)=>{const u=yn(o);return u&&c.push(new $s(u)),c},[]);return new fE(f,t)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const PD=(()=>Promise.resolve(0))();function gE(i){typeof Zone>"u"?PD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ca{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const t=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new t("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&l,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function OD(){let i=ft.requestAnimationFrame,a=ft.cancelAnimationFrame;if(typeof Zone<"u"&&i&&a){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function VA(i){const a=()=>{!function GA(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,mv(i),i.isCheckStableRunning=!0,FC(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),mv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,f,g,t,c,o)=>{try{return mE(i),l.invokeTask(g,t,c,o)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===t.type||i.shouldCoalesceRunChangeDetection)&&a(),HA(i)}},onInvoke:(l,f,g,t,c,o,u)=>{try{return mE(i),l.invoke(g,t,c,o,u)}finally{i.shouldCoalesceRunChangeDetection&&a(),HA(i)}},onHasTask:(l,f,g,t)=>{l.hasTask(g,t),f===g&&("microTask"==t.change?(i._hasPendingMicrotasks=t.microTask,mv(i),FC(i)):"macroTask"==t.change&&(i.hasPendingMacrotasks=t.macroTask))},onHandleError:(l,f,g,t)=>(l.handleError(g,t),i.runOutsideAngular(()=>i.onError.emit(t)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ca.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Ca.isInAngularZone())throw new ue(909,!1)}run(a,l,f){return this._inner.run(a,l,f)}runTask(a,l,f,g){const t=this._inner,c=t.scheduleEventTask("NgZoneEvent: "+g,a,BA,Dp,Dp);try{return t.runTask(c,l,f)}finally{t.cancelTask(c)}}runGuarded(a,l,f){return this._inner.runGuarded(a,l,f)}runOutsideAngular(a){return this._outer.run(a)}}const BA={};function FC(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function mv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function HA(i){i._nesting--,FC(i)}class LD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(a,l,f){return a.apply(l,f)}runGuarded(a,l,f){return a.apply(l,f)}runOutsideAngular(a){return a()}runTask(a,l,f,g){return a.apply(l,f)}}const vE=new cr(""),_E=new cr("");let vv,FD=(()=>{class i{constructor(l,f,g){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vv||(function jA(i){vv=i}(g),g.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ca.assertNotInAngularZone(),gE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gE(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,g){let t=-1;f&&f>0&&(t=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==t),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:t,updateCb:g})}whenStable(l,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,g){return[]}}return i.\u0275fac=function(l){return new(l||i)(uo(Ca),uo($A),uo(_E))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})(),$A=(()=>{class i{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return vv?.findTestabilityInTree(this,l,f)??null}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Xu=null;const CE=new cr("AllowMultipleToken"),kC=new cr("PlatformDestroyListeners");class YA{constructor(a,l){this.name=a,this.token=l}}function EE(i,a,l=[]){const f=`Platform: ${a}`,g=new cr(f);return(t=[])=>{let c=_v();if(!c||c.injector.get(CE,!1)){const o=[...l,...t,{provide:g,useValue:!0}];i?i(o):function zA(i){if(Xu&&!Xu.get(CE,!1))throw new ue(400,!1);Xu=i;const a=i.get(DE);(function SE(i){const a=i.get(OC,null);a&&a.forEach(l=>l())})(i)}(function AE(i=[],a){return es.create({name:a,providers:[{provide:Sl,useValue:"platform"},{provide:kC,useValue:new Set([()=>Xu=null])},...i]})}(o,f))}return function JA(i){const a=_v();if(!a)throw new ue(401,!1);return a}()}}function _v(){return Xu?.get(DE)??null}let DE=(()=>{class i{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const g=function TE(i,a){let l;return l="noop"===i?new LD:("zone.js"===i?void 0:i)||new Ca(a),l}(f?.ngZone,function bE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(f)),t=[{provide:Ca,useValue:g}];return g.run(()=>{const c=es.create({providers:t,parent:this.injector,name:l.moduleType.name}),o=l.create(c),u=o.injector.get(Ml,null);if(!u)throw new ue(402,!1);return g.runOutsideAngular(()=>{const p=g.onError.subscribe({next:m=>{u.handleError(m)}});o.onDestroy(()=>{Vh(this._modules,o),p.unsubscribe()})}),function xE(i,a,l){try{const f=l();return et(f)?f.catch(g=>{throw a.runOutsideAngular(()=>i.handleError(g)),g}):f}catch(f){throw a.runOutsideAngular(()=>i.handleError(f)),f}}(u,g,()=>{const p=o.injector.get(RC);return p.runInitializers(),p.donePromise.then(()=>(function z_(i){_e(i,"Expected localeId to be defined"),"string"==typeof i&&(h0=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Bh,Cp)||Cp),this._moduleDoBootstrap(o),o))})})}bootstrapModule(l,f=[]){const g=ME({},f);return function ZA(i,a,l){const f=new Rh(l);return Promise.resolve(f)}(0,0,l).then(t=>this.bootstrapModuleFactory(t,g))}_moduleDoBootstrap(l){const f=l.injector.get(qc);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new ue(403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(kC,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(l){return new(l||i)(uo(es))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ME(i,a){return Array.isArray(a)?a.reduce(ME,i):{...i,...a}}let qc=(()=>{class i{constructor(l,f,g){this._zone=l,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const t=new h.y(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),c=new h.y(o=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ca.assertNotInAngularZone(),gE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{Ca.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),p.unsubscribe()}});this.isStable=(0,P.T)(t,c.pipe((0,E.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const g=l instanceof la;if(!this._injector.get(RC).done)throw!g&&zn(l),new ue(405,false);let c;c=g?l:this._injector.get(da).resolveComponentFactory(l),this.componentTypes.push(c.componentType);const o=function yE(i){return i.isBoundToModule}(c)?void 0:this._injector.get(wh),p=c.create(es.NULL,[],f||c.selector,o),m=p.location.nativeElement,S=p.injector.get(vE,null);return S?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Vh(this.components,p),S?.unregisterApplication(m)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;Vh(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(lE,[]).concat(this._bootstrapListeners).forEach(g=>g(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Vh(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ue(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(l){return new(l||i)(uo(Ca),uo(ja),uo(Ml))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Vh(i,a){const l=i.indexOf(a);l>-1&&i.splice(l,1)}let IE=!0,wE=!1;function RE(){return wE=!0,IE}function QA(){if(wE)throw new Error("Cannot enable prod mode after platform setup.");IE=!1}let PE=(()=>{class i{}return i.__NG_ELEMENT_ID__=qA,i})();function qA(i){return function XA(i,a,l){if(Xr(i)&&!l){const f=lt(i.index,a);return new Zu(f,f)}return 47&i.type?new Zu(a[16],a):null}(kr(),kt(),16==(16&i))}class nD{constructor(){}supports(a){return Jl(a)}create(a){return new YD(a)}}const ZD=(i,a)=>a;class YD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ZD}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,f=this._removalsHead,g=0,t=null;for(;l||f;){const c=!f||l&&l.currentIndex<UE(f,g,t)?l:f,o=UE(c,g,t),u=c.currentIndex;if(c===f)g--,f=f._nextRemoved;else if(l=l._next,null==c.previousIndex)g++;else{t||(t=[]);const p=o-g,m=u-g;if(p!=m){for(let I=0;I<p;I++){const Y=I<t.length?t[I]:t[I]=0,ae=Y+I;m<=ae&&ae<p&&(t[I]=Y+1)}t[c.previousIndex]=m-p}}o!==u&&a(c,o,u)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Jl(a))throw new ue(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,t,c,l=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let o=0;o<this.length;o++)t=a[o],c=this._trackByFn(o,t),null!==l&&Object.is(l.trackById,c)?(f&&(l=this._verifyReinsertion(l,t,c,o)),Object.is(l.item,t)||this._addIdentityChange(l,t)):(l=this._mismatch(l,t,c,o),f=!0),l=l._next}else g=0,function Am(i,a){if(Array.isArray(i))for(let l=0;l<i.length;l++)a(i[l]);else{const l=i[$c()]();let f;for(;!(f=l.next()).done;)a(f.value)}}(a,o=>{c=this._trackByFn(g,o),null!==l&&Object.is(l.trackById,c)?(f&&(l=this._verifyReinsertion(l,o,c,g)),Object.is(l.item,o)||this._addIdentityChange(l,o)):(l=this._mismatch(l,o,c,g),f=!0),l=l._next,g++}),this.length=g;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,f,g){let t;return null===a?t=this._itTail:(t=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,t,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,t,g)):a=this._addAfter(new zD(l,f),t,g),a}_verifyReinsertion(a,l,f,g){let t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==t?a=this._reinsertAfter(t,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,t=a._nextRemoved;return null===g?this._removalsHead=t:g._nextRemoved=t,null===t?this._removalsTail=g:t._prevRemoved=g,this._insertAfter(a,l,f),this._addToMoves(a,f),a}_moveAfter(a,l,f){return this._unlink(a),this._insertAfter(a,l,f),this._addToMoves(a,f),a}_addAfter(a,l,f){return this._insertAfter(a,l,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,f){const g=null===l?this._itHead:l._next;return a._next=g,a._prev=l,null===g?this._itTail=a:g._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new GC),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,f=a._next;return null===l?this._itHead=f:l._next=f,null===f?this._itTail=l:f._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GC),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class zD{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===l||l<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const l=a._prevDup,f=a._nextDup;return null===l?this._head=f:l._nextDup=f,null===f?this._tail=l:f._prevDup=l,null===this._head}}class GC{constructor(){this.map=new Map}put(a){const l=a.trackById;let f=this.map.get(l);f||(f=new rD,this.map.set(l,f)),f.add(a)}get(a,l){const g=this.map.get(a);return g?g.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(i,a,l){const f=i.previousIndex;if(null===f)return f;let g=0;return l&&f<l.length&&(g=l[f]),f+a+g}class BE{constructor(){}supports(a){return a instanceof Map||pp(a)}create(){return new oD}}class oD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||pp(a)))throw new ue(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,g)=>{if(l&&l.key===g)this._maybeAddToChanges(l,f),this._appendAfter=l,l=l._next;else{const t=this._getOrCreateRecordForKey(g,f);l=this._insertBeforeOrAppend(l,t)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let f=l;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const f=a._prev;return l._next=a,l._prev=f,a._prev=l,f&&(f._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,l);const t=g._prev,c=g._next;return t&&(t._next=c),c&&(c._prev=t),g._next=null,g._prev=null,g}const f=new GE(a);return this._records.set(a,f),f.currentValue=l,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(f=>l(a[f],f))}}class GE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new Hh([new nD])}let Hh=(()=>{class i{constructor(l){this.factories=l}static create(l,f){if(null!=f){const g=f.factories.slice();l=l.concat(g)}return new i(l)}static extend(l){return{provide:i,useFactory:f=>i.create(l,f||VE()),deps:[[i,new yc,new du]]}}find(l){const f=this.factories.find(g=>g.supports(l));if(null!=f)return f;throw new ue(901,!1)}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:VE}),i})();function Sv(){return new VC([new BE])}let VC=(()=>{class i{constructor(l){this.factories=l}static create(l,f){if(f){const g=f.factories.slice();l=l.concat(g)}return new i(l)}static extend(l){return{provide:i,useFactory:f=>i.create(l,f||Sv()),deps:[[i,new yc,new du]]}}find(l){const f=this.factories.find(g=>g.supports(l));if(f)return f;throw new ue(901,!1)}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:Sv}),i})();const $C=EE(null,"core",[]);let aD=(()=>{class i{constructor(l){}}return i.\u0275fac=function(l){return new(l||i)(uo(qc))},i.\u0275mod=st({type:i}),i.\u0275inj=Zt({}),i})();function HE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},4006:(ye,X,v)=>{"use strict";v.d(X,{CE:()=>Bo,EJ:()=>Ao,F:()=>Tr,Fd:()=>Kn,Fj:()=>ee,JJ:()=>Ut,JL:()=>pn,JU:()=>V,Kr:()=>ro,NI:()=>_r,On:()=>N,Q7:()=>di,QS:()=>Js,UX:()=>Qe,Wl:()=>H,YN:()=>Vo,Zs:()=>je,_:()=>ln,_Y:()=>xe,c5:()=>Vr,kI:()=>Ge,nD:()=>Sn,nJ:()=>wn,oH:()=>To,p4:()=>Nn,qQ:()=>$o,sg:()=>Rr,u:()=>Go,u5:()=>nt,vC:()=>Cn,wV:()=>J,x0:()=>no});var n=v(4650),e=v(6895),h=v(5254),P=v(567),E=v(4850);let M=(()=>{class Z{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=Mt=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(n.Qsj),n.Y36(n.SBq))},Z.\u0275dir=n.lG2({type:Z}),Z})(),R=(()=>{class Z extends M{}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,features:[n.qOj]}),Z})();const V=new n.OlP("NgValueAccessor"),j={provide:V,useExisting:(0,n.Gpc)(()=>H),multi:!0};let H=(()=>{class Z extends R{writeValue(L){this.setProperty("checked",L)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(_n){return le.onChange(_n.target.checked)})("blur",function(){return le.onTouched()})},features:[n._Bn([j]),n.qOj]}),Z})();const G={provide:V,useExisting:(0,n.Gpc)(()=>ee),multi:!0},q=new n.OlP("CompositionEventMode");let ee=(()=>{class Z extends M{constructor(L,le,Mt){super(L,le),this._compositionMode=Mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function z(){const Z=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(q,8))},Z.\u0275dir=n.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,le){1&L&&n.NdJ("input",function(_n){return le._handleInput(_n.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(_n){return le._compositionEnd(_n.target.value)})},features:[n._Bn([G]),n.qOj]}),Z})();function oe(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function De(Z){return null!=Z&&"number"==typeof Z.length}const Ye=new n.OlP("NgValidators"),ot=new n.OlP("NgAsyncValidators"),ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min($){return ge($)}static max($){return ve($)}static required($){return de($)}static requiredTrue($){return Ke($)}static email($){return function rt(Z){return oe(Z.value)||ze.test(Z.value)?null:{email:!0}}($)}static minLength($){return function Ie(Z){return $=>oe($.value)||!De($.value)?null:$.value.length<Z?{minlength:{requiredLength:Z,actualLength:$.value.length}}:null}($)}static maxLength($){return Nt($)}static pattern($){return Fe($)}static nullValidator($){return null}static compose($){return Ue($)}static composeAsync($){return Ot($)}}function ge(Z){return $=>{if(oe($.value)||oe(Z))return null;const L=parseFloat($.value);return!isNaN(L)&&L<Z?{min:{min:Z,actual:$.value}}:null}}function ve(Z){return $=>{if(oe($.value)||oe(Z))return null;const L=parseFloat($.value);return!isNaN(L)&&L>Z?{max:{max:Z,actual:$.value}}:null}}function de(Z){return oe(Z.value)?{required:!0}:null}function Ke(Z){return!0===Z.value?null:{required:!0}}function Nt(Z){return $=>De($.value)&&$.value.length>Z?{maxlength:{requiredLength:Z,actualLength:$.value.length}}:null}function Fe(Z){if(!Z)return ht;let $,L;return"string"==typeof Z?(L="","^"!==Z.charAt(0)&&(L+="^"),L+=Z,"$"!==Z.charAt(Z.length-1)&&(L+="$"),$=new RegExp(L)):(L=Z.toString(),$=Z),le=>{if(oe(le.value))return null;const Mt=le.value;return $.test(Mt)?null:{pattern:{requiredPattern:L,actualValue:Mt}}}}function ht(Z){return null}function Re(Z){return null!=Z}function fe(Z){return(0,n.QGY)(Z)?(0,h.D)(Z):Z}function ie(Z){let $={};return Z.forEach(L=>{$=null!=L?{...$,...L}:$}),0===Object.keys($).length?null:$}function ne(Z,$){return $.map(L=>L(Z))}function _e(Z){return Z.map($=>function Ve(Z){return!Z.validate}($)?$:L=>$.validate(L))}function Ue(Z){if(!Z)return null;const $=Z.filter(Re);return 0==$.length?null:function(L){return ie(ne(L,$))}}function Ee(Z){return null!=Z?Ue(_e(Z)):null}function Ot(Z){if(!Z)return null;const $=Z.filter(Re);return 0==$.length?null:function(L){const le=ne(L,$).map(fe);return(0,P.D)(le).pipe((0,E.U)(ie))}}function Ft(Z){return null!=Z?Ot(_e(Z)):null}function Ct(Z,$){return null===Z?[$]:Array.isArray(Z)?[...Z,$]:[Z,$]}function it(Z){return Z._rawValidators}function Zt(Z){return Z._rawAsyncValidators}function wt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function Dt(Z,$){return Array.isArray(Z)?Z.includes($):Z===$}function dt(Z,$){const L=wt($);return wt(Z).forEach(Mt=>{Dt(L,Mt)||L.push(Mt)}),L}function Qt(Z,$){return wt($).filter(L=>!Dt(Z,L))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Ee(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,L){return!!this.control&&this.control.hasError($,L)}getError($,L){return this.control?this.control.getError($,L):null}}class vt extends me{get formDirective(){return null}get path(){return null}}class Ze extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ut=(()=>{class Z extends $t{constructor(L){super(L)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(Ze,2))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,le){2&L&&n.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[n.qOj]}),Z})(),pn=(()=>{class Z extends $t{constructor(L){super(L)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(vt,10))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,le){2&L&&n.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)("ng-submitted",le.isSubmitted)},features:[n.qOj]}),Z})();const Gt="VALID",We="INVALID",Tt="PENDING",bt="DISABLED";function Lt(Z){return(xn(Z)?Z.validators:Z)||null}function un(Z){return Array.isArray(Z)?Ee(Z):Z||null}function Vt(Z,$){return(xn($)?$.asyncValidators:Z)||null}function st(Z){return Array.isArray(Z)?Ft(Z):Z||null}function xn(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Gn(Z,$,L){const le=Z.controls;if(!($?Object.keys(le):le).length)throw new n.vHH(1e3,"");if(!le[L])throw new n.vHH(1001,"")}function kn(Z,$,L){Z._forEachChild((le,Mt)=>{if(void 0===L[Mt])throw new n.vHH(1002,"")})}class dr{constructor($,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=L,this._composedValidatorFn=un(this._rawValidators),this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===We}get pending(){return this.status==Tt}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=un($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=st($)}addValidators($){this.setValidators(dt($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(dt($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Qt($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Qt($,this._rawAsyncValidators))}hasValidator($){return Dt(this._rawValidators,$)}hasAsyncValidator($){return Dt(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Tt,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const L=this._parentMarkedDirty($.onlySelf);this.status=bt,this.errors=null,this._forEachChild(le=>{le.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!0))}enable($={}){const L=this._parentMarkedDirty($.onlySelf);this.status=Gt,this._forEachChild(le=>{le.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Tt)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator=!0;const L=fe(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,L={}){this.errors=$,this._updateControlsErrors(!1!==L.emitEvent)}get($){let L=$;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((le,Mt)=>le&&le._find(Mt),this)}getError($,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[$]:null}hasError($,L){return!!this.getError($,L)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?We:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(We)?We:Gt}_anyControlsHaveStatus($){return this._anyControls(L=>L.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){xn($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}}class yn extends dr{constructor($,L,le){super(Lt(L),Vt(le,L)),this.controls=$,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,L){return this.controls[$]?this.controls[$]:(this.controls[$]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl($,L,le={}){this.registerControl($,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl($,L={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl($,L,le={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],L&&this.registerControl($,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,L={}){kn(this,0,$),Object.keys($).forEach(le=>{Gn(this,!0,le),this.controls[le].setValue($[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue($,L={}){null!=$&&(Object.keys($).forEach(le=>{const Mt=this.controls[le];Mt&&Mt.patchValue($[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset($={},L={}){this._forEachChild((le,Mt)=>{le.reset($[Mt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},($,L,le)=>($[le]=L.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&$(le,L)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[L,le]of Object.entries(this.controls))if(this.contains(L)&&$(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,le,Mt)=>((le.enabled||this.disabled)&&(L[Mt]=le.value),L))}_reduceChildren($,L){let le=$;return this._forEachChild((Mt,_n)=>{le=L(le,Mt,_n)}),le}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}const wn=yn;class zn extends yn{}function Wn(Z,$){return[...$.path,Z]}function Le(Z,$){te(Z,$),$.valueAccessor.writeValue(Z.value),Z.disabled&&$.valueAccessor.setDisabledState?.(!0),function he(Z,$){$.valueAccessor.registerOnChange(L=>{Z._pendingValue=L,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&mt(Z,$)})}(Z,$),function Kt(Z,$){const L=(le,Mt)=>{$.valueAccessor.writeValue(le),Mt&&$.viewToModelUpdate(le)};Z.registerOnChange(L),$._registerOnDestroy(()=>{Z._unregisterOnChange(L)})}(Z,$),function Je(Z,$){$.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&mt(Z,$),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,$),function Q(Z,$){if($.valueAccessor.setDisabledState){const L=le=>{$.valueAccessor.setDisabledState(le)};Z.registerOnDisabledChange(L),$._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(L)})}}(Z,$)}function ke(Z,$,L=!0){const le=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(le),$.valueAccessor.registerOnTouched(le)),O(Z,$),Z&&($._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function pe(Z,$){Z.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange($)})}function te(Z,$){const L=it(Z);null!==$.validator?Z.setValidators(Ct(L,$.validator)):"function"==typeof L&&Z.setValidators([L]);const le=Zt(Z);null!==$.asyncValidator?Z.setAsyncValidators(Ct(le,$.asyncValidator)):"function"==typeof le&&Z.setAsyncValidators([le]);const Mt=()=>Z.updateValueAndValidity();pe($._rawValidators,Mt),pe($._rawAsyncValidators,Mt)}function O(Z,$){let L=!1;if(null!==Z){if(null!==$.validator){const Mt=it(Z);if(Array.isArray(Mt)&&Mt.length>0){const _n=Mt.filter(Nr=>Nr!==$.validator);_n.length!==Mt.length&&(L=!0,Z.setValidators(_n))}}if(null!==$.asyncValidator){const Mt=Zt(Z);if(Array.isArray(Mt)&&Mt.length>0){const _n=Mt.filter(Nr=>Nr!==$.asyncValidator);_n.length!==Mt.length&&(L=!0,Z.setAsyncValidators(_n))}}}const le=()=>{};return pe($._rawValidators,le),pe($._rawAsyncValidators,le),L}function mt(Z,$){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Jt(Z,$){te(Z,$)}function Yn(Z,$){if(!Z.hasOwnProperty("model"))return!1;const L=Z.model;return!!L.isFirstChange()||!Object.is($,L.currentValue)}function sr(Z,$){Z._syncPendingControls(),$.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function Er(Z,$){if(!$)return null;let L,le,Mt;return Array.isArray($),$.forEach(_n=>{_n.constructor===ee?L=_n:function nr(Z){return Object.getPrototypeOf(Z.constructor)===R}(_n)?le=_n:Mt=_n}),Mt||le||L||null}const Ar={provide:vt,useExisting:(0,n.Gpc)(()=>Tr)},Br=(()=>Promise.resolve())();let Tr=(()=>{class Z extends vt{constructor(L,le){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.vpe,this.form=new yn({},Ee(L),Ft(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Br.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),Le(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Br.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Br.then(()=>{const le=this._findContainer(L.path),Mt=new yn({});Jt(Mt,L),le.registerControl(L.name,Mt),Mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Br.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){Br.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,sr(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(Ye,10),n.Y36(ot,10))},Z.\u0275dir=n.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,le){1&L&&n.NdJ("submit",function(_n){return le.onSubmit(_n)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([Ar]),n.qOj]}),Z})();function pr(Z,$){const L=Z.indexOf($);L>-1&&Z.splice(L,1)}function ar(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const _r=class extends dr{constructor($=null,L,le){super(Lt(L),Vt(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=ar($)?$.value:$)}setValue($,L={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue($,L={}){this.setValue($,L)}reset($=this.defaultValue,L={}){this._applyFormState($),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){pr(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){pr(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){ar($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},Nn=_r;let rr=(()=>{class Z extends vt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Wn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,features:[n.qOj]}),Z})();const Be={provide:Ze,useExisting:(0,n.Gpc)(()=>N)},_t=(()=>Promise.resolve())();let N=(()=>{class Z extends Ze{constructor(L,le,Mt,_n,Nr){super(),this._changeDetectorRef=Nr,this.control=new _r,this._registered=!1,this.update=new n.vpe,this._parent=L,this._setValidators(le),this._setAsyncValidators(Mt),this.valueAccessor=Er(0,_n)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const le=L.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Yn(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Le(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){_t.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const le=L.isDisabled.currentValue,Mt=0!==le&&(0,n.D6c)(le);_t.then(()=>{Mt&&!this.control.disabled?this.control.disable():!Mt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?Wn(L,this._parent):[L]}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(vt,9),n.Y36(Ye,10),n.Y36(ot,10),n.Y36(V,10),n.Y36(n.sBO,8))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([Be]),n.qOj,n.TTD]}),Z})(),xe=(()=>{class Z{}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275dir=n.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})();const x={provide:V,useExisting:(0,n.Gpc)(()=>J),multi:!0};let J=(()=>{class Z extends R{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=le=>{L(""==le?null:parseFloat(le))}}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("input",function(_n){return le.onChange(_n.target.value)})("blur",function(){return le.onTouched()})},features:[n._Bn([x]),n.qOj]}),Z})();const He={provide:V,useExisting:(0,n.Gpc)(()=>ln),multi:!0};let rn=(()=>{class Z{}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275mod=n.oAB({type:Z}),Z.\u0275inj=n.cJS({}),Z})(),gn=(()=>{class Z{constructor(){this._accessors=[]}add(L,le){this._accessors.push([L,le])}remove(L){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===L)return void this._accessors.splice(le,1)}select(L){this._accessors.forEach(le=>{this._isSameGroup(le,L)&&le[1]!==L&&le[1].fireUncheck(L.value)})}_isSameGroup(L,le){return!!L[0].control&&L[0]._parent===le._control._parent&&L[1].name===le.name}}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275prov=n.Yz7({token:Z,factory:Z.\u0275fac,providedIn:rn}),Z})(),ln=(()=>{class Z extends R{constructor(L,le,Mt,_n){super(L,le),this._registry=Mt,this._injector=_n,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ze),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(gn),n.Y36(n.zs3))},Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(){return le.onChange()})("blur",function(){return le.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n._Bn([He]),n.qOj]}),Z})();const hr=new n.OlP("NgModelWithFormControlWarning"),eo={provide:Ze,useExisting:(0,n.Gpc)(()=>To)};let To=(()=>{class Z extends Ze{constructor(L,le,Mt,_n){super(),this._ngModelWarningConfig=_n,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(le),this.valueAccessor=Er(0,Mt)}set isDisabled(L){}ngOnChanges(L){if(this._isControlChanged(L)){const le=L.form.previousValue;le&&ke(le,this,!1),Le(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Yn(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ke(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return Z._ngModelWarningSentOnce=!1,Z.\u0275fac=function(L){return new(L||Z)(n.Y36(Ye,10),n.Y36(ot,10),n.Y36(V,10),n.Y36(hr,8))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([eo]),n.qOj,n.TTD]}),Z})();const to={provide:vt,useExisting:(0,n.Gpc)(()=>Rr)};let Rr=(()=>{class Z extends vt{constructor(L,le){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return Le(le,L),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){ke(L.control||null,L,!1),function vr(Z,$){const L=Z.indexOf($);L>-1&&Z.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,sr(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,Mt=this.form.get(L.path);le!==Mt&&(ke(le||null,L),(Z=>Z instanceof _r)(Mt)&&(Le(Mt,L),L.control=Mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);Jt(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function Un(Z,$){return O(Z,$)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){te(this.form,this),this._oldForm&&O(this._oldForm,this)}_checkFormPresent(){}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(Ye,10),n.Y36(ot,10))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(L,le){1&L&&n.NdJ("submit",function(_n){return le.onSubmit(_n)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([to]),n.qOj,n.TTD]}),Z})();const ci={provide:vt,useExisting:(0,n.Gpc)(()=>no)};let no=(()=>{class Z extends rr{constructor(L,le,Mt){super(),this._parent=L,this._setValidators(le),this._setAsyncValidators(Mt)}_checkParentType(){Xo(this._parent)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(vt,13),n.Y36(Ye,10),n.Y36(ot,10))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n._Bn([ci]),n.qOj]}),Z})();const xo={provide:vt,useExisting:(0,n.Gpc)(()=>Bo)};let Bo=(()=>{class Z extends vt{constructor(L,le,Mt){super(),this._parent=L,this._setValidators(le),this._setAsyncValidators(Mt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Wn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Xo(this._parent)}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(vt,13),n.Y36(Ye,10),n.Y36(ot,10))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n._Bn([xo]),n.qOj]}),Z})();function Xo(Z){return!(Z instanceof no||Z instanceof Rr||Z instanceof Bo)}const jr={provide:Ze,useExisting:(0,n.Gpc)(()=>Go)};let Go=(()=>{class Z extends Ze{constructor(L,le,Mt,_n,Nr){super(),this._ngModelWarningConfig=Nr,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(Mt),this.valueAccessor=Er(0,_n)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Yn(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Wn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Z._ngModelWarningSentOnce=!1,Z.\u0275fac=function(L){return new(L||Z)(n.Y36(vt,13),n.Y36(Ye,10),n.Y36(ot,10),n.Y36(V,10),n.Y36(hr,8))},Z.\u0275dir=n.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([jr]),n.qOj,n.TTD]}),Z})();const ei={provide:V,useExisting:(0,n.Gpc)(()=>Ao),multi:!0};function ui(Z,$){return null==Z?`${$}`:($&&"object"==typeof $&&($="Object"),`${Z}: ${$}`.slice(0,50))}let Ao=(()=>{class Z extends R{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Mt=ui(this._getOptionId(L),L);this.setProperty("value",Mt)}registerOnChange(L){this.onChange=le=>{this.value=this._getOptionValue(le),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le),L))return le;return null}_getOptionValue(L){const le=function Eo(Z){return Z.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le):L}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(_n){return le.onChange(_n.target.value)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([ei]),n.qOj]}),Z})(),Vo=(()=>{class Z{constructor(L,le,Mt){this._element=L,this._renderer=le,this._select=Mt,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(ui(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Ao,9))},Z.\u0275dir=n.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Z})();const Cr={provide:V,useExisting:(0,n.Gpc)(()=>Dr),multi:!0};function ti(Z,$){return null==Z?`${$}`:("string"==typeof $&&($=`'${$}'`),$&&"object"==typeof $&&($="Object"),`${Z}: ${$}`.slice(0,50))}let Dr=(()=>{class Z extends R{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let le;if(this.value=L,Array.isArray(L)){const Mt=L.map(_n=>this._getOptionId(_n));le=(_n,Nr)=>{_n._setSelected(Mt.indexOf(Nr.toString())>-1)}}else le=(Mt,_n)=>{Mt._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(L){this.onChange=le=>{const Mt=[],_n=le.selectedOptions;if(void 0!==_n){const Nr=_n;for(let pi=0;pi<Nr.length;pi++){const Mr=this._getOptionValue(Nr[pi].value);Mt.push(Mr)}}else{const Nr=le.options;for(let pi=0;pi<Nr.length;pi++){const wo=Nr[pi];if(wo.selected){const Mr=this._getOptionValue(wo.value);Mt.push(Mr)}}}this.value=Mt,L(Mt)}}_registerOption(L){const le=(this._idCounter++).toString();return this._optionMap.set(le,L),le}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le)._value,L))return le;return null}_getOptionValue(L){const le=function Mo(Z){return Z.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le)._value:L}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(_n){return le.onChange(_n.target)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Cr]),n.qOj]}),Z})(),ro=(()=>{class Z{constructor(L,le,Mt){this._element=L,this._renderer=le,this._select=Mt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(ti(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(ti(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Z.\u0275fac=function(L){return new(L||Z)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Dr,9))},Z.\u0275dir=n.lG2({type:Z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Z})();function oo(Z){return"number"==typeof Z?Z:parseFloat(Z)}let _o=(()=>{class Z{constructor(){this._validator=ht}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):ht,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275dir=n.lG2({type:Z,features:[n.TTD]}),Z})();const li={provide:Ye,useExisting:(0,n.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class Z extends _o{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>oo(L),this.createValidator=L=>ve(L)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[n._Bn([li]),n.qOj]}),Z})();const Ho={provide:Ye,useExisting:(0,n.Gpc)(()=>$o),multi:!0};let $o=(()=>{class Z extends _o{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>oo(L),this.createValidator=L=>ge(L)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[n._Bn([Ho]),n.qOj]}),Z})();const Io={provide:Ye,useExisting:(0,n.Gpc)(()=>di),multi:!0},tr={provide:Ye,useExisting:(0,n.Gpc)(()=>je),multi:!0};let di=(()=>{class Z extends _o{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.D6c,this.createValidator=L=>de}enabled(L){return L}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("required",le._enabled?"":null)},inputs:{required:"required"},features:[n._Bn([Io]),n.qOj]}),Z})(),je=(()=>{class Z extends di{constructor(){super(...arguments),this.createValidator=L=>Ke}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("required",le._enabled?"":null)},features:[n._Bn([tr]),n.qOj]}),Z})();const Xt={provide:Ye,useExisting:(0,n.Gpc)(()=>Sn),multi:!0};let Sn=(()=>{class Z extends _o{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>function vo(Z){return"number"==typeof Z?Z:parseInt(Z,10)}(L),this.createValidator=L=>Nt(L)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("maxlength",le._enabled?le.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n._Bn([Xt]),n.qOj]}),Z})();const Gr={provide:Ye,useExisting:(0,n.Gpc)(()=>Vr),multi:!0};let Vr=(()=>{class Z extends _o{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>Fe(L)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275dir=n.lG2({type:Z,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("pattern",le._enabled?le.pattern:null)},inputs:{pattern:"pattern"},features:[n._Bn([Gr]),n.qOj]}),Z})(),Se=(()=>{class Z{}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275mod=n.oAB({type:Z}),Z.\u0275inj=n.cJS({imports:[rn]}),Z})(),nt=(()=>{class Z{}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275mod=n.oAB({type:Z}),Z.\u0275inj=n.cJS({imports:[Se]}),Z})(),Qe=(()=>{class Z{static withConfig(L){return{ngModule:Z,providers:[{provide:hr,useValue:L.warnOnNgModelWithFormControl}]}}}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275mod=n.oAB({type:Z}),Z.\u0275inj=n.cJS({imports:[Se]}),Z})();class at extends dr{constructor($,L,le){super(Lt(L),Vt(le,L)),this.controls=$,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,L={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert($,L,le={}){this.controls.splice($,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt($,L={}){let le=this._adjustIndex($);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl($,L,le={}){let Mt=this._adjustIndex($);Mt<0&&(Mt=0),this.controls[Mt]&&this.controls[Mt]._registerOnCollectionChange(()=>{}),this.controls.splice(Mt,1),L&&(this.controls.splice(Mt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,L={}){kn(this,0,$),$.forEach((le,Mt)=>{Gn(this,!1,Mt),this.at(Mt).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue($,L={}){null!=$&&($.forEach((le,Mt)=>{this.at(Mt)&&this.at(Mt).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset($=[],L={}){this._forEachChild((le,Mt)=>{le.reset($[Mt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((L,le)=>{$(L,le)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(L=>L.enabled&&$(L))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){return this.at($)??null}}const Cn=at;function kt(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let bn=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new Z;return L.useNonNullable=!0,L}group(L,le=null){const Mt=this._reduceControls(L);let _n={};return kt(le)?_n=le:null!==le&&(_n.validators=le.validator,_n.asyncValidators=le.asyncValidator),new yn(Mt,_n)}record(L,le=null){const Mt=this._reduceControls(L);return new zn(Mt,le)}control(L,le,Mt){let _n={};return this.useNonNullable?(kt(le)?_n=le:(_n.validators=le,_n.asyncValidators=Mt),new _r(L,{..._n,nonNullable:!0})):new _r(L,le,Mt)}array(L,le,Mt){const _n=L.map(Nr=>this._createControl(Nr));return new at(_n,le,Mt)}_reduceControls(L){const le={};return Object.keys(L).forEach(Mt=>{le[Mt]=this._createControl(L[Mt])}),le}_createControl(L){return L instanceof _r||L instanceof dr?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return Z.\u0275fac=function(L){return new(L||Z)},Z.\u0275prov=n.Yz7({token:Z,factory:Z.\u0275fac,providedIn:Qe}),Z})(),Js=(()=>{class Z extends bn{group(L,le=null){return super.group(L,le)}control(L,le,Mt){return super.control(L,le,Mt)}array(L,le,Mt){return super.array(L,le,Mt)}}return Z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(Z)))(le||Z)}}(),Z.\u0275prov=n.Yz7({token:Z,factory:Z.\u0275fac,providedIn:Qe}),Z})()},1481:(ye,X,v)=>{"use strict";v.d(X,{Cb:()=>Tt,Cu:()=>un,Dx:()=>Ce,H7:()=>Ln,b2:()=>ut,h_:()=>Pt,ki:()=>bt,q6:()=>It});var n=v(6895),e=v(4650);class h extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class P extends h{static makeCurrent(){(0,n.HT)(new P)}onAndCancel(ke,pe,Q){return ke.addEventListener(pe,Q,!1),()=>{ke.removeEventListener(pe,Q,!1)}}dispatchEvent(ke,pe){ke.dispatchEvent(pe)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,pe){return(pe=pe||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,pe){return"window"===pe?window:"document"===pe?ke:"body"===pe?ke.body:null}getBaseHref(ke){const pe=function M(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==pe?null:function V(Le){R=R||document.createElement("a"),R.setAttribute("href",Le);const ke=R.pathname;return"/"===ke.charAt(0)?ke:`/${ke}`}(pe)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,n.Mx)(document.cookie,ke)}}let R,E=null;const j=new e.OlP("TRANSITION_ID"),G=[{provide:e.ip1,useFactory:function H(Le,ke,pe){return()=>{pe.get(e.CZH).donePromise.then(()=>{const Q=(0,n.q)(),te=ke.querySelectorAll(`style[ng-transition="${Le}"]`);for(let O=0;O<te.length;O++)Q.remove(te[O])})}},deps:[j,n.K0,e.zs3],multi:!0}];let q=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(pe){return new(pe||Le)},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const ee=new e.OlP("EventManagerPlugins");let ue=(()=>{class Le{constructor(pe,Q){this._zone=Q,this._eventNameToPlugin=new Map,pe.forEach(te=>te.manager=this),this._plugins=pe.slice().reverse()}addEventListener(pe,Q,te){return this._findPluginFor(Q).addEventListener(pe,Q,te)}addGlobalEventListener(pe,Q,te){return this._findPluginFor(Q).addGlobalEventListener(pe,Q,te)}getZone(){return this._zone}_findPluginFor(pe){const Q=this._eventNameToPlugin.get(pe);if(Q)return Q;const te=this._plugins;for(let O=0;O<te.length;O++){const he=te[O];if(he.supports(pe))return this._eventNameToPlugin.set(pe,he),he}throw new Error(`No event manager plugin found for event ${pe}`)}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(ee),e.LFG(e.R0b))},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class oe{constructor(ke){this._doc=ke}addGlobalEventListener(ke,pe,Q){const te=(0,n.q)().getGlobalEventTarget(this._doc,ke);if(!te)throw new Error(`Unsupported event target ${te} for event ${pe}`);return this.addEventListener(te,pe,Q)}}let De=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(pe){const Q=new Set;pe.forEach(te=>{this._stylesSet.has(te)||(this._stylesSet.add(te),Q.add(te))}),this.onStylesAdded(Q)}onStylesAdded(pe){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(pe){return new(pe||Le)},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Ye=(()=>{class Le extends De{constructor(pe){super(),this._doc=pe,this._hostNodes=new Map,this._hostNodes.set(pe.head,[])}_addStylesToHost(pe,Q,te){pe.forEach(O=>{const he=this._doc.createElement("style");he.textContent=O,te.push(Q.appendChild(he))})}addHost(pe){const Q=[];this._addStylesToHost(this._stylesSet,pe,Q),this._hostNodes.set(pe,Q)}removeHost(pe){const Q=this._hostNodes.get(pe);Q&&Q.forEach(ot),this._hostNodes.delete(pe)}onStylesAdded(pe){this._hostNodes.forEach((Q,te)=>{this._addStylesToHost(pe,te,Q)})}ngOnDestroy(){this._hostNodes.forEach(pe=>pe.forEach(ot))}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function ot(Le){(0,n.q)().remove(Le)}const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function Nt(Le,ke,pe){for(let Q=0;Q<ke.length;Q++){let te=ke[Q];Array.isArray(te)?Nt(Le,te,pe):(te=te.replace(Ge,Le),pe.push(te))}return pe}function Fe(Le){return ke=>{if("__ngUnwrap__"===ke)return Le;!1===Le(ke)&&(ke.preventDefault(),ke.returnValue=!1)}}let Re=(()=>{class Le{constructor(pe,Q,te){this.eventManager=pe,this.sharedStylesHost=Q,this.appId=te,this.rendererByCompId=new Map,this.defaultRenderer=new fe(pe)}createRenderer(pe,Q){if(!pe||!Q)return this.defaultRenderer;switch(Q.encapsulation){case e.ifc.Emulated:{let te=this.rendererByCompId.get(Q.id);return te||(te=new _e(this.eventManager,this.sharedStylesHost,Q,this.appId),this.rendererByCompId.set(Q.id,te)),te.applyToHost(pe),te}case 1:case e.ifc.ShadowDom:return new Ue(this.eventManager,this.sharedStylesHost,pe,Q);default:if(!this.rendererByCompId.has(Q.id)){const te=Nt(Q.id,Q.styles,[]);this.sharedStylesHost.addStyles(te),this.rendererByCompId.set(Q.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(ue),e.LFG(Ye),e.LFG(e.AFp))},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class fe{constructor(ke){this.eventManager=ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ke,pe){return pe?document.createElementNS(ze[pe]||pe,ke):document.createElement(ke)}createComment(ke){return document.createComment(ke)}createText(ke){return document.createTextNode(ke)}appendChild(ke,pe){(Ve(ke)?ke.content:ke).appendChild(pe)}insertBefore(ke,pe,Q){ke&&(Ve(ke)?ke.content:ke).insertBefore(pe,Q)}removeChild(ke,pe){ke&&ke.removeChild(pe)}selectRootElement(ke,pe){let Q="string"==typeof ke?document.querySelector(ke):ke;if(!Q)throw new Error(`The selector "${ke}" did not match any elements`);return pe||(Q.textContent=""),Q}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,pe,Q,te){if(te){pe=te+":"+pe;const O=ze[te];O?ke.setAttributeNS(O,pe,Q):ke.setAttribute(pe,Q)}else ke.setAttribute(pe,Q)}removeAttribute(ke,pe,Q){if(Q){const te=ze[Q];te?ke.removeAttributeNS(te,pe):ke.removeAttribute(`${Q}:${pe}`)}else ke.removeAttribute(pe)}addClass(ke,pe){ke.classList.add(pe)}removeClass(ke,pe){ke.classList.remove(pe)}setStyle(ke,pe,Q,te){te&(e.JOm.DashCase|e.JOm.Important)?ke.style.setProperty(pe,Q,te&e.JOm.Important?"important":""):ke.style[pe]=Q}removeStyle(ke,pe,Q){Q&e.JOm.DashCase?ke.style.removeProperty(pe):ke.style[pe]=""}setProperty(ke,pe,Q){ke[pe]=Q}setValue(ke,pe){ke.nodeValue=pe}listen(ke,pe,Q){return"string"==typeof ke?this.eventManager.addGlobalEventListener(ke,pe,Fe(Q)):this.eventManager.addEventListener(ke,pe,Fe(Q))}}function Ve(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class _e extends fe{constructor(ke,pe,Q,te){super(ke),this.component=Q;const O=Nt(te+"-"+Q.id,Q.styles,[]);pe.addStyles(O),this.contentAttr=function rt(Le){return"_ngcontent-%COMP%".replace(Ge,Le)}(te+"-"+Q.id),this.hostAttr=function Ie(Le){return"_nghost-%COMP%".replace(Ge,Le)}(te+"-"+Q.id)}applyToHost(ke){super.setAttribute(ke,this.hostAttr,"")}createElement(ke,pe){const Q=super.createElement(ke,pe);return super.setAttribute(Q,this.contentAttr,""),Q}}class Ue extends fe{constructor(ke,pe,Q,te){super(ke),this.sharedStylesHost=pe,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=Nt(te.id,te.styles,[]);for(let he=0;he<O.length;he++){const Je=document.createElement("style");Je.textContent=O[he],this.shadowRoot.appendChild(Je)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ke,pe){return super.appendChild(this.nodeOrShadowRoot(ke),pe)}insertBefore(ke,pe,Q){return super.insertBefore(this.nodeOrShadowRoot(ke),pe,Q)}removeChild(ke,pe){return super.removeChild(this.nodeOrShadowRoot(ke),pe)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}}let Ee=(()=>{class Le extends oe{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,Q,te){return pe.addEventListener(Q,te,!1),()=>this.removeEventListener(pe,Q,te)}removeEventListener(pe,Q,te){return pe.removeEventListener(Q,te)}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ot=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let it=(()=>{class Le extends oe{constructor(pe){super(pe)}supports(pe){return null!=Le.parseEventName(pe)}addEventListener(pe,Q,te){const O=Le.parseEventName(Q),he=Le.eventCallback(O.fullKey,te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(pe,O.domEventName,he))}static parseEventName(pe){const Q=pe.toLowerCase().split("."),te=Q.shift();if(0===Q.length||"keydown"!==te&&"keyup"!==te)return null;const O=Le._normalizeKey(Q.pop());let he="",Je=Q.indexOf("code");if(Je>-1&&(Q.splice(Je,1),he="code."),Ot.forEach(Kt=>{const Jt=Q.indexOf(Kt);Jt>-1&&(Q.splice(Jt,1),he+=Kt+".")}),he+=O,0!=Q.length||0===O.length)return null;const mt={};return mt.domEventName=te,mt.fullKey=he,mt}static matchEventFullKeyCode(pe,Q){let te=Ft[pe.key]||pe.key,O="";return Q.indexOf("code.")>-1&&(te=pe.code,O="code."),!(null==te||!te)&&(te=te.toLowerCase()," "===te?te="space":"."===te&&(te="dot"),Ot.forEach(he=>{he!==te&&(0,Ct[he])(pe)&&(O+=he+".")}),O+=te,O===Q)}static eventCallback(pe,Q,te){return O=>{Le.matchEventFullKeyCode(O,pe)&&te.runGuarded(()=>Q(O))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const It=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:n.bD},{provide:e.g9A,useValue:function me(){P.makeCurrent()},multi:!0},{provide:n.K0,useFactory:function Ze(){return(0,e.RDi)(document),document},deps:[]}]),cn=new e.OlP(""),Ut=[{provide:e.rWj,useClass:class z{addToWindow(ke){e.dqk.getAngularTestability=(Q,te=!0)=>{const O=ke.findTestabilityInTree(Q,te);if(null==O)throw new Error("Could not find testability for element.");return O},e.dqk.getAllAngularTestabilities=()=>ke.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>ke.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(Q=>{const te=e.dqk.getAllAngularTestabilities();let O=te.length,he=!1;const Je=function(mt){he=he||mt,O--,0==O&&Q(he)};te.forEach(function(mt){mt.whenStable(Je)})})}findTestabilityInTree(ke,pe,Q){return null==pe?null:ke.getTestability(pe)??(Q?(0,n.q)().isShadowRoot(pe)?this.findTestabilityInTree(ke,pe.host,!0):this.findTestabilityInTree(ke,pe.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],pn=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function vt(){return new e.qLn},deps:[]},{provide:ee,useClass:Ee,multi:!0,deps:[n.K0,e.R0b,e.Lbi]},{provide:ee,useClass:it,multi:!0,deps:[n.K0]},{provide:Re,useClass:Re,deps:[ue,Ye,e.AFp]},{provide:e.FYo,useExisting:Re},{provide:De,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[n.K0]},{provide:ue,useClass:ue,deps:[ee,e.R0b]},{provide:n.JF,useClass:q,deps:[]},[]];let ut=(()=>{class Le{constructor(pe){}static withServerTransition(pe){return{ngModule:Le,providers:[{provide:e.AFp,useValue:pe.appId},{provide:j,useExisting:e.AFp},G]}}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(cn,12))},Le.\u0275mod=e.oAB({type:Le}),Le.\u0275inj=e.cJS({providers:[...pn,...Ut],imports:[n.ez,e.hGG]}),Le})(),Pt=(()=>{class Le{constructor(pe){this._doc=pe,this._dom=(0,n.q)()}addTag(pe,Q=!1){return pe?this._getOrCreateElement(pe,Q):null}addTags(pe,Q=!1){return pe?pe.reduce((te,O)=>(O&&te.push(this._getOrCreateElement(O,Q)),te),[]):[]}getTag(pe){return pe&&this._doc.querySelector(`meta[${pe}]`)||null}getTags(pe){if(!pe)return[];const Q=this._doc.querySelectorAll(`meta[${pe}]`);return Q?[].slice.call(Q):[]}updateTag(pe,Q){if(!pe)return null;Q=Q||this._parseSelector(pe);const te=this.getTag(Q);return te?this._setMetaElementAttributes(pe,te):this._getOrCreateElement(pe,!0)}removeTag(pe){this.removeTagElement(this.getTag(pe))}removeTagElement(pe){pe&&this._dom.remove(pe)}_getOrCreateElement(pe,Q=!1){if(!Q){const he=this._parseSelector(pe),Je=this.getTags(he).filter(mt=>this._containsAttributes(pe,mt))[0];if(void 0!==Je)return Je}const te=this._dom.createElement("meta");return this._setMetaElementAttributes(pe,te),this._doc.getElementsByTagName("head")[0].appendChild(te),te}_setMetaElementAttributes(pe,Q){return Object.keys(pe).forEach(te=>Q.setAttribute(this._getMetaKeyMap(te),pe[te])),Q}_parseSelector(pe){const Q=pe.name?"name":"property";return`${Q}="${pe[Q]}"`}_containsAttributes(pe,Q){return Object.keys(pe).every(te=>Q.getAttribute(this._getMetaKeyMap(te))===pe[te])}_getMetaKeyMap(pe){return mn[pe]||pe}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:function(pe){let Q=null;return Q=pe?new pe:function qt(){return new Pt((0,e.LFG)(n.K0))}(),Q},providedIn:"root"}),Le})();const mn={httpEquiv:"http-equiv"};let Ce=(()=>{class Le{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:function(pe){let Q=null;return Q=pe?new pe:function En(){return new Ce((0,e.LFG)(n.K0))}(),Q},providedIn:"root"}),Le})();function Tt(Le){return Le}typeof window<"u"&&window;let bt=(()=>{class Le{constructor(){this.store={},this.onSerializeCallbacks={}}get(pe,Q){return void 0!==this.store[pe]?this.store[pe]:Q}set(pe,Q){this.store[pe]=Q}remove(pe){delete this.store[pe]}hasKey(pe){return this.store.hasOwnProperty(pe)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(pe,Q){this.onSerializeCallbacks[pe]=Q}toJson(){for(const pe in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(pe))try{this.store[pe]=this.onSerializeCallbacks[pe]()}catch(Q){console.warn("Exception in onSerialize callback: ",Q)}return JSON.stringify(this.store)}}return Le.\u0275fac=function(pe){return new(pe||Le)},Le.\u0275prov=e.Yz7({token:Le,factory:function(){return(()=>{const ke=(0,e.f3M)(n.K0),pe=(0,e.f3M)(e.AFp),Q=new Le;return Q.store=function Lt(Le,ke){const pe=Le.getElementById(ke+"-state");let Q={};if(pe&&pe.textContent)try{Q=JSON.parse(function We(Le){const ke={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return Le.replace(/&[^;]+;/g,pe=>ke[pe])}(pe.textContent))}catch(te){console.warn("Exception while restoring TransferState for app "+ke,te)}return Q}(ke,pe),Q})()},providedIn:"root"}),Le})(),un=(()=>{class Le{}return Le.\u0275fac=function(pe){return new(pe||Le)},Le.\u0275mod=e.oAB({type:Le}),Le.\u0275inj=e.cJS({}),Le})(),Ln=(()=>{class Le{}return Le.\u0275fac=function(pe){return new(pe||Le)},Le.\u0275prov=e.Yz7({token:Le,factory:function(pe){let Q=null;return Q=pe?new(pe||Le):e.LFG(er),Q},providedIn:"root"}),Le})(),er=(()=>{class Le extends Ln{constructor(pe){super(),this._doc=pe}sanitize(pe,Q){if(null==Q)return null;switch(pe){case e.q3G.NONE:return Q;case e.q3G.HTML:return(0,e.qzn)(Q,"HTML")?(0,e.z3N)(Q):(0,e.EiD)(this._doc,String(Q)).toString();case e.q3G.STYLE:return(0,e.qzn)(Q,"Style")?(0,e.z3N)(Q):Q;case e.q3G.SCRIPT:if((0,e.qzn)(Q,"Script"))return(0,e.z3N)(Q);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(Q,"URL")?(0,e.z3N)(Q):(0,e.mCW)(String(Q));case e.q3G.RESOURCE_URL:if((0,e.qzn)(Q,"ResourceURL"))return(0,e.z3N)(Q);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${pe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(pe){return(0,e.JVY)(pe)}bypassSecurityTrustStyle(pe){return(0,e.L6k)(pe)}bypassSecurityTrustScript(pe){return(0,e.eBb)(pe)}bypassSecurityTrustUrl(pe){return(0,e.LAX)(pe)}bypassSecurityTrustResourceUrl(pe){return(0,e.pB0)(pe)}}return Le.\u0275fac=function(pe){return new(pe||Le)(e.LFG(n.K0))},Le.\u0275prov=e.Yz7({token:Le,factory:function(pe){let Q=null;return Q=pe?new pe:function zn(Le){return new er(Le.get(n.K0))}(e.LFG(e.zs3)),Q},providedIn:"root"}),Le})()},610:(ye,X,v)=>{"use strict";v.d(X,{gz:()=>Rr,sz:()=>qe,gk:()=>Mn,m2:()=>rr,Q3:()=>or,OD:()=>Hn,eC:()=>it,F0:()=>Jr,rH:()=>$i,Od:()=>Ta,yS:()=>hi,Bz:()=>Ra,lC:()=>_o,R9:()=>wr,Hx:()=>Ae});var n=v(4650),e=v(5254),h=v(1086),P=v(591),E=v(4450),M=v(6053),R=v(1221),V=v(8514),j=v(4843),H=v(1737),G=v(6498),z=v(8896),q=v(1762),ee=v(8929),ue=v(6895),oe=v(4850),De=v(7545),Ye=v(2986),ot=v(1059),ze=v(2198),Ge=v(1709),ge=v(7224),ve=v(1406),de=v(2994),Ke=v(7221),rt=v(2014),Ie=v(3489),Nt=v(4231);function Fe(D){return function(A){return 0===D?(0,z.c)():A.lift(new ht(D))}}class ht{constructor(T){if(this.total=T,this.total<0)throw new Nt.W}call(T,A){return A.subscribe(new Re(T,this.total))}}class Re extends Ie.L{constructor(T,A){super(T),this.total=A,this.ring=new Array,this.count=0}_next(T){const A=this.ring,F=this.total,y=this.count++;A.length<F?A.push(T):A[y%F]=T}_complete(){const T=this.destination;let A=this.count;if(A>0){const F=this.count>=this.total?this.total:this.count,y=this.ring;for(let U=0;U<F;U++){const k=A++%F;T.next(y[k])}}T.complete()}}var fe=v(4907),ie=v(7314),ne=v(5379);function Ve(D,T){const A=arguments.length>=2;return F=>F.pipe(D?(0,ze.h)((y,U)=>D(y,U,F)):ne.y,Fe(1),A?(0,ie.d)(T):(0,fe.T)(()=>new E.K))}var _e=v(4290),Ue=v(7604),Ee=v(537),Ot=v(4327),Ft=v(9146),Ct=v(1481);const it="primary",Zt=Symbol("RouteTitle");class wt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const A=this.params[T];return Array.isArray(A)?A[0]:A}return null}getAll(T){if(this.has(T)){const A=this.params[T];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function Dt(D){return new wt(D)}function dt(D,T,A){const F=A.path.split("/");if(F.length>D.length||"full"===A.pathMatch&&(T.hasChildren()||F.length<D.length))return null;const y={};for(let U=0;U<F.length;U++){const k=F[U],se=D[U];if(k.startsWith(":"))y[k.substring(1)]=se;else if(k!==se.path)return null}return{consumed:D.slice(0,F.length),posParams:y}}function me(D,T){const A=D?Object.keys(D):void 0,F=T?Object.keys(T):void 0;if(!A||!F||A.length!=F.length)return!1;let y;for(let U=0;U<A.length;U++)if(y=A[U],!vt(D[y],T[y]))return!1;return!0}function vt(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const A=[...D].sort(),F=[...T].sort();return A.every((y,U)=>F[U]===y)}return D===T}function Ze(D){return Array.prototype.concat.apply([],D)}function $t(D){return D.length>0?D[D.length-1]:null}function cn(D,T){for(const A in D)D.hasOwnProperty(A)&&T(D[A],A)}function Ut(D){return(0,n.CqO)(D)?D:(0,n.QGY)(D)?(0,e.D)(Promise.resolve(D)):(0,h.of)(D)}const qt={exact:function Ce(D,T,A){if(!Oe(D.segments,T.segments)||!ft(D.segments,T.segments,A)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const F in T.children)if(!D.children[F]||!Ce(D.children[F],T.children[F],A))return!1;return!0},subset:Me},Pt={exact:function En(D,T){return me(D,T)},subset:function Te(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(A=>vt(D[A],T[A]))},ignored:()=>!0};function mn(D,T,A){return qt[A.paths](D.root,T.root,A.matrixParams)&&Pt[A.queryParams](D.queryParams,T.queryParams)&&!("exact"===A.fragment&&D.fragment!==T.fragment)}function Me(D,T,A){return pt(D,T,T.segments,A)}function pt(D,T,A,F){if(D.segments.length>A.length){const y=D.segments.slice(0,A.length);return!(!Oe(y,A)||T.hasChildren()||!ft(y,A,F))}if(D.segments.length===A.length){if(!Oe(D.segments,A)||!ft(D.segments,A,F))return!1;for(const y in T.children)if(!D.children[y]||!Me(D.children[y],T.children[y],F))return!1;return!0}{const y=A.slice(0,D.segments.length),U=A.slice(D.segments.length);return!!(Oe(D.segments,y)&&ft(D.segments,y,F)&&D.children[it])&&pt(D.children[it],T,U,F)}}function ft(D,T,A){return T.every((F,y)=>Pt[A](D[y].parameters,F.parameters))}class nn{constructor(T,A,F){this.root=T,this.queryParams=A,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dt(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class zt{constructor(T,A){this.segments=T,this.children=A,this.parent=null,cn(A,(F,y)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class hn{constructor(T,A){this.path=T,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=Dt(this.parameters)),this._parameterMap}toString(){return Gn(this)}}function Oe(D,T){return D.length===T.length&&D.every((A,F)=>A.path===T[F].path)}let Ae=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=n.Yz7({token:D,factory:function(){return new qe},providedIn:"root"}),D})();class qe{parse(T){const A=new Le(T);return new nn(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(T){const A=`/${Tt(T.root,!0)}`,F=function dr(D){const T=Object.keys(D).map(A=>{const F=D[A];return Array.isArray(F)?F.map(y=>`${Lt(A)}=${Lt(y)}`).join("&"):`${Lt(A)}=${Lt(F)}`}).filter(A=>!!A);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${A}${F}${"string"==typeof T.fragment?`#${function un(D){return encodeURI(D)}(T.fragment)}`:""}`}}const Gt=new qe;function We(D){return D.segments.map(T=>Gn(T)).join("/")}function Tt(D,T){if(!D.hasChildren())return We(D);if(T){const A=D.children[it]?Tt(D.children[it],!1):"",F=[];return cn(D.children,(y,U)=>{U!==it&&F.push(`${U}:${Tt(y,!1)}`)}),F.length>0?`${A}(${F.join("//")})`:A}{const A=function yt(D,T){let A=[];return cn(D.children,(F,y)=>{y===it&&(A=A.concat(T(F,y)))}),cn(D.children,(F,y)=>{y!==it&&(A=A.concat(T(F,y)))}),A}(D,(F,y)=>y===it?[Tt(D.children[it],!1)]:[`${y}:${Tt(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[it]?`${We(D)}/${A[0]}`:`${We(D)}/(${A.join("//")})`}}function bt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lt(D){return bt(D).replace(/%3B/gi,";")}function Vt(D){return bt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(D){return decodeURIComponent(D)}function xn(D){return st(D.replace(/\+/g,"%20"))}function Gn(D){return`${Vt(D.path)}${function kn(D){return Object.keys(D).map(T=>`;${Vt(T)}=${Vt(D[T])}`).join("")}(D.parameters)}`}const yn=/^[^\/()?;=#]+/;function wn(D){const T=D.match(yn);return T?T[0]:""}const Ln=/^[^=?&#]+/,er=/^[^&#]+/;class Le{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(T.length>0||Object.keys(A).length>0)&&(F[it]=new zt(T,A)),F}parseSegment(){const T=wn(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new n.vHH(4009,!1);return this.capture(T),new hn(st(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const A=wn(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const y=wn(this.remaining);y&&(F=y,this.capture(F))}T[st(A)]=st(F)}parseQueryParam(T){const A=function zn(D){const T=D.match(Ln);return T?T[0]:""}(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const k=function Wn(D){const T=D.match(er);return T?T[0]:""}(this.remaining);k&&(F=k,this.capture(F))}const y=xn(A),U=xn(F);if(T.hasOwnProperty(y)){let k=T[y];Array.isArray(k)||(k=[k],T[y]=k),k.push(U)}else T[y]=U}parseParens(T){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=wn(this.remaining),y=this.remaining[F.length];if("/"!==y&&")"!==y&&";"!==y)throw new n.vHH(4010,!1);let U;F.indexOf(":")>-1?(U=F.slice(0,F.indexOf(":")),this.capture(U),this.capture(":")):T&&(U=it);const k=this.parseChildren();A[U]=1===Object.keys(k).length?k[it]:new zt([],k),this.consumeOptional("//")}return A}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new n.vHH(4011,!1)}}function ke(D){return D.segments.length>0?new zt([],{[it]:D}):D}function pe(D){const T={};for(const F of Object.keys(D.children)){const U=pe(D.children[F]);(U.segments.length>0||U.hasChildren())&&(T[F]=U)}return function Q(D){if(1===D.numberOfChildren&&D.children[it]){const T=D.children[it];return new zt(D.segments.concat(T.segments),T.children)}return D}(new zt(D.segments,T))}function te(D){return D instanceof nn}const O=!1;function Kt(D,T,A,F,y){if(0===A.length)return Pn(T.root,T.root,T.root,F,y);const U=function Tn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Vn(!0,0,D);let T=0,A=!1;const F=D.reduce((y,U,k)=>{if("object"==typeof U&&null!=U){if(U.outlets){const se={};return cn(U.outlets,(Xe,jt)=>{se[jt]="string"==typeof Xe?Xe.split("/"):Xe}),[...y,{outlets:se}]}if(U.segmentPath)return[...y,U.segmentPath]}return"string"!=typeof U?[...y,U]:0===k?(U.split("/").forEach((se,Xe)=>{0==Xe&&"."===se||(0==Xe&&""===se?A=!0:".."===se?T++:""!=se&&y.push(se))}),y):[...y,U]},[]);return new Vn(A,T,F)}(A);return U.toRoot()?Pn(T.root,T.root,new zt([],{}),F,y):function k(Xe){const jt=function sr(D,T,A,F){if(D.isAbsolute)return new Yn(T.root,!0,0);if(-1===F)return new Yn(A,A===T.root,0);return function Er(D,T,A){let F=D,y=T,U=A;for(;U>y;){if(U-=y,F=F.parent,!F)throw new n.vHH(4005,O);y=F.segments.length}return new Yn(F,!1,y-U)}(A,F+(Jt(D.commands[0])?0:1),D.numberOfDoubleDots)}(U,T,D.snapshot?._urlSegment,Xe),sn=jt.processChildren?Ar(jt.segmentGroup,jt.index,U.commands):Dn(jt.segmentGroup,jt.index,U.commands);return Pn(T.root,jt.segmentGroup,sn,F,y)}(D.snapshot?._lastPathIndex)}function Jt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Un(D){return"object"==typeof D&&null!=D&&D.outlets}function Pn(D,T,A,F,y){let k,U={};F&&cn(F,(Xe,jt)=>{U[jt]=Array.isArray(Xe)?Xe.map(sn=>`${sn}`):`${Xe}`}),k=D===T?A:ur(D,T,A);const se=ke(pe(k));return new nn(se,U,y)}function ur(D,T,A){const F={};return cn(D.children,(y,U)=>{F[U]=y===T?A:ur(y,T,A)}),new zt(D.segments,F)}class Vn{constructor(T,A,F){if(this.isAbsolute=T,this.numberOfDoubleDots=A,this.commands=F,T&&F.length>0&&Jt(F[0]))throw new n.vHH(4003,O);const y=F.find(Un);if(y&&y!==$t(F))throw new n.vHH(4004,O)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(T,A,F){this.segmentGroup=T,this.processChildren=A,this.index=F}}function Dn(D,T,A){if(D||(D=new zt([],{})),0===D.segments.length&&D.hasChildren())return Ar(D,T,A);const F=function Br(D,T,A){let F=0,y=T;const U={match:!1,pathIndex:0,commandIndex:0};for(;y<D.segments.length;){if(F>=A.length)return U;const k=D.segments[y],se=A[F];if(Un(se))break;const Xe=`${se}`,jt=F<A.length-1?A[F+1]:null;if(y>0&&void 0===Xe)break;if(Xe&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!_r(Xe,jt,k))return U;F+=2}else{if(!_r(Xe,{},k))return U;F++}y++}return{match:!0,pathIndex:y,commandIndex:F}}(D,T,A),y=A.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const U=new zt(D.segments.slice(0,F.pathIndex),{});return U.children[it]=new zt(D.segments.slice(F.pathIndex),D.children),Ar(U,0,y)}return F.match&&0===y.length?new zt(D.segments,{}):F.match&&!D.hasChildren()?Tr(D,T,A):F.match?Ar(D,0,y):Tr(D,T,A)}function Ar(D,T,A){if(0===A.length)return new zt(D.segments,{});{const F=function vr(D){return Un(D[0])?D[0].outlets:{[it]:D}}(A),y={};return cn(F,(U,k)=>{"string"==typeof U&&(U=[U]),null!==U&&(y[k]=Dn(D.children[k],T,U))}),cn(D.children,(U,k)=>{void 0===F[k]&&(y[k]=U)}),new zt(D.segments,y)}}function Tr(D,T,A){const F=D.segments.slice(0,T);let y=0;for(;y<A.length;){const U=A[y];if(Un(U)){const Xe=pr(U.outlets);return new zt(F,Xe)}if(0===y&&Jt(A[0])){F.push(new hn(D.segments[T].path,ar(A[0]))),y++;continue}const k=Un(U)?U.outlets[it]:`${U}`,se=y<A.length-1?A[y+1]:null;k&&se&&Jt(se)?(F.push(new hn(k,ar(se))),y+=2):(F.push(new hn(k,{})),y++)}return new zt(F,{})}function pr(D){const T={};return cn(D,(A,F)=>{"string"==typeof A&&(A=[A]),null!==A&&(T[F]=Tr(new zt([],{}),0,A))}),T}function ar(D){const T={};return cn(D,(A,F)=>T[F]=`${A}`),T}function _r(D,T,A){return D==A.path&&me(T,A.parameters)}class Nn{constructor(T,A){this.id=T,this.url=A}}class Hn extends Nn{constructor(T,A,F="imperative",y=null){super(T,A),this.type=0,this.navigationTrigger=F,this.restoredState=y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rr extends Nn{constructor(T,A,F){super(T,A),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mn extends Nn{constructor(T,A,F,y){super(T,A),this.reason=F,this.code=y,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends Nn{constructor(T,A,F,y){super(T,A),this.error=F,this.target=y,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends Nn{constructor(T,A,F,y){super(T,A),this.urlAfterRedirects=F,this.state=y,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends Nn{constructor(T,A,F,y){super(T,A),this.urlAfterRedirects=F,this.state=y,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends Nn{constructor(T,A,F,y,U){super(T,A),this.urlAfterRedirects=F,this.state=y,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xr extends Nn{constructor(T,A,F,y){super(T,A),this.urlAfterRedirects=F,this.state=y,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends Nn{constructor(T,A,F,y){super(T,A),this.urlAfterRedirects=F,this.state=y,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class N{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xe{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(T,A,F){this.routerEvent=T,this.position=A,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gn{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const A=this.pathFromRoot(T);return A.length>1?A[A.length-2]:null}children(T){const A=ln(T,this._root);return A?A.children.map(F=>F.value):[]}firstChild(T){const A=ln(T,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(T){const A=Jn(T,this._root);return A.length<2?[]:A[A.length-2].children.map(y=>y.value).filter(y=>y!==T)}pathFromRoot(T){return Jn(T,this._root).map(A=>A.value)}}function ln(D,T){if(D===T.value)return T;for(const A of T.children){const F=ln(D,A);if(F)return F}return null}function Jn(D,T){if(D===T.value)return[T];for(const A of T.children){const F=Jn(D,A);if(F.length)return F.unshift(T),F}return[]}class fr{constructor(T,A){this.value=T,this.children=A}toString(){return`TreeNode(${this.value})`}}function hr(D){const T={};return D&&D.children.forEach(A=>T[A.value.outlet]=A),T}class eo extends gn{constructor(T,A){super(T),this.snapshot=A,Xo(this,T)}toString(){return this.snapshot.toString()}}function To(D,T){const A=function to(D,T){const k=new xo([],{},{},"",{},it,T,null,D.root,-1,{});return new Bo("",new fr(k,[]))}(D,T),F=new P.X([new hn("",{})]),y=new P.X({}),U=new P.X({}),k=new P.X({}),se=new P.X(""),Xe=new Rr(F,y,k,se,U,it,T,A.root);return Xe.snapshot=A.root,new eo(new fr(Xe,[]),A)}class Rr{constructor(T,A,F,y,U,k,se,Xe){this.url=T,this.params=A,this.queryParams=F,this.fragment=y,this.data=U,this.outlet=k,this.component=se,this.title=this.data?.pipe((0,oe.U)(jt=>jt[Zt]))??(0,h.of)(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,oe.U)(T=>Dt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,oe.U)(T=>Dt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ci(D,T="emptyOnly"){const A=D.pathFromRoot;let F=0;if("always"!==T)for(F=A.length-1;F>=1;){const y=A[F],U=A[F-1];if(y.routeConfig&&""===y.routeConfig.path)F--;else{if(U.component)break;F--}}return function no(D){return D.reduce((T,A)=>({params:{...T.params,...A.params},data:{...T.data,...A.data},resolve:{...A.data,...T.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(F))}class xo{constructor(T,A,F,y,U,k,se,Xe,jt,sn,on,Rn){this.url=T,this.params=A,this.queryParams=F,this.fragment=y,this.data=U,this.outlet=k,this.component=se,this.title=this.data?.[Zt],this.routeConfig=Xe,this._urlSegment=jt,this._lastPathIndex=sn,this._correctedLastPathIndex=Rn??sn,this._resolve=on}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bo extends gn{constructor(T,A){super(A),this.url=T,Xo(this,A)}toString(){return jr(this._root)}}function Xo(D,T){T.value._routerState=D,T.children.forEach(A=>Xo(D,A))}function jr(D){const T=D.children.length>0?` { ${D.children.map(jr).join(", ")} } `:"";return`${D.value}${T}`}function Go(D){if(D.snapshot){const T=D.snapshot,A=D._futureSnapshot;D.snapshot=A,me(T.queryParams,A.queryParams)||D.queryParams.next(A.queryParams),T.fragment!==A.fragment&&D.fragment.next(A.fragment),me(T.params,A.params)||D.params.next(A.params),function Qt(D,T){if(D.length!==T.length)return!1;for(let A=0;A<D.length;++A)if(!me(D[A],T[A]))return!1;return!0}(T.url,A.url)||D.url.next(A.url),me(T.data,A.data)||D.data.next(A.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function ei(D,T){const A=me(D.params,T.params)&&function Wt(D,T){return Oe(D,T)&&D.every((A,F)=>me(A.parameters,T[F].parameters))}(D.url,T.url);return A&&!(!D.parent!=!T.parent)&&(!D.parent||ei(D.parent,T.parent))}function Eo(D,T,A){if(A&&D.shouldReuseRoute(T.value,A.value.snapshot)){const F=A.value;F._futureSnapshot=T.value;const y=function Ao(D,T,A){return T.children.map(F=>{for(const y of A.children)if(D.shouldReuseRoute(F.value,y.value.snapshot))return Eo(D,F,y);return Eo(D,F)})}(D,T,A);return new fr(F,y)}{if(D.shouldAttach(T.value)){const U=D.retrieve(T.value);if(null!==U){const k=U.route;return k.value._futureSnapshot=T.value,k.children=T.children.map(se=>Eo(D,se)),k}}const F=function Vo(D){return new Rr(new P.X(D.url),new P.X(D.params),new P.X(D.queryParams),new P.X(D.fragment),new P.X(D.data),D.outlet,D.component,D)}(T.value),y=T.children.map(U=>Eo(D,U));return new fr(F,y)}}const Cr="ngNavigationCancelingError";function ti(D,T){const{redirectTo:A,navigationBehaviorOptions:F}=te(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,y=Mo(!1,0,T);return y.url=A,y.navigationBehaviorOptions=F,y}function Mo(D,T,A){const F=new Error("NavigationCancelingError: "+(D||""));return F[Cr]=!0,F.cancellationCode=T,A&&(F.url=A),F}function ni(D){return Dr(D)&&te(D.url)}function Dr(D){return D&&D[Cr]}class ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vo,this.attachRef=null}}let vo=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(A,F){const y=this.getOrCreateContext(A);y.outlet=F,this.contexts.set(A,y)}onChildOutletDestroyed(A){const F=this.getContext(A);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let F=this.getContext(A);return F||(F=new ro,this.contexts.set(A,F)),F}getContext(A){return this.contexts.get(A)||null}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const oo=!1;let _o=(()=>{class D{constructor(A,F,y,U,k){this.parentContexts=A,this.location=F,this.changeDetector=U,this.environmentInjector=k,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.attachEvents=new n.vpe,this.detachEvents=new n.vpe,this.name=y||it,A.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const A=this.parentContexts.getContext(this.name);A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.vHH(4012,oo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.vHH(4012,oo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.vHH(4012,oo);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,F){this.activated=A,this._activatedRoute=F,this.location.insert(A.hostView),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,F){if(this.isActivated)throw new n.vHH(4013,oo);this._activatedRoute=A;const y=this.location,k=A._futureSnapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,Xe=new li(A,se,y.injector);if(F&&function Kn(D){return!!D.resolveComponentFactory}(F)){const jt=F.resolveComponentFactory(k);this.activated=y.createComponent(jt,y.length,Xe)}else this.activated=y.createComponent(k,{index:y.length,injector:Xe,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(A){return new(A||D)(n.Y36(vo),n.Y36(n.s_b),n.$8M("name"),n.Y36(n.sBO),n.Y36(n.lqb))},D.\u0275dir=n.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),D})();class li{constructor(T,A,F){this.route=T,this.childContexts=A,this.parent=F}get(T,A){return T===Rr?this.route:T===vo?this.childContexts:this.parent.get(T,A)}}let Ho=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275cmp=n.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:1,vars:0,template:function(A,F){1&A&&n._UZ(0,"router-outlet")},dependencies:[_o],encapsulation:2}),D})();function $o(D,T){return D.providers&&!D._injector&&(D._injector=(0,n.MMx)(D.providers,T,`Route: ${D.path}`)),D._injector??T}function Xt(D){const T=D.children&&D.children.map(Xt),A=T?{...D,children:T}:{...D};return!A.component&&!A.loadComponent&&(T||A.loadChildren)&&A.outlet&&A.outlet!==it&&(A.component=Ho),A}function Sn(D){return D.outlet||it}function Gr(D,T){const A=D.filter(F=>Sn(F)===T);return A.push(...D.filter(F=>Sn(F)!==T)),A}function Vr(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let T=D.parent;T;T=T.parent){const A=T.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class be{constructor(T,A,F,y){this.routeReuseStrategy=T,this.futureState=A,this.currState=F,this.forwardEvent=y}activate(T){const A=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,F,T),Go(this.futureState.root),this.activateChildRoutes(A,F,T)}deactivateChildRoutes(T,A,F){const y=hr(A);T.children.forEach(U=>{const k=U.value.outlet;this.deactivateRoutes(U,y[k],F),delete y[k]}),cn(y,(U,k)=>{this.deactivateRouteAndItsChildren(U,F)})}deactivateRoutes(T,A,F){const y=T.value,U=A?A.value:null;if(y===U)if(y.component){const k=F.getContext(y.outlet);k&&this.deactivateChildRoutes(T,A,k.children)}else this.deactivateChildRoutes(T,A,F);else U&&this.deactivateRouteAndItsChildren(A,F)}deactivateRouteAndItsChildren(T,A){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,A):this.deactivateRouteAndOutlet(T,A)}detachAndStoreRouteSubtree(T,A){const F=A.getContext(T.value.outlet),y=F&&T.value.component?F.children:A,U=hr(T);for(const k of Object.keys(U))this.deactivateRouteAndItsChildren(U[k],y);if(F&&F.outlet){const k=F.outlet.detach(),se=F.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:k,route:T,contexts:se})}}deactivateRouteAndOutlet(T,A){const F=A.getContext(T.value.outlet),y=F&&T.value.component?F.children:A,U=hr(T);for(const k of Object.keys(U))this.deactivateRouteAndItsChildren(U[k],y);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(T,A,F){const y=hr(A);T.children.forEach(U=>{this.activateRoutes(U,y[U.value.outlet],F),this.forwardEvent(new He(U.value.snapshot))}),T.children.length&&this.forwardEvent(new x(T.value.snapshot))}activateRoutes(T,A,F){const y=T.value,U=A?A.value:null;if(Go(y),y===U)if(y.component){const k=F.getOrCreateContext(y.outlet);this.activateChildRoutes(T,A,k.children)}else this.activateChildRoutes(T,A,F);else if(y.component){const k=F.getOrCreateContext(y.outlet);if(this.routeReuseStrategy.shouldAttach(y.snapshot)){const se=this.routeReuseStrategy.retrieve(y.snapshot);this.routeReuseStrategy.store(y.snapshot,null),k.children.onOutletReAttached(se.contexts),k.attachRef=se.componentRef,k.route=se.route.value,k.outlet&&k.outlet.attach(se.componentRef,se.route.value),Go(se.route.value),this.activateChildRoutes(T,null,k.children)}else{const se=Vr(y.snapshot),Xe=se?.get(n._Vd)??null;k.attachRef=null,k.route=y,k.resolver=Xe,k.injector=se,k.outlet&&k.outlet.activateWith(y,k.injector),this.activateChildRoutes(T,null,k.children)}}else this.activateChildRoutes(T,null,F)}}class tt{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Se{constructor(T,A){this.component=T,this.route=A}}function nt(D,T,A){const F=D._root;return Cn(F,T?T._root:null,A,[F.value])}function at(D,T){const A=Symbol(),F=T.get(D,A);return F===A?"function"!=typeof D||(0,n.Z0I)(D)?T.get(D):D:F}function Cn(D,T,A,F,y={canDeactivateChecks:[],canActivateChecks:[]}){const U=hr(T);return D.children.forEach(k=>{(function $n(D,T,A,F,y={canDeactivateChecks:[],canActivateChecks:[]}){const U=D.value,k=T?T.value:null,se=A?A.getContext(D.value.outlet):null;if(k&&U.routeConfig===k.routeConfig){const Xe=function kt(D,T,A){if("function"==typeof A)return A(D,T);switch(A){case"pathParamsChange":return!Oe(D.url,T.url);case"pathParamsOrQueryParamsChange":return!Oe(D.url,T.url)||!me(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ei(D,T)||!me(D.queryParams,T.queryParams);default:return!ei(D,T)}}(k,U,U.routeConfig.runGuardsAndResolvers);Xe?y.canActivateChecks.push(new tt(F)):(U.data=k.data,U._resolvedData=k._resolvedData),Cn(D,T,U.component?se?se.children:null:A,F,y),Xe&&se&&se.outlet&&se.outlet.isActivated&&y.canDeactivateChecks.push(new Se(se.outlet.component,k))}else k&&bn(T,se,y),y.canActivateChecks.push(new tt(F)),Cn(D,null,U.component?se?se.children:null:A,F,y)})(k,U[k.value.outlet],A,F.concat([k.value]),y),delete U[k.value.outlet]}),cn(U,(k,se)=>bn(k,A.getContext(se),y)),y}function bn(D,T,A){const F=hr(D),y=D.value;cn(F,(U,k)=>{bn(U,y.component?T?T.children.getContext(k):null:T,A)}),A.canDeactivateChecks.push(new Se(y.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,y))}function gr(D){return"function"==typeof D}function Nr(D){return D instanceof E.K||"EmptyError"===D?.name}const pi=Symbol("INITIAL_VALUE");function wo(){return(0,De.w)(D=>(0,M.aj)(D.map(T=>T.pipe((0,Ye.q)(1),(0,ot.O)(pi)))).pipe((0,oe.U)(T=>{for(const A of T)if(!0!==A){if(A===pi)return pi;if(!1===A||A instanceof nn)return A}return!0}),(0,ze.h)(T=>T!==pi),(0,Ye.q)(1)))}function Ks(D){return(0,j.z)((0,de.b)(T=>{if(te(T))throw ti(0,T)}),(0,oe.U)(T=>!0===T))}const Ms={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wi(D,T,A,F,y){const U=Ai(D,T,A);return U.matched?function Ea(D,T,A,F){const y=T.canMatch;if(!y||0===y.length)return(0,h.of)(!0);const U=y.map(k=>{const se=at(k,D);return Ut(function le(D){return D&&gr(D.canMatch)}(se)?se.canMatch(T,A):D.runInContext(()=>se(T,A)))});return(0,h.of)(U).pipe(wo(),Ks())}(F=$o(T,F),T,A).pipe((0,oe.U)(k=>!0===k?U:{...Ms})):(0,h.of)(U)}function Ai(D,T,A){if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||A.length>0)?{...Ms}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const y=(T.matcher||dt)(A,D,T);if(!y)return{...Ms};const U={};cn(y.posParams,(se,Xe)=>{U[Xe]=se.path});const k=y.consumed.length>0?{...U,...y.consumed[y.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:y.consumed,remainingSegments:A.slice(y.consumed.length),parameters:k,positionalParamSegments:y.posParams??{}}}function os(D,T,A,F,y="corrected"){if(A.length>0&&function Is(D,T,A){return A.some(F=>w(D,T,F)&&Sn(F)!==it)}(D,A,F)){const k=new zt(T,function Zo(D,T,A,F){const y={};y[it]=F,F._sourceSegment=D,F._segmentIndexShift=T.length;for(const U of A)if(""===U.path&&Sn(U)!==it){const k=new zt([],{});k._sourceSegment=D,k._segmentIndexShift=T.length,y[Sn(U)]=k}return y}(D,T,F,new zt(A,D.children)));return k._sourceSegment=D,k._segmentIndexShift=T.length,{segmentGroup:k,slicedSegments:[]}}if(0===A.length&&function nu(D,T,A){return A.some(F=>w(D,T,F))}(D,A,F)){const k=new zt(D.segments,function Qs(D,T,A,F,y,U){const k={};for(const se of F)if(w(D,A,se)&&!y[Sn(se)]){const Xe=new zt([],{});Xe._sourceSegment=D,Xe._segmentIndexShift="legacy"===U?D.segments.length:T.length,k[Sn(se)]=Xe}return{...y,...k}}(D,T,A,F,D.children,y));return k._sourceSegment=D,k._segmentIndexShift=T.length,{segmentGroup:k,slicedSegments:A}}const U=new zt(D.segments,D.children);return U._sourceSegment=D,U._segmentIndexShift=T.length,{segmentGroup:U,slicedSegments:A}}function w(D,T,A){return(!(D.hasChildren()||T.length>0)||"full"!==A.pathMatch)&&""===A.path}function W(D,T,A,F){return!!(Sn(D)===F||F!==it&&w(T,A,D))&&("**"===D.path||Ai(T,D,A).matched)}function B(D,T,A){return 0===T.length&&!D.children[A]}const ce=!1;class $e{constructor(T){this.segmentGroup=T||null}}class Et{constructor(T){this.urlTree=T}}function xt(D){return(0,H._)(new $e(D))}function fn(D){return(0,H._)(new Et(D))}class Bn{constructor(T,A,F,y,U){this.injector=T,this.configLoader=A,this.urlSerializer=F,this.urlTree=y,this.config=U,this.allowRedirects=!0}apply(){const T=os(this.urlTree.root,[],[],this.config).segmentGroup,A=new zt(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,A,it).pipe((0,oe.U)(U=>this.createUrlTree(pe(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(U=>{if(U instanceof Et)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof $e?this.noMatchError(U):U}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,it).pipe((0,oe.U)(y=>this.createUrlTree(pe(y),T.queryParams,T.fragment))).pipe((0,Ke.K)(y=>{throw y instanceof $e?this.noMatchError(y):y}))}noMatchError(T){return new n.vHH(4002,ce)}createUrlTree(T,A,F){const y=ke(T);return new nn(y,A,F)}expandSegmentGroup(T,A,F,y){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(T,A,F).pipe((0,oe.U)(U=>new zt([],U))):this.expandSegment(T,F,A,F.segments,y,!0)}expandChildren(T,A,F){const y=[];for(const U of Object.keys(F.children))"primary"===U?y.unshift(U):y.push(U);return(0,e.D)(y).pipe((0,ve.b)(U=>{const k=F.children[U],se=Gr(A,U);return this.expandSegmentGroup(T,se,k,U).pipe((0,oe.U)(Xe=>({segment:Xe,outlet:U})))}),(0,rt.R)((U,k)=>(U[k.outlet]=k.segment,U),{}),Ve())}expandSegment(T,A,F,y,U,k){return(0,e.D)(F).pipe((0,ve.b)(se=>this.expandSegmentAgainstRoute(T,A,F,se,y,U,k).pipe((0,Ke.K)(jt=>{if(jt instanceof $e)return(0,h.of)(null);throw jt}))),(0,ge.P)(se=>!!se),(0,Ke.K)((se,Xe)=>{if(Nr(se))return B(A,y,U)?(0,h.of)(new zt([],{})):xt(A);throw se}))}expandSegmentAgainstRoute(T,A,F,y,U,k,se){return W(y,A,U,k)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(T,A,y,U,k):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,A,F,y,U,k):xt(A):xt(A)}expandSegmentAgainstRouteUsingRedirect(T,A,F,y,U,k){return"**"===y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,F,y,k):this.expandRegularSegmentAgainstRouteUsingRedirect(T,A,F,y,U,k)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,A,F,y){const U=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?fn(U):this.lineralizeSegments(F,U).pipe((0,Ge.zg)(k=>{const se=new zt(k,{});return this.expandSegment(T,se,A,k,y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,A,F,y,U,k){const{matched:se,consumedSegments:Xe,remainingSegments:jt,positionalParamSegments:sn}=Ai(A,y,U);if(!se)return xt(A);const on=this.applyRedirectCommands(Xe,y.redirectTo,sn);return y.redirectTo.startsWith("/")?fn(on):this.lineralizeSegments(y,on).pipe((0,Ge.zg)(Rn=>this.expandSegment(T,A,F,Rn.concat(jt),k,!1)))}matchSegmentAgainstRoute(T,A,F,y,U){return"**"===F.path?(T=$o(F,T),F.loadChildren?(F._loadedRoutes?(0,h.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(T,F)).pipe((0,oe.U)(se=>(F._loadedRoutes=se.routes,F._loadedInjector=se.injector,new zt(y,{})))):(0,h.of)(new zt(y,{}))):wi(A,F,y,T).pipe((0,De.w)(({matched:k,consumedSegments:se,remainingSegments:Xe})=>k?this.getChildConfig(T=F._injector??T,F,y).pipe((0,Ge.zg)(sn=>{const on=sn.injector??T,Rn=sn.routes,{segmentGroup:Ur,slicedSegments:Wo}=os(A,se,Xe,Rn),gi=new zt(Ur.segments,Ur.children);if(0===Wo.length&&gi.hasChildren())return this.expandChildren(on,Rn,gi).pipe((0,oe.U)(cd=>new zt(se,cd)));if(0===Rn.length&&0===Wo.length)return(0,h.of)(new zt(se,{}));const bo=Sn(F)===U;return this.expandSegment(on,gi,Rn,Wo,bo?it:U,!0).pipe((0,oe.U)(Yi=>new zt(se.concat(Yi.segments),Yi.children)))})):xt(A)))}getChildConfig(T,A,F){return A.children?(0,h.of)({routes:A.children,injector:T}):A.loadChildren?void 0!==A._loadedRoutes?(0,h.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function ic(D,T,A,F){const y=T.canLoad;if(void 0===y||0===y.length)return(0,h.of)(!0);const U=y.map(k=>{const se=at(k,D);return Ut(function kr(D){return D&&gr(D.canLoad)}(se)?se.canLoad(T,A):D.runInContext(()=>se(T,A)))});return(0,h.of)(U).pipe(wo(),Ks())}(T,A,F).pipe((0,Ge.zg)(y=>y?this.configLoader.loadChildren(T,A).pipe((0,de.b)(U=>{A._loadedRoutes=U.routes,A._loadedInjector=U.injector})):function Qn(D){return(0,H._)(Mo(ce,3))}())):(0,h.of)({routes:[],injector:T})}lineralizeSegments(T,A){let F=[],y=A.root;for(;;){if(F=F.concat(y.segments),0===y.numberOfChildren)return(0,h.of)(F);if(y.numberOfChildren>1||!y.children[it])return(0,H._)(new n.vHH(4e3,ce));y=y.children[it]}}applyRedirectCommands(T,A,F){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),T,F)}applyRedirectCreateUrlTree(T,A,F,y){const U=this.createSegmentGroup(T,A.root,F,y);return new nn(U,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(T,A){const F={};return cn(T,(y,U)=>{if("string"==typeof y&&y.startsWith(":")){const se=y.substring(1);F[U]=A[se]}else F[U]=y}),F}createSegmentGroup(T,A,F,y){const U=this.createSegments(T,A.segments,F,y);let k={};return cn(A.children,(se,Xe)=>{k[Xe]=this.createSegmentGroup(T,se,F,y)}),new zt(U,k)}createSegments(T,A,F,y){return A.map(U=>U.path.startsWith(":")?this.findPosParam(T,U,y):this.findOrReturn(U,F))}findPosParam(T,A,F){const y=F[A.path.substring(1)];if(!y)throw new n.vHH(4001,ce);return y}findOrReturn(T,A){let F=0;for(const y of A){if(y.path===T.path)return A.splice(F),y;F++}return T}}class Pr{}class fi{constructor(T,A,F,y,U,k,se,Xe){this.injector=T,this.rootComponentType=A,this.config=F,this.urlTree=y,this.url=U,this.paramsInheritanceStrategy=k,this.relativeLinkResolution=se,this.urlSerializer=Xe}recognize(){const T=os(this.urlTree.root,[],[],this.config.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,it).pipe((0,oe.U)(A=>{if(null===A)return null;const F=new xo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),y=new fr(F,A),U=new Bo(this.url,y);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(T){const A=T.value,F=ci(A,this.paramsInheritanceStrategy);A.params=Object.freeze(F.params),A.data=Object.freeze(F.data),T.children.forEach(y=>this.inheritParamsAndData(y))}processSegmentGroup(T,A,F,y){return 0===F.segments.length&&F.hasChildren()?this.processChildren(T,A,F):this.processSegment(T,A,F,F.segments,y)}processChildren(T,A,F){return(0,e.D)(Object.keys(F.children)).pipe((0,ve.b)(y=>{const U=F.children[y],k=Gr(A,y);return this.processSegmentGroup(T,k,U,y)}),(0,rt.R)((y,U)=>y&&U?(y.push(...U),y):null),(0,_e.o)(y=>null!==y),(0,ie.d)(null),Ve(),(0,oe.U)(y=>{if(null===y)return null;const U=qs(y);return function Yr(D){D.sort((T,A)=>T.value.outlet===it?-1:A.value.outlet===it?1:T.value.outlet.localeCompare(A.value.outlet))}(U),U}))}processSegment(T,A,F,y,U){return(0,e.D)(A).pipe((0,ve.b)(k=>this.processSegmentAgainstRoute(k._injector??T,k,F,y,U)),(0,ge.P)(k=>!!k),(0,Ke.K)(k=>{if(Nr(k))return B(F,y,U)?(0,h.of)([]):(0,h.of)(null);throw k}))}processSegmentAgainstRoute(T,A,F,y,U){if(A.redirectTo||!W(A,F,y,U))return(0,h.of)(null);let k;if("**"===A.path){const se=y.length>0?$t(y).parameters:{},Xe=Xs(F)+y.length,jt=new xo(y,se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sc(A),Sn(A),A.component??A._loadedComponent??null,A,is(F),Xe,ac(A),Xe);k=(0,h.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]})}else k=wi(F,A,y,T).pipe((0,oe.U)(({matched:se,consumedSegments:Xe,remainingSegments:jt,parameters:sn})=>{if(!se)return null;const on=Xs(F)+Xe.length;return{snapshot:new xo(Xe,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sc(A),Sn(A),A.component??A._loadedComponent??null,A,is(F),on,ac(A),on),consumedSegments:Xe,remainingSegments:jt}}));return k.pipe((0,De.w)(se=>{if(null===se)return(0,h.of)(null);const{snapshot:Xe,consumedSegments:jt,remainingSegments:sn}=se;T=A._injector??T;const on=A._loadedInjector??T,Rn=function Yo(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(A),{segmentGroup:Ur,slicedSegments:Wo}=os(F,jt,sn,Rn.filter(bo=>void 0===bo.redirectTo),this.relativeLinkResolution);if(0===Wo.length&&Ur.hasChildren())return this.processChildren(on,Rn,Ur).pipe((0,oe.U)(bo=>null===bo?null:[new fr(Xe,bo)]));if(0===Rn.length&&0===Wo.length)return(0,h.of)([new fr(Xe,[])]);const gi=Sn(A)===U;return this.processSegment(on,Rn,Ur,Wo,gi?it:U).pipe((0,oe.U)(bo=>null===bo?null:[new fr(Xe,bo)]))}))}}function Di(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function qs(D){const T=[],A=new Set;for(const F of D){if(!Di(F)){T.push(F);continue}const y=T.find(U=>F.value.routeConfig===U.value.routeConfig);void 0!==y?(y.children.push(...F.children),A.add(y)):T.push(F)}for(const F of A){const y=qs(F.children);T.push(new fr(F.value,y))}return T.filter(F=>!A.has(F))}function is(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Xs(D){let T=D,A=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,A+=T._segmentIndexShift??0;return A-1}function sc(D){return D.data||{}}function ac(D){return D.resolve||{}}function Ri(D){return"string"==typeof D.title||null===D.title}function ri(D){return(0,De.w)(T=>{const A=D(T);return A?(0,e.D)(A).pipe((0,oe.U)(()=>T)):(0,h.of)(T)})}let Da=(()=>{class D{buildTitle(A){let F,y=A.root;for(;void 0!==y;)F=this.getResolvedTitleForRoute(y)??F,y=y.children.find(U=>U.outlet===it);return F}getResolvedTitleForRoute(A){return A.data[Zt]}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=n.Yz7({token:D,factory:function(){return(0,n.f3M)(bi)},providedIn:"root"}),D})(),bi=(()=>{class D extends Da{constructor(A){super(),this.title=A}updateTitle(A){const F=this.buildTitle(A);void 0!==F&&this.title.setTitle(F)}}return D.\u0275fac=function(A){return new(A||D)(n.LFG(Ct.Dx))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class ws{}class cc extends class iu{shouldDetach(T){return!1}store(T,A){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,A){return T.routeConfig===A.routeConfig}}{}const Po=new n.OlP("",{providedIn:"root",factory:()=>({})}),ao=new n.OlP("ROUTES");let Oo=(()=>{class D{constructor(A,F){this.injector=A,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,h.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const F=Ut(A.loadComponent()).pipe((0,de.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=U}),(0,Ee.x)(()=>{this.componentLoaders.delete(A)})),y=new q.c(F,()=>new ee.xQ).pipe((0,Ot.x)());return this.componentLoaders.set(A,y),y}loadChildren(A,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,h.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const U=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,oe.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Xe,jt,sn=!1;Array.isArray(se)?jt=se:(Xe=se.create(A).injector,jt=Ze(Xe.get(ao,[],n.XFs.Self|n.XFs.Optional)));return{routes:jt.map(Xt),injector:Xe}}),(0,Ee.x)(()=>{this.childrenLoaders.delete(F)})),k=new q.c(U,()=>new ee.xQ).pipe((0,Ot.x)());return this.childrenLoaders.set(F,k),k}loadModuleFactoryOrRoutes(A){return Ut(A()).pipe((0,Ge.zg)(F=>F instanceof n.YKP||Array.isArray(F)?(0,h.of)(F):(0,e.D)(this.compiler.compileModuleAsync(F))))}}return D.\u0275fac=function(A){return new(A||D)(n.LFG(n.zs3),n.LFG(n.Sil))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class Lr{}class co{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,A){return T}}function Lo(D){throw D}function Pi(D,T,A){return T.parse("/")}const Wr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function lc(){const D=(0,n.f3M)(Ae),T=(0,n.f3M)(vo),A=(0,n.f3M)(ue.Ye),F=(0,n.f3M)(n.zs3),y=(0,n.f3M)(n.Sil),U=(0,n.f3M)(ao,{optional:!0})??[],k=(0,n.f3M)(Po,{optional:!0})??{},se=(0,n.f3M)(bi),Xe=(0,n.f3M)(Da,{optional:!0}),jt=(0,n.f3M)(Lr,{optional:!0}),sn=(0,n.f3M)(ws,{optional:!0}),on=new Jr(null,D,T,A,F,y,Ze(U));return jt&&(on.urlHandlingStrategy=jt),sn&&(on.routeReuseStrategy=sn),on.titleStrategy=Xe??se,function su(D,T){D.errorHandler&&(T.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(T.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(T.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(T.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(T.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(T.canceledNavigationResolution=D.canceledNavigationResolution)}(k,on),on}let Jr=(()=>{class D{constructor(A,F,y,U,k,se,Xe){this.rootComponentType=A,this.urlSerializer=F,this.rootContexts=y,this.location=U,this.config=Xe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ee.xQ,this.errorHandler=Lo,this.malformedUriErrorHandler=Pi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,h.of)(void 0),this.urlHandlingStrategy=new co,this.routeReuseStrategy=new cc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=k.get(Oo),this.configLoader.onLoadEndListener=Rn=>this.triggerEvent(new N(Rn)),this.configLoader.onLoadStartListener=Rn=>this.triggerEvent(new _t(Rn)),this.ngModule=k.get(n.h0i),this.console=k.get(n.c2e);const on=k.get(n.R0b);this.isNgZoneEnabled=on instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(Xe),this.currentUrlTree=function ut(){return new nn(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=To(this.currentUrlTree,this.rootComponentType),this.transitions=new P.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(A){const F=this.events;return A.pipe((0,ze.h)(y=>0!==y.id),(0,oe.U)(y=>({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),(0,De.w)(y=>{let U=!1,k=!1;return(0,h.of)(y).pipe((0,de.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.rawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(se=>{const Xe=this.browserUrlTree.toString(),jt=!this.navigated||se.extractedUrl.toString()!==Xe||Xe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||jt)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return Hi(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,h.of)(se).pipe((0,De.w)(on=>{const Rn=this.transitions.getValue();return F.next(new Hn(on.id,this.serializeUrl(on.extractedUrl),on.source,on.restoredState)),Rn!==this.transitions.getValue()?z.E:Promise.resolve(on)}),function br(D,T,A,F){return(0,De.w)(y=>function qn(D,T,A,F,y){return new Bn(D,T,A,F,y).apply()}(D,T,A,y.extractedUrl,F).pipe((0,oe.U)(U=>({...y,urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,de.b)(on=>{this.currentNavigation={...this.currentNavigation,finalUrl:on.urlAfterRedirects},y.urlAfterRedirects=on.urlAfterRedirects}),function ou(D,T,A,F,y,U){return(0,Ge.zg)(k=>function Do(D,T,A,F,y,U,k="emptyOnly",se="legacy"){return new fi(D,T,A,F,y,k,se,U).recognize().pipe((0,De.w)(Xe=>null===Xe?function Ro(D){return new G.y(T=>T.error(D))}(new Pr):(0,h.of)(Xe)))}(D,T,A,k.urlAfterRedirects,F.serialize(k.urlAfterRedirects),F,y,U).pipe((0,oe.U)(se=>({...k,targetSnapshot:se}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,de.b)(on=>{if(y.targetSnapshot=on.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!on.extras.skipLocationChange){const Ur=this.urlHandlingStrategy.merge(on.urlAfterRedirects,on.rawUrl);this.setBrowserUrl(Ur,on)}this.browserUrlTree=on.urlAfterRedirects}const Rn=new wr(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot);F.next(Rn)}));if(jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Rn,extractedUrl:Ur,source:Wo,restoredState:gi,extras:bo}=se,Os=new Hn(Rn,this.serializeUrl(Ur),Wo,gi);F.next(Os);const Yi=To(Ur,this.rootComponentType).snapshot;return y={...se,targetSnapshot:Yi,urlAfterRedirects:Ur,extras:{...bo,skipLocationChange:!1,replaceUrl:!1}},(0,h.of)(y)}return this.rawUrlTree=se.rawUrl,se.resolve(null),z.E}),(0,de.b)(se=>{const Xe=new Xr(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Xe)}),(0,oe.U)(se=>y={...se,guards:nt(se.targetSnapshot,se.currentSnapshot,this.rootContexts)}),function Mr(D,T){return(0,Ge.zg)(A=>{const{targetSnapshot:F,currentSnapshot:y,guards:{canActivateChecks:U,canDeactivateChecks:k}}=A;return 0===k.length&&0===U.length?(0,h.of)({...A,guardsResult:!0}):function Ei(D,T,A,F){return(0,e.D)(D).pipe((0,Ge.zg)(y=>function Co(D,T,A,F,y){const U=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,h.of)(!0);const k=U.map(se=>{const Xe=Vr(T)??y,jt=at(se,Xe);return Ut(function L(D){return D&&gr(D.canDeactivate)}(jt)?jt.canDeactivate(D,T,A,F):Xe.runInContext(()=>jt(D,T,A,F))).pipe((0,ge.P)())});return(0,h.of)(k).pipe(wo())}(y.component,y.route,A,T,F)),(0,ge.P)(y=>!0!==y,!0))}(k,F,y,D).pipe((0,Ge.zg)(se=>se&&function Js(D){return"boolean"==typeof D}(se)?function Sa(D,T,A,F){return(0,e.D)(T).pipe((0,ve.b)(y=>(0,R.z)(function jo(D,T){return null!==D&&T&&T(new xe(D)),(0,h.of)(!0)}(y.route.parent,F),function xs(D,T){return null!==D&&T&&T(new J(D)),(0,h.of)(!0)}(y.route,F),function tu(D,T,A){const F=T[T.length-1],U=T.slice(0,T.length-1).reverse().map(k=>function Qe(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(k)).filter(k=>null!==k).map(k=>(0,V.P)(()=>{const se=k.guards.map(Xe=>{const jt=Vr(k.node)??A,sn=at(Xe,jt);return Ut(function $(D){return D&&gr(D.canActivateChild)}(sn)?sn.canActivateChild(F,D):jt.runInContext(()=>sn(F,D))).pipe((0,ge.P)())});return(0,h.of)(se).pipe(wo())}));return(0,h.of)(U).pipe(wo())}(D,y.path,A),function io(D,T,A){const F=T.routeConfig?T.routeConfig.canActivate:null;if(!F||0===F.length)return(0,h.of)(!0);const y=F.map(U=>(0,V.P)(()=>{const k=Vr(T)??A,se=at(U,k);return Ut(function Z(D){return D&&gr(D.canActivate)}(se)?se.canActivate(T,D):k.runInContext(()=>se(T,D))).pipe((0,ge.P)())}));return(0,h.of)(y).pipe(wo())}(D,y.route,A))),(0,ge.P)(y=>!0!==y,!0))}(F,U,D,T):(0,h.of)(se)),(0,oe.U)(se=>({...A,guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,de.b)(se=>{if(y.guardsResult=se.guardsResult,te(se.guardsResult))throw ti(0,se.guardsResult);const Xe=new mo(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent(Xe)}),(0,ze.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,"",3),!1)),ri(se=>{if(se.guards.canActivateChecks.length)return(0,h.of)(se).pipe((0,de.b)(Xe=>{const jt=new xr(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(jt)}),(0,De.w)(Xe=>{let jt=!1;return(0,h.of)(Xe).pipe(function Vi(D,T){return(0,Ge.zg)(A=>{const{targetSnapshot:F,guards:{canActivateChecks:y}}=A;if(!y.length)return(0,h.of)(A);let U=0;return(0,e.D)(y).pipe((0,ve.b)(k=>function ea(D,T,A,F){const y=D.routeConfig,U=D._resolve;return void 0!==y?.title&&!Ri(y)&&(U[Zt]=y.title),function so(D,T,A,F){const y=function zr(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===y.length)return(0,h.of)({});const U={};return(0,e.D)(y).pipe((0,Ge.zg)(k=>function yo(D,T,A,F){const y=Vr(T)??F,U=at(D,y);return Ut(U.resolve?U.resolve(T,A):y.runInContext(()=>U(T,A)))}(D[k],T,A,F).pipe((0,ge.P)(),(0,de.b)(se=>{U[k]=se}))),Fe(1),(0,Ue.h)(U),(0,Ke.K)(k=>Nr(k)?z.E:(0,H._)(k)))}(U,D,T,F).pipe((0,oe.U)(k=>(D._resolvedData=k,D.data=ci(D,A).resolve,y&&Ri(y)&&(D.data[Zt]=y.title),null)))}(k.route,F,D,T)),(0,de.b)(()=>U++),Fe(1),(0,Ge.zg)(k=>U===y.length?(0,h.of)(A):z.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,de.b)({next:()=>jt=!0,complete:()=>{jt||(this.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",2))}}))}),(0,de.b)(Xe=>{const jt=new Be(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(jt)}))}),ri(se=>{const Xe=jt=>{const sn=[];jt.routeConfig?.loadComponent&&!jt.routeConfig._loadedComponent&&sn.push(this.configLoader.loadComponent(jt.routeConfig).pipe((0,de.b)(on=>{jt.component=on}),(0,oe.U)(()=>{})));for(const on of jt.children)sn.push(...Xe(on));return sn};return(0,M.aj)(Xe(se.targetSnapshot.root)).pipe((0,ie.d)(),(0,Ye.q)(1))}),ri(()=>this.afterPreactivation()),(0,oe.U)(se=>{const Xe=function ui(D,T,A){const F=Eo(D,T._root,A?A._root:void 0);return new eo(F,T)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return y={...se,targetRouterState:Xe}}),(0,de.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((D,T,A)=>(0,oe.U)(F=>(new be(T,F.targetRouterState,F.currentRouterState,A).activate(D),F)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,de.b)({next(){U=!0},complete(){U=!0}}),(0,Ee.x)(()=>{U||k||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),(0,Ke.K)(se=>{if(k=!0,Dr(se)){ni(se)||(this.navigated=!0,this.restoreHistory(y,!0));const Xe=new Mn(y.id,this.serializeUrl(y.extractedUrl),se.message,se.cancellationCode);if(F.next(Xe),ni(se)){const jt=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),sn={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hi(y.source)};this.scheduleNavigation(jt,"imperative",null,sn,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{this.restoreHistory(y,!0);const Xe=new or(y.id,this.serializeUrl(y.extractedUrl),se,y.targetSnapshot??void 0);F.next(Xe);try{y.resolve(this.errorHandler(se))}catch(jt){y.reject(jt)}}return z.E}))}))}resetRootComponentType(A){this.rootComponentType=A,this.routerState.root.component=this.rootComponentType}setTransition(A){this.transitions.next({...this.transitions.value,...A})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const F="popstate"===A.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{const y={replaceUrl:!0},U=A.state?.navigationId?A.state:null;if(U){const se={...U};delete se.navigationId,delete se.\u0275routerPageId,0!==Object.keys(se).length&&(y.state=se)}const k=this.parseUrl(A.url);this.scheduleNavigation(k,F,U,y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(A){this.events.next(A)}resetConfig(A){this.config=A.map(Xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(A,F={}){const{relativeTo:y,queryParams:U,fragment:k,queryParamsHandling:se,preserveFragment:Xe}=F,jt=y||this.routerState.root,sn=Xe?this.currentUrlTree.fragment:k;let on=null;switch(se){case"merge":on={...this.currentUrlTree.queryParams,...U};break;case"preserve":on=this.currentUrlTree.queryParams;break;default:on=U||null}return null!==on&&(on=this.removeEmptyProps(on)),Kt(jt,this.currentUrlTree,A,on,sn??null)}navigateByUrl(A,F={skipLocationChange:!1}){const y=te(A)?A:this.parseUrl(A),U=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,F)}navigate(A,F={skipLocationChange:!1}){return function Rs(D){for(let T=0;T<D.length;T++){if(null==D[T])throw new n.vHH(4008,false)}}(A),this.navigateByUrl(this.createUrlTree(A,F),F)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let F;try{F=this.urlSerializer.parse(A)}catch(y){F=this.malformedUriErrorHandler(y,this.urlSerializer,A)}return F}isActive(A,F){let y;if(y=!0===F?{...Wr}:!1===F?{...Fo}:F,te(A))return mn(this.currentUrlTree,A,y);const U=this.parseUrl(A);return mn(this.currentUrlTree,U,y)}removeEmptyProps(A){return Object.keys(A).reduce((F,y)=>{const U=A[y];return null!=U&&(F[y]=U),F},{})}processNavigations(){this.navigations.subscribe(A=>{this.navigated=!0,this.lastSuccessfulId=A.id,this.currentPageId=A.targetPageId,this.events.next(new rr(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),A.resolve(!0)},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}scheduleNavigation(A,F,y,U,k){if(this.disposed)return Promise.resolve(!1);let se,Xe,jt;k?(se=k.resolve,Xe=k.reject,jt=k.promise):jt=new Promise((Rn,Ur)=>{se=Rn,Xe=Ur});const sn=++this.navigationId;let on;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(y=this.location.getState()),on=y&&y.\u0275routerPageId?y.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):on=0,this.setTransition({id:sn,targetPageId:on,source:F,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:A,extras:U,resolve:se,reject:Xe,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Rn=>Promise.reject(Rn))}setBrowserUrl(A,F){const y=this.urlSerializer.serialize(A),U={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.isCurrentPathEqualTo(y)||F.extras.replaceUrl?this.location.replaceState(y,"",U):this.location.go(y,"",U)}restoreHistory(A,F=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-A.targetPageId;"popstate"!==A.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===y?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===y&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(A,F,y){const U=new Mn(A.id,this.serializeUrl(A.extractedUrl),F,y);this.triggerEvent(U),A.resolve(!1)}generateNgRouterState(A,F){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:F}:{navigationId:A}}}return D.\u0275fac=function(A){n.$Z()},D.\u0275prov=n.Yz7({token:D,factory:function(){return lc()},providedIn:"root"}),D})();function Hi(D){return"imperative"!==D}let $i=(()=>{class D{constructor(A,F,y,U,k){this.router=A,this.route=F,this.tabIndexAttribute=y,this.renderer=U,this.el=k,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ee.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(A){this._preserveFragment=(0,n.D6c)(A)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(A){this._skipLocationChange=(0,n.D6c)(A)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(A){this._replaceUrl=(0,n.D6c)(A)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(A){if(null!=this.tabIndexAttribute)return;const F=this.renderer,y=this.el.nativeElement;null!==A?F.setAttribute(y,"tabindex",A):F.removeAttribute(y,"tabindex")}ngOnChanges(A){this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(A){return new(A||D)(n.Y36(Jr),n.Y36(Rr),n.$8M("tabindex"),n.Y36(n.Qsj),n.Y36(n.SBq))},D.\u0275dir=n.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,F){1&A&&n.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[n.TTD]}),D})(),hi=(()=>{class D{constructor(A,F,y){this.router=A,this.route=F,this.locationStrategy=y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ee.xQ,this.subscription=A.events.subscribe(U=>{U instanceof rr&&this.updateTargetUrlAndHref()})}set preserveFragment(A){this._preserveFragment=(0,n.D6c)(A)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(A){this._skipLocationChange=(0,n.D6c)(A)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(A){this._replaceUrl=(0,n.D6c)(A)}get replaceUrl(){return this._replaceUrl}set routerLink(A){this.commands=null!=A?Array.isArray(A)?A:[A]:null}ngOnChanges(A){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(A,F,y,U,k){return!!(0!==A||F||y||U||k||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(A){return new(A||D)(n.Y36(Jr),n.Y36(Rr),n.Y36(ue.S$))},D.\u0275dir=n.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(A,F){1&A&&n.NdJ("click",function(U){return F.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&A&&n.uIk("target",F.target)("href",F.href,n.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[n.TTD]}),D})(),Ta=(()=>{class D{constructor(A,F,y,U,k,se){this.router=A,this.element=F,this.renderer=y,this.cdr=U,this.link=k,this.linkWithHref=se,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.vpe,this.routerEventsSubscription=A.events.subscribe(Xe=>{Xe instanceof rr&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,this.linksWithHrefs.changes,(0,h.of)(null)).pipe((0,Ft.J)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,e.D)(A).pipe((0,Ft.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(A){const F=Array.isArray(A)?A:A.split(" ");this.classes=F.filter(y=>!!y)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const A=this.hasActiveLinks();this.isActive!==A&&(this.isActive=A,this.cdr.markForCheck(),this.classes.forEach(F=>{A?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const F=function ss(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return y=>!!y.urlTree&&A.isActive(y.urlTree,F)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.linkWithHref&&A(this.linkWithHref)||this.links.some(A)||this.linksWithHrefs.some(A)}}return D.\u0275fac=function(A){return new(A||D)(n.Y36(Jr),n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36($i,8),n.Y36(hi,8))},D.\u0275dir=n.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(A,F,y){if(1&A&&(n.Suo(y,$i,5),n.Suo(y,hi,5)),2&A){let U;n.iGM(U=n.CRH())&&(F.links=U),n.iGM(U=n.CRH())&&(F.linksWithHrefs=U)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[n.TTD]}),D})();class xa{}let au=(()=>{class D{constructor(A,F,y,U,k){this.router=A,this.injector=y,this.preloadingStrategy=U,this.loader=k}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(A=>A instanceof rr),(0,ve.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,F){const y=[];for(const U of F){U.providers&&!U._injector&&(U._injector=(0,n.MMx)(U.providers,A,`Route: ${U.path}`));const k=U._injector??A,se=U._loadedInjector??k;U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent?y.push(this.preloadConfig(k,U)):(U.children||U._loadedRoutes)&&y.push(this.processRoutes(se,U.children??U._loadedRoutes))}return(0,e.D)(y).pipe((0,Ft.J)())}preloadConfig(A,F){return this.preloadingStrategy.preload(F,()=>{let y;y=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(A,F):(0,h.of)(null);const U=y.pipe((0,Ge.zg)(k=>null===k?(0,h.of)(void 0):(F._loadedRoutes=k.routes,F._loadedInjector=k.injector,this.processRoutes(k.injector??A,k.routes))));if(F.loadComponent&&!F._loadedComponent){const k=this.loader.loadComponent(F);return(0,e.D)([U,k]).pipe((0,Ft.J)())}return U})}}return D.\u0275fac=function(A){return new(A||D)(n.LFG(Jr),n.LFG(n.Sil),n.LFG(n.lqb),n.LFG(xa),n.LFG(Oo))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ma=new n.OlP("");let Ia=(()=>{class D{constructor(A,F,y={}){this.router=A,this.viewportScroller=F,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration=y.scrollPositionRestoration||"disabled",y.anchorScrolling=y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(A=>{A instanceof Hn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof rr&&(this.lastId=A.id,this.scheduleScrollEvent(A,this.router.parseUrl(A.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(A=>{A instanceof Rt&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,F){this.router.triggerEvent(new Rt(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(A){n.$Z()},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac}),D})();function ji(D,T){return{\u0275kind:D,\u0275providers:T}}function cs(D){return[{provide:ao,multi:!0,useValue:D}]}function fc(){const D=(0,n.f3M)(n.zs3);return T=>{const A=D.get(n.z2F);if(T!==A.components[0])return;const F=D.get(Jr),y=D.get(cu);1===D.get(cr)&&F.initialNavigation(),D.get(wa,null,n.XFs.Optional)?.setUpPreloading(),D.get(Ma,null,n.XFs.Optional)?.init(),F.resetRootComponentType(A.componentTypes[0]),y.closed||(y.next(),y.unsubscribe())}}const cu=new n.OlP("",{factory:()=>new ee.xQ}),cr=new n.OlP("",{providedIn:"root",factory:()=>1});const wa=new n.OlP("");function rl(D){return ji(0,[{provide:wa,useExisting:au},{provide:xa,useExisting:D}])}const ol=new n.OlP("ROUTER_FORROOT_GUARD"),sd=[ue.Ye,{provide:Ae,useClass:qe},{provide:Jr,useFactory:lc},vo,{provide:Rr,useFactory:function Kr(D){return D.routerState.root},deps:[Jr]},Oo];function Zr(){return new n.PXZ("Router",Jr)}let Ra=(()=>{class D{constructor(A){}static forRoot(A,F){return{ngModule:D,providers:[sd,[],cs(A),{provide:ol,useFactory:zo,deps:[[Jr,new n.FiY,new n.tp0]]},{provide:Po,useValue:F||{}},F?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:Ma,useFactory:()=>{const D=(0,n.f3M)(Jr),T=(0,n.f3M)(ue.EM),A=(0,n.f3M)(Po);return A.scrollOffset&&T.setOffset(A.scrollOffset),new Ia(D,T,A)}},F?.preloadingStrategy?rl(F.preloadingStrategy).\u0275providers:[],{provide:n.PXZ,multi:!0,useFactory:Zr},F?.initialNavigation?Zi(F):[],[{provide:gc,useFactory:fc},{provide:n.tb,multi:!0,useExisting:gc}]]}}static forChild(A){return{ngModule:D,providers:[cs(A)]}}}return D.\u0275fac=function(A){return new(A||D)(n.LFG(ol,8))},D.\u0275mod=n.oAB({type:D}),D.\u0275inj=n.cJS({imports:[Ho]}),D})();function zo(D){return"guarded"}function Zi(D){return["disabled"===D.initialNavigation?ji(3,[{provide:n.ip1,multi:!0,useFactory:()=>{const T=(0,n.f3M)(Jr);return()=>{T.setUpLocationChangeListener()}}},{provide:cr,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ji(2,[{provide:cr,useValue:0},{provide:n.ip1,multi:!0,deps:[n.zs3],useFactory:T=>{const A=T.get(ue.V_,Promise.resolve());let F=!1;return()=>A.then(()=>new Promise(U=>{const k=T.get(Jr),se=T.get(cu);(function y(U){T.get(Jr).events.pipe((0,ze.h)(se=>se instanceof rr||se instanceof Mn||se instanceof or),(0,oe.U)(se=>se instanceof rr||se instanceof Mn&&(0===se.code||1===se.code)&&null),(0,ze.h)(se=>null!==se),(0,Ye.q)(1)).subscribe(()=>{U()})})(()=>{U(!0),F=!0}),k.afterPreactivation=()=>(U(!0),F||se.closed?(0,h.of)(void 0):se),k.initialNavigation()}))}}]).\u0275providers:[]]}const gc=new n.OlP("")},8935:(ye,X,v)=>{"use strict";v.d(X,{Wr:()=>ht,JB:()=>de});var n=v(6895),e=v(4650),h=v(8514),P=v(1737),E=v(3753),M=v(1086),R=v(1221),V=v(8929),j=v(7274),H=v(6787),G=v(4850),z=v(2198),q=v(7545),ee=v(2536),oe=v(2986),De=v(2994),Ye=v(943);const ot="Service workers are disabled or not supported by this browser";class Ge{constructor(fe){if(this.serviceWorker=fe,fe){const ne=(0,E.R)(fe,"controllerchange").pipe((0,G.U)(()=>fe.controller)),Ve=(0,h.P)(()=>(0,M.of)(fe.controller)),_e=(0,R.z)(Ve,ne);this.worker=_e.pipe((0,z.h)(Ct=>!!Ct)),this.registration=this.worker.pipe((0,q.w)(()=>fe.getRegistration()));const Ft=(0,E.R)(fe,"message").pipe((0,G.U)(Ct=>Ct.data)).pipe((0,z.h)(Ct=>Ct&&Ct.type)).pipe(function ue(Re){return Re?(0,ee.O)(()=>new V.xQ,Re):(0,ee.O)(new V.xQ)}());Ft.connect(),this.events=Ft}else this.worker=this.events=this.registration=function ze(Re){return(0,h.P)(()=>(0,P._)(new Error(Re)))}(ot)}postMessage(fe,ie){return this.worker.pipe((0,oe.q)(1),(0,De.b)(ne=>{ne.postMessage({action:fe,...ie})})).toPromise().then(()=>{})}postMessageWithOperation(fe,ie,ne){const Ve=this.waitForOperationCompleted(ne),_e=this.postMessage(fe,ie);return Promise.all([_e,Ve]).then(([,Ue])=>Ue)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(fe){let ie;return ie="string"==typeof fe?ne=>ne.type===fe:ne=>fe.includes(ne.type),this.events.pipe((0,z.h)(ie))}nextEventOfType(fe){return this.eventsOfType(fe).pipe((0,oe.q)(1))}waitForOperationCompleted(fe){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,z.h)(ie=>ie.nonce===fe),(0,oe.q)(1),(0,G.U)(ie=>{if(void 0!==ie.result)return ie.result;throw new Error(ie.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ge=(()=>{class Re{constructor(ie){if(this.sw=ie,this.subscriptionChanges=new V.xQ,!ie.isEnabled)return this.messages=j.C,this.notificationClicks=j.C,void(this.subscription=j.C);this.messages=this.sw.eventsOfType("PUSH").pipe((0,G.U)(Ve=>Ve.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,G.U)(Ve=>Ve.data)),this.pushManager=this.sw.registration.pipe((0,G.U)(Ve=>Ve.pushManager));const ne=this.pushManager.pipe((0,q.w)(Ve=>Ve.getSubscription()));this.subscription=(0,H.T)(ne,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(ie){if(!this.sw.isEnabled)return Promise.reject(new Error(ot));const ne={userVisibleOnly:!0};let Ve=this.decodeBase64(ie.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),_e=new Uint8Array(new ArrayBuffer(Ve.length));for(let Ue=0;Ue<Ve.length;Ue++)_e[Ue]=Ve.charCodeAt(Ue);return ne.applicationServerKey=_e,this.pushManager.pipe((0,q.w)(Ue=>Ue.subscribe(ne)),(0,oe.q)(1)).toPromise().then(Ue=>(this.subscriptionChanges.next(Ue),Ue))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,oe.q)(1),(0,q.w)(ne=>{if(null===ne)throw new Error("Not subscribed to push notifications.");return ne.unsubscribe().then(Ve=>{if(!Ve)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ot))}decodeBase64(ie){return atob(ie)}}return Re.\u0275fac=function(ie){return new(ie||Re)(e.LFG(Ge))},Re.\u0275prov=e.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ve=(()=>{class Re{constructor(ie){if(this.sw=ie,!ie.isEnabled)return this.versionUpdates=j.C,this.available=j.C,this.activated=j.C,void(this.unrecoverable=j.C);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,z.h)(ne=>"VERSION_READY"===ne.type),(0,G.U)(ne=>({type:"UPDATE_AVAILABLE",current:ne.currentVersion,available:ne.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ot));const ie=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:ie},ie)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ot));const ie=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:ie},ie)}}return Re.\u0275fac=function(ie){return new(ie||Re)(e.LFG(Ge))},Re.\u0275prov=e.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class de{}const Ke=new e.OlP("NGSW_REGISTER_SCRIPT");function rt(Re,fe,ie,ne){return()=>{if(!(0,n.NF)(ne)||!("serviceWorker"in navigator)||!1===ie.enabled)return;let Ve;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ie.registrationStrategy)Ve=ie.registrationStrategy();else{const[Ue,...Ee]=(ie.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ue){case"registerImmediately":Ve=(0,M.of)(null);break;case"registerWithDelay":Ve=Ie(+Ee[0]||0);break;case"registerWhenStable":Ve=Ee[0]?(0,H.T)(Nt(Re),Ie(+Ee[0])):Nt(Re);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ie.registrationStrategy}`)}}Re.get(e.R0b).runOutsideAngular(()=>Ve.pipe((0,oe.q)(1)).subscribe(()=>navigator.serviceWorker.register(fe,{scope:ie.scope}).catch(Ue=>console.error("Service worker registration failed with:",Ue))))}}function Ie(Re){return(0,M.of)(null).pipe((0,Ye.g)(Re))}function Nt(Re){return Re.get(e.z2F).isStable.pipe((0,z.h)(ie=>ie))}function Fe(Re,fe){return new Ge((0,n.NF)(fe)&&!1!==Re.enabled?navigator.serviceWorker:void 0)}let ht=(()=>{class Re{static register(ie,ne={}){return{ngModule:Re,providers:[{provide:Ke,useValue:ie},{provide:de,useValue:ne},{provide:Ge,useFactory:Fe,deps:[de,e.Lbi]},{provide:e.ip1,useFactory:rt,deps:[e.zs3,Ke,de,e.Lbi],multi:!0}]}}}return Re.\u0275fac=function(ie){return new(ie||Re)},Re.\u0275mod=e.oAB({type:Re}),Re.\u0275inj=e.cJS({providers:[ge,ve]}),Re})()},7039:(ye,X,v)=>{"use strict";v.d(X,{jq:()=>wn,w9:()=>Wn,A0:()=>pe});var n=v(4650),e=v(4006),h=v(7625),P=v(7568),E=v(1059),M=v(2994),R=v(13),V=v(2198),j=v(4850),H=v(6686),z=v(2268);const ee=new class q extends z.v{flush(te){this.active=!0,this.scheduled=void 0;const{actions:O}=this;let he,Je=-1,mt=O.length;te=te||O.shift();do{if(he=te.execute(te.state,te.delay))break}while(++Je<mt&&(te=O.shift()));if(this.active=!1,he){for(;++Je<mt&&(te=O.shift());)te.unsubscribe();throw he}}}(class G extends H.o{constructor(te,O){super(te,O),this.scheduler=te,this.work=O}requestAsyncId(te,O,he=0){return null!==he&&he>0?super.requestAsyncId(te,O,he):(te.actions.push(this),te.scheduled||(te.scheduled=requestAnimationFrame(()=>te.flush(null))))}recycleAsyncId(te,O,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(te,O,he);0===te.actions.length&&(cancelAnimationFrame(O),te.scheduled=void 0)}});var oe=v(8139),De=v(8929),Ye=v(3753),ot=v(6787),ze=v(6895);const Ge=["content"],ge=["scroll"],ve=["padding"],de=function(Q){return{searchTerm:Q}};function Ke(Q,te){if(1&Q&&(n.TgZ(0,"div",6),n.GkF(1,7),n.qZA()),2&Q){const O=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",O.headerTemplate)("ngTemplateOutletContext",n.VKq(2,de,O.filterValue))}}function rt(Q,te){if(1&Q&&(n.TgZ(0,"div",8),n.GkF(1,7),n.qZA()),2&Q){const O=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",O.footerTemplate)("ngTemplateOutletContext",n.VKq(2,de,O.filterValue))}}const Ie=["*"],Nt=["searchInput"];function Fe(Q,te){if(1&Q){const O=n.EpF();n.TgZ(0,"span",15),n.NdJ("click",function(){n.CHM(O);const Je=n.oxw().$implicit,mt=n.oxw(2);return n.KtG(mt.unselect(Je))}),n._uU(1,"\xd7"),n.qZA(),n._UZ(2,"span",16)}if(2&Q){const O=n.oxw().$implicit,he=n.oxw(2);n.xp6(2),n.Q6J("ngItemLabel",O.label)("escape",he.escapeHTML)}}function ht(Q,te){}const Re=function(Q,te,O){return{item:Q,clear:te,label:O}};function fe(Q,te){if(1&Q&&(n.TgZ(0,"div",12),n.YNc(1,Fe,3,2,"ng-template",null,13,n.W1O),n.YNc(3,ht,0,0,"ng-template",14),n.qZA()),2&Q){const O=te.$implicit,he=n.MAs(2),Je=n.oxw(2);n.ekj("ng-value-disabled",O.disabled),n.xp6(3),n.Q6J("ngTemplateOutlet",Je.labelTemplate||he)("ngTemplateOutletContext",n.kEZ(4,Re,O.value,Je.clearItem,O.label))}}function ie(Q,te){if(1&Q&&(n.ynx(0),n.YNc(1,fe,4,8,"div",11),n.BQk()),2&Q){const O=n.oxw();n.xp6(1),n.Q6J("ngForOf",O.selectedItems)("ngForTrackBy",O.trackByOption)}}function ne(Q,te){}const Ve=function(Q,te){return{items:Q,clear:te}};function _e(Q,te){if(1&Q&&n.YNc(0,ne,0,0,"ng-template",14),2&Q){const O=n.oxw();n.Q6J("ngTemplateOutlet",O.multiLabelTemplate)("ngTemplateOutletContext",n.WLB(2,Ve,O.selectedValues,O.clearItem))}}function Ue(Q,te){1&Q&&n._UZ(0,"div",19)}function Ee(Q,te){}function Ot(Q,te){if(1&Q&&(n.ynx(0),n.YNc(1,Ue,1,0,"ng-template",null,17,n.W1O),n.YNc(3,Ee,0,0,"ng-template",18),n.BQk()),2&Q){const O=n.MAs(2),he=n.oxw();n.xp6(3),n.Q6J("ngTemplateOutlet",he.loadingSpinnerTemplate||O)}}function Ft(Q,te){if(1&Q&&(n.TgZ(0,"span",20)(1,"span",21),n._uU(2,"\xd7"),n.qZA()()),2&Q){const O=n.oxw();n.s9C("title",O.clearAllText)}}function Ct(Q,te){if(1&Q&&n._UZ(0,"span",27),2&Q){const O=n.oxw().$implicit,he=n.oxw(2);n.Q6J("ngItemLabel",O.label)("escape",he.escapeHTML)}}function it(Q,te){}const Zt=function(Q,te,O,he){return{item:Q,item$:te,index:O,searchTerm:he}};function wt(Q,te){if(1&Q){const O=n.EpF();n.TgZ(0,"div",25),n.NdJ("click",function(){const mt=n.CHM(O).$implicit,Kt=n.oxw(2);return n.KtG(Kt.toggleItem(mt))})("mouseover",function(){const mt=n.CHM(O).$implicit,Kt=n.oxw(2);return n.KtG(Kt.onItemHover(mt))}),n.YNc(1,Ct,1,2,"ng-template",null,26,n.W1O),n.YNc(3,it,0,0,"ng-template",14),n.qZA()}if(2&Q){const O=te.$implicit,he=n.MAs(2),Je=n.oxw(2);n.ekj("ng-option-disabled",O.disabled)("ng-option-selected",O.selected)("ng-optgroup",O.children)("ng-option",!O.children)("ng-option-child",!!O.parent)("ng-option-marked",O===Je.itemsList.markedItem),n.uIk("role",O.children?"group":"option")("aria-selected",O.selected)("id",null==O?null:O.htmlId),n.xp6(3),n.Q6J("ngTemplateOutlet",O.children?Je.optgroupTemplate||he:Je.optionTemplate||he)("ngTemplateOutletContext",n.l5B(17,Zt,O.value,O,O.index,Je.searchTerm))}}function Dt(Q,te){if(1&Q&&(n.TgZ(0,"span")(1,"span",30),n._uU(2),n.qZA(),n._uU(3),n.qZA()),2&Q){const O=n.oxw(3);n.xp6(2),n.Oqu(O.addTagText),n.xp6(1),n.hij('"',O.searchTerm,'"')}}function dt(Q,te){}function Qt(Q,te){if(1&Q){const O=n.EpF();n.TgZ(0,"div",28),n.NdJ("mouseover",function(){n.CHM(O);const Je=n.oxw(2);return n.KtG(Je.itemsList.unmarkItem())})("click",function(){n.CHM(O);const Je=n.oxw(2);return n.KtG(Je.selectTag())}),n.YNc(1,Dt,4,2,"ng-template",null,29,n.W1O),n.YNc(3,dt,0,0,"ng-template",14),n.qZA()}if(2&Q){const O=n.MAs(2),he=n.oxw(2);n.ekj("ng-option-marked",!he.itemsList.markedItem),n.xp6(3),n.Q6J("ngTemplateOutlet",he.tagTemplate||O)("ngTemplateOutletContext",n.VKq(4,de,he.searchTerm))}}function me(Q,te){if(1&Q&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&Q){const O=n.oxw(3);n.xp6(1),n.Oqu(O.notFoundText)}}function vt(Q,te){}function Ze(Q,te){if(1&Q&&(n.ynx(0),n.YNc(1,me,2,1,"ng-template",null,31,n.W1O),n.YNc(3,vt,0,0,"ng-template",14),n.BQk()),2&Q){const O=n.MAs(2),he=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",he.notFoundTemplate||O)("ngTemplateOutletContext",n.VKq(2,de,he.searchTerm))}}function $t(Q,te){if(1&Q&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&Q){const O=n.oxw(3);n.xp6(1),n.Oqu(O.typeToSearchText)}}function It(Q,te){}function cn(Q,te){if(1&Q&&(n.ynx(0),n.YNc(1,$t,2,1,"ng-template",null,33,n.W1O),n.YNc(3,It,0,0,"ng-template",18),n.BQk()),2&Q){const O=n.MAs(2),he=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",he.typeToSearchTemplate||O)}}function Ut(Q,te){if(1&Q&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&Q){const O=n.oxw(3);n.xp6(1),n.Oqu(O.loadingText)}}function pn(Q,te){}function ut(Q,te){if(1&Q&&(n.ynx(0),n.YNc(1,Ut,2,1,"ng-template",null,34,n.W1O),n.YNc(3,pn,0,0,"ng-template",14),n.BQk()),2&Q){const O=n.MAs(2),he=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",he.loadingTextTemplate||O)("ngTemplateOutletContext",n.VKq(2,de,he.searchTerm))}}function qt(Q,te){if(1&Q){const O=n.EpF();n.TgZ(0,"ng-dropdown-panel",22),n.NdJ("update",function(Je){n.CHM(O);const mt=n.oxw();return n.KtG(mt.viewPortItems=Je)})("scroll",function(Je){n.CHM(O);const mt=n.oxw();return n.KtG(mt.scroll.emit(Je))})("scrollToEnd",function(Je){n.CHM(O);const mt=n.oxw();return n.KtG(mt.scrollToEnd.emit(Je))})("outsideClick",function(){n.CHM(O);const Je=n.oxw();return n.KtG(Je.close())}),n.ynx(1),n.YNc(2,wt,4,22,"div",23),n.YNc(3,Qt,4,6,"div",24),n.BQk(),n.YNc(4,Ze,4,4,"ng-container",3),n.YNc(5,cn,4,1,"ng-container",3),n.YNc(6,ut,4,4,"ng-container",3),n.qZA()}if(2&Q){const O=n.oxw();n.ekj("ng-select-multiple",O.multiple),n.Q6J("virtualScroll",O.virtualScroll)("bufferAmount",O.bufferAmount)("appendTo",O.appendTo)("position",O.dropdownPosition)("headerTemplate",O.headerTemplate)("footerTemplate",O.footerTemplate)("filterValue",O.searchTerm)("items",O.itemsList.filteredItems)("markedItem",O.itemsList.markedItem)("ngClass",O.appendTo?O.classes:null)("id",O.dropdownId),n.xp6(2),n.Q6J("ngForOf",O.viewPortItems)("ngForTrackBy",O.trackByOption),n.xp6(1),n.Q6J("ngIf",O.showAddTag),n.xp6(1),n.Q6J("ngIf",O.showNoItemsFound()),n.xp6(1),n.Q6J("ngIf",O.showTypeToSearch()),n.xp6(1),n.Q6J("ngIf",O.loading&&0===O.itemsList.filteredItems.length)}}const Pt=/[&<>"']/g,mn=RegExp(Pt.source),En={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Te(Q){return null!=Q}function Me(Q){return"object"==typeof Q&&Te(Q)}function ft(Q){return Q instanceof Function}let nn=(()=>{class Q{constructor(O){this.element=O,this.escape=!0}ngOnChanges(O){this.element.nativeElement.innerHTML=this.escape?function Ce(Q){return Q&&mn.test(Q)?Q.replace(Pt,te=>En[te]):Q}(this.ngItemLabel):this.ngItemLabel}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.SBq))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[n.TTD]}),Q})(),zt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-option-tmp",""]]}),Q})(),hn=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-optgroup-tmp",""]]}),Q})(),Wt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-label-tmp",""]]}),Q})(),Oe=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-multi-label-tmp",""]]}),Q})(),yt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-header-tmp",""]]}),Q})(),Ae=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-footer-tmp",""]]}),Q})(),qe=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-notfound-tmp",""]]}),Q})(),Gt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-typetosearch-tmp",""]]}),Q})(),We=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-loadingtext-tmp",""]]}),Q})(),Tt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-tag-tmp",""]]}),Q})(),bt=(()=>{class Q{constructor(O){this.template=O}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Rgc))},Q.\u0275dir=n.lG2({type:Q,selectors:[["","ng-loadingspinner-tmp",""]]}),Q})();function Lt(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const un={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Vt(Q){return Q.replace(/[^\u0000-\u007E]/g,O=>un[O]||O)}class st{constructor(te,O){this._ngSelect=te,this._selectionModel=O,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let te=this.selectedItems.length-1;for(;te>=0;te--){const O=this.selectedItems[te];if(!O.disabled)return O}return null}setItems(te){this._items=te.map((O,he)=>this.mapItem(O,he)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(te){if(te.selected||this.maxItemsSelected)return;const O=this._ngSelect.multiple;O||this.clearSelected(),this._selectionModel.select(te,O,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(te)}unselect(te){!te.selected||(this._selectionModel.unselect(te,this._ngSelect.multiple),this._ngSelect.hideSelected&&Te(te.index)&&this._ngSelect.multiple&&this._showSelected(te))}findItem(te){let O;return O=this._ngSelect.compareWith?he=>this._ngSelect.compareWith(he.value,te):this._ngSelect.bindValue?he=>!he.children&&this.resolveNested(he.value,this._ngSelect.bindValue)===te:he=>he.value===te||!he.children&&he.label&&he.label===this.resolveNested(te,this._ngSelect.bindLabel),this._items.find(he=>O(he))}addItem(te){const O=this.mapItem(te,this._items.length);return this._items.push(O),this._filteredItems.push(O),O}clearSelected(te=!1){this._selectionModel.clear(te),this._items.forEach(O=>{O.selected=te&&O.selected&&O.disabled,O.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(te){return te=Vt(te).toLocaleLowerCase(),this.filteredItems.find(O=>Vt(O.label).toLocaleLowerCase().substr(0,te.length)===te)}filter(te){if(!te)return void this.resetFilteredItems();this._filteredItems=[],te=this._ngSelect.searchFn?te:Vt(te).toLocaleLowerCase();const O=this._ngSelect.searchFn||this._defaultSearchFn,he=this._ngSelect.hideSelected;for(const Je of Array.from(this._groups.keys())){const mt=[];for(const Kt of this._groups.get(Je))he&&(Kt.parent&&Kt.parent.selected||Kt.selected)||O(te,this._ngSelect.searchFn?Kt.value:Kt)&&mt.push(Kt);if(mt.length>0){const[Kt]=mt.slice(-1);if(Kt.parent){const Jt=this._items.find(Un=>Un===Kt.parent);this._filteredItems.push(Jt)}this._filteredItems.push(...mt)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(te=>!te.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(te){this._markedIndex=this._filteredItems.indexOf(te)}markSelectedOrDefault(te){if(0===this._filteredItems.length)return;const O=this._getLastMarkedIndex();this._markedIndex=O>-1?O:te?this.filteredItems.findIndex(he=>!he.disabled):-1}resolveNested(te,O){if(!Me(te))return te;if(-1===O.indexOf("."))return te[O];{const he=O.split(".");let Je=te;for(let mt=0,Kt=he.length;mt<Kt;++mt){if(null==Je)return null;Je=Je[he[mt]]}return Je}}mapItem(te,O){const he=Te(te.$ngOptionLabel)?te.$ngOptionLabel:this.resolveNested(te,this._ngSelect.bindLabel),Je=Te(te.$ngOptionValue)?te.$ngOptionValue:te;return{index:O,label:Te(he)?he.toString():"",value:Je,disabled:te.disabled,htmlId:`${this._ngSelect.dropdownId}-${O}`}}mapSelectedItems(){const te=this._ngSelect.multiple;for(const O of this.selectedItems){const he=this._ngSelect.bindValue?this.resolveNested(O.value,this._ngSelect.bindValue):O.value,Je=Te(he)?this.findItem(he):null;this._selectionModel.unselect(O,te),this._selectionModel.select(Je||O,te,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(O=>-1===this.selectedItems.indexOf(O)))}_showSelected(te){if(this._filteredItems.push(te),te.parent){const O=te.parent;this._filteredItems.find(Je=>Je===O)||this._filteredItems.push(O)}else if(te.children)for(const O of te.children)O.selected=!1,this._filteredItems.push(O);this._filteredItems=[...this._filteredItems.sort((O,he)=>O.index-he.index)]}_hideSelected(te){this._filteredItems=this._filteredItems.filter(O=>O!==te),te.parent?te.parent.children.every(he=>he.selected)&&(this._filteredItems=this._filteredItems.filter(he=>he!==te.parent)):te.children&&(this._filteredItems=this.filteredItems.filter(O=>O.parent!==te))}_defaultSearchFn(te,O){return Vt(O.label).toLocaleLowerCase().indexOf(te)>-1}_getNextItemIndex(te){return te>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(te){0===this._filteredItems.length||this._filteredItems.every(O=>O.disabled)||(this._markedIndex=this._getNextItemIndex(te),this.markedItem.disabled&&this._stepToItem(te))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const te=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&te<0?-1:Math.max(this.markedIndex,te)}_groupBy(te,O){const he=new Map;if(0===te.length)return he;if(Array.isArray(te[0].value[O])){for(const Kt of te){const Jt=(Kt.value[O]||[]).map((Un,Pn)=>this.mapItem(Un,Pn));he.set(Kt,Jt)}return he}const Je=ft(this._ngSelect.groupBy),mt=Kt=>{const Jt=Je?O(Kt.value):Kt.value[O];return Te(Jt)?Jt:void 0};for(const Kt of te){const Jt=mt(Kt),Un=he.get(Jt);Un?Un.push(Kt):he.set(Jt,[Kt])}return he}_flatten(te){const O=ft(this._ngSelect.groupBy),he=[];for(const Je of Array.from(te.keys())){let mt=he.length;if(void 0===Je){const Vn=te.get(void 0)||[];he.push(...Vn.map(Tn=>(Tn.index=mt++,Tn)));continue}const Kt=Me(Je),Jt={label:Kt?"":String(Je),children:void 0,parent:null,index:mt++,disabled:!this._ngSelect.selectableGroup,htmlId:Lt()},Un=O?this._ngSelect.bindLabel:this._ngSelect.groupBy,Pn=this._ngSelect.groupValue||(()=>Kt?Je.value:{[Un]:Je}),ur=te.get(Je).map(Vn=>(Vn.parent=Jt,Vn.children=void 0,Vn.index=mt++,Vn));Jt.children=ur,Jt.value=Pn(Je,ur.map(Vn=>Vn.value)),he.push(Jt),he.push(...ur)}return he}}var xn=(()=>{return(Q=xn||(xn={}))[Q.Tab=9]="Tab",Q[Q.Enter=13]="Enter",Q[Q.Esc=27]="Esc",Q[Q.Space=32]="Space",Q[Q.ArrowUp=38]="ArrowUp",Q[Q.ArrowDown=40]="ArrowDown",Q[Q.Backspace=8]="Backspace",xn;var Q})();let Gn=(()=>{class Q{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(O,he,Je){const mt=this._dimensions,Kt=mt.itemHeight*he,Un=Math.max(0,O)/Kt*he;let Pn=Math.min(he,Math.ceil(Un)+(mt.itemsPerViewport+1));const Vn=Math.max(0,Pn-mt.itemsPerViewport);let Tn=Math.min(Vn,Math.floor(Un)),Yn=mt.itemHeight*Math.ceil(Tn)-mt.itemHeight*Math.min(Tn,Je);return Yn=isNaN(Yn)?0:Yn,Tn=isNaN(Tn)?-1:Tn,Pn=isNaN(Pn)?-1:Pn,Tn-=Je,Tn=Math.max(0,Tn),Pn+=Je,Pn=Math.min(he,Pn),{topPadding:Yn,scrollHeight:Kt,start:Tn,end:Pn}}setDimensions(O,he){const Je=Math.max(1,Math.floor(he/O));this._dimensions={itemHeight:O,panelHeight:he,itemsPerViewport:Je}}getScrollTo(O,he,Je){const{panelHeight:mt}=this.dimensions,Kt=O+he,Un=Je+mt;return mt>=Kt&&Je===O?null:Kt>Un?Je+Kt-Un:O<=Je?O:null}}return Q.\u0275fac=function(O){return new(O||Q)},Q.\u0275prov=n.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const kn=["top","right","bottom","left"],dr=typeof requestAnimationFrame<"u"?ee:oe.E;let yn=(()=>{class Q{constructor(O,he,Je,mt,Kt){this._renderer=O,this._zone=he,this._panelService=Je,this._document=Kt,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new n.vpe,this.scroll=new n.vpe,this.scrollToEnd=new n.vpe,this.outsideClick=new n.vpe,this._destroy$=new De.xQ,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=mt.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(O){O!==this._itemsLength&&(this._itemsLength=O,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:O,panelHeight:he}=this._panelService.dimensions,Je=this.markedItem.index*O;return he>Je?0:Je}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(O){if(O.items){const he=O.items;this._onItemsChange(he.currentValue,he.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(O,he=!1){if(!O)return;const Je=this.items.indexOf(O);if(Je<0||Je>=this.itemsLength)return;let mt;if(this.virtualScroll){const Kt=this._panelService.dimensions.itemHeight;mt=this._panelService.getScrollTo(Je*Kt,Kt,this._lastScrollPosition)}else{const Kt=this._dropdown.querySelector(`#${O.htmlId}`);mt=this._panelService.getScrollTo(Kt.offsetTop,Kt.clientHeight,he?Kt.offsetTop:this._lastScrollPosition)}Te(mt)&&(this._scrollablePanel.scrollTop=mt)}scrollToTag(){const O=this._scrollablePanel;O.scrollTop=O.scrollHeight-O.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),kn.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(O){kn.forEach(Je=>{const mt=`ng-select-${Je}`;this._renderer.removeClass(this._dropdown,mt),this._renderer.removeClass(this._select,mt)});const he=`ng-select-${O}`;this._renderer.addClass(this._dropdown,he),this._renderer.addClass(this._select,he)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,Ye.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,h.R)(this._destroy$),(0,P.e)(0,dr)).subscribe(O=>{const he=O.path||O.composedPath&&O.composedPath();this._onContentScrolled(he&&0!==he.length?he[0].scrollTop:O.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,ot.T)((0,Ye.R)(this._document,"touchstart",{capture:!0}),(0,Ye.R)(this._document,"mousedown",{capture:!0})).pipe((0,h.R)(this._destroy$)).subscribe(O=>this._checkToClose(O))})}_checkToClose(O){if(this._select.contains(O.target)||this._dropdown.contains(O.target))return;const he=O.path||O.composedPath&&O.composedPath();O.target&&O.target.shadowRoot&&he&&he[0]&&this._select.contains(he[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(O,he){this.items=O||[],this._scrollToEndFired=!1,this.itemsLength=O.length,this.virtualScroll?this._updateItemsRange(he):(this._setVirtualHeight(),this._updateItems(he))}_updateItems(O){this.update.emit(this.items),!1!==O&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,O)})})}_updateItemsRange(O){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{O?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(O){this.virtualScroll&&this._renderItemsRange(O),this._lastScrollPosition=O,this._fireScrollToEnd(O)}_updateVirtualHeight(O){this._updateScrollHeight&&(this._virtualPadding.style.height=`${O}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(O=null){if(O&&this._lastScrollPosition===O)return;const he=this._panelService.calculateItems(O=O||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(he.scrollHeight),this._contentPanel.style.transform=`translateY(${he.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(he.start,he.end)),this.scroll.emit({start:he.start,end:he.end})}),Te(O)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=O,this._lastScrollPosition=O)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[O]=this.items;return this.update.emit([O]),Promise.resolve().then(()=>{const Je=this._dropdown.querySelector(`#${O.htmlId}`).clientHeight;return this._virtualPadding.style.height=Je*this.itemsLength+"px",this._panelService.setDimensions(Je,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(O){this._scrollToEndFired||0===O||O+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(O){if("auto"!==this.position)return this.position;const he=this._select.getBoundingClientRect(),Je=document.documentElement.scrollTop||document.body.scrollTop;return he.top+window.pageYOffset+he.height+O.getBoundingClientRect().height>Je+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const O=this._select.getBoundingClientRect(),he=this._parent.getBoundingClientRect();this._dropdown.style.left=O.left-he.left+"px",this._dropdown.style.width=O.width+"px",this._dropdown.style.minWidth=O.width+"px"}_updateYPosition(){const O=this._select.getBoundingClientRect(),he=this._parent.getBoundingClientRect(),Je=O.height;"top"===this._currentPosition?(this._dropdown.style.bottom=he.bottom-O.bottom+Je+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=O.top-he.top+Je+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,Ye.R)(this._dropdown,"mousedown").pipe((0,h.R)(this._destroy$)).subscribe(O=>{"INPUT"!==O.target.tagName&&O.preventDefault()})})}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(Gn),n.Y36(n.SBq),n.Y36(ze.K0,8))},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["ng-dropdown-panel"]],viewQuery:function(O,he){if(1&O&&(n.Gf(Ge,7,n.SBq),n.Gf(ge,7,n.SBq),n.Gf(ve,7,n.SBq)),2&O){let Je;n.iGM(Je=n.CRH())&&(he.contentElementRef=Je.first),n.iGM(Je=n.CRH())&&(he.scrollElementRef=Je.first),n.iGM(Je=n.CRH())&&(he.paddingElementRef=Je.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[n.TTD],ngContentSelectors:Ie,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(O,he){1&O&&(n.F$t(),n.YNc(0,Ke,2,4,"div",0),n.TgZ(1,"div",1,2),n._UZ(3,"div",null,3),n.TgZ(5,"div",null,4),n.Hsn(7),n.qZA()(),n.YNc(8,rt,2,4,"div",5)),2&O&&(n.Q6J("ngIf",he.headerTemplate),n.xp6(3),n.ekj("total-padding",he.virtualScroll),n.xp6(2),n.ekj("scrollable-content",he.virtualScroll&&he.items.length),n.xp6(3),n.Q6J("ngIf",he.footerTemplate))},dependencies:[ze.O5,ze.tP],encapsulation:2,changeDetection:0}),Q})(),wn=(()=>{class Q{constructor(O){this.elementRef=O,this.stateChange$=new De.xQ,this._disabled=!1}get disabled(){return this._disabled}set disabled(O){this._disabled=this._isDisabled(O)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(O){O.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(O){return null!=O&&"false"!=`${O}`}}return Q.\u0275fac=function(O){return new(O||Q)(n.Y36(n.SBq))},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[n.TTD],ngContentSelectors:Ie,decls:1,vars:0,template:function(O,he){1&O&&(n.F$t(),n.Hsn(0))},encapsulation:2,changeDetection:0}),Q})(),Ln=(()=>{class Q{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return Q.\u0275fac=function(O){return new(O||Q)},Q.\u0275prov=n.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),zn=(()=>{class Q{warn(O){console.warn(O)}}return Q.\u0275fac=function(O){return new(O||Q)},Q.\u0275prov=n.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const er=new n.OlP("ng-select-selection-model");let Wn=(()=>{class Q{constructor(O,he,Je,mt,Kt,Jt,Un){this.classes=O,this.autoFocus=he,this.config=Je,this._cd=Jt,this._console=Un,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=Pn=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new n.vpe,this.focusEvent=new n.vpe,this.changeEvent=new n.vpe,this.openEvent=new n.vpe,this.closeEvent=new n.vpe,this.searchEvent=new n.vpe,this.clearEvent=new n.vpe,this.addEvent=new n.vpe,this.removeEvent=new n.vpe,this.scroll=new n.vpe,this.scrollToEnd=new n.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Lt(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new De.xQ,this._keyPress$=new De.xQ,this._onChange=Pn=>{},this._onTouched=()=>{},this.clearItem=Pn=>{const ur=this.selectedItems.find(Vn=>Vn.value===Pn);this.unselect(ur)},this.trackByOption=(Pn,ur)=>this.trackByFn?this.trackByFn(ur.value):ur,this._mergeGlobalConfig(Je),this.itemsList=new st(this,mt()),this.element=Kt.nativeElement}get items(){return this._items}set items(O){null===O&&(O=[]),this._itemsAreUsed=!0,this._items=O}get compareWith(){return this._compareWith}set compareWith(O){if(null!=O&&!ft(O))throw Error("`compareWith` must be a function.");this._compareWith=O}get clearSearchOnAdd(){return Te(this._clearSearchOnAdd)?this._clearSearchOnAdd:Te(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(O){this._clearSearchOnAdd=O}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(O=>O.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(O){O.multiple&&this.itemsList.clearSelected(),O.items&&this._setItems(O.items.currentValue||[]),O.isOpen&&(this._manualOpen=Te(O.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Te(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(O){if(xn[O.which]){if(!1===this.keyDownFn(O))return;this.handleKeyCode(O)}else O.key&&1===O.key.length&&this._keyPress$.next(O.key.toLocaleLowerCase())}handleKeyCode(O){switch(O.which){case xn.ArrowDown:this._handleArrowDown(O);break;case xn.ArrowUp:this._handleArrowUp(O);break;case xn.Space:this._handleSpace(O);break;case xn.Enter:this._handleEnter(O);break;case xn.Tab:this._handleTab(O);break;case xn.Esc:this.close(),O.preventDefault();break;case xn.Backspace:this._handleBackspace()}}handleMousedown(O){const he=O.target;"INPUT"!==he.tagName&&O.preventDefault(),he.classList.contains("ng-clear-wrapper")?this.handleClearClick():he.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():he.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(O){this.itemsList.clearSelected(),this._handleWriteValue(O),this._cd.markForCheck()}registerOnChange(O){this._onChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this._disabled=O,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(O){!O||O.disabled||this.disabled||(this.multiple&&O.selected?this.unselect(O):this.select(O),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(O){O.selected||(this.itemsList.select(O),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(O.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(O){!O||(this.itemsList.unselect(O),this.focus(),this._updateNgModel(),this.removeEvent.emit(O))}selectTag(){let O;O=ft(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const he=Je=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(Je,null):this.itemsList.addItem(Je);!function pt(Q){return Q instanceof Promise}(O)?O&&this.select(he(O)):O.then(Je=>this.select(he(Je))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const O=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(he=>he.label.toLowerCase()===O)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(he=>he.label.toLowerCase()===O))&&!this.loading}showNoItemsFound(){const O=0===this.itemsList.filteredItems.length;return(O&&!this._isTypeahead&&!this.loading||O&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(O){this._isComposing=!1,!this.searchWhileComposing&&this.filter(O)}filter(O){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=O,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(O),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:O,items:this.itemsList.filteredItems.map(he=>he.value)}),this.open())}onInputFocus(O){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(O),this.focused=!0)}onInputBlur(O){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(O),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(O){O.disabled||this.itemsList.markItem(O)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const O=this.selectedItems&&this.selectedItems[0];this.searchTerm=O&&O.label||null}_setItems(O){const he=O[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Te(he)?!Me(he):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(O),O.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Te(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const O=Je=>{this.items=Je.map(mt=>({$ngOptionValue:mt.value,$ngOptionLabel:mt.elementRef.nativeElement.innerHTML,disabled:mt.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},he=()=>{const Je=(0,ot.T)(this.ngOptions.changes,this._destroy$);(0,ot.T)(...this.ngOptions.map(mt=>mt.stateChange$)).pipe((0,h.R)(Je)).subscribe(mt=>{const Kt=this.itemsList.findItem(mt.value);Kt.disabled=mt.disabled,Kt.label=mt.label||Kt.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,E.O)(this.ngOptions),(0,h.R)(this._destroy$)).subscribe(Je=>{this.bindLabel=this._defaultLabel,O(Je),he()})}_isValidWriteValue(O){if(!Te(O)||this.multiple&&""===O||Array.isArray(O)&&0===O.length)return!1;const he=Je=>!(!Te(this.compareWith)&&Me(Je)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(Je)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(O)?O.every(Je=>he(Je)):(this._console.warn("Multiple select ngModel should be array."),!1):he(O)}_handleWriteValue(O){if(!this._isValidWriteValue(O))return;const he=Je=>{let mt=this.itemsList.findItem(Je);if(mt)this.itemsList.select(mt);else{const Kt=Me(Je),Jt=!Kt&&!this.bindValue;Kt||Jt?this.itemsList.select(this.itemsList.mapItem(Je,null)):this.bindValue&&(mt={[this.bindLabel]:null,[this.bindValue]:Je},this.itemsList.select(this.itemsList.mapItem(mt,null)))}};this.multiple?O.forEach(Je=>he(Je)):he(O)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,h.R)(this._destroy$),(0,M.b)(O=>this._pressedKeys.push(O)),(0,R.b)(200),(0,V.h)(()=>this._pressedKeys.length>0),(0,j.U)(()=>this._pressedKeys.join(""))).subscribe(O=>{const he=this.itemsList.findByLabel(O);he&&(this.isOpen?(this.itemsList.markItem(he),this._scrollToMarked(),this._cd.markForCheck()):this.select(he)),this._pressedKeys=[]})}_setInputAttributes(){const O=this.searchInput.nativeElement,he={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const Je of Object.keys(he))O.setAttribute(Je,he[Je])}_updateNgModel(){const O=[];for(const Je of this.selectedItems)if(this.bindValue){let mt=null;mt=Je.children?Je.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(Je.value,this.bindValue),O.push(mt)}else O.push(Je.value);const he=this.selectedItems.map(Je=>Je.value);this.multiple?(this._onChange(O),this.changeEvent.emit(he)):(this._onChange(Te(O[0])?O[0]:null),this.changeEvent.emit(he[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(O){this.searchTerm=O,this._isTypeahead&&this.typeahead.next(O)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(O){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),O.preventDefault()):this.showAddTag?(this.selectTag(),O.preventDefault()):this.close():this.close())}_handleEnter(O){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}O.preventDefault()}_handleSpace(O){this.isOpen||this._manualOpen||(this.open(),O.preventDefault())}_handleArrowDown(O){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),O.preventDefault()}_handleArrowUp(O){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),O.preventDefault())}_nextItemIsTag(O){const he=this.itemsList.markedIndex+O;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(he<0||he===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const O=this.searchTerm&&this.searchTerm.trim();return O&&O.length>=this.minTermLength}_mergeGlobalConfig(O){this.placeholder=this.placeholder||O.placeholder,this.notFoundText=this.notFoundText||O.notFoundText,this.typeToSearchText=this.typeToSearchText||O.typeToSearchText,this.addTagText=this.addTagText||O.addTagText,this.loadingText=this.loadingText||O.loadingText,this.clearAllText=this.clearAllText||O.clearAllText,this.virtualScroll=Te(this.virtualScroll)?this.virtualScroll:!!Te(O.disableVirtualScroll)&&!O.disableVirtualScroll,this.openOnEnter=Te(this.openOnEnter)?this.openOnEnter:O.openOnEnter,this.appendTo=this.appendTo||O.appendTo,this.bindValue=this.bindValue||O.bindValue,this.bindLabel=this.bindLabel||O.bindLabel,this.appearance=this.appearance||O.appearance}}return Q.\u0275fac=function(O){return new(O||Q)(n.$8M("class"),n.$8M("autofocus"),n.Y36(Ln),n.Y36(er),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(zn))},Q.\u0275cmp=n.Xpm({type:Q,selectors:[["ng-select"]],contentQueries:function(O,he,Je){if(1&O&&(n.Suo(Je,zt,5,n.Rgc),n.Suo(Je,hn,5,n.Rgc),n.Suo(Je,Wt,5,n.Rgc),n.Suo(Je,Oe,5,n.Rgc),n.Suo(Je,yt,5,n.Rgc),n.Suo(Je,Ae,5,n.Rgc),n.Suo(Je,qe,5,n.Rgc),n.Suo(Je,Gt,5,n.Rgc),n.Suo(Je,We,5,n.Rgc),n.Suo(Je,Tt,5,n.Rgc),n.Suo(Je,bt,5,n.Rgc),n.Suo(Je,wn,5)),2&O){let mt;n.iGM(mt=n.CRH())&&(he.optionTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.optgroupTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.labelTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.multiLabelTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.headerTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.footerTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.notFoundTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.typeToSearchTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.loadingTextTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.tagTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.loadingSpinnerTemplate=mt.first),n.iGM(mt=n.CRH())&&(he.ngOptions=mt)}},viewQuery:function(O,he){if(1&O&&(n.Gf(yn,5),n.Gf(Nt,7)),2&O){let Je;n.iGM(Je=n.CRH())&&(he.dropdownPanel=Je.first),n.iGM(Je=n.CRH())&&(he.searchInput=Je.first)}},hostVars:20,hostBindings:function(O,he){1&O&&n.NdJ("keydown",function(mt){return he.handleKeyDown(mt)}),2&O&&n.ekj("ng-select-typeahead",he.typeahead)("ng-select-multiple",he.multiple)("ng-select-taggable",he.addTag)("ng-select-searchable",he.searchable)("ng-select-clearable",he.clearable)("ng-select-opened",he.isOpen)("ng-select",he.useDefaultClass)("ng-select-disabled",he.disabled)("ng-select-filtered",he.filtered)("ng-select-single",he.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[n._Bn([{provide:e.JU,useExisting:(0,n.Gpc)(()=>Q),multi:!0},Gn]),n.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(O,he){if(1&O){const Je=n.EpF();n.TgZ(0,"div",0),n.NdJ("mousedown",function(Kt){return he.handleMousedown(Kt)}),n.TgZ(1,"div",1)(2,"div",2),n._uU(3),n.qZA(),n.YNc(4,ie,2,2,"ng-container",3),n.YNc(5,_e,1,5,null,3),n.TgZ(6,"div",4)(7,"input",5,6),n.NdJ("input",function(){n.CHM(Je);const Kt=n.MAs(8);return n.KtG(he.filter(Kt.value))})("compositionstart",function(){return he.onCompositionStart()})("compositionend",function(){n.CHM(Je);const Kt=n.MAs(8);return n.KtG(he.onCompositionEnd(Kt.value))})("focus",function(Kt){return he.onInputFocus(Kt)})("blur",function(Kt){return he.onInputBlur(Kt)})("change",function(Kt){return Kt.stopPropagation()}),n.qZA()()(),n.YNc(9,Ot,4,1,"ng-container",3),n.YNc(10,Ft,3,1,"span",7),n.TgZ(11,"span",8),n._UZ(12,"span",9),n.qZA()(),n.YNc(13,qt,7,19,"ng-dropdown-panel",10)}2&O&&(n.ekj("ng-appearance-outline","outline"===he.appearance)("ng-has-value",he.hasValue),n.xp6(3),n.Oqu(he.placeholder),n.xp6(1),n.Q6J("ngIf",(!he.multiLabelTemplate||!he.multiple)&&he.selectedItems.length>0),n.xp6(1),n.Q6J("ngIf",he.multiple&&he.multiLabelTemplate&&he.selectedValues.length>0),n.xp6(1),n.uIk("aria-expanded",he.isOpen)("aria-owns",he.isOpen?he.dropdownId:null),n.xp6(1),n.Q6J("readOnly",!he.searchable||he.itemsList.maxItemsSelected)("disabled",he.disabled)("value",he.searchTerm?he.searchTerm:""),n.uIk("id",he.labelForId)("tabindex",he.tabIndex)("aria-activedescendant",he.isOpen?null==he.itemsList||null==he.itemsList.markedItem?null:he.itemsList.markedItem.htmlId:null)("aria-controls",he.isOpen?he.dropdownId:null),n.xp6(2),n.Q6J("ngIf",he.loading),n.xp6(1),n.Q6J("ngIf",he.showClear()),n.xp6(3),n.Q6J("ngIf",he.isOpen))},dependencies:[ze.mk,ze.sg,ze.O5,ze.tP,yn,nn],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),Q})();function Le(){return new ke}class ke{constructor(){this._selected=[]}get value(){return this._selected}select(te,O,he){if(te.selected=!0,(!te.children||!O&&he)&&this._selected.push(te),O)if(te.parent){const Je=te.parent.children.length,mt=te.parent.children.filter(Kt=>Kt.selected).length;te.parent.selected=Je===mt}else te.children&&(this._setChildrenSelectedState(te.children,!0),this._removeChildren(te),this._selected=he&&this._activeChildren(te)?[...this._selected.filter(Je=>Je.parent!==te),te]:[...this._selected,...te.children.filter(Je=>!Je.disabled)])}unselect(te,O){if(this._selected=this._selected.filter(he=>he!==te),te.selected=!1,O)if(te.parent&&te.parent.selected){const he=te.parent.children;this._removeParent(te.parent),this._removeChildren(te.parent),this._selected.push(...he.filter(Je=>Je!==te&&!Je.disabled)),te.parent.selected=!1}else te.children&&(this._setChildrenSelectedState(te.children,!1),this._removeChildren(te))}clear(te){this._selected=te?this._selected.filter(O=>O.disabled):[]}_setChildrenSelectedState(te,O){for(const he of te)he.disabled||(he.selected=O)}_removeChildren(te){this._selected=[...this._selected.filter(O=>O.parent!==te),...te.children.filter(O=>O.parent===te&&O.disabled&&O.selected)]}_removeParent(te){this._selected=this._selected.filter(O=>O!==te)}_activeChildren(te){return te.children.every(O=>!O.disabled||O.selected)}}let pe=(()=>{class Q{}return Q.\u0275fac=function(O){return new(O||Q)},Q.\u0275mod=n.oAB({type:Q}),Q.\u0275inj=n.cJS({providers:[{provide:er,useValue:Le}],imports:[ze.ez]}),Q})()},5024:(ye,X,v)=>{"use strict";v.d(X,{eX:()=>Ft,Qm:()=>ht,sQ:()=>hn,GW:()=>rt,l4:()=>Ct});var n=v(8555),e=v(6787),h=v(6498),P=v(8929),E=v(3489);class R{call(Tt,bt){return bt.subscribe(new V(Tt))}}class V extends E.L{_next(Tt){}}var j=v(9312);class G{call(Tt,bt){return bt.subscribe(new z(Tt))}}class z extends E.L{constructor(Tt){super(Tt)}_next(Tt){this.destination.next(j.P.createNext(Tt))}_error(Tt){const bt=this.destination;bt.next(j.P.createError(Tt)),bt.complete()}_complete(){const Tt=this.destination;Tt.next(j.P.createComplete()),Tt.complete()}}var q=v(4850),ee=v(7221),ue=v(2198),oe=v(4002),De=v(1709),Ye=v(8807);class ze{call(Tt,bt){return bt.subscribe(new Ge(Tt))}}class Ge extends E.L{constructor(Tt){super(Tt)}_next(Tt){Tt.observe(this.destination)}}var ge=v(2986),ve=v(4650);const de={dispatch:!0,useEffectsErrorHandler:!0},Ke="__@ngrx/effects_create__";function rt(We,Tt){const bt=We(),Lt={...de,...Tt};return Object.defineProperty(bt,Ke,{value:Lt}),bt}function Ie(We){return Object.getOwnPropertyNames(We).filter(Lt=>!(!We[Lt]||!We[Lt].hasOwnProperty(Ke))&&We[Lt][Ke].hasOwnProperty("dispatch")).map(Lt=>({propertyName:Lt,...We[Lt][Ke]}))}function Nt(We){return Object.getPrototypeOf(We)}const Fe="__@ngrx/effects__";function ht(We={}){return function(Tt,bt){!function ie(We,Tt){fe(We)?We.constructor[Fe].push(Tt):Object.defineProperty(We.constructor,Fe,{value:[Tt]})}(Tt,{...de,...We,propertyName:bt})}}function Re(We){return(0,n.qC)(ne,Nt)(We)}function fe(We){return We.constructor.hasOwnProperty(Fe)}function ne(We){return fe(We)?We.constructor[Fe]:[]}function Ue(We,Tt,bt){const Lt=Nt(We).constructor.name,un=function _e(We){return[Re,Ie].reduce((bt,Lt)=>bt.concat(Lt(We)),[])}(We).map(({propertyName:Vt,dispatch:st,useEffectsErrorHandler:xn})=>{const Gn="function"==typeof We[Vt]?We[Vt]():We[Vt],kn=xn?bt(Gn,Tt):Gn;return!1===st?kn.pipe(function M(){return function(Tt){return Tt.lift(new R)}}()):kn.pipe(function H(){return function(Tt){return Tt.lift(new G)}}()).pipe((0,q.U)(yn=>({effect:We[Vt],notification:yn,propertyName:Vt,sourceName:Lt,sourceInstance:We})))});return(0,e.T)(...un)}function Ot(We,Tt,bt=10){return We.pipe((0,ee.K)(Lt=>(Tt&&Tt.handleError(Lt),bt<=1?We:Ot(We,Tt,bt-1))))}let Ft=(()=>{class We extends h.y{constructor(bt){super(),bt&&(this.source=bt)}lift(bt){const Lt=new We;return Lt.source=this,Lt.operator=bt,Lt}}return We.\u0275fac=function(bt){return new(bt||We)(ve.LFG(n.Y$))},We.\u0275prov=ve.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Ct(...We){return(0,ue.h)(Tt=>We.some(bt=>"string"==typeof bt?bt===Tt.type:bt.type===Tt.type))}const it=new ve.OlP("@ngrx/effects Internal Root Guard"),Zt=new ve.OlP("@ngrx/effects User Provided Effects"),wt=new ve.OlP("@ngrx/effects Internal Root Effects"),Dt=new ve.OlP("@ngrx/effects Root Effects"),dt=new ve.OlP("@ngrx/effects Internal Feature Effects"),Qt=new ve.OlP("@ngrx/effects Feature Effects"),me=new ve.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ot}),vt="@ngrx/effects/init";function En(We){return Ce(We,"ngrxOnInitEffects")}function Ce(We,Tt){return We&&Tt in We&&"function"==typeof We[Tt]}(0,n.PH)(vt);let Te=(()=>{class We extends P.xQ{constructor(bt,Lt){super(),this.errorHandler=bt,this.effectsErrorHandler=Lt}addEffects(bt){this.next(bt)}toActions(){return this.pipe((0,oe.v)(Nt),(0,De.zg)(bt=>bt.pipe((0,oe.v)(Me))),(0,De.zg)(bt=>{const Lt=bt.pipe((0,Ye.z)(Vt=>function pt(We,Tt){return bt=>{const Lt=Ue(bt,We,Tt);return function Pt(We){return Ce(We,"ngrxOnRunEffects")}(bt)?bt.ngrxOnRunEffects(Lt):Lt}}(this.errorHandler,this.effectsErrorHandler)(Vt)),(0,q.U)(Vt=>(function $t(We,Tt){if("N"===We.notification.kind){const bt=We.notification.value;!function It(We){return"function"!=typeof We&&We&&We.type&&"string"==typeof We.type}(bt)&&Tt.handleError(new Error(`Effect ${function cn({propertyName:We,sourceInstance:Tt,sourceName:bt}){const Lt="function"==typeof Tt[We];return`"${bt}.${String(We)}${Lt?"()":""}"`}(We)} dispatched an invalid action: ${function Ut(We){try{return JSON.stringify(We)}catch{return We}}(bt)}`))}}(Vt,this.errorHandler),Vt.notification)),(0,ue.h)(Vt=>"N"===Vt.kind&&null!=Vt.value),function ot(){return function(Tt){return Tt.lift(new ze)}}()),un=bt.pipe((0,ge.q)(1),(0,ue.h)(En),(0,q.U)(Vt=>Vt.ngrxOnInitEffects()));return(0,e.T)(Lt,un)}))}}return We.\u0275fac=function(bt){return new(bt||We)(ve.LFG(ve.qLn),ve.LFG(me))},We.\u0275prov=ve.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Me(We){return function ut(We){return Ce(We,"ngrxOnIdentifyEffects")}(We)?We.ngrxOnIdentifyEffects():""}let ft=(()=>{class We{constructor(bt,Lt){this.effectSources=bt,this.store=Lt,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return We.\u0275fac=function(bt){return new(bt||We)(ve.LFG(Te),ve.LFG(n.yh))},We.\u0275prov=ve.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),nn=(()=>{class We{constructor(bt,Lt,un,Vt,st,xn,Gn){this.sources=bt,Lt.start(),Vt.forEach(kn=>bt.addEffects(kn)),un.dispatch({type:vt})}addEffects(bt){this.sources.addEffects(bt)}}return We.\u0275fac=function(bt){return new(bt||We)(ve.LFG(Te),ve.LFG(ft),ve.LFG(n.yh),ve.LFG(Dt),ve.LFG(n.cr,8),ve.LFG(n.CK,8),ve.LFG(it,8))},We.\u0275mod=ve.oAB({type:We}),We.\u0275inj=ve.cJS({}),We})(),zt=(()=>{class We{constructor(bt,Lt,un,Vt){Lt.forEach(st=>st.forEach(xn=>bt.addEffects(xn)))}}return We.\u0275fac=function(bt){return new(bt||We)(ve.LFG(nn),ve.LFG(Qt),ve.LFG(n.cr,8),ve.LFG(n.CK,8))},We.\u0275mod=ve.oAB({type:We}),We.\u0275inj=ve.cJS({}),We})(),hn=(()=>{class We{static forFeature(bt=[]){return{ngModule:zt,providers:[bt,{provide:dt,multi:!0,useValue:bt},{provide:Zt,multi:!0,useValue:[]},{provide:Qt,multi:!0,useFactory:Wt,deps:[ve.zs3,dt,Zt]}]}}static forRoot(bt=[]){return{ngModule:nn,providers:[bt,{provide:wt,useValue:[bt]},{provide:it,useFactory:yt,deps:[[ft,new ve.FiY,new ve.tp0],[wt,new ve.PiD]]},{provide:Zt,multi:!0,useValue:[]},{provide:Dt,useFactory:Wt,deps:[ve.zs3,wt,Zt]}]}}}return We.\u0275fac=function(bt){return new(bt||We)},We.\u0275mod=ve.oAB({type:We}),We.\u0275inj=ve.cJS({}),We})();function Wt(We,Tt,bt){const Lt=[];for(const un of Tt)Lt.push(...un);for(const un of bt)Lt.push(...un);return function Oe(We,Tt){return Tt.map(bt=>We.get(bt))}(We,Lt)}function yt(We,Tt){if((1!==Tt.length||0!==Tt[0].length)&&We)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},6943:(ye,X,v)=>{"use strict";v.d(X,{CE:()=>q,GC:()=>ve,Qi:()=>Fe,eU:()=>G,fb:()=>j,tE:()=>R});var n=v(8555),e=v(4650),h=v(610),P=v(7168);const E="@ngrx/router-store/request",R=((0,n.PH)(E,(0,n.Ky)()),"@ngrx/router-store/navigation"),j=((0,n.PH)(R,(0,n.Ky)()),"@ngrx/router-store/cancel"),G=((0,n.PH)(j,(0,n.Ky)()),"@ngrx/router-store/error"),q=((0,n.PH)(G,(0,n.Ky)()),"@ngrx/router-store/navigated");(0,n.PH)(q,(0,n.Ky)());class oe{serialize(ie){return{root:this.serializeRoute(ie.root),url:ie.url}}serializeRoute(ie){const ne=ie.children.map(Ve=>this.serializeRoute(Ve));return{params:ie.params,data:ie.data,url:ie.url,outlet:ie.outlet,routeConfig:ie.routeConfig?{path:ie.routeConfig.path,pathMatch:ie.routeConfig.pathMatch,redirectTo:ie.routeConfig.redirectTo,outlet:ie.routeConfig.outlet,title:"string"==typeof ie.routeConfig.title?ie.routeConfig.title:void 0}:null,queryParams:ie.queryParams,fragment:ie.fragment,firstChild:ne[0],children:ne}}}var De=(()=>{return(fe=De||(De={}))[fe.PreActivation=1]="PreActivation",fe[fe.PostActivation=2]="PostActivation",De;var fe})();const ot=new e.OlP("@ngrx/router-store Internal Configuration"),ze=new e.OlP("@ngrx/router-store Configuration");function Ge(fe){return{stateKey:"router",serializer:oe,navigationActionTiming:De.PreActivation,...fe}}class ge{serialize(ie){return{root:this.serializeRoute(ie.root),url:ie.url}}serializeRoute(ie){const ne=ie.children.map(Ve=>this.serializeRoute(Ve));return{params:ie.params,paramMap:ie.paramMap,data:ie.data,url:ie.url,outlet:ie.outlet,routeConfig:ie.routeConfig?{component:ie.routeConfig.component,path:ie.routeConfig.path,pathMatch:ie.routeConfig.pathMatch,redirectTo:ie.routeConfig.redirectTo,outlet:ie.routeConfig.outlet,title:ie.routeConfig.title}:null,queryParams:ie.queryParams,queryParamMap:ie.queryParamMap,fragment:ie.fragment,component:ie.routeConfig?ie.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:ne[0],pathFromRoot:void 0,children:ne}}}class ve{}var de=(()=>{return(fe=de||(de={}))[fe.NONE=1]="NONE",fe[fe.ROUTER=2]="ROUTER",fe[fe.STORE=3]="STORE",de;var fe})();let Ke=(()=>{class fe{constructor(ne,Ve,_e,Ue,Ee,Ot){this.store=ne,this.router=Ve,this.serializer=_e,this.errorHandler=Ue,this.config=Ee,this.activeRuntimeChecks=Ot,this.lastEvent=null,this.routerState=null,this.trigger=de.NONE,this.stateKey=this.config.stateKey,!(0,n.rM)()&&(0,e.X6Q)()&&(Ot?.strictActionSerializability||Ot?.strictStateSerializability)&&this.serializer instanceof ge&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,n.Ys)(this.stateKey),(0,P.M)(this.store)).subscribe(([ne,Ve])=>{this.navigateIfNeeded(ne,Ve)})}navigateIfNeeded(ne,Ve){if(!ne||!ne.state||this.trigger===de.ROUTER||this.lastEvent instanceof h.OD)return;const _e=ne.state.url;(function rt(fe,ie){return Ie(fe)===Ie(ie)})(this.router.url,_e)||(this.storeState=Ve,this.trigger=de.STORE,this.router.navigateByUrl(_e).catch(Ue=>{this.errorHandler.handleError(Ue)}))}setUpRouterEventsListener(){const ne=this.config.navigationActionTiming===De.PostActivation;let Ve;this.router.events.pipe((0,P.M)(this.store)).subscribe(([_e,Ue])=>{this.lastEvent=_e,_e instanceof h.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==de.STORE&&(this.storeState=Ue,this.dispatchRouterRequest(_e))):_e instanceof h.R9?(Ve=_e,!ne&&this.trigger!==de.STORE&&this.dispatchRouterNavigation(_e)):_e instanceof h.gk?(this.dispatchRouterCancel(_e),this.reset()):_e instanceof h.Q3?(this.dispatchRouterError(_e),this.reset()):_e instanceof h.m2&&(this.trigger!==de.STORE&&(ne&&this.dispatchRouterNavigation(Ve),this.dispatchRouterNavigated(_e)),this.reset())})}dispatchRouterRequest(ne){this.dispatchRouterAction(E,{event:ne})}dispatchRouterNavigation(ne){const Ve=this.serializer.serialize(ne.state);this.dispatchRouterAction(R,{routerState:Ve,event:new h.R9(ne.id,ne.url,ne.urlAfterRedirects,Ve)})}dispatchRouterCancel(ne){this.dispatchRouterAction(j,{storeState:this.storeState,event:ne})}dispatchRouterError(ne){this.dispatchRouterAction(G,{storeState:this.storeState,event:new h.Q3(ne.id,ne.url,`${ne}`)})}dispatchRouterNavigated(ne){const Ve=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(q,{event:ne,routerState:Ve})}dispatchRouterAction(ne,Ve){this.trigger=de.ROUTER;try{this.store.dispatch({type:ne,payload:{routerState:this.routerState,...Ve,event:0===this.config.routerState?Ve.event:{id:Ve.event.id,url:Ve.event.url,urlAfterRedirects:Ve.event.urlAfterRedirects}}})}finally{this.trigger=de.NONE}}reset(){this.trigger=de.NONE,this.storeState=null,this.routerState=null}}return fe.\u0275fac=function(ne){return new(ne||fe)(e.LFG(n.yh),e.LFG(h.F0),e.LFG(ve),e.LFG(e.qLn),e.LFG(ze),e.LFG(n.hg))},fe.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Ie(fe){return fe?.length>0&&"/"===fe[fe.length-1]?fe.substring(0,fe.length-1):fe}function Nt(fe={}){return{\u0275providers:[{provide:ot,useValue:fe},{provide:ze,useFactory:Ge,deps:[ot]},{provide:ve,useClass:fe.serializer?fe.serializer:0===fe.routerState?ge:oe},{provide:e.Xts,multi:!0,useFactory:()=>()=>(0,e.f3M)(Ke)},Ke]}}let Fe=(()=>{class fe{static forRoot(ne={}){return{ngModule:fe,providers:[...Nt(ne).\u0275providers]}}}return fe.\u0275fac=function(ne){return new(ne||fe)},fe.\u0275mod=e.oAB({type:fe}),fe.\u0275inj=e.cJS({}),fe})()},8555:(ye,X,v)=>{"use strict";v.d(X,{Aw:()=>Xr,CK:()=>wr,Ky:()=>ue,P1:()=>Ln,PH:()=>ee,UO:()=>de,UY:()=>vt,Y$:()=>mn,Ys:()=>zt,ZF:()=>Wn,cr:()=>or,hg:()=>Dt,qC:()=>$t,qg:()=>ve,rM:()=>Gn,sr:()=>Ct,yh:()=>ft});var n=v(4650),e=v(591),h=v(6498),P=v(8929),E=v(341),M=v(7770),R=v(7168),V=v(2014),j=v(373),H=v(4850),G=v(5778);const z={};function ee(Be,_t){if(z[Be]=(z[Be]||0)+1,"function"==typeof _t)return De(Be,(...xe)=>({..._t(...xe),type:Be}));switch(_t?_t._as:"empty"){case"empty":return De(Be,()=>({type:Be}));case"props":return De(Be,xe=>({...xe,type:Be}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function De(Be,_t){return Object.defineProperty(_t,"type",{value:Be,writable:!1})}const ve="@ngrx/store/init";let de=(()=>{class Be extends e.X{constructor(){super({type:ve})}next(N){if("function"==typeof N)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof N>"u")throw new TypeError("Actions must be objects");if(typeof N.type>"u")throw new TypeError("Actions must have a type property");super.next(N)}complete(){}ngOnDestroy(){super.complete()}}return Be.\u0275fac=function(N){return new(N||Be)},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Ke=[de],rt=new n.OlP("@ngrx/store Internal Root Guard"),Ie=new n.OlP("@ngrx/store Internal Initial State"),Nt=new n.OlP("@ngrx/store Initial State"),Fe=new n.OlP("@ngrx/store Reducer Factory"),ht=new n.OlP("@ngrx/store Internal Reducer Factory Provider"),Re=new n.OlP("@ngrx/store Initial Reducers"),fe=new n.OlP("@ngrx/store Internal Initial Reducers"),ie=new n.OlP("@ngrx/store Store Features"),ne=new n.OlP("@ngrx/store Internal Store Reducers"),Ve=new n.OlP("@ngrx/store Internal Feature Reducers"),_e=new n.OlP("@ngrx/store Internal Feature Configs"),Ue=new n.OlP("@ngrx/store Internal Store Features"),Ee=new n.OlP("@ngrx/store Internal Feature Reducers Token"),Ot=new n.OlP("@ngrx/store Feature Reducers"),Ft=new n.OlP("@ngrx/store User Provided Meta Reducers"),Ct=new n.OlP("@ngrx/store Meta Reducers"),it=new n.OlP("@ngrx/store Internal Resolved Meta Reducers"),Zt=new n.OlP("@ngrx/store User Runtime Checks Config"),wt=new n.OlP("@ngrx/store Internal User Runtime Checks Config"),Dt=new n.OlP("@ngrx/store Internal Runtime Checks"),dt=new n.OlP("@ngrx/store Check if Action types are unique");function vt(Be,_t={}){const N=Object.keys(Be),xe={};for(let J=0;J<N.length;J++){const He=N[J];"function"==typeof Be[He]&&(xe[He]=Be[He])}const x=Object.keys(xe);return function(He,Rt){He=void 0===He?_t:He;let rn=!1;const gn={};for(let ln=0;ln<x.length;ln++){const Jn=x[ln],hr=He[Jn],eo=(0,xe[Jn])(hr,Rt);gn[Jn]=eo,rn=rn||eo!==hr}return rn?gn:He}}function $t(...Be){return function(_t){if(0===Be.length)return _t;const N=Be[Be.length-1];return Be.slice(0,-1).reduceRight((x,J)=>J(x),N(_t))}}function It(Be,_t){return Array.isArray(_t)&&_t.length>0&&(Be=$t.apply(null,[..._t,Be])),(N,xe)=>{const x=Be(N);return(J,He)=>x(J=void 0===J?xe:J,He)}}new n.OlP("@ngrx/store Root Store Provider"),new n.OlP("@ngrx/store Feature State Provider");class Ut extends h.y{}class pn extends de{}let qt=(()=>{class Be extends e.X{constructor(N,xe,x,J){super(J(x,xe)),this.dispatcher=N,this.initialState=xe,this.reducers=x,this.reducerFactory=J}get currentReducers(){return this.reducers}addFeature(N){this.addFeatures([N])}addFeatures(N){const xe=N.reduce((x,{reducers:J,reducerFactory:He,metaReducers:Rt,initialState:rn,key:gn})=>{const ln="function"==typeof J?function cn(Be){const _t=Array.isArray(Be)&&Be.length>0?$t(...Be):N=>N;return(N,xe)=>(N=_t(N),(x,J)=>N(x=void 0===x?xe:x,J))}(Rt)(J,rn):It(He,Rt)(J,rn);return x[gn]=ln,x},{});this.addReducers(xe)}removeFeature(N){this.removeFeatures([N])}removeFeatures(N){this.removeReducers(N.map(xe=>xe.key))}addReducer(N,xe){this.addReducers({[N]:xe})}addReducers(N){this.reducers={...this.reducers,...N},this.updateReducers(Object.keys(N))}removeReducer(N){this.removeReducers([N])}removeReducers(N){N.forEach(xe=>{this.reducers=function Ze(Be,_t){return Object.keys(Be).filter(N=>N!==_t).reduce((N,xe)=>Object.assign(N,{[xe]:Be[xe]}),{})}(this.reducers,xe)}),this.updateReducers(N)}updateReducers(N){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:N})}ngOnDestroy(){this.complete()}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(pn),n.LFG(Nt),n.LFG(Re),n.LFG(Fe))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Pt=[qt,{provide:Ut,useExisting:qt},{provide:pn,useExisting:de}];let mn=(()=>{class Be extends P.xQ{ngOnDestroy(){this.complete()}}return Be.\u0275fac=function(){let _t;return function(xe){return(_t||(_t=n.n5z(Be)))(xe||Be)}}(),Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const En=[mn];class Ce extends h.y{}let Te=(()=>{class Be extends e.X{constructor(N,xe,x,J){super(J);const gn=N.pipe((0,M.QV)(E.N)).pipe((0,R.M)(xe)).pipe((0,V.R)(Me,{state:J}));this.stateSubscription=gn.subscribe(({state:ln,action:Jn})=>{this.next(ln),x.next(Jn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Be.INIT=ve,Be.\u0275fac=function(N){return new(N||Be)(n.LFG(de),n.LFG(Ut),n.LFG(mn),n.LFG(Nt))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();function Me(Be={state:void 0},[_t,N]){const{state:xe}=Be;return{state:N(xe,_t),action:_t}}const pt=[Te,{provide:Ce,useExisting:Te}];let ft=(()=>{class Be extends h.y{constructor(N,xe,x){super(),this.actionsObserver=xe,this.reducerManager=x,this.source=N}select(N,...xe){return zt.call(null,N,...xe)(this)}lift(N){const xe=new Be(this,this.actionsObserver,this.reducerManager);return xe.operator=N,xe}dispatch(N){this.actionsObserver.next(N)}next(N){this.actionsObserver.next(N)}error(N){this.actionsObserver.error(N)}complete(){this.actionsObserver.complete()}addReducer(N,xe){this.reducerManager.addReducer(N,xe)}removeReducer(N){this.reducerManager.removeReducer(N)}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(Ce),n.LFG(de),n.LFG(qt))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const nn=[ft];function zt(Be,_t,...N){return function(x){let J;if("string"==typeof Be){const He=[_t,...N].filter(Boolean);J=x.pipe((0,j.j)(Be,...He))}else{if("function"!=typeof Be)throw new TypeError(`Unexpected type '${typeof Be}' in select operator, expected 'string' or 'function'`);J=x.pipe((0,H.U)(He=>Be(He,_t)))}return J.pipe((0,G.x)())}}const hn="https://ngrx.io/guide/store/configuration/runtime-checks";function Wt(Be){return void 0===Be}function Oe(Be){return null===Be}function yt(Be){return Array.isArray(Be)}function We(Be){return"object"==typeof Be&&null!==Be}function Lt(Be){return"function"==typeof Be}function Gn(){return false}function kn(Be,_t){return Be===_t}function dr(Be,_t,N){for(let xe=0;xe<Be.length;xe++)if(!N(Be[xe],_t[xe]))return!0;return!1}function wn(Be,_t=kn,N=kn){let J,xe=null,x=null;return{memoized:function gn(){if(void 0!==J)return J.result;if(!xe)return x=Be.apply(null,arguments),xe=arguments,x;if(!dr(arguments,xe,_t))return x;const ln=Be.apply(null,arguments);return xe=arguments,N(x,ln)?x:(x=ln,ln)},reset:function He(){xe=null,x=null},setResult:function Rt(ln){J={result:ln}},clearResult:function rn(){J=void 0}}}function Ln(...Be){return function er(Be,_t={stateFn:zn}){return function(...N){let xe=N;if(Array.isArray(xe[0])){const[ln,...Jn]=xe;xe=[...ln,...Jn]}const x=xe.slice(0,xe.length-1),J=xe[xe.length-1],He=x.filter(ln=>ln.release&&"function"==typeof ln.release),Rt=Be(function(...ln){return J.apply(null,ln)}),rn=wn(function(ln,Jn){return _t.stateFn.apply(null,[ln,x,Jn,Rt])});return Object.assign(rn.memoized,{release:function gn(){rn.reset(),Rt.reset(),He.forEach(ln=>ln.release())},projector:Rt.memoized,setResult:rn.setResult,clearResult:rn.clearResult})}}(wn)(...Be)}function zn(Be,_t,N,xe){if(void 0===N){const J=_t.map(He=>He(Be));return xe.memoized.apply(null,J)}const x=_t.map(J=>J(Be,N));return xe.memoized.apply(null,[...x,N])}function Wn(Be){return Ln(_t=>{const N=_t[Be];return(0,n.X6Q)()&&!(Be in _t)&&console.warn(`@ngrx/store: The feature name "${Be}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Be}', ...) or StoreModule.forFeature('${Be}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),N},_t=>_t)}function Q(Be,_t){return _t instanceof n.OlP?Be.get(_t):_t}function te(Be,_t,N){return N.map((xe,x)=>{if(_t[x]instanceof n.OlP){const J=Be.get(_t[x]);return{key:xe.key,reducerFactory:J.reducerFactory?J.reducerFactory:vt,metaReducers:J.metaReducers?J.metaReducers:[],initialState:J.initialState}}return xe})}function O(Be,_t){return _t.map(xe=>xe instanceof n.OlP?Be.get(xe):xe)}function he(Be){return"function"==typeof Be?Be():Be}function Je(Be,_t){return Be.concat(_t)}function mt(Be){if(Be)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Jt(Be){Object.freeze(Be);const _t=Lt(Be);return Object.getOwnPropertyNames(Be).forEach(N=>{if(!N.startsWith("\u0275")&&function Vt(Be,_t){return Object.prototype.hasOwnProperty.call(Be,_t)}(Be,N)&&(!_t||"caller"!==N&&"callee"!==N&&"arguments"!==N)){const xe=Be[N];(We(xe)||Lt(xe))&&!Object.isFrozen(xe)&&Jt(xe)}}),Be}function Pn(Be,_t=[]){return(Wt(Be)||Oe(Be))&&0===_t.length?{path:["root"],value:Be}:Object.keys(Be).reduce((xe,x)=>{if(xe)return xe;const J=Be[x];return function un(Be){return Lt(Be)&&Be.hasOwnProperty("\u0275cmp")}(J)?xe:!(Wt(J)||Oe(J)||function Gt(Be){return"number"==typeof Be}(J)||function qe(Be){return"boolean"==typeof Be}(J)||function Ae(Be){return"string"==typeof Be}(J)||yt(J))&&(function bt(Be){if(!function Tt(Be){return We(Be)&&!yt(Be)}(Be))return!1;const _t=Object.getPrototypeOf(Be);return _t===Object.prototype||null===_t}(J)?Pn(J,[..._t,x]):{path:[..._t,x],value:J})},!1)}function ur(Be,_t){if(!1===Be)return;const N=Be.path.join("."),xe=new Error(`Detected unserializable ${_t} at "${N}". ${hn}#strict${_t}serializability`);throw xe.value=Be.value,xe.unserializablePath=N,xe}function Tn(Be){return(0,n.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Be}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Yn({strictActionSerializability:Be,strictStateSerializability:_t}){return N=>Be||_t?function Un(Be,_t){return function(N,xe){_t.action(xe)&&ur(Pn(xe),"action");const x=Be(N,xe);return _t.state()&&ur(Pn(x),"state"),x}}(N,{action:xe=>Be&&!sr(xe),state:()=>_t}):N}function nr({strictActionImmutability:Be,strictStateImmutability:_t}){return N=>Be||_t?function Kt(Be,_t){return function(N,xe){const x=_t.action(xe)?Jt(xe):xe,J=Be(N,x);return _t.state()?Jt(J):J}}(N,{action:xe=>Be&&!sr(xe),state:()=>_t}):N}function sr(Be){return Be.type.startsWith("@ngrx")}function Er({strictActionWithinNgZone:Be}){return _t=>Be?function Vn(Be,_t){return function(N,xe){if(_t.action(xe)&&!n.R0b.isInAngularZone())throw new Error(`Action '${xe.type}' running outside NgZone. ${hn}#strictactionwithinngzone`);return Be(N,xe)}}(_t,{action:N=>Be&&!sr(N)}):_t}function vr(Be){return[{provide:wt,useValue:Be},{provide:Zt,useFactory:Ar,deps:[wt]},{provide:Dt,deps:[Zt],useFactory:Tn},{provide:Ct,multi:!0,deps:[Dt],useFactory:nr},{provide:Ct,multi:!0,deps:[Dt],useFactory:Yn},{provide:Ct,multi:!0,deps:[Dt],useFactory:Er}]}function Dn(){return[{provide:dt,multi:!0,deps:[Dt],useFactory:Br}]}function Ar(Be){return Be}function Br(Be){if(!Be.strictActionTypeUniqueness)return;const _t=Object.entries(z).filter(([,N])=>N>1).map(([N])=>N);if(_t.length)throw new Error(`Action types are registered more than once, ${_t.map(N=>`"${N}"`).join(", ")}. ${hn}#strictactiontypeuniqueness`)}function pr(Be,_t){return[{provide:rt,useFactory:mt,deps:[[ft,new n.FiY,new n.tp0]]},{provide:Ie,useValue:_t.initialState},{provide:Nt,useFactory:he,deps:[Ie]},{provide:fe,useValue:Be},{provide:ne,useExisting:Be instanceof n.OlP?Be:fe},{provide:Re,deps:[n.zs3,fe,[new n.tBr(ne)]],useFactory:Q},{provide:Ft,useValue:_t.metaReducers?_t.metaReducers:[]},{provide:it,deps:[Ct,Ft],useFactory:Je},{provide:ht,useValue:_t.reducerFactory?_t.reducerFactory:vt},{provide:Fe,deps:[ht,it],useFactory:It},Ke,Pt,En,pt,nn,vr(_t.runtimeChecks),Dn()]}function Mn(Be,_t,N={}){return[{provide:_e,multi:!0,useValue:Be instanceof Object?{}:N},{provide:ie,multi:!0,useValue:{key:Be instanceof Object?Be.name:Be,reducerFactory:N instanceof n.OlP||!N.reducerFactory?vt:N.reducerFactory,metaReducers:N instanceof n.OlP||!N.metaReducers?[]:N.metaReducers,initialState:N instanceof n.OlP||!N.initialState?void 0:N.initialState}},{provide:Ue,deps:[n.zs3,_e,ie],useFactory:te},{provide:Ve,multi:!0,useValue:Be instanceof Object?Be.reducer:_t},{provide:Ee,multi:!0,useExisting:_t instanceof n.OlP?_t:Ve},{provide:Ot,multi:!0,deps:[n.zs3,Ve,[new n.tBr(Ee)]],useFactory:O},Dn()]}let or=(()=>{class Be{constructor(N,xe,x,J,He,Rt){}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(de),n.LFG(Ut),n.LFG(mn),n.LFG(ft),n.LFG(rt,8),n.LFG(dt,8))},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})(),wr=(()=>{class Be{constructor(N,xe,x,J,He){this.features=N,this.featureReducers=xe,this.reducerManager=x;const Rt=N.map((rn,gn)=>{const Jn=xe.shift()[gn];return{...rn,reducers:Jn,initialState:he(rn.initialState)}});x.addFeatures(Rt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(Ue),n.LFG(Ot),n.LFG(qt),n.LFG(or),n.LFG(dt,8))},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})(),Xr=(()=>{class Be{static forRoot(N,xe={}){return{ngModule:or,providers:[...pr(N,xe)]}}static forFeature(N,xe,x={}){return{ngModule:wr,providers:[...Mn(N,xe,x)]}}}return Be.\u0275fac=function(N){return new(N||Be)},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})()},5344:(ye,X,v)=>{"use strict";v.d(X,{AE:()=>fe,AH:()=>ie,AJ:()=>Ye,FA:()=>Ie,HZ:()=>ht,JR:()=>ge,JW:()=>rt,Kj:()=>Re,hc:()=>De});var n=v(9671),e=v(6895),h=v(4650),P=v(1446),E=v(6322),M=v(529),R=v(1086),V=v(591),j=v(6053),H=v(5254),G=v(4850),z=v(1406),q=v(2986),ee=v(7545),ue=v(8555),oe=v(6538);class De{}const Ye="asm_enabled";let ot=(()=>{class ne{constructor(_e,Ue,Ee,Ot){this.location=_e,this.winRef=Ue,this.launchDialogService=Ee,this.featureModules=Ot}load(){this.isEnabled()&&this.addUi()}isEnabled(){return this.isLaunched()&&!this.isUsedBefore()&&this.winRef.localStorage&&this.winRef.localStorage.setItem(Ye,"true"),this.isLaunched()||this.isUsedBefore()}isLaunched(){const _e=this.location.path().split("?")[1];return!!_e&&_e.split("&").includes("asm=true")}isUsedBefore(){return!!this.winRef.localStorage&&"true"===this.winRef.localStorage.getItem(Ye)}addUi(){this.featureModules.resolveFeature("asm").subscribe(()=>this.launchDialogService.launch("ASM"))}}return ne.\u0275fac=function(_e){return new(_e||ne)(h.LFG(e.Ye),h.LFG(E.X9E),h.LFG(P.Q3W),h.LFG(E.q2V))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),ze=(()=>{class ne{}return ne.\u0275fac=function(_e){return new(_e||ne)},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({providers:[{provide:h.ip1,useFactory:Ge,deps:[ot],multi:!0}],imports:[e.ez,P._Gt]}),ne})();function Ge(ne){return()=>{ne.load()}}var ge=(()=>{return(ne=ge||(ge={})).START_SESSION="START_SESSION",ne.ORDER_HISTORY="ORDER_HISTORY",ge;var ne})();const ve={asm:{agentSessionTimer:{startingDelayInSeconds:600},customerSearch:{maxResults:20},customerList:{pageSize:5,showAvatar:!0,columns:[{headerLocalizationKey:"asm.customerList.tableHeader.customer",renderer:ne=>ne?.name??"",actionType:ge.START_SESSION},{headerLocalizationKey:"asm.customerList.tableHeader.email",renderer:ne=>ne?.uid??""},{headerLocalizationKey:"asm.customerList.tableHeader.phone",renderer:ne=>ne?.defaultAddress?.phone??""},{headerLocalizationKey:"asm.customerList.tableHeader.order",icon:{symbol:P.e1G.ORDER,captionLocalizationKey:"asm.customerList.tableHeader.order"},actionType:ge.ORDER_HISTORY}]}}};let de=(()=>{class ne{constructor(_e,Ue,Ee){this.config=_e,this.userIdService=Ue,this.userIdConstants=Ee,this.userIdHeader="sap-commerce-cloud-user-id",this.uniqueUserIdConstants=new Set(Object.values(Ee))}intercept(_e,Ue){if(!this.config.asm?.userIdHttpHeader?.enable)return Ue.handle(_e);const Ee=_e.context.get(E.oT0);let Ot;if("string"==typeof Ee.sendUserIdAsHeader)Ot=(0,R.of)(Ee.sendUserIdAsHeader);else{if(!Ee.sendUserIdAsHeader)return Ue.handle(_e);Ot=this.userIdService.takeUserId().pipe((0,G.U)(Ft=>this.uniqueUserIdConstants.has(Ft)?void 0:Ft))}return Ot.pipe((0,z.b)(Ft=>{if(Ft){const Ct=_e.clone({headers:_e.headers.set(this.userIdHeader,Ft)});return Ue.handle(Ct)}return Ue.handle(_e)}))}}return ne.\u0275fac=function(_e){return new(_e||ne)(h.LFG(E.DeH),h.LFG(E.XBV),h.LFG(E.DBw))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();var Ke=(()=>{return(ne=Ke||(Ke={})).CSAgent="CSAgent",ne.User="User",Ke;var ne})();let rt=(()=>{class ne extends E.jg0{constructor(){super(...arguments),this._tokenTarget$=new V.X(Ke.User)}getTokenTarget(){return this._tokenTarget$}setTokenTarget(_e){this._tokenTarget$.next(_e)}getEmulatedUserToken(){return this.emulatedUserToken}setEmulatedUserToken(_e){this.emulatedUserToken=_e}switchTokenTargetToCSAgent(){this._tokenTarget$.next(Ke.CSAgent)}switchTokenTargetToUser(){this._tokenTarget$.next(Ke.User)}clearEmulatedUserToken(){this.emulatedUserToken=void 0}}return ne.\u0275fac=function(){let Ve;return function(Ue){return(Ve||(Ve=h.n5z(ne)))(Ue||ne)}}(),ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Ie=(()=>{class ne{constructor(_e,Ue,Ee,Ot,Ft,Ct){this.authService=_e,this.authStorageService=Ue,this.userIdService=Ee,this.oAuthLibWrapperService=Ot,this.store=Ft,this.userProfileFacade=Ct}authorizeCustomerSupportAgent(_e,Ue){var Ee=this;return(0,n.Z)(function*(){let Ot;Ee.authStorageService.getToken().subscribe(Ft=>Ot=Ft).unsubscribe(),Ee.authStorageService.switchTokenTargetToCSAgent();try{let Ft;yield Ee.oAuthLibWrapperService.authorizeWithPasswordFlow(_e,Ue),Ee.userProfileFacade.get().subscribe(Ct=>Ft=Ct?.customerId).unsubscribe(),Ee.store.dispatch(new E.uQL.Logout),void 0!==Ft&&void 0!==Ot?(Ee.userIdService.setUserId(Ft),Ee.authStorageService.setEmulatedUserToken(Ot),Ee.store.dispatch(new E.uQL.Login)):(Ee.userIdService.setUserId(E.Fds),Ee.authStorageService.clearEmulatedUserToken())}catch{Ee.authStorageService.switchTokenTargetToUser()}})()}startCustomerEmulationSession(_e){this.authStorageService.clearEmulatedUserToken(),this.store.dispatch(new E.uQL.Logout),this.userIdService.setUserId(_e),this.store.dispatch(new E.uQL.Login)}isCustomerSupportAgentLoggedIn(){return(0,j.aj)([this.authStorageService.getToken(),this.authStorageService.getTokenTarget()]).pipe((0,G.U)(([_e,Ue])=>Boolean(_e?.access_token&&Ue===Ke.CSAgent)))}isCustomerEmulated(){return this.userIdService.isEmulated()}getCustomerSupportAgentTokenLoading(){return(0,R.of)(!1)}logoutCustomerSupportAgent(){var _e=this;return(0,n.Z)(function*(){const Ue=_e.authStorageService.getEmulatedUserToken();let Ee;_e.userIdService.isEmulated().subscribe(Ot=>Ee=Ot).unsubscribe(),yield _e.oAuthLibWrapperService.revokeAndLogout(),_e.store.dispatch({type:"[Auth] Logout Customer Support Agent"}),_e.authStorageService.setTokenTarget(Ke.User),Ee&&Ue?(_e.store.dispatch(new E.uQL.Logout),_e.authStorageService.setToken(Ue),_e.userIdService.setUserId(E.zyp),_e.authStorageService.clearEmulatedUserToken(),_e.store.dispatch(new E.uQL.Login)):_e.authService.logout()})()}}return ne.\u0275fac=function(_e){return new(_e||ne)(h.LFG(E.e80),h.LFG(rt),h.LFG(E.XBV),h.LFG(E.DzN),h.LFG(ue.yh),h.LFG(oe.aT))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Nt=(()=>{class ne extends E.i$2{constructor(_e,Ue,Ee,Ot,Ft,Ct,it,Zt){super(_e,Ue,Ot,Ft,it,Ct,Zt),this.authService=_e,this.authStorageService=Ue,this.csAgentAuthService=Ee,this.oAuthLibWrapperService=Ot,this.routingService=Ft,this.globalMessageService=Ct,this.occEndpointsService=it,this.authRedirectService=Zt}shouldAddAuthorizationHeader(_e){return super.shouldAddAuthorizationHeader(_e)||this.isCSAgentTokenRequest(_e)}shouldCatchError(_e){return super.shouldCatchError(_e)||this.isCSAgentTokenRequest(_e)}alterRequest(_e,Ue){const Ee=!!this.getAuthorizationHeader(_e),Ot=this.isCSAgentTokenRequest(_e);let Ft=super.alterRequest(_e,Ue);return!Ee&&Ot?(Ft=_e.clone({setHeaders:{...this.createAuthorizationHeader(Ue)}}),E.Fox.removeHeader(E.OPk,Ft)):Ft}isCSAgentTokenRequest(_e){const Ue=E.Fox.getInterceptorParam(E.OPk,_e.headers);return Boolean(Ue)}handleExpiredRefreshToken(){this.csAgentAuthService.isCustomerSupportAgentLoggedIn().pipe((0,q.q)(1)).subscribe(_e=>{_e?(this.authService.setLogoutProgress(!0),this.csAgentAuthService.logoutCustomerSupportAgent(),this.globalMessageService.add({key:"asm.csagentTokenExpired"},E.xUg.MSG_TYPE_ERROR)):super.handleExpiredRefreshToken()})}}return ne.\u0275fac=function(_e){return new(_e||ne)(h.LFG(E.e80),h.LFG(E.jg0),h.LFG(Ie),h.LFG(E.DzN),h.LFG(E.Znh),h.LFG(E.IWp),h.LFG(E.Lz0),h.LFG(E.FUY))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Fe=(()=>{class ne extends E.e80{constructor(_e,Ue,Ee,Ot,Ft,Ct,it,Zt){super(_e,Ue,Ee,Ot,Ft,it,Zt),this.store=_e,this.userIdService=Ue,this.oAuthLibWrapperService=Ee,this.authStorageService=Ot,this.authRedirectService=Ft,this.globalMessageService=Ct,this.routingService=it,this.authMultisiteIsolationService=Zt}canUserLogin(){let _e,Ue;return this.authStorageService.getToken().subscribe(Ee=>Ue=Ee).unsubscribe(),this.authStorageService.getTokenTarget().subscribe(Ee=>_e=Ee).unsubscribe(),!(Boolean(Ue?.access_token)&&_e===Ke.CSAgent)}warnAboutLoggedCSAgent(){this.globalMessageService.add({key:"asm.auth.agentLoggedInError"},E.xUg.MSG_TYPE_ERROR)}loginWithCredentials(_e,Ue){var Ee=()=>super.loginWithCredentials,Ot=this;return(0,n.Z)(function*(){Ot.canUserLogin()?yield Ee().call(Ot,_e,Ue):Ot.warnAboutLoggedCSAgent()})()}loginWithRedirect(){return this.canUserLogin()?(super.loginWithRedirect(),!0):(this.warnAboutLoggedCSAgent(),!1)}coreLogout(){return this.userIdService.isEmulated().pipe((0,q.q)(1),(0,ee.w)(_e=>_e?(this.authStorageService.clearEmulatedUserToken(),this.userIdService.clearUserId(),this.store.dispatch(new E.uQL.Logout),(0,R.of)(!0)):(0,H.D)(super.coreLogout()))).toPromise()}isUserLoggedIn(){return(0,j.aj)([this.authStorageService.getToken(),this.userIdService.isEmulated(),this.authStorageService.getTokenTarget()]).pipe((0,G.U)(([_e,Ue,Ee])=>Boolean(_e?.access_token)&&(Ee===Ke.User||Ee===Ke.CSAgent&&Ue)))}}return ne.\u0275fac=function(_e){return new(_e||ne)(h.LFG(ue.yh),h.LFG(E.XBV),h.LFG(E.DzN),h.LFG(rt),h.LFG(E.FUY),h.LFG(E.IWp),h.LFG(E.Znh),h.LFG(E._4v))},ne.\u0275prov=h.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),ht=(()=>{class ne{}return ne.\u0275fac=function(_e){return new(_e||ne)},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({providers:[(0,E.i51)(ve),{provide:E.jg0,useExisting:rt},{provide:E.e80,useExisting:Fe},{provide:E.i$2,useExisting:Nt},{provide:M.TP,useExisting:de,multi:!0}],imports:[ze]}),ne})();const Re="asm";let fe=(()=>{class ne{}return ne.\u0275fac=function(_e){return new(_e||ne)},ne.\u0275prov=h.Yz7({token:ne,factory:function(){return(0,E.wvQ)({facade:ne,feature:Re,methods:["bindCart"]})},providedIn:"root"}),ne})(),ie=(()=>{class ne{}return ne.\u0275fac=function(_e){return new(_e||ne)},ne.\u0275prov=h.Yz7({token:ne,factory:function(){return(0,E.wvQ)({facade:ne,feature:Re,methods:["getCustomerLists","getCustomerListsState"]})},providedIn:"root"}),ne})()},8809:(ye,X,v)=>{"use strict";v.d(X,{$:()=>Tr,CQ:()=>Rr,Eu:()=>Nn,F5:()=>Cr,F7:()=>or,Jp:()=>Xt,N4:()=>_e,Qx:()=>An,T6:()=>Mn,YA:()=>Sn,YW:()=>to,i4:()=>Vr,n5:()=>ro,r_:()=>Gr,vI:()=>pr,xb:()=>N,ym:()=>Kn});var n=v(4650),e=v(6322),h=v(8555),P=v(3749),E=v(4850),M=v(1406),R=v(7221),V=v(1709),j=v(4002),H=v(7545),G=v(7168),z=v(2198),q=v(9184),ee=v(2994),ue=v(2986),oe=v(2313),De=v(5778),Ye=v(5154),ot=v(519),ze=v(8849),Ge=v(5254),ge=v(1086),ve=v(2654),de=v(5409),Ke=v(6053),rt=v(839),Ie=v(8723),Nt=v(8896),Fe=v(5024),ht=v(655),Re=v(1446),fe=v(6538),ie=v(6895),ne=v(610);const _e="[Multi Cart] Multi Cart Data",Ue="addVoucher",Ee="[Cart-entry] Add Entry",Ot="[Cart-entry] Add Entry Success",Ft="[Cart-entry] Add Entry Fail",Ct="[Cart-entry] Remove Entry",it="[Cart-entry] Remove Entry Success",Zt="[Cart-entry] Remove Entry Fail",wt="[Cart-entry] Update Entry",Dt="[Cart-entry] Update Entry Success",dt="[Cart-entry] Update Entry Fail";class Qt extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ee}}class me extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ot}}class vt extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ft}}class Ze extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ct}}class $t extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=it}}class It extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Zt}}class cn extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=wt}}class Ut extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Dt}}class pn extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=dt}}const ut="[Cart-voucher] Add Cart Vouchers",qt="[Cart-voucher] Add Cart Voucher Fail",Pt="[Cart-voucher] Add Cart Voucher Success",mn="[Cart-voucher] Reset Add Cart Voucher",En="[Cart-voucher] Remove Cart Voucher",Ce="[Cart-voucher] Remove Cart Voucher Fail",Te="[Cart-voucher] Remove Cart Voucher Success";class Me extends e.kPG.EntityLoadAction{constructor(tt){super(e.BzF,Ue),this.payload=tt,this.type=ut}}class pt extends e.kPG.EntityFailAction{constructor(tt){super(e.BzF,Ue,tt.error),this.payload=tt,this.type=qt}}class ft extends e.kPG.EntitySuccessAction{constructor(tt){super(e.BzF,Ue),this.payload=tt,this.type=Pt}}class nn extends e.kPG.EntityLoaderResetAction{constructor(){super(e.BzF,Ue),this.type=mn}}class zt extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=En}}class hn extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ce}}class Wt extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Te}}const Oe="[Cart] Create Cart",yt="[Cart] Create Cart Fail",Ae="[Cart] Create Cart Success",qe="[Cart] Load Cart",Gt="[Cart] Load Cart Fail",We="[Cart] Load Cart Success",Tt="[Cart] Load Carts Success",bt="[Cart] Add Email to Cart",Lt="[Cart] Add Email to Cart Fail",un="[Cart] Add Email to Cart Success",Vt="[Cart] Merge Cart",st="[Cart] Merge Cart Success",xn="[Cart] Reset Cart Details",Gn="[Cart] Remove Cart",kn="[Cart] Delete Cart",dr="[Cart] Delete Cart Success",yn="[Cart] Delete Cart Fail";class wn extends e.kPG.EntityLoadAction{constructor(tt){super(_e,tt.tempCartId),this.payload=tt,this.type=Oe}}class Ln extends e.kPG.EntityFailAction{constructor(tt){super(_e,tt.tempCartId),this.payload=tt,this.type=yt}}class zn extends e.kPG.EntitySuccessAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Ae}}class er extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=bt}}class Wn extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Lt}}class Le extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=un}}class ke extends e.kPG.EntityLoadAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=qe}}class pe extends e.kPG.EntityFailAction{constructor(tt){super(_e,tt.cartId,tt.error),this.payload=tt,this.type=Gt}}class Q extends e.kPG.EntitySuccessAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=We}}class O{constructor(tt){this.payload=tt,this.type=Vt}}class he extends e.kPG.EntityRemoveAction{constructor(tt){super(_e,tt.oldCartId),this.payload=tt,this.type=st}}class Je extends e.kPG.ProcessesLoaderResetAction{constructor(){super(_e),this.type=xn}}class mt extends e.kPG.EntityRemoveAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=Gn}}class Kt{constructor(tt){this.payload=tt,this.type=kn}}class Jt extends e.kPG.EntityRemoveAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=dr}}class Un{constructor(tt){this.payload=tt,this.type=yn}}const Pn="[Cart] Cart Processes Increment",ur="[Cart] Cart Processes Decrement",Vn="[Cart] Set Active Cart Id",Tn="[Cart] Clear Cart State",Yn="[Cart] Set cart type index",nr="[Cart] Set cart data";class sr extends e.kPG.EntityProcessesIncrementAction{constructor(tt){super(_e,tt),this.payload=tt,this.type=Pn}}class Er extends e.kPG.EntityProcessesDecrementAction{constructor(tt){super(_e,tt),this.payload=tt,this.type=ur}}class vr{constructor(tt){this.payload=tt,this.type=Vn}}class Dn extends e.kPG.EntityRemoveAllAction{constructor(){super(_e),this.type=Tn}}class Ar{constructor(tt){this.payload=tt,this.type=Yn}}var Tr=Object.freeze({__proto__:null,CART_ADD_ENTRY:Ee,CART_ADD_ENTRY_SUCCESS:Ot,CART_ADD_ENTRY_FAIL:Ft,CART_REMOVE_ENTRY:Ct,CART_REMOVE_ENTRY_SUCCESS:it,CART_REMOVE_ENTRY_FAIL:Zt,CART_UPDATE_ENTRY:wt,CART_UPDATE_ENTRY_SUCCESS:Dt,CART_UPDATE_ENTRY_FAIL:dt,CartAddEntry:Qt,CartAddEntrySuccess:me,CartAddEntryFail:vt,CartRemoveEntry:Ze,CartRemoveEntrySuccess:$t,CartRemoveEntryFail:It,CartUpdateEntry:cn,CartUpdateEntrySuccess:Ut,CartUpdateEntryFail:pn,CART_ADD_VOUCHER:ut,CART_ADD_VOUCHER_FAIL:qt,CART_ADD_VOUCHER_SUCCESS:Pt,CART_RESET_ADD_VOUCHER:mn,CART_REMOVE_VOUCHER:En,CART_REMOVE_VOUCHER_FAIL:Ce,CART_REMOVE_VOUCHER_SUCCESS:Te,CartAddVoucher:Me,CartAddVoucherFail:pt,CartAddVoucherSuccess:ft,CartResetAddVoucher:nn,CartRemoveVoucher:zt,CartRemoveVoucherFail:hn,CartRemoveVoucherSuccess:Wt,CREATE_CART:Oe,CREATE_CART_FAIL:yt,CREATE_CART_SUCCESS:Ae,LOAD_CART:qe,LOAD_CART_FAIL:Gt,LOAD_CART_SUCCESS:We,LOAD_CARTS_SUCCESS:Tt,ADD_EMAIL_TO_CART:bt,ADD_EMAIL_TO_CART_FAIL:Lt,ADD_EMAIL_TO_CART_SUCCESS:un,MERGE_CART:Vt,MERGE_CART_SUCCESS:st,RESET_CART_DETAILS:xn,REMOVE_CART:Gn,DELETE_CART:kn,DELETE_CART_SUCCESS:dr,DELETE_CART_FAIL:yn,CreateCart:wn,CreateCartFail:Ln,CreateCartSuccess:zn,AddEmailToCart:er,AddEmailToCartFail:Wn,AddEmailToCartSuccess:Le,LoadCart:ke,LoadCartFail:pe,LoadCartSuccess:Q,LoadCartsSuccess:class te extends e.kPG.EntitySuccessAction{constructor(tt){super(_e,tt.map(Se=>Se?.code??"")),this.payload=tt,this.type=Tt}},MergeCart:O,MergeCartSuccess:he,ResetCartDetails:Je,RemoveCart:mt,DeleteCart:Kt,DeleteCartSuccess:Jt,DeleteCartFail:Un,CART_PROCESSES_INCREMENT:Pn,CART_PROCESSES_DECREMENT:ur,SET_ACTIVE_CART_ID:Vn,CLEAR_CART_STATE:Tn,SET_CART_TYPE_INDEX:Yn,SET_CART_DATA:nr,CartProcessesIncrement:sr,CartProcessesDecrement:Er,SetActiveCartId:vr,ClearCartState:Dn,SetCartTypeIndex:Ar,SetCartData:class Br extends e.kPG.EntitySuccessAction{constructor(tt){super(_e,tt.cartId),this.payload=tt,this.type=nr}}});class pr{}let ar=(()=>{class be{constructor(Se){this.adapter=Se}add(Se,nt,Qe,at){return this.adapter.add(Se,nt,Qe,at)}update(Se,nt,Qe,at,Cn){return this.adapter.update(Se,nt,Qe,at,Cn)}remove(Se,nt,Qe){return this.adapter.remove(Se,nt,Qe)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(pr))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),_r=(()=>{class be{constructor(Se,nt){this.actions$=Se,this.cartEntryConnector=nt,this.contextChange$=this.actions$.pipe((0,Fe.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.addEntry$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Ee),(0,E.U)(Qe=>Qe.payload),(0,M.b)(Qe=>this.cartEntryConnector.add(Qe.userId,Qe.cartId,Qe.productCode,Qe.quantity).pipe((0,E.U)(at=>new me({...Qe,...at})),(0,R.K)(at=>(0,Ge.D)([new vt({...Qe,error:(0,e.cxH)(at)}),new ke({cartId:Qe.cartId,userId:Qe.userId})])))),(0,e.FM_)(this.contextChange$))),this.removeEntry$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Ct),(0,E.U)(Qe=>Qe.payload),(0,M.b)(Qe=>this.cartEntryConnector.remove(Qe.userId,Qe.cartId,Qe.entryNumber).pipe((0,E.U)(()=>new $t({...Qe})),(0,R.K)(at=>(0,Ge.D)([new It({...Qe,error:(0,e.cxH)(at)}),new ke({cartId:Qe.cartId,userId:Qe.userId})])))),(0,e.FM_)(this.contextChange$))),this.updateEntry$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(wt),(0,E.U)(Qe=>Qe.payload),(0,M.b)(Qe=>this.cartEntryConnector.update(Qe.userId,Qe.cartId,Qe.entryNumber,Qe.quantity).pipe((0,E.U)(()=>new Ut({...Qe})),(0,R.K)(at=>(0,Ge.D)([new pn({...Qe,error:(0,e.cxH)(at)}),new ke({cartId:Qe.cartId,userId:Qe.userId})])))),(0,e.FM_)(this.contextChange$)))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(Fe.eX),n.LFG(ar))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})();class Nn{}let Hn=(()=>{class be{constructor(Se){this.adapter=Se}add(Se,nt,Qe){return this.adapter.add(Se,nt,Qe)}remove(Se,nt,Qe){return this.adapter.remove(Se,nt,Qe)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(Nn))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),rr=(()=>{class be{constructor(Se,nt,Qe){this.actions$=Se,this.cartVoucherConnector=nt,this.messageService=Qe,this.addCartVoucher$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(ut),(0,E.U)(at=>at.payload),(0,V.zg)(at=>this.cartVoucherConnector.add(at.userId,at.cartId,at.voucherId).pipe((0,E.U)(()=>(this.showGlobalMessage("voucher.applyVoucherSuccess",at.voucherId,e.xUg.MSG_TYPE_CONFIRMATION),new ft({...at}))),(0,R.K)(Cn=>(0,Ge.D)([new pt({...at,error:(0,e.cxH)(Cn)}),new Er(at.cartId),new ke({userId:at.userId,cartId:at.cartId})])))))),this.removeCartVoucher$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(En),(0,E.U)(at=>at.payload),(0,V.zg)(at=>this.cartVoucherConnector.remove(at.userId,at.cartId,at.voucherId).pipe((0,E.U)(()=>(this.showGlobalMessage("voucher.removeVoucherSuccess",at.voucherId,e.xUg.MSG_TYPE_INFO),new Wt({userId:at.userId,cartId:at.cartId,voucherId:at.voucherId}))),(0,R.K)(Cn=>(0,Ge.D)([new hn({error:(0,e.cxH)(Cn),cartId:at.cartId,userId:at.userId,voucherId:at.voucherId}),new ke({userId:at.userId,cartId:at.cartId})]))))))}showGlobalMessage(Se,nt,Qe){this.messageService.add({key:Se,params:{voucherCode:nt}},Qe)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(Fe.eX),n.LFG(Hn),n.LFG(e.IWp))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})();function Mn(be,tt){return tt===e.Fds?be?.guid??"":be?.code??""}function or(be=""){return be.startsWith("selectivecart")}function wr(be){return"notFound"===be.reason&&"cart"===be.subjectType&&!or(be.subject)}function xr(be){return"VoucherOperationError"===be.type}function Be(be){return"CartError"===be.type||"CartAddressError"===be.type||"CartEntryError"===be.type||"CartEntryGroupError"===be.type}function _t(be){return be.startsWith("temp-")}function N(be){return!be||"object"==typeof be&&0===Object.keys(be).length}const J=(0,h.ZF)("cart"),He=(0,h.P1)(J,be=>be.carts),Rt=be=>(0,h.P1)(He,tt=>e.kPG.entityProcessesLoaderStateSelector(tt,be)),rn=be=>(0,h.P1)(He,tt=>e.kPG.entityValueSelector(tt,be)),gn=be=>(0,h.P1)(He,tt=>e.kPG.entityIsStableSelector(tt,be)),ln=be=>(0,h.P1)(He,tt=>e.kPG.entityHasPendingProcessesSelector(tt,be)),Jn=be=>(0,h.P1)(rn(be),tt=>tt&&tt.entries?tt.entries:[]),fr=(be,tt)=>(0,h.P1)(Jn(be),Se=>Se.find(nt=>nt.product?.code===tt)),hr=(0,h.P1)(He,be=>Object.keys(be.entities).map(tt=>e.kPG.entityValueSelector(be,tt))),eo=(0,h.P1)(J,be=>be.index),To=be=>(0,h.P1)(eo,tt=>tt&&tt[be]);class to{}let Rr=(()=>{class be{constructor(Se){this.adapter=Se}loadAll(Se){return this.adapter.loadAll(Se)}load(Se,nt){return this.adapter.load(Se,nt)}create(Se,nt,Qe){return this.adapter.create(Se,nt,Qe)}delete(Se,nt){return this.adapter.delete(Se,nt)}save(Se,nt,Qe,at){return this.adapter.save(Se,nt,Qe,at)}addEmail(Se,nt,Qe){return this.adapter.addEmail(Se,nt,Qe)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(to))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();const xo=[_r,rr,(()=>{class be{constructor(Se,nt,Qe){this.actions$=Se,this.cartConnector=nt,this.store=Qe,this.contextChange$=this.actions$.pipe((0,Fe.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.loadCart$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(qe),(0,E.U)(at=>at.payload),(0,j.v)(at=>at.cartId),(0,V.zg)(at=>at.pipe((0,H.w)(Cn=>(0,ge.of)(Cn).pipe((0,G.M)(this.store.pipe((0,h.Ys)(ln(Cn.cartId)))))),(0,z.h)(([Cn,$n])=>!$n),(0,E.U)(([Cn])=>Cn),(0,H.w)(Cn=>this.cartConnector.load(Cn.userId,Cn.cartId).pipe((0,V.zg)($n=>{let kt=[];return $n?(kt.push(new Q({...Cn,cart:$n,cartId:Mn($n,Cn.userId)})),Cn.cartId===e.gSv&&kt.push(new mt({cartId:e.gSv}))):kt=[new pe({...Cn,error:{}})],kt}),(0,R.K)($n=>{if($n?.error?.errors){if($n.error.errors.filter(gr=>"invalid"===gr.reason).length>0)return(0,ge.of)(new ke({...Cn}));if($n.error.errors.filter(gr=>wr(gr)||"UnknownResourceError"===gr.reason).length>0)return(0,ge.of)(new mt({cartId:Cn.cartId}))}return(0,ge.of)(new pe({...Cn,error:(0,e.cxH)($n)}))}))))),(0,e.FM_)(this.contextChange$))),this.createCart$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Oe),(0,E.U)(at=>at.payload),(0,V.zg)(at=>this.cartConnector.create(at.userId,at.oldCartId,at.toMergeCartGuid).pipe((0,H.w)(Cn=>{const $n=[];return at.oldCartId&&$n.push(new he({extraData:at.extraData,userId:at.userId,tempCartId:at.tempCartId,cartId:Mn(Cn,at.userId),oldCartId:at.oldCartId})),[new zn({...at,cart:Cn,cartId:Mn(Cn,at.userId)}),new mt({cartId:at.tempCartId}),...$n]}),(0,R.K)(Cn=>(0,ge.of)(new Ln({...at,error:(0,e.cxH)(Cn)}))))),(0,e.FM_)(this.contextChange$))),this.mergeCart$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Vt),(0,E.U)(at=>at.payload),(0,H.w)(at=>this.cartConnector.load(at.userId,e.gSv).pipe((0,E.U)(Cn=>{if(Cn?.code!==at.cartId)return new wn({userId:at.userId,oldCartId:at.cartId,toMergeCartGuid:Cn?Cn.guid:void 0,extraData:at.extraData,tempCartId:at.tempCartId})}),(0,z.h)(e.pTN))),(0,e.FM_)(this.contextChange$))),this.refresh$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Pt),(0,E.U)(at=>at.payload),(0,M.b)(at=>(0,Ge.D)([new Er(at.cartId),new ke({userId:at.userId,cartId:at.cartId})])))),this.refreshWithoutProcesses$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(Ot,it,Dt,Te),(0,E.U)(at=>at.payload),(0,E.U)(at=>new ke({userId:at.userId,cartId:at.cartId})))),this.resetCartDetailsOnSiteContextChange$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(e.dO9.LANGUAGE_CHANGE,e.dO9.CURRENCY_CHANGE),(0,V.zg)(()=>[new Je]))),this.addEmail$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(bt),(0,E.U)(at=>at.payload),(0,V.zg)(at=>this.cartConnector.addEmail(at.userId,at.cartId,at.email).pipe((0,V.zg)(()=>[new Le({...at}),new ke({userId:at.userId,cartId:at.cartId})]),(0,R.K)(Cn=>(0,Ge.D)([new Wn({...at,error:(0,e.cxH)(Cn)}),new ke({userId:at.userId,cartId:at.cartId})])))),(0,e.FM_)(this.contextChange$))),this.deleteCart$=(0,Fe.GW)(()=>this.actions$.pipe((0,Fe.l4)(kn),(0,E.U)(at=>at.payload),(0,V.zg)(at=>this.cartConnector.delete(at.userId,at.cartId).pipe((0,E.U)(()=>new Jt({...at})),(0,R.K)(Cn=>(0,Ge.D)([new Un({...at,error:(0,e.cxH)(Cn)}),new ke({...at})]))))))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(Fe.eX),n.LFG(Rr),n.LFG(h.yh))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})(),(()=>{class be{constructor(Se){this.actions$=Se,this.processesIncrement$=this.actions$.pipe((0,Fe.l4)(ut),(0,E.U)(nt=>nt.payload),(0,E.U)(nt=>new sr(nt.cartId))),this.setSelectiveId$=this.actions$.pipe((0,Fe.l4)(We),(0,E.U)(nt=>{switch(nt.type){case We:{const Qe=nt.payload;if(or(Qe.cartId))return new Ar({cartType:P.EI.SELECTIVE,cartId:Qe.cartId});break}}}),(0,z.h)(e.pTN)),this.setActiveCartId$=this.actions$.pipe((0,Fe.l4)(We,qe,Ae,Oe,Vn),(0,E.U)(nt=>{switch(nt.type){case qe:if(nt?.payload?.cartId===e.gSv)return new Ar({cartType:P.EI.ACTIVE,cartId:""});break;case We:if(nt?.payload?.extraData?.active)return new Ar(nt.payload?.cart.saveTime?{cartType:P.EI.ACTIVE,cartId:""}:{cartType:P.EI.ACTIVE,cartId:nt.meta.entityId});break;case Oe:if(nt?.payload?.extraData?.active)return new Ar({cartType:P.EI.ACTIVE,cartId:nt.meta.entityId});break;case Ae:return new Ar({cartType:nt?.payload?.extraData?.active?P.EI.ACTIVE:P.EI.NEW_CREATED,cartId:nt.meta.entityId});case Vn:return new Ar({cartType:P.EI.ACTIVE,cartId:nt.payload})}}),(0,z.h)(e.pTN))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(Fe.eX))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),(0,ht.gn)([(0,Fe.Qm)()],be.prototype,"processesIncrement$",void 0),(0,ht.gn)([(0,Fe.Qm)()],be.prototype,"setSelectiveId$",void 0),(0,ht.gn)([(0,Fe.Qm)()],be.prototype,"setActiveCartId$",void 0),be})()],Bo={[P.EI.ACTIVE]:""};function Xo(be=Bo,tt){switch(tt.type){case Yn:return{...be,[tt.payload.cartType]:tt.payload.cartId};case Gn:case dr:return tt.payload?.cartId===be[P.EI.ACTIVE]?{...be,[P.EI.ACTIVE]:""}:be;case Tn:return Bo}return be}function Go(be,tt){switch(tt.type){case Tt:return tt.payload;case We:case Ae:case nr:return tt.payload.cart}return be}const ui=[function ei(be){return function(tt,Se){return Se.type===e.uQL.LOGOUT&&(tt=void 0),be(tt,Se)}}],Eo=new n.OlP("MultiCartReducers"),Vo={provide:Eo,useFactory:function Ao(){return{carts:e.kPG.entityProcessesLoaderReducer(_e,Go),index:Xo}}};var Cr=Object.freeze({__proto__:null,getMultiCartState:J,getMultiCartEntities:He,getCartEntitySelectorFactory:Rt,getCartSelectorFactory:rn,getCartIsStableSelectorFactory:gn,getCartHasPendingProcessesSelectorFactory:ln,getCartEntriesSelectorFactory:Jn,getCartEntrySelectorFactory:fr,getCartsSelectorFactory:hr,getCartTypeIndex:eo,getCartIdByTypeFactory:To});let ti=(()=>{class be{constructor(Se,nt,Qe){this.statePersistenceService=Se,this.store=nt,this.siteContextParamsService=Qe,this.subscription=new ve.w}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:"cart",state$:this.getCartState(),context$:this.siteContextParamsService.getValues([e.iEg]),storageType:e.iHd.LOCAL_STORAGE,onRead:Se=>this.onRead(Se)}))}getCartState(){return this.store.pipe((0,z.h)(Se=>!!Se.cart),(0,h.Ys)(J),(0,z.h)(Se=>!!Se),(0,E.U)(Se=>Se.index),(0,q.g)("Active"),(0,E.U)(Se=>({active:Se[P.EI.ACTIVE]??""})))}onRead(Se){this.store.dispatch(new Dn),this.store.dispatch(new vr(Se?Se.active:""))}ngOnDestroy(){this.subscription.unsubscribe()}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(e.WBb),n.LFG(h.yh),n.LFG(e.Qnj))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Mo(be,tt){return()=>tt.getStable("context").pipe((0,ee.b)(()=>{be.initSync()})).toPromise()}function ni(){return tt=>(Se,nt)=>{const Qe={...Se};return"@ngrx/store/init"===nt.type&&(Qe.cart={...Qe.cart,index:{[P.EI.ACTIVE]:void 0}}),tt(Qe,nt)}}let Dr=(()=>{class be{}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({providers:[{provide:e.z4I,useFactory:Mo,deps:[ti,e.yUt],multi:!0},{provide:h.sr,useFactory:ni,multi:!0}]}),be})();class ro{}let vo=(()=>{class be{constructor(Se){this.adapter=Se}validate(Se,nt){return this.adapter.validate(Se,nt)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(ro))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),oo=(()=>{class be{constructor(Se,nt,Qe,at){this.actionsSubject=Se,this.event=nt,this.activeCartService=Qe,this.stateEventService=at,this.register()}register(){this.registerCreateCart(),this.registerAddEntry(),this.registerRemoveEntry(),this.registerUpdateEntry(),this.registerDeleteCart(),this.registerAddCartVoucher(),this.registerRemoveCartVoucher(),this.registerMergeCartSuccess()}registerAddEntry(){this.registerMapped({action:Ee,event:P.uP}),this.registerMapped({action:Ot,event:P.VD}),this.registerMapped({action:Ft,event:P.K$})}registerRemoveEntry(){this.registerMapped({action:it,event:P.A7}),this.registerMapped({action:Zt,event:P.dC})}registerUpdateEntry(){this.registerMapped({action:Dt,event:P.X}),this.registerMapped({action:dt,event:P.gI})}registerMergeCartSuccess(){this.registerMapped({action:st,event:P.pA})}registerCreateCart(){this.stateEventService.register({action:Oe,event:P.su}),this.stateEventService.register({action:Ae,event:P.cA}),this.stateEventService.register({action:yt,event:P.Cj})}registerDeleteCart(){this.stateEventService.register({action:kn,event:P.aY,factory:Se=>(0,e.PjU)(P.aY,{...Se.payload,cartCode:Se.payload.cartId})}),this.stateEventService.register({action:dr,event:P.N0,factory:Se=>(0,e.PjU)(P.N0,{...Se.payload,cartCode:Se.payload.cartId})}),this.stateEventService.register({action:yn,event:P.Ks,factory:Se=>(0,e.PjU)(P.Ks,{...Se.payload,cartCode:Se.payload.cartId})})}registerAddCartVoucher(){this.stateEventService.register({action:ut,event:P.aT}),this.stateEventService.register({action:Pt,event:P.Es}),this.stateEventService.register({action:qt,event:P.re})}registerRemoveCartVoucher(){this.stateEventService.register({action:En,event:P.uX}),this.stateEventService.register({action:Te,event:P.FC}),this.stateEventService.register({action:Ce,event:P.kd})}registerMapped(Se){const nt=this.getAction(Se.action).pipe((0,H.w)(Qe=>(0,ge.of)(Qe).pipe((0,G.M)(this.activeCartService.getActive(),this.activeCartService.getActiveCartId()))),(0,z.h)(([Qe,at,Cn])=>Qe.payload.cartId===Cn),(0,E.U)(([Qe,at])=>(0,e.PjU)(Se.event,{...Qe.payload,cartCode:at.code,entry:Qe.payload.entry?Qe.payload.entry:at.entries?.[Number(Qe.payload.entryNumber)]})));return this.event.register(Se.event,nt)}getAction(Se){return this.actionsSubject.pipe((0,Fe.l4)(...[].concat(Se)))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(h.UO),n.LFG(e.POd),n.LFG(P.bu),n.LFG(e.vL$))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),_o=(()=>{class be{constructor(Se){}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(oo))},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({}),be})(),li=(()=>{class be{constructor(Se){this.eventService=Se,this.register()}register(){this.eventService.register(P.uB,this.buildCartPageEvent())}buildCartPageEvent(){return this.eventService.get(Re.z4w).pipe((0,z.h)(Se=>"cart"===Se.semanticRoute),(0,E.U)(Se=>(0,e.PjU)(P.uB,{navigation:Se})))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(e.POd))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Kn=(()=>{class be{constructor(Se){}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(li))},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({}),be})(),Ho=(()=>{class be{constructor(Se,nt){this.multiCartFacade=Se,this.userIdService=nt,this.subscription=new ve.w,this.activeCartId$=this.userIdService.getUserId().pipe((0,ue.q)(1),(0,oe.c)(this.multiCartFacade.getCartIdByType(P.EI.ACTIVE)),(0,z.h)(Qe=>void 0!==Qe),(0,E.U)(Qe=>""===Qe?e.gSv:Qe)),this.cartEntity$=this.activeCartId$.pipe((0,H.w)(Qe=>this.multiCartFacade.getCartEntity(Qe))),this.checkInitLoad=void 0,this.initActiveCart(),this.detectUserChange()}initActiveCart(){const Se=this.cartEntity$.pipe((0,E.U)(Qe=>({cart:Qe.value,isStable:!Qe.loading&&0===Qe.processesCount,loaded:Boolean((Qe.error||Qe.success)&&!Qe.loading)})),(0,z.h)(({isStable:Qe,cart:at})=>Qe||N(at))),nt=Se.pipe((0,G.M)(this.activeCartId$,this.userIdService.getUserId()),(0,ee.b)(([{cart:Qe,loaded:at,isStable:Cn},$n,kt])=>{Cn&&N(Qe)&&!at&&!_t($n)&&this.load($n,kt)}));this.activeCart$=(0,de.g)(()=>nt.subscribe(),()=>Se).pipe((0,E.U)(({cart:Qe})=>Qe||{}),(0,De.x)(),(0,Ye.d)({bufferSize:1,refCount:!0}))}detectUserChange(){this.subscription.add(this.userIdService.getUserId().pipe((0,ot.G)(),(0,G.M)(this.activeCartId$)).subscribe(([[Se,nt],Qe])=>{(function x(be,tt){return be!==e.Fds&&tt!==be})(nt,Se)&&this.loadOrMerge(Qe,nt,Se)}))}getActive(){return this.activeCart$}takeActive(){return this.isStable().pipe((0,z.h)(Se=>Se),(0,H.w)(()=>this.getActive()),(0,z.h)(Se=>!!Se),(0,ue.q)(1))}getActiveCartId(){return this.activeCart$.pipe((0,G.M)(this.userIdService.getUserId()),(0,E.U)(([Se,nt])=>Mn(Se,nt)),(0,De.x)())}takeActiveCartId(){return this.isStable().pipe((0,z.h)(Se=>Se),(0,H.w)(()=>this.getActiveCartId()),(0,z.h)(Se=>!!Se),(0,ue.q)(1))}getEntries(){return this.activeCartId$.pipe((0,H.w)(Se=>this.multiCartFacade.getEntries(Se)),(0,De.x)())}getLastEntry(Se){return this.activeCartId$.pipe((0,H.w)(nt=>this.multiCartFacade.getLastEntry(nt,Se)),(0,De.x)())}getLoading(){return this.cartEntity$.pipe((0,E.U)(Se=>Boolean(Se.loading)),(0,De.x)())}isStable(){return this.activeCartId$.pipe((0,H.w)(Se=>this.multiCartFacade.isStable(Se)))}load(Se,nt){nt===e.Fds&&Se===e.gSv||this.multiCartFacade.loadCart({userId:nt,cartId:Se,extraData:{active:!0}})}loadOrMerge(Se,nt,Qe){Se===e.gSv||Qe!==e.Fds?this.multiCartFacade.loadCart({userId:nt,cartId:Se,extraData:{active:!0}}):Boolean((0,e.P51)(this.isGuestCart()))?this.guestCartMerge(Se):this.multiCartFacade.mergeToCurrentCart({userId:nt,cartId:Se,extraData:{active:!0}})}guestCartMerge(Se){this.getEntries().pipe((0,ue.q)(1)).subscribe(nt=>{this.multiCartFacade.deleteCart(Se,e.Fds),this.addEntriesGuestMerge(nt)})}addEntriesGuestMerge(Se){const nt=Se.map(Qe=>({productCode:Qe.product?.code??"",quantity:Qe.quantity??0}));this.requireLoadedCart(!0).pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([Qe,at])=>{this.multiCartFacade.addEntries(at,Mn(Qe,at),nt)})}isCartCreating(Se,nt){return _t(nt)&&(Se.loading||Se.success||Se.error)}requireLoadedCart(Se=!1){this.checkInitLoad=void 0===this.checkInitLoad;const nt=(Se?this.cartEntity$.pipe((0,z.h)(()=>!Boolean((0,e.P51)(this.isGuestCart())))):this.cartEntity$).pipe((0,z.h)(Qe=>!Qe.loading||!!this.checkInitLoad));return this.activeCartId$.pipe((0,G.M)(nt),(0,z.h)(([Qe,at])=>!this.isCartCreating(at,Qe)),(0,E.U)(([,Qe])=>Qe),(0,ue.q)(1),(0,G.M)(this.userIdService.getUserId()),(0,ee.b)(([Qe,at])=>{N(Qe.value)&&at!==e.Fds&&!Qe.loading&&this.load(e.gSv,at),this.checkInitLoad=!1}),(0,oe.c)(nt),(0,G.M)(this.userIdService.getUserId()),(0,z.h)(([Qe,at])=>Boolean(at===e.Fds||Qe.success||Qe.error)),(0,ue.q)(1),(0,ee.b)(([Qe,at])=>{N(Qe.value)&&this.multiCartFacade.createCart({userId:at,extraData:{active:!0}})}),(0,oe.c)(nt),(0,z.h)(Qe=>Qe.success||Qe.error),(0,G.M)(this.activeCartId$),(0,z.h)(([Qe,at])=>!this.isCartCreating(Qe,at)),(0,E.U)(([Qe])=>Qe.value),(0,z.h)(Qe=>!N(Qe)),(0,ue.q)(1))}addEntry(Se,nt){this.requireLoadedCart().pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([Qe,at])=>{this.multiCartFacade.addEntry(at,Mn(Qe,at),Se,nt)})}removeEntry(Se){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([nt,Qe])=>{this.multiCartFacade.removeEntry(Qe,nt,Se.entryNumber)})}updateEntry(Se,nt){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([Qe,at])=>{this.multiCartFacade.updateEntry(at,Qe,Se,nt)})}getEntry(Se){return this.activeCartId$.pipe((0,H.w)(nt=>this.multiCartFacade.getEntry(nt,Se)),(0,De.x)())}addEmail(Se){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([nt,Qe])=>{this.multiCartFacade.assignEmail(nt,Qe,Se)})}getAssignedUser(){return this.activeCart$.pipe((0,E.U)(Se=>Se.user))}isGuestCart(Se){return Se?(0,ge.of)(this.isCartUserGuest(Se)):this.activeCart$.pipe((0,E.U)(nt=>this.isCartUserGuest(nt)),(0,De.x)())}isCartUserGuest(Se){const nt=Se.user;return Boolean(nt&&(nt.name===e.YI5||function xe(be){return!!be&&!!be.match(e.QIJ)}(nt.uid?.split("|").slice(1).join("|"))))}addEntries(Se){const nt=Se.map(Qe=>({productCode:Qe.product?.code??"",quantity:Qe.quantity??0}));this.requireLoadedCart().pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([Qe,at])=>{Qe&&this.multiCartFacade.addEntries(at,Mn(Qe,at),nt)})}reloadActiveCart(){(0,Ke.aj)([this.getActiveCartId(),this.userIdService.takeUserId()]).pipe((0,ue.q)(1),(0,E.U)(([Se,nt])=>{this.multiCartFacade.loadCart({cartId:Se,userId:nt,extraData:{active:!0}})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(P.WT),n.LFG(e.XBV))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})(),$o=(()=>{class be{constructor(Se){this.routingService=Se,this.NAVIGATION_SKIPS=2,this.navigationIdCount=0,this.subscription=new ve.w,this.cartValidationResult$=new rt.t(1),this.checkForValidationResultClear$=this.routingService.getRouterState().pipe((0,G.M)(this.cartValidationResult$),(0,ee.b)(([nt,Qe])=>{this.navigationIdCount+this.NAVIGATION_SKIPS<=nt.navigationId&&Qe.length&&(this.cartValidationResult$.next([]),this.navigationIdCount=nt.navigationId)})),this.setInitialState()}ngOnDestroy(){this.subscription.unsubscribe()}setInitialState(){this.setNavigationIdStep(),this.subscription.add(this.checkForValidationResultClear$.subscribe())}updateValidationResultAndRoutingId(Se){this.cartValidationResult$.next(Se),this.setNavigationIdStep()}setNavigationIdStep(){this.routingService.getRouterState().pipe((0,ue.q)(1)).subscribe(Se=>this.navigationIdCount=Se.navigationId)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(e.Znh))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Io=(()=>{class be{constructor(Se,nt,Qe,at,Cn){this.cartValidationConnector=Se,this.command=nt,this.userIdService=Qe,this.activeCartFacade=at,this.cartValidationStateService=Cn,this.validateCartCommand=this.command.create(()=>(0,Ke.aj)([this.activeCartFacade.getActiveCartId(),this.userIdService.takeUserId(),this.activeCartFacade.isStable()]).pipe((0,z.h)(([$n,kt,bn])=>bn),(0,ue.q)(1),(0,H.w)(([$n,kt])=>this.cartValidationConnector.validate($n,kt))),{strategy:e.flE.CancelPrevious})}validateCart(){return this.validateCartCommand.execute()}getValidationResults(){return this.cartValidationStateService.cartValidationResult$}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(vo),n.LFG(e.VDr),n.LFG(e.XBV),n.LFG(P.bu),n.LFG($o))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})(),tr=(()=>{class be{constructor(Se,nt,Qe){this.store=Se,this.activeCartFacade=nt,this.userIdService=Qe}addVoucher(Se,nt){this.combineUserAndCartId(nt).subscribe(([Qe,at])=>this.store.dispatch(new Me({userId:Qe,cartId:at,voucherId:Se})))}removeVoucher(Se,nt){this.combineUserAndCartId(nt).subscribe(([Qe,at])=>this.store.dispatch(new zt({userId:Qe,cartId:at,voucherId:Se})))}getAddVoucherResultError(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessErrorFactory(Ue)))}getAddVoucherResultSuccess(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessSuccessFactory(Ue)))}getAddVoucherResultLoading(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessLoadingFactory(Ue)))}resetAddVoucherProcessingState(){this.store.dispatch(new nn)}combineUserAndCartId(Se){return Se?this.userIdService.getUserId().pipe((0,ue.q)(1),(0,E.U)(nt=>[nt,Se])):(0,Ke.aj)([this.userIdService.getUserId(),this.activeCartFacade.getActiveCartId()]).pipe((0,ue.q)(1))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(h.yh),n.LFG(P.bu),n.LFG(e.XBV))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})(),di=(()=>{class be{constructor(Se,nt){this.store=Se,this.userIdService=nt}getCart(Se){return this.store.pipe((0,h.Ys)(rn(Se)))}getCarts(){return this.store.pipe((0,h.Ys)(hr))}getCartEntity(Se){return this.store.pipe((0,h.Ys)(Rt(Se)))}isStable(Se){return this.store.pipe((0,h.Ys)(gn(Se)),(0,ze.D)(nt=>nt?(0,Ie.H)(0):Nt.E),(0,De.x)())}generateTempCartId(){return`temp-${Math.random().toString(36).substr(2,9)}`}createCart({userId:Se,oldCartId:nt,toMergeCartGuid:Qe,extraData:at}){const Cn=this.generateTempCartId();return this.store.dispatch(new wn({extraData:at,userId:Se,oldCartId:nt,toMergeCartGuid:Qe,tempCartId:Cn})),this.getCartIdByType(at?.active?P.EI.ACTIVE:P.EI.NEW_CREATED).pipe((0,H.w)($n=>this.getCart($n)),(0,z.h)(e.pTN))}mergeToCurrentCart({userId:Se,cartId:nt,extraData:Qe}){const at=this.generateTempCartId();this.store.dispatch(new O({userId:Se,cartId:nt,extraData:Qe,tempCartId:at}))}loadCart({cartId:Se,userId:nt,extraData:Qe}){this.store.dispatch(new ke({userId:nt,cartId:Se,extraData:Qe}))}getEntries(Se){return this.store.pipe((0,h.Ys)(Jn(Se)))}getLastEntry(Se,nt){return this.store.pipe((0,h.Ys)(Jn(Se)),(0,E.U)(Qe=>{const at=Qe.filter(Cn=>Cn.product?.code===nt);return at?at[at.length-1]:void 0}))}addEntry(Se,nt,Qe,at){this.store.dispatch(new Qt({userId:Se,cartId:nt,productCode:Qe,quantity:at}))}addEntries(Se,nt,Qe){Qe.forEach(at=>{this.store.dispatch(new Qt({userId:Se,cartId:nt,productCode:at.productCode,quantity:at.quantity}))})}removeEntry(Se,nt,Qe){this.store.dispatch(new Ze({userId:Se,cartId:nt,entryNumber:`${Qe}`}))}updateEntry(Se,nt,Qe,at){at>0?this.store.dispatch(new cn({userId:Se,cartId:nt,entryNumber:`${Qe}`,quantity:at})):this.removeEntry(Se,nt,Qe)}getEntry(Se,nt){return this.store.pipe((0,h.Ys)(fr(Se,nt)))}assignEmail(Se,nt,Qe){this.store.dispatch(new er({userId:nt,cartId:Se,email:Qe}))}removeCart(Se){this.store.dispatch(new mt({cartId:Se}))}deleteCart(Se,nt){this.store.dispatch(new Kt({userId:nt,cartId:Se}))}reloadCart(Se,nt){this.userIdService.takeUserId().subscribe(Qe=>this.store.dispatch(new ke({userId:Qe,cartId:Se,extraData:nt})))}getCartIdByType(Se){return this.store.pipe((0,h.Ys)(To(Se)),(0,De.x)())}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(h.yh),n.LFG(e.XBV))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})(),je=(()=>{class be{constructor(Se,nt,Qe,at){this.userProfileFacade=Se,this.multiCartFacade=nt,this.baseSiteService=Qe,this.userIdService=at}getCart(){return this.selectiveCart$||(this.selectiveCart$=(0,Ke.aj)([this.getSelectiveCartId(),this.userProfileFacade.get(),this.userIdService.getUserId(),this.baseSiteService.getActive()]).pipe((0,De.x)(),(0,ee.b)(([Se,nt,Qe,at])=>{!Boolean(Se)&&Qe!==e.Fds&&nt?.customerId&&this.multiCartFacade.loadCart({userId:Qe,cartId:`selectivecart${at}${nt.customerId}`})}),(0,z.h)(([Se])=>Boolean(Se)),(0,H.w)(([Se])=>this.multiCartFacade.getCart(Se)),(0,Ye.d)({bufferSize:1,refCount:!0}))),this.selectiveCart$}getEntries(){return this.getSelectiveCartId().pipe((0,H.w)(Se=>this.multiCartFacade.getEntries(Se)))}isStable(){return this.getSelectiveCartId().pipe((0,H.w)(Se=>this.multiCartFacade.isStable(Se)))}addEntry(Se,nt){this.getSelectiveIdWithUserId().subscribe(([Qe,at])=>{this.multiCartFacade.addEntry(at,Qe,Se,nt)})}removeEntry(Se){this.getSelectiveIdWithUserId().subscribe(([nt,Qe])=>{this.multiCartFacade.removeEntry(Qe,nt,Se.entryNumber)})}updateEntry(Se,nt){this.getSelectiveIdWithUserId().subscribe(([Qe,at])=>{this.multiCartFacade.updateEntry(at,Qe,Se,nt)})}getEntry(Se){return this.getSelectiveCartId().pipe((0,H.w)(nt=>this.multiCartFacade.getEntry(nt,Se)))}getSelectiveCartId(){return this.multiCartFacade.getCartIdByType(P.EI.SELECTIVE)}getSelectiveIdWithUserId(){return this.getSelectiveCartId().pipe((0,De.x)(),(0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1))}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(fe.aT),n.LFG(P.WT),n.LFG(e.Do$),n.LFG(e.XBV))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac}),be})();const St=[Ho,{provide:P.bu,useExisting:Ho},tr,{provide:P.LN,useExisting:tr},di,{provide:P.WT,useExisting:di},je,{provide:P.Oo,useExisting:je},Io,{provide:P.mU,useExisting:Io}];let lt=(()=>{class be extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(Se){return super.hasMatch(Se)&&this.getErrors(Se).some(Be)}handleError(Se,nt){this.handleCartNotFoundError(Se,nt),this.handleOtherCartErrors(Se,nt)}handleCartNotFoundError(Se,nt){this.getErrors(nt).filter(Qe=>wr(Qe)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.cartNotFound"},e.xUg.MSG_TYPE_ERROR)})}handleOtherCartErrors(Se,nt){this.getErrors(nt).filter(Qe=>"notFound"!==Qe.reason||"cart"!==Qe.subjectType).forEach(Qe=>{this.globalMessageService.add(Qe.message?Qe.message:{key:"httpHandlers.otherCartErrors"},e.xUg.MSG_TYPE_ERROR)})}getErrors(Se){return(Se.error?.errors||[]).filter(nt=>"JaloObjectNoLongerValidError"!==nt.type)}}return be.\u0275fac=function(){let tt;return function(nt){return(tt||(tt=n.n5z(be)))(nt||be)}}(),be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Ht=(()=>{class be extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(Se){return super.hasMatch(Se)&&this.getErrors(Se).some(xr)}handleError(Se,nt){this.handleVoucherExceededError(Se,nt),this.handleVoucherInvalidError(Se,nt)}handleVoucherExceededError(Se,nt){this.getErrors(nt).filter(Qe=>function Xr(be){return"coupon.already.redeemed"===be.message}(Qe)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.voucherExceeded"},e.xUg.MSG_TYPE_ERROR)})}handleVoucherInvalidError(Se,nt){this.getErrors(nt).filter(Qe=>function mo(be){return"coupon.invalid.code.provided"===be.message}(Qe)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.invalidCodeProvided"},e.xUg.MSG_TYPE_ERROR)})}getErrors(Se){return(Se.error?.errors||[]).filter(nt=>"JaloObjectNoLongerValidError"!==nt.type)}}return be.\u0275fac=function(){let tt;return function(nt){return(tt||(tt=n.n5z(be)))(nt||be)}}(),be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Yt=(()=>{class be{}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({providers:[Vo],imports:[ie.ez,e.vUS,h.Aw.forFeature("cart",Eo,{metaReducers:ui}),Fe.sQ.forFeature(xo)]}),be})(),Xt=(()=>{class be{}return be.\u0275fac=function(Se){return new(Se||be)},be.\u0275mod=n.oAB({type:be}),be.\u0275inj=n.cJS({providers:[Rr,ar,Hn,vo,...St,{provide:e.kck,useExisting:lt,multi:!0},{provide:e.kck,useExisting:Ht,multi:!0}],imports:[_o,Yt,Dr,Kn]}),be})();const Sn=new n.OlP("CartValidationNormalizer");let Gr=(()=>{class be{constructor(Se){this.config=Se}isSelectiveCartEnabled(){return Boolean(this.config?.cart?.selectiveCart?.enabled)}isCartValidationEnabled(){return Boolean(this.config?.cart?.validation?.enabled)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(P.qB))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Vr=(()=>{class be{constructor(Se,nt,Qe,at,Cn,$n,kt){this.cartValidationService=Se,this.semanticPathService=nt,this.router=Qe,this.globalMessageService=at,this.activeCartService=Cn,this.cartValidationStateService=$n,this.cartConfigService=kt,this.GLOBAL_MESSAGE_TIMEOUT=1e4}canActivate(){return this.cartConfigService.isCartValidationEnabled()?this.cartValidationService.validateCart().pipe((0,G.M)(this.activeCartService.getEntries()),(0,E.U)(([Se,nt])=>{if(this.cartValidationStateService.updateValidationResultAndRoutingId(Se.cartModifications??[]),void 0!==Se.cartModifications&&0!==Se.cartModifications.length){let Qe;const at=Se.cartModifications[0];return Qe=1===nt.length&&nt[0].product?.code===at.entry?.product?.code&&at.statusCode===P.v$.NO_STOCK?{key:"validation.cartEntryRemoved",params:{name:at.entry?.product?.name}}:{key:"validation.cartEntriesChangeDuringCheckout"},this.globalMessageService.add(Qe,e.xUg.MSG_TYPE_ERROR,this.GLOBAL_MESSAGE_TIMEOUT),this.activeCartService.reloadActiveCart(),this.router.parseUrl(this.semanticPathService.get("cart")??"")}return!0})):(0,ge.of)(!0)}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(P.mU),n.LFG(e.hCH),n.LFG(ne.F0),n.LFG(e.IWp),n.LFG(P.bu),n.LFG($o),n.LFG(Gr))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),An=(()=>{class be{constructor(Se){this.actionsSubject=Se}getResults(Se){return this.actionsSubject.pipe((0,Fe.l4)(Ot,Ft),(0,z.h)(nt=>nt.payload.cartId===Se),(0,E.U)(nt=>this.mapMessages(nt)))}mapMessages(Se){const{productCode:nt}=Se.payload;if(Se instanceof me){const{quantity:Qe,quantityAdded:at,entry:Cn,statusCode:$n}=Se.payload;if($n===P.QX.LOW_STOCK)return{productCode:nt,statusCode:$n,productName:Cn?.product?.name,quantity:Qe,quantityAdded:at};if($n===P.QX.SUCCESS||$n===P.QX.NO_STOCK)return{productCode:nt,statusCode:$n,productName:Cn?.product?.name}}else if(Se instanceof vt){const{error:Qe}=Se.payload;if("UnknownIdentifierError"===Qe?.details[0]?.type)return{productCode:nt,statusCode:P.QX.UNKNOWN_IDENTIFIER}}return(0,n.X6Q)()&&console.warn("Unrecognized cart add entry action type while mapping messages",Se),{productCode:nt,statusCode:P.QX.UNKNOWN_ERROR}}}return be.\u0275fac=function(Se){return new(Se||be)(n.LFG(h.UO))},be.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},7828:(ye,X,v)=>{"use strict";v.d(X,{Tp:()=>Ye});var n=v(4650),e=v(3749),h=v(6322),P=v(529),E=v(1737),M=v(7221),R=v(373),V=v(4850),j=v(8809),H=v(6895);let G=(()=>{class ot{constructor(Ge){this.converter=Ge}convert(Ge,ge){return void 0===ge&&(ge={...Ge}),this.removeDuplicatePromotions(Ge,ge),Ge.entries&&(ge.entries=Ge.entries.map(ve=>({...ve,product:this.converter.convert(ve.product,h.jrf),promotions:this.converter.convert({item:ve,promotions:ge?.appliedProductPromotions},e.Cx)}))),ge}removeDuplicatePromotions(Ge,ge){Ge&&Ge.potentialOrderPromotions&&(ge.potentialOrderPromotions=this.removeDuplicateItems(Ge.potentialOrderPromotions)),Ge&&Ge.potentialProductPromotions&&(ge.potentialProductPromotions=this.removeDuplicateItems(Ge.potentialProductPromotions)),Ge&&Ge.appliedOrderPromotions&&(ge.appliedOrderPromotions=this.removeDuplicateItems(Ge.appliedOrderPromotions)),Ge&&Ge.appliedProductPromotions&&(ge.appliedProductPromotions=this.removeDuplicateItems(Ge.appliedProductPromotions))}removeDuplicateItems(Ge){return Ge.filter((ge,ve,de)=>ve===de.map(rt=>JSON.stringify(rt)).indexOf(JSON.stringify(ge)))}}return ot.\u0275fac=function(Ge){return new(Ge||ot)(n.LFG(h.IXI))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),z=(()=>{class ot{convert(Ge,ge){return this.getProductPromotion(Ge.item,Ge.promotions)}getProductPromotion(Ge,ge){const ve=[];if(ge&&ge.length>0)for(const de of ge)if(de.description&&de.consumedEntries&&de.consumedEntries.length>0)for(const Ke of de.consumedEntries)this.isConsumedByEntry(Ke,Ge)&&ve.push(de);return ve}isConsumedByEntry(Ge,ge){const ve=Ge.orderEntryNumber;if(ge&&ge.entries&&ge.entries.length>0){for(const de of ge.entries)if(de.entryNumber===ve)return!0;return!1}return ve===ge?.entryNumber}}return ot.\u0275fac=function(Ge){return new(Ge||ot)},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),q=(()=>{class ot{constructor(Ge,ge,ve){this.http=Ge,this.occEndpointsService=ge,this.converterService=ve}add(Ge,ge,ve,de=1){const Ke=this.occEndpointsService.buildUrl("addEntries",{urlParams:{userId:Ge,cartId:ge,quantity:de}});if(Ke.includes(`quantity=${de}`)){const Nt=new P.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(Ke,{},{headers:Nt,params:{code:ve}}).pipe(this.converterService.pipeable(e.Ke))}const rt={quantity:de,product:{code:ve}},Ie=new P.WM({"Content-Type":"application/json"});return this.http.post(Ke,rt,{headers:Ie}).pipe(this.converterService.pipeable(e.Ke))}update(Ge,ge,ve,de,Ke){let rt={};Ke&&(rt={deliveryPointOfService:{name:Ke}});const Ie=new P.WM({"Content-Type":"application/json"}),Nt=this.occEndpointsService.buildUrl("updateEntries",{urlParams:{userId:Ge,cartId:ge,entryNumber:ve}});return this.http.patch(Nt,{quantity:de,...rt},{headers:Ie}).pipe(this.converterService.pipeable(e.Ke))}remove(Ge,ge,ve){const de=new P.WM({"Content-Type":"application/x-www-form-urlencoded"}),Ke=this.occEndpointsService.buildUrl("removeEntries",{urlParams:{userId:Ge,cartId:ge,entryNumber:ve}});return this.http.delete(Ke,{headers:de})}}return ot.\u0275fac=function(Ge){return new(Ge||ot)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),ee=(()=>{class ot{constructor(Ge,ge,ve){this.http=Ge,this.occEndpoints=ge,this.converter=ve}getCartVoucherEndpoint(Ge,ge){return this.occEndpoints.buildUrl("cartVoucher",{urlParams:{userId:Ge,cartId:ge}})}getHeaders(Ge){let ge=new P.WM({"Content-Type":"application/json"});return Ge===h.Fds&&(ge=h.Fox.createHeader(h._Re,!0,ge)),ge}add(Ge,ge,ve){const de=this.getCartVoucherEndpoint(Ge,ge),Ke=JSON.stringify({}),rt=(new P.LE).set("voucherId",ve),Ie=this.getHeaders(Ge);return this.http.post(de,Ke,{headers:Ie,params:rt}).pipe((0,M.K)(Nt=>(0,E._)(Nt)),this.converter.pipeable(e.ij))}remove(Ge,ge,ve){const de=this.getCartVoucherEndpoint(Ge,ge)+"/"+encodeURIComponent(ve),Ke=this.getHeaders(Ge);return this.http.delete(de,{headers:Ke}).pipe((0,M.K)(rt=>(0,E._)(rt)))}}return ot.\u0275fac=function(Ge){return new(Ge||ot)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),ue=(()=>{class ot{constructor(Ge,ge,ve){this.http=Ge,this.occEndpointsService=ge,this.converterService=ve}loadAll(Ge){return this.http.get(this.occEndpointsService.buildUrl("carts",{urlParams:{userId:Ge}})).pipe((0,R.j)("carts"),(0,V.U)(ge=>ge??[]),this.converterService.pipeableMany(e.jK))}load(Ge,ge){return ge===h.gSv?this.loadAll(Ge).pipe((0,V.U)(ve=>ve.find(de=>void 0===de.saveTime))):this.http.get(this.occEndpointsService.buildUrl("cart",{urlParams:{userId:Ge,cartId:ge}})).pipe(this.converterService.pipeable(e.jK))}create(Ge,ge,ve){const de=JSON.stringify({}),Ke={};return ge&&(Ke.oldCartId=ge),ve&&(Ke.toMergeCartGuid=ve),this.http.post(this.occEndpointsService.buildUrl("createCart",{urlParams:{userId:Ge},queryParams:Ke}),de).pipe(this.converterService.pipeable(e.jK))}delete(Ge,ge){let ve=new P.WM;return Ge===h.Fds&&(ve=h.Fox.createHeader(h._Re,!0,ve)),this.http.delete(this.occEndpointsService.buildUrl("deleteCart",{urlParams:{userId:Ge,cartId:ge}}),{headers:ve})}save(Ge,ge,ve,de){const Ke=this.occEndpointsService.buildUrl("saveCart",{urlParams:{userId:Ge,cartId:ge,saveCartName:ve,saveCartDescription:de}});return this.http.patch(Ke,ge).pipe((0,R.j)("savedCartData"),this.converterService.pipeable(e.jK))}addEmail(Ge,ge,ve){let de=new P.WM({"Content-Type":"application/x-www-form-urlencoded"});de=h.Fox.createHeader(h._Re,!0,de);const Ke=(new P.LE).set("email",ve),rt=this.occEndpointsService.buildUrl("addEmail",{urlParams:{userId:Ge,cartId:ge}});return this.http.put(rt,Ke,{headers:de})}}return ot.\u0275fac=function(Ge){return new(Ge||ot)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),oe=(()=>{class ot{constructor(Ge,ge,ve){this.http=Ge,this.occEndpoints=ge,this.converter=ve}validate(Ge,ge){const ve=this.occEndpoints.buildUrl("validate",{urlParams:{cartId:Ge,userId:ge}});return this.http.post(ve,null).pipe((0,M.K)(de=>(0,E._)((0,h.cxH)(de))),this.converter.pipeable(j.YA))}}return ot.\u0275fac=function(Ge){return new(Ge||ot)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ot.\u0275prov=n.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const De={backend:{occ:{endpoints:{carts:"users/${userId}/carts?fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description)",cart:"users/${userId}/carts/${cartId}?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description",createCart:"users/${userId}/carts?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user",addEntries:"users/${userId}/carts/${cartId}/entries",updateEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",removeEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",addEmail:"users/${userId}/carts/${cartId}/email",deleteCart:"users/${userId}/carts/${cartId}",cartVoucher:"users/${userId}/carts/${cartId}/vouchers",saveCart:"/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}",validate:"users/${userId}/carts/${cartId}/validate?fields=DEFAULT"}}}};let Ye=(()=>{class ot{}return ot.\u0275fac=function(Ge){return new(Ge||ot)},ot.\u0275mod=n.oAB({type:ot}),ot.\u0275inj=n.cJS({providers:[(0,h.i51)(De),{provide:j.YW,useClass:ue},{provide:e.jK,useExisting:G,multi:!0},{provide:e.Cx,useExisting:z,multi:!0},{provide:j.vI,useClass:q},{provide:j.Eu,useClass:ee},{provide:j.n5,useClass:oe}],imports:[H.ez]}),ot})()},3749:(ye,X,v)=>{"use strict";v.d(X,{A7:()=>De,Bx:()=>$t,Cj:()=>z,Cx:()=>qt,EI:()=>It,Es:()=>Nt,FC:()=>Re,JP:()=>it,K$:()=>ue,Ke:()=>Pt,Ks:()=>rt,LN:()=>Qt,N0:()=>Ke,O0:()=>ie,Oo:()=>me,QX:()=>pn,SJ:()=>j,Tc:()=>ge,VD:()=>ee,WT:()=>Ue,X:()=>Ye,aT:()=>Ie,aY:()=>de,bu:()=>Dt,c7:()=>ve,cA:()=>G,dC:()=>oe,eE:()=>V,gI:()=>ot,ij:()=>En,jK:()=>ut,kd:()=>fe,lM:()=>Ut,mU:()=>dt,nw:()=>Ve,oC:()=>Ze,pA:()=>Ge,pl:()=>_e,qB:()=>Zt,re:()=>Fe,su:()=>H,uB:()=>wt,uP:()=>q,uX:()=>ht,uf:()=>Ft,v$:()=>cn,wj:()=>ze,yj:()=>vt});var n=v(4650),e=v(610),h=v(6322),P=v(1446),E=v(2654);const M={cart:{validation:{enabled:!1},selectiveCart:{enabled:!1}}},R={routing:{routes:{cart:{paths:["cart"]}}}},V=Symbol("ORDER_ENTRIES_CONTEXT");class j extends h.W8x{}let H=(()=>{class Ce extends j{}return Ce.type="CreateCartEvent",Ce})(),G=(()=>{class Ce extends j{}return Ce.type="CreateCartSuccessEvent",Ce})(),z=(()=>{class Ce extends j{}return Ce.type="CreateCartFailEvent",Ce})(),q=(()=>{class Ce extends j{}return Ce.type="CartAddEntryEvent",Ce})(),ee=(()=>{class Ce extends j{}return Ce.type="CartAddEntrySuccessEvent",Ce})(),ue=(()=>{class Ce extends j{}return Ce.type="CartAddEntryFailEvent",Ce})(),oe=(()=>{class Ce extends j{}return Ce.type="CartRemoveEntryFailEvent",Ce})(),De=(()=>{class Ce extends j{}return Ce.type="CartRemoveEntrySuccessEvent",Ce})(),Ye=(()=>{class Ce extends j{}return Ce.type="CartUpdateEntrySuccessEvent",Ce})(),ot=(()=>{class Ce extends j{}return Ce.type="CartUpdateEntryFailEvent",Ce})(),ze=(()=>{class Ce extends h.W8x{}return Ce.type="CartUiEventAddToCart",Ce})(),Ge=(()=>{class Ce extends j{}return Ce.type="MergeCartSuccessEvent",Ce})(),ge=(()=>{class Ce extends j{}return Ce.type="LoadCartEvent",Ce})(),ve=(()=>{class Ce extends j{}return Ce.type="RemoveCartEvent",Ce})(),de=(()=>{class Ce extends j{}return Ce.type="DeleteCartEvent",Ce})(),Ke=(()=>{class Ce extends j{}return Ce.type="DeleteCartSuccessEvent",Ce})(),rt=(()=>{class Ce extends j{}return Ce.type="DeleteCartFailEvent",Ce})(),Ie=(()=>{class Ce extends j{}return Ce.type="AddCartVoucherEvent",Ce})(),Nt=(()=>{class Ce extends Ie{}return Ce.type="AddCartVoucherSuccessEvent",Ce})(),Fe=(()=>{class Ce extends Ie{}return Ce.type="AddCartVoucherFailEvent",Ce})(),ht=(()=>{class Ce extends j{}return Ce.type="RemoveCartVoucherEvent",Ce})(),Re=(()=>{class Ce extends ht{}return Ce.type="RemoveCartVoucherSuccessEvent",Ce})(),fe=(()=>{class Ce extends ht{}return Ce.type="RemoveCartVoucherFailEvent",Ce})();const ie="cartBase",ne="cartBaseCore",Ve="miniCart",_e="addToCart";let Ue=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(){return(0,h.wvQ)({facade:Ce,feature:ne,methods:["getCart","getCarts","getCartEntity","isStable","createCart","mergeToCurrentCart","loadCart","getEntries","getLastEntry","addEntry","addEntries","removeEntry","updateEntry","getEntry","assignEmail","removeCart","deleteCart","reloadCart","getCartIdByType"],async:!0})},providedIn:"root"}),Ce})(),Ee=(()=>{class Ce{constructor(Me,pt){this.eventService=Me,this.multiCartFacade=pt,this.subscriptions=new E.w,this.onCartBaseAction()}onCartBaseAction(){this.subscriptions.add(this.eventService.get(ge).subscribe(({userId:Me,cartId:pt})=>{Me&&pt&&this.multiCartFacade.loadCart({userId:Me,cartId:pt})})),this.subscriptions.add(this.eventService.get(ve).subscribe(({cartId:Me})=>{this.multiCartFacade.removeCart(Me)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(n.LFG(h.POd),n.LFG(Ue))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Ot=(()=>{class Ce{constructor(Me){}}return Ce.\u0275fac=function(Me){return new(Me||Ce)(n.LFG(Ee))},Ce.\u0275mod=n.oAB({type:Ce}),Ce.\u0275inj=n.cJS({}),Ce})();const Ft=new n.OlP("ActiveCartOrderEntriesContext");function Ct(){return{featureModules:{[ie]:{cmsComponents:["CartApplyCouponComponent","CartComponent","CartProceedToCheckoutComponent","CartTotalsComponent","SaveForLaterComponent","ClearCartComponent"]},[Ve]:{cmsComponents:["MiniCartComponent"]},[_e]:{cmsComponents:["ProductAddToCartComponent"]},[ne]:ie}}}let it=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275mod=n.oAB({type:Ce}),Ce.\u0275inj=n.cJS({providers:[(0,h.x2j)(Ct),(0,h.i51)(M),(0,h.i51)(R)],imports:[Ot,e.Bz.forChild([{path:null,canActivate:[P.al$],component:P.wAB,data:{cxRoute:"cart",cxContext:{[V]:Ft}}}])]}),Ce})(),Zt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(Me){let pt=null;return pt=Me?new(Me||Ce):n.LFG(h.DeH),pt},providedIn:"root"}),Ce})(),wt=(()=>{class Ce extends P.kl2{}return Ce.type="CartPageEvent",Ce})(),Dt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(){return(0,h.wvQ)({facade:Ce,feature:ne,methods:["getActive","takeActive","getActiveCartId","takeActiveCartId","getEntries","getLastEntry","getLoading","isStable","addEntry","removeEntry","updateEntry","getEntry","addEmail","getAssignedUser","isGuestCart","addEntries","requireLoadedCart","reloadActiveCart"],async:!0})},providedIn:"root"}),Ce})(),dt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(){return(0,h.wvQ)({facade:Ce,feature:ne,methods:["validateCart","getValidationResults"]})},providedIn:"root"}),Ce})(),Qt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(){return(0,h.wvQ)({facade:Ce,feature:ne,methods:["addVoucher","removeVoucher","getAddVoucherResultError","getAddVoucherResultSuccess","getAddVoucherResultLoading","resetAddVoucherProcessingState"],async:!0})},providedIn:"root"}),Ce})(),me=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:function(){return(0,h.wvQ)({facade:Ce,feature:ne,methods:["getCart","getEntries","isStable","addEntry","removeEntry","updateEntry","getEntry"],async:!0})},providedIn:"root"}),Ce})(),vt=(()=>{class Ce{}return Ce.\u0275fac=function(Me){return new(Me||Ce)},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();var Ze=(()=>{return(Ce=Ze||(Ze={})).ITEM="cx-cart-item",Ce.LIST_ITEM="cx-cart-item-list-row",Ce.ITEM_DETAILS="cx-cart-item.details",Ce.ITEM_CONFIGURATOR_ISSUES="cx-configurator-issues-notification",Ce.ITEM_BUNDLE_DETAILS="cx-cart-item.bundle-details",Ce.ORDER_SUMMARY="cx-order-summary",Ce.CART_ITEM_LIST="cx-cart-item-list",Ze;var Ce})(),$t=(()=>{return(Ce=$t||($t={})).ActiveCart="CART",Ce.Checkout="CHECKOUT",Ce.Order="ORDER",Ce.SaveForLater="SAVE_FOR_LATER",Ce.SavedCart="SAVED_CART",$t;var Ce})(),It=(()=>{return(Ce=It||(It={})).ACTIVE="Active",Ce.WISH_LIST="WishList",Ce.SELECTIVE="Selective",Ce.NEW_CREATED="NewCreated",It;var Ce})(),cn=(()=>{return(Ce=cn||(cn={})).NO_STOCK="noStock",Ce.LOW_STOCK="lowStock",Ce.REVIEW_CONFIGURATION="reviewConfiguration",Ce.PRICING_ERROR="pricingError",Ce.UNRESOLVABLE_ISSUES="unresolvableIssues",cn;var Ce})(),Ut=(()=>{return(Ce=Ut||(Ut={})).ACTIVE_CART="ACTIVE_CART",Ce.NEW_SAVED_CART="NEW_SAVED_CART",Ce.QUICK_ORDER="QUICK_ORDER",Ce.SAVED_CART="SAVED_CART",Ce.ORDER_CONFIRMATION="ORDER_CONFIRMATION",Ce.ORDER_DETAILS="ORDER_DETAILS",Ce.UNIT_ORDER_DETAILS="UNIT_ORDER_DETAILS",Ut;var Ce})(),pn=(()=>{return(Ce=pn||(pn={})).SUCCESS="success",Ce.LOW_STOCK="lowStock",Ce.NO_STOCK="noStock",Ce.UNKNOWN_IDENTIFIER="unknownIdentifier",Ce.UNKNOWN_ERROR="unknownError",Ce.LIMIT_EXCEEDED="limitExceeded",pn;var Ce})();const ut=new n.OlP("CartNormalizer"),qt=new n.OlP("OrderEntryPromotionsNormalizer"),Pt=new n.OlP("CartModificationNormalizer"),En=(new n.OlP("SaveCartNormalizer"),new n.OlP("CartVoucherNormalizer"))},8581:(ye,X,v)=>{"use strict";v.d(X,{Jb:()=>M,Jx:()=>V,KI:()=>z,be:()=>G,e$:()=>ue});var n=v(4650),e=v(6322),h=v(610),P=v(3749),E=v(1446);const M={quickOrder:{searchForm:{displayProductImages:!0,maxProducts:5,minCharactersBeforeRequest:3},list:{hardDeleteTimeout:7e3}}},V="cartQuickOrder",j="cartQuickOrderCore";let G=(()=>{class oe{}return oe.\u0275fac=function(Ye){return new(Ye||oe)},oe.\u0275prov=n.Yz7({token:oe,factory:function(){return function H(){return(0,e.wvQ)({facade:G,feature:j,methods:["addProduct","addToCart","clearList","canAdd","setListLimit","getEntries","getProductAdded","loadEntries","softDeleteEntry","searchProducts","setProductAdded","updateEntryQuantity","getSoftDeletedEntries","restoreSoftDeletedEntry","hardDeleteEntry","clearDeletedEntries","getNonPurchasableProductError","setNonPurchasableProductError","clearNonPurchasableProductError"]})}()},providedIn:"root"}),oe})();const z=new n.OlP("QuickOrderOrderEntriesContext");function q(){return{featureModules:{[V]:{cmsComponents:["QuickOrderComponent","CartQuickOrderFormComponent"]},[j]:V}}}const ee={routing:{routes:{quickOrder:{paths:["my-account/quick-order"]}}}};let ue=(()=>{class oe{}return oe.\u0275fac=function(Ye){return new(Ye||oe)},oe.\u0275mod=n.oAB({type:oe}),oe.\u0275inj=n.cJS({providers:[(0,e.x2j)(q),(0,e.i51)(ee),(0,e.i51)(M)],imports:[h.Bz.forChild([{path:null,canActivate:[E.al$],component:E.wAB,data:{cxRoute:"quickOrder",cxContext:{[P.eE]:z}}}])]}),oe})()},950:(ye,X,v)=>{"use strict";v.d(X,{$O:()=>rt,$Q:()=>H,AE:()=>ge,Bi:()=>q,Fd:()=>ve,Lr:()=>z,PN:()=>V,UQ:()=>ot,aD:()=>Ge,dE:()=>R,eV:()=>j,fT:()=>De,gl:()=>Ye,j$:()=>ee,j4:()=>oe,jk:()=>de,sY:()=>G,yt:()=>ue});var n=v(3749),e=v(4650),h=v(6322),P=v(1446),E=v(610);class M extends n.SJ{}let R=(()=>{class Ie extends M{}return Ie.type="SaveCartEvent",Ie})(),V=(()=>{class Ie extends M{}return Ie.type="SaveCartSuccessEvent",Ie})(),j=(()=>{class Ie extends M{}return Ie.type="SaveCartEvent",Ie})(),H=(()=>{class Ie extends M{}return Ie.type="RestoreSavedCartEvent",Ie})(),G=(()=>{class Ie extends M{}return Ie.type="RestoreSavedCartSuccessEvent",Ie})(),z=(()=>{class Ie extends M{}return Ie.type="RestoreSavedCartFailEvent",Ie})(),q=(()=>{class Ie extends M{}return Ie.type="EditSavedCartEvent",Ie})(),ee=(()=>{class Ie extends M{}return Ie.type="EditSavedCartSuccessEvent",Ie})(),ue=(()=>{class Ie extends M{}return Ie.type="EditSavedCartFailEvent",Ie})(),oe=(()=>{class Ie extends M{}return Ie.type="CloneSavedCartEvent",Ie})(),De=(()=>{class Ie extends M{}return Ie.type="CloneSavedCartSuccessEvent",Ie})(),Ye=(()=>{class Ie extends M{}return Ie.type="CloneSavedCartFailEvent",Ie})();const ot="cartSavedCart",ze="cartSavedCartCore";let Ge=(()=>{class Ie{}return Ie.\u0275fac=function(Fe){return new(Fe||Ie)},Ie.\u0275prov=e.Yz7({token:Ie,factory:function(){return(0,h.wvQ)({facade:Ie,feature:ze,methods:["editSavedCart","deleteSavedCart","getSavedCart","getSavedCartList","loadSavedCart","clearCloneSavedCart","clearRestoreSavedCart","clearSaveCart","clearSavedCarts","get","getList","getCloneSavedCartProcessError","getCloneSavedCartProcessLoading","getCloneSavedCartProcessSuccess","getRestoreSavedCartProcessError","getRestoreSavedCartProcessLoading","getRestoreSavedCartProcessSuccess","getSaveCartProcessError","getSaveCartProcessLoading","getSaveCartProcessSuccess","getSavedCartListProcess","getSavedCartListProcessLoading","isStable","cloneSavedCart","loadSavedCarts","restoreSavedCart","saveCart"],async:!0})},providedIn:"root"}),Ie})();var ge=(()=>{return(Ie=ge||(ge={})).EDIT="edit",Ie.DELETE="delete",Ie.SAVE="save",Ie.RESTORE="restore",ge;var Ie})();const ve=new e.OlP("SavedCartOrderEntriesContext"),de=new e.OlP("NewSavedCartOrderEntriesContext");function Ke(){return{featureModules:{[ot]:{cmsComponents:["AddToSavedCartsComponent","AccountSavedCartHistoryComponent","SavedCartDetailsOverviewComponent","SavedCartDetailsItemsComponent","SavedCartDetailsActionComponent"],dependencies:[n.O0]},[ze]:ot}}}let rt=(()=>{class Ie{}return Ie.\u0275fac=function(Fe){return new(Fe||Ie)},Ie.\u0275mod=e.oAB({type:Ie}),Ie.\u0275inj=e.cJS({providers:[(0,h.x2j)(Ke),(0,h.i51)({routing:{routes:{savedCarts:{paths:["my-account/saved-carts"]},savedCartsDetails:{paths:["my-account/saved-cart/:savedCartId"],paramsMapping:{savedCartId:"savedCartId"}}}}})],imports:[E.Bz.forChild([{path:null,canActivate:[h.a1M,P.al$],component:P.wAB,data:{cxRoute:"savedCartsDetails",cxContext:{[n.eE]:ve}}},{path:null,canActivate:[h.a1M,P.al$],component:P.wAB,data:{cxRoute:"savedCarts",cxContext:{[n.eE]:de}}}])]}),Ie})()},1487:(ye,X,v)=>{"use strict";v.d(X,{CN:()=>ot,Go:()=>Ge,H0:()=>z,JO:()=>G,Rx:()=>j,hA:()=>q,uj:()=>ge,vs:()=>ze});var n=v(4650),e=v(7935),h=v(6322),P=v(2654),E=v(6787);const M={checkout:{steps:[{id:"paymentType",name:"checkoutB2B.progress.methodOfPayment",routeName:"checkoutPaymentType",type:["paymentType"]},{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[e.u0.FREE],guest:!1}},R={routing:{routes:{checkoutPaymentType:{paths:["checkout/payment-type"]}}}};class V extends e.iJ{}let j=(()=>{class ve extends V{}return ve.type="CheckoutCostCenterSetEvent",ve})();class H extends e.iJ{}let G=(()=>{class ve extends H{}return ve.type="CheckoutPaymentTypesQueryReloadEvent",ve})(),z=(()=>{class ve extends H{}return ve.type="CheckoutPaymentTypesQueryResetEvent",ve})(),q=(()=>{class ve extends H{}return ve.type="CheckoutPaymentTypeSetEvent",ve})(),ee=(()=>{class ve{constructor(Ke){this.eventService=Ke,this.subscriptions=new P.w,this.onCostCenterSet()}onCostCenterSet(){this.subscriptions.add(this.eventService.get(j).subscribe(({cartId:Ke,userId:rt})=>{this.eventService.dispatch({cartId:Ke,userId:rt},e.Nw),this.eventService.dispatch({},e.$M)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ve.\u0275fac=function(Ke){return new(Ke||ve)(n.LFG(h.POd))},ve.\u0275prov=n.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),ue=(()=>{class ve{constructor(Ke){this.eventService=Ke,this.subscriptions=new P.w,this.onPaymentTypeSet(),this.onGetPaymentTypesQueryReload(),this.onGetPaymentTypesQueryReset()}onPaymentTypeSet(){this.subscriptions.add(this.eventService.get(q).subscribe(({userId:Ke,cartId:rt})=>{this.eventService.dispatch({userId:Ke,cartId:rt},e.Nw),this.eventService.dispatch({},e.$M)}))}onGetPaymentTypesQueryReload(){this.subscriptions.add((0,E.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},G)}))}onGetPaymentTypesQueryReset(){this.subscriptions.add((0,E.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},z)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ve.\u0275fac=function(Ke){return new(Ke||ve)(n.LFG(h.POd))},ve.\u0275prov=n.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),oe=(()=>{class ve{constructor(Ke,rt){}}return ve.\u0275fac=function(Ke){return new(Ke||ve)(n.LFG(ee),n.LFG(ue))},ve.\u0275mod=n.oAB({type:ve}),ve.\u0275inj=n.cJS({}),ve})();const De=[...e.r2,"CheckoutCostCenterComponent","CheckoutPaymentType"];function Ye(){return{featureModules:{[e.W$]:{cmsComponents:De}}}}let ot=(()=>{class ve{}return ve.\u0275fac=function(Ke){return new(Ke||ve)},ve.\u0275mod=n.oAB({type:ve}),ve.\u0275inj=n.cJS({providers:[(0,h.i51)(M),(0,h.i51)(R),(0,h.x2j)(Ye)],imports:[oe]}),ve})(),ze=(()=>{class ve{}return ve.\u0275fac=function(Ke){return new(Ke||ve)},ve.\u0275prov=n.Yz7({token:ve,factory:function(){return(0,h.wvQ)({facade:ve,feature:e.VR,methods:["setCostCenter","getCostCenterState"]})},providedIn:"root"}),ve})(),Ge=(()=>{class ve{}return ve.\u0275fac=function(Ke){return new(Ke||ve)},ve.\u0275prov=n.Yz7({token:ve,factory:function(){return(0,h.wvQ)({facade:ve,feature:e.VR,methods:["getPaymentTypes","getPaymentTypesState","setPaymentType","getSelectedPaymentTypeState","isAccountPayment","getPurchaseOrderNumberState"]})},providedIn:"root"}),ve})();var ge=(()=>{return(ve=ge||(ge={})).ACCOUNT_PAYMENT="ACCOUNT",ve.CARD_PAYMENT="CARD",ge;var ve})()},3966:(ye,X,v)=>{"use strict";v.d(X,{B2:()=>mt,BG:()=>xr,D6:()=>_t,IF:()=>Tr,QY:()=>O,UN:()=>Br,Up:()=>Nn,hF:()=>Je,k4:()=>te,o7:()=>he});var n=v(4650),e=v(6895),h=v(610),P=v(8809),E=v(6322),M=v(1446),R=v(4850),V=v(2198),j=v(7545),H=v(5778),G=v(2994),z=v(7168),q=v(13),ee=v(2986),ue=v(7221),oe=v(3749),De=v(6053),Ye=v(591),ot=v(2654),ze=v(1086),Ge=v(7935),ge=v(4006),ve=v(7039),de=v(4129);function Ke(N,xe){1&N&&n.GkF(0)}function rt(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"div",17)(1,"div",18),n.NdJ("click",function(){const Rt=n.CHM(x).$implicit,rn=n.oxw(4);return n.KtG(rn.selectAddress(Rt.address))}),n.TgZ(2,"cx-card",19),n.NdJ("sendCard",function(){const Rt=n.CHM(x).$implicit,rn=n.oxw(4);return n.KtG(rn.selectAddress(Rt.address))}),n.qZA()()()}if(2&N){const x=xe.$implicit,J=xe.index;n.xp6(2),n.Q6J("border",!0)("index",J)("fitToContainer",!0)("content",x.card)}}function Ie(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"p",8),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.TgZ(3,"div",9)(4,"div",10)(5,"button",11),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(3);return n.KtG(He.showNewAddressForm())}),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()(),n.TgZ(8,"div",12),n.YNc(9,rt,3,4,"div",13),n.qZA(),n.TgZ(10,"div",9)(11,"div",14)(12,"button",15),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(3);return n.KtG(He.back())}),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()(),n.TgZ(15,"div",14)(16,"button",16),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(3);return n.KtG(He.next())}),n.ALo(17,"async"),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()()}if(2&N){const x=n.oxw(2).ngIf,J=n.oxw();let He;n.xp6(1),n.hij(" ",n.lcZ(2,6,"checkoutAddress.selectYourDeliveryAddress")," "),n.xp6(5),n.hij(" ",n.lcZ(7,8,"checkoutAddress.addNewAddress")," "),n.xp6(3),n.Q6J("ngForOf",x),n.xp6(4),n.hij(" ",n.lcZ(14,10,J.backBtnText)," "),n.xp6(3),n.Q6J("disabled",!(null!=(He=n.lcZ(17,12,J.selectedAddress$))&&He.id)),n.xp6(2),n.hij(" ",n.lcZ(19,14,"common.continue")," ")}}function Nt(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"cx-address-form",22),n.NdJ("backToAddress",function(){n.CHM(x);const He=n.oxw(4);return n.KtG(He.hideNewAddressForm(!1))})("submitAddress",function(He){n.CHM(x);const Rt=n.oxw(4);return n.KtG(Rt.addAddress(He))}),n.qZA()}2&N&&n.Q6J("showTitleCode",!0)}function Fe(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"cx-address-form",23),n.NdJ("backToAddress",function(){n.CHM(x);const He=n.oxw(4);return n.KtG(He.hideNewAddressForm(!0))})("submitAddress",function(He){n.CHM(x);const Rt=n.oxw(4);return n.KtG(Rt.addAddress(He))}),n.ALo(1,"cxTranslate"),n.qZA()}if(2&N){const x=n.oxw(4);n.s9C("cancelBtnLabel",n.lcZ(1,3,x.backBtnText)),n.Q6J("showTitleCode",!0)("setAsDefaultField",!x.isGuestCheckout)}}function ht(N,xe){if(1&N&&(n.YNc(0,Nt,1,1,"cx-address-form",20),n.YNc(1,Fe,2,5,"ng-template",null,21,n.W1O)),2&N){const x=n.MAs(2),J=n.oxw(2).ngIf;n.Q6J("ngIf",J.length)("ngIfElse",x)}}function Re(N,xe){if(1&N&&(n.ynx(0),n._UZ(1,"div",4),n.ALo(2,"cxTranslate"),n.YNc(3,Ke,1,0,"ng-container",5),n.YNc(4,Ie,20,16,"ng-template",null,6,n.W1O),n.YNc(6,ht,3,2,"ng-template",null,7,n.W1O),n.BQk()),2&N){const x=n.MAs(5),J=n.MAs(7),He=n.oxw().ngIf,Rt=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,4,"common.loaded")),n.xp6(2),n.Q6J("ngIf",(null==He?null:He.length)&&!Rt.addressFormOpened)("ngIfThen",x)("ngIfElse",J)}}function fe(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,Re,8,6,"ng-container",3),n.ALo(2,"async"),n.BQk()),2&N){const x=n.oxw(),J=n.MAs(6);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,x.isUpdating$))("ngIfElse",J)}}function ie(N,xe){1&N&&(n.TgZ(0,"div",24),n._UZ(1,"cx-spinner"),n.qZA())}function ne(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"div",12)(1,"input",13),n.NdJ("change",function(){const Rt=n.CHM(x).$implicit,rn=n.oxw(2);return n.KtG(rn.changeMode(Rt.code))}),n.qZA(),n.TgZ(2,"label",14)(3,"div",15),n._uU(4),n.qZA(),n.TgZ(5,"div",16),n._uU(6),n.qZA(),n.TgZ(7,"div",17),n._uU(8),n.qZA()()()}if(2&N){const x=xe.$implicit,J=n.oxw(2);n.xp6(1),n.MGl("id","deliveryMode-",x.code,""),n.Q6J("value",x.code),n.uIk("aria-checked",J.getAriaChecked(x.code)),n.xp6(1),n.MGl("for","deliveryMode-",x.code,""),n.xp6(2),n.Oqu(x.name),n.xp6(2),n.hij(" ",x.deliveryCost.formattedValue," "),n.xp6(2),n.Oqu(x.description)}}function Ve(N,xe){if(1&N){const x=n.EpF();n.ynx(0),n._UZ(1,"div",3),n.ALo(2,"cxTranslate"),n.TgZ(3,"div",4)(4,"div",5)(5,"div",6),n.YNc(6,ne,9,7,"div",7),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",8)(9,"div",9)(10,"button",10),n.NdJ("click",function(){n.CHM(x);const He=n.oxw();return n.KtG(He.back())}),n._uU(11),n.ALo(12,"cxTranslate"),n.qZA()(),n.TgZ(13,"div",9)(14,"button",11),n.NdJ("click",function(){n.CHM(x);const He=n.oxw();return n.KtG(He.next())}),n._uU(15),n.ALo(16,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const x=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,6,"common.loaded")),n.xp6(2),n.Q6J("formGroup",x.mode),n.xp6(3),n.Q6J("ngForOf",n.lcZ(7,8,x.supportedDeliveryModes$)),n.xp6(5),n.hij(" ",n.lcZ(12,10,x.backBtnText)," "),n.xp6(3),n.Q6J("disabled",x.deliveryModeInvalid),n.xp6(1),n.hij(" ",n.lcZ(16,12,"common.continue")," ")}}function _e(N,xe){1&N&&(n.TgZ(0,"div",18),n._UZ(1,"cx-spinner"),n.qZA())}function Ue(N,xe){}const Ee=function(){return{required:"true"}},Ot=function(N){return{ariaLabel:N}};function Ft(N,xe){if(1&N&&(n.TgZ(0,"div")(1,"label")(2,"span",29),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n._UZ(5,"ng-select",30),n.ALo(6,"cxTranslate"),n.ALo(7,"cxTranslate"),n._UZ(8,"cx-form-errors",11),n.qZA()()),2&N){const x=n.oxw().ngIf,J=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,8,"paymentForm.paymentType")),n.xp6(2),n.s9C("placeholder",n.lcZ(6,10,"paymentForm.selectOne")),n.Q6J("inputAttrs",n.DdM(14,Ee))("searchable",!0)("clearable",!1)("items",x)("cxNgSelectA11y",n.VKq(15,Ot,n.lcZ(7,12,"paymentForm.paymentType"))),n.xp6(3),n.Q6J("control",J.paymentForm.get("cardType.code"))}}function Ct(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,Ft,9,17,"div",7),n.BQk()),2&N){const x=xe.ngIf;n.xp6(1),n.Q6J("ngIf",0!==x.length)}}function it(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"div",8)(1,"div",31)(2,"label")(3,"input",32),n.NdJ("change",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.toggleDefaultPaymentMethod())}),n.qZA(),n.TgZ(4,"span",33),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA()()()()}2&N&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"paymentForm.setAsDefault")))}function Zt(N,xe){if(1&N){const x=n.EpF();n.ynx(0),n.TgZ(1,"div",8)(2,"div",31)(3,"label")(4,"input",34),n.NdJ("change",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.toggleSameAsDeliveryAddress())}),n.ALo(5,"cxTranslate"),n.qZA(),n.TgZ(6,"span",33),n._uU(7),n.ALo(8,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const x=n.oxw(2);n.xp6(4),n.Q6J("checked",x.sameAsDeliveryAddress),n.uIk("aria-label",n.lcZ(5,3,"paymentForm.billingAddressSameAsShipping")),n.xp6(3),n.Oqu(n.lcZ(8,5,"paymentForm.sameAsDeliveryAddress"))}}function wt(N,xe){if(1&N&&(n.ynx(0),n._UZ(1,"cx-card",35),n.BQk()),2&N){const x=xe.ngIf,J=n.oxw(2);n.xp6(1),n.Q6J("content",J.getAddressCardContent(x))}}function Dt(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"div")(1,"label")(2,"span",29),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.TgZ(5,"ng-select",46),n.NdJ("change",function(He){n.CHM(x);const Rt=n.oxw(4);return n.KtG(Rt.countrySelected(He))}),n.ALo(6,"cxTranslate"),n.ALo(7,"cxTranslate"),n.qZA(),n._UZ(8,"cx-form-errors",11),n.qZA()()}if(2&N){const x=n.oxw().ngIf,J=n.oxw(3);n.xp6(3),n.Oqu(n.lcZ(4,8,"addressForm.country")),n.xp6(2),n.s9C("placeholder",n.lcZ(6,10,"addressForm.selectOne")),n.Q6J("inputAttrs",n.DdM(14,Ee))("searchable",!0)("clearable",!1)("items",x)("cxNgSelectA11y",n.VKq(15,Ot,n.lcZ(7,12,"addressForm.country"))),n.xp6(3),n.Q6J("control",J.billingAddressForm.get("country.isocode"))}}function dt(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,Dt,9,17,"div",7),n.BQk()),2&N){const x=xe.ngIf;n.xp6(1),n.Q6J("ngIf",0!==x.length)}}function Qt(N,xe){if(1&N&&(n.ynx(0),n.TgZ(1,"div",42)(2,"label")(3,"span",29),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n._UZ(6,"ng-select",48),n.ALo(7,"cxTranslate"),n.ALo(8,"cxTranslate"),n._UZ(9,"cx-form-errors",11),n.qZA()(),n.BQk()),2&N){const x=n.oxw().ngIf,J=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,10,"addressForm.state")),n.xp6(2),n.s9C("bindLabel",x[0].name?"name":"isocodeShort"),n.s9C("bindValue",x[0].name?"isocodeShort":"region"),n.s9C("placeholder",n.lcZ(7,12,"addressForm.selectOne")),n.Q6J("inputAttrs",n.DdM(16,Ee))("searchable",!0)("clearable",!1)("items",x)("cxNgSelectA11y",n.VKq(17,Ot,n.lcZ(8,14,"addressForm.state"))),n.xp6(3),n.Q6J("control",J.billingAddressForm.get("region.isocodeShort"))}}function me(N,xe){if(1&N&&(n.ynx(0,47),n.YNc(1,Qt,10,19,"ng-container",7),n.BQk()),2&N){const x=xe.ngIf;n.xp6(1),n.Q6J("ngIf",0!==x.length)}}function vt(N,xe){if(1&N&&(n.TgZ(0,"div",36)(1,"div",37),n.YNc(2,dt,2,1,"ng-container",7),n.ALo(3,"async"),n.qZA(),n.TgZ(4,"div",8)(5,"label")(6,"span",29),n._uU(7),n.ALo(8,"cxTranslate"),n.qZA(),n._UZ(9,"input",38),n.ALo(10,"cxTranslate"),n._UZ(11,"cx-form-errors",11),n.qZA()(),n.TgZ(12,"div",8)(13,"label")(14,"span",29),n._uU(15),n.ALo(16,"cxTranslate"),n.qZA(),n._UZ(17,"input",39),n.ALo(18,"cxTranslate"),n._UZ(19,"cx-form-errors",11),n.qZA()(),n.TgZ(20,"div",8)(21,"label")(22,"span",29),n._uU(23),n.ALo(24,"cxTranslate"),n.qZA(),n._UZ(25,"input",40),n.ALo(26,"cxTranslate"),n._UZ(27,"cx-form-errors",11),n.qZA()(),n.TgZ(28,"div",8)(29,"label")(30,"span",9),n._uU(31),n.ALo(32,"cxTranslate"),n.qZA(),n._UZ(33,"input",41),n.ALo(34,"cxTranslate"),n.qZA()(),n.TgZ(35,"div",4)(36,"div",42)(37,"label")(38,"span",29),n._uU(39),n.ALo(40,"cxTranslate"),n.qZA(),n._UZ(41,"input",43),n.ALo(42,"cxTranslate"),n._UZ(43,"cx-form-errors",11),n.qZA()(),n.TgZ(44,"div",42)(45,"label")(46,"span",29),n._uU(47),n.ALo(48,"cxTranslate"),n.qZA(),n._UZ(49,"input",44),n.ALo(50,"cxTranslate"),n._UZ(51,"cx-form-errors",11),n.qZA()(),n.YNc(52,me,2,1,"ng-container",45),n.ALo(53,"async"),n.qZA()()),2&N){const x=n.oxw(2);n.Q6J("formGroup",x.billingAddressForm),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,20,x.countries$)),n.xp6(5),n.Oqu(n.lcZ(8,22,"addressForm.firstName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(10,24,"addressForm.firstName.placeholder")),n.xp6(2),n.Q6J("control",x.billingAddressForm.get("firstName")),n.xp6(4),n.Oqu(n.lcZ(16,26,"addressForm.lastName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(18,28,"addressForm.lastName.placeholder")),n.xp6(2),n.Q6J("control",x.billingAddressForm.get("lastName")),n.xp6(4),n.Oqu(n.lcZ(24,30,"addressForm.address1")),n.xp6(2),n.s9C("placeholder",n.lcZ(26,32,"addressForm.streetAddress")),n.xp6(2),n.Q6J("control",x.billingAddressForm.get("line1")),n.xp6(4),n.Oqu(n.lcZ(32,34,"addressForm.address2")),n.xp6(2),n.s9C("placeholder",n.lcZ(34,36,"addressForm.aptSuite")),n.xp6(6),n.Oqu(n.lcZ(40,38,"addressForm.city.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(42,40,"addressForm.city.placeholder")),n.xp6(2),n.Q6J("control",x.billingAddressForm.get("town")),n.xp6(4),n.Oqu(n.lcZ(48,42,"addressForm.zipCode.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(50,44,"addressForm.zipCode.placeholder")),n.xp6(2),n.Q6J("control",x.billingAddressForm.get("postalCode")),n.xp6(1),n.Q6J("ngIf",n.lcZ(53,46,x.regions$))}}function Ze(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.back())}),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()}2&N&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"common.back")," "))}function $t(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.close())}),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()}2&N&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"paymentForm.changePayment")," "))}const It=function(N){return{selected:N}};function cn(N,xe){if(1&N){const x=n.EpF();n.ynx(0),n._UZ(1,"div",2),n.ALo(2,"cxTranslate"),n.TgZ(3,"form",3),n.NdJ("ngSubmit",function(){n.CHM(x);const He=n.oxw();return n.KtG(He.next())}),n.TgZ(4,"div",4)(5,"div",5)(6,"div",6),n.YNc(7,Ct,2,1,"ng-container",7),n.ALo(8,"async"),n.qZA(),n.TgZ(9,"div",8)(10,"label")(11,"span",9),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",10),n.ALo(15,"cxTranslate"),n._UZ(16,"cx-form-errors",11),n.qZA()(),n.TgZ(17,"div",8)(18,"label")(19,"span",9),n._uU(20),n.ALo(21,"cxTranslate"),n.qZA(),n._UZ(22,"input",12)(23,"cx-form-errors",11),n.qZA()(),n.TgZ(24,"div",4)(25,"div",13)(26,"fieldset",14)(27,"legend",9),n._uU(28),n.ALo(29,"cxTranslate"),n.qZA(),n.TgZ(30,"label",15),n._UZ(31,"ng-select",16),n.ALo(32,"cxTranslate"),n.ALo(33,"cxTranslate"),n._UZ(34,"cx-form-errors",11),n.qZA(),n.TgZ(35,"label",15),n._UZ(36,"ng-select",17),n.ALo(37,"cxTranslate"),n.ALo(38,"cxTranslate"),n._UZ(39,"cx-form-errors",11),n.qZA()()(),n.TgZ(40,"div",18)(41,"label")(42,"span",9),n._uU(43),n.ALo(44,"cxTranslate"),n._UZ(45,"cx-icon",19),n.ALo(46,"cxTranslate"),n.qZA(),n._UZ(47,"input",20)(48,"cx-form-errors",11),n.qZA()()(),n.YNc(49,it,7,3,"div",21),n.TgZ(50,"div",22)(51,"div",23),n._uU(52),n.ALo(53,"cxTranslate"),n.qZA(),n.YNc(54,Zt,9,7,"ng-container",7),n.ALo(55,"async"),n.YNc(56,wt,2,1,"ng-container",0),n.ALo(57,"async"),n.YNc(58,vt,54,48,"ng-template",null,24,n.W1O),n.qZA()()(),n.TgZ(60,"div",25)(61,"div",26),n.YNc(62,Ze,3,3,"button",27),n.YNc(63,$t,3,3,"button",27),n.qZA(),n.TgZ(64,"div",26)(65,"button",28),n._uU(66),n.ALo(67,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const x=n.MAs(59),J=n.oxw();let He,Rt;n.xp6(1),n.uIk("aria-label",n.lcZ(2,35,"common.loaded")),n.xp6(2),n.Q6J("formGroup",J.paymentForm),n.xp6(4),n.Q6J("ngIf",n.lcZ(8,37,J.cardTypes$)),n.xp6(5),n.Oqu(n.lcZ(13,39,"paymentForm.accountHolderName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,41,"paymentForm.accountHolderName.placeholder")),n.xp6(2),n.Q6J("control",J.paymentForm.get("accountHolderName")),n.xp6(4),n.Oqu(n.lcZ(21,43,"paymentForm.cardNumber")),n.xp6(3),n.Q6J("control",J.paymentForm.get("cardNumber")),n.xp6(5),n.hij(" ",n.lcZ(29,45,"paymentForm.expirationDate")," "),n.xp6(3),n.s9C("placeholder",n.lcZ(32,47,"paymentForm.monthMask")),n.Q6J("inputAttrs",n.DdM(69,Ee))("searchable",!0)("clearable",!1)("items",J.months)("cxNgSelectA11y",n.VKq(72,Ot,n.xi3(33,49,"paymentForm.expirationMonth",n.VKq(70,It,null==(He=J.paymentForm.get("expiryMonth"))?null:He.value)))),n.xp6(3),n.Q6J("control",J.paymentForm.get("expiryMonth")),n.xp6(2),n.s9C("placeholder",n.lcZ(37,52,"paymentForm.yearMask")),n.Q6J("inputAttrs",n.DdM(74,Ee))("searchable",!0)("clearable",!1)("items",J.years)("cxNgSelectA11y",n.VKq(77,Ot,n.xi3(38,54,"paymentForm.expirationYear",n.VKq(75,It,null==(Rt=J.paymentForm.get("expiryYear"))?null:Rt.value)))),n.xp6(3),n.Q6J("control",J.paymentForm.get("expiryYear")),n.xp6(4),n.hij(" ",n.lcZ(44,57,"paymentForm.securityCode")," "),n.xp6(2),n.s9C("title",n.lcZ(46,59,"paymentForm.securityCodeTitle")),n.Q6J("type",J.iconTypes.INFO),n.xp6(3),n.Q6J("control",J.paymentForm.get("cvn")),n.xp6(1),n.Q6J("ngIf",J.setAsDefaultField),n.xp6(3),n.hij(" ",n.lcZ(53,61,"paymentForm.billingAddress")," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(55,63,J.showSameAsDeliveryAddressCheckbox$)),n.xp6(2),n.Q6J("ngIf",J.sameAsDeliveryAddress&&n.lcZ(57,65,J.deliveryAddress$))("ngIfElse",x),n.xp6(6),n.Q6J("ngIf",0===J.paymentMethodsCount),n.xp6(1),n.Q6J("ngIf",J.paymentMethodsCount>0),n.xp6(3),n.hij(" ",n.lcZ(67,67,"common.continue")," ")}}function Ut(N,xe){1&N&&n._UZ(0,"cx-spinner")}function pn(N,xe){1&N&&n.GkF(0)}function ut(N,xe){if(1&N&&(n.ynx(0),n._UZ(1,"div",6),n.ALo(2,"cxTranslate"),n.YNc(3,pn,1,0,"ng-container",7),n.BQk()),2&N){const x=n.oxw().ngIf,J=n.MAs(4),He=n.MAs(6),Rt=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,4,"common.loaded")),n.xp6(2),n.Q6J("ngIf",(null==x?null:x.length)&&!Rt.newPaymentFormManuallyOpened)("ngIfThen",J)("ngIfElse",He)}}function qt(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"div",16)(1,"div",17),n.NdJ("click",function(){const Rt=n.CHM(x).$implicit,rn=n.oxw(3);return n.KtG(rn.selectPaymentMethod(Rt.paymentMethod))}),n.TgZ(2,"cx-card",18),n.NdJ("sendCard",function(){const Rt=n.CHM(x).$implicit,rn=n.oxw(3);return n.KtG(rn.selectPaymentMethod(Rt.paymentMethod))}),n.qZA()()()}if(2&N){const x=xe.$implicit,J=xe.index;n.xp6(2),n.Q6J("border",!0)("fitToContainer",!0)("content",x.content)("index",J)}}function Pt(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"p",8),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.TgZ(3,"div",9)(4,"div",10)(5,"button",11),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.showNewPaymentForm())}),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()(),n.TgZ(8,"div",12),n.YNc(9,qt,3,4,"div",13),n.qZA(),n.TgZ(10,"div",14)(11,"div",10)(12,"button",11),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.back())}),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()(),n.TgZ(15,"div",10)(16,"button",15),n.NdJ("click",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.next())}),n.ALo(17,"async"),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()()}if(2&N){const x=n.oxw().ngIf,J=n.oxw();let He;n.xp6(1),n.hij(" ",n.lcZ(2,6,"paymentForm.choosePaymentMethod")," "),n.xp6(5),n.hij(" ",n.lcZ(7,8,"paymentForm.addNewPayment")," "),n.xp6(3),n.Q6J("ngForOf",x),n.xp6(4),n.hij(" ",n.lcZ(14,10,J.backBtnText)," "),n.xp6(3),n.Q6J("disabled",!(null!=(He=n.lcZ(17,12,J.selectedMethod$))&&He.id)),n.xp6(2),n.hij(" ",n.lcZ(19,14,"common.continue")," ")}}function mn(N,xe){if(1&N){const x=n.EpF();n.TgZ(0,"cx-payment-form",19),n.NdJ("setPaymentDetails",function(He){n.CHM(x);const Rt=n.oxw(2);return n.KtG(Rt.setPaymentDetails(He))})("closeForm",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.hideNewPaymentForm())})("goBack",function(){n.CHM(x);const He=n.oxw(2);return n.KtG(He.back())}),n.ALo(1,"async"),n.qZA()}if(2&N){const x=n.oxw().ngIf,J=n.oxw();n.Q6J("paymentMethodsCount",(null==x?null:x.length)||0)("setAsDefaultField",!J.isGuestCheckout&&!(null==x||!x.length))("loading",n.lcZ(1,4,J.isUpdating$))("paymentDetails",J.paymentDetails)}}function En(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,ut,4,6,"ng-container",3),n.ALo(2,"async"),n.YNc(3,Pt,20,16,"ng-template",null,4,n.W1O),n.YNc(5,mn,2,6,"ng-template",null,5,n.W1O),n.BQk()),2&N){const x=n.oxw(),J=n.MAs(6);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,x.isUpdating$))("ngIfElse",J)}}function Ce(N,xe){1&N&&(n.TgZ(0,"div",20),n._UZ(1,"cx-spinner"),n.qZA())}const Te=function(){return{cxRoute:"termsAndConditions"}};function Me(N,xe){if(1&N&&(n.TgZ(0,"div",4)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()()),2&N){const x=n.oxw(),J=x.index,He=x.$implicit;n.xp6(2),n.AsE("",J+1,". ",n.lcZ(3,2,He.name),"")}}function pt(N,xe){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,Me,4,4,"div",3),n.qZA()),2&N){const x=xe.index,J=n.oxw(2);n.xp6(1),n.Q6J("ngIf",x>J.activeStepIndex)}}function ft(N,xe){if(1&N&&(n.TgZ(0,"div")(1,"div",1),n.YNc(2,pt,2,1,"div",2),n.ALo(3,"async"),n.qZA()()),2&N){const x=n.oxw();n.xp6(2),n.Q6J("ngForOf",n.lcZ(3,1,x.steps$))}}const nn=function(N){return{count:N}};function zt(N,xe){if(1&N&&(n.TgZ(0,"div",4),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()),2&N){const x=n.oxw().ngIf;n.xp6(1),n.AsE(" ",n.xi3(2,2,"cartItems.cartTotal",n.VKq(5,nn,x.totalItems)),": ",x.subTotal.formattedValue," ")}}const hn=function(N){return{cxRoute:N}};function Wt(N,xe){if(1&N&&(n.TgZ(0,"div",4)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"button",6),n.ALo(5,"cxUrl"),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()),2&N){const x=n.oxw(),J=x.index,He=x.$implicit;n.xp6(2),n.AsE("",J+1,". ",n.lcZ(3,4,He.name),""),n.xp6(2),n.Q6J("routerLink",n.lcZ(5,6,n.VKq(10,hn,He.routeName))),n.xp6(2),n.hij(" ",n.lcZ(7,8,"common.edit")," ")}}function Oe(N,xe){if(1&N&&(n.TgZ(0,"div",7)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()()),2&N){const x=n.oxw(),J=x.index,He=x.$implicit;n.xp6(2),n.AsE("",J+1,". ",n.lcZ(3,2,He.name),"")}}function yt(N,xe){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,Wt,8,12,"div",2),n.YNc(2,Oe,4,4,"div",5),n.qZA()),2&N){const x=xe.index,J=n.oxw(3);n.xp6(1),n.Q6J("ngIf",x<J.activeStepIndex),n.xp6(1),n.Q6J("ngIf",x===J.activeStepIndex)}}function Ae(N,xe){if(1&N&&(n.TgZ(0,"div")(1,"div",1),n.YNc(2,zt,3,7,"div",2),n.YNc(3,yt,3,2,"div",3),n.ALo(4,"async"),n.qZA()()),2&N){const x=xe.ngIf,J=n.oxw(2);n.xp6(2),n.Q6J("ngIf",(null==x?null:x.totalItems)&&(null==x?null:x.subTotal)),n.xp6(1),n.Q6J("ngForOf",n.lcZ(4,2,J.steps$))}}function qe(N,xe){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,Ae,5,4,"div",0),n.ALo(2,"async"),n.qZA()),2&N){const x=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,x.cart$))}}function Gt(N,xe){if(1&N&&(n.ynx(0),n.TgZ(1,"li",4),n._UZ(2,"a",5),n.ALo(3,"cxUrl"),n.ALo(4,"cxMultiLine"),n.ALo(5,"cxTranslate"),n.qZA(),n.BQk()),2&N){const x=xe.$implicit,J=xe.index,He=n.oxw(2);n.xp6(1),n.ekj("active",He.isActive(J))("disabled",He.isDisabled(J)),n.xp6(1),n.ekj("active",He.isActive(J))("disabled",He.isDisabled(J)),n.Q6J("routerLink",n.lcZ(3,11,n.VKq(17,hn,x.routeName)))("tabindex",He.getTabIndex(J))("innerHTML",n.lcZ(4,13,n.lcZ(5,15,x.name)),n.oJD)}}function We(N,xe){if(1&N&&(n.TgZ(0,"nav"),n.ALo(1,"cxTranslate"),n.TgZ(2,"div",1)(3,"ul",2),n.YNc(4,Gt,6,19,"ng-container",3),n.ALo(5,"async"),n.qZA()()()),2&N){const x=n.oxw();n.uIk("aria-label",n.lcZ(1,2,"checkoutProgress.label")),n.xp6(4),n.Q6J("ngForOf",n.lcZ(5,4,x.steps$))}}function Tt(N,xe){1&N&&n.GkF(0)}function bt(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,Tt,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const x=n.MAs(12);n.xp6(1),n.Q6J("ngTemplateOutlet",x)}}function Lt(N,xe){if(1&N&&(n.ynx(0)(1,10),n.YNc(2,bt,2,1,"ng-container",11),n.BQk()()),2&N){const x=xe.$implicit,J=n.oxw(2);n.xp6(1),n.Q6J("ngSwitch",x.type[0]),n.xp6(1),n.Q6J("ngSwitchCase",J.checkoutStepTypePaymentDetails)}}function un(N,xe){1&N&&n.GkF(0)}function Vt(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,un,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const x=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",x)}}function st(N,xe){1&N&&n.GkF(0)}function xn(N,xe){if(1&N&&(n.ynx(0),n.YNc(1,st,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const x=n.MAs(10);n.xp6(1),n.Q6J("ngTemplateOutlet",x)}}function Gn(N,xe){if(1&N&&(n.ynx(0)(1,10),n.YNc(2,Vt,2,1,"ng-container",11),n.YNc(3,xn,2,1,"ng-container",11),n.BQk()()),2&N){const x=xe.$implicit,J=n.oxw(2);n.xp6(1),n.Q6J("ngSwitch",x.type[0]),n.xp6(1),n.Q6J("ngSwitchCase",J.checkoutStepTypeDeliveryAddress),n.xp6(1),n.Q6J("ngSwitchCase",J.checkoutStepTypeDeliveryMode)}}function kn(N,xe){if(1&N&&(n.ynx(0),n.TgZ(1,"div",7),n.YNc(2,Lt,3,2,"ng-container",8),n.qZA(),n.TgZ(3,"div",9),n.YNc(4,Gn,4,3,"ng-container",8),n.qZA(),n.BQk()),2&N){const x=xe.ngIf,J=n.oxw();n.xp6(2),n.Q6J("ngForOf",J.paymentSteps(x)),n.xp6(2),n.Q6J("ngForOf",J.deliverySteps(x))}}function dr(N,xe){if(1&N&&(n.TgZ(0,"div",14),n._UZ(1,"cx-card",15),n.ALo(2,"async"),n.TgZ(3,"div",16)(4,"a",17),n.ALo(5,"cxTranslate"),n.ALo(6,"cxUrl"),n._UZ(7,"cx-icon",18),n.qZA()()()),2&N){const x=xe.ngIf,J=n.oxw(2);n.xp6(1),n.Q6J("content",n.lcZ(2,4,J.getDeliveryAddressCard(x))),n.xp6(3),n.Q6J("routerLink",n.lcZ(6,8,n.VKq(10,hn,J.getCheckoutStepUrl(J.checkoutStepTypeDeliveryAddress)))),n.uIk("aria-label",n.lcZ(5,6,"checkoutReview.editDeliveryAddressDetails")),n.xp6(3),n.Q6J("type",J.iconTypes.PENCIL)}}function yn(N,xe){if(1&N&&(n.YNc(0,dr,8,12,"div",13),n.ALo(1,"async")),2&N){const x=n.oxw();n.Q6J("ngIf",n.lcZ(1,1,x.deliveryAddress$))}}function wn(N,xe){if(1&N&&(n._UZ(0,"cx-card",15),n.ALo(1,"async")),2&N){const x=xe.ngIf,J=n.oxw(2);n.Q6J("content",n.lcZ(1,1,J.getDeliveryModeCard(x)))}}function Ln(N,xe){if(1&N&&(n.TgZ(0,"div",19),n.YNc(1,wn,2,3,"cx-card",20),n.ALo(2,"async"),n.TgZ(3,"div",16)(4,"a",17),n.ALo(5,"cxTranslate"),n.ALo(6,"cxUrl"),n._UZ(7,"cx-icon",18),n.qZA()()()),2&N){const x=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,4,x.deliveryMode$)),n.xp6(3),n.Q6J("routerLink",n.lcZ(6,8,n.VKq(10,hn,x.getCheckoutStepUrl(x.checkoutStepTypeDeliveryMode)))),n.uIk("aria-label",n.lcZ(5,6,"checkoutReview.editDeliveryMode")),n.xp6(3),n.Q6J("type",x.iconTypes.PENCIL)}}function zn(N,xe){if(1&N&&(n._UZ(0,"cx-card",15),n.ALo(1,"async")),2&N){const x=xe.ngIf,J=n.oxw(2);n.Q6J("content",n.lcZ(1,1,J.getPaymentMethodCard(x)))}}function er(N,xe){if(1&N&&(n.TgZ(0,"div",21)(1,"div"),n.YNc(2,zn,2,3,"cx-card",20),n.ALo(3,"async"),n.qZA(),n.TgZ(4,"div",16)(5,"a",17),n.ALo(6,"cxTranslate"),n.ALo(7,"cxUrl"),n._UZ(8,"cx-icon",18),n.qZA()()()),2&N){const x=n.oxw();n.xp6(2),n.Q6J("ngIf",n.lcZ(3,4,x.paymentDetails$)),n.xp6(3),n.Q6J("routerLink",n.lcZ(7,8,n.VKq(10,hn,x.getCheckoutStepUrl(x.checkoutStepTypePaymentDetails)))),n.uIk("aria-label",n.lcZ(6,6,"checkoutReview.editPaymentDetails")),n.xp6(3),n.Q6J("type",x.iconTypes.PENCIL)}}function Wn(N,xe){}const Le=function(){return[]},ke=function(N,xe){return{items:N,readonly:!0,promotionLocation:xe}};function pe(N,xe){if(1&N&&(n.TgZ(0,"div",25),n._UZ(1,"cx-promotions",26),n.YNc(2,Wn,0,0,"ng-template",27),n.qZA()),2&N){const x=xe.ngIf,J=n.oxw().ngIf,He=n.oxw();n.xp6(1),n.Q6J("promotions",(J.appliedOrderPromotions||n.DdM(4,Le)).concat(J.potentialOrderPromotions||n.DdM(3,Le))),n.xp6(1),n.Q6J("cxOutlet",He.cartOutlets.CART_ITEM_LIST)("cxOutletContext",n.WLB(5,ke,x,He.promotionLocation))}}function Q(N,xe){if(1&N&&(n.ynx(0),n.TgZ(1,"div",22),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",23),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA(),n.YNc(7,pe,3,8,"div",24),n.ALo(8,"async"),n.BQk()),2&N){const x=xe.ngIf,J=n.oxw();n.xp6(2),n.AsE(" ",n.xi3(3,4,"cartItems.cartTotal",n.VKq(11,nn,x.deliveryItemsQuantity)),": ",null==x.totalPrice?null:x.totalPrice.formattedValue," "),n.xp6(3),n.hij(" ",n.lcZ(6,7,"checkoutReview.placeOrder")," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(8,9,J.entries$))}}let te=(()=>{class N{constructor(x,J,He){this.activeCartFacade=x,this.semanticPathService=J,this.router=He}canActivate(){return this.activeCartFacade.takeActive().pipe((0,R.U)(x=>!this.isEmpty(x)||this.router.parseUrl(this.semanticPathService.get("home")??"")))}isEmpty(x){return x&&!x.totalItems}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(oe.bu),n.LFG(E.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),O=(()=>{class N{constructor(x){this.checkoutConfig=x,this.express=this.checkoutConfig.checkout?.express??!1,this.guest=this.checkoutConfig.checkout?.guest??!1,this.defaultDeliveryMode=this.checkoutConfig.checkout?.defaultDeliveryMode||[]}compareDeliveryCost(x,J){if(x.deliveryCost?.value&&J.deliveryCost?.value){if(x.deliveryCost.value>J.deliveryCost.value)return 1;if(x.deliveryCost.value<J.deliveryCost.value)return-1}return 0}findMatchingDeliveryMode(x,J=0){switch(this.defaultDeliveryMode[J]){case Ge.u0.FREE:if(0===x[0].deliveryCost?.value)return x[0].code;break;case Ge.u0.LEAST_EXPENSIVE:const Rt=x.find(gn=>0!==gn.deliveryCost?.value);if(Rt)return Rt.code;break;case Ge.u0.MOST_EXPENSIVE:return x[x.length-1].code;default:const rn=x.find(gn=>gn.code===this.defaultDeliveryMode[J]);if(rn)return rn.code}return this.defaultDeliveryMode.length-1<=J?x[0].code:this.findMatchingDeliveryMode(x,J+1)}getPreferredDeliveryMode(x){return x.sort(this.compareDeliveryCost),this.findMatchingDeliveryMode(x)}isExpressCheckout(){return this.express}isGuestCheckout(){return this.guest}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(Ge.CZ))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),he=(()=>{class N{constructor(x,J,He,Rt,rn,gn){this.authService=x,this.authRedirectService=J,this.checkoutConfigService=He,this.activeCartFacade=Rt,this.semanticPathService=rn,this.router=gn}canActivate(){return(0,De.aj)([this.authService.isUserLoggedIn(),this.activeCartFacade.isGuestCart(),this.activeCartFacade.isStable()]).pipe((0,R.U)(([x,J,He])=>({isLoggedIn:x,isGuestCart:J,isStable:He})),(0,V.h)(x=>x.isStable),(0,R.U)(x=>x.isLoggedIn?x.isLoggedIn:!!x.isGuestCart||this.handleAnonymousUser()))}handleAnonymousUser(){return this.authRedirectService.saveCurrentNavigationUrl(),this.checkoutConfigService.isGuestCheckout()?this.router.createUrlTree([this.semanticPathService.get("login")],{queryParams:{forced:!0}}):this.router.parseUrl(this.semanticPathService.get("login")??"")}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(E.e80),n.LFG(E.FUY),n.LFG(O),n.LFG(oe.bu),n.LFG(E.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Je=(()=>{class N{constructor(x,J,He){this.routingService=x,this.checkoutConfig=J,this.routingConfigService=He,this.steps$=new Ye.X([]),this.activeStepIndex$=this.routingService.getRouterState().pipe((0,j.w)(Rt=>{const rn=Rt.state.context.id;return this.steps$.pipe((0,R.U)(gn=>{let ln=0;return gn.forEach((Jn,fr)=>{`/${this.routingConfigService.getRouteConfig(Jn.routeName)?.paths?.[0]}`===rn&&(ln=fr)}),ln}))})),this.resetSteps()}back(x){const J=this.getPreviousCheckoutStepUrl(x);this.routingService.go(null===J?"cart":J)}next(x){const J=this.getNextCheckoutStepUrl(x);this.routingService.go(J)}goToStepWithIndex(x){this.routingService.go(this.getStepUrlFromStepRoute(this.allSteps[x].routeName))}getBackBntText(x){return null===this.getPreviousCheckoutStepUrl(x)?"checkout.backToCart":"common.back"}resetSteps(){this.allSteps=(this.checkoutConfig.checkout?.steps??[]).filter(x=>!x.disabled).map(x=>Object.assign({},x)),this.steps$.next(this.allSteps)}disableEnableStep(x,J){const He=this.allSteps.find(Rt=>Rt.type.includes(x));He&&He.disabled!==J&&(He.disabled=J,this.steps$.next(this.allSteps.filter(Rt=>!Rt.disabled)))}getCheckoutStep(x){const J=this.getCheckoutStepIndex("type",x);if(null!==J)return this.allSteps[J]}getCheckoutStepRoute(x){return this.getCheckoutStep(x)?.routeName}getFirstCheckoutStepRoute(){return this.allSteps[0].routeName}getNextCheckoutStepUrl(x){const J=this.getCurrentStepIndex(x);if(null!==J&&J>=0){let He=1;for(;this.allSteps[J+He]&&this.allSteps[J+He].disabled;)He++;const Rt=this.allSteps[J+He];if(Rt)return this.getStepUrlFromStepRoute(Rt.routeName)}return null}getPreviousCheckoutStepUrl(x){const J=this.getCurrentStepIndex(x);if(null!==J&&J>=0){let He=1;for(;this.allSteps[J-He]&&this.allSteps[J-He].disabled;)He++;const Rt=this.allSteps[J-He];if(Rt)return this.getStepUrlFromStepRoute(Rt.routeName)}return null}getCurrentStepIndex(x){const J=this.getStepUrlFromActivatedRoute(x),He=this.allSteps.findIndex(Rt=>J===`/${this.getStepUrlFromStepRoute(Rt.routeName)}`);return-1===He?null:He}getStepUrlFromActivatedRoute(x){return x&&x.snapshot&&x.snapshot.url?`/${x.snapshot.url.join("/")}`:null}getStepUrlFromStepRoute(x){return this.routingConfigService.getRouteConfig(x)?.paths?.[0]??null}getCheckoutStepIndex(x,J){return x&&J?this.allSteps.findIndex(He=>{const Rt=He[x];return Rt instanceof Array?Rt.includes(J):Rt===J}):null}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(E.Znh),n.LFG(Ge.CZ),n.LFG(E.gGW))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),mt=(()=>{class N{constructor(x,J,He,Rt,rn,gn,ln,Jn){this.userAddressService=x,this.checkoutDeliveryAddressFacade=J,this.activatedRoute=He,this.translationService=Rt,this.activeCartFacade=rn,this.checkoutStepService=gn,this.checkoutDeliveryModesFacade=ln,this.globalMessageService=Jn,this.busy$=new Ye.X(!1),this.addressFormOpened=!1,this.doneAutoSelect=!1}get isGuestCheckout(){return!!(0,E.P51)(this.activeCartFacade.isGuestCart())}get backBtnText(){return this.checkoutStepService.getBackBntText(this.activatedRoute)}get selectedAddress$(){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,V.h)(x=>!x.loading),(0,R.U)(x=>x.data),(0,H.x)((x,J)=>x?.id===J?.id))}ngOnInit(){this.loadAddresses(),this.cards$=this.createCards(),this.isUpdating$=this.createIsUpdating()}getCardContent(x,J,He,Rt,rn){let gn="";return x.region&&x.region.isocode&&(gn=x.region.isocode+", "),{role:"region",title:x.defaultAddress?He:"",textBold:x.firstName+" "+x.lastName,text:[x.line1,x.line2,x.town+", "+gn+x.country?.isocode,x.postalCode,x.phone],actions:[{name:Rt,event:"send"}],header:J&&J.id===x.id?rn:"",label:x.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}selectAddress(x){x?.id!==(0,E.P51)(this.selectedAddress$)?.id&&(this.globalMessageService.add({key:"checkoutAddress.deliveryAddressSelected"},E.xUg.MSG_TYPE_INFO),this.setAddress(x))}addAddress(x){!x||(this.busy$.next(!0),this.doneAutoSelect=!0,this.checkoutDeliveryAddressFacade.createAndSetAddress(x).pipe((0,j.w)(()=>this.checkoutDeliveryModesFacade.clearCheckoutDeliveryMode())).subscribe({complete:()=>{this.next()},error:()=>{this.onError(),this.doneAutoSelect=!1}}))}showNewAddressForm(){this.addressFormOpened=!0}hideNewAddressForm(x=!1){this.addressFormOpened=!1,x&&this.back()}next(){this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}loadAddresses(){this.isGuestCheckout||this.userAddressService.loadAddresses()}createCards(){return(0,De.aj)([this.getSupportedAddresses(),this.selectedAddress$,this.translationService.translate("checkoutAddress.defaultDeliveryAddress"),this.translationService.translate("checkoutAddress.shipToThisAddress"),this.translationService.translate("addressCard.selected")]).pipe((0,G.b)(([x,J])=>this.selectDefaultAddress(x,J)),(0,R.U)(([x,J,He,Rt,rn])=>x.map(gn=>({address:gn,card:this.getCardContent(gn,J,He,Rt,rn)}))))}selectDefaultAddress(x,J){!this.doneAutoSelect&&x?.length&&(!J||0===Object.keys(J).length)&&((J=x.find(He=>He.defaultAddress))&&this.setAddress(J),this.doneAutoSelect=!0)}getSupportedAddresses(){return this.userAddressService.getAddresses()}createIsUpdating(){return(0,De.aj)([this.busy$,this.userAddressService.getAddressesLoading(),this.getAddressLoading()]).pipe((0,R.U)(([x,J,He])=>x||J||He),(0,H.x)())}getAddressLoading(){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,R.U)(x=>x.loading),(0,H.x)())}setAddress(x){this.busy$.next(!0),this.checkoutDeliveryAddressFacade.setDeliveryAddress(x).pipe((0,j.w)(()=>this.checkoutDeliveryModesFacade.clearCheckoutDeliveryMode())).subscribe({complete:()=>{this.onSuccess()},error:()=>{this.onError()}})}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(E.kFJ),n.Y36(Ge.ys),n.Y36(h.gz),n.Y36(E.D7D),n.Y36(oe.bu),n.Y36(Je),n.Y36(Ge.BG),n.Y36(E.IWp))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-delivery-address"]],decls:7,vars:6,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[4,"ngIf","ngIfThen","ngIfElse"],["showExistingAddresses",""],["newAddressForm",""],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-sm-12","col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-delivery-address-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-6"],[1,"cx-btn","btn","btn-block","btn-action",3,"click"],[1,"cx-btn","btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-delivery-address-card","col-md-12","col-lg-6"],[1,"cx-delivery-address-card-inner",3,"click"],[3,"border","index","fitToContainer","content","sendCard"],[3,"showTitleCode","backToAddress","submitAddress",4,"ngIf","ngIfElse"],["initialAddressForm",""],[3,"showTitleCode","backToAddress","submitAddress"],[3,"showTitleCode","setAsDefaultField","cancelBtnLabel","backToAddress","submitAddress"],[1,"cx-spinner"]],template:function(x,J){1&x&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,fe,3,4,"ng-container",1),n.ALo(4,"async"),n.YNc(5,ie,2,0,"ng-template",null,2,n.W1O)),2&x&&(n.xp6(1),n.hij(" ",n.lcZ(2,2,"checkoutAddress.deliveryAddress"),"\n"),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,J.cards$)))},dependencies:[e.sg,e.O5,M.CY4,M.AkF,M.ORR,e.Ov,E.X$D],encapsulation:2,changeDetection:0}),N})(),Kt=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutDeliveryAddress:{component:mt,guards:[he,te,P.i4]}}})],imports:[e.ez,h.Bz,M.qUU,M.dTQ,M.Fme,E.LUR]}),N})(),Jt=(()=>{class N{constructor(x,J,He,Rt,rn){this.fb=x,this.checkoutConfigService=J,this.activatedRoute=He,this.checkoutStepService=Rt,this.checkoutDeliveryModesFacade=rn,this.subscriptions=new ot.w,this.busy$=new Ye.X(!1),this.backBtnText=this.checkoutStepService.getBackBntText(this.activatedRoute),this.mode=this.fb.group({deliveryModeId:["",ge.kI.required]}),this.isUpdating$=(0,De.aj)([this.busy$,this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,R.U)(gn=>gn.loading))]).pipe((0,R.U)(([gn,ln])=>gn||ln),(0,H.x)())}get deliveryModeInvalid(){return this.mode.controls.deliveryModeId.invalid}ngOnInit(){this.supportedDeliveryModes$=this.checkoutDeliveryModesFacade.getSupportedDeliveryModes().pipe((0,V.h)(x=>!!x?.length),(0,H.x)((x,J)=>JSON.stringify(x)===JSON.stringify(J))),this.selectedDeliveryModeCode$=this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,V.h)(x=>!x.loading),(0,R.U)(x=>x.data),(0,R.U)(x=>x?.code)),this.subscriptions.add(this.supportedDeliveryModes$.pipe((0,z.M)(this.selectedDeliveryModeCode$)).subscribe(([x,J])=>{J&&!!x.find(He=>He.code===J)||(J=this.checkoutConfigService.getPreferredDeliveryMode(x)),J&&(this.mode.controls.deliveryModeId.setValue(J),this.changeMode(J))}))}changeMode(x){this.busy$.next(!0),this.checkoutDeliveryModesFacade.setDeliveryMode(x).subscribe({complete:()=>this.onSuccess(),error:()=>this.onError()})}next(){this.mode.valid&&this.mode.value&&this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}getAriaChecked(x){return x===this.mode.controls.deliveryModeId.value}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(ge.QS),n.Y36(O),n.Y36(h.gz),n.Y36(Je),n.Y36(Ge.BG))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-delivery-mode"]],decls:8,vars:9,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[3,"formGroup"],[1,"row"],["role","radiogroup",1,"col-md-12","col-lg-9"],["class","form-check",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"form-check"],["role","radio","type","radio","formControlName","deliveryModeId",1,"form-check-input",3,"id","value","change"],[1,"cx-delivery-label","form-check-label","form-radio-label",3,"for"],[1,"cx-delivery-mode"],[1,"cx-delivery-price"],[1,"cx-delivery-details"],[1,"cx-spinner"]],template:function(x,J){if(1&x&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,Ve,17,14,"ng-container",1),n.ALo(4,"async"),n.ALo(5,"async"),n.YNc(6,_e,2,0,"ng-template",null,2,n.W1O)),2&x){const He=n.MAs(7);let Rt;n.xp6(1),n.hij(" ",n.lcZ(2,3,"checkoutMode.deliveryMethod"),"\n"),n.xp6(2),n.Q6J("ngIf",(null==(Rt=n.lcZ(4,5,J.supportedDeliveryModes$))?null:Rt.length)&&!n.lcZ(5,7,J.isUpdating$))("ngIfElse",He)}},dependencies:[e.sg,e.O5,ge.Fj,ge._,ge.JJ,ge.JL,ge.sg,ge.u,M.ORR,e.Ov,E.X$D],encapsulation:2,changeDetection:0}),N})(),Un=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutDeliveryMode:{component:Jt,guards:[he,te]}}})],imports:[e.ez,ge.UX,E.LUR,M.Fme]}),N})(),Pn=(()=>{class N{constructor(x,J,He,Rt){this.authService=x,this.activeCartFacade=J,this.semanticPathService=He,this.router=Rt}canActivate(){return this.authService.isUserLoggedIn().pipe((0,R.U)(x=>x?this.router.parseUrl(this.semanticPathService.get("home")??""):(0,E.P51)(this.activeCartFacade.isGuestCart())?this.router.parseUrl(this.semanticPathService.get("cart")??""):!x))}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(E.e80),n.LFG(oe.bu),n.LFG(E.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ur=(()=>{class N{constructor(x,J,He){this.formBuilder=x,this.authRedirectService=J,this.activeCartFacade=He,this.checkoutLoginForm=this.formBuilder.group({email:["",[ge.kI.required,M.kal.emailValidator]],emailConfirmation:["",[ge.kI.required]]},{validators:M.kal.emailsMustMatch("email","emailConfirmation")})}onSubmit(){if(this.checkoutLoginForm.valid){const x=this.checkoutLoginForm.get("email")?.value;this.activeCartFacade.addEmail(x),this.sub||(this.sub=this.activeCartFacade.isGuestCart().subscribe(J=>{J&&this.authRedirectService.redirect()}))}else this.checkoutLoginForm.markAllAsTouched()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(ge.QS),n.Y36(E.FUY),n.Y36(oe.bu))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-login"]],decls:20,vars:18,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-content"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","email","name","emailConfirmation","formControlName","emailConfirmation",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(x,J){1&x&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return J.onSubmit()}),n.TgZ(1,"div",1)(2,"label")(3,"span",2),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n._UZ(6,"input",3),n.ALo(7,"cxTranslate"),n._UZ(8,"cx-form-errors",4),n.qZA()(),n.TgZ(9,"div",1)(10,"label")(11,"span",2),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",5),n.ALo(15,"cxTranslate"),n._UZ(16,"cx-form-errors",4),n.qZA()(),n.TgZ(17,"button",6),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()),2&x&&(n.Q6J("formGroup",J.checkoutLoginForm),n.xp6(4),n.Oqu(n.lcZ(5,8,"checkoutLogin.emailAddress.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(7,10,"checkoutLogin.emailAddress.placeholder")),n.xp6(2),n.Q6J("control",J.checkoutLoginForm.get("email")),n.xp6(4),n.Oqu(n.lcZ(13,12,"checkoutLogin.confirmEmail.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,14,"checkoutLogin.confirmEmail.placeholder")),n.xp6(2),n.Q6J("control",J.checkoutLoginForm.get("emailConfirmation")),n.xp6(2),n.hij(" ",n.lcZ(19,16,"checkoutLogin.continue")," "))},dependencies:[ge._Y,ge.Fj,ge.JJ,ge.JL,ge.Q7,ge.sg,ge.u,M.Ahv,E.X$D],encapsulation:2}),N})(),Vn=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{GuestCheckoutLoginComponent:{component:ur,guards:[Pn]}}})],imports:[e.ez,E.LUR,ge.u5,ge.UX,ge.u5,ge.UX,M.Fym]}),N})(),Tn=(()=>{class N{constructor(x,J,He,Rt,rn,gn){this.userAddressService=x,this.userPaymentService=J,this.checkoutDeliveryAddressFacade=He,this.checkoutPaymentFacade=Rt,this.checkoutConfigService=rn,this.checkoutDeliveryModesFacade=gn,this.setDeliveryAddress(),this.setDeliveryMode(),this.setPaymentMethod()}setDeliveryAddress(){this.deliveryAddressSet$=(0,De.aj)([this.userAddressService.getAddresses(),this.userAddressService.getAddressesLoadedSuccess()]).pipe((0,q.b)(0),(0,G.b)(([,x])=>{x||this.userAddressService.loadAddresses()}),(0,V.h)(([,x])=>x),(0,ee.q)(1),(0,j.w)(([x])=>{const J=x.find(He=>He.defaultAddress)||x[0];return J&&Object.keys(J).length?this.checkoutDeliveryAddressFacade.setDeliveryAddress(J).pipe((0,j.w)(()=>this.checkoutDeliveryAddressFacade.getDeliveryAddressState()),(0,V.h)(He=>!He.error&&!He.loading),(0,R.U)(He=>He.data),(0,R.U)(He=>!(!He||!Object.keys(He).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)}),(0,H.x)())}setDeliveryMode(){this.deliveryModeSet$=(0,De.aj)([this.deliveryAddressSet$,this.checkoutDeliveryModesFacade.getSupportedDeliveryModesState()]).pipe((0,q.b)(0),(0,j.w)(([x,J])=>x?(0,ze.of)([J]).pipe((0,V.h)(([He])=>!He.loading&&!!He.data?.length),(0,j.w)(([He])=>{if(!He.data)return(0,ze.of)(!1);const Rt=this.checkoutConfigService.getPreferredDeliveryMode(He.data);return(0,ze.of)([Rt]).pipe((0,j.w)(([rn])=>rn?this.checkoutDeliveryModesFacade.setDeliveryMode(rn).pipe((0,j.w)(()=>this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState()),(0,V.h)(gn=>!gn.error&&!gn.loading),(0,R.U)(gn=>gn.data),(0,R.U)(gn=>!(!gn||!Object.keys(gn).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)))})):(0,ze.of)(!1)),(0,H.x)())}setPaymentMethod(){this.paymentMethodSet$=(0,De.aj)([this.deliveryModeSet$,this.userPaymentService.getPaymentMethods(),this.userPaymentService.getPaymentMethodsLoadedSuccess()]).pipe((0,q.b)(0),(0,G.b)(([,,x])=>{x||this.userPaymentService.loadPaymentMethods()}),(0,V.h)(([,,x])=>x),(0,j.w)(([x,J])=>{if(!x)return(0,ze.of)(!1);const He=J.find(Rt=>Rt.defaultPayment)||J[0];return He&&0!==Object.keys(He).length?this.checkoutPaymentFacade.setPaymentDetails(He).pipe((0,j.w)(()=>this.checkoutPaymentFacade.getPaymentDetailsState()),(0,V.h)(Rt=>!Rt.error&&!Rt.loading),(0,R.U)(Rt=>Rt.data),(0,R.U)(Rt=>!(!Rt||!Object.keys(Rt).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)}),(0,H.x)())}trySetDefaultCheckoutDetails(){return this.paymentMethodSet$.pipe((0,R.U)(x=>!!x))}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(E.kFJ),n.LFG(E.TWG),n.LFG(Ge.ys),n.LFG(Ge.Tx),n.LFG(O),n.LFG(Ge.BG))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Yn=(()=>{class N{constructor(x,J,He,Rt,rn,gn){this.router=x,this.routingConfigService=J,this.checkoutConfigService=He,this.expressCheckoutService=Rt,this.activeCartFacade=rn,this.checkoutStepService=gn,this.firstStep$=(0,ze.of)(this.router.parseUrl(this.routingConfigService.getRouteConfig(this.checkoutStepService.getFirstCheckoutStepRoute())?.paths?.[0]))}canActivate(){const x=this.expressCheckoutService.trySetDefaultCheckoutDetails().pipe((0,j.w)(J=>{const He=this.checkoutStepService.getCheckoutStepRoute("reviewOrder");return J&&He?(0,ze.of)(this.router.parseUrl(this.routingConfigService.getRouteConfig(He)?.paths?.[0])):this.firstStep$}));return this.activeCartFacade.isGuestCart().pipe((0,j.w)(J=>this.checkoutConfigService.isExpressCheckout()&&!J?x:this.firstStep$))}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(h.F0),n.LFG(E.gGW),n.LFG(O),n.LFG(Tn),n.LFG(oe.bu),n.LFG(Je))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),nr=(()=>{class N{constructor(){}}return N.\u0275fac=function(x){return new(x||N)},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-orchestrator"]],decls:0,vars:0,template:function(x,J){},encapsulation:2,changeDetection:0}),N})(),sr=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutOrchestrator:{component:nr,guards:[he,te,Yn]}}})],imports:[e.ez]}),N})(),Er=(()=>{class N{constructor(x){this.activeCartFacade=x,this.cartOutlets=oe.oC,this.cart$=this.activeCartFacade.getActive()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(oe.bu))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-order-summary"]],decls:2,vars:4,consts:[[3,"cxOutlet","cxOutletContext"]],template:function(x,J){1&x&&(n.YNc(0,Ue,0,0,"ng-template",0),n.ALo(1,"async")),2&x&&n.Q6J("cxOutlet",J.cartOutlets.ORDER_SUMMARY)("cxOutletContext",n.lcZ(1,2,J.cart$))},dependencies:[M.$3S,e.Ov],encapsulation:2,changeDetection:0}),N})(),vr=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutOrderSummary:{component:Er}}})],imports:[e.ez,M.f5$]}),N})(),Dn=(()=>{class N{constructor(x,J,He,Rt,rn,gn,ln){this.checkoutPaymentFacade=x,this.checkoutDeliveryAddressFacade=J,this.userPaymentService=He,this.globalMessageService=Rt,this.fb=rn,this.userAddressService=gn,this.launchDialogService=ln,this.iconTypes=M.e1G,this.months=[],this.years=[],this.sameAsDeliveryAddress=!0,this.selectedCountry$=new Ye.X(""),this.goBack=new n.vpe,this.closeForm=new n.vpe,this.setPaymentDetails=new n.vpe,this.paymentForm=this.fb.group({cardType:this.fb.group({code:[null,ge.kI.required]}),accountHolderName:["",ge.kI.required],cardNumber:["",ge.kI.required],expiryMonth:[null,ge.kI.required],expiryYear:[null,ge.kI.required],cvn:["",ge.kI.required],defaultPayment:[!1]}),this.billingAddressForm=this.fb.group({firstName:["",ge.kI.required],lastName:["",ge.kI.required],line1:["",ge.kI.required],line2:[""],town:["",ge.kI.required],region:this.fb.group({isocodeShort:[null,ge.kI.required]}),country:this.fb.group({isocode:[null,ge.kI.required]}),postalCode:["",ge.kI.required]})}ngOnInit(){this.paymentDetails&&this.paymentForm.patchValue(this.paymentDetails),this.expMonthAndYear(),this.countries$=this.userPaymentService.getAllBillingCountries().pipe((0,G.b)(x=>{0===Object.keys(x).length&&this.userPaymentService.loadBillingCountries()})),this.cardTypes$=this.checkoutPaymentFacade.getPaymentCardTypes(),this.deliveryAddress$=this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,V.h)(x=>!x.loading),(0,R.U)(x=>x.data)),this.showSameAsDeliveryAddressCheckbox$=(0,De.aj)([this.countries$,this.deliveryAddress$]).pipe((0,R.U)(([x,J])=>(J?.country&&!!x.filter(He=>He.isocode===J.country?.isocode).length)??!1),(0,G.b)(x=>{this.sameAsDeliveryAddress=x})),this.regions$=this.selectedCountry$.pipe((0,j.w)(x=>this.userAddressService.getRegions(x)),(0,G.b)(x=>{const J=this.billingAddressForm.get("region.isocodeShort");x.length>0?J?.enable():J?.disable()}))}expMonthAndYear(){const x=(new Date).getFullYear();for(let J=0;J<10;J++)this.years.push(x+J);for(let J=1;J<=12;J++)this.months.push(J<10?`0${J}`:J.toString())}toggleDefaultPaymentMethod(){this.paymentForm.value.defaultPayment=!this.paymentForm.value.defaultPayment}toggleSameAsDeliveryAddress(){this.sameAsDeliveryAddress=!this.sameAsDeliveryAddress}getAddressCardContent(x){let J="";return x.region&&x.region.isocode&&(J=x.region.isocode+", "),{textBold:x.firstName+" "+x.lastName,text:[x.line1,x.line2,x.town+", "+J+x.country?.isocode,x.postalCode,x.phone]}}openSuggestedAddress(x){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",void 0,{enteredAddress:this.billingAddressForm.value,suggestedAddresses:x.suggestedAddresses})}close(){this.closeForm.emit()}back(){this.goBack.emit()}verifyAddress(){this.sameAsDeliveryAddress?this.next():this.userAddressService.verifyAddress(this.billingAddressForm.value).subscribe(x=>{this.handleAddressVerificationResults(x)})}handleAddressVerificationResults(x){"ACCEPT"===x.decision?this.next():"REJECT"===x.decision?this.globalMessageService.add({key:"addressForm.invalidAddress"},E.xUg.MSG_TYPE_ERROR):"REVIEW"===x.decision&&this.openSuggestedAddress(x)}countrySelected(x){this.billingAddressForm.get("country.isocode")?.setValue(x.isocode),this.selectedCountry$.next(x.isocode)}next(){this.paymentForm.valid?this.sameAsDeliveryAddress?this.setPaymentDetails.emit({paymentDetails:this.paymentForm.value,billingAddress:null}):this.billingAddressForm.valid?this.setPaymentDetails.emit({paymentDetails:this.paymentForm.value,billingAddress:this.billingAddressForm.value}):this.billingAddressForm.markAllAsTouched():(this.paymentForm.markAllAsTouched(),this.sameAsDeliveryAddress||this.billingAddressForm.markAllAsTouched())}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(Ge.Tx),n.Y36(Ge.ys),n.Y36(E.TWG),n.Y36(E.IWp),n.Y36(ge.QS),n.Y36(E.kFJ),n.Y36(M.Q3W))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-payment-form"]],inputs:{loading:"loading",setAsDefaultField:"setAsDefaultField",paymentMethodsCount:"paymentMethodsCount",paymentDetails:"paymentDetails"},outputs:{goBack:"goBack",closeForm:"closeForm",setPaymentDetails:"setPaymentDetails"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["spinner",""],["role","status"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],["formGroupName","cardType",1,"form-group"],[4,"ngIf"],[1,"form-group"],[1,"label-content"],["required","true","type","text","formControlName","accountHolderName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","cardNumber",1,"form-control"],[1,"form-group","col-md-8"],[1,"cx-payment-form-exp-date"],[1,"cx-payment-form-exp-date-wrapper"],["formControlName","expiryMonth","id","month-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],["id","year-select","formControlName","expiryYear",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"form-group","col-md-4"],["placement","right","alt","",1,"cx-payment-form-tooltip",3,"type","title"],["required","true","type","text","id","cVVNumber","formControlName","cvn",1,"form-control"],["class","form-group",4,"ngIf"],[1,"cx-payment-form-billing"],[1,"cx-payment-form-billing-address"],["billingAddress",""],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],["class","btn btn-block btn-action",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-block","btn-primary"],[1,"label-content","required"],["bindLabel","name","bindValue","code","formControlName","code","id","card-type-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change"],[3,"content"],[3,"formGroup"],["formGroupName","country",1,"form-group"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["bindLabel","name","bindValue","isocode","formControlName","isocode","id","country-payment-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y","change"],["formGroupName","region"],["formControlName","isocodeShort","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(x,J){if(1&x&&(n.YNc(0,cn,68,79,"ng-container",0),n.YNc(1,Ut,1,0,"ng-template",null,1,n.W1O)),2&x){const He=n.MAs(2);n.Q6J("ngIf",!J.loading)("ngIfElse",He)}},dependencies:[M.VnX,e.O5,ge._Y,ge.Fj,ge.JJ,ge.JL,ge.Q7,ge.sg,ge.u,ge.x0,ve.w9,M.AkF,M.oJW,M.ORR,M.Ahv,e.Ov,E.X$D],encapsulation:2,changeDetection:0}),N})(),Ar=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({imports:[M.LcC,e.ez,ge.UX,ve.A0,M.dTQ,E.LUR,M.QX1,M.Fme,M.Fym]}),N})(),Br=(()=>{class N{constructor(x,J,He,Rt,rn,gn,ln,Jn){this.userPaymentService=x,this.checkoutDeliveryAddressFacade=J,this.checkoutPaymentFacade=He,this.activatedRoute=Rt,this.translationService=rn,this.activeCartFacade=gn,this.checkoutStepService=ln,this.globalMessageService=Jn,this.subscriptions=new ot.w,this.busy$=new Ye.X(!1),this.iconTypes=M.e1G,this.isGuestCheckout=!1,this.newPaymentFormManuallyOpened=!1,this.doneAutoSelect=!1,this.isUpdating$=(0,De.aj)([this.busy$,this.userPaymentService.getPaymentMethodsLoading(),this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,R.U)(fr=>fr.loading))]).pipe((0,R.U)(([fr,hr,eo])=>fr||hr||eo),(0,H.x)())}get backBtnText(){return this.checkoutStepService.getBackBntText(this.activatedRoute)}get existingPaymentMethods$(){return this.userPaymentService.getPaymentMethods()}get selectedMethod$(){return this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,V.h)(x=>!x.loading),(0,R.U)(x=>x.data),(0,H.x)((x,J)=>x?.id===J?.id))}ngOnInit(){(0,E.P51)(this.activeCartFacade.isGuestCart())?this.isGuestCheckout=!0:this.userPaymentService.loadPaymentMethods(),this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,V.h)(x=>!x.loading),(0,ee.q)(1),(0,R.U)(x=>x.data)).subscribe(x=>{this.deliveryAddress=x}),this.cards$=(0,De.aj)([this.existingPaymentMethods$.pipe((0,j.w)(x=>x?.length?(0,De.aj)(x.map(J=>(0,De.aj)([(0,ze.of)(J),this.translationService.translate("paymentCard.expires",{month:J.expiryMonth,year:J.expiryYear})]).pipe((0,R.U)(([He,Rt])=>({payment:He,expiryTranslation:Rt}))))):(0,ze.of)([]))),this.selectedMethod$,this.translationService.translate("paymentForm.useThisPayment"),this.translationService.translate("paymentCard.defaultPaymentMethod"),this.translationService.translate("paymentCard.selected")]).pipe((0,G.b)(([x,J])=>this.selectDefaultPaymentMethod(x,J)),(0,R.U)(([x,J,He,Rt,rn])=>x.map(gn=>({content:this.createCard(gn.payment,{textExpires:gn.expiryTranslation,textUseThisPayment:He,textDefaultPaymentMethod:Rt,textSelected:rn},J),paymentMethod:gn.payment}))))}selectDefaultPaymentMethod(x,J){if(!this.doneAutoSelect&&x?.length&&(!J||0===Object.keys(J).length)){const He=x.find(Rt=>Rt.payment.defaultPayment);He&&this.savePaymentMethod(J=He.payment),this.doneAutoSelect=!0}}selectPaymentMethod(x){x?.id!==(0,E.P51)(this.selectedMethod$)?.id&&(this.globalMessageService.add({key:"paymentMethods.paymentMethodSelected"},E.xUg.MSG_TYPE_INFO),this.savePaymentMethod(x))}showNewPaymentForm(){this.newPaymentFormManuallyOpened=!0}hideNewPaymentForm(){this.newPaymentFormManuallyOpened=!1}setPaymentDetails({paymentDetails:x,billingAddress:J}){this.paymentDetails=x;const He={...x};He.billingAddress=J??this.deliveryAddress,this.busy$.next(!0),this.subscriptions.add(this.checkoutPaymentFacade.createPaymentDetails(He).subscribe({complete:()=>{this.next()},error:()=>{this.onError()}}))}next(){this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}savePaymentMethod(x){this.busy$.next(!0),this.subscriptions.add(this.checkoutPaymentFacade.setPaymentDetails(x).subscribe({complete:()=>this.onSuccess(),error:()=>this.onError()}))}getCardIcon(x){let J;return J="visa"===x?this.iconTypes.VISA:"master"===x||"mastercard_eurocard"===x?this.iconTypes.MASTER_CARD:"diners"===x?this.iconTypes.DINERS_CLUB:"amex"===x?this.iconTypes.AMEX:this.iconTypes.CREDIT_CARD,J}createCard(x,J,He){return{role:"region",title:x.defaultPayment?J.textDefaultPaymentMethod:"",textBold:x.accountHolderName,text:[x.cardNumber??"",J.textExpires],img:this.getCardIcon(x.cardType?.code),actions:[{name:J.textUseThisPayment,event:"send"}],header:He?.id===x.id?J.textSelected:void 0,label:x.defaultPayment?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"}}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(E.TWG),n.Y36(Ge.ys),n.Y36(Ge.Tx),n.Y36(h.gz),n.Y36(E.D7D),n.Y36(oe.bu),n.Y36(Je),n.Y36(E.IWp))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-payment-method"]],decls:7,vars:6,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["hasExistingPaymentMethods",""],["newPaymentForm",""],["role","status"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-payment-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-payment-card","col-md-12","col-lg-6"],[1,"cx-payment-card-inner",3,"click"],[3,"border","fitToContainer","content","index","sendCard"],[3,"paymentMethodsCount","setAsDefaultField","loading","paymentDetails","setPaymentDetails","closeForm","goBack"],[1,"cx-spinner"]],template:function(x,J){1&x&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,En,7,4,"ng-container",1),n.ALo(4,"async"),n.YNc(5,Ce,2,0,"ng-template",null,2,n.W1O)),2&x&&(n.xp6(1),n.hij(" ",n.lcZ(2,2,"paymentForm.payment"),"\n"),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,J.cards$)))},dependencies:[e.sg,e.O5,Dn,M.AkF,M.ORR,e.Ov,E.X$D],encapsulation:2,changeDetection:0}),N})(),Tr=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutPaymentDetails:{component:Br,guards:[he,te]}}})],imports:[e.ez,h.Bz,Ar,M.dTQ,M.Fme,E.LUR]}),N})(),pr=(()=>{class N{constructor(x,J,He,Rt,rn){this.orderFacade=x,this.routingService=J,this.fb=He,this.launchDialogService=Rt,this.vcr=rn,this.checkoutSubmitForm=this.fb.group({termsAndConditions:[!1,ge.kI.requiredTrue]})}get termsAndConditionInvalid(){return this.checkoutSubmitForm.invalid}submitForm(){this.checkoutSubmitForm.valid?(this.placedOrder=this.launchDialogService.launch("PLACE_ORDER_SPINNER",this.vcr),this.orderFacade.placeOrder(this.checkoutSubmitForm.valid).subscribe({error:()=>{!this.placedOrder||this.placedOrder.subscribe(x=>{this.launchDialogService.clear("PLACE_ORDER_SPINNER"),x&&x.destroy()}).unsubscribe()},next:()=>this.onSuccess()})):this.checkoutSubmitForm.markAllAsTouched()}onSuccess(){this.routingService.go({cxRoute:"orderConfirmation"})}ngOnDestroy(){this.launchDialogService.clear("PLACE_ORDER_SPINNER")}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(de.Vh),n.Y36(E.Znh),n.Y36(ge.QS),n.Y36(M.Q3W),n.Y36(n.s_b))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-place-order"]],decls:15,vars:18,consts:[[1,"cx-place-order-form","form-check",3,"formGroup"],[1,"form-group"],["formControlName","termsAndConditions","type","checkbox",1,"scaled-input","form-check-input"],[1,"form-check-label"],["target","_blank","rel","noopener noreferrer",1,"cx-tc-link",3,"routerLink"],[1,"btn","btn-primary","btn-block",3,"disabled","cxAtMessage","click"]],template:function(x,J){1&x&&(n.TgZ(0,"form",0)(1,"div",1)(2,"label"),n._UZ(3,"input",2),n.TgZ(4,"span",3),n._uU(5),n.ALo(6,"cxTranslate"),n.TgZ(7,"a",4),n.ALo(8,"cxUrl"),n._uU(9),n.ALo(10,"cxTranslate"),n.qZA()()()(),n.TgZ(11,"button",5),n.NdJ("click",function(){return J.submitForm()}),n.ALo(12,"cxTranslate"),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()()),2&x&&(n.Q6J("formGroup",J.checkoutSubmitForm),n.xp6(5),n.hij(" ",n.lcZ(6,7,"checkoutReview.confirmThatRead")," "),n.xp6(2),n.Q6J("routerLink",n.lcZ(8,9,n.DdM(17,Te))),n.xp6(2),n.hij(" ",n.lcZ(10,11,"checkoutReview.termsAndConditions")," "),n.xp6(2),n.Q6J("disabled",J.termsAndConditionInvalid)("cxAtMessage",n.lcZ(12,13,"checkoutReview.orderInProcess")),n.xp6(2),n.hij(" ",n.lcZ(14,15,"checkoutReview.placeOrder")," "))},dependencies:[M.cgP,h.yS,ge._Y,ge.Wl,ge.JJ,ge.JL,ge.sg,ge.u,E.l2T,E.X$D],encapsulation:2,changeDetection:0}),N})();const ar={launch:{PLACE_ORDER_SPINNER:{inline:!0,component:M.ORR,dialogType:M.Myk.POPOVER_CENTER_BACKDROP}}};let _r=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)(ar),(0,E.i51)({cmsComponents:{CheckoutPlaceOrder:{component:pr,guards:[he,te]}}})],imports:[M.p$5,e.ez,h.Bz,E.bhT,E.LUR,ge.UX]}),N})(),Nn=(()=>{class N{constructor(x,J,He,Rt,rn,gn){this.checkoutStepService=x,this.routingConfigService=J,this.checkoutDeliveryAddressFacade=He,this.checkoutPaymentFacade=Rt,this.checkoutDeliveryModesFacade=rn,this.router=gn}canActivate(x){let J=-1;const He="/"+x.url.join("/");return this.checkoutStepService.steps$.pipe((0,ee.q)(1),(0,j.w)(Rt=>{let rn;return J=Rt.findIndex(gn=>`/${this.routingConfigService.getRouteConfig(gn.routeName)?.paths?.[0]}`===He),J>=0&&(rn=Rt[J]),Boolean(rn)?this.isStepSet(Rt[J-1]):((0,n.X6Q)()&&console.warn(`Missing step with route '${He}' in checkout configuration or this step is disabled.`),(0,ze.of)(this.getUrl("checkout")))}))}isStepSet(x){if(x&&!x.disabled)switch(x.type[0]){case"deliveryAddress":return this.isDeliveryAddress(x);case"deliveryMode":return this.isDeliveryModeSet(x);case"paymentDetails":return this.isPaymentDetailsSet(x)}return(0,ze.of)(!0)}isDeliveryAddress(x){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,V.h)(J=>!J.loading),(0,R.U)(J=>J.data),(0,R.U)(J=>!(!J||!Object.keys(J).length)||this.getUrl(x.routeName)))}isDeliveryModeSet(x){return this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,V.h)(J=>!J.loading),(0,R.U)(J=>J.data),(0,R.U)(J=>!!J||this.getUrl(x.routeName)))}isPaymentDetailsSet(x){return this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,V.h)(J=>!J.loading),(0,R.U)(J=>J.data),(0,R.U)(J=>!(!J||0===Object.keys(J).length)||this.getUrl(x.routeName)))}getUrl(x){return this.router.parseUrl(this.routingConfigService.getRouteConfig(x)?.paths?.[0])}}return N.\u0275fac=function(x){return new(x||N)(n.LFG(Je),n.LFG(E.gGW),n.LFG(Ge.ys),n.LFG(Ge.Tx),n.LFG(Ge.BG),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Hn=(()=>{class N{constructor(x){this.checkoutStepService=x,this._steps$=this.checkoutStepService.steps$,this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(J=>this.activeStepIndex=J))}get steps$(){return this._steps$.asObservable()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(Je))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress-mobile-bottom"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-media"],[4,"ngFor","ngForOf"],["class","cx-list-media",4,"ngIf"],[1,"cx-list-media"]],template:function(x,J){1&x&&(n.YNc(0,ft,4,3,"div",0),n.ALo(1,"async")),2&x&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,J.activeStepIndex$))},dependencies:[e.sg,e.O5,e.Ov,E.X$D],encapsulation:2,changeDetection:0}),N})(),rr=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutProgressMobileBottom:{component:Hn,guards:[he,te,Nn]}}})],imports:[e.ez,E.bhT,E.LUR,h.Bz]}),N})(),Mn=(()=>{class N{constructor(x,J){this.activeCartFacade=x,this.checkoutStepService=J,this._steps$=this.checkoutStepService.steps$,this.cart$=this.activeCartFacade.getActive(),this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(He=>this.activeStepIndex=He))}get steps$(){return this._steps$.asObservable()}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(oe.bu),n.Y36(Je))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress-mobile-top"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-media"],["class","cx-list-media",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cx-list-media"],["class","cx-list-media is-active",4,"ngIf"],[1,"btn","btn-link",3,"routerLink"],[1,"cx-list-media","is-active"]],template:function(x,J){1&x&&(n.YNc(0,qe,3,3,"div",0),n.ALo(1,"async")),2&x&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,J.activeStepIndex$))},dependencies:[e.sg,e.O5,h.rH,e.Ov,E.l2T,E.X$D],encapsulation:2,changeDetection:0}),N})(),or=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutProgressMobileTop:{component:Mn,guards:[he,te,Nn]}}})],imports:[e.ez,E.bhT,E.LUR,h.Bz]}),N})(),wr=(()=>{class N{transform(x){const J=x.lastIndexOf(" ");return-1===J?x:x.substring(0,J)+"<br />"+x.substring(J,x.length).trim()}}return N.\u0275fac=function(x){return new(x||N)},N.\u0275pipe=n.Yjl({name:"cxMultiLine",type:N,pure:!0}),N})(),Xr=(()=>{class N{constructor(x){this.checkoutStepService=x,this._steps$=this.checkoutStepService.steps$,this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(J=>this.activeStepIndex=J))}get steps$(){return this._steps$.asObservable()}getTabIndex(x){return this.isActive(x)||this.isDisabled(x)?-1:0}isActive(x){return x===this.activeStepIndex}isDisabled(x){return x>this.activeStepIndex}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(Je))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-nav","d-none","d-lg-block","d-xl-block"],[1,"cx-list"],[4,"ngFor","ngForOf"],[1,"cx-item"],[1,"cx-link",3,"routerLink","tabindex","innerHTML"]],template:function(x,J){1&x&&(n.YNc(0,We,6,6,"nav",0),n.ALo(1,"async")),2&x&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,J.activeStepIndex$))},dependencies:[e.sg,e.O5,h.yS,e.Ov,E.l2T,E.X$D,wr],encapsulation:2,changeDetection:0}),N})(),mo=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutProgress:{component:Xr,guards:[he,te,Nn]}}})],imports:[e.ez,E.bhT,E.LUR,h.Bz]}),N})(),xr=(()=>{class N{constructor(x,J,He,Rt,rn,gn){this.checkoutDeliveryAddressFacade=x,this.checkoutPaymentFacade=J,this.activeCartFacade=He,this.translationService=Rt,this.checkoutStepService=rn,this.checkoutDeliveryModesFacade=gn,this.cartOutlets=oe.oC,this.iconTypes=M.e1G,this.checkoutStepTypeDeliveryAddress="deliveryAddress",this.checkoutStepTypePaymentDetails="paymentDetails",this.checkoutStepTypeDeliveryMode="deliveryMode",this.promotionLocation=oe.Bx.ActiveCart,this.steps$=this.checkoutStepService.steps$,this.deliveryAddress$=this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,V.h)(ln=>!ln.loading&&!ln.error),(0,R.U)(ln=>ln.data)),this.deliveryMode$=this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,V.h)(ln=>!ln.loading&&!ln.error),(0,R.U)(ln=>ln.data)),this.paymentDetails$=this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,V.h)(ln=>!ln.loading&&!ln.error),(0,R.U)(ln=>ln.data))}get cart$(){return this.activeCartFacade.getActive()}get entries$(){return this.activeCartFacade.getEntries()}getCheckoutDeliverySteps(){return["deliveryAddress","deliveryMode"]}getCheckoutPaymentSteps(){return["paymentDetails","deliveryAddress"]}getDeliveryAddressCard(x,J){return this.translationService.translate("addressCard.shipTo").pipe((0,R.U)(He=>{J||(J=x?.country?.name);let Rt="";return x&&x.region&&x.region.isocode&&(Rt=x.region.isocode+", "),{title:He,textBold:x.firstName+" "+x.lastName,text:[x.line1,x.line2,x.town+", "+Rt+J,x.postalCode,x.phone]}}))}getDeliveryModeCard(x){return(0,De.aj)([this.translationService.translate("checkoutMode.deliveryMethod")]).pipe((0,R.U)(([J])=>({title:J,textBold:x.name,text:[x.description,x.deliveryCost?.formattedValue?x.deliveryCost?.formattedValue:""]})))}getPaymentMethodCard(x){return(0,De.aj)([this.translationService.translate("paymentForm.payment"),this.translationService.translate("paymentCard.expires",{month:x.expiryMonth,year:x.expiryYear}),this.translationService.translate("paymentForm.billingAddress")]).pipe((0,R.U)(([J,He,Rt])=>({title:J,textBold:x.accountHolderName,text:[x.cardNumber,He],paragraphs:[{title:Rt+":",text:[x.billingAddress?.firstName+" "+x.billingAddress?.lastName,x.billingAddress?.line1,x.billingAddress?.town+", "+(x.billingAddress?.region?.isocode?x.billingAddress?.region?.isocode+", ":"")+x.billingAddress?.country?.isocode,x.billingAddress?.postalCode]}]})))}getCheckoutStepUrl(x){return this.checkoutStepService.getCheckoutStep(x)?.routeName}deliverySteps(x){return x.filter(J=>this.getCheckoutDeliverySteps().includes(J.type[0]))}paymentSteps(x){return x.filter(J=>this.getCheckoutPaymentSteps().includes(J.type[0]))}}return N.\u0275fac=function(x){return new(x||N)(n.Y36(Ge.ys),n.Y36(Ge.Tx),n.Y36(oe.bu),n.Y36(E.D7D),n.Y36(Je),n.Y36(Ge.BG))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-review-submit"]],decls:15,vars:9,consts:[[1,"cx-review"],[1,"cx-review-title","d-none","d-lg-block","d-xl-block"],[1,"cx-review-summary","row"],[4,"ngIf"],["deliveryAddress",""],["deliveryMode",""],["paymentMethod",""],[1,"col-md-12","col-lg-6","col-xl-6","cx-review-payment-col"],[4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-6","col-xl-6","cx-review-shipping-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["class","cx-review-summary-card cx-review-card-address",4,"ngIf"],[1,"cx-review-summary-card","cx-review-card-address"],[3,"content"],[1,"cx-review-summary-edit-step"],[3,"routerLink"],["aria-hidden","true",3,"type"],[1,"cx-review-summary-card","cx-review-card-shipping"],[3,"content",4,"ngIf"],[1,"cx-review-summary-card","cx-review-card-payment"],[1,"cx-review-cart-total","d-none","d-lg-block","d-xl-block"],[1,"cx-review-cart-heading","d-block","d-lg-none","d-xl-none"],["class","cx-review-cart-item col-md-12",4,"ngIf"],[1,"cx-review-cart-item","col-md-12"],[3,"promotions"],[3,"cxOutlet","cxOutletContext"]],template:function(x,J){if(1&x&&(n.TgZ(0,"div",0)(1,"h2",1),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",2),n.YNc(5,kn,5,2,"ng-container",3),n.ALo(6,"async"),n.qZA(),n.YNc(7,yn,2,3,"ng-template",null,4,n.W1O),n.YNc(9,Ln,8,12,"ng-template",null,5,n.W1O),n.YNc(11,er,9,12,"ng-template",null,6,n.W1O),n.YNc(13,Q,9,13,"ng-container",3),n.ALo(14,"async"),n.qZA()),2&x){let He;n.xp6(2),n.hij(" ",n.lcZ(3,3,"checkoutReview.review")," "),n.xp6(3),n.Q6J("ngIf",null==(He=n.lcZ(6,5,J.steps$))?null:He.slice(0,-1)),n.xp6(8),n.Q6J("ngIf",n.lcZ(14,7,J.cart$))}},dependencies:[e.sg,e.O5,e.tP,e.RF,e.n9,M.AkF,h.yS,M.fVH,M.oJW,M.$3S,e.Ov,E.X$D,E.l2T],encapsulation:2,changeDetection:0}),N})(),Be=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,E.i51)({cmsComponents:{CheckoutReviewOrder:{component:xr,guards:[he,te]}}})],imports:[e.ez,M.dTQ,E.LUR,E.bhT,h.Bz,M.k$G,M.QX1,M.f5$]}),N})(),_t=(()=>{class N{}return N.\u0275fac=function(x){return new(x||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({imports:[sr,vr,mo,or,rr,Un,Tr,_r,Be,Kt,Vn]}),N})()},2453:(ye,X,v)=>{"use strict";v.d(X,{CQ:()=>Ye,CZ:()=>Nt,E8:()=>ze,IQ:()=>ht,OW:()=>oe,Vm:()=>Ie,Z_:()=>rt,hX:()=>ee,iI:()=>Fe,oH:()=>z,zQ:()=>ge});var n=v(4650),e=v(6322),h=v(7935),P=v(6053),E=v(1737),M=v(7545),R=v(4850),V=v(2994),j=v(2986),H=v(7221),G=v(3749);class z{}let q=(()=>{class Re{constructor(ie){this.adapter=ie}createAddress(ie,ne,Ve){return this.adapter.createAddress(ie,ne,Ve)}setAddress(ie,ne,Ve){return this.adapter.setAddress(ie,ne,Ve)}clearCheckoutDeliveryAddress(ie,ne){return this.adapter.clearCheckoutDeliveryAddress(ie,ne)}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(z))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class ee{}let ue=(()=>{class Re{constructor(ie){this.adapter=ie}setMode(ie,ne,Ve){return this.adapter.setMode(ie,ne,Ve)}getSupportedModes(ie,ne){return this.adapter.getSupportedModes(ie,ne)}clearCheckoutDeliveryMode(ie,ne){return this.adapter.clearCheckoutDeliveryMode(ie,ne)}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(ee))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class oe{}let De=(()=>{class Re{constructor(ie){this.adapter=ie}createPaymentDetails(ie,ne,Ve){return this.adapter.createPaymentDetails(ie,ne,Ve)}setPaymentDetails(ie,ne,Ve){return this.adapter.setPaymentDetails(ie,ne,Ve)}getPaymentCardTypes(){return this.adapter.getPaymentCardTypes()}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(oe))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class Ye{}let ot=(()=>{class Re{constructor(ie){this.adapter=ie}getCheckoutDetails(ie,ne){return this.adapter.getCheckoutDetails(ie,ne)}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(Ye))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ze=(()=>{class Re{constructor(ie,ne,Ve,_e,Ue,Ee){this.activeCartFacade=ie,this.userIdService=ne,this.eventService=Ve,this.commandService=_e,this.checkoutDeliveryAddressConnector=Ue,this.checkoutQueryFacade=Ee,this.createDeliveryAddressCommand=this.commandService.create(Ot=>this.checkoutPreconditions().pipe((0,M.w)(([Ft,Ct])=>this.checkoutDeliveryAddressConnector.createAddress(Ft,Ct,Ot).pipe((0,R.U)(it=>(it.titleCode=Ot.titleCode,Ot.region?.isocodeShort&&(it.region={...it.region,isocodeShort:Ot.region.isocodeShort}),it)),(0,V.b)(it=>this.eventService.dispatch({userId:Ft,cartId:Ct,address:it},h.vz))))),{strategy:e.flE.CancelPrevious}),this.setDeliveryAddressCommand=this.commandService.create(Ot=>this.checkoutPreconditions().pipe((0,M.w)(([Ft,Ct])=>{const it=Ot.id;if(!it)throw new Error("Checkout conditions not met");return this.checkoutDeliveryAddressConnector.setAddress(Ft,Ct,it).pipe((0,V.b)(()=>{this.eventService.dispatch({userId:Ft,cartId:Ct,address:Ot},h.oz)}))})),{strategy:e.flE.CancelPrevious}),this.clearDeliveryAddressCommand=this.commandService.create(()=>this.checkoutPreconditions().pipe((0,M.w)(([Ot,Ft])=>this.checkoutDeliveryAddressConnector.clearCheckoutDeliveryAddress(Ot,Ft).pipe((0,V.b)(()=>{this.eventService.dispatch({userId:Ot,cartId:Ft},h.eb)})))),{strategy:e.flE.CancelPrevious})}checkoutPreconditions(){return(0,P.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,j.q)(1),(0,R.U)(([ie,ne,Ve])=>{if(!ie||!ne||ie===e.Fds&&!Ve)throw new Error("Checkout conditions not met");return[ie,ne]}))}getDeliveryAddressState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,R.U)(ie=>({...ie,data:ie.data?.deliveryAddress})))}createAndSetAddress(ie){return this.createDeliveryAddressCommand.execute(ie)}setDeliveryAddress(ie){return this.setDeliveryAddressCommand.execute(ie)}clearCheckoutDeliveryAddress(){return this.clearDeliveryAddressCommand.execute()}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e.POd),n.LFG(e.VDr),n.LFG(q),n.LFG(h.nh))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Ge=(()=>{class Re{constructor(ie,ne,Ve,_e,Ue,Ee,Ot){this.activeCartFacade=ie,this.userIdService=ne,this.eventService=Ve,this.queryService=_e,this.commandService=Ue,this.checkoutDeliveryModesConnector=Ee,this.checkoutQueryFacade=Ot,this.supportedDeliveryModesQuery=this.queryService.create(()=>this.checkoutPreconditions().pipe((0,M.w)(([Ft,Ct])=>this.checkoutDeliveryModesConnector.getSupportedModes(Ft,Ct))),{reloadOn:this.getCheckoutSupportedDeliveryModesQueryReloadEvents(),resetOn:this.getCheckoutSupportedDeliveryModesQueryResetEvents()}),this.setDeliveryModeCommand=this.commandService.create(Ft=>this.checkoutPreconditions().pipe((0,M.w)(([Ct,it])=>this.checkoutDeliveryModesConnector.setMode(Ct,it,Ft).pipe((0,V.b)(()=>{this.eventService.dispatch({userId:Ct,cartId:it,cartCode:it,deliveryModeCode:Ft},h.VG)})))),{strategy:e.flE.CancelPrevious}),this.clearDeliveryModeCommand=this.commandService.create(()=>this.checkoutPreconditions().pipe((0,M.w)(([Ft,Ct])=>this.checkoutDeliveryModesConnector.clearCheckoutDeliveryMode(Ft,Ct).pipe((0,V.b)(()=>{this.eventService.dispatch({userId:Ft,cartId:Ct,cartCode:Ct},h.Yy)}),(0,H.K)(it=>(this.eventService.dispatch({userId:Ft,cartId:Ct,cartCode:Ct},h.s7),(0,E._)(it)))))),{strategy:e.flE.CancelPrevious})}getCheckoutSupportedDeliveryModesQueryReloadEvents(){return[h.f2]}getCheckoutSupportedDeliveryModesQueryResetEvents(){return[h.Nw]}checkoutPreconditions(){return(0,P.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,j.q)(1),(0,R.U)(([ie,ne,Ve])=>{if(!ie||!ne||ie===e.Fds&&!Ve)throw new Error("Checkout conditions not met");return[ie,ne]}))}getSupportedDeliveryModesState(){return this.supportedDeliveryModesQuery.getState()}getSupportedDeliveryModes(){return this.getSupportedDeliveryModesState().pipe((0,R.U)(ie=>ie.data??[]))}getSelectedDeliveryModeState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,R.U)(ie=>({...ie,data:ie.data?.deliveryMode})))}setDeliveryMode(ie){return this.setDeliveryModeCommand.execute(ie)}clearCheckoutDeliveryMode(){return this.clearDeliveryModeCommand.execute()}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e.POd),n.LFG(e._7J),n.LFG(e.VDr),n.LFG(ue),n.LFG(h.nh))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ge=(()=>{class Re{constructor(ie,ne,Ve,_e,Ue,Ee,Ot){this.activeCartFacade=ie,this.userIdService=ne,this.queryService=Ve,this.commandService=_e,this.eventService=Ue,this.checkoutPaymentConnector=Ee,this.checkoutQueryFacade=Ot,this.paymentCardTypesQuery=this.queryService.create(()=>this.checkoutPaymentConnector.getPaymentCardTypes(),{reloadOn:this.getCheckoutPaymentCardTypesQueryReloadEvents(),resetOn:this.getCheckoutPaymentCardTypesQueryResetEvents()}),this.createPaymentMethodCommand=this.commandService.create(Ft=>this.checkoutPreconditions().pipe((0,M.w)(([Ct,it])=>this.checkoutPaymentConnector.createPaymentDetails(Ct,it,Ft).pipe((0,V.b)(Zt=>this.eventService.dispatch({userId:Ct,cartId:it,paymentDetails:Zt},h.y6))))),{strategy:e.flE.CancelPrevious}),this.setPaymentMethodCommand=this.commandService.create(Ft=>this.checkoutPreconditions().pipe((0,M.w)(([Ct,it])=>{const Zt=Ft?.id;if(!Zt)throw new Error("Checkout conditions not met");return this.checkoutPaymentConnector.setPaymentDetails(Ct,it,Zt).pipe((0,V.b)(()=>this.eventService.dispatch({userId:Ct,cartId:it,paymentDetailsId:Zt},h.WB)))})),{strategy:e.flE.CancelPrevious})}getCheckoutPaymentCardTypesQueryReloadEvents(){return[h.vk]}getCheckoutPaymentCardTypesQueryResetEvents(){return[h.B7]}checkoutPreconditions(){return(0,P.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,j.q)(1),(0,R.U)(([ie,ne,Ve])=>{if(!ie||!ne||ie===e.Fds&&!Ve)throw new Error("Checkout conditions not met");return[ie,ne]}))}getPaymentCardTypesState(){return this.paymentCardTypesQuery.getState()}getPaymentCardTypes(){return this.getPaymentCardTypesState().pipe((0,R.U)(ie=>ie.data??[]))}getPaymentDetailsState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,R.U)(ie=>({...ie,data:ie.data?.paymentInfo})))}createPaymentDetails(ie){return this.createPaymentMethodCommand.execute(ie)}setPaymentDetails(ie){return this.setPaymentMethodCommand.execute(ie)}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e._7J),n.LFG(e.VDr),n.LFG(e.POd),n.LFG(De),n.LFG(h.nh))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ve=(()=>{class Re{constructor(ie,ne,Ve,_e){this.activeCartFacade=ie,this.userIdService=ne,this.queryService=Ve,this.checkoutConnector=_e,this.checkoutQuery$=this.queryService.create(()=>this.checkoutPreconditions().pipe((0,M.w)(([Ue,Ee])=>this.checkoutConnector.getCheckoutDetails(Ue,Ee))),{reloadOn:this.getCheckoutQueryReloadEvents(),resetOn:this.getCheckoutQueryResetEvents()})}getCheckoutQueryReloadEvents(){return[h.xs]}getCheckoutQueryResetEvents(){return[h.$M]}checkoutPreconditions(){return(0,P.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,j.q)(1),(0,R.U)(([ie,ne,Ve])=>{if(!ie||!ne||ie===e.Fds&&!Ve)throw new Error("Checkout conditions not met");return[ie,ne]}))}getCheckoutDetailsState(){return this.checkoutQuery$.getState()}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e._7J),n.LFG(ot))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const de=[ze,{provide:h.ys,useExisting:ze},Ge,{provide:h.BG,useExisting:Ge},ge,{provide:h.Tx,useExisting:ge},ve,{provide:h.nh,useExisting:ve}];let Ke=(()=>{class Re extends e.FRf{constructor(ie,ne,Ve){super(),this.translationService=ie,this.activeCartFacade=ne,this.basePageMetaResolver=Ve,this.pageType=e.GV4.CONTENT_PAGE,this.pageTemplate="MultiStepCheckoutSummaryPageTemplate"}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveHeading(){return this.translationService.translate("pageMetaResolver.checkout.title")}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}}return Re.\u0275fac=function(ie){return new(ie||Re)(n.LFG(e.D7D),n.LFG(G.bu),n.LFG(e.MkU))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),rt=(()=>{class Re{}return Re.\u0275fac=function(ie){return new(ie||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[...de,q,ue,De,ot,Ke,{provide:e.FRf,useExisting:Ke,multi:!0}]}),Re})();const Ie=new n.OlP("DeliveryModeNormalizer"),Nt=new n.OlP("PaymentDetailsSerializer"),Fe=new n.OlP("PaymentCardTypeNormalizer"),ht=new n.OlP("CheckoutNormalizer")},7935:(ye,X,v)=>{"use strict";v.d(X,{$M:()=>Ge,B7:()=>Ue,BG:()=>cn,CZ:()=>De,Nw:()=>fe,Rv:()=>It,Tx:()=>Ut,VG:()=>Nt,VR:()=>Ft,W$:()=>Ot,WB:()=>Ve,Yy:()=>Fe,eb:()=>rt,f2:()=>Re,iJ:()=>ge,nh:()=>pn,oz:()=>Ke,r2:()=>Ze,s7:()=>ht,u0:()=>oe,vk:()=>_e,vz:()=>de,xs:()=>ze,y6:()=>ne,ys:()=>Ct});var n=v(4650),e=v(3749),h=v(6322),P=v(950),E=v(4129),M=v(2654),R=v(6787),V=v(1737),j=v(2198),H=v(7545),G=v(4850),z=v(2986),q=v(7221),ee=v(8555),ue=v(529),oe=(()=>{return(ut=oe||(oe={})).FREE="FREE",ut.LEAST_EXPENSIVE="LEAST_EXPENSIVE",ut.MOST_EXPENSIVE="MOST_EXPENSIVE",oe;var ut})();let De=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275prov=n.Yz7({token:ut,factory:function(Pt){let mn=null;return mn=Pt?new(Pt||ut):n.LFG(h.DeH),mn},providedIn:"root"}),ut})();const Ye={checkout:{steps:[{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[oe.FREE],guest:!1}},ot={routing:{routes:{checkoutLogin:{paths:["checkout-login"],authFlow:!0},checkout:{paths:["checkout"]},checkoutDeliveryAddress:{paths:["checkout/delivery-address"]},checkoutDeliveryMode:{paths:["checkout/delivery-mode"]},checkoutPaymentDetails:{paths:["checkout/payment-details"]},checkoutReviewOrder:{paths:["checkout/review-order"]}}}};let ze=(()=>{class ut extends h.W8x{}return ut.type="CheckoutQueryReloadEvent",ut})(),Ge=(()=>{class ut extends h.W8x{}return ut.type="CheckoutQueryResetEvent",ut})();class ge extends h.W8x{}class ve extends ge{}let de=(()=>{class ut extends ve{}return ut.type="CheckoutDeliveryAddressCreatedEvent",ut})(),Ke=(()=>{class ut extends ve{}return ut.type="CheckoutDeliveryAddressSetEvent",ut})(),rt=(()=>{class ut extends ve{}return ut.type="CheckoutDeliveryAddressClearedEvent",ut})();class Ie extends ge{}let Nt=(()=>{class ut extends Ie{}return ut.type="CheckoutDeliveryModeSetEvent",ut})(),Fe=(()=>{class ut extends Ie{}return ut.type="CheckoutDeliveryModeClearedEvent",ut})(),ht=(()=>{class ut extends Ie{}return ut.type="CheckoutDeliveryModeClearedErrorEvent",ut})(),Re=(()=>{class ut extends Ie{}return ut.type="CheckoutSupportedDeliveryModesQueryReloadEvent",ut})(),fe=(()=>{class ut extends Ie{}return ut.type="CheckoutSupportedDeliveryModesQueryResetEvent",ut})();class ie extends ge{}let ne=(()=>{class ut extends ie{}return ut.type="CheckoutPaymentDetailsCreatedEvent",ut})(),Ve=(()=>{class ut extends ie{}return ut.type="CheckoutPaymentDetailsSetEvent",ut})(),_e=(()=>{class ut extends ie{}return ut.type="CheckoutPaymentCardTypesQueryReloadEvent",ut})(),Ue=(()=>{class ut extends ie{}return ut.type="CheckoutPaymentCardTypesQueryResetEvent",ut})(),Ee=(()=>{class ut{constructor(Pt){this.eventService=Pt,this.subscriptions=new M.w,this.onCheckoutQueryReload(),this.onCheckoutQueryReset()}onCheckoutQueryReload(){this.subscriptions.add((0,R.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},ze)}))}onCheckoutQueryReset(){this.subscriptions.add((0,R.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J),this.eventService.get(P.PN),this.eventService.get(P.sY),this.eventService.get(e.pA),this.eventService.get(E.uZ)).subscribe(()=>{this.eventService.dispatch({},Ge)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.POd))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})();const Ot="checkout",Ft="checkoutCore";let Ct=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275prov=n.Yz7({token:ut,factory:function(){return(0,h.wvQ)({facade:ut,feature:Ft,methods:["getDeliveryAddressState","createAndSetAddress","setDeliveryAddress","clearCheckoutDeliveryAddress"],async:!0})},providedIn:"root"}),ut})(),it=(()=>{class ut{constructor(Pt,mn,En,Ce){this.checkoutDeliveryAddressFacade=Pt,this.eventService=mn,this.globalMessageService=En,this.activeCartFacade=Ce,this.subscriptions=new M.w,this.onDeliveryAddressCreated(),this.onDeliveryAddressSet(),this.onDeliveryAddressCleared(),this.onUserAddressChange()}onUserAddressChange(){this.subscriptions.add(this.eventService.get(h.yDL).pipe((0,j.h)(Pt=>Pt instanceof h.ZTc||Pt instanceof h.c$T),(0,H.w)(({userId:Pt})=>this.activeCartFacade.takeActiveCartId().pipe((0,G.U)(mn=>({cartId:mn,userId:Pt}))))).subscribe(({cartId:Pt,userId:mn})=>{this.checkoutDeliveryAddressFacade.clearCheckoutDeliveryAddress(),this.eventService.dispatch({cartId:Pt,userId:mn},fe)}))}onDeliveryAddressCreated(){this.subscriptions.add(this.eventService.get(de).subscribe(({cartId:Pt,userId:mn})=>{mn!==h.Fds&&this.eventService.dispatch({userId:mn},h.UQd),this.globalMessageService.add({key:"addressForm.userAddressAddSuccess"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({userId:mn,cartId:Pt},fe),this.eventService.dispatch({},Ge)}))}onDeliveryAddressSet(){this.subscriptions.add(this.eventService.get(Ke).subscribe(({userId:Pt,cartId:mn})=>{this.eventService.dispatch({userId:Pt,cartId:mn},fe),this.eventService.dispatch({},Ge)}))}onDeliveryAddressCleared(){this.subscriptions.add(this.eventService.get(rt).subscribe(()=>this.eventService.dispatch({},Ge)))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(Ct),n.LFG(h.POd),n.LFG(h.IWp),n.LFG(e.bu))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Zt=(()=>{class ut{constructor(Pt){this.eventService=Pt,this.subscriptions=new M.w,this.onDeliveryModeSet(),this.onDeliveryModeCleared(),this.onDeliveryModeClearedError(),this.onDeliveryModeReset(),this.onGetSupportedDeliveryModesQueryReload(),this.onGetSupportedDeliveryModesQueryReset()}onDeliveryModeSet(){this.subscriptions.add(this.eventService.get(Nt).subscribe(({userId:Pt,cartId:mn,cartCode:En})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:Pt,cartId:mn,cartCode:En},e.Tc)}))}onDeliveryModeCleared(){this.subscriptions.add(this.eventService.get(Fe).subscribe(({userId:Pt,cartId:mn,cartCode:En})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:Pt,cartId:mn,cartCode:En},e.Tc)}))}onDeliveryModeClearedError(){this.subscriptions.add(this.eventService.get(ht).subscribe(({userId:Pt,cartId:mn,cartCode:En})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:Pt,cartId:mn,cartCode:En},e.Tc)}))}onDeliveryModeReset(){this.subscriptions.add(this.eventService.get(fe).subscribe(({userId:Pt,cartId:mn})=>this.eventService.dispatch({userId:Pt,cartId:mn,cartCode:mn},e.Tc)))}onGetSupportedDeliveryModesQueryReload(){this.subscriptions.add((0,R.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},Re)}))}onGetSupportedDeliveryModesQueryReset(){this.subscriptions.add((0,R.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},fe)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.POd))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),wt=(()=>{class ut{constructor(Pt,mn){this.eventService=Pt,this.globalMessageService=mn,this.subscriptions=new M.w,this.onPaymentCreated(),this.onPaymentSet(),this.onGetCardTypesQueryReload()}onPaymentCreated(){this.subscriptions.add(this.eventService.get(ne).subscribe(({userId:Pt})=>{Pt!==h.Fds&&this.eventService.dispatch({userId:Pt},h.kmg),this.globalMessageService.add({key:"paymentForm.paymentAddedSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({},Ge)}))}onPaymentSet(){this.subscriptions.add(this.eventService.get(Ve).subscribe(()=>{this.eventService.dispatch({},Ge)}))}onGetCardTypesQueryReload(){this.subscriptions.add((0,R.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},_e)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.POd),n.LFG(h.IWp))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Dt=(()=>{class ut{constructor(Pt){this.eventService=Pt,this.subscriptions=new M.w,this.onOrderPlaced()}onOrderPlaced(){this.subscriptions.add(this.eventService.get(E.uZ).subscribe(({userId:Pt,cartId:mn,cartCode:En})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:Pt,cartId:mn,cartCode:En},e.c7)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.POd))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),dt=(()=>{class ut{constructor(Pt,mn){this.eventService=Pt,this.store=mn,this.subscriptions=new M.w,this.onUserAddressAction(),this.onUserPaymentAction()}onUserAddressAction(){this.subscriptions.add(this.eventService.get(h.UQd).subscribe(({userId:Pt})=>{this.store.dispatch(new h.EJN.LoadUserAddresses(Pt))}))}onUserPaymentAction(){this.subscriptions.add(this.eventService.get(h.kmg).subscribe(({userId:Pt})=>{this.store.dispatch(new h.EJN.LoadUserPaymentMethods(Pt))}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.POd),n.LFG(ee.yh))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Qt=(()=>{class ut{constructor(Pt,mn,En,Ce,Te,Me){}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(Ee),n.LFG(it),n.LFG(Zt),n.LFG(wt),n.LFG(Dt),n.LFG(dt))},ut.\u0275mod=n.oAB({type:ut}),ut.\u0275inj=n.cJS({}),ut})();const vt=[{provide:ue.TP,useExisting:(()=>{class ut{constructor(Pt,mn){this.routingService=Pt,this.multiCartFacade=mn}intercept(Pt,mn){return this.routingService.getRouterState().pipe((0,z.q)(1),(0,H.w)(En=>mn.handle(Pt).pipe((0,q.K)(Ce=>{if(Ce instanceof ue.UA&&this.isUserInCheckoutRoute(En.state?.semanticRoute)&&this.isCartNotFoundError(Ce)){this.routingService.go({cxRoute:"cart"});const Te=this.getCartIdFromError(Ce);Te&&this.multiCartFacade.reloadCart(Te)}return(0,V._)(Ce)}))))}isUserInCheckoutRoute(Pt){return Pt?.toLowerCase().startsWith("checkout")??!1}isCartNotFoundError(Pt){return 400===Pt.status&&"CartError"===Pt.error?.errors?.[0]?.type&&"notFound"===Pt.error?.errors?.[0]?.reason}getCartIdFromError(Pt){return Pt.error?.errors?.[0]?.subject}}return ut.\u0275fac=function(Pt){return new(Pt||ut)(n.LFG(h.Znh),n.LFG(e.WT))},ut.\u0275prov=n.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),multi:!0}],Ze=["CheckoutOrchestrator","CheckoutOrderSummary","CheckoutProgress","CheckoutProgressMobileBottom","CheckoutProgressMobileTop","CheckoutDeliveryMode","CheckoutPaymentDetails","CheckoutPlaceOrder","CheckoutReviewOrder","CheckoutDeliveryAddress","GuestCheckoutLoginComponent"];function $t(){return{featureModules:{[Ot]:{cmsComponents:Ze,dependencies:[e.O0]},[Ft]:Ot}}}let It=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275mod=n.oAB({type:ut}),ut.\u0275inj=n.cJS({providers:[...vt,(0,h.i51)(ot),(0,h.i51)(Ye),(0,h.x2j)($t)],imports:[Qt]}),ut})(),cn=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275prov=n.Yz7({token:ut,factory:function(){return(0,h.wvQ)({facade:ut,feature:Ft,methods:["getSupportedDeliveryModesState","getSupportedDeliveryModes","setDeliveryMode","getSelectedDeliveryModeState","clearCheckoutDeliveryMode"],async:!0})},providedIn:"root"}),ut})(),Ut=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275prov=n.Yz7({token:ut,factory:function(){return(0,h.wvQ)({facade:ut,feature:Ft,methods:["getPaymentCardTypesState","getPaymentCardTypes","getPaymentDetailsState","createPaymentDetails","setPaymentDetails"],async:!0})},providedIn:"root"}),ut})(),pn=(()=>{class ut{}return ut.\u0275fac=function(Pt){return new(Pt||ut)},ut.\u0275prov=n.Yz7({token:ut,factory:function(){return(0,h.wvQ)({facade:ut,feature:Ft,methods:["getCheckoutDetailsState"]})},providedIn:"root"}),ut})()},6322:(ye,X,v)=>{"use strict";v.d(X,{RzO:()=>Oh,jo8:()=>Ep,O9k:()=>nv,w3G:()=>xt,ZWZ:()=>Fp,k0m:()=>Sl,cNt:()=>e0,NpW:()=>Ga,uQL:()=>qh,dSP:()=>Fa,a1M:()=>gs,i$2:()=>af,nyr:()=>ca,_4v:()=>Ed,FUY:()=>dd,e80:()=>_i,jg0:()=>Ec,N3Q:()=>Bn,KOx:()=>qn,iEg:()=>Wi,pz3:()=>g,MkU:()=>Eh,Do$:()=>Ns,M$E:()=>Rh,m2B:()=>ev,XwO:()=>pS,IkA:()=>Qr,Dcy:()=>Dh,ctt:()=>Sh,VDr:()=>PE,flE:()=>rc,ryK:()=>qy,DeH:()=>Co,XZr:()=>wi,yUt:()=>po,pEA:()=>ns,vc1:()=>xy,Zu_:()=>lh,IXI:()=>go,nWM:()=>_S,ieQ:()=>Yu,Y1I:()=>ah,KZK:()=>eD,dgE:()=>cS,W8x:()=>yi,bOD:()=>$0,peS:()=>$y,Mvl:()=>Ai,OK4:()=>Dy,cXr:()=>Ah,c$T:()=>NC,uvI:()=>I0,QIJ:()=>GD,POd:()=>sa,gLQ:()=>Ym,Ru9:()=>jc,EY6:()=>zu,EJv:()=>ii,q2V:()=>lD,GSh:()=>Kl,IWp:()=>Pc,xUg:()=>yr,kck:()=>qo,YPQ:()=>Qn,qug:()=>bd,sdw:()=>Ws,LUR:()=>dS,Fox:()=>Cu,ORv:()=>Ua,TSl:()=>Es,QRE:()=>sh,UQd:()=>IE,kmg:()=>wE,p1J:()=>ef,rX_:()=>$a,z4I:()=>Xa,aOY:()=>Pd,k$E:()=>br,C8C:()=>Sc,DzN:()=>tg,gSv:()=>wv,oT0:()=>tv,Fds:()=>Ls,DBw:()=>sA,zyp:()=>ls,YI5:()=>Pp,Vri:()=>ks,Lz0:()=>Ir,mS3:()=>VD,EM5:()=>Uo,YB0:()=>t0,BzF:()=>Xn,jrf:()=>Qu,u3W:()=>My,FRf:()=>Ys,deh:()=>M0,GV4:()=>W,VkE:()=>Ng,GCj:()=>JS,scg:()=>UD,bPT:()=>lA,FxR:()=>Qc,x0A:()=>ZA,tyF:()=>sv,ji5:()=>rd,M52:()=>yE,Fa4:()=>g0,Cvs:()=>z_,_7J:()=>qA,gGW:()=>fu,TSP:()=>zm,Znh:()=>na,Wrh:()=>$D,qI3:()=>YA,hCH:()=>vi,dO9:()=>yg,zQk:()=>Fs,R$7:()=>Ju,Qnj:()=>ql,mR0:()=>Xy,vL$:()=>Hr,vUS:()=>oa,WBb:()=>wc,kPG:()=>y,iHd:()=>xi,leO:()=>Ti,F3r:()=>Up,IMh:()=>od,X$D:()=>J0,Wml:()=>Xm,D7D:()=>Kc,_Re:()=>ra,OPk:()=>Bv,W5u:()=>As,ZTc:()=>Vh,gyx:()=>bh,bhT:()=>l0,l2T:()=>u0,EJN:()=>a_,yDL:()=>qc,kFJ:()=>OE,ZZY:()=>Zu,mjM:()=>LE,XBV:()=>zi,GO$:()=>id,zht:()=>nb,xd:()=>FE,Y2r:()=>GS,TWG:()=>UC,Tie:()=>yv,KDu:()=>tD,zYO:()=>Ro,JyF:()=>jn,X9E:()=>ka,twT:()=>HD,PjU:()=>Bs,RH2:()=>io,wvQ:()=>a,P51:()=>Mh,Pzz:()=>XA,jWE:()=>hu,pTN:()=>Fi,Kn2:()=>jo,cxH:()=>On,A2H:()=>os,k9r:()=>Id,i51:()=>Zo,x2j:()=>Is,ARM:()=>J_,FM_:()=>jm});var n=v(9671),e=v(4650),h=v(8555),P=v(839),E=v(1086),M=v(3753),R=v(591),V=v(910),j=v(6053),H=v(341),G=v(1737),z=v(2654),q=v(6498),ee=v(8929),ue=v(5409),oe=v(8896),De=v(8514),Ye=v(5254),ot=v(3009),ze=v(6688),Ge=v(3489),ge=v(5430),ve=v(1177);function de(...t){const c=t[t.length-1];return"function"==typeof c&&t.pop(),(0,ot.n)(t,void 0).lift(new Ke(c))}class Ke{constructor(c){this.resultSelector=c}call(c,o){return o.subscribe(new rt(c,this.resultSelector))}}class rt extends Ge.L{constructor(c,o,u=Object.create(null)){super(c),this.resultSelector=o,this.iterators=[],this.active=0,this.resultSelector="function"==typeof o?o:void 0}_next(c){const o=this.iterators;(0,ze.k)(c)?o.push(new Nt(c)):o.push("function"==typeof c[ge.hZ]?new Ie(c[ge.hZ]()):new Fe(this.destination,this,c))}_complete(){const c=this.iterators,o=c.length;if(this.unsubscribe(),0!==o){this.active=o;for(let u=0;u<o;u++){let p=c[u];p.stillUnsubscribed?this.destination.add(p.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const c=this.iterators,o=c.length,u=this.destination;for(let S=0;S<o;S++){let I=c[S];if("function"==typeof I.hasValue&&!I.hasValue())return}let p=!1;const m=[];for(let S=0;S<o;S++){let I=c[S],Y=I.next();if(I.hasCompleted()&&(p=!0),Y.done)return void u.complete();m.push(Y.value)}this.resultSelector?this._tryresultSelector(m):u.next(m),p&&u.complete()}_tryresultSelector(c){let o;try{o=this.resultSelector.apply(this,c)}catch(u){return void this.destination.error(u)}this.destination.next(o)}}class Ie{constructor(c){this.iterator=c,this.nextResult=c.next()}hasValue(){return!0}next(){const c=this.nextResult;return this.nextResult=this.iterator.next(),c}hasCompleted(){const c=this.nextResult;return Boolean(c&&c.done)}}class Nt{constructor(c){this.array=c,this.index=0,this.length=0,this.length=c.length}[ge.hZ](){return this}next(c){const o=this.index++;return o<this.length?{value:this.array[o],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Fe extends ve.Ds{constructor(c,o,u){super(c),this.parent=o,this.observable=u,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ge.hZ](){return this}next(){const c=this.buffer;return 0===c.length&&this.isComplete?{value:null,done:!0}:{value:c.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(c){this.buffer.push(c),this.parent.checkIterators()}subscribe(){return(0,ve.ft)(this.observable,new ve.IY(this))}}var ht=v(8139),Re=v(567),fe=v(6787),ie=v(4715);function Ve(t){const{start:c,index:o,count:u,subscriber:p}=t;o>=u?p.complete():(p.next(c),!p.closed&&(t.index=o+1,t.start=c+1,this.schedule(t)))}var _e=v(8723),Ue=v(2986),Ee=v(4850),Ot=v(13),Ft=v(1059),Ct=v(5778),it=v(2198),Zt=v(5154),wt=v(2994),Dt=v(7545),dt=v(7168),Qt=v(7770),me=v(7221),vt=v(8807),Ze=v(7604),$t=v(8117),It=v(519),cn=v(9403),Ut=v(1406),pn=v(1709),ut=v(2536);function qt(t,c,o,u){o&&"function"!=typeof o&&(u=o);const p="function"==typeof o?o:void 0,m=new P.t(t,c,u);return S=>(0,ut.O)(()=>m,p)(S)}var Pt=v(2313),mn=v(2014),En=v(1307);function Ce(t,c=null){return function(u){return u.lift(new Te(t,c))}}class Te{constructor(c,o){this.bufferSize=c,this.startBufferEvery=o,this.subscriberClass=o&&c!==o?pt:Me}call(c,o){return o.subscribe(new this.subscriberClass(c,this.bufferSize,this.startBufferEvery))}}class Me extends Ge.L{constructor(c,o){super(c),this.bufferSize=o,this.buffer=[]}_next(c){const o=this.buffer;o.push(c),o.length==this.bufferSize&&(this.destination.next(o),this.buffer=[])}_complete(){const c=this.buffer;c.length>0&&this.destination.next(c),super._complete()}}class pt extends Ge.L{constructor(c,o,u){super(c),this.bufferSize=o,this.startBufferEvery=u,this.buffers=[],this.count=0}_next(c){const{bufferSize:o,startBufferEvery:u,buffers:p,count:m}=this;this.count++,m%u==0&&p.push([]);for(let S=p.length;S--;){const I=p[S];I.push(c),I.length===o&&(p.splice(S,1),this.destination.next(I))}}_complete(){const{buffers:c,destination:o}=this;for(;c.length>0;){let u=c.shift();u.length>0&&o.next(u)}super._complete()}}var ft=v(373),nn=v(4002),zt=v(384),hn=v(943),Wt=v(537);function Oe(t=-1){return c=>c.lift(new yt(t,c))}class yt{constructor(c,o){this.count=c,this.source=o}call(c,o){return o.subscribe(new Ae(c,this.count,this.source))}}class Ae extends Ge.L{constructor(c,o,u){super(c),this.count=o,this.source=u}error(c){if(!this.isStopped){const{source:o,count:u}=this;if(0===u)return super.error(c);u>-1&&(this.count=u-1),o.subscribe(this._unsubscribeAndRecycle())}}}var qe=v(7625);class We{constructor(c,o){this.notifier=c,this.source=o}call(c,o){return o.subscribe(new Tt(c,this.notifier,this.source))}}class Tt extends ve.Ds{constructor(c,o,u){super(c),this.notifier=o,this.source=u}error(c){if(!this.isStopped){let o=this.errors,u=this.retries,p=this.retriesSubscription;if(u)this.errors=void 0,this.retriesSubscription=void 0;else{o=new ee.xQ;try{const{notifier:m}=this;u=m(o)}catch(m){return super.error(m)}p=(0,ve.ft)(u,new ve.IY(this))}this._unsubscribeAndRecycle(),this.errors=o,this.retries=u,this.retriesSubscription=p,o.next(c)}}_unsubscribe(){const{errors:c,retriesSubscription:o}=this;c&&(c.unsubscribe(),this.errors=void 0),o&&(o.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:c}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=c,this.source.subscribe(this)}}var bt=v(1214),Lt=v(6895),un=v(610),Vt=v(529),st=v(5024),xn=v(1481),Gn=v(6943);function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}var dr=[],yn=dr.forEach,wn=dr.slice;function Ln(t){return yn.call(wn.call(arguments,1),function(c){if(c)for(var o in c)void 0===t[o]&&(t[o]=c[o])}),t}function zn(){return"function"==typeof XMLHttpRequest||"object"===(typeof XMLHttpRequest>"u"?"undefined":kn(XMLHttpRequest))}var Q,te,O,Le=v(2136),ke=v.t(Le,2);function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}"function"==typeof fetch&&(Q=typeof global<"u"&&global.fetch?global.fetch:typeof window<"u"&&window.fetch?window.fetch:fetch),zn()&&(typeof global<"u"&&global.XMLHttpRequest?te=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(te=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(typeof global<"u"&&global.ActiveXObject?O=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(O=window.ActiveXObject)),!Q&&ke&&!te&&!O&&(Q=Le||ke),"function"!=typeof Q&&(Q=void 0);var he=function(c,o){if(o&&"object"===pe(o)){var u="";for(var p in o)u+="&"+encodeURIComponent(p)+"="+encodeURIComponent(o[p]);if(!u)return c;c=c+(-1!==c.indexOf("?")?"&":"?")+u.slice(1)}return c},Je=function(c,o,u){Q(c,o).then(function(p){if(!p.ok)return u(p.statusText||"Error",{status:p.status});p.text().then(function(m){u(null,{status:p.status,data:m})}).catch(u)}).catch(u)},mt=!1;const Pn=function(c,o,u,p){return"function"==typeof u&&(p=u,u=void 0),p=p||function(){},Q?function(c,o,u,p){c.queryStringParams&&(o=he(o,c.queryStringParams));var m=Ln({},"function"==typeof c.customHeaders?c.customHeaders():c.customHeaders);u&&(m["Content-Type"]="application/json");var S="function"==typeof c.requestOptions?c.requestOptions(u):c.requestOptions,I=Ln({method:u?"POST":"GET",body:u?c.stringify(u):void 0,headers:m},mt?{}:S);try{Je(o,I,p)}catch(Y){if(!S||0===Object.keys(S).length||!Y.message||Y.message.indexOf("not implemented")<0)return p(Y);try{Object.keys(S).forEach(function(ae){delete I[ae]}),Je(o,I,p),mt=!0}catch(ae){p(ae)}}}(c,o,u,p):zn()||"function"==typeof ActiveXObject?function(c,o,u,p){u&&"object"===pe(u)&&(u=he("",u).slice(1)),c.queryStringParams&&(o=he(o,c.queryStringParams));try{var m;(m=te?new te:new O("MSXML2.XMLHTTP.3.0")).open(u?"POST":"GET",o,1),c.crossDomain||m.setRequestHeader("X-Requested-With","XMLHttpRequest"),m.withCredentials=!!c.withCredentials,u&&m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.overrideMimeType&&m.overrideMimeType("application/json");var S=c.customHeaders;if(S="function"==typeof S?S():S)for(var I in S)m.setRequestHeader(I,S[I]);m.onreadystatechange=function(){m.readyState>3&&p(m.status>=400?m.statusText:null,{status:m.status,data:m.responseText})},m.send(u)}catch(Y){console&&console.log(Y)}}(c,o,u,p):void p(new Error("No fetch and no xhr implementation found!"))};function ur(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function Vn(t,c){for(var o=0;o<c.length;o++){var u=c[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var nr=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(o){return JSON.parse(o)},stringify:JSON.stringify,parsePayload:function(o,u,p){return function Yn(t,c,o){return c in t?Object.defineProperty(t,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[c]=o,t}({},u,p||"")},request:Pn,reloadInterval:!(typeof window<"u")&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},sr=function(){function t(c){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ur(this,t),this.services=c,this.options=o,this.allOptions=u,this.type="backend",this.init(c,o,u)}return function Tn(t,c,o){c&&Vn(t.prototype,c),o&&Vn(t,o),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"init",value:function(o){var u=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=o,this.options=Ln(p,this.options||{},nr()),this.allOptions=m,this.services&&this.options.reloadInterval&&setInterval(function(){return u.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(o,u,p){this._readAny(o,o,u,u,p)}},{key:"read",value:function(o,u,p){this._readAny([o],o,[u],u,p)}},{key:"_readAny",value:function(o,u,p,m,S){var I=this,Y=this.options.loadPath;"function"==typeof this.options.loadPath&&(Y=this.options.loadPath(o,p)),Y=function Wn(t){return function er(t){return!!t&&"function"==typeof t.then}(t)?t:Promise.resolve(t)}(Y),Y.then(function(ae){if(!ae)return S(null,{});var Pe=I.services.interpolator.interpolate(ae,{lng:o.join("+"),ns:p.join("+")});I.loadUrl(Pe,S,u,m)})}},{key:"loadUrl",value:function(o,u,p,m){var S=this;this.options.request(this.options,o,void 0,function(I,Y){if(Y&&(Y.status>=500&&Y.status<600||!Y.status))return u("failed loading "+o+"; status code: "+Y.status,!0);if(Y&&Y.status>=400&&Y.status<500)return u("failed loading "+o+"; status code: "+Y.status,!1);if(!Y&&I&&I.message&&I.message.indexOf("Failed to fetch")>-1)return u("failed loading "+o+": "+I.message,!0);if(I)return u(I,!1);var ae,Pe;try{ae="string"==typeof Y.data?S.options.parse(Y.data,p,m):Y.data}catch{Pe="failed parsing "+o+" to json"}if(Pe)return u(Pe,!1);u(null,ae)})}},{key:"create",value:function(o,u,p,m,S){var I=this;if(this.options.addPath){"string"==typeof o&&(o=[o]);var Y=this.options.parsePayload(u,p,m),ae=0,Pe=[],Ne=[];o.forEach(function(ct){var At=I.options.addPath;"function"==typeof I.options.addPath&&(At=I.options.addPath(ct,u));var gt=I.services.interpolator.interpolate(At,{lng:ct,ns:u});I.options.request(I.options,gt,Y,function(en,dn){ae+=1,Pe.push(en),Ne.push(dn),ae===o.length&&S&&S(Pe,Ne)})})}}},{key:"reload",value:function(){var o=this,u=this.services,p=u.backendConnector,m=u.languageUtils,S=u.logger,I=p.language;if(!I||"cimode"!==I.toLowerCase()){var Y=[],ae=function(Ne){m.toResolveHierarchy(Ne).forEach(function(At){Y.indexOf(At)<0&&Y.push(At)})};ae(I),this.allOptions.preload&&this.allOptions.preload.forEach(function(Pe){return ae(Pe)}),Y.forEach(function(Pe){o.allOptions.ns.forEach(function(Ne){p.read(Pe,Ne,"read",null,null,function(ct,At){ct&&S.warn("loading namespace ".concat(Ne," for language ").concat(Pe," failed"),ct),!ct&&At&&S.log("loaded namespace ".concat(Ne," for language ").concat(Pe),At),p.loaded("".concat(Pe,"|").concat(Ne),ct,At)})})})}}}]),t}();sr.type="backend";const Er=sr;function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}function Dn(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function Br(t){var c=function Ar(t,c){if("object"!==vr(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var u=o.call(t,c||"default");if("object"!==vr(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(t)}(t,"string");return"symbol"===vr(c)?c:String(c)}function Tr(t,c){for(var o=0;o<c.length;o++){var u=c[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,Br(u.key),u)}}function pr(t,c,o){return c&&Tr(t.prototype,c),o&&Tr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _r(t,c){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,p){return u.__proto__=p,u})(t,c)}function Nn(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),c&&_r(t,c)}function Hn(t,c){if(c&&("object"===vr(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function rr(t){return(rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(t)}function Mn(t,c,o){return(c=Br(c))in t?Object.defineProperty(t,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[c]=o,t}function Xr(t,c){(null==c||c>t.length)&&(c=t.length);for(var o=0,u=new Array(c);o<c;o++)u[o]=t[o];return u}function _t(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function N(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?_t(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_t(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}var xe={type:"logger",log:function(c){this.output("log",c)},warn:function(c){this.output("warn",c)},error:function(c){this.output("error",c)},output:function(c,o){console&&console[c]&&console[c].apply(console,o)}},J=new(function(){function t(c){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dn(this,t),this.init(c,o)}return pr(t,[{key:"init",value:function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=u.prefix||"i18next:",this.logger=o||xe,this.options=u,this.debug=u.debug}},{key:"setDebug",value:function(o){this.debug=o}},{key:"log",value:function(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return this.forward(u,"log","",!0)}},{key:"warn",value:function(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return this.forward(u,"warn","",!0)}},{key:"error",value:function(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return this.forward(u,"error","")}},{key:"deprecate",value:function(){for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return this.forward(u,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(o,u,p,m){return m&&!this.debug?null:("string"==typeof o[0]&&(o[0]="".concat(p).concat(this.prefix," ").concat(o[0])),this.logger[u](o))}},{key:"create",value:function(o){return new t(this.logger,N(N({},{prefix:"".concat(this.prefix,":").concat(o,":")}),this.options))}},{key:"clone",value:function(o){return(o=o||this.options).prefix=o.prefix||this.prefix,new t(this.logger,o)}}]),t}()),He=function(){function t(){Dn(this,t),this.observers={}}return pr(t,[{key:"on",value:function(o,u){var p=this;return o.split(" ").forEach(function(m){p.observers[m]=p.observers[m]||[],p.observers[m].push(u)}),this}},{key:"off",value:function(o,u){if(this.observers[o]){if(!u)return void delete this.observers[o];this.observers[o]=this.observers[o].filter(function(p){return p!==u})}}},{key:"emit",value:function(o){for(var u=arguments.length,p=new Array(u>1?u-1:0),m=1;m<u;m++)p[m-1]=arguments[m];if(this.observers[o]){var S=[].concat(this.observers[o]);S.forEach(function(Y){Y.apply(void 0,p)})}if(this.observers["*"]){var I=[].concat(this.observers["*"]);I.forEach(function(Y){Y.apply(Y,[o].concat(p))})}}}]),t}();function Rt(){var t,c,o=new Promise(function(u,p){t=u,c=p});return o.resolve=t,o.reject=c,o}function rn(t){return null==t?"":""+t}function gn(t,c,o){t.forEach(function(u){c[u]&&(o[u]=c[u])})}function ln(t,c,o){function u(I){return I&&I.indexOf("###")>-1?I.replace(/###/g,"."):I}function p(){return!t||"string"==typeof t}for(var m="string"!=typeof c?[].concat(c):c.split(".");m.length>1;){if(p())return{};var S=u(m.shift());!t[S]&&o&&(t[S]=new o),t=Object.prototype.hasOwnProperty.call(t,S)?t[S]:{}}return p()?{}:{obj:t,k:u(m.shift())}}function Jn(t,c,o){var u=ln(t,c,Object);u.obj[u.k]=o}function hr(t,c){var o=ln(t,c),u=o.obj;if(u)return u[o.k]}function eo(t,c,o){var u=hr(t,o);return void 0!==u?u:hr(c,o)}function To(t,c,o){for(var u in c)"__proto__"!==u&&"constructor"!==u&&(u in t?"string"==typeof t[u]||t[u]instanceof String||"string"==typeof c[u]||c[u]instanceof String?o&&(t[u]=c[u]):To(t[u],c[u],o):t[u]=c[u]);return t}function to(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Rr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ci(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(c){return Rr[c]}):t}var no=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,xo=[" ",",","?","!",";"];function Xo(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function jr(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?Xo(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Xo(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}function ui(t,c){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[c])return t[c];for(var u=c.split(o),p=t,m=0;m<u.length;++m){if(!p||"string"==typeof p[u[m]]&&m+1<u.length)return;if(void 0===p[u[m]]){for(var S=2,I=u.slice(m,m+S).join(o),Y=p[I];void 0===Y&&u.length>m+S;)S++,Y=p[I=u.slice(m,m+S).join(o)];if(void 0===Y)return;if(null===Y)return null;if(c.endsWith(I)){if("string"==typeof Y)return Y;if(I&&"string"==typeof Y[I])return Y[I]}var ae=u.slice(m+S).join(o);return ae?ui(Y,ae,o):void 0}p=p[u[m]]}return p}}var Eo=function(t){Nn(o,t);var c=function Go(t){var c=function ei(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,u=rr(t);if(c){var m=rr(this).constructor;p=Reflect.construct(u,arguments,m)}else p=u.apply(this,arguments);return Hn(this,p)}}(o);function o(u){var p,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Dn(this,o),p=c.call(this),no&&He.call(ar(p)),p.data=u||{},p.options=m,void 0===p.options.keySeparator&&(p.options.keySeparator="."),void 0===p.options.ignoreJSONStructure&&(p.options.ignoreJSONStructure=!0),p}return pr(o,[{key:"addNamespaces",value:function(p){this.options.ns.indexOf(p)<0&&this.options.ns.push(p)}},{key:"removeNamespaces",value:function(p){var m=this.options.ns.indexOf(p);m>-1&&this.options.ns.splice(m,1)}},{key:"getResource",value:function(p,m,S){var I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Y=void 0!==I.keySeparator?I.keySeparator:this.options.keySeparator,ae=void 0!==I.ignoreJSONStructure?I.ignoreJSONStructure:this.options.ignoreJSONStructure,Pe=[p,m];S&&"string"!=typeof S&&(Pe=Pe.concat(S)),S&&"string"==typeof S&&(Pe=Pe.concat(Y?S.split(Y):S)),p.indexOf(".")>-1&&(Pe=p.split("."));var Ne=hr(this.data,Pe);return Ne||!ae||"string"!=typeof S?Ne:ui(this.data&&this.data[p]&&this.data[p][m],S,Y)}},{key:"addResource",value:function(p,m,S,I){var Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},ae=this.options.keySeparator;void 0===ae&&(ae=".");var Pe=[p,m];S&&(Pe=Pe.concat(ae?S.split(ae):S)),p.indexOf(".")>-1&&(I=m,m=(Pe=p.split("."))[1]),this.addNamespaces(m),Jn(this.data,Pe,I),Y.silent||this.emit("added",p,m,S,I)}},{key:"addResources",value:function(p,m,S){var I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var Y in S)("string"==typeof S[Y]||"[object Array]"===Object.prototype.toString.apply(S[Y]))&&this.addResource(p,m,Y,S[Y],{silent:!0});I.silent||this.emit("added",p,m,S)}},{key:"addResourceBundle",value:function(p,m,S,I,Y){var ae=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},Pe=[p,m];p.indexOf(".")>-1&&(I=S,S=m,m=(Pe=p.split("."))[1]),this.addNamespaces(m);var Ne=hr(this.data,Pe)||{};I?To(Ne,S,Y):Ne=jr(jr({},Ne),S),Jn(this.data,Pe,Ne),ae.silent||this.emit("added",p,m,S)}},{key:"removeResourceBundle",value:function(p,m){this.hasResourceBundle(p,m)&&delete this.data[p][m],this.removeNamespaces(m),this.emit("removed",p,m)}},{key:"hasResourceBundle",value:function(p,m){return void 0!==this.getResource(p,m)}},{key:"getResourceBundle",value:function(p,m){return m||(m=this.options.defaultNS),"v1"===this.options.compatibilityAPI?jr(jr({},{}),this.getResource(p,m)):this.getResource(p,m)}},{key:"getDataByLanguage",value:function(p){return this.data[p]}},{key:"hasLanguageSomeTranslations",value:function(p){var m=this.getDataByLanguage(p);return!!(m&&Object.keys(m)||[]).find(function(I){return m[I]&&Object.keys(m[I]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),o}(He),Ao={processors:{},addPostProcessor:function(c){this.processors[c.name]=c},handle:function(c,o,u,p,m){var S=this;return c.forEach(function(I){S.processors[I]&&(o=S.processors[I].process(o,u,p,m))}),o}};function Vo(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function Cr(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?Vo(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Vo(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}var ni={},Dr=function(t){Nn(o,t);var c=function ti(t){var c=function Mo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,u=rr(t);if(c){var m=rr(this).constructor;p=Reflect.construct(u,arguments,m)}else p=u.apply(this,arguments);return Hn(this,p)}}(o);function o(u){var p,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn(this,o),p=c.call(this),no&&He.call(ar(p)),gn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],u,ar(p)),p.options=m,void 0===p.options.keySeparator&&(p.options.keySeparator="."),p.logger=J.create("translator"),p}return pr(o,[{key:"changeLanguage",value:function(p){p&&(this.language=p)}},{key:"exists",value:function(p){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==p)return!1;var S=this.resolve(p,m);return S&&void 0!==S.res}},{key:"extractFromKey",value:function(p,m){var S=void 0!==m.nsSeparator?m.nsSeparator:this.options.nsSeparator;void 0===S&&(S=":");var I=void 0!==m.keySeparator?m.keySeparator:this.options.keySeparator,Y=m.ns||this.options.defaultNS||[],ae=S&&p.indexOf(S)>-1,Pe=!(this.options.userDefinedKeySeparator||m.keySeparator||this.options.userDefinedNsSeparator||m.nsSeparator||function Bo(t,c,o){c=c||"",o=o||"";var u=xo.filter(function(I){return c.indexOf(I)<0&&o.indexOf(I)<0});if(0===u.length)return!0;var p=new RegExp("(".concat(u.map(function(I){return"?"===I?"\\?":I}).join("|"),")")),m=!p.test(t);if(!m){var S=t.indexOf(o);S>0&&!p.test(t.substring(0,S))&&(m=!0)}return m}(p,S,I));if(ae&&!Pe){var Ne=p.match(this.interpolator.nestingRegexp);if(Ne&&Ne.length>0)return{key:p,namespaces:Y};var ct=p.split(S);(S!==I||S===I&&this.options.ns.indexOf(ct[0])>-1)&&(Y=ct.shift()),p=ct.join(I)}return"string"==typeof Y&&(Y=[Y]),{key:p,namespaces:Y}}},{key:"translate",value:function(p,m,S){var I=this;if("object"!==vr(m)&&this.options.overloadTranslationOptionHandler&&(m=this.options.overloadTranslationOptionHandler(arguments)),m||(m={}),null==p)return"";Array.isArray(p)||(p=[String(p)]);var Y=void 0!==m.returnDetails?m.returnDetails:this.options.returnDetails,ae=void 0!==m.keySeparator?m.keySeparator:this.options.keySeparator,Pe=this.extractFromKey(p[p.length-1],m),Ne=Pe.key,ct=Pe.namespaces,At=ct[ct.length-1],gt=m.lng||this.language,en=m.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(gt&&"cimode"===gt.toLowerCase()){if(en){var dn=m.nsSeparator||this.options.nsSeparator;return Y?(tn.res="".concat(At).concat(dn).concat(Ne),tn):"".concat(At).concat(dn).concat(Ne)}return Y?(tn.res=Ne,tn):Ne}var tn=this.resolve(p,m),vn=tn&&tn.res,Sr=tn&&tn.usedKey||Ne,mr=tn&&tn.exactUsedKey||Ne,ai=Object.prototype.toString.apply(vn),Ts=["[object Number]","[object Function]","[object RegExp]"],ya=void 0!==m.joinArrays?m.joinArrays:this.options.joinArrays,Xc=!this.i18nFormat||this.i18nFormat.handleAsObject,eu="string"!=typeof vn&&"boolean"!=typeof vn&&"number"!=typeof vn;if(Xc&&vn&&eu&&Ts.indexOf(ai)<0&&("string"!=typeof ya||"[object Array]"!==ai)){if(!m.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var oc=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Sr,vn,Cr(Cr({},m),{},{ns:ct})):"key '".concat(Ne," (").concat(this.language,")' returned an object instead of string.");return Y?(tn.res=oc,tn):oc}if(ae){var Tp="[object Array]"===ai,Ev=Tp?[]:{},pD=Tp?mr:Sr;for(var xp in vn)if(Object.prototype.hasOwnProperty.call(vn,xp)){var jE="".concat(pD).concat(ae).concat(xp);Ev[xp]=this.translate(jE,Cr(Cr({},m),{joinArrays:!1,ns:ct})),Ev[xp]===jE&&(Ev[xp]=vn[xp])}vn=Ev}}else if(Xc&&"string"==typeof ya&&"[object Array]"===ai)(vn=vn.join(ya))&&(vn=this.extendTranslation(vn,p,m,S));else{var Av=!1,$h=!1,ZE=void 0!==m.count&&"string"!=typeof m.count,jC=o.hasDefaultValue(m),fD=ZE?this.pluralResolver.getSuffix(gt,m.count,m):"",jh=m["defaultValue".concat(fD)]||m.defaultValue;!this.isValidLookup(vn)&&jC&&(Av=!0,vn=jh),this.isValidLookup(vn)||($h=!0,vn=Ne);var hD=m.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,gD=hD&&$h?void 0:vn,Zh=jC&&jh!==vn&&this.options.updateMissing;if($h||Av||Zh){if(this.logger.log(Zh?"updateKey":"missingKey",gt,At,Ne,Zh?jh:vn),ae){var YE=this.resolve(Ne,Cr(Cr({},m),{},{keySeparator:!1}));YE&&YE.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Yh=[],Dv=this.languageUtils.getFallbackCodes(this.options.fallbackLng,m.lng||this.language);if("fallback"===this.options.saveMissingTo&&Dv&&Dv[0])for(var ZC=0;ZC<Dv.length;ZC++)Yh.push(Dv[ZC]);else"all"===this.options.saveMissingTo?Yh=this.languageUtils.toResolveHierarchy(m.lng||this.language):Yh.push(m.lng||this.language);var zE=function(Mp,zC,WE){var JE=jC&&WE!==vn?WE:gD;I.options.missingKeyHandler?I.options.missingKeyHandler(Mp,At,zC,JE,Zh,m):I.backendConnector&&I.backendConnector.saveMissing&&I.backendConnector.saveMissing(Mp,At,zC,JE,Zh,m),I.emit("missingKey",Mp,At,zC,vn)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ZE?Yh.forEach(function(YC){I.pluralResolver.getSuffixes(YC,m).forEach(function(Mp){zE([YC],Ne+Mp,m["defaultValue".concat(Mp)]||jh)})}):zE(Yh,Ne,jh))}vn=this.extendTranslation(vn,p,m,tn,S),$h&&vn===Ne&&this.options.appendNamespaceToMissingKey&&(vn="".concat(At,":").concat(Ne)),($h||Av)&&this.options.parseMissingKeyHandler&&(vn="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(At,":").concat(Ne):Ne,Av?vn:void 0):this.options.parseMissingKeyHandler(vn))}return Y?(tn.res=vn,tn):vn}},{key:"extendTranslation",value:function(p,m,S,I,Y){var ae=this;if(this.i18nFormat&&this.i18nFormat.parse)p=this.i18nFormat.parse(p,Cr(Cr({},this.options.interpolation.defaultVariables),S),I.usedLng,I.usedNS,I.usedKey,{resolved:I});else if(!S.skipInterpolation){S.interpolation&&this.interpolator.init(Cr(Cr({},S),{interpolation:Cr(Cr({},this.options.interpolation),S.interpolation)}));var Ne,Pe="string"==typeof p&&(S&&S.interpolation&&void 0!==S.interpolation.skipOnVariables?S.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(Pe){var ct=p.match(this.interpolator.nestingRegexp);Ne=ct&&ct.length}var At=S.replace&&"string"!=typeof S.replace?S.replace:S;if(this.options.interpolation.defaultVariables&&(At=Cr(Cr({},this.options.interpolation.defaultVariables),At)),p=this.interpolator.interpolate(p,At,S.lng||this.language,S),Pe){var gt=p.match(this.interpolator.nestingRegexp);Ne<(gt&&gt.length)&&(S.nest=!1)}!1!==S.nest&&(p=this.interpolator.nest(p,function(){for(var vn=arguments.length,Sr=new Array(vn),mr=0;mr<vn;mr++)Sr[mr]=arguments[mr];return Y&&Y[0]===Sr[0]&&!S.context?(ae.logger.warn("It seems you are nesting recursively key: ".concat(Sr[0]," in key: ").concat(m[0])),null):ae.translate.apply(ae,Sr.concat([m]))},S)),S.interpolation&&this.interpolator.reset()}var dn=S.postProcess||this.options.postProcess,tn="string"==typeof dn?[dn]:dn;return null!=p&&tn&&tn.length&&!1!==S.applyPostProcessor&&(p=Ao.handle(tn,p,m,this.options&&this.options.postProcessPassResolved?Cr({i18nResolved:I},S):S,this)),p}},{key:"resolve",value:function(p){var I,Y,ae,Pe,Ne,m=this,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof p&&(p=[p]),p.forEach(function(ct){if(!m.isValidLookup(I)){var At=m.extractFromKey(ct,S),gt=At.key;Y=gt;var en=At.namespaces;m.options.fallbackNS&&(en=en.concat(m.options.fallbackNS));var dn=void 0!==S.count&&"string"!=typeof S.count,tn=dn&&!S.ordinal&&0===S.count&&m.pluralResolver.shouldUseIntlApi(),vn=void 0!==S.context&&("string"==typeof S.context||"number"==typeof S.context)&&""!==S.context,Sr=S.lngs?S.lngs:m.languageUtils.toResolveHierarchy(S.lng||m.language,S.fallbackLng);en.forEach(function(mr){m.isValidLookup(I)||(Ne=mr,!ni["".concat(Sr[0],"-").concat(mr)]&&m.utils&&m.utils.hasLoadedNamespace&&!m.utils.hasLoadedNamespace(Ne)&&(ni["".concat(Sr[0],"-").concat(mr)]=!0,m.logger.warn('key "'.concat(Y,'" for languages "').concat(Sr.join(", "),'" won\'t get resolved as namespace "').concat(Ne,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Sr.forEach(function(ai){if(!m.isValidLookup(I)){Pe=ai;var oc,Ts=[gt];if(m.i18nFormat&&m.i18nFormat.addLookupKeys)m.i18nFormat.addLookupKeys(Ts,gt,ai,mr,S);else{var ya;dn&&(ya=m.pluralResolver.getSuffix(ai,S.count,S));var Xc="".concat(m.options.pluralSeparator,"zero");if(dn&&(Ts.push(gt+ya),tn&&Ts.push(gt+Xc)),vn){var eu="".concat(gt).concat(m.options.contextSeparator).concat(S.context);Ts.push(eu),dn&&(Ts.push(eu+ya),tn&&Ts.push(eu+Xc))}}for(;oc=Ts.pop();)m.isValidLookup(I)||(ae=oc,I=m.getResource(ai,mr,oc,S))}}))})}}),{res:I,usedKey:Y,exactUsedKey:ae,usedLng:Pe,usedNS:Ne}}},{key:"isValidLookup",value:function(p){return!(void 0===p||!this.options.returnNull&&null===p||!this.options.returnEmptyString&&""===p)}},{key:"getResource",value:function(p,m,S){var I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(p,m,S,I):this.resourceStore.getResource(p,m,S,I)}}],[{key:"hasDefaultValue",value:function(p){var m="defaultValue";for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)&&m===S.substring(0,m.length)&&void 0!==p[S])return!0;return!1}}]),o}(He);function ro(t){return t.charAt(0).toUpperCase()+t.slice(1)}var vo=function(){function t(c){Dn(this,t),this.options=c,this.supportedLngs=this.options.supportedLngs||!1,this.logger=J.create("languageUtils")}return pr(t,[{key:"getScriptPartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return null;var u=o.split("-");return 2===u.length||(u.pop(),"x"===u[u.length-1].toLowerCase())?null:this.formatLanguageCode(u.join("-"))}},{key:"getLanguagePartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return o;var u=o.split("-");return this.formatLanguageCode(u[0])}},{key:"formatLanguageCode",value:function(o){if("string"==typeof o&&o.indexOf("-")>-1){var u=["hans","hant","latn","cyrl","cans","mong","arab"],p=o.split("-");return this.options.lowerCaseLng?p=p.map(function(m){return m.toLowerCase()}):2===p.length?(p[0]=p[0].toLowerCase(),p[1]=p[1].toUpperCase(),u.indexOf(p[1].toLowerCase())>-1&&(p[1]=ro(p[1].toLowerCase()))):3===p.length&&(p[0]=p[0].toLowerCase(),2===p[1].length&&(p[1]=p[1].toUpperCase()),"sgn"!==p[0]&&2===p[2].length&&(p[2]=p[2].toUpperCase()),u.indexOf(p[1].toLowerCase())>-1&&(p[1]=ro(p[1].toLowerCase())),u.indexOf(p[2].toLowerCase())>-1&&(p[2]=ro(p[2].toLowerCase()))),p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?o.toLowerCase():o}},{key:"isSupportedCode",value:function(o){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(o=this.getLanguagePartFromCode(o)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(o)>-1}},{key:"getBestMatchFromCodes",value:function(o){var p,u=this;return o?(o.forEach(function(m){if(!p){var S=u.formatLanguageCode(m);(!u.options.supportedLngs||u.isSupportedCode(S))&&(p=S)}}),!p&&this.options.supportedLngs&&o.forEach(function(m){if(!p){var S=u.getLanguagePartFromCode(m);if(u.isSupportedCode(S))return p=S;p=u.options.supportedLngs.find(function(I){if(0===I.indexOf(S))return I})}}),p||(p=this.getFallbackCodes(this.options.fallbackLng)[0]),p):null}},{key:"getFallbackCodes",value:function(o,u){if(!o)return[];if("function"==typeof o&&(o=o(u)),"string"==typeof o&&(o=[o]),"[object Array]"===Object.prototype.toString.apply(o))return o;if(!u)return o.default||[];var p=o[u];return p||(p=o[this.getScriptPartFromCode(u)]),p||(p=o[this.formatLanguageCode(u)]),p||(p=o[this.getLanguagePartFromCode(u)]),p||(p=o.default),p||[]}},{key:"toResolveHierarchy",value:function(o,u){var p=this,m=this.getFallbackCodes(u||this.options.fallbackLng||[],o),S=[],I=function(ae){!ae||(p.isSupportedCode(ae)?S.push(ae):p.logger.warn("rejecting language code not found in supportedLngs: ".concat(ae)))};return"string"==typeof o&&o.indexOf("-")>-1?("languageOnly"!==this.options.load&&I(this.formatLanguageCode(o)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&I(this.getScriptPartFromCode(o)),"currentOnly"!==this.options.load&&I(this.getLanguagePartFromCode(o))):"string"==typeof o&&I(this.formatLanguageCode(o)),m.forEach(function(Y){S.indexOf(Y)<0&&I(p.formatLanguageCode(Y))}),S}}]),t}(),oo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_o={1:function(c){return Number(c>1)},2:function(c){return Number(1!=c)},3:function(c){return 0},4:function(c){return Number(c%10==1&&c%100!=11?0:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?1:2)},5:function(c){return Number(0==c?0:1==c?1:2==c?2:c%100>=3&&c%100<=10?3:c%100>=11?4:5)},6:function(c){return Number(1==c?0:c>=2&&c<=4?1:2)},7:function(c){return Number(1==c?0:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?1:2)},8:function(c){return Number(1==c?0:2==c?1:8!=c&&11!=c?2:3)},9:function(c){return Number(c>=2)},10:function(c){return Number(1==c?0:2==c?1:c<7?2:c<11?3:4)},11:function(c){return Number(1==c||11==c?0:2==c||12==c?1:c>2&&c<20?2:3)},12:function(c){return Number(c%10!=1||c%100==11)},13:function(c){return Number(0!==c)},14:function(c){return Number(1==c?0:2==c?1:3==c?2:3)},15:function(c){return Number(c%10==1&&c%100!=11?0:c%10>=2&&(c%100<10||c%100>=20)?1:2)},16:function(c){return Number(c%10==1&&c%100!=11?0:0!==c?1:2)},17:function(c){return Number(1==c||c%10==1&&c%100!=11?0:1)},18:function(c){return Number(0==c?0:1==c?1:2)},19:function(c){return Number(1==c?0:0==c||c%100>1&&c%100<11?1:c%100>10&&c%100<20?2:3)},20:function(c){return Number(1==c?0:0==c||c%100>0&&c%100<20?1:2)},21:function(c){return Number(c%100==1?1:c%100==2?2:c%100==3||c%100==4?3:0)},22:function(c){return Number(1==c?0:2==c?1:(c<0||c>10)&&c%10==0?2:3)}},li=["v1","v2","v3"],Kn={zero:0,one:1,two:2,few:3,many:4,other:5};function Ho(){var t={};return oo.forEach(function(c){c.lngs.forEach(function(o){t[o]={numbers:c.nr,plurals:_o[c.fc]}})}),t}var $o=function(){function t(c){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dn(this,t),this.languageUtils=c,this.options=o,this.logger=J.create("pluralResolver"),(!this.options.compatibilityJSON||"v4"===this.options.compatibilityJSON)&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ho()}return pr(t,[{key:"addRule",value:function(o,u){this.rules[o]=u}},{key:"getRule",value:function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(o,{type:u.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[o]||this.rules[this.languageUtils.getLanguagePartFromCode(o)]}},{key:"needsPlural",value:function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=this.getRule(o,u);return this.shouldUseIntlApi()?p&&p.resolvedOptions().pluralCategories.length>1:p&&p.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(o,u){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(o,p).map(function(m){return"".concat(u).concat(m)})}},{key:"getSuffixes",value:function(o){var u=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.getRule(o,p);return m?this.shouldUseIntlApi()?m.resolvedOptions().pluralCategories.sort(function(S,I){return Kn[S]-Kn[I]}).map(function(S){return"".concat(u.options.prepend).concat(S)}):m.numbers.map(function(S){return u.getSuffix(o,S,p)}):[]}},{key:"getSuffix",value:function(o,u){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=this.getRule(o,p);return m?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(m.select(u)):this.getSuffixRetroCompatible(m,u):(this.logger.warn("no plural rule found for: ".concat(o)),"")}},{key:"getSuffixRetroCompatible",value:function(o,u){var p=this,m=o.plurals(o.noAbs?u:Math.abs(u)),S=o.numbers[m];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===S?S="plural":1===S&&(S=""));var I=function(){return p.options.prepend&&S.toString()?p.options.prepend+S.toString():S.toString()};return"v1"===this.options.compatibilityJSON?1===S?"":"number"==typeof S?"_plural_".concat(S.toString()):I():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?I():this.options.prepend&&m.toString()?this.options.prepend+m.toString():m.toString()}},{key:"shouldUseIntlApi",value:function(){return!li.includes(this.options.compatibilityJSON)}}]),t}();function Io(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function tr(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?Io(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Io(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}var di=function(){function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dn(this,t),this.logger=J.create("interpolator"),this.options=c,this.format=c.interpolation&&c.interpolation.format||function(o){return o},this.init(c)}return pr(t,[{key:"init",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.interpolation||(o.interpolation={escapeValue:!0});var u=o.interpolation;this.escape=void 0!==u.escape?u.escape:ci,this.escapeValue=void 0===u.escapeValue||u.escapeValue,this.useRawValueToEscape=void 0!==u.useRawValueToEscape&&u.useRawValueToEscape,this.prefix=u.prefix?to(u.prefix):u.prefixEscaped||"{{",this.suffix=u.suffix?to(u.suffix):u.suffixEscaped||"}}",this.formatSeparator=u.formatSeparator?u.formatSeparator:u.formatSeparator||",",this.unescapePrefix=u.unescapeSuffix?"":u.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":u.unescapeSuffix||"",this.nestingPrefix=u.nestingPrefix?to(u.nestingPrefix):u.nestingPrefixEscaped||to("$t("),this.nestingSuffix=u.nestingSuffix?to(u.nestingSuffix):u.nestingSuffixEscaped||to(")"),this.nestingOptionsSeparator=u.nestingOptionsSeparator?u.nestingOptionsSeparator:u.nestingOptionsSeparator||",",this.maxReplaces=u.maxReplaces?u.maxReplaces:1e3,this.alwaysFormat=void 0!==u.alwaysFormat&&u.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var o="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(o,"g");var u="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(u,"g");var p="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(p,"g")}},{key:"interpolate",value:function(o,u,p,m){var I,Y,ae,S=this,Pe=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function Ne(dn){return dn.replace(/\$/g,"$$$$")}var ct=function(tn){if(tn.indexOf(S.formatSeparator)<0){var vn=eo(u,Pe,tn);return S.alwaysFormat?S.format(vn,void 0,p,tr(tr(tr({},m),u),{},{interpolationkey:tn})):vn}var Sr=tn.split(S.formatSeparator),mr=Sr.shift().trim(),ai=Sr.join(S.formatSeparator).trim();return S.format(eo(u,Pe,mr),ai,p,tr(tr(tr({},m),u),{},{interpolationkey:mr}))};this.resetRegExp();var At=m&&m.missingInterpolationHandler||this.options.missingInterpolationHandler,gt=m&&m.interpolation&&void 0!==m.interpolation.skipOnVariables?m.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(tn){return Ne(tn)}},{regex:this.regexp,safeValue:function(tn){return Ne(S.escapeValue?S.escape(tn):tn)}}].forEach(function(dn){for(ae=0;I=dn.regex.exec(o);){var tn=I[1].trim();if(void 0===(Y=ct(tn)))if("function"==typeof At){var vn=At(o,I,m);Y="string"==typeof vn?vn:""}else if(m&&m.hasOwnProperty(tn))Y="";else{if(gt){Y=I[0];continue}S.logger.warn("missed to pass in variable ".concat(tn," for interpolating ").concat(o)),Y=""}else"string"!=typeof Y&&!S.useRawValueToEscape&&(Y=rn(Y));var Sr=dn.safeValue(Y);if(o=o.replace(I[0],Sr),gt?(dn.regex.lastIndex+=Y.length,dn.regex.lastIndex-=I[0].length):dn.regex.lastIndex=0,++ae>=S.maxReplaces)break}}),o}},{key:"nest",value:function(o,u){var S,I,p=this,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Y=tr({},m);function ae(At,gt){var en=this.nestingOptionsSeparator;if(At.indexOf(en)<0)return At;var dn=At.split(new RegExp("".concat(en,"[ ]*{"))),tn="{".concat(dn[1]);At=dn[0];var vn=(tn=this.interpolate(tn,Y)).match(/'/g),Sr=tn.match(/"/g);(vn&&vn.length%2==0&&!Sr||Sr.length%2!=0)&&(tn=tn.replace(/'/g,'"'));try{Y=JSON.parse(tn),gt&&(Y=tr(tr({},gt),Y))}catch(mr){return this.logger.warn("failed parsing options string in nesting for key ".concat(At),mr),"".concat(At).concat(en).concat(tn)}return delete Y.defaultValue,At}for(Y.applyPostProcessor=!1,delete Y.defaultValue;S=this.nestingRegexp.exec(o);){var Pe=[],Ne=!1;if(-1!==S[0].indexOf(this.formatSeparator)&&!/{.*}/.test(S[1])){var ct=S[1].split(this.formatSeparator).map(function(At){return At.trim()});S[1]=ct.shift(),Pe=ct,Ne=!0}if((I=u(ae.call(this,S[1].trim(),Y),Y))&&S[0]===o&&"string"!=typeof I)return I;"string"!=typeof I&&(I=rn(I)),I||(this.logger.warn("missed to resolve ".concat(S[1]," for nesting ").concat(o)),I=""),Ne&&(I=Pe.reduce(function(At,gt){return p.format(At,gt,m.lng,tr(tr({},m),{},{interpolationkey:S[1].trim()}))},I.trim())),o=o.replace(S[0],I),this.regexp.lastIndex=0}return o}}]),t}();function je(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function St(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?je(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):je(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}function Ht(t){var c={};return function(u,p,m){var S=p+JSON.stringify(m),I=c[S];return I||(I=t(p,m),c[S]=I),I(u)}}var Yt=function(){function t(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dn(this,t),this.logger=J.create("formatter"),this.options=c,this.formats={number:Ht(function(o,u){var p=new Intl.NumberFormat(o,u);return function(m){return p.format(m)}}),currency:Ht(function(o,u){var p=new Intl.NumberFormat(o,St(St({},u),{},{style:"currency"}));return function(m){return p.format(m)}}),datetime:Ht(function(o,u){var p=new Intl.DateTimeFormat(o,St({},u));return function(m){return p.format(m)}}),relativetime:Ht(function(o,u){var p=new Intl.RelativeTimeFormat(o,St({},u));return function(m){return p.format(m,u.range||"day")}}),list:Ht(function(o,u){var p=new Intl.ListFormat(o,St({},u));return function(m){return p.format(m)}})},this.init(c)}return pr(t,[{key:"init",value:function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},p=u.interpolation;this.formatSeparator=p.formatSeparator?p.formatSeparator:p.formatSeparator||","}},{key:"add",value:function(o,u){this.formats[o.toLowerCase().trim()]=u}},{key:"addCached",value:function(o,u){this.formats[o.toLowerCase().trim()]=Ht(u)}},{key:"format",value:function(o,u,p,m){var S=this,Y=u.split(this.formatSeparator).reduce(function(ae,Pe){var Ne=function lt(t){var c=t.toLowerCase().trim(),o={};if(t.indexOf("(")>-1){var u=t.split("(");c=u[0].toLowerCase().trim();var p=u[1].substring(0,u[1].length-1);"currency"===c&&p.indexOf(":")<0?o.currency||(o.currency=p.trim()):"relativetime"===c&&p.indexOf(":")<0?o.range||(o.range=p.trim()):p.split(";").forEach(function(S){if(S){var Y=function Be(t){return function or(t){if(Array.isArray(t))return t}(t)||function wr(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function mo(t,c){if(t){if("string"==typeof t)return Xr(t,c);var o=Object.prototype.toString.call(t).slice(8,-1);if("Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xr(t,c)}}(t)||function xr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(S.split(":")),ae=Y[0],Ne=Y.slice(1).join(":").trim().replace(/^'+|'+$/g,"");o[ae.trim()]||(o[ae.trim()]=Ne),"false"===Ne&&(o[ae.trim()]=!1),"true"===Ne&&(o[ae.trim()]=!0),isNaN(Ne)||(o[ae.trim()]=parseInt(Ne,10))}})}return{formatName:c,formatOptions:o}}(Pe),ct=Ne.formatName,At=Ne.formatOptions;if(S.formats[ct]){var gt=ae;try{var en=m&&m.formatParams&&m.formatParams[m.interpolationkey]||{};gt=S.formats[ct](ae,en.locale||en.lng||m.locale||m.lng||p,St(St(St({},At),m),en))}catch(tn){S.logger.warn(tn)}return gt}return S.logger.warn("there was no format function for ".concat(ct)),ae},o);return Y}}]),t}();function Xt(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function Sn(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?Xt(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Xt(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}var be=function(t){Nn(o,t);var c=function Gr(t){var c=function Vr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,u=rr(t);if(c){var m=rr(this).constructor;p=Reflect.construct(u,arguments,m)}else p=u.apply(this,arguments);return Hn(this,p)}}(o);function o(u,p,m){var S,I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Dn(this,o),S=c.call(this),no&&He.call(ar(S)),S.backend=u,S.store=p,S.services=m,S.languageUtils=m.languageUtils,S.options=I,S.logger=J.create("backendConnector"),S.waitingReads=[],S.maxParallelReads=I.maxParallelReads||10,S.readingCalls=0,S.maxRetries=I.maxRetries>=0?I.maxRetries:5,S.retryTimeout=I.retryTimeout>=1?I.retryTimeout:350,S.state={},S.queue=[],S.backend&&S.backend.init&&S.backend.init(m,I.backend,I),S}return pr(o,[{key:"queueLoad",value:function(p,m,S,I){var Y=this,ae={},Pe={},Ne={},ct={};return p.forEach(function(At){var gt=!0;m.forEach(function(en){var dn="".concat(At,"|").concat(en);!S.reload&&Y.store.hasResourceBundle(At,en)?Y.state[dn]=2:Y.state[dn]<0||(1===Y.state[dn]?void 0===Pe[dn]&&(Pe[dn]=!0):(Y.state[dn]=1,gt=!1,void 0===Pe[dn]&&(Pe[dn]=!0),void 0===ae[dn]&&(ae[dn]=!0),void 0===ct[en]&&(ct[en]=!0)))}),gt||(Ne[At]=!0)}),(Object.keys(ae).length||Object.keys(Pe).length)&&this.queue.push({pending:Pe,pendingCount:Object.keys(Pe).length,loaded:{},errors:[],callback:I}),{toLoad:Object.keys(ae),pending:Object.keys(Pe),toLoadLanguages:Object.keys(Ne),toLoadNamespaces:Object.keys(ct)}}},{key:"loaded",value:function(p,m,S){var I=p.split("|"),Y=I[0],ae=I[1];m&&this.emit("failedLoading",Y,ae,m),S&&this.store.addResourceBundle(Y,ae,S),this.state[p]=m?-1:2;var Pe={};this.queue.forEach(function(Ne){(function fr(t,c,o,u){var p=ln(t,c,Object),m=p.obj,S=p.k;m[S]=m[S]||[],u&&(m[S]=m[S].concat(o)),u||m[S].push(o)})(Ne.loaded,[Y],ae),function An(t,c){void 0!==t.pending[c]&&(delete t.pending[c],t.pendingCount--)}(Ne,p),m&&Ne.errors.push(m),0===Ne.pendingCount&&!Ne.done&&(Object.keys(Ne.loaded).forEach(function(ct){Pe[ct]||(Pe[ct]={});var At=Ne.loaded[ct];At.length&&At.forEach(function(gt){void 0===Pe[ct][gt]&&(Pe[ct][gt]=!0)})}),Ne.done=!0,Ne.errors.length?Ne.callback(Ne.errors):Ne.callback())}),this.emit("loaded",Pe),this.queue=this.queue.filter(function(Ne){return!Ne.done})}},{key:"read",value:function(p,m,S){var I=this,Y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,ae=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,Pe=arguments.length>5?arguments[5]:void 0;return p.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:p,ns:m,fcName:S,tried:Y,wait:ae,callback:Pe}):(this.readingCalls++,this.backend[S](p,m,function(Ne,ct){if(I.readingCalls--,I.waitingReads.length>0){var At=I.waitingReads.shift();I.read(At.lng,At.ns,At.fcName,At.tried,At.wait,At.callback)}Ne&&ct&&Y<I.maxRetries?setTimeout(function(){I.read.call(I,p,m,S,Y+1,2*ae,Pe)},ae):Pe(Ne,ct)})):Pe(null,{})}},{key:"prepareLoading",value:function(p,m){var S=this,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Y=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),Y&&Y();"string"==typeof p&&(p=this.languageUtils.toResolveHierarchy(p)),"string"==typeof m&&(m=[m]);var ae=this.queueLoad(p,m,I,Y);if(!ae.toLoad.length)return ae.pending.length||Y(),null;ae.toLoad.forEach(function(Pe){S.loadOne(Pe)})}},{key:"load",value:function(p,m,S){this.prepareLoading(p,m,{},S)}},{key:"reload",value:function(p,m,S){this.prepareLoading(p,m,{reload:!0},S)}},{key:"loadOne",value:function(p){var m=this,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",I=p.split("|"),Y=I[0],ae=I[1];this.read(Y,ae,"read",void 0,void 0,function(Pe,Ne){Pe&&m.logger.warn("".concat(S,"loading namespace ").concat(ae," for language ").concat(Y," failed"),Pe),!Pe&&Ne&&m.logger.log("".concat(S,"loaded namespace ").concat(ae," for language ").concat(Y),Ne),m.loaded(p,Pe,Ne)})}},{key:"saveMissing",value:function(p,m,S,I,Y){var ae=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(m)?this.logger.warn('did not save key "'.concat(S,'" as the namespace "').concat(m,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null==S||""===S||(this.backend&&this.backend.create&&this.backend.create(p,m,S,I,null,Sn(Sn({},ae),{},{isUpdate:Y})),p&&p[0]&&this.store.addResource(p[0],m,S,I))}}]),o}(He);function tt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(c){var o={};if("object"===vr(c[1])&&(o=c[1]),"string"==typeof c[1]&&(o.defaultValue=c[1]),"string"==typeof c[2]&&(o.tDescription=c[2]),"object"===vr(c[2])||"object"===vr(c[3])){var u=c[3]||c[2];Object.keys(u).forEach(function(p){o[p]=u[p]})}return o},interpolation:{escapeValue:!0,format:function(c,o,u,p){return c},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Se(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function nt(t,c){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);c&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),o.push.apply(o,u)}return o}function Qe(t){for(var c=1;c<arguments.length;c++){var o=null!=arguments[c]?arguments[c]:{};c%2?nt(Object(o),!0).forEach(function(u){Mn(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):nt(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}function $n(){}function kt(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(o){"function"==typeof t[o]&&(t[o]=t[o].bind(t))})}var bn=function(t){Nn(o,t);var c=function at(t){var c=function Cn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,u=rr(t);if(c){var m=rr(this).constructor;p=Reflect.construct(u,arguments,m)}else p=u.apply(this,arguments);return Hn(this,p)}}(o);function o(){var u,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;if(Dn(this,o),u=c.call(this),no&&He.call(ar(u)),u.options=Se(p),u.services={},u.logger=J,u.modules={external:[]},kt(ar(u)),m&&!u.isInitialized&&!p.isClone){if(!u.options.initImmediate)return u.init(p,m),Hn(u,ar(u));setTimeout(function(){u.init(p,m)},0)}return u}return pr(o,[{key:"init",value:function(){var p=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments.length>1?arguments[1]:void 0;"function"==typeof m&&(S=m,m={}),!m.defaultNS&&!1!==m.defaultNS&&m.ns&&("string"==typeof m.ns?m.defaultNS=m.ns:m.ns.indexOf("translation")<0&&(m.defaultNS=m.ns[0]));var I=tt();function Y(tn){return tn?"function"==typeof tn?new tn:tn:null}if(this.options=Qe(Qe(Qe({},I),this.options),Se(m)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Qe(Qe({},I.interpolation),this.options.interpolation)),void 0!==m.keySeparator&&(this.options.userDefinedKeySeparator=m.keySeparator),void 0!==m.nsSeparator&&(this.options.userDefinedNsSeparator=m.nsSeparator),!this.options.isClone){var ae;J.init(this.modules.logger?Y(this.modules.logger):null,this.options),this.modules.formatter?ae=this.modules.formatter:typeof Intl<"u"&&(ae=Yt);var Pe=new vo(this.options);this.store=new Eo(this.options.resources,this.options);var Ne=this.services;Ne.logger=J,Ne.resourceStore=this.store,Ne.languageUtils=Pe,Ne.pluralResolver=new $o(Pe,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ae&&(!this.options.interpolation.format||this.options.interpolation.format===I.interpolation.format)&&(Ne.formatter=Y(ae),Ne.formatter.init(Ne,this.options),this.options.interpolation.format=Ne.formatter.format.bind(Ne.formatter)),Ne.interpolator=new di(this.options),Ne.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},Ne.backendConnector=new be(Y(this.modules.backend),Ne.resourceStore,Ne,this.options),Ne.backendConnector.on("*",function(tn){for(var vn=arguments.length,Sr=new Array(vn>1?vn-1:0),mr=1;mr<vn;mr++)Sr[mr-1]=arguments[mr];p.emit.apply(p,[tn].concat(Sr))}),this.modules.languageDetector&&(Ne.languageDetector=Y(this.modules.languageDetector),Ne.languageDetector.init(Ne,this.options.detection,this.options)),this.modules.i18nFormat&&(Ne.i18nFormat=Y(this.modules.i18nFormat),Ne.i18nFormat.init&&Ne.i18nFormat.init(this)),this.translator=new Dr(this.services,this.options),this.translator.on("*",function(tn){for(var vn=arguments.length,Sr=new Array(vn>1?vn-1:0),mr=1;mr<vn;mr++)Sr[mr-1]=arguments[mr];p.emit.apply(p,[tn].concat(Sr))}),this.modules.external.forEach(function(tn){tn.init&&tn.init(p)})}if(this.format=this.options.interpolation.format,S||(S=$n),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var ct=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ct.length>0&&"dev"!==ct[0]&&(this.options.lng=ct[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var At=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];At.forEach(function(tn){p[tn]=function(){var vn;return(vn=p.store)[tn].apply(vn,arguments)}});var gt=["addResource","addResources","addResourceBundle","removeResourceBundle"];gt.forEach(function(tn){p[tn]=function(){var vn;return(vn=p.store)[tn].apply(vn,arguments),p}});var en=Rt(),dn=function(){var vn=function(mr,ai){p.isInitialized&&!p.initializedStoreOnce&&p.logger.warn("init: i18next is already initialized. You should call init just once!"),p.isInitialized=!0,p.options.isClone||p.logger.log("initialized",p.options),p.emit("initialized",p.options),en.resolve(ai),S(mr,ai)};if(p.languages&&"v1"!==p.options.compatibilityAPI&&!p.isInitialized)return vn(null,p.t.bind(p));p.changeLanguage(p.options.lng,vn)};return this.options.resources||!this.options.initImmediate?dn():setTimeout(dn,0),en}},{key:"loadResources",value:function(p){var m=this,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n,I=S,Y="string"==typeof p?p:this.language;if("function"==typeof p&&(I=p),!this.options.resources||this.options.partialBundledLanguages){if(Y&&"cimode"===Y.toLowerCase())return I();var ae=[],Pe=function(At){At&&m.services.languageUtils.toResolveHierarchy(At).forEach(function(en){ae.indexOf(en)<0&&ae.push(en)})};if(Y)Pe(Y);else{var Ne=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);Ne.forEach(function(ct){return Pe(ct)})}this.options.preload&&this.options.preload.forEach(function(ct){return Pe(ct)}),this.services.backendConnector.load(ae,this.options.ns,function(ct){!ct&&!m.resolvedLanguage&&m.language&&m.setResolvedLanguage(m.language),I(ct)})}else I(null)}},{key:"reloadResources",value:function(p,m,S){var I=Rt();return p||(p=this.languages),m||(m=this.options.ns),S||(S=$n),this.services.backendConnector.reload(p,m,function(Y){I.resolve(),S(Y)}),I}},{key:"use",value:function(p){if(!p)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!p.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===p.type&&(this.modules.backend=p),("logger"===p.type||p.log&&p.warn&&p.error)&&(this.modules.logger=p),"languageDetector"===p.type&&(this.modules.languageDetector=p),"i18nFormat"===p.type&&(this.modules.i18nFormat=p),"postProcessor"===p.type&&Ao.addPostProcessor(p),"formatter"===p.type&&(this.modules.formatter=p),"3rdParty"===p.type&&this.modules.external.push(p),this}},{key:"setResolvedLanguage",value:function(p){if(p&&this.languages&&!(["cimode","dev"].indexOf(p)>-1))for(var m=0;m<this.languages.length;m++){var S=this.languages[m];if(!(["cimode","dev"].indexOf(S)>-1)&&this.store.hasLanguageSomeTranslations(S)){this.resolvedLanguage=S;break}}}},{key:"changeLanguage",value:function(p,m){var S=this;this.isLanguageChangingTo=p;var I=Rt();this.emit("languageChanging",p);var Y=function(ct){S.language=ct,S.languages=S.services.languageUtils.toResolveHierarchy(ct),S.resolvedLanguage=void 0,S.setResolvedLanguage(ct)},Pe=function(ct){!p&&!ct&&S.services.languageDetector&&(ct=[]);var At="string"==typeof ct?ct:S.services.languageUtils.getBestMatchFromCodes(ct);At&&(S.language||Y(At),S.translator.language||S.translator.changeLanguage(At),S.services.languageDetector&&S.services.languageDetector.cacheUserLanguage(At)),S.loadResources(At,function(gt){!function(ct,At){At?(Y(At),S.translator.changeLanguage(At),S.isLanguageChangingTo=void 0,S.emit("languageChanged",At),S.logger.log("languageChanged",At)):S.isLanguageChangingTo=void 0,I.resolve(function(){return S.t.apply(S,arguments)}),m&&m(ct,function(){return S.t.apply(S,arguments)})}(gt,At)})};return p||!this.services.languageDetector||this.services.languageDetector.async?!p&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(Pe):Pe(p):Pe(this.services.languageDetector.detect()),I}},{key:"getFixedT",value:function(p,m,S){var I=this,Y=function ae(Pe,Ne){var ct;if("object"!==vr(Ne)){for(var At=arguments.length,gt=new Array(At>2?At-2:0),en=2;en<At;en++)gt[en-2]=arguments[en];ct=I.options.overloadTranslationOptionHandler([Pe,Ne].concat(gt))}else ct=Qe({},Ne);ct.lng=ct.lng||ae.lng,ct.lngs=ct.lngs||ae.lngs,ct.ns=ct.ns||ae.ns,ct.keyPrefix=ct.keyPrefix||S||ae.keyPrefix;var dn=I.options.keySeparator||".",tn=ct.keyPrefix?"".concat(ct.keyPrefix).concat(dn).concat(Pe):Pe;return I.t(tn,ct)};return"string"==typeof p?Y.lng=p:Y.lngs=p,Y.ns=m,Y.keyPrefix=S,Y}},{key:"t",value:function(){var p;return this.translator&&(p=this.translator).translate.apply(p,arguments)}},{key:"exists",value:function(){var p;return this.translator&&(p=this.translator).exists.apply(p,arguments)}},{key:"setDefaultNamespace",value:function(p){this.options.defaultNS=p}},{key:"hasLoadedNamespace",value:function(p){var m=this,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var I=this.resolvedLanguage||this.languages[0],Y=!!this.options&&this.options.fallbackLng,ae=this.languages[this.languages.length-1];if("cimode"===I.toLowerCase())return!0;var Pe=function(At,gt){var en=m.services.backendConnector.state["".concat(At,"|").concat(gt)];return-1===en||2===en};if(S.precheck){var Ne=S.precheck(this,Pe);if(void 0!==Ne)return Ne}return!!(this.hasResourceBundle(I,p)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||Pe(I,p)&&(!Y||Pe(ae,p)))}},{key:"loadNamespaces",value:function(p,m){var S=this,I=Rt();return this.options.ns?("string"==typeof p&&(p=[p]),p.forEach(function(Y){S.options.ns.indexOf(Y)<0&&S.options.ns.push(Y)}),this.loadResources(function(Y){I.resolve(),m&&m(Y)}),I):(m&&m(),Promise.resolve())}},{key:"loadLanguages",value:function(p,m){var S=Rt();"string"==typeof p&&(p=[p]);var I=this.options.preload||[],Y=p.filter(function(ae){return I.indexOf(ae)<0});return Y.length?(this.options.preload=I.concat(Y),this.loadResources(function(ae){S.resolve(),m&&m(ae)}),S):(m&&m(),Promise.resolve())}},{key:"dir",value:function(p){return p||(p=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),p?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(p))>-1||p.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var p=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n,I=Qe(Qe(Qe({},this.options),m),{isClone:!0}),Y=new o(I);(void 0!==m.debug||void 0!==m.prefix)&&(Y.logger=Y.logger.clone(m));var ae=["store","services","language"];return ae.forEach(function(Pe){Y[Pe]=p[Pe]}),Y.services=Qe({},this.services),Y.services.utils={hasLoadedNamespace:Y.hasLoadedNamespace.bind(Y)},Y.translator=new Dr(Y.services,Y.options),Y.translator.on("*",function(Pe){for(var Ne=arguments.length,ct=new Array(Ne>1?Ne-1:0),At=1;At<Ne;At++)ct[At-1]=arguments[At];Y.emit.apply(Y,[Pe].concat(ct))}),Y.init(I,S),Y.translator.options=Y.options,Y.translator.backendConnector.services.utils={hasLoadedNamespace:Y.hasLoadedNamespace.bind(Y)},Y}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),o}(He);Mn(bn,"createInstance",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return new bn(t,c)});var gr=bn.createInstance();gr.createInstance=bn.createInstance;const Sa=gr;var xs=v(655);function jo(t){return t&&"object"==typeof t&&!Array.isArray(t)}function io(t={},...c){if(!c.length)return t;const o=c.shift()||{};if(jo(o))for(const u in o)o[u]instanceof Date?t[u]=o[u]:jo(o[u])?((!t[u]||!jo(t[u]))&&(t[u]={}),io(t[u],o[u])):t[u]=o[u];return io(t,...c)}let Co=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(){return function tu(){return io({},(0,e.f3M)(Ks),(0,e.f3M)(Ms))}()},providedIn:"root"}),t})();const Ks=new e.OlP("DefaultConfiguration",{providedIn:"root",factory:function ic(){return io({},...(0,e.f3M)(Ai,e.XFs.Optional)??[])}}),Ms=new e.OlP("RootConfiguration",{providedIn:"root",factory:function Ea(){return io({},...(0,e.f3M)(wi,e.XFs.Optional)??[])}}),wi=new e.OlP("ConfigurationChunk"),Ai=new e.OlP("DefaultConfigurationChunk");function os(t={},c=!1){return{provide:c?Ai:wi,useValue:t,multi:!0}}function Qs(t,c,o=!1){return{provide:o?Ai:wi,useFactory:t,multi:!0,deps:c}}function Zo(t={}){return{provide:Ai,useValue:t,multi:!0}}function Is(t,c){return{provide:Ai,useFactory:t,multi:!0,deps:c}}const nu={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}};var w=(()=>{return(t=w||(w={})).BILLING="BILLING",t.SHIPPING="SHIPPING",w;var t})(),W=(()=>{return(t=W||(W={})).CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",W;var t})(),xt=(()=>{return(t=xt||(xt={})).GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",xt;var t})();const fn="X-Anonymous-Consents";class Qn{}var qn=(()=>{return(t=qn||(qn={})).ADMIN="b2badmingroup",t.CUSTOMER="b2bcustomergroup",t.MANAGER="b2bmanagergroup",t.APPROVER="b2bapprovergroup",qn;var t})(),Bn=(()=>((Bn||(Bn={})).UNITORDERVIEWER="unitorderviewergroup",Bn))(),br=(()=>((br||(br={})).BACK_IN_STOCK="BACK_IN_STOCK",br))(),jn=(()=>{return(t=jn||(jn={})).SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",jn;var t})(),Ro=(()=>{return(t=Ro||(Ro={})).SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.ROLLUP_PROPERTY="rollupProperty",Ro;var t})();const Do="[ENTITY] REMOVE",fi="[ENTITY] REMOVE ALL";function Yr(t,c){return{entityType:t,entityId:c}}function Yo(t,c){return{entityId:c,entityType:t,entityRemove:!0}}function Di(t){return{entityId:null,entityType:t,entityRemove:!0}}const is="[LOADER] LOAD",Xs="[LOADER] FAIL",ru="[LOADER] SUCCESS",sc="[LOADER] RESET";function ac(t){return{entityType:t,loader:{load:!0}}}function ou(t,c){return{entityType:t,loader:{error:c||!0}}}function Vi(t){return{entityType:t,loader:{success:!0}}}function ea(t){return{entityType:t,loader:{}}}class so{constructor(c){this.type=is,this.meta=ac(c)}}class zr{constructor(c,o){this.type=Xs,this.meta=ou(c,o)}}class yo{constructor(c){this.type=ru,this.meta=Vi(c)}}class Ri{constructor(c){this.type=sc,this.meta=ea(c)}}const ri="[ENTITY] LOAD",Da="[ENTITY] LOAD FAIL",bi="[ENTITY] LOAD SUCCESS",ba="[ENTITY] RESET";function ws(t,c){return{...ac(t),...Yr(t,c)}}function iu(t,c,o){return{...ou(t,o),...Yr(t,c)}}function cc(t,c){return{...Vi(t),...Yr(t,c)}}function uc(t,c){return{...ea(t),...Yr(t,c)}}class Po{constructor(c,o){this.type=ri,this.meta=ws(c,o)}}class Or{constructor(c,o,u){this.type=Da,this.meta=iu(c,o,u)}}class ao{constructor(c,o,u){this.payload=u,this.type=bi,this.meta=cc(c,o)}}class Oo{constructor(c,o){this.type=ba,this.meta=uc(c,o)}}function Lr(t){return t.value}function co(t){return t.loading??!1}function oi(t){return t.error??!1}function Lo(t){return t.success??!1}const Pi={loading:!1,error:!1,success:!1,value:void 0};function Wr(t,c){return(o=Pi,u)=>{if(u.meta&&u.meta.loader&&u.meta.entityType===t){const p=u.meta.loader;return p.load?{...o,loading:!0,value:c?c(o.value,u):o.value}:p.error?{...o,loading:!1,error:!0,success:!1,value:c?c(o.value,u):void 0}:p.success?{...o,value:c?c(o.value,u):u.payload,loading:!1,error:!1,success:!0}:{...Pi,value:c?c(Pi.value,u):Pi.value}}if(c){const p=c(o.value,u);if(p!==o.value)return{...o,value:p}}return o}}function Fo(t,c){return t.entities[c]||Pi}const Hi={entities:{}};function $i(t,c){return(o=Hi,u)=>{let p=[],m=!1;if(u.meta&&u.meta.entityType===t&&void 0!==u.meta.entityId){if(null!==u.meta.entityId&&(p=[].concat(u.meta.entityId)),u.meta.entityRemove){if(null===u.meta.entityId)return Hi;{let I=!1;const Y=Object.keys(o.entities).reduce((ae,Pe)=>(p.includes(Pe)?I=!0:ae[Pe]=o.entities[Pe],ae),{});return I?{entities:Y}:o}}m=Array.isArray(u.meta.entityId)&&Array.isArray(u.payload)}else p=Object.keys(o.entities);const S={};for(let I=0;I<p.length;I++){const Y=p[I],ae=m?{...u,payload:u.payload[I]}:u,Pe=c(o.entities[Y],ae);Pe&&(S[Y]=Pe)}return Object.keys(S).length>0?{...o,entities:{...o.entities,...S}}:o}}function hi(t,c){return $i(t,Wr(t,c))}const Ta="[PROCESSES LOADER] INCREMENT",ss="[PROCESSES LOADER] DECREMENT",xa="[PROCESSES LOADER] RESET";function dc(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function pc(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function au(t){return{...ea(t),processesCountDiff:null}}const as="[ENTITY] PROCESSES LOADER RESET",Kr="[ENTITY] PROCESSES INCREMENT",ji="[ENTITY] PROCESSES DECREMENT";function cs(t,c){return{...au(t),...Yr(t,c)}}function us(t,c){return{...dc(t),...Yr(t,c)}}function fc(t,c){return{...pc(t),...Yr(t,c)}}function tl(t){return!t.processesCount&&!t.loading}function nl(t){return void 0!==t.processesCount&&t.processesCount>0}const wa={processesCount:0};function rl(t,c){return(o={...wa,...Pi},u)=>{const p=Wr(t,c)(o,u);if(u.meta&&u.meta.entityType===t){const m=u.meta.processesCountDiff;if((0,e.X6Q)()&&o.processesCount&&m&&o.processesCount+m<0&&console.error(`Action '${u.type}' sets processesCount to value < 0!\nMake sure to keep processesCount in sync.\nThere should always be only one decrement action for each increment action.\nMake sure that you don't reset state in between those actions.\n`,u),m)return{...p,processesCount:o.processesCount?o.processesCount+m:m};if(null===m)return{...p,...wa}}return p}}const Ip={...Pi,...wa};function Zr(t,c){return t.entities[c]||void 0}function ta(t,c){return t.split(".").reduce((u,p)=>u?u[p]:void 0,c)}function ad(t,c,o){if(!t||!o||0===Object.keys(o).length)return{};const u=t.split(".").reduceRight((p,m)=>({[m]:p}),o);return function zo(t,c,o){const u=function Zi(t,c){if(!t||!c)return[];const o=[];for(const u of c)u.includes(t)&&o.push(u);return o}(t,c);if(0===u.length)return o;const p=io({},o);for(const m of u){const S=m.split(".");let I=p;for(let Y=0;Y<S.length;Y++){const ae=S[Y];Y===S.length-1?I&&I[ae]&&delete I[ae]:I=I[ae]}}return p}(t,c,u)}function Pa(t,c,o){if(t&&0===t.length)return{};let u={};for(const p of t)u=io(u,ad(p,c,ta(p,o)));return u}function gc(t,c){return t?Object.keys(t).filter(o=>t[o]===c):[]}function Ps(t,c){return`${c??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function T(t,c,o,u){const p=Fo(t,o?Ps(o,u):u??"all");if(!p.value||!p.value.ids)return p;const m=Object.assign({},p,{value:{values:p.value.ids.map(S=>Fo(c,S).value)}});return o&&m.value&&(m.value.pagination=p.value.pagination,m.value.sorts=p.value.sorts),m}var y=Object.freeze({__proto__:null,getStateSlice:Pa,ENTITY_LOAD_ACTION:ri,ENTITY_FAIL_ACTION:Da,ENTITY_SUCCESS_ACTION:bi,ENTITY_RESET_ACTION:ba,entityLoadMeta:ws,entityFailMeta:iu,entitySuccessMeta:cc,entityResetMeta:uc,EntityLoadAction:Po,EntityFailAction:Or,EntitySuccessAction:ao,EntityLoaderResetAction:Oo,entityLoaderStateSelector:Fo,entityValueSelector:function su(t,c){return Lr(Fo(t,c))},entityLoadingSelector:function lc(t,c){return co(Fo(t,c))},entityErrorSelector:function Jr(t,c){return oi(Fo(t,c))},entitySuccessSelector:function Rs(t,c){return Lo(Fo(t,c))},entityLoaderReducer:hi,ENTITY_PROCESSES_LOADER_RESET_ACTION:as,ENTITY_PROCESSES_INCREMENT_ACTION:Kr,ENTITY_PROCESSES_DECREMENT_ACTION:ji,entityProcessesLoaderResetMeta:cs,entityProcessesIncrementMeta:us,entityProcessesDecrementMeta:fc,EntityProcessesLoaderResetAction:class cu{constructor(c,o){this.type=as,this.meta=cs(c,o)}},EntityProcessesIncrementAction:class cr{constructor(c,o){this.type=Kr,this.meta=us(c,o)}},EntityProcessesDecrementAction:class el{constructor(c,o){this.type=ji,this.meta=fc(c,o)}},entityHasPendingProcessesSelector:function uu(t,c){return nl(Fo(t,c))},entityIsStableSelector:function hc(t,c){return tl(Fo(t,c))},entityProcessesLoaderStateSelector:function ol(t,c){return t.entities[c]||Ip},entityProcessesLoaderReducer:function sd(t,c){return $i(t,rl(t,c))},ENTITY_REMOVE_ACTION:Do,ENTITY_REMOVE_ALL_ACTION:fi,entityMeta:Yr,entityRemoveMeta:Yo,entityRemoveAllMeta:Di,EntityRemoveAction:class qs{constructor(c,o){this.type=Do,this.meta=Yo(c,o)}},EntityRemoveAllAction:class Aa{constructor(c){this.type=fi,this.meta=Di(c)}},entitySelector:Zr,initialEntityState:Hi,entityReducer:$i,LOADER_LOAD_ACTION:is,LOADER_FAIL_ACTION:Xs,LOADER_SUCCESS_ACTION:ru,LOADER_RESET_ACTION:sc,loadMeta:ac,failMeta:ou,successMeta:Vi,resetMeta:ea,LoaderLoadAction:so,LoaderFailAction:zr,LoaderSuccessAction:yo,LoaderResetAction:Ri,loaderValueSelector:Lr,loaderLoadingSelector:co,loaderErrorSelector:oi,loaderSuccessSelector:Lo,initialLoaderState:Pi,loaderReducer:Wr,PROCESSES_INCREMENT_ACTION:Ta,PROCESSES_DECREMENT_ACTION:ss,PROCESSES_LOADER_RESET_ACTION:xa,processesIncrementMeta:dc,processesDecrementMeta:pc,processesLoaderResetMeta:au,ProcessesLoaderResetAction:class Ma{constructor(c){this.type=xa,this.meta=au(c)}},ProcessesIncrementAction:class Ia{constructor(c){this.type=Ta,this.meta=dc(c)}},ProcessesDecrementAction:class Oi{constructor(c){this.type=ss,this.meta=pc(c)}},isStableSelector:tl,hasPendingProcessesSelector:nl,initialProcessesState:wa,processesLoaderReducer:rl,serializeSearchConfig:Ps,denormalizeSearch:function D(t,c){return T(t.list,t.entities,c)},denormalizeCustomB2BSearch:T,normalizeListPage:function A(t,c){const o=t.values||[],u={ids:o.map(p=>p[c])};return t.pagination&&(u.pagination=t.pagination),t.sorts&&(u.sorts=t.sorts),{values:o,page:u}},serializeParams:function F(t,c){return[t,Ps(c)].toString()}});const U="anonymous-consents",k="[Anonymous Consents] Anonymous Consents",se="[Anonymous Consents] Load Anonymous Consent Templates",Ur="[Anonymous Consents] Set Anonymous Consents",Wo="[Anonymous Consents] Give Anonymous Consent",gi="[Anonymous Consents] Withdraw Anonymous Consent",bo="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",Os="[Anonymous Consents] Anonymous Consent Templates Updated",Yi="[Anonymous Consents] Check Updated Versions";class cd extends so{constructor(){super(k),this.type=se}}class mc extends yo{constructor(c){super(k),this.payload=c,this.type="[Anonymous Consents] Load Anonymous Consent Templates Success"}}class il extends zr{constructor(c){super(k,c),this.type="[Anonymous Consents] Load Anonymous Consent Templates Fail"}}class sl extends Ri{constructor(){super(k),this.type="[Anonymous Consents] Reset Load Anonymous Consent Templates"}}class zh{constructor(c){this.payload=c,this.type=Ur}}class wp{constructor(c){this.templateCode=c,this.type=Wo}}class lu{constructor(c){this.templateCode=c,this.type=gi}}class vc{constructor(c){this.dismissed=c,this.type=bo}}class Rp{constructor(c){this.updated=c,this.type=Os}}class uo{constructor(){this.type=Yi}}const _c=(0,h.ZF)(U),Cc=(0,h.P1)(_c,t=>t.templates),La=(0,h.P1)(Cc,t=>Lr(t)),Wh=(0,h.P1)(Cc,co),Jh=(0,h.P1)(Cc,Lo),Kh=(0,h.P1)(Cc,oi),du=(0,h.P1)(_c,t=>t.ui.updated),ud=(0,h.P1)(_c,t=>t.ui.bannerDismissed),yc=(0,h.P1)(_c,t=>t.consents),ls="current",Ls="anonymous",Pp="guest";var Iv=Object.freeze({__proto__:null,OCC_USER_ID_CURRENT:ls,OCC_USER_ID_ANONYMOUS:Ls,OCC_USER_ID_GUEST:Pp});const wv="current",mi="[Auth] Login",Li="[Auth] Logout";class Op{constructor(){this.type=mi}}class Rv{constructor(){this.type=Li}}var qh=Object.freeze({__proto__:null,LOGIN:mi,LOGOUT:Li,Login:Op,Logout:Rv});let zi=(()=>{class t{constructor(){this._userId=new P.t(1)}setUserId(o){this._userId.next(o)}getUserId(){return this._userId}takeUserId(o=!1){return this.getUserId().pipe((0,Ue.q)(1),(0,Ee.U)(u=>{if(o&&u===Ls)throw new Error("Requested user id for logged user while user is not logged in.");return u}))}clearUserId(){this.setUserId(Ls)}isEmulated(){return this.getUserId().pipe((0,Ee.U)(o=>o!==Ls&&o!==ls))}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Sc=(()=>{return(t=Sc||(Sc={}))[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",Sc;var t})();let Pv=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),Fs=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),ks=(()=>{class t extends Fs{}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),Fa=(()=>{class t{constructor(o,u){this.authConfig=o,this.occConfig=u}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){return this.prefixEndpoint(this.config?.tokenEndpoint??"")}getLoginUrl(){return this.prefixEndpoint(this.config?.loginUrl??"")}getRevokeEndpoint(){return this.prefixEndpoint(this.config?.revokeEndpoint??"")}getLogoutUrl(){return this.prefixEndpoint(this.config?.logoutUrl??"")}getUserinfoEndpoint(){return this.prefixEndpoint(this.config?.userinfoEndpoint??"")}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(o){let u=o;return u.startsWith("/")||(u="/"+u),`${this.getBaseUrl()}${u}`}getOAuthFlow(){const o=this.config?.OAuthLibConfig?.responseType;if(o){const u=o.split(" ");return u.includes("code")?Sc.AuthorizationCode:u.includes("token")?Sc.ImplicitFlow:Sc.ResourceOwnerPasswordFlow}return Sc.ResourceOwnerPasswordFlow}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Pv),e.LFG(ks))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xh=new e.OlP("SERVER_REQUEST_URL"),eg=new e.OlP("SERVER_REQUEST_ORIGIN");let ka=(()=>{class t{constructor(o,u,p,m){this.platformId=u,this.serverUrl=p,this.serverOrigin=m,this.document=o}isBrowser(){return(0,Lt.NF)(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?(0,M.R)(this.nativeWindow,"resize").pipe((0,Ot.b)(300),(0,Ft.O)({target:this.nativeWindow}),(0,Ct.x)()):(0,E.of)(null)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Lt.K0),e.LFG(e.Lbi),e.LFG(Xh,8),e.LFG(eg,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tg=(()=>{class t{constructor(o,u,p,m){this.oAuthService=o,this.authConfigService=u,this.platformId=p,this.winRef=m,this.events$=this.oAuthService.events,this.initialize()}initialize(){const o=!this.winRef.isBrowser();this.oAuthService.configure({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(o?"":this.winRef.nativeWindow.location.origin),...this.authConfigService.getOAuthLibConfig()})}authorizeWithPasswordFlow(o,u){return this.oAuthService.fetchTokenUsingPasswordFlow(o,u)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(o=>{this.oAuthService.revokeTokenAndLogout().catch(()=>{this.oAuthService.logOut()}).finally(()=>{o()})})}logout(){this.oAuthService.logOut()}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(o=>{let u;const p=this.events$.pipe((0,it.h)(m=>"token_received"===m.type),(0,Ue.q)(1)).subscribe(m=>u=m);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(m=>{o({result:m,tokenReceived:!!u})}).finally(()=>{p.unsubscribe()})})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(bt.Ct),e.LFG(Fa),e.LFG(e.Lbi),e.LFG(ka))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ec=(()=>{class t extends bt.Hy{constructor(){super(...arguments),this._token$=new R.X({})}decode(o,u){return t.nonStringifiedOAuthLibKeys.includes(o)?u:JSON.stringify(u)}encode(o,u){if(t.nonStringifiedOAuthLibKeys.includes(o))return u;try{return JSON.parse(u)}catch{return u}}getToken(){return this._token$}setToken(o){this._token$.next(o)}getItem(o){let u;return this.getToken().subscribe(p=>u=p).unsubscribe(),this.decode(o,u?.[o])}removeItem(o){const u={...this._token$.value};delete u[o],this._token$.next({...u})}setItem(o,u){o&&this._token$.next({...this._token$.value,[o]:this.encode(o,u)})}}return t.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ng="[Router] Change Next PageContext";class rg{constructor(c){this.payload=c,this.type=ng}}const cl="router",Ov=(0,h.ZF)(cl),pu=(0,h.P1)(Ov,t=>t.router),Lv=((0,h.P1)(pu,t=>t.state&&t.state.semanticRoute||""),(0,h.P1)(pu,t=>t.state&&t.state.context||{id:""})),og=(0,h.P1)(pu,t=>t.nextState&&t.nextState.context),Fv=(0,h.P1)(og,t=>!!t),ig=t=>t.startsWith(":"),sg=t=>t.slice(1);let ul=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),fu=(()=>{class t{constructor(o){this.config=o}getRouteConfig(o){const u=this.config?.routing?.routes,p=u&&u[o];return(!u||void 0===p)&&this.warn(`No path was configured for the named route '${o}'!`),p}warn(...o){(0,e.X6Q)()&&console.warn(...o)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(o){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[o]}initRouteNamesByPath(){this.routeNamesByPath={};for(const[o,u]of Object.entries(this.config?.routing?.routes??{}))u?.paths?.forEach(p=>{(0,e.X6Q)()&&this.routeNamesByPath[p]&&console.error(`The same path '${p}' is configured for two different route names: '${this.routeNamesByPath[p]}' and '${o}`),this.routeNamesByPath[p]=o})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ul))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ld=(()=>{class t{constructor(o){this.router=o}getPrimarySegments(o){const u=this.router.parseUrl(o);return this._getPrimarySegmentsFromUrlTree(u.root)}_getPrimarySegmentsFromUrlTree(o){const u=o.segments.map(m=>m.path),p=o.children[un.eC]?this._getPrimarySegmentsFromUrlTree(o.children[un.eC]):[];return u.concat(p)}matchPath(o,u){if(o=Array.isArray(o)?o:this.getPrimarySegments(o),u=Array.isArray(u)?u:this.getPrimarySegments(u),o.length!==u.length)return!1;for(let p=0;p<u.length;p++){const m=u[p],S=o[p];if(!ig(m)&&m!==S)return!1}return!0}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(un.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vi=(()=>{class t{constructor(o,u){this.routingConfigService=o,this.urlParser=u,this.ROOT_URL=["/"]}get(o){const u=this.routingConfigService.getRouteConfig(o);return u&&Array.isArray(u.paths)?"/"+u.paths[0]:void 0}transform(o){Array.isArray(o)||(o=[o]);const u=[];for(const p of o)if(this.isRouteCommand(p)){const m=this.generateUrlPart(p);if(null===m)return this.ROOT_URL;u.push(...m)}else u.push(p);return this.shouldOutputAbsolute(o)&&u.unshift("/"),u}isRouteCommand(o){return o&&Boolean(o.cxRoute)}shouldOutputAbsolute(o){return this.isRouteCommand(o[0])}generateUrlPart(o){if(this.standarizeRouteCommand(o),!o.cxRoute)return null;const u=this.routingConfigService.getRouteConfig(o.cxRoute);if(!u||!u.paths)return null;const p=this.findPathWithFillableParams(u,o.params);return p?this.provideParamsValues(p,o.params,u.paramsMapping):null}standarizeRouteCommand(o){o.params=o.params||{}}provideParamsValues(o,u,p){return this.urlParser.getPrimarySegments(o).map(m=>{if(ig(m)){const S=sg(m),I=this.getMappedParamName(S,p);return u?.[I]}return m})}findPathWithFillableParams(o,u){const p=o.paths?.find(m=>this.getParams(m).every(S=>{const I=this.getMappedParamName(S,o.paramsMapping);return void 0!==u?.[I]}));return p??null}getParams(o){return this.urlParser.getPrimarySegments(o).filter(ig).map(sg)}getMappedParamName(o,u){return u&&u[o]||o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(fu),e.LFG(ld))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fp=(()=>{class t{constructor(o){this.router=o,this.routes$=this.router.events.pipe((0,it.h)(u=>u instanceof un.m2),(0,Ft.O)(void 0),(0,Ee.U)(()=>{let u=this.router.routerState.snapshot.root;const p=[u];for(;u=u.firstChild;)p.push(u);return p}),(0,Zt.d)({bufferSize:1,refCount:!0}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(un.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kv=(()=>{class t{constructor(o,u){this.router=o,this.activatedRoutesService=u,this.params$=this.activatedRoutesService.routes$.pipe((0,Ee.U)(p=>this.findAllParam(p)),(0,Zt.d)({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(o){return Object.assign({},...o.map(u=>u.params))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(un.F0),e.LFG(Fp))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),na=(()=>{class t{constructor(o,u,p,m,S,I){this.store=o,this.winRef=u,this.semanticPathService=p,this.routingParamsService=m,this.router=S,this.location=I}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe((0,h.Ys)(pu))}getPageContext(){return this.store.pipe((0,h.Ys)(Lv))}getNextPageContext(){return this.store.pipe((0,h.Ys)(og))}changeNextPageContext(o){this.store.dispatch(new rg(o))}isNavigating(){return this.store.pipe((0,h.Ys)(Fv))}go(o,u){const p=this.semanticPathService.transform(o);return this.navigate(p,u)}getUrl(o,u){let p=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(o),u));return p.startsWith("/")||(p=`/${p}`),p}getFullUrl(o,u){return`${this.winRef.document.location.origin}${this.getUrl(o,u)}`}goByUrl(o,u){return this.router.navigateByUrl(o,u)}back(){this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)?this.location.back():this.go(["/"])}forward(){this.location.forward()}navigate(o,u){return this.router.navigate(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(ka),e.LFG(vi),e.LFG(kv),e.LFG(un.F0),e.LFG(Lt.Ye))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kp=(()=>{class t{constructor(){this.redirectUrl$=new R.X(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(o){this.redirectUrl$.next(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Np=(()=>{class t{constructor(o,u){this.config=o,this.urlParsingService=u}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((o,u)=>!0===u.authFlow&&u.paths?.length?o.concat(u?.paths):o,[])),this._authFlowPaths}isAuthFlow(o){return this.authFlowPaths.some(u=>this.urlParsingService.matchPath(o,u))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ul),e.LFG(ld))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dd=(()=>{class t{constructor(o,u,p,m){this.routing=o,this.router=u,this.authRedirectStorageService=p,this.authFlowRoutesService=m,this.init()}init(){this.subscription=this.router.events.subscribe(o=>{o instanceof un.m2&&this.setRedirectUrl(o.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe((0,Ue.q)(1)).subscribe(o=>{void 0===o?this.routing.go("/"):this.routing.goByUrl(o),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){const o=this.router.getCurrentNavigation();if(!o?.finalUrl)return;const u=this.router.serializeUrl(o.finalUrl);this.setRedirectUrl(u)}setRedirectUrl(o){this.authFlowRoutesService.isAuthFlow(o)||this.authRedirectStorageService.setRedirectUrl(o)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(na),e.LFG(un.F0),e.LFG(kp),e.LFG(Np))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fi(t){return typeof t<"u"}function hu(t){return Fi(t)&&null!==t}function gu(t,c){return t.context&&t.context[c]||[]}function Na(t,c){const o=gu(t,c);return o&&o.length?o[0]:void 0}const Ua="language",Qr="currency",Wi="baseSite",Up="theme",ll="[Site-context] Load BaseSite",Jo="[Site-context] Load BaseSite Fail",Ac="[Site-context] Load BaseSite Success",pd="[Site-context] Load BaseSites",ug="[Site-context] Load BaseSites Fail",Bp="[Site-context] Load BaseSites Success",fd="[Site-context] Set Active BaseSite",lg="[Site-context] BaseSite Change";class pg{constructor(c){this.payload=c,this.type=Jo}}class Gp{constructor(c){this.payload=c,this.type=Ac}}class fg{constructor(){this.type=pd}}class hg{constructor(c){this.payload=c,this.type=ug}}class hd{constructor(c){this.payload=c,this.type=Bp}}class gd{constructor(c){this.payload=c,this.type=fd}}const md="[Site-context] Load Currencies",gg="[Site-context] Load Currencies Fail",Dc="[Site-context] Load Currencies Success",vd="[Site-context] Set Active Currency",dl="[Site-context] Currency Change";class _d{constructor(){this.type=md}}class Cd{constructor(c){this.payload=c,this.type=gg}}class Vp{constructor(c){this.payload=c,this.type=Dc}}class Uv{constructor(c){this.payload=c,this.type=vd}}class bc{constructor(c){this.payload=c,this.type=dl}}const pl="[Site-context] Load Languages",Hp="[Site-context] Load Languages Fail",$p="[Site-context] Load Languages Success",mu="[Site-context] Set Active Language",ds="[Site-context] Language Change";class mg{constructor(){this.type=pl}}class vg{constructor(c){this.payload=c,this.type=Hp}}class jp{constructor(c){this.payload=c,this.type=$p}}class _g{constructor(c){this.payload=c,this.type=mu}}class Cg{constructor(c){this.payload=c,this.type=ds}}var yg=Object.freeze({__proto__:null,LOAD_BASE_SITE:ll,LOAD_BASE_SITE_FAIL:Jo,LOAD_BASE_SITE_SUCCESS:Ac,LOAD_BASE_SITES:pd,LOAD_BASE_SITES_FAIL:ug,LOAD_BASE_SITES_SUCCESS:Bp,SET_ACTIVE_BASE_SITE:fd,BASE_SITE_CHANGE:lg,LoadBaseSite:class dg{constructor(){this.type=ll}},LoadBaseSiteFail:pg,LoadBaseSiteSuccess:Gp,LoadBaseSites:fg,LoadBaseSitesFail:hg,LoadBaseSitesSuccess:hd,SetActiveBaseSite:gd,BaseSiteChange:class Nv{constructor(){this.type=lg}},LOAD_CURRENCIES:md,LOAD_CURRENCIES_FAIL:gg,LOAD_CURRENCIES_SUCCESS:Dc,SET_ACTIVE_CURRENCY:vd,CURRENCY_CHANGE:dl,LoadCurrencies:_d,LoadCurrenciesFail:Cd,LoadCurrenciesSuccess:Vp,SetActiveCurrency:Uv,CurrencyChange:bc,LOAD_LANGUAGES:pl,LOAD_LANGUAGES_FAIL:Hp,LOAD_LANGUAGES_SUCCESS:$p,SET_ACTIVE_LANGUAGE:mu,LANGUAGE_CHANGE:ds,LoadLanguages:mg,LoadLanguagesFail:vg,LoadLanguagesSuccess:jp,SetActiveLanguage:_g,LanguageChange:Cg});const fl="siteContext",Tc=(0,h.ZF)(fl),Sg=(0,h.P1)(Tc,t=>t.baseSite),Yp=(0,h.P1)(Tc,t=>t&&t.baseSite&&t.baseSite.activeSite),zp=((0,h.P1)(Tc,t=>t&&t.baseSite&&t.baseSite.details),(0,h.P1)(Sg,t=>t.entities)),Ba=(0,h.P1)(zp,t=>t?Object.keys(t).map(c=>t[c]):null),Wp=(0,h.P1)(Tc,t=>t.currencies),bg=(0,h.P1)(Wp,t=>t.entities),Ji=(0,h.P1)(Wp,t=>t.activeCurrency),yd=(0,h.P1)(bg,t=>t?Object.keys(t).map(c=>t[c]):null),Sd=(0,h.P1)(Tc,t=>t.languages),vu=(0,h.P1)(Sd,t=>t.entities),_u=(0,h.P1)(Sd,t=>t.activeLanguage),hl=(0,h.P1)(vu,t=>t?Object.keys(t).map(c=>t[c]):null);let Ns=(()=>{class t{constructor(o,u){this.store=o,this.config=u}getActive(){return this.store.pipe((0,h.Ys)(Yp),(0,it.h)(o=>Boolean(o)))}getAll(){return this.store.pipe((0,h.Ys)(Ba),(0,wt.b)(o=>{o||this.store.dispatch(new fg)}),(0,it.h)(hu))}get(o){return o?this.getAll().pipe((0,Ee.U)(u=>u.find(p=>p.uid===o))):this.getActive().pipe((0,Dt.w)(u=>this.getAll().pipe((0,Ee.U)(p=>p.find(m=>m.uid===u)))))}setActive(o){this.store.pipe((0,h.Ys)(Yp),(0,Ue.q)(1)).subscribe(u=>{o&&u!==o&&this.store.dispatch(new gd(o))})}isInitialized(){let o=!1;return this.getActive().subscribe(()=>o=!0).unsubscribe(),o}isValid(o){return!!o&&gu(this.config,Wi).includes(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Ed=(()=>{class t{constructor(o){this.baseSiteService=o,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe((0,Ue.q)(1),(0,Ee.U)(o=>Boolean(o?.isolated)?this.MULTISITE_SEPARATOR+o?.uid:""))}decorateUserId(o){return this.getBaseSiteDecorator().pipe((0,Ee.U)(u=>o+u))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ns))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_i=(()=>{class t{constructor(o,u,p,m,S,I,Y){this.store=o,this.userIdService=u,this.oAuthLibWrapperService=p,this.authStorageService=m,this.authRedirectService=S,this.routingService=I,this.authMultisiteIsolationService=Y,this.refreshInProgress$=new R.X(!1),this.logoutInProgress$=new R.X(!1)}checkOAuthParamsInUrl(){var o=this;return(0,n.Z)(function*(){try{const u=yield o.oAuthLibWrapperService.tryLogin(),p=o.authStorageService.getItem("access_token");u.result&&p&&(o.userIdService.setUserId(ls),o.store.dispatch(new Op),u.tokenReceived&&o.authRedirectService.redirect())}catch{}})()}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(o,u){var p=this;return(0,n.Z)(function*(){let m=o;p.authMultisiteIsolationService&&(m=yield p.authMultisiteIsolationService.decorateUserId(m).toPromise());try{yield p.oAuthLibWrapperService.authorizeWithPasswordFlow(m,u),p.userIdService.setUserId(ls),p.store.dispatch(new Op),p.authRedirectService.redirect()}catch{}})()}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(o=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Rv),this.setLogoutProgress(!1),o()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe((0,Ee.U)(o=>Boolean(o?.access_token)),(0,Ct.x)())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(o){this.refreshInProgress$.next(o)}setLogoutProgress(o){this.logoutInProgress$.next(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi),e.LFG(tg),e.LFG(Ec),e.LFG(dd),e.LFG(na),e.LFG(Ed))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ga=(()=>{class t{constructor(o,u){this.store=o,this.authService=u}loadTemplates(){this.store.dispatch(new cd)}getTemplates(o=!1){return(0,V.s)(()=>o,this.store.pipe((0,h.Ys)(La),(0,dt.M)(this.getLoadTemplatesLoading()),(0,it.h)(([u,p])=>!p),(0,wt.b)(([u,p])=>{Boolean(u)||this.loadTemplates()}),(0,it.h)(([u,p])=>Boolean(u)),(0,Ee.U)(([u,p])=>u)),this.store.pipe((0,h.Ys)(La)))}getTemplate(o){return this.store.pipe((0,h.Ys)((t=>(0,h.P1)(La,c=>c?c.find(o=>o.id===t):void 0))(o)))}getLoadTemplatesLoading(){return this.store.pipe((0,h.Ys)(Wh))}getLoadTemplatesSuccess(){return this.store.pipe((0,h.Ys)(Jh))}getLoadTemplatesError(){return this.store.pipe((0,h.Ys)(Kh))}resetLoadTemplatesState(){this.store.dispatch(new sl)}getConsents(){return this.store.pipe((0,h.Ys)(yc))}setConsents(o){return this.store.dispatch(new zh(o))}getConsent(o){return this.authService.isUserLoggedIn().pipe((0,it.h)(u=>!u),(0,wt.b)(()=>this.getTemplates(!0)),(0,Dt.w)(()=>this.store.pipe((0,h.Ys)((t=>(0,h.P1)(yc,c=>c.find(o=>o.templateCode===t)))(o)))))}giveConsent(o){this.store.dispatch(new wp(o))}giveAllConsents(){return this.getTemplates(!0).pipe((0,wt.b)(o=>o.forEach(u=>{u.id&&this.giveConsent(u.id)})))}isConsentGiven(o){return(o&&o.consentState===xt.GIVEN)??!1}withdrawConsent(o){this.store.dispatch(new lu(o))}withdrawAllConsents(){return this.getTemplates(!0).pipe((0,wt.b)(o=>o.forEach(u=>{u.id&&this.withdrawConsent(u.id)})))}isConsentWithdrawn(o){return o&&o.consentState===xt.WITHDRAWN}toggleBannerDismissed(o){this.store.dispatch(new vc(o)),o&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe((0,h.Ys)(ud))}getTemplatesUpdated(){return this.getTemplates(!0).pipe((0,Dt.w)(()=>this.store.pipe((0,h.Ys)(du))))}toggleTemplatesUpdated(o){this.store.dispatch(new Rp(o))}isBannerVisible(){return(0,j.aj)([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe((0,wt.b)(()=>this.checkConsentVersions()),(0,Ee.U)(([o,u])=>!o||u))}checkConsentVersions(){this.store.dispatch(new uo)}detectUpdatedTemplates(o,u){if(u.length!==o.length)return!0;for(let p=0;p<u.length;p++)if(u[p].version!==o[p].version)return!0;return!1}serializeAndEncode(o){if(!o)return"";const u=JSON.stringify(o);return encodeURIComponent(u)}decodeAndDeserialize(o){const u=decodeURIComponent(o);return u.length>0?JSON.parse(u):[]}consentsUpdated(o,u){return this.serializeAndEncode(o)!==this.serializeAndEncode(u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(_i))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ra="cx-use-client-token",Bv="cx-use-csagent-token";class Cu{static createHeader(c,o,u){return u?u.append(c,JSON.stringify(o)):u=(new Vt.WM).set(c,JSON.stringify(o))}static removeHeader(c,o){const u=o.headers.delete(c);return o.clone({headers:u})}static getInterceptorParam(c,o){const u=o.get(c);if(u)return JSON.parse(u)}}const Mg="client-auth",gl="[Client auth] Client Token Data",Ad="[Token] Load Client Token";class ko extends so{constructor(){super(gl),this.type=Ad}}class xc extends zr{constructor(c){super(gl,c),this.payload=c,this.type="[Token] Load Client Token Fail"}}class Ci extends yo{constructor(c){super(gl),this.payload=c,this.type="[Token] Load Client Token Success"}}const KC=(0,h.ZF)(Mg),Ko=(0,h.P1)(KC,t=>t.clientToken);let ml=(()=>{class t{constructor(o){this.store=o}getClientToken(){return this.store.pipe((0,h.Ys)(Ko),(0,Qt.QV)(H.N),(0,it.h)(o=>!!this.isClientTokenLoaded(o)||(o.loading||this.store.dispatch(new ko),!1)),(0,Ee.U)(o=>o.value))}refreshClientToken(){return this.store.dispatch(new ko),this.store.pipe((0,h.Ys)(Ko),(0,it.h)(o=>this.isClientTokenLoaded(o)),(0,Ee.U)(o=>o.value),(0,it.h)(Fi))}isClientTokenLoaded(o){return Boolean((o.success||o.error)&&!o.loading)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ha=(()=>{class t{constructor(o){this.clientTokenService=o}handleExpiredClientToken(o,u){return this.clientTokenService.refreshClientToken().pipe((0,Ue.q)(1),(0,Dt.w)(p=>u.handle(this.createNewRequestWithNewToken(o,p))))}createNewRequestWithNewToken(o,u){return o.clone({setHeaders:{Authorization:`${u.token_type||"Bearer"} ${u.access_token}`}})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ml))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ti{static resolve(c,o,u){for(const p of Object.keys(o)){const m=new RegExp("\\${"+p+"}","g");c=c.replace(m,u?encodeURIComponent(o[p]):o[p])}return c}}class bd{encodeKey(c){return encodeURIComponent(c)}encodeValue(c){return encodeURIComponent(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const yu="default";function Kp(...t){const c=[];t=t.filter(o=>Boolean(o));for(const o of t)c.push(qr(o));return t[0]?.startsWith("/")&&(c[0]="/"+c[0]),t[t.length-1]?.endsWith("/")&&(c[c.length-1]=c[c.length-1]+"/"),c.join("/")}function qr(t){return(t=t.startsWith("/")?t.slice(1):t).endsWith("/")?t.slice(0,-1):t}let Ir=(()=>{class t{constructor(o,u){this.config=o,this.baseSiteService=u,this.baseSiteService&&this.baseSiteService.getActive().subscribe(p=>this._activeBaseSite=p)}get activeBaseSite(){return this._activeBaseSite??Na(this.config,Wi)}getRawEndpointValue(o,u){return this.getEndpointForScope(o,u)}isConfigured(o,u){return!(typeof this.getEndpointFromConfig(o,u)>"u")}getBaseUrl(o={baseUrl:!0,prefix:!0,baseSite:!0}){return Kp(!1===o.baseUrl?"":this.config?.backend?.occ?.baseUrl??"",!1===o.prefix?"":this.getPrefix(),!1===o.baseSite?"":this.activeBaseSite)}buildUrl(o,u,p){let m=this.getEndpointForScope(o,u?.scope);if(u){const{urlParams:S,queryParams:I}=u;if(S&&(m=Ti.resolve(m,S,!0)),I){let Y={encoder:new bd};if(m.includes("?")){let Ne;[m,Ne]=m.split("?"),Y={...Y,fromString:Ne}}let ae=new Vt.LE(Y);Object.keys(I).forEach(Ne=>{const ct=I[Ne];void 0!==ct&&(ae=null===ct?ae.delete(Ne):ae.set(Ne,ct))});const Pe=ae.toString();Pe.length&&(m+="?"+Pe)}}return this.buildUrlFromEndpointString(m,p)}getEndpointFromConfig(o,u){const p=this.config.backend?.occ?.endpoints;if(!p)return;const m=p[o];return u?u===yu&&"string"==typeof m?m:m?.[u]:"string"==typeof m?m:m?.[yu]}getEndpointForScope(o,u){const p=this.config.backend?.occ?.endpoints;if(!p)return"";const m=p[o];if(u){if(m?.[u])return m?.[u];if(u===yu&&"string"==typeof m)return m;(0,e.X6Q)()&&console.warn(`${o} endpoint configuration missing for scope "${u}"`)}return("string"==typeof m?m:m?.[yu])||o}buildUrlFromEndpointString(o,u){return Kp(this.getBaseUrl(u),o)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ks),e.LFG(Ns,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Td=[{provide:Vt.TP,useExisting:(()=>{class t{constructor(o,u,p){this.clientTokenService=o,this.clientErrorHandlingService=u,this.occEndpoints=p}intercept(o,u){const p=this.isClientTokenRequest(o);return p&&(o=Cu.removeHeader(ra,o)),this.getClientToken(p).pipe((0,Ue.q)(1),(0,Dt.w)(m=>(m?.access_token&&o.url.includes(this.occEndpoints.getBaseUrl())&&(o=o.clone({setHeaders:{Authorization:`${m.token_type||"Bearer"} ${m.access_token}`}})),u.handle(o).pipe((0,me.K)(S=>S instanceof Vt.UA&&401===S.status&&p&&this.isExpiredToken(S)?this.clientErrorHandlingService.handleExpiredClientToken(o,u):(0,G._)(S))))))}getClientToken(o){return o?this.clientTokenService.getClientToken():(0,E.of)(void 0)}isClientTokenRequest(o){const u=Cu.getInterceptorParam(ra,o.headers);return Boolean(u)}isExpiredToken(o){return"InvalidTokenError"===o.error?.errors?.[0]?.type}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ml),e.LFG(Ha),e.LFG(Ir))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0}];var xi=(()=>{return(t=xi||(xi={})).NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",xi;var t})(),Mc=(()=>((Mc||(Mc={})).TRANSFER_STATE="SSR",Mc))();function ps(t,c){let o;switch(t){case xi.LOCAL_STORAGE:o=c.localStorage;break;case xi.SESSION_STORAGE:o=c.sessionStorage;break;case xi.NO_STORAGE:o=void 0;break;default:o=c.sessionStorage}return o}function Ig(t,c){if(fs(t))return;const o=t.getItem(c);return o?JSON.parse(o):void 0}function fs(t){return!Boolean(t)}let wc=(()=>{class t{constructor(o){this.winRef=o}syncWithStorage({key:o,state$:u,context$:p=(0,E.of)(""),storageType:m=xi.LOCAL_STORAGE,onRead:S=(()=>{})}){const I=ps(m,this.winRef),Y=new z.w;return Y.add(p.pipe((0,Ee.U)(ae=>I?Ig(I,this.generateKeyWithContext(ae,o)):void 0),(0,wt.b)(ae=>S(ae))).subscribe()),I&&Y.add(u.pipe((0,dt.M)(p)).subscribe(([ae,Pe])=>{!function Ic(t,c,o){!fs(o)&&c&&o.setItem(t,JSON.stringify(c))}(this.generateKeyWithContext(Pe,o),ae,I)})),Y}readStateFromStorage({key:o,context:u="",storageType:p=xi.LOCAL_STORAGE}){const m=ps(p,this.winRef);if(m)return Ig(m,this.generateKeyWithContext(u,o))}generateKeyWithContext(o,u){return`spartacus\u26bf${[].concat(o).join("\u26bf")}\u26bf${u}`}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ka))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wg=(()=>{class t{constructor(o,u,p,m){this.statePersistenceService=o,this.userIdService=u,this.authStorageService=p,this.authRedirectStorageService=m,this.subscription=new z.w,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:o=>this.onRead(o)}))}getAuthState(){return(0,j.aj)([this.authStorageService.getToken().pipe((0,it.h)(o=>!!o),(0,Ee.U)(o=>({...o}))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe((0,Ee.U)(([o,u,p])=>{let m=o;return m&&(m={...m},delete m.refresh_token),{token:m,userId:u,redirectUrl:p}}))}onRead(o){o?.token&&this.authStorageService.setToken(o.token),o?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(o.redirectUrl),o?.userId?this.userIdService.setUserId(o.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return Boolean(this.readStateFromStorage()?.token?.access_token)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(wc),e.LFG(zi),e.LFG(Ec),e.LFG(kp))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xd=(0,xn.Cb)("cx-state"),Pg=new e.OlP("TransferStateMetaReducer"),lr=[{provide:Pg,useFactory:function Ki(t,c,o,u){if(c&&o?.state?.ssrTransfer?.keys){if((0,Lt.NF)(t))return function Vv(t,c,o){const u=gc(c,Mc.TRANSFER_STATE);return function(p){return function(m,S){if(S.type===h.qg){if(m||(m=p(m,S)),!o&&t.hasKey(xd)){const I=t.get(xd,{});m=io({},m,Pa(u,[],I))}return m}return p(m,S)}}}(c,o.state.ssrTransfer.keys,Boolean(u?.isUserLoggedIn()));if((0,Lt.PM)(t))return function Rg(t,c){const o=gc(c,Mc.TRANSFER_STATE);return function(u){return function(p,m){const S=u(p,m);if(S){const I=Pa(o,[],S);t.set(xd,I)}return S}}}(c,o.state.ssrTransfer.keys)}return p=>p},deps:[e.Lbi,[new e.FiY,xn.ki],[new e.FiY,Co],[new e.FiY,wg]]},{provide:h.sr,useExisting:Pg,multi:!0}];let oa=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...lr]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();function On(t){if(t instanceof Qn)return t;if(t instanceof Vt.UA){const c=new Qn;return c.message=t.message,c.status=t.status,c.statusText=t.statusText,c.url=t.url,Array.isArray(t.error.errors)?c.details=t.error.errors:"string"==typeof t.error.error&&(c.details=[{type:t.error.error,message:t.error.error_description}]),c}(0,e.X6Q)()&&console.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}let ia=(()=>{class t{constructor(o,u){this.http=o,this.authConfigService=u}loadClientAuthenticationToken(){const o=this.authConfigService.getTokenEndpoint(),u=(new Vt.LE).set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),p=new Vt.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(o,u,{headers:p})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Fa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qi=[(()=>{class t{constructor(o,u){this.actions$=o,this.clientAuthenticationTokenService=u,this.loadClientToken$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Ad),(0,vt.z)(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe((0,Ee.U)(p=>new Ci(p)),(0,me.K)(p=>(0,E.of)(new xc(On(p))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(ia))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],qp=new e.OlP("ClientAuthReducers"),So={provide:qp,useFactory:function lo(){return{clientToken:Wr(gl)}}};let QE=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[So],imports:[Lt.ez,Vt.JF,oa,h.Aw.forFeature(Mg,qp),st.sQ.forFeature(Qi)]}),t})(),qE=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...Td]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Lt.ez,QE]}),t})();const vl=new e.OlP("ConfigInitializer"),Xp=new e.OlP("CONFIG_INITIALIZER_FORROOT_GUARD");let po=(()=>{class t{constructor(o,u,p){this.config=o,this.initializerGuard=u,this.rootConfig=p,this.ongoingScopes$=new R.X(void 0)}get isStable(){return!this.initializerGuard||0===this.ongoingScopes$.value?.length}getStable(...o){return this.isStable?(0,E.of)(this.config):this.ongoingScopes$.pipe((0,it.h)(u=>!!u&&this.areReady(o,u)),(0,Ue.q)(1),(0,Ze.h)(this.config))}finishScopes(o){const u=[...this.ongoingScopes$.value??[]];for(const p of o)u.splice(u.indexOf(p),1);this.ongoingScopes$.next(u)}areReady(o,u){if(!o.length)return!u.length;for(const p of o)for(const m of u)if(this.scopesOverlap(p,m))return!1;return!0}scopesOverlap(o,u){return u.length>o.length&&([o,u]=[u,o]),o.startsWith(u)&&"."===(o[u.length]||".")}initialize(o){var u=this;return(0,n.Z)(function*(){if(u.ongoingScopes$.value)return;const p=[],m=[];for(const S of o||[])if(S){if(!S.scopes||!S.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");(0,e.X6Q)()&&!u.areReady(S.scopes,p)&&console.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),p.push(...S.scopes),m.push((0,n.Z)(function*(){const I=yield S.configFactory();io(u.rootConfig,I),io(u.config,I),u.finishScopes(S.scopes)})())}u.ongoingScopes$.next(p),m.length&&(yield Promise.all(m))})()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Co),e.LFG(Xp,8),e.LFG(Ms))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Og=new e.OlP("ConfigurationValidator");function Id(t){return{provide:Og,useValue:t,multi:!0}}function $v(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&!1!==t?.authentication?.OAuthLibConfig?.requireHttps)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}const jv={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function Bs(t,c){return Object.assign(new t,c)}let yi=(()=>{class t{}return t.type="CxEvent",t})(),$a=(()=>{class t extends yi{}return t.type="LogoutEvent",t})(),ef=(()=>{class t extends yi{}return t.type="LoginEvent",t})();class hs{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new q.y(c=>(this.consumer=c,this.bindAllSourcesToConsumer(c),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe((0,$t.B)()),this.consumer=null}add(c){this.has(c)||(this.consumer&&this.bindSourceToConsumer(c,this.consumer),this.sources.push(c))}bindAllSourcesToConsumer(c){this.sources.forEach(o=>this.bindSourceToConsumer(o,c))}unbindAllSourcesFromConsumer(){this.sources.forEach(c=>this.unbindSourceFromConsumer(c))}bindSourceToConsumer(c,o){const u=c.subscribe(p=>o.next(p));this.subscriptionsToSources.set(c,u)}unbindSourceFromConsumer(c){const o=this.subscriptionsToSources.get(c);void 0!==o&&(o.unsubscribe(),this.subscriptionsToSources.delete(c))}remove(c){let o;this.unbindSourceFromConsumer(c),-1!==(o=this.sources.findIndex(u=>u===c))&&this.sources.splice(o,1)}has(c){return this.sources.includes(c)}}let sa=(()=>{class t{constructor(){this.eventsMeta=new Map}register(o,u){const p=this.getEventMeta(o);return p.mergingSubject.has(u)?(0,e.X6Q)()&&console.warn("EventService: the event source",u,"has been already registered for the type",o):p.mergingSubject.add(u),()=>p.mergingSubject.remove(u)}get(o){let u=this.getEventMeta(o).mergingSubject.output$;return(0,e.X6Q)()&&(u=this.getValidatedEventStream(u,o)),u}dispatch(o,u){u?o instanceof u||(o=Bs(u,o)):u=o.constructor,this.getInputSubject(u).next(o)}getInputSubject(o){const u=this.getEventMeta(o);return u.inputSubject$||(u.inputSubject$=new ee.xQ,this.register(o,u.inputSubject$)),u.inputSubject$}getEventMeta(o){return this.eventsMeta.get(o)||((0,e.X6Q)()&&this.validateEventType(o),this.createEventMeta(o)),this.eventsMeta.get(o)}createEventMeta(o){const u={inputSubject$:null,mergingSubject:new hs};this.eventsMeta.set(o,u);let p=Object.getPrototypeOf(o);for(;null!==p&&Object.getPrototypeOf(p)!==Object.getPrototypeOf({});)this.register(p,u.mergingSubject.output$),p=Object.getPrototypeOf(p)}validateEventType(o){if(!o?.constructor)throw new Error(`EventService:  ${o} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(o)}validateCxEvent(o){let u=o;for(;null!==u&&Object.getPrototypeOf(u)!==Object.getPrototypeOf({});){if(u.type===yi.type)return;u=Object.getPrototypeOf(u)}console.warn(`The ${o.name} (or one of its parent classes) does not inherit from the ${yi.type}`)}getValidatedEventStream(o,u){return o.pipe((0,wt.b)(p=>{p instanceof u||console.warn("EventService: The stream",o,"emitted the event",p,"that is not an instance of the declared type",u.name)}))}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hr=(()=>{class t{constructor(o,u){this.actionsSubject=o,this.eventService=u}register(o){return this.eventService.register(o.event,this.getFromAction(o))}getFromAction(o){return this.actionsSubject.pipe((0,st.l4)(...[].concat(o.action))).pipe((0,Ee.U)(u=>this.createEvent(u,o.event,o.factory)))}createEvent(o,u,p){return p?p(o):Bs(u,o.payload??{})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.UO),e.LFG(sa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wd=(()=>{class t{constructor(o,u,p){this.stateEventService=o,this.eventService=u,this.authService=p,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:mi,event:ef})}registerLogoutEvent(){this.eventService.register($a,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe((0,It.G)(),(0,it.h)(([o,u])=>o&&!u),(0,Ee.U)(()=>Bs($a,{})))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Hr),e.LFG(sa),e.LFG(_i))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tf=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(wd))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();var yr=(()=>{return(t=yr||(yr={})).MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",yr;var t})();const Rc="[Global-message] Add a Message",fo="[Global-message] Remove a Message",nf="[Global-message] Remove messages by type";class rf{constructor(c){this.payload=c,this.type=Rc}}class aa{constructor(c){this.payload=c,this.type=fo}}class _l{constructor(c){this.payload=c,this.type=nf}}const ki="global-message",Su=(0,h.ZF)(ki),Cl=(0,h.P1)(Su,t=>t.entities),Rd=t=>(0,h.P1)(Cl,c=>c&&c[t]);let Pc=(()=>{class t{constructor(o){this.store=o}get(){return this.store.pipe((0,h.Ys)(Cl),(0,it.h)(Fi))}add(o,u,p){this.store.dispatch(new rf({text:"string"==typeof o?{raw:o}:o,type:u,timeout:p}))}remove(o,u){this.store.dispatch(void 0!==u?new aa({type:o,index:u}):new _l(o))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),af=(()=>{class t{constructor(o,u,p,m,S,I,Y){this.authService=o,this.authStorageService=u,this.oAuthLibWrapperService=p,this.routingService=m,this.occEndpoints=S,this.globalMessageService=I,this.authRedirectService=Y,this.refreshTokenTrigger$=new ee.xQ,this.token$=this.authStorageService.getToken().pipe((0,Ee.U)(ae=>ae?.access_token?ae:void 0)),this.stopProgress$=this.token$.pipe((0,It.G)(),(0,wt.b)(([ae,Pe])=>{ae?.access_token!==Pe?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe((0,dt.M)(this.authService.refreshInProgress$,this.authService.logoutInProgress$),(0,it.h)(([,ae,Pe])=>!ae&&!Pe),(0,wt.b)(([ae])=>{ae?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=(0,ue.g)(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe((0,Zt.d)({refCount:!0,bufferSize:1})),this.subscriptions=new z.w,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(o){return this.isOccUrl(o.url)}shouldAddAuthorizationHeader(o){const u=!!this.getAuthorizationHeader(o),p=this.isOccUrl(o.url);return!u&&p}alterRequest(o,u){const p=!!this.getAuthorizationHeader(o),m=this.isBaseSitesRequest(o),S=this.isOccUrl(o.url);return p||!S||m?o:o.clone({setHeaders:{...this.createAuthorizationHeader(u)}})}isOccUrl(o){return o.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(o){return o.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(o){return o.headers.get("Authorization")}createAuthorizationHeader(o){if(o?.access_token)return{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`};let u;return this.authStorageService.getToken().subscribe(p=>u=p).unsubscribe(),u?.access_token?{Authorization:`${u.token_type||"Bearer"} ${u.access_token}`}:{}}handleExpiredAccessToken(o,u,p){return this.getValidToken(p).pipe((0,Dt.w)(m=>m?u.handle(this.createNewRequestWithNewToken(o,m)):oe.E))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},yr.MSG_TYPE_ERROR)})}getStableToken(){return(0,j.aj)([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe((0,Qt.QV)(H.N),(0,it.h)(([o,u,p])=>!u&&!p),(0,Dt.w)(()=>this.token$))}getValidToken(o){return(0,De.P)(()=>{let u=!1;return this.tokenToRetryRequest$.pipe((0,wt.b)(p=>{p?.access_token===o?.access_token&&!u&&this.refreshTokenTrigger$.next(p),u=!0}),(0,cn.n)(p=>p?.access_token===o?.access_token),(0,Ue.q)(1))})}createNewRequestWithNewToken(o,u){return o.clone({setHeaders:{Authorization:`${u.token_type||"Bearer"} ${u.access_token}`}})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_i),e.LFG(Ec),e.LFG(tg),e.LFG(na),e.LFG(Ir),e.LFG(Pc),e.LFG(dd))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Gs=[{provide:Vt.TP,useExisting:(()=>{class t{constructor(o,u){this.authHttpHeaderService=o,this.authConfigService=u}intercept(o,u){const p=this.authHttpHeaderService.shouldCatchError(o);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(o)?this.authHttpHeaderService.getStableToken().pipe((0,Ue.q)(1)):(0,E.of)(void 0)).pipe((0,Ee.U)(Y=>({token:Y,request:this.authHttpHeaderService.alterRequest(o,Y)}))).pipe((0,Dt.w)(({request:Y,token:ae})=>u.handle(Y).pipe((0,me.K)(Pe=>{if(Pe instanceof Vt.UA)switch(Pe.status){case 401:if(this.isExpiredToken(Pe)&&p)return this.authHttpHeaderService.handleExpiredAccessToken(Y,u,ae);if(Pe.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_token"===Pe.error.error)return this.authHttpHeaderService.handleExpiredRefreshToken(),(0,E.of)();break;case 400:Pe.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_grant"===Pe.error.error&&"refresh_token"===Y.body.get("grant_type")&&this.authHttpHeaderService.handleExpiredRefreshToken()}return(0,G._)(Pe)}))))}isExpiredToken(o){return"InvalidTokenError"===o.error?.errors?.[0]?.type}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(af),e.LFG(Fa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0},{provide:Vt.TP,useExisting:(()=>{class t{constructor(o,u){this.authStorageService=o,this.authConfigService=u}intercept(o,u){const p=this.isTokenRevocationRequest(o);return this.authStorageService.getToken().pipe((0,Ue.q)(1),(0,Dt.w)(m=>(p&&(o=o.clone({setHeaders:{Authorization:`${m.token_type||"Bearer"} ${m.access_token}`}})),u.handle(o))))}isTokenRevocationRequest(o){return o.url===this.authConfigService.getRevokeEndpoint()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ec),e.LFG(Fa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0}];function Fg(t,c){return()=>c.getStable().pipe((0,Dt.w)(()=>t.checkOAuthParamsInUrl())).toPromise()}function uf(t){return()=>t.initSync()}let yl=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Zo(jv),Id($v),...Gs,{provide:bt.Hy,useExisting:Ec},{provide:e.ip1,useFactory:uf,deps:[wg],multi:!0},{provide:e.ip1,useFactory:Fg,deps:[_i,po],multi:!0}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Lt.ez,bt.zr.forRoot(),tf]}),t})(),ca=(()=>{class t{static forRoot(){return{ngModule:t}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Lt.ez,yl.forRoot(),qE.forRoot()]}),t})(),gs=(()=>{class t{constructor(o,u,p,m){this.authService=o,this.authRedirectService=u,this.router=p,this.semanticPathService=m}canActivate(){return this.authService.isUserLoggedIn().pipe((0,Ee.U)(o=>o||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_i),e.LFG(dd),e.LFG(un.F0),e.LFG(vi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pd=(()=>{class t{constructor(o,u,p){this.authService=o,this.semanticPathService=u,this.router=p}canActivate(){return this.authService.isUserLoggedIn().pipe((0,Ee.U)(o=>o?this.router.parseUrl(this.semanticPathService.get("home")??""):!o))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(_i),e.LFG(vi),e.LFG(un.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sl=(()=>{class t extends ks{}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})();const lf=[{provide:Vt.TP,useExisting:(()=>{class t{constructor(o,u,p,m){this.anonymousConsentsService=o,this.authService=u,this.occEndpoints=p,this.config=m}intercept(o,u){return(0,j.aj)([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe((0,Ue.q)(1),(0,Dt.w)(([p,m])=>{if(!this.isOccUrl(o.url))return u.handle(o);const S=this.handleRequest(p,o);return u.handle(S).pipe((0,wt.b)(I=>{I instanceof Vt.Zn&&(I.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(m,I.headers.get(fn),p)}))}))}handleResponse(o,u,p){if(!o&&u){let m=[];m=this.anonymousConsentsService.decodeAndDeserialize(u),m=this.giveRequiredConsents(m),this.anonymousConsentsService.consentsUpdated(m,p)&&this.anonymousConsentsService.setConsents(m)}}handleRequest(o,u){if(!o)return u;const p=this.anonymousConsentsService.serializeAndEncode(o);return u.clone({setHeaders:{[fn]:p}})}isOccUrl(o){return o.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(o){const u=[...o];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(const p of u)p.templateCode&&this.config.anonymousConsents.requiredConsents.includes(p.templateCode)&&(p.consentState=xt.GIVEN);return u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ga),e.LFG(_i),e.LFG(Ir),e.LFG(Sl))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0}],El="[User] Load Billing Countries",Al="[User] Load Billing Countries Fail",ja="[User] Load Billing Countries Success";class df{constructor(){this.type=El}}class Ld{constructor(c){this.payload=c,this.type=Al}}class pf{constructor(c){this.payload=c,this.type=ja}}const Xn="process";function ua(t){return(0,h.P1)(function kg(){return(0,h.ZF)(Xn)}(),c=>Fo(c,t))}function Oc(t){return(0,h.P1)(ua(t),c=>co(c))}function Za(t){return(0,h.P1)(ua(t),c=>Lo(c))}function Eu(t){return(0,h.P1)(ua(t),c=>oi(c))}var Ng=Object.freeze({__proto__:null,getProcessStateFactory:ua,getProcessLoadingFactory:Oc,getProcessSuccessFactory:Za,getProcessErrorFactory:Eu});const la="giveConsent",Lc="withdrawConsent",Au="updateNotificationPreferences",Dl="addProductInterests",Du="removeProductInterests",da="[User] User Consents",pa="[User] User Payment Methods",No="[User] User Addresses",Fc="[User] User Cost Centers",bl="[User] Regions",kd="[User] Customer Coupons",Ya="subscribeCustomerCoupon",kc="unsubscribeCustomerCoupon",Tl="claimCustomerCoupon",Nd="[User] Notification Preferences",xl="[User] Product Interests",Ug="[User] Load Customer Coupons",ff="[User] Load Customer Coupons Fail",Ni="[User] Load Customer Coupons Success",zv="[User] Reset Load Customer Coupons",Ud="[User] Subscribe Customer Notification Coupon",Ml="[User] Subscribe Customer Coupon Notification Fail",Bd="[User] Subscribe Customer Coupon Notification Success",Bg="[User] Reset Subscribe Customer Coupon Process",hf="[User] Unsubscribe Customer Notification Coupon",Gg="[User] Unsubscribe Customer Coupon Notification Fail",za="[User] Unsubscribe Customer Coupon Notification Success",gf="[User] Reset Unsubscribe Customer Coupon Process",qi="[User] Claim Customer",Nc="[User] Claim Customer Fail",ms="[User] Claim Customer Success";class Vg extends so{constructor(c){super(kd),this.payload=c,this.type=Ug}}class bu extends zr{constructor(c){super(kd,c),this.payload=c,this.type=ff}}class Fr extends yo{constructor(c){super(kd),this.payload=c,this.type=Ni}}class mf extends Po{constructor(c){super(Xn,Ya),this.payload=c,this.type=Ud}}class Wv extends Or{constructor(c){super(Xn,Ya,c),this.payload=c,this.type=Ml}}class Gd extends ao{constructor(c){super(Xn,Ya,c),this.payload=c,this.type=Bd}}class vf extends Po{constructor(c){super(Xn,kc),this.payload=c,this.type=hf}}class Hg extends Or{constructor(c){super(Xn,kc,c),this.payload=c,this.type=Gg}}class Il extends ao{constructor(c){super(Xn,kc,c),this.payload=c,this.type=za}}class jg extends Po{constructor(c){super(Xn,Tl),this.payload=c,this.type=qi}}class Qo extends Or{constructor(c){super(Xn,Tl,c),this.payload=c,this.type=Nc}}class wl extends ao{constructor(c){super(Xn,Tl,c),this.payload=c,this.type=ms}}const fa="[User] Load Delivery Countries",Zg="[User] Load Delivery Countries Fail",vs="[User] Load Delivery Countries Success";class Xi{constructor(){this.type=fa}}class Tu{constructor(c){this.payload=c,this.type=Zg}}class Vd{constructor(c){this.payload=c,this.type=vs}}const xu="[User] Load Notification Preferences",_f="[User] Load Notification Preferences Fail",Uc="[User] Load Notification Preferences Success",Fn="[User] Update Notification Preferences",Cf="[User] Update Notification Preferences Fail",Hd="[User] Update Notification Preferences Success",yf="[User] Reset Notification Preferences",Yg="[User] Clear Notification Preferences";class zg extends so{constructor(c){super(Nd),this.payload=c,this.type=xu}}class Sf extends zr{constructor(c){super(Nd,c),this.payload=c,this.type=_f}}class Wg extends yo{constructor(c){super(Nd),this.payload=c,this.type=Uc}}class Ef extends Po{constructor(c){super(Xn,Au),this.payload=c,this.type=Fn}}class $d extends Or{constructor(c){super(Xn,Au,c),this.payload=c,this.type=Cf}}class Rl extends ao{constructor(c){super(Xn,Au),this.payload=c,this.type=Hd}}class Jv extends Oo{constructor(){super(Xn,Au),this.type=yf}}class jd extends Ri{constructor(){super(Nd),this.type=Yg}}const Mu="[User] Load User Payment Methods",es="[User] Load User Payment Methods Fail",Pl="[User] Load User Payment Methods Success",Iu="[User] Set Default User Payment Method",Zd="[User] Set Default User Payment Method Fail",Jg="[User] Set Default User Payment Method Success",$r="[User] Delete User Payment Method",wu="[User] Delete User Payment Method Fail",Kv="[User] Delete User  Payment Method Success";class Yd extends so{constructor(c){super(pa),this.payload=c,this.type=Mu}}class Ru extends zr{constructor(c){super(pa,c),this.payload=c,this.type=es}}class Kg extends yo{constructor(c){super(pa),this.payload=c,this.type=Pl}}class Qv extends so{constructor(c){super(pa),this.payload=c,this.type=Iu}}class Bc extends zr{constructor(c){super(pa,c),this.payload=c,this.type=Zd}}class Ol extends yo{constructor(c){super(pa),this.payload=c,this.type=Jg}}class Qg extends so{constructor(c){super(pa),this.payload=c,this.type=$r}}class Ll extends zr{constructor(c){super(pa,c),this.payload=c,this.type=wu}}class qg extends yo{constructor(c){super(pa),this.payload=c,this.type=Kv}}const Pu="Load Product Interests",Af="Load Product Interests Fail",Df="Load Product Interests Success",bf="Remove Product Interest",Xg="Remove Product Interest Success",Tf="Remove Product Interest Fail",zd="Add Product Interest",em="Add Product Interest Fail",xf="Add Product Interest Success",Mf="Add Product Interest Reset",ha="Remove Product Interest Reset",qv="Clear Product Interests";class ga extends so{constructor(c){super(xl),this.payload=c,this.type=Pu}}class If extends zr{constructor(c){super(xl,c),this.payload=c,this.type=Af}}class Xv extends yo{constructor(c){super(xl),this.payload=c,this.type=Df}}class Gc extends Po{constructor(c){super(Xn,Du),this.payload=c,this.type=bf}}class Ou extends ao{constructor(c){super(Xn,Du),this.payload=c,this.type=Xg}}class Lu extends Or{constructor(c){super(Xn,Du,c),this.payload=c,this.type=Tf}}class Wd extends Po{constructor(c){super(Xn,Dl),this.payload=c,this.type=zd}}class _s extends ao{constructor(c){super(Xn,Dl),this.payload=c,this.type=xf}}class wf extends Or{constructor(c){super(Xn,Dl,c),this.payload=c,this.type=em}}class Rf extends Oo{constructor(){super(Xn,Dl),this.type=Mf}}class Jd extends Oo{constructor(){super(Xn,Du),this.type=ha}}class Vs extends Ri{constructor(){super(xl),this.type=qv}}const Fl="[User] Load Regions",Hs="[User] Load Regions Success",Kd="[User] Load Regions Fail",tm="[User] Clear Regions";class Pf extends so{constructor(c){super(bl),this.payload=c,this.type=Fl}}class e_ extends zr{constructor(c){super(bl,c),this.payload=c,this.type=Kd}}class Vc extends yo{constructor(c){super(bl),this.payload=c,this.type=Hs}}class kl{constructor(){this.type=tm}}const Nl="[User] Load User Addresses",Ul="[User] Load User Addresses Fail",Bl="[User] Load User Addresses Success",Qd="[User] Add User Address",nm="[User] Add User Address Fail",Of="[User] Add User Address Success",Lf="[User] Update User Address",t_="[User] Update User Address Fail",qd="[User] Update User Address Success",Ff="[User] Delete User Address",n_="[User] Delete User Address Fail",r_="[User] Delete User Address Success";class Xd extends so{constructor(c){super(No),this.payload=c,this.type=Nl}}class Fu extends zr{constructor(c){super(No,c),this.payload=c,this.type=Ul}}class kf extends yo{constructor(c){super(No),this.payload=c,this.type=Bl}}class ep extends so{constructor(c){super(No),this.payload=c,this.type=Qd}}class ey extends zr{constructor(c){super(No,c),this.payload=c,this.type=nm}}class ty extends yo{constructor(c){super(No),this.payload=c,this.type=Of}}class Nf extends so{constructor(c){super(No),this.payload=c,this.type=Lf}}class rm extends zr{constructor(c){super(No,c),this.payload=c,this.type=t_}}class om extends yo{constructor(c){super(No),this.payload=c,this.type=qd}}class o_ extends so{constructor(c){super(No),this.payload=c,this.type=Ff}}class im extends zr{constructor(c){super(No,c),this.payload=c,this.type=n_}}class i_ extends yo{constructor(c){super(No),this.payload=c,this.type=r_}}const sm="[User] Load User Consents",s_="[User] Load User Consents Success",ma="[User] Load User Consents Fail",Gl="[User] Reset Load User Consents",Uf="[User] Give User Consent",Bf="[User] Give User Consent Fail",Wa="[User] Give User Consent Success",Gf="[User] Reset Give User Consent Process",ku="[User] Transfer Anonymous Consent",Vf="[User] Withdraw User Consent",va="[User] Withdraw User Consent Fail",Hf="[User] Withdraw User Consent Success",$f="[User] Reset Withdraw User Consent Process";class Vl extends so{constructor(c){super(da),this.payload=c,this.type=sm}}class jf extends zr{constructor(c){super(da,c),this.payload=c,this.type=ma}}class Zf extends yo{constructor(c){super(da),this.payload=c,this.type=s_}}class tp extends Ri{constructor(){super(da),this.type=Gl}}class Nu extends Po{constructor(c){super(Xn,la),this.payload=c,this.type=Uf}}class Ja extends Or{constructor(c){super(Xn,la,c),this.type=Bf}}class np extends ao{constructor(c){super(Xn,la),this.consentTemplate=c,this.type=Wa}}class Hc extends Oo{constructor(){super(Xn,la),this.type=Gf}}class rp{constructor(c){this.payload=c,this.type=ku}}class Hl extends Po{constructor(c){super(Xn,Lc),this.payload=c,this.type=Vf}}class Yf extends Or{constructor(c){super(Xn,Lc,c),this.type=va}}class op extends ao{constructor(){super(Xn,Lc),this.type=Hf}}class $l extends Oo{constructor(){super(Xn,Lc),this.type=$f}}const jl="[User] Load Active CostCenters",Zl="[User] Load Active CostCenters Fail",Yl="[User] Load Active CostCenters Success";class am extends so{constructor(c){super(Fc),this.payload=c,this.type=jl}}class cm extends zr{constructor(c){super(Fc,c),this.payload=c,this.type=Zl}}class um extends yo{constructor(c){super(Fc),this.payload=c,this.type=Yl}}const Uu="[User] Clear User Misc Data";class lm{constructor(){this.type=Uu}}const ip="[User] Register User Success";var a_=Object.freeze({__proto__:null,LOAD_BILLING_COUNTRIES:El,LOAD_BILLING_COUNTRIES_FAIL:Al,LOAD_BILLING_COUNTRIES_SUCCESS:ja,LoadBillingCountries:df,LoadBillingCountriesFail:Ld,LoadBillingCountriesSuccess:pf,LOAD_CUSTOMER_COUPONS:Ug,LOAD_CUSTOMER_COUPONS_FAIL:ff,LOAD_CUSTOMER_COUPONS_SUCCESS:Ni,RESET_LOAD_CUSTOMER_COUPONS:zv,SUBSCRIBE_CUSTOMER_COUPON:Ud,SUBSCRIBE_CUSTOMER_COUPON_FAIL:Ml,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:Bd,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:Bg,UNSUBSCRIBE_CUSTOMER_COUPON:hf,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:Gg,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:za,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:gf,CLAIM_CUSTOMER_COUPON:qi,CLAIM_CUSTOMER_COUPON_FAIL:Nc,CLAIM_CUSTOMER_COUPON_SUCCESS:ms,LoadCustomerCoupons:Vg,LoadCustomerCouponsFail:bu,LoadCustomerCouponsSuccess:Fr,ResetLoadCustomerCoupons:class qC extends Ri{constructor(){super(kd),this.type=zv}},SubscribeCustomerCoupon:mf,SubscribeCustomerCouponFail:Wv,SubscribeCustomerCouponSuccess:Gd,ResetSubscribeCustomerCouponProcess:class XC extends Oo{constructor(){super(Xn,Ya),this.type=Bg}},UnsubscribeCustomerCoupon:vf,UnsubscribeCustomerCouponFail:Hg,UnsubscribeCustomerCouponSuccess:Il,ResetUnsubscribeCustomerCouponProcess:class $g extends Oo{constructor(){super(Xn,kc),this.type=gf}},ClaimCustomerCoupon:jg,ClaimCustomerCouponFail:Qo,ClaimCustomerCouponSuccess:wl,LOAD_DELIVERY_COUNTRIES:fa,LOAD_DELIVERY_COUNTRIES_FAIL:Zg,LOAD_DELIVERY_COUNTRIES_SUCCESS:vs,LoadDeliveryCountries:Xi,LoadDeliveryCountriesFail:Tu,LoadDeliveryCountriesSuccess:Vd,LOAD_NOTIFICATION_PREFERENCES:xu,LOAD_NOTIFICATION_PREFERENCES_FAIL:_f,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:Uc,UPDATE_NOTIFICATION_PREFERENCES:Fn,UPDATE_NOTIFICATION_PREFERENCES_FAIL:Cf,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:Hd,RESET_NOTIFICATION_PREFERENCES:yf,CLEAR_NOTIFICATION_PREFERENCES:Yg,LoadNotificationPreferences:zg,LoadNotificationPreferencesFail:Sf,LoadNotificationPreferencesSuccess:Wg,UpdateNotificationPreferences:Ef,UpdateNotificationPreferencesFail:$d,UpdateNotificationPreferencesSuccess:Rl,ResetNotificationPreferences:Jv,ClearNotificationPreferences:jd,LOAD_USER_PAYMENT_METHODS:Mu,LOAD_USER_PAYMENT_METHODS_FAIL:es,LOAD_USER_PAYMENT_METHODS_SUCCESS:Pl,SET_DEFAULT_USER_PAYMENT_METHOD:Iu,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:Zd,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:Jg,DELETE_USER_PAYMENT_METHOD:$r,DELETE_USER_PAYMENT_METHOD_FAIL:wu,DELETE_USER_PAYMENT_METHOD_SUCCESS:Kv,LoadUserPaymentMethods:Yd,LoadUserPaymentMethodsFail:Ru,LoadUserPaymentMethodsSuccess:Kg,SetDefaultUserPaymentMethod:Qv,SetDefaultUserPaymentMethodFail:Bc,SetDefaultUserPaymentMethodSuccess:Ol,DeleteUserPaymentMethod:Qg,DeleteUserPaymentMethodFail:Ll,DeleteUserPaymentMethodSuccess:qg,LOAD_PRODUCT_INTERESTS:Pu,LOAD_PRODUCT_INTERESTS_FAIL:Af,LOAD_PRODUCT_INTERESTS_SUCCESS:Df,REMOVE_PRODUCT_INTEREST:bf,REMOVE_PRODUCT_INTEREST_SUCCESS:Xg,REMOVE_PRODUCT_INTEREST_FAIL:Tf,ADD_PRODUCT_INTEREST:zd,ADD_PRODUCT_INTEREST_FAIL:em,ADD_PRODUCT_INTEREST_SUCCESS:xf,ADD_PRODUCT_INTEREST_RESET:Mf,REMOVE_PRODUCT_INTEREST_RESET:ha,CLEAR_PRODUCT_INTERESTS:qv,LoadProductInterests:ga,LoadProductInterestsFail:If,LoadProductInterestsSuccess:Xv,RemoveProductInterest:Gc,RemoveProductInterestSuccess:Ou,RemoveProductInterestFail:Lu,AddProductInterest:Wd,AddProductInterestSuccess:_s,AddProductInterestFail:wf,ResetAddInterestState:Rf,ResetRemoveInterestState:Jd,ClearProductInterests:Vs,LOAD_REGIONS:Fl,LOAD_REGIONS_SUCCESS:Hs,LOAD_REGIONS_FAIL:Kd,CLEAR_REGIONS:tm,LoadRegions:Pf,LoadRegionsFail:e_,LoadRegionsSuccess:Vc,ClearRegions:kl,LOAD_USER_ADDRESSES:Nl,LOAD_USER_ADDRESSES_FAIL:Ul,LOAD_USER_ADDRESSES_SUCCESS:Bl,ADD_USER_ADDRESS:Qd,ADD_USER_ADDRESS_FAIL:nm,ADD_USER_ADDRESS_SUCCESS:Of,UPDATE_USER_ADDRESS:Lf,UPDATE_USER_ADDRESS_FAIL:t_,UPDATE_USER_ADDRESS_SUCCESS:qd,DELETE_USER_ADDRESS:Ff,DELETE_USER_ADDRESS_FAIL:n_,DELETE_USER_ADDRESS_SUCCESS:r_,LoadUserAddresses:Xd,LoadUserAddressesFail:Fu,LoadUserAddressesSuccess:kf,AddUserAddress:ep,AddUserAddressFail:ey,AddUserAddressSuccess:ty,UpdateUserAddress:Nf,UpdateUserAddressFail:rm,UpdateUserAddressSuccess:om,DeleteUserAddress:o_,DeleteUserAddressFail:im,DeleteUserAddressSuccess:i_,LOAD_USER_CONSENTS:sm,LOAD_USER_CONSENTS_SUCCESS:s_,LOAD_USER_CONSENTS_FAIL:ma,RESET_LOAD_USER_CONSENTS:Gl,GIVE_USER_CONSENT:Uf,GIVE_USER_CONSENT_FAIL:Bf,GIVE_USER_CONSENT_SUCCESS:Wa,RESET_GIVE_USER_CONSENT_PROCESS:Gf,TRANSFER_ANONYMOUS_CONSENT:ku,WITHDRAW_USER_CONSENT:Vf,WITHDRAW_USER_CONSENT_FAIL:va,WITHDRAW_USER_CONSENT_SUCCESS:Hf,RESET_WITHDRAW_USER_CONSENT_PROCESS:$f,LoadUserConsents:Vl,LoadUserConsentsFail:jf,LoadUserConsentsSuccess:Zf,ResetLoadUserConsents:tp,GiveUserConsent:Nu,GiveUserConsentFail:Ja,GiveUserConsentSuccess:np,ResetGiveUserConsentProcess:Hc,TransferAnonymousConsent:rp,WithdrawUserConsent:Hl,WithdrawUserConsentFail:Yf,WithdrawUserConsentSuccess:op,ResetWithdrawUserConsentProcess:$l,LOAD_ACTIVE_COST_CENTERS:jl,LOAD_ACTIVE_COST_CENTERS_FAIL:Zl,LOAD_ACTIVE_COST_CENTERS_SUCCESS:Yl,LoadActiveCostCenters:am,LoadActiveCostCentersFail:cm,LoadActiveCostCentersSuccess:um,CLEAR_USER_MISCS_DATA:Uu,ClearUserMiscsData:lm,REGISTER_USER_SUCCESS:ip,RegisterUserSuccess:class dm extends ao{constructor(){super(Xn,"registerUser"),this.type=ip}}});class Mi{}let pm=(()=>{class t{constructor(o){this.adapter=o}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Mi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cs=(0,h.ZF)("user"),c_=(0,h.P1)(Cs,t=>t.billingCountries),fm=(0,h.P1)(c_,t=>t.entities),sp=(0,h.P1)(fm,t=>Object.keys(t).map(c=>t[c])),Bu=(0,h.P1)(Cs,t=>t.customerCoupons),hm=(0,h.P1)(Bu,t=>Lo(t)),gm=(0,h.P1)(Bu,t=>co(t)),zl=((0,h.P1)(Bu,t=>Lr(t)),(0,h.P1)(Cs,t=>t.countries)),Wf=(0,h.P1)(zl,t=>t.entities),Jf=(0,h.P1)(Wf,t=>Object.keys(t).map(c=>t[c])),cp=(0,h.P1)(Cs,t=>t.notificationPreferences),Kf=(0,h.P1)(cp,t=>Lr(t)),Qf=(0,h.P1)(cp,t=>Lr(t).filter(c=>c.enabled)),u_=(0,h.P1)(cp,t=>co(t)),Ui=(0,h.P1)(Cs,t=>t.payments),up=(0,h.P1)(Ui,t=>Lr(t)),mm=(0,h.P1)(Ui,t=>co(t)),qf=(0,h.P1)(Ui,t=>Lo(t)&&!co(t)),Xf=(0,h.P1)(Cs,t=>t.productInterests),eh=(0,h.P1)(Xf,t=>Lr(t)),vm=(0,h.P1)(Xf,t=>co(t)),Gu=(0,h.P1)(Cs,t=>t.regions),th=((0,h.P1)(Gu,t=>Lr(t).entities),(0,h.P1)(Gu,t=>({loaded:Lo(t),loading:co(t),regions:Lr(t).entities,country:Lr(t).country}))),Vu=((0,h.P1)(Gu,t=>Lr(t).country),(0,h.P1)(Gu,t=>co(t)),(0,h.P1)(Gu,t=>Lo(t)),(0,h.P1)(Cs,t=>t.addresses)),Ka=(0,h.P1)(Vu,t=>Lr(t)),Hu=(0,h.P1)(Vu,t=>co(t)),Qa=(0,h.P1)(Vu,t=>Lo(t)&&!co(t)),Bi=(0,h.P1)(Cs,t=>t.consents),$u=(0,h.P1)(Bi,t=>Lr(t)),rh=(0,h.P1)(Bi,co),Wl=(0,h.P1)(Bi,Lo),ys=(0,h.P1)(Bi,oi),Ss=(0,h.P1)(Cs,t=>t.costCenters);(0,h.P1)(Ss,t=>Lr(t));let Zu=(()=>{class t{constructor(o,u,p){this.store=o,this.authService=u,this.userIdService=p}loadConsents(){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Vl(o))})}getConsents(o=!1){return(0,V.s)(()=>o,this.store.pipe((0,h.Ys)($u),(0,dt.M)(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),(0,it.h)(([u,p,m])=>!p),(0,wt.b)(([u,p,m])=>{(!u||0===u.length)&&(m||this.loadConsents())}),(0,it.h)(([u,p])=>Boolean(u)),(0,Ee.U)(([u,p])=>u)),this.store.pipe((0,h.Ys)($u)))}getConsentsResultLoading(){return this.store.pipe((0,h.Ys)(rh))}getConsentsResultSuccess(){return this.store.pipe((0,h.Ys)(Wl))}getConsentsResultError(){return this.store.pipe((0,h.Ys)(ys))}resetConsentsProcessState(){this.store.dispatch(new tp)}getConsent(o){return this.authService.isUserLoggedIn().pipe((0,it.h)(Boolean),(0,Dt.w)(()=>this.getConsents(!0)),(0,Dt.w)(()=>this.store.pipe((0,h.Ys)((t=>(0,h.P1)($u,c=>c.find(o=>o.id===t)))(o)))),(0,it.h)(Fi),(0,Ee.U)(u=>u.currentConsent))}isConsentGiven(o){return Boolean(o)&&Boolean(o.consentGivenDate)&&!Boolean(o.consentWithdrawnDate)}isConsentWithdrawn(o){return!Boolean(o)||Boolean(o?.consentWithdrawnDate)}giveConsent(o,u){this.userIdService.takeUserId().subscribe(p=>{this.store.dispatch(new Nu({userId:p,consentTemplateId:o,consentTemplateVersion:u}))})}getGiveConsentResultLoading(){return this.store.pipe((0,h.Ys)(Oc(la)))}getGiveConsentResultSuccess(){return this.store.pipe((0,h.Ys)(Za(la)))}getGiveConsentResultError(){return this.store.pipe((0,h.Ys)(Eu(la)))}resetGiveConsentProcessState(){return this.store.dispatch(new Hc)}withdrawConsent(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new Hl({userId:u,consentCode:o}))})}getWithdrawConsentResultLoading(){return this.store.pipe((0,h.Ys)(Oc(Lc)))}getWithdrawConsentResultSuccess(){return this.store.pipe((0,h.Ys)(Za(Lc)))}getWithdrawConsentResultError(){return this.store.pipe((0,h.Ys)(Eu(Lc)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new $l)}filterConsentTemplates(o,u=[]){if(0===u.length)return o;const p=[];for(const m of o)m.id&&!u.includes(m.id)&&p.push(m);return p}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(_i),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ih=[(()=>{class t{constructor(o,u,p,m,S,I,Y){this.actions$=o,this.anonymousConsentTemplatesConnector=u,this.authService=p,this.anonymousConsentsConfig=m,this.anonymousConsentService=S,this.userConsentService=I,this.userIdService=Y,this.checkConsentVersions$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Yi),(0,dt.M)(this.anonymousConsentService.getConsents()),(0,Ut.b)(([ae,Pe])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe((0,Ee.U)(Ne=>{if(!Ne)return(0,e.X6Q)()&&console.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;const ct=Pe.map(gt=>gt.templateVersion),At=Ne.map(gt=>gt.templateVersion);return this.detectUpdatedVersion(ct,At)}),(0,Dt.w)(Ne=>Ne?(0,E.of)(new cd):oe.E),(0,me.K)(Ne=>(0,E.of)(new il(On(Ne)))))))),this.loadAnonymousConsentTemplates$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(se),(0,dt.M)(this.anonymousConsentService.getTemplates()),(0,Ut.b)(([ae,Pe])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe((0,pn.zg)(Ne=>{let ct=!1;return Pe&&0!==Pe.length&&(ct=this.anonymousConsentService.detectUpdatedTemplates(Pe,Ne)),[new mc(Ne),new Rp(ct)]}),(0,me.K)(Ne=>(0,E.of)(new il(On(Ne)))))))),this.transferAnonymousConsentsToUser$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(mi),(0,it.h)(()=>Boolean(this.anonymousConsentsConfig.anonymousConsents)),(0,dt.M)(this.actions$.pipe((0,st.l4)(ip))),(0,it.h)(([,ae])=>Boolean(ae)),(0,Dt.w)(()=>this.anonymousConsentService.getConsents().pipe((0,dt.M)(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),(0,it.h)(([,,,ae])=>ae),(0,Ut.b)(([ae,Pe,Ne,ct])=>{const At=[];for(const gt of ae)if(this.anonymousConsentService.isConsentGiven(gt)&&!this.isRequiredConsent(gt.templateCode))for(const en of Ne)if(en.id===gt.templateCode){At.push(new rp({userId:Pe,consentTemplateId:en.id,consentTemplateVersion:en.version}));break}return At.length>0?At:oe.E}))))),this.giveRequiredConsentsToUser$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(mi),(0,it.h)(ae=>Boolean(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&ae)),(0,Ut.b)(()=>this.userConsentService.getConsentsResultSuccess().pipe((0,dt.M)(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),(0,it.h)(([,,,ae])=>ae),(0,wt.b)(([ae,Pe,Ne,ct])=>{ae||this.userConsentService.loadConsents()}),(0,Ee.U)(([ae,Pe,Ne,ct])=>({userId:Pe,templates:Ne})),(0,Ut.b)(({userId:ae,templates:Pe})=>{const Ne=[];for(const ct of Pe)this.userConsentService.isConsentWithdrawn(ct.currentConsent)&&this.isRequiredConsent(ct.id)&&Ne.push(new Nu({userId:ae,consentTemplateId:ct.id,consentTemplateVersion:ct.version}));return Ne.length>0?Ne:oe.E})))))}isRequiredConsent(o){return Boolean(o&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(o))}detectUpdatedVersion(o,u){if(o.length!==u.length)return!0;for(let p=0;p<u.length;p++)if(o[p]!==u[p])return!0;return!1}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(pm),e.LFG(_i),e.LFG(Sl),e.LFG(Ga),e.LFG(Zu),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()];let _m=(()=>{class t{constructor(){this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(o){const u=o.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!u)return null;const[,,p,m]=u;try{return new RegExp(m,p)}catch(S){return(0,e.X6Q)()&&console.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${o} \nMessage: ${S}`),null}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l_=(()=>{class t{constructor(o,u,p){this.baseSiteService=o,this.javaRegExpConverter=u,this.winRef=p,this.scopes=["context"],this.configFactory=()=>this.resolveConfig().toPromise()}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe((0,Ee.U)(o=>o?.find(u=>this.isCurrentBaseSite(u))),(0,it.h)(o=>{if(!o)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return Boolean(o)}),(0,Ee.U)(o=>this.getConfig(o)),(0,Ue.q)(1))}getConfig(o){return{context:{urlParameters:this.getUrlParams(o.urlEncodingAttributes),[Wi]:[o.uid],[Ua]:this.getIsoCodes(o.baseStore?.languages,o.defaultLanguage||o.baseStore?.defaultLanguage),[Qr]:this.getIsoCodes(o.baseStore?.currencies,o.baseStore?.defaultCurrency),[Up]:[o.theme]}}}isCurrentBaseSite(o){return-1!==(o.urlPatterns||[]).findIndex(p=>{const m=this.javaRegExpConverter.toJsRegExp(p);if(m)return m.test(this.currentUrl)})}getUrlParams(o){return(o||[]).map(p=>"storefront"===p?Wi:p)}getIsoCodes(o,u){if(o&&u)return this.moveToFirst(o,m=>m.isocode===u.isocode).map(m=>m.isocode)}moveToFirst(o,u){const p=(o=[...o]).findIndex(u);if(-1!==p){const[m]=o.splice(p,1);o.unshift(m)}return o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ns),e.LFG(_m),e.LFG(ka))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Cm{}let $s=(()=>{class t{constructor(o){this.adapter=o}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(o){return this.adapter.loadCountries(o)}getRegions(o){return this.adapter.loadRegions(o)}getBaseSite(o){return this.adapter.loadBaseSite(o)}getBaseSites(){return this.adapter.loadBaseSites()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Cm))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d_=new e.OlP("LanguageNormalizer"),iy=new e.OlP("CurrencyNormalizer"),ym=new e.OlP("CountryNormalizer"),sy=new e.OlP("RegionNormalizer"),Sm=new e.OlP("BaseSiteNormalizer");let sh=(()=>{class t extends yi{}return t.type="LanguageSetEvent",t})(),ah=(()=>{class t extends yi{}return t.type="CurrencySetEvent",t})(),ch=(()=>{class t{constructor(o,u){this.actionsSubject=o,this.eventService=u,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){const o=this.actionsSubject.pipe((0,st.l4)(mu),(0,Ee.U)(u=>Bs(sh,{activeLanguage:u.payload})));this.eventService.register(sh,o)}registerSetCurrency(){const o=this.actionsSubject.pipe((0,st.l4)(vd),(0,Ee.U)(u=>Bs(ah,{activeCurrency:u.payload})));this.eventService.register(ah,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.UO),e.LFG(sa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uh=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ch))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})(),Yu=(()=>{class t{constructor(o,u){this.store=o,this.config=u}getAll(){return this.store.pipe((0,h.Ys)(yd),(0,wt.b)(o=>{o||this.store.dispatch(new _d)}),(0,it.h)(hu))}getActive(){return this.store.pipe((0,h.Ys)(Ji),(0,it.h)(hu))}setActive(o){this.store.pipe((0,h.Ys)(Ji),(0,Ue.q)(1)).subscribe(u=>{u!==o&&this.isValid(o)&&this.store.dispatch(new Uv(o))})}isInitialized(){let o=!1;return this.getActive().subscribe(()=>o=!0).unsubscribe(),o}isValid(o){return!!o&&gu(this.config,Qr).includes(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Es=(()=>{class t{constructor(o,u){this.store=o,this.config=u}getAll(){return this.store.pipe((0,h.Ys)(hl),(0,wt.b)(o=>{o||this.store.dispatch(new mg)}),(0,it.h)(hu))}getActive(){return this.store.pipe((0,h.Ys)(_u),(0,it.h)(hu))}setActive(o){this.store.pipe((0,h.Ys)(_u),(0,Ue.q)(1)).subscribe(u=>{u!==o&&this.isValid(o)&&this.store.dispatch(new _g(o))})}isInitialized(){let o=!1;return this.getActive().subscribe(()=>o=!0).unsubscribe(),o}isValid(o){return!!o&&gu(this.config,Ua).includes(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();class lh{}const f_={provide:lh,useFactory:function p_(){return{[Ua]:Es,[Qr]:Yu,[Wi]:Ns}}};let h_=(()=>{class t{constructor(o,u){this.baseSiteService=o,this.configInit=u}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,Dt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,wt.b)(o=>this.setDefaultFromConfig(o)))}setDefaultFromConfig(o){const u=Na(o,Wi);!this.baseSiteService.isInitialized()&&u&&this.baseSiteService.setActive(u)}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ns),e.LFG(po))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g_=(()=>{class t{constructor(o,u,p){this.statePersistenceService=o,this.currencyService=u,this.config=p,this.initialized$=new P.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Qr,state$:this.currencyService.getActive(),onRead:o=>this.onRead(o)}),this.initialized$}onRead(o){!this.currencyService.isInitialized()&&o&&this.currencyService.setActive(o),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(wc),e.LFG(Yu),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m_(t,c){return()=>t.initialize(c)}function dp(t){return t.getStable().toPromise()}let $c=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:Xp,useValue:!0},{provide:e.ip1,multi:!0,useFactory:m_,deps:[po,[new e.FiY,vl]]},{provide:Lt.V_,useFactory:dp,deps:[po]}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();function ay(t,c){return()=>{(0,e.X6Q)()&&t.getStable().subscribe(u=>function Hv(t,c){for(const o of c){const u=o(t);u&&console.warn(u)}}(u,c||[]))}}let Jl=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:e.ip1,multi:!0,useFactory:ay,deps:[po,[new e.FiY,Og]]}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();function Em(t){return"object"==typeof t&&!!t.features}function Am(t,c){if("*"===t)return!0;const o=t.split("."),u=c.split(".");for(let p=0;p<u.length;p++){const m=Number(u[p]),S=Number(o[p])||0;if(m!==S)return S>m}return!0}function pp(t,c){return!(!Em(t)||!t.features.level)&&(c.startsWith("!")?!Am(t.features.level,c.substr(1,c.length)):Am(t.features.level,c))}function Dm(t,c){if(Em(t)){const o="!"===c[0]?t.features[c.substr(1,c.length)]:t.features[c],u="string"==typeof o?pp(t,o):o;return c.startsWith("!")?!u:!!u}return!1}let js=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),jc=(()=>{class t{constructor(o){this.config=o}isLevel(o){return pp(this.config,o)}isEnabled(o){return Dm(this.config,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(js))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ii=(()=>{class t{constructor(o,u,p){this.templateRef=o,this.viewContainer=u,this.featureConfig=p,this.hasView=!1}set cxFeatureLevel(o){this.featureConfig.isLevel(o.toString())&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isLevel(o.toString())&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(jc))},t.\u0275dir=e.lG2({type:t,selectors:[["","cxFeatureLevel",""]],inputs:{cxFeatureLevel:"cxFeatureLevel"}}),t})(),zu=(()=>{class t{constructor(o,u,p){this.templateRef=o,this.viewContainer=u,this.featureConfig=p,this.hasView=!1}set cxFeature(o){this.featureConfig.isEnabled(o)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(o)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(jc))},t.\u0275dir=e.lG2({type:t,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}}),t})(),Kl=(()=>{class t{static forRoot(o="3.0"){return{ngModule:t,providers:[Zo({features:{level:o||"*"}})]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const Si={};class dh{constructor(c,o){this.mainInjector=c,this.complementaryInjectors=o}get(c,o,u){if(u&&u&e.XFs.Self){if(void 0!==o)return o;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(const p of this.complementaryInjectors){const m=p.get(c,Si,e.XFs.Self);if(m!==Si)return m}for(const p of this.complementaryInjectors){const m=p.get(c,Si);if(m!==Si)return m}return this.mainInjector.get(c,o)}}let qa=(()=>{class t extends yi{}return t.type="ModuleInitializedEvent",t})();const Xa=new e.OlP("MODULE_INITIALIZER");let ec=(()=>{class t{constructor(o,u,p){this.compiler=o,this.injector=u,this.events=p,this.modules$=this.events.get(qa).pipe((0,Ee.U)(m=>m.moduleRef),qt()),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(o,u,p=[]){let m;return m=p.length?1===p.length?p[0].injector:new dh(this.injector,p.map(S=>S.injector)):this.injector,this.resolveModuleFactory(o).pipe((0,Ee.U)(([S])=>S.create(m)),(0,Ut.b)(S=>this.runModuleInitializersForModule(S)),(0,wt.b)(S=>this.events.dispatch(Bs(qa,{feature:u,moduleRef:S}))))}resolveDependencyModuleInstance(o){return this.resolveModuleFactory(o).pipe((0,Ee.U)(([u,p])=>{if(!this.dependencyModules.has(p)){const m=u.create(this.injector);this.dependencyModules.set(p,m)}return this.dependencyModules.get(p)}),(0,Ut.b)(u=>this.runModuleInitializersForModule(u)),(0,wt.b)(u=>this.events.dispatch(Bs(qa,{moduleRef:u}))))}runModuleInitializersForModule(o){const u=o.injector.get(Xa,[],e.XFs.Self),p=this.runModuleInitializerFunctions(u);return p.length?(0,Ye.D)(Promise.all(p)).pipe((0,me.K)(m=>(console.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",m),(0,G._)(m))),(0,Pt.c)((0,E.of)(o))):(0,E.of)(o)}runModuleInitializerFunctions(o){const u=[];try{if(o)for(let p=0;p<o.length;p++){const m=o[p]();this.isObjectPromise(m)&&u.push(m)}return u}catch(p){throw console.error("MODULE_INITIALIZER init function throwed an error. ",p),p}}isObjectPromise(o){return!!o&&"function"==typeof o.then}resolveModuleFactory(o){return(0,Ye.D)(o()).pipe((0,Dt.w)(u=>u instanceof e.YKP?(0,E.of)([u,u]):(0,j.aj)([(0,Ye.D)(this.compiler.compileModuleAsync(u)),(0,E.of)(u)])),(0,Qt.QV)(H.N))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(o=>o.destroy())}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(e.Sil),e.LFG(e.zs3),e.LFG(sa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Zc={};let As=(()=>{class t{constructor(o,u){this.rootInjector=o,this.lazyModules=u,this.injectors$=this.lazyModules.modules$.pipe((0,Ee.U)(p=>p.injector),(0,Ft.O)(this.rootInjector))}get(o,u){return this.injectors$.pipe((0,Ee.U)((p,m)=>p.get(o,u??Zc,m?e.XFs.Self:void 0)),(0,it.h)(p=>p!==Zc))}getMulti(o){return this.get(o,[]).pipe((0,it.h)(u=>{if(!Array.isArray(u))throw new Error(`Multi-providers mixed with single providers for ${o.toString()}!`);return u.length>0}),(0,mn.R)((u,p)=>[...u,...p],[]))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(e.zs3),e.LFG(ec))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ts=(()=>{class t{constructor(o,u,p,m){this.rootConfig=o,this.defaultConfig=u,this.unifiedInjector=p,this.ambientDefaultConfig={},this.ambientConfig={},this.config=m,this.unifiedConfig$=new R.X(m),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){return de(this.unifiedInjector.get(wi,[]),this.unifiedInjector.get(Ai,[])).pipe((0,En.T)(1),(0,wt.b)(([p,m])=>this.processConfig(p,m)))}processConfig(o,u){u?.length&&io(this.ambientDefaultConfig,...u),o.length&&io(this.ambientConfig,...o),(o.length||u.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){const o=io({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(o),Dm(this.config,"disableConfigUpdates")||io(this.config,o)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ms),e.LFG(Ks),e.LFG(As),e.LFG(Co))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ns=(()=>{class t{constructor(o){}static withConfig(o){return{ngModule:t,providers:[os(o)]}}static withConfigFactory(o,u){return{ngModule:t,providers:[Qs(o,u)]}}static forRoot(o={}){return{ngModule:t,providers:[os(o)]}}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ts))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();new e.OlP("TEST_CONFIG_COOKIE_NAME");let ph=(()=>{class t{constructor(o,u,p){this.currencyService=o,this.currencyStatePersistenceService=u,this.configInit=p}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,Dt.w)(()=>this.currencyStatePersistenceService.initSync()),(0,Dt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,wt.b)(o=>this.setDefaultFromConfig(o)))}setDefaultFromConfig(o){const u=Na(o,Qr);!this.currencyService.isInitialized()&&u&&this.currencyService.setActive(u)}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Yu),e.LFG(g_),e.LFG(po))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fh=(()=>{class t{constructor(o,u,p){this.statePersistenceService=o,this.languageService=u,this.config=p,this.initialized$=new P.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Ua,state$:this.languageService.getActive(),onRead:o=>this.onRead(o)}),this.initialized$}onRead(o){!this.languageService.isInitialized()&&o&&this.languageService.setActive(o),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(wc),e.LFG(Es),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hh=(()=>{class t{constructor(o,u,p){this.languageService=o,this.languageStatePersistenceService=u,this.configInit=p}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,Dt.w)(()=>this.languageStatePersistenceService.initSync()),(0,Dt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,wt.b)(o=>this.setDefaultFromConfig(o)))}setDefaultFromConfig(o){const u=Na(o,Ua);!this.languageService.isInitialized()&&u&&this.languageService.setActive(u)}ngOnDestroy(){this.subscription?.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Es),e.LFG(fh),e.LFG(po))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ql=(()=>{class t{constructor(o,u,p){this.config=o,this.injector=u,this.serviceMap=p}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(o=>"urlParameters"!==o):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(o){return gu(this.config,o)}getParamDefaultValue(o){return Na(this.config,o)}getSiteContextService(o){if(this.serviceMap[o])try{return this.injector.get(this.serviceMap[o])}catch{return void((0,e.X6Q)()&&console.warn(`Couldn't find site context service for '${o}'.`))}}getValue(o){let u;const p=this.getSiteContextService(o);return p&&p.getActive().subscribe(m=>u=m).unsubscribe(),void 0!==u?u:this.getParamDefaultValue(o)}setValue(o,u){const p=this.getSiteContextService(o);p&&p.setActive(u)}getValues(o){return 0===o.length?(0,E.of)([]):(0,j.aj)(o.map(u=>{const p=this.getSiteContextService(u);return p?p.getActive().pipe((0,Ct.x)()):(0,E.of)("")})).pipe((0,it.h)(u=>u.every(p=>!!p)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Fs),e.LFG(e.zs3),e.LFG(lh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),fp=(()=>{class t extends un.sz{constructor(o){super(),this.siteContextParams=o,this.URL_SPLIT=/(^[^#?]*)(.*)/}get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}parse(o){if(this.hasContextInRoutes){const u=this.urlExtractContextParameters(o),p=super.parse(u.url);return this.urlTreeIncludeContextParameters(p,u.params),p}return super.parse(o)}urlExtractContextParameters(o){const[,u,p]=o.match(this.URL_SPLIT)??[,"",""],m=u?.split("/")??[];""===m[0]&&m.shift();const S={};let I=0,Y=0;for(;I<this.urlEncodingParameters.length&&Y<m.length;){const ae=this.urlEncodingParameters[I];this.siteContextParams.getParamValues(ae).includes(m[Y])&&(S[ae]=m[Y],Y++),I++}return{url:o=m.slice(Y).join("/")+p,params:S}}urlTreeIncludeContextParameters(o,u){o.siteContext=u}serialize(o){const u=this.urlTreeExtractContextParameters(o),p=super.serialize(o);return this.urlIncludeContextParameters(p,u)}urlTreeExtractContextParameters(o){return o.siteContext?o.siteContext:{}}urlIncludeContextParameters(o,u){return this.urlEncodingParameters.map(m=>u[m]?u[m]:this.siteContextParams.getValue(m)).join("/")+o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ql))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function Tm(t){if(void 0===Na(t,Wi))return"Please configure context.parameters.baseSite before using storefront library!"}function C_(){return{context:{[Ua]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Qr]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}const E_=[{provide:e.ip1,useFactory:function S_(t){return()=>{t.initialize()}},deps:[hh],multi:!0},{provide:e.ip1,useFactory:function y_(t){return()=>{t.initialize()}},deps:[ph],multi:!0},{provide:e.ip1,useFactory:function cy(t){return()=>{t.initialize()}},deps:[h_],multi:!0}];let xm=(()=>{class t{constructor(o,u,p){this.siteContextParams=o,this.serializer=u,this.injector=p,this.subscription=new z.w,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(un.F0),this.location=this.injector.get(Lt.Ye);const o=this.siteContextParams.getUrlEncodingParameters();o.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(o),this.subscribeRouting())}subscribeChanges(o){o.forEach(u=>{const p=this.siteContextParams.getSiteContextService(u);p&&this.subscription.add(p.getActive().subscribe(m=>{if(!this.isNavigating&&this.contextValues[u]&&this.contextValues[u]!==m){const S=this.router.parseUrl(this.router.url),I=this.router.serializeUrl(S);this.location.replaceState(I)}this.contextValues[u]=m}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe((0,it.h)(o=>o instanceof un.OD||o instanceof un.m2||o instanceof un.Q3||o instanceof un.gk)).subscribe(o=>{this.isNavigating=o instanceof un.OD,this.isNavigating&&this.setContextParamsFromRoute(o.url)}))}setContextParamsFromRoute(o){const{params:u}=this.serializer.urlExtractContextParameters(o);Object.keys(u).forEach(p=>this.siteContextParams.setValue(p,u[p]))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ql),e.LFG(fp),e.LFG(e.zs3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gh=[Ns,Es,Yu,{provide:e.ip1,useFactory:function Mm(t,c){return()=>t.getStable("context").pipe((0,wt.b)(()=>{c.init()})).toPromise()},deps:[po,xm],multi:!0}],hp=[ql,fp,{provide:un.Hx,useExisting:fp}],d=[(()=>{class t{constructor(o,u,p){this.actions$=o,this.siteConnector=u,this.state=p,this.loadLanguages$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(pl),(0,vt.z)(()=>this.siteConnector.getLanguages().pipe((0,Ee.U)(m=>new jp(m)),(0,me.K)(m=>(0,E.of)(new vg(On(m)))))))),this.activateLanguage$=(0,st.GW)(()=>this.state.select(_u).pipe(Ce(2,1),(0,it.h)(([m])=>!!m),(0,Ee.U)(([m,S])=>new Cg({previous:m,current:S}))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s),e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u,p){this.actions$=o,this.siteConnector=u,this.state=p,this.loadCurrencies$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(md),(0,vt.z)(()=>this.siteConnector.getCurrencies().pipe((0,Ee.U)(m=>new Vp(m)),(0,me.K)(m=>(0,E.of)(new Cd(On(m)))))))),this.activateCurrency$=(0,st.GW)(()=>this.state.select(Ji).pipe(Ce(2,1),(0,it.h)(([m])=>!!m),(0,Ee.U)(([m,S])=>new bc({previous:m,current:S}))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s),e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.siteConnector=u,this.loadBaseSite$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(ll),(0,vt.z)(()=>this.siteConnector.getBaseSite().pipe((0,Ee.U)(p=>{if(p)return new Gp(p);throw new Error("BaseSite is not found")}),(0,me.K)(p=>(0,E.of)(new pg(On(p)))))))),this.loadBaseSites$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(pd),(0,vt.z)(()=>this.siteConnector.getBaseSites().pipe((0,Ee.U)(p=>new hd(p)),(0,me.K)(p=>(0,E.of)(new hg(On(p))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],C={entities:null,details:{},activeSite:""};function b(t=C,c){switch(c.type){case Ac:return{...t,details:c.payload};case fd:{let o={};return t.entities&&(o=t.entities[c.payload]),{...t,details:o,activeSite:c.payload}}case Bp:{const u=c.payload.reduce((m,S)=>({...m,[S.uid??""]:S}),{...t.entities}),p=u[t.activeSite];return{...t,details:p,entities:u}}}return t}const re={entities:null,activeCurrency:null};function et(t=re,c){switch(c.type){case Dc:{const u=c.payload.reduce((p,m)=>({...p,[m.isocode??""]:m}),{...t.entities});return{...t,entities:u}}case vd:{const o=c.payload;return{...t,activeCurrency:o}}}return t}const Bt={entities:null,activeLanguage:null};function an(t=Bt,c){switch(c.type){case $p:{const u=c.payload.reduce((p,m)=>({...p,[m.isocode??""]:m}),{...t.entities});return{...t,entities:u}}case mu:{const o=c.payload;return{...t,activeLanguage:o}}}return t}const si=new e.OlP("SiteContextReducers"),Xl={provide:si,useFactory:function Zn(){return{languages:an,currencies:et,baseSite:b}}};function Wu(){return{state:{ssrTransfer:{keys:{[fl]:Mc.TRANSFER_STATE}}}}}let tc=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Is(Wu),Xl],imports:[Lt.ez,h.Aw.forFeature(fl,si),st.sQ.forFeature(d)]}),t})();function zc(t,c){return c.context&&c.context[Wi]?null:t}let Ju=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Is(C_),f_,...gh,...hp,Id(Tm),{provide:vl,useFactory:zc,deps:[l_,Fs],multi:!0},...E_]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[oa,tc,uh]}),t})();function wm(t=!1,c){return c.type===bo?c.dismissed:t}function A_(t=!1,c){return c.type===Os?c.updated:t}const Pm=[];function Om(t,c,o){return t?t.map(u=>(u.templateCode===c&&(u={...u,consentState:o}),u)):[]}function D_(t=Pm,c){switch(c.type){case Wo:return Om(t,c.templateCode,xt.GIVEN);case gi:return Om(t,c.templateCode,xt.WITHDRAWN);case Ur:return c.payload}return t}const b_=new e.OlP("AnonymousConsentsReducers"),ly={provide:b_,useFactory:function uy(){return{templates:Wr(k),consents:D_,ui:(0,h.UY)({bannerDismissed:wm,updated:A_})}}},py=[function dy(t){return function(c,o){return void 0!==c&&(o.type===Li||o.type===ds)&&(c={...c,templates:{}}),t(c,o)}}];let fy=(()=>{class t{constructor(o,u,p){this.statePersistenceService=o,this.store=u,this.anonymousConsentsService=p,this.subscription=new z.w,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:o=>this.onRead(o)}))}getAuthState(){return this.store.select(_c)}onRead(o){const u=o?.templates,p=o?.consents,m=o?.ui;u?.success&&this.store.dispatch(new mc(u.value??[])),p&&this.anonymousConsentsService.setConsents(p),m&&(this.anonymousConsentsService.toggleBannerDismissed(m?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(m?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(wc),e.LFG(h.yh),e.LFG(Ga))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mD(t){return()=>t.initSync()}let XE=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[ly,{provide:e.ip1,useFactory:mD,deps:[fy],multi:!0}],imports:[Lt.ez,oa,h.Aw.forFeature(U,b_,{metaReducers:py}),st.sQ.forFeature(ih)]}),t})(),e0=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...lf,Ga,Zo(nu)]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[XE]}),t})();const T_=new e.OlP("AnonymousConsentNormalizer"),t0=new e.OlP("PointOfServiceNormalizer"),Uo=new e.OlP("PaymentDetailsNormalizer"),hy={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},Lm="[Cms] Navigation Entity",gp="[Cms] Component Entity",Fm="[Cms] Load Component",mh="[Cms] Load Component Fail",vh="[Cms] Load Component Success",Wc="[Cms] Get Component from Page";class M_ extends Po{constructor(c){super(gp,c.uid),this.payload=c,this.type=Fm}}class I_ extends Or{constructor(c){super(gp,c.uid,c.error),this.payload=c,this.type=mh}}class w_ extends ao{constructor(c){super(gp,c.uid||c.component.uid||""),this.payload=c,this.type=vh}}class gy extends ao{constructor(c){super(gp,[].concat(c).map(o=>o.component.uid)),this.payload=c,this.type=Wc}}const km="[Cms] Load NavigationEntry items",_h="[Cms] Load NavigationEntry items Success";class Nm extends Po{constructor(c){super(Lm,c.nodeId),this.payload=c,this.type=km}}class Ds extends Or{constructor(c,o){super(Lm,c,o),this.payload=o,this.type="[Cms] Load NavigationEntry items Fail"}}class my extends ao{constructor(c){super(Lm,c.nodeId),this.payload=c,this.type=_h}}const Um="[Cms] Load Page Data",Zs="[Cms] Load Page Data Fail",rs="[Cms] Load Page Data Success",bs="[Cms] Set Page Success Index",Bm="[Cms] Set Page Fail Index";class mp extends Po{constructor(c){super(c.type??"",c.id),this.payload=c,this.type=Um}}class vy extends Or{constructor(c,o){super(c.type??"",c.id,o),this.type=Zs}}class _y extends ao{constructor(c,o){super(c.type??"",c.id,o),this.type=rs}}class Cy extends ao{constructor(c,o){super(c.type??"",c.id,o),this.type=bs}}class yy extends Or{constructor(c,o){super(c.type??"",c.id),this.payload=o,this.type=Bm}}const Ku=(0,h.ZF)("cms"),Ey=(0,h.P1)(Ku,t=>t.components),Gm=t=>(0,h.P1)(Ey,c=>Zr(c,t)),R_=(t,c)=>(0,h.P1)(Gm(t),o=>o&&o.pageContext&&o.pageContext[c]||Pi),Ch=(t,c)=>(0,h.P1)((t=>(0,h.P1)(Gm(t),c=>c?c.component:void 0))(t),((t,c)=>(0,h.P1)(R_(t,c),o=>Lr(o)))(t,c),(o,u)=>{switch(u){case!0:return o;case!1:return null;case void 0:return}}),Ay=(0,h.P1)(Ku,t=>t.navigation),F_=t=>(0,h.P1)((t=>(0,h.P1)(Ay,c=>Fo(c,t)))(t),c=>Lr(c)),yh=(0,h.P1)(Ku,t=>t.page),U_=(0,h.P1)(yh,t=>t.index),Hm=t=>(0,h.P1)((t=>(0,h.P1)(U_,c=>((t,c)=>{switch(c){case W.CONTENT_PAGE:return t.content;case W.PRODUCT_PAGE:return t.product;case W.CATEGORY_PAGE:return t.category;case W.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}})(c,t.type)))(t),c=>Fo(c,t.id)),$m=t=>(0,h.P1)(Hm(t),c=>Lr(c)),G_=(0,h.P1)(yh,t=>t.pageData.entities),vp=t=>(0,h.P1)(G_,$m(t),(c,o)=>c[o]);function Jc(t,c){return t?c&&t.type===W.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:"current"}let Sh=(()=>{class t{constructor(o,u){this.store=o,this.routingService=u,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe((0,Dt.w)(o=>this.store.select(vp(o))))}getComponentData(o,u){const p=Jc(u,!0);this.components[o]||(this.components[o]={});const m=this.components[o];return m[p]||(m[p]=this.createComponentData(o,u)),m[p]}createComponentData(o,u){if(!u)return this.routingService.getPageContext().pipe((0,it.h)(I=>!!I),(0,Dt.w)(I=>this.getComponentData(o,I)));const p=Jc(u,!0),m=(0,j.aj)([this.routingService.getNextPageContext(),this.store.pipe((0,h.Ys)(R_(o,p)))]).pipe((0,Qt.QV)(H.N),(0,wt.b)(([I,Y])=>{const ae=Y.loading||Y.success||Y.error,Pe=!!I&&Jc(I,!0)===p;!ae&&!Pe&&this.store.dispatch(new M_({uid:o,pageContext:u}))})),S=this.store.pipe((0,h.Ys)(Ch(o,p)),(0,it.h)(Fi));return(0,ue.g)(()=>m.subscribe(),()=>S).pipe((0,Zt.d)({bufferSize:1,refCount:!0}))}getContentSlot(o){return this.routingService.getPageContext().pipe((0,Dt.w)(u=>this.store.pipe((0,h.Ys)(((t,c)=>(0,h.P1)(vp(t),o=>{if(o)return o.slots?.[c]||{components:[]}}))(u,o)),(0,it.h)(Fi))))}getNavigationEntryItems(o){return this.store.pipe((0,h.Ys)(F_(o)))}loadNavigationItems(o,u){this.store.dispatch(new Nm({nodeId:o,items:u}))}refreshLatestPage(){this.routingService.getPageContext().pipe((0,Ue.q)(1)).subscribe(o=>this.store.dispatch(new mp(o)))}refreshPageById(o){this.store.dispatch(new mp({id:o}))}refreshComponent(o,u){this.store.dispatch(new M_({uid:o,pageContext:u}))}getPageState(o){return this.store.pipe((0,h.Ys)(vp(o)))}getPageComponentTypes(o){return this.store.pipe((0,h.Ys)((t=>(0,h.P1)(vp(t),c=>(t=>{const c=new Set;if(t&&t.slots)for(const o of Object.keys(t.slots))for(const u of t.slots[o].components||[])c.add(u.flexType??"");return Array.from(c)})(c)))(o)))}hasPage(o,u=!1){return this.store.pipe((0,h.Ys)(Hm(o)),(0,wt.b)(p=>{(!(p.loading||p.success||p.error)||u&&!p.loading)&&(this.store.dispatch(new mp(o)),u=!1)}),(0,it.h)(p=>!!p.hasOwnProperty("value")&&Boolean(p.success||p.error&&!p.loading)),(0,ft.j)("success"),(0,Ee.U)(p=>!!p),(0,me.K)(()=>(0,E.of)(!1)))}getPage(o,u=!1){return this.hasPage(o,u).pipe((0,Dt.w)(p=>p?this.getPageState(o):(0,E.of)(null)))}getPageIndex(o){return this.store.pipe((0,h.Ys)($m(o)))}setPageFailIndex(o,u){this.store.dispatch(new yy(o,u))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(na))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const o0={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}};class Ys{getScore(c){let o=0;return this.pageType&&(o+=c.type===this.pageType?1:-1),this.pageTemplate&&(o+=c.template===this.pageTemplate?1:-1),this.pageUid&&(o+=c.pageId===this.pageUid?10:-10),o}hasMatch(c){return this.getScore(c)>0}getPriority(c){return this.getScore(c)}}class Kc{}let Dy=(()=>{class t{constructor(o){this.translation=o}resolveBreadcrumbs({url:o,pageMetaConfig:u}){const p=u?.breadcrumb;return p?"string"!=typeof p&&p.raw?(0,E.of)([{link:o,label:p.raw}]):this.translateBreadcrumbLabel(p).pipe((0,Ee.U)(m=>[{label:m,link:o}])):(0,E.of)([])}translateBreadcrumbLabel(o){const u="string"==typeof o?o:o.i18n;return this.getParams().pipe((0,Dt.w)(p=>this.translation.translate(u??"",p??{})))}getParams(){return(0,E.of)({})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Kc))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s0=(()=>{class t{constructor(o,u){this.activatedRoutesService=o,this.injector=u,this.routes$=this.activatedRoutesService.routes$.pipe((0,Ee.U)(p=>p.slice(1,p.length))),this.routesWithExtras$=this.routes$.pipe((0,Ee.U)(p=>p.reduce((m,S)=>{const I=m.length?m[m.length-1]:{route:null,resolver:this.injector.get(Dy),url:""},Y=this.getResolver(S)??I.resolver,ae=this.getUrlPart(S);return m.concat({route:S,resolver:Y,url:I.url+(ae?`/${ae}`:"")})},[])),(0,Zt.d)({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(o){return this.routesWithExtras$.pipe((0,Ee.U)(u=>o?.includeCurrentRoute?u:this.trimCurrentRoute(u)),(0,Dt.w)(u=>u.length?(0,j.aj)(u.map(p=>this.resolveRouteBreadcrumb(p))):(0,E.of)([])),(0,Ee.U)(u=>u.flat()))}getResolver(o){const u=this.getPageMetaConfig(o);return"string"!=typeof u&&u?.resolver?this.injector.get(u.resolver,null):null}resolveRouteBreadcrumb({route:o,resolver:u,url:p}){return"function"==typeof u.resolveBreadcrumbs?u.resolveBreadcrumbs({route:o,url:p,pageMetaConfig:this.getPageMetaConfig(o)}):(0,E.of)([])}trimCurrentRoute(o){let u=o.length-1;for(;0===o[u]?.route?.url.length&&u>=0;)u--;return o.slice(0,u)}getUrlPart(o){return o.url.map(u=>u.path).join("/")}getPageMetaConfig(o){return o?.routeConfig?.data?.cxPageMeta}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Fp),e.LFG(e.zs3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),by=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),Ty=(()=>{class t{constructor(o,u){this.pageMetaConfig=o,this.winRef=u}getCanonicalUrl(o,u){const p={...this.pageMetaConfig?.pageMeta?.canonicalUrl,...o};return this.buildCanonicalUrl(u??this.winRef.location.href??"",p)}buildCanonicalUrl(o,u){return u.forceHttps&&(o=o.replace(/^http(?!s):/i,"https:")),u.forceWww&&(o=o.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),u.removeQueryParams&&(o=this.removeQueryParams(o,u)),u.forceTrailingSlash&&(o=o.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),o}removeQueryParams(o,u){const p=o.indexOf("?");if(p>-1){const m=o.substr(0,p),S=new URLSearchParams(o.substr(p));o=m,Array.isArray(u.removeQueryParams)&&(u.removeQueryParams.forEach(I=>{S.delete(I)}),S.toString().length>0&&(o=`${m}?${S.toString()}`))}return o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(by),e.LFG(ka))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Eh=(()=>{class t{constructor(o,u,p,m,S){this.cmsService=o,this.translation=u,this.routingPageMetaResolver=p,this.router=m,this.pageLinkService=S,this.page$=(0,De.P)(()=>this.cmsService.getCurrentPage()).pipe((0,it.h)(I=>Boolean(I))),this.title$=this.page$.pipe((0,Ee.U)(I=>I.title)),this.description$=this.page$.pipe((0,Ee.U)(I=>I.description)),this.robots$=this.page$.pipe((0,Ee.U)(I=>I.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe((0,Ee.U)(I=>[{label:I,link:"/"}])),this.breadcrumb$=(0,j.aj)([this.homeBreadcrumb$,(0,De.P)(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe((0,Ee.U)(I=>I.flat()),(0,Zt.d)({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(o){return this.router.events.pipe((0,it.h)(u=>u instanceof un.m2),(0,Ft.O)(null),(0,Ee.U)(()=>this.pageLinkService.getCanonicalUrl(o)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Sh),e.LFG(Kc),e.LFG(s0),e.LFG(un.F0),e.LFG(Ty))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xy=(()=>{class t extends Ys{constructor(o){super(),this.basePageMetaResolver=o,this.pageType=W.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Eh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),My=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Zo(o0)]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:Ys,useExisting:xy,multi:!0}]}),t})();function Iy(t=0,c){return o=>{let u=[];return o.pipe((0,wt.b)(p=>u.push(p)),(0,Ot.b)(t,c),(0,Ee.U)(()=>u),(0,wt.b)(()=>u=[]))}}function jm(t){return c=>t.pipe((0,Ft.O)(void 0),(0,Pt.c)(c))}var Ah=(()=>{return(t=Ah||(Ah={})).DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",Ah;var t})();let Dh=(()=>{class t extends ks{}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),Py=(()=>{class t extends Dh{}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),$_=(()=>{class t{constructor(o){this.cmsDataConfig=o}mergePageStructure(o,u){return this.mergePage(o,u).pipe((0,Dt.w)(p=>this.mergeSlots(p)))}shouldIgnoreBackend(o){return this.getPageFromConfig(o).pipe((0,Ee.U)(u=>!!u&&!!u.ignoreBackend))}getComponentFromConfig(o){return(0,E.of)(this.getComponentById(o))}getComponentsFromConfig(o){return(0,E.of)(o.map(u=>this.getComponentById(u)))}getPageFromConfig(o){return(0,E.of)(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(u=>u.pageId===o):void 0)}mergePage(o,u){return this.getPageFromConfig(o).pipe((0,Dt.w)(p=>p?(u.page||(u.page={...p},u.page.slots={}),u.page.slots||(u.page.slots={}),this.mergeSlots(u,p.slots)):(0,E.of)(u)))}mergeSlots(o,u){if(!u&&this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.slots&&(u=this.cmsDataConfig.cmsStructure.slots),!u)return(0,E.of)(o);for(const p of Object.keys(u))if(o.page?.slots&&!Object.keys(o.page.slots).includes(p)){o.page.slots[p]={};for(const m of this.getComponentsByPosition(u,p))o.page.slots[p].components||(o.page.slots[p].components=[]),o.page.slots[p].components?.push({uid:m.uid,flexType:m.flexType,typeCode:m.typeCode}),o.components||(o.components=[]),o.components.push(m)}return(0,E.of)(o)}getComponentsByPosition(o,u){const p=[];if(o[u]&&o[u].componentIds)for(const m of o[u].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){const S=this.cmsDataConfig.cmsStructure.components[m];S&&p.push({uid:m,...S})}return p}getComponentById(o){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[o]:void 0}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Py))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class j_{}let Z_=(()=>{class t{constructor(o,u,p){this.cmsStructureConfigService=o,this.cmsComponentAdapter=u,this.config=p}get(o,u){return this.cmsStructureConfigService.getComponentFromConfig(o).pipe((0,Dt.w)(p=>p?(0,E.of)(p):this.cmsComponentAdapter.load(o,u)))}getList(o,u){return this.cmsStructureConfigService.getComponentsFromConfig(o).pipe((0,Dt.w)(p=>{const m=p.reduce((S,I,Y)=>(void 0===I&&S.push(o[Y]),S),[]);if(m.length>0){const S=this.config.componentsLoading?.pageSize||m.length,I=Math.ceil(m.length/S),Y=[];let ae=0;for(;ae<I;)Y.push(this.cmsComponentAdapter.findComponentsByIds(m.slice(ae*S,(ae+1)*S),u)),ae++;return de(...Y).pipe((0,Ee.U)(Pe=>[...p.filter(Boolean)].concat(...Pe)))}return(0,E.of)(p)}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG($_),e.LFG(j_),e.LFG(Dh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Oy=(()=>{class t{constructor(o,u){this.actions$=o,this.cmsComponentConnector=u,this.contextChange$=this.actions$.pipe((0,st.l4)(ds,Li,mi)),this.loadComponent$=(0,st.GW)(()=>({scheduler:p,debounce:m=0}={})=>this.actions$.pipe((0,st.l4)(Fm),(0,nn.v)(S=>Jc(S.payload.pageContext)),(0,pn.zg)(S=>S.pipe(Iy(m,p),(0,pn.zg)(I=>this.loadComponentsEffect(I.map(Y=>Y.payload.uid),I[0].payload.pageContext??{id:""})))),jm(this.contextChange$)))}loadComponentsEffect(o,u){return this.cmsComponentConnector.getList(o,u).pipe((0,Dt.w)(p=>{const m=[],S=new Set(o);for(const I of p)m.push(new w_({component:I,uid:I.uid,pageContext:u})),S.delete(I.uid??"");return S.forEach(I=>{m.push(new I_({uid:I,pageContext:u}))}),(0,Ye.D)(m)}),(0,me.K)(p=>(0,Ye.D)(o.map(m=>new I_({uid:m,error:On(p),pageContext:u})))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(Z_))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const Fy=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:"[^/]*"}],a0=[...Fy,{replace:/\?/g,with:"[^/]"}],_p=[...Fy,{replace:/\?/g,with:"\\?"}];function _D(t,c=!1){const o=c?_p:a0,u=t.split("/").reverse();let p="";for(;u.length>0;){const m=u.pop();"**"===m?p+=u.length>0?"(?:.+\\/)?":".*":(p+=o.reduce((I,Y)=>I?.replace(Y.replace,Y.with),m),u.length>0&&(p+="\\/"))}return p}let Ny=(()=>{class t{getValidator(o){const u=function c0(t){return t.map(c=>{const o=!c.startsWith("!");return{positive:o,regex:`^${_D(c=o?c:c.substr(1))}$`}})}(o).map(({positive:S,regex:I})=>({positive:S,regex:new RegExp(I)})),p=u.filter(S=>S.positive),m=u.filter(S=>!S.positive);return S=>p.some(I=>I.regex.test(S))&&!m.some(I=>I.regex.test(S))}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bh=(()=>{class t{constructor(o){this.globService=o}getFalsy(){return function(){return null}}getFromPaths(o){const u=o.map(m=>this.getFromPath(m)),p=this.getCombined(u);return(0,e.X6Q)()&&(p._paths=o),p}getCombined(o){const u=function(m,S,I){for(let Y=0;Y<o.length;Y++){const ae=o[Y](m,S,I);if(ae)return ae}return null};return(0,e.X6Q)()&&(u._matchers=o),u}getFromPath(o=""){const u=function(m,S,I){if(""===o)return"full"===I.pathMatch&&(S.hasChildren()||m.length>0)?null:{consumed:[],posParams:{}};const Y=o.split("/");if(Y.length>m.length||"full"===I.pathMatch&&(S.hasChildren()||Y.length<m.length))return null;const ae={};for(let Pe=0;Pe<Y.length;Pe++){const Ne=Y[Pe],ct=m[Pe];if(Ne.startsWith(":"))ae[Ne.substring(1)]=ct;else if(Ne!==ct.path)return null}return{consumed:m.slice(0,Y.length),posParams:ae}};return(0,e.X6Q)()&&(u._path=o),u}getOpposite(o){const u=function(m,S,I){return o(m,S,I)?null:{consumed:m,posParams:{}}};return(0,e.X6Q)()&&(u._originalMatcher=o),u}getFromGlob(o){const u=this.globService.getValidator(o),p=function(S){const I=`/${S.map(Y=>Y.path).join("/")}`;return u(I)?{consumed:S,posParams:{}}:null};return(0,e.X6Q)()&&(p._globPatterns=o),p}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ny))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CD=(()=>{class t{constructor(o,u,p){this.injector=o,this.routingConfigService=u,this.urlMatcherService=p,this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){const o=this.injector.get(un.F0);o.resetConfig(this.configureRoutes(o.config))}configureRoutes(o){return o.map(u=>{const p=this.configureRoute(u);return u.children&&u.children.length&&(p.children=this.configureRoutes(u.children)),p})}configureRoute(o){const u=this.getRouteName(o);if(u){const p=this.routingConfigService.getRouteConfig(u);return this.validateRouteConfig(p,u,o),p?.disabled?(delete o.path,{...o,matcher:this.urlMatcherService.getFalsy()}):p?.matchers?(delete o.path,{...o,matcher:this.resolveUrlMatchers(o,p?.matchers)}):1===p?.paths?.length?(delete o.matcher,{...o,path:p?.paths[0]}):(delete o.path,{...o,matcher:this.urlMatcherService.getFromPaths(p?.paths||[])})}return o}resolveUrlMatchers(o,u){const p=u?.map(m=>"function"==typeof m?m:this.resolveUrlMatcherFactory(o,m))??[];return this.urlMatcherService.getCombined(p)}resolveUrlMatcherFactory(o,u){return this.injector.get(u)(o)}getRouteName(o){return o.data&&o.data.cxRoute}validateRouteConfig(o,u,p){if((0,e.X6Q)()){if(null===o||null===o?.paths||o?.matchers)return;if(!o?.paths)return void this.warn(`Could not configure the named route '${u}'`,p,"due to undefined config or undefined 'paths' property for this route")}}warn(...o){(0,e.X6Q)()&&console.warn(...o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(e.zs3),e.LFG(fu),e.LFG(bh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u0=(()=>{class t{constructor(o){this.urlService=o}transform(o){return this.urlService.transform(o)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(vi,16))},t.\u0275pipe=e.Yjl({name:"cxUrl",type:t,pure:!0}),t})(),l0=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Lt.ez]}),t})(),d0=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),Cp=(()=>{class t{constructor(o,u){this.winRef=o,this.platformId=u}canActivate(o,u){return(0,Lt.NF)(this.platformId)&&this.redirect(o,u),!1}redirect(o,u){const p=this.winRef.nativeWindow;p&&p.location&&(p.location.href=u.url)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ka),e.LFG(e.Lbi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p0(t){return()=>{t.addRoutes()}}let Zm=(()=>{class t{constructor(o,u,p){this.config=o,this.urlMatcherService=u,this.injector=p}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){const o=this.injector.get(un.F0),u=this.getRoutes();u.length&&o.resetConfig([...u,...o.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];const o=[];return o.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[Cp],component:{}}),o}getUrlMatcher(){const o=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(d0),e.LFG(bh),e.LFG(e.zs3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ym=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:e.ip1,multi:!0,useFactory:p0,deps:[Zm]}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const ho="__HOMEPAGE__",f0="smartedit-preview";let z_=(()=>{class t{constructor(o,u){this.config=o,this.urlParsingService=u,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(p=>this.getSegments(p)))}get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}isUrlProtected(o){return this.shouldProtect&&!this.matchAnyPath(o,this.nonProtectedPaths)}matchAnyPath(o,u){return u.some(p=>this.matchPath(o,p))}matchPath(o,u){return this.urlParsingService.matchPath(o,u)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((o,u)=>!1===u.protected&&u.paths&&u.paths.length?o.concat(u?.paths??[]):o,[])}getSegments(o){return(o||"").split("/")}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ul),e.LFG(ld))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g0=(()=>{class t{constructor(o,u){this.service=o,this.authGuard=u}canActivate(o){let u=o.url.map(p=>p.path);return u=u.length?u:[""],this.service.isUrlProtected(u)?this.authGuard.canActivate():(0,E.of)(!0)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(z_),e.LFG(gs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Uy=(()=>{class t{constructor(o,u){this.baseSiteService=o,this.configInit=u,this.scopes=["routing"],this.configFactory=()=>this.resolveConfig().toPromise()}resolveConfig(){return this.configInit.getStable("context").pipe((0,Dt.w)(o=>{const u=o?.context?.[Wi]?.[0];return this.baseSiteService.get(u).pipe((0,wt.b)(p=>{if(!p)throw new Error(`Error: Cannot get base site config for ${u}.`)}),(0,Ee.U)(p=>this.getRoutingConfig(p)),(0,Ue.q)(1))}))}getRoutingConfig(o){return{routing:{protected:o?.requiresAuthentication}}}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ns),e.LFG(po))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const By=[(()=>{class t{constructor(o,u){this.actions$=o,this.router=u,this.clearCmsRoutes$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(ds,Li,mi),(0,wt.b)(()=>{const p=this.router.config.filter(m=>!(m.data&&m.data.cxCmsRouteContext));p.length!==this.router.config.length&&this.router.resetConfig(p)})),{dispatch:!1})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(un.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],Gy={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function _0(t=Gy,c){switch(c.type){case Gn.tE:return{...t,nextState:c.payload.routerState,navigationId:c.payload.event.id};case Gn.eU:case Gn.fb:return{...t,nextState:void 0};case ng:return t.nextState?{...t,nextState:{...t.nextState,context:c.payload}}:t;case Gn.CE:return{state:{...c.payload.routerState,context:t.nextState?.context??c.payload.routerState.context},navigationId:c.payload.event.id,nextState:void 0};default:return t}}const Vy=new e.OlP("RouterReducers"),Th={provide:Vy,useFactory:function v0(){return{router:_0}}};let C0=(()=>{class t{constructor(o){this.routingConfig=o}serialize(o){let m,S,u=o.root,p=!1,I="";for(;u.firstChild;)u=u.firstChild,I+="/"+u.url.map(ae=>ae.path).join("/"),u.data?.cxRoute&&(S=u.data?.cxRoute),u.data&&u.data.cxCmsRouteContext&&(m=u.data.cxCmsRouteContext),!p&&(m||u.routeConfig&&u.routeConfig.canActivate&&u.routeConfig.canActivate.find(ae=>ae&&"CmsPageGuard"===ae.guardName))&&(p=!0);S=S||this.lookupSemanticRoute(I);const{params:Y}=u;return u.url.length>0&&"cx-preview"===u.url[0].path?m={id:f0,type:W.CONTENT_PAGE}:Y.productCode?m={id:Y.productCode,type:W.PRODUCT_PAGE}:Y.categoryCode?m={id:Y.categoryCode,type:W.CATEGORY_PAGE}:Y.brandCode?m={id:Y.brandCode,type:W.CATEGORY_PAGE}:void 0!==u.data.pageLabel?m={id:u.data.pageLabel,type:W.CONTENT_PAGE}:m||(m=u.url.length>0?{id:"/"+u.url.map(Pe=>Pe.path).join("/"),type:W.CONTENT_PAGE}:{id:ho,type:W.CONTENT_PAGE}),{url:o.url,queryParams:o.root.queryParams,params:Y,context:m,cmsRequired:p,semanticRoute:S}}lookupSemanticRoute(o){return this.routingConfig.getRouteName(o.substr(1))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(fu))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function y0(t){return()=>t.init()}function S0(t,c){return void 0===c.routing?.protected?t:null}let zm=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Th,{provide:Gn.GC,useClass:C0},{provide:e.ip1,useFactory:y0,deps:[CD],multi:!0},{provide:vl,useFactory:S0,deps:[Uy,ul],multi:!0}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.Aw.forFeature(cl,Vy),st.sQ.forFeature(By),Gn.Qi.forRoot({routerState:1,stateKey:cl})]}),t})();const $y=new e.OlP("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>function Hy(t,c){return u=>{const m=t.getRouteConfig(u.data&&u.data.cxRoute);return c.getFromPaths(m&&m.paths||[])}}((0,e.f3M)(fu),(0,e.f3M)(bh))});let jy=(()=>{class t{constructor(o,u,p){this.actions$=o,this.cmsComponentConnector=u,this.routingService=p,this.loadNavigationItems$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(km),(0,Ee.U)(m=>m.payload),(0,Ee.U)(m=>({ids:this.getIdListByItemType(m.items),nodeId:m.nodeId})),(0,pn.zg)(m=>m.ids.componentIds.length>0?this.routingService.getRouterState().pipe((0,it.h)(Fi),(0,Ee.U)(S=>S.state.context),(0,Ue.q)(1),(0,pn.zg)(S=>this.cmsComponentConnector.getList(m.ids.componentIds,S).pipe((0,Ee.U)(I=>new my({nodeId:m.nodeId,components:I})),(0,me.K)(I=>(0,E.of)(new Ds(m.nodeId,On(I))))))):(0,E.of)(new Ds(m.nodeId,"navigation nodes are empty")))))}getIdListByItemType(o){const u=[],p=[],m=[];return o.forEach(S=>{"AbstractCMSComponent"===S.superType?p.push(S.id):"AbstractPage"===S.superType?u.push(S.id):"AbstractMedia"===S.superType&&m.push(S.id)}),{pageIds:u,componentIds:p,mediaIds:m}}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(Z_),e.LFG(na))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();class Zy{}let xh=(()=>{class t{constructor(o,u){this.cmsPageAdapter=o,this.cmsStructureConfigService=u}get(o){return this.cmsStructureConfigService.shouldIgnoreBackend(o.id).pipe((0,Dt.w)(u=>u?(0,E.of)({}):this.cmsPageAdapter.load(o).pipe((0,me.K)(p=>p instanceof Vt.UA&&400===p.status?(0,E.of)({}):(0,G._)(p)))),(0,Dt.w)(u=>this.mergeDefaultPageStructure(o,u)))}mergeDefaultPageStructure(o,u){return this.cmsStructureConfigService.mergePageStructure(o.id,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Zy),e.LFG($_))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const E0=[(()=>{class t{constructor(o,u,p){this.actions$=o,this.cmsPageConnector=u,this.routingService=p,this.refreshPage$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(ds,Li,mi),(0,Dt.w)(()=>this.routingService.getRouterState().pipe((0,it.h)(m=>m&&m.state&&m.state.cmsRequired&&!m.nextState),(0,Ue.q)(1),(0,Ee.U)(m=>m.state.context),(0,pn.zg)(m=>(0,E.of)(new mp(m))))))),this.loadPageData$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Um),(0,Ee.U)(m=>m.payload),(0,nn.v)(m=>Jc(m)),(0,pn.zg)(m=>m.pipe((0,Dt.w)(S=>this.cmsPageConnector.get(S).pipe((0,pn.zg)(I=>{const Y=[new gy((I.components??[]).map(Pe=>({component:Pe,pageContext:S}))),new _y(S,I.page??{})],ae=I.page?.label;return ae&&ae!==S.id&&Y.unshift(new Cy({id:ae,type:S.type},I.page??{})),Y}),(0,me.K)(I=>(0,E.of)(new vy(S,On(I))))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(xh),e.LFG(na))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Oy,jy],A0={component:void 0,pageContext:{}};function Jm(t,c){switch(c.type){case mh:return!1;case Wc:case vh:return!0}return t}function Yy(t=A0,c){switch(c.type){case Fm:{const o=Wr(c.meta.entityType,Jm),u=Jc(c.payload.pageContext,!0);return{...t,pageContext:{...t.pageContext,[u]:o(t.pageContext[u],c)}}}case mh:{const o=Wr(c.meta.entityType,Jm),u=Jc(c.payload.pageContext,!0);return{...t,pageContext:{...t.pageContext,[u]:o(t.pageContext[u],c)}}}case vh:{const o=Wr(c.meta.entityType,Jm),u=Jc(c.payload.pageContext,!0);return{...t,component:c.payload.component,pageContext:{...t.pageContext,[u]:o(t.pageContext[u],c)}}}case Wc:{const o=Wr(c.meta.entityType,Jm);if(!Array.isArray(c.payload)){const u=Jc(c.payload.pageContext,!0);return{...t,component:c.payload.component,pageContext:{...t.pageContext,[u]:o(t.pageContext[u],c)}}}}}return t}function Wy(t,c){if(c.type===_h&&c.payload.components){const u=c.payload.components.reduce((p,m)=>({...p,[`${m.uid}_AbstractCMSComponent`]:m}),{});return{...t,...u}}return t}const D0={entities:{}};function Jy(t=D0,c){if(c.type===rs){const o=c.payload;return{...t,entities:{...t.entities,[o.pageId??""]:o}}}return t}function Km(t){return(c,o)=>{if(o.meta&&o.meta.entityType===t)switch(o.type){case rs:return o.payload.pageId;case Zs:return;case Bm:return o.payload;case bs:return o.payload.pageId}return c}}const b0=new e.OlP("CmsReducers"),SD={provide:b0,useFactory:function yD(){return{page:(0,h.UY)({pageData:Jy,index:(0,h.UY)({content:hi(W.CONTENT_PAGE,Km(W.CONTENT_PAGE)),product:hi(W.PRODUCT_PAGE,Km(W.PRODUCT_PAGE)),category:hi(W.CATEGORY_PAGE,Km(W.CATEGORY_PAGE)),catalog:hi(W.CATALOG_PAGE,Km(W.CATALOG_PAGE))})}),components:$i(gp,Yy),navigation:hi(Lm,Wy)}}},Qy=[function ED(t){return function(c,o){return(o.type===ds||o.type===Li||o.type===mi)&&(c=void 0),t(c,o)}}];function Qm(){return{state:{ssrTransfer:{keys:{cms:Mc.TRANSFER_STATE}}}}}let T0=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Is(Qm),SD],imports:[Lt.ez,oa,h.Aw.forFeature("cms",b0,{metaReducers:Qy}),st.sQ.forFeature(E0)]}),t})(),x0=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Sh,Zo(hy)]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[T0,My.forRoot()]}),t})();const W_=new e.OlP("CmsPageNormalizer"),yp=new e.OlP("CmsComponentNormalizer");let qy=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),Xy=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function J_(t,c=[],o=[]){const u=(t??[]).filter(m=>!m.hasMatch||m.hasMatch(...c));if(u.length<2)return u[0];let p=-1/0;return u.reduce((m,S)=>{const I=S.getPriority?S.getPriority(...o):0;return p>I?m:(p=I,S)},void 0)}function eS(t){return(0,De.P)(()=>{let c=0;const o=new q.y(u=>{const p=()=>{u.next(),u.complete()};c?ht.E.schedule(p):p(),c++});return(0,j.aj)(t).pipe((0,zt.U)(()=>o))})}let M0=(()=>{class t{constructor(o,u,p,m){this.cms=o,this.unifiedInjector=u,this.pageMetaConfig=p,this.platformId=m,this.resolvers$=this.unifiedInjector.getMulti(Ys).pipe((0,Zt.d)({bufferSize:1,refCount:!0})),this.meta$=(0,De.P)(()=>this.cms.getCurrentPage()).pipe((0,it.h)(S=>Boolean(S)),(0,Dt.w)(S=>this.getMetaResolver(S)),(0,Dt.w)(S=>S?this.resolve(S):(0,E.of)(null)),(0,Zt.d)({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(o){const u=this.getResolverMethods(),p=Object.keys(u).filter(m=>o[u[m]]).map(m=>o[u[m]]().pipe((0,Ee.U)(S=>({[m]:S}))));return 0===p.length?(0,E.of)({}):eS(p).pipe((0,Ee.U)(m=>Object.assign({},...m)))}getResolverMethods(){const o={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(u=>!(0,Lt.NF)(this.platformId??"")||!u.disabledInCsr||(0,e.X6Q)()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(u=>o[u.property]=u.method),o}getMetaResolver(o){return this.resolvers$.pipe((0,Ee.U)(u=>J_(u,[o],[o])))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Sh),e.LFG(As),e.LFG(by),e.LFG(e.Lbi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zs=(()=>{return(t=zs||(zs={})).INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",zs;var t})();function Mh(t){let c;return t.subscribe(o=>c=o).unsubscribe(),c}let I0=(()=>{class t{constructor(o){this.unifiedInjector=o,this.componentDecorators$=this.unifiedInjector.getMulti(qy).pipe((0,Zt.d)(1)),this.slotDecorators$=this.unifiedInjector.getMulti(Xy).pipe((0,Zt.d)(1))}addAttributesToComponent(o,u,p){(Mh(this.componentDecorators$)||[]).forEach(m=>m.decorate(o,u,p))}addAttributesToSlot(o,u,p){(Mh(this.slotDecorators$)||[]).forEach(m=>m.decorate(o,u,p))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(As))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ih=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})();var Ws=(()=>{return(t=Ws||(Ws={}))[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",Ws;var t})();let qo=(()=>{class t{constructor(o,u){this.globalMessageService=o,this.platformId=u}hasMatch(o){return o.status===this.responseStatus}isSsr(){return!!this.platformId&&!(0,Lt.NF)(this.platformId)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Pc),e.LFG(e.Lbi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w0=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},yr.MSG_TYPE_ERROR)}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R0=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.BAD_REQUEST}handleError(o,u){this.handleBadPassword(o,u),this.handleBadLoginResponse(o,u),this.handleValidationError(o,u),this.handleGuestDuplicateEmail(o,u),this.handleUnknownIdentifierError(o,u)}handleBadPassword(o,u){u.url?.includes("/authorizationserver/oauth/token")&&"invalid_grant"===u.error?.error&&"password"===o.body?.get("grant_type")&&(this.globalMessageService.add({key:"httpHandlers.badRequestPleaseLoginAgain",params:{errorMessage:u.error.error_description||u.message||""}},yr.MSG_TYPE_ERROR),this.globalMessageService.remove(yr.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(o,u){this.getErrors(u).filter(p=>"PasswordMismatchError"===p.type).forEach(()=>{const m=new URL(o.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:m},yr.MSG_TYPE_ERROR)})}handleValidationError(o,u){this.getErrors(u).filter(p=>"ValidationError"===p.type).forEach(p=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${p.reason}.${p.subject}`},yr.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(o,u){this.getErrors(u).filter(p=>"DuplicateUidError"===p.type).forEach(p=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:p.message||""}},yr.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(o,u){this.getErrors(u).filter(p=>"UnknownIdentifierError"===p.type).forEach(p=>{this.globalMessageService.add(p.message?p.message:{key:"httpHandlers.unknownIdentifier"},yr.MSG_TYPE_ERROR)})}getErrors(o){return(o.error?.errors||[]).filter(u=>"JaloObjectNoLongerValidError"!==u.type)}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nS=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},yr.MSG_TYPE_ERROR)}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P0=(()=>{class t extends qo{constructor(o,u,p){super(o),this.globalMessageService=o,this.authService=u,this.occEndpoints=p,this.responseStatus=Ws.FORBIDDEN}handleError(o){o.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},yr.MSG_TYPE_ERROR)}getPriority(){return-10}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Pc),e.LFG(_i),e.LFG(Ir))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K_=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},yr.MSG_TYPE_ERROR)}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O0=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},yr.MSG_TYPE_ERROR)}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rS=(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.NOT_FOUND}handleError(){}getPriority(){return-10}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F0=[{provide:qo,useExisting:(()=>{class t extends qo{constructor(){super(...arguments),this.responseStatus=Ws.UNKNOWN}hasMatch(o){return!0}handleError(o,u){((0,e.X6Q)()||this.isSsr())&&console.warn("An unknown http error occurred\n",u.message)}getPriority(){return-50}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0},{provide:qo,useExisting:w0,multi:!0},{provide:qo,useExisting:R0,multi:!0},{provide:qo,useExisting:nS,multi:!0},{provide:qo,useExisting:P0,multi:!0},{provide:qo,useExisting:K_,multi:!0},{provide:qo,useExisting:O0,multi:!0},{provide:qo,useExisting:rS,multi:!0}],k0=[{provide:Vt.TP,useExisting:(()=>{class t{constructor(o){this.unifiedInjector=o,this.handlers$=this.unifiedInjector.getMulti(qo).pipe((0,Zt.d)(1))}intercept(o,u){return u.handle(o).pipe((0,me.K)(p=>(p instanceof Vt.UA&&this.handleErrorResponse(o,p),(0,G._)(p))))}handleErrorResponse(o,u){const p=this.getResponseHandler(u);p&&p.handleError(o,u)}getResponseHandler(o){return J_(Mh(this.handlers$)??[],[o])}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(As))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0}],Q_={entities:{}};function N0(t=Q_,c){switch(c.type){case Rc:{const o=c.payload;if(void 0===t.entities[o.type])return{...t,entities:{...t.entities,[o.type]:[o.text]}};{const u=t.entities[o.type];return{...t,entities:{...t.entities,[o.type]:[...u,o.text]}}}}case fo:{const o=c.payload.type,u=c.payload.index;if(0===Object.keys(t.entities).length||!t.entities[o])return t;const p=[...t.entities[o]];return p.splice(u,1),{...t,entities:{...t.entities,[o]:p}}}case nf:{const o={...t.entities,[c.payload]:[]};return{...t,entities:o}}}return t}const sS=new e.OlP("GlobalMessageReducers"),U0={provide:sS,useFactory:function iS(){return N0}};let B0=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[U0],imports:[oa,h.Aw.forFeature(ki,sS)]}),t})();class q_{static shallowEqualObjects(c,o){if(c===o)return!0;if(!c||!o)return!1;const u=Object.keys(c),p=Object.keys(o),m=u.length;if(m!==p.length)return!1;for(let I=0;I<m;I++){const Y=u[I];if(c[Y]!==o[Y])return!1}return!0}static deepEqualObjects(c,o){if(c===o)return!0;if(!(c instanceof Object&&o instanceof Object))return!1;if(c.constructor!==o.constructor)return!1;for(const u in c)if(c.hasOwnProperty(u)){if(!o.hasOwnProperty(u))return!1;if(c[u]!==o[u]&&("object"!=typeof c[u]||!this.deepEqualObjects(c[u],o[u])))return!1}for(const u in o)if(o.hasOwnProperty(u)&&!c.hasOwnProperty(u))return!1;return!0}static countOfDeepEqualObjects(c,o){return o.reduce((u,p)=>(this.deepEqualObjects(c,p)&&u++,u),0)}static indexOfFirstOccurrence(c,o){for(let u=0;u<o.length;u++)if(this.deepEqualObjects(o[u],c))return u}}let G0=(()=>{class t{constructor(o,u,p,m){this.actions$=o,this.store=u,this.config=p,this.platformId=m,this.removeDuplicated$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Rc),(0,ft.j)("payload"),(0,Dt.w)(S=>(0,E.of)(S.text).pipe((0,dt.M)(this.store.pipe((0,h.Ys)(Rd(S.type)))),(0,it.h)(([I,Y])=>q_.countOfDeepEqualObjects(I,Y)>1),(0,Ee.U)(([I,Y])=>{const ae=q_.indexOfFirstOccurrence(I,Y);if(void 0!==ae)return new aa({type:S.type,index:ae})}),(0,it.h)(Fi))))),this.hideAfterDelay$=(0,st.GW)(()=>(0,Lt.NF)(this.platformId)?this.actions$.pipe((0,st.l4)(Rc),(0,ft.j)("payload"),(0,Ut.b)(S=>{const I=this.config.globalMessages?.[S.type];return this.store.pipe((0,h.Ys)((t=>(0,h.P1)(Rd(t),c=>c&&c.length))(S.type)),(0,Ue.q)(1),(0,it.h)(Y=>(I&&void 0!==I.timeout||void 0!==S.timeout)&&Y>0),(0,hn.g)(S.timeout||I?.timeout),(0,Dt.w)(()=>(0,E.of)(new aa({type:S.type,index:0}))))})):()=>oe.E)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(h.yh),e.LFG(Ih),e.LFG(e.Lbi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const V0={globalMessages:{[yr.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[yr.MSG_TYPE_INFO]:{timeout:3e3},[yr.MSG_TYPE_ERROR]:{timeout:7e3},[yr.MSG_TYPE_WARNING]:{timeout:7e3},[yr.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}};let H0=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...F0,...k0]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Zo(V0)],imports:[B0,st.sQ.forFeature([G0])]}),t})(),X_=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:function(o){let u=null;return u=o?new(o||t):e.LFG(Co),u},providedIn:"root"}),t})(),aS=(()=>{class t{constructor(o){this.configInit=o,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>this.resolveConfig().toPromise()}resolveConfig(){return this.configInit.getStable("context.language").pipe((0,Ee.U)(o=>({i18n:{fallbackLang:o?.context?.language?.[0]}})))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(po))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cS=(()=>{class t extends Lt.uU{constructor(o){super(""),this.language=o}transform(o,u,p){return super.transform(o,u,p,this.getLang())}getLang(){const o=this.getActiveLang();try{return(0,Lt.wM)(o),o}catch{return this.reportMissingLocaleData(o),"en"}}getActiveLang(){let o="";return this.language.getActive().subscribe(u=>o=u).unsubscribe(),o}reportMissingLocaleData(o){(0,e.X6Q)()&&console.warn(`cxDate pipe: No locale data registered for '${o}' (see https://angular.io/api/common/registerLocaleData).`)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(Es,16))},t.\u0275pipe=e.Yjl({name:"cxDate",type:t,pure:!0}),t})(),$0=(()=>{class t extends Lt.JJ{constructor(o){super(""),this.language=o}transform(o,u){return super.transform(o,u,this.getLang())}getLang(){const o=this.getActiveLang();try{return(0,Lt.wM)(o),o}catch{return this.reportMissingLocaleData(o),"en"}}getActiveLang(){let o="";return this.language.getActive().subscribe(u=>o=u).unsubscribe(),o}reportMissingLocaleData(o){(0,e.X6Q)()&&console.warn(`cxNumeric pipe: No locale data registered for '${o}' (see https://angular.io/api/common/registerLocaleData).`)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(Es,16))},t.\u0275pipe=e.Yjl({name:"cxNumeric",type:t,pure:!0}),t})();const j0={i18n:{fallbackLang:void 0,debug:!1}};let Y0=(()=>{class t{init(o,u){this.sub=this.sub??u.getActive().subscribe(p=>o.changeLanguage(p))}ngOnDestroy(){this.sub?.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function z0(t){return(c,o,u,p)=>{t.get(o,{responseType:"text"}).subscribe(m=>p(null,{status:200,data:m}),m=>p(m,{data:null,status:m.status}))}}function eC(t,c){return c&&!t.match(/^http(s)?:\/\//)?(t.startsWith("/")&&(t=t.slice(1)),t.startsWith("./")&&(t=t.slice(2)),`${c}/${t}`):t}const qm=new e.OlP("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>Sa.createInstance()}),lS=[{provide:e.ip1,useFactory:function uS(t,c,o,u,p,m){return()=>c.getStable("i18n").pipe((0,wt.b)(S=>{let I={ns:[],fallbackLng:S.i18n?.fallbackLang,debug:S.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};if(S.i18n?.backend?.loadPath){t=t.use(Er);const ae={loadPath:eC(S.i18n.backend.loadPath,p),request:z0(u),reloadInterval:!1};I={...I,backend:ae}}return t.init(I,()=>{(function Z0(t,c={}){Object.keys(c).forEach(o=>{Object.keys(c[o]).forEach(u=>{t.addResourceBundle(o,u,c[o][u],!0,!0)})})})(t,S.i18n?.resources),m.init(t,o)})})).toPromise()},deps:[qm,po,Es,Vt.eN,[new e.FiY,eg],Y0],multi:!0}];let Xm=(()=>{class t{constructor(o){this.config=o,this.duplicates={},this.chunks={},this.KEY_SEPARATOR=".";const u=o.i18n&&o.i18n.chunks||{};Object.keys(u).forEach(p=>{u[p].forEach(m=>{this.chunks.hasOwnProperty(m)?(this.duplicates[m]||(this.duplicates[m]=[this.chunks[m]]),this.duplicates[m].push(p)):this.chunks[m]=p})}),Object.keys(this.duplicates).length>0&&(0,e.X6Q)()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(o){const u=(o||"").split(this.KEY_SEPARATOR)[0];return this.chunks&&this.chunks[u]||u}warnDuplicates(o){const u=[];Object.keys(o).forEach(p=>{u.push(`* '${p}' found in chunks: ${o[p].join(", ")}. Used '${this.chunks[p]}.${p}'.`)}),console.warn(`Duplicated keys has been found in the config of i18n chunks:\n${u.join("\n")}`)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(X_))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),W0=(()=>{class t{constructor(o,u,p){this.config=o,this.translationChunk=u,this.i18next=p,this.NON_BREAKING_SPACE=String.fromCharCode(160),this.NAMESPACE_SEPARATOR=":"}translate(o,u={},p=!1){const m=this.translationChunk.getChunkNameForKey(o),S=this.getNamespacedKey(o,m);return new q.y(I=>{const Y=()=>{!this.i18next.isInitialized||(this.i18next.exists(S,u)?I.next(this.i18next.t(S,u)):(p&&I.next(this.NON_BREAKING_SPACE),this.i18next.loadNamespaces(m,()=>{this.i18next.exists(S,u)?I.next(this.i18next.t(S,u)):(this.reportMissingKey(o,m),I.next(this.getFallbackValue(S)))})))};return Y(),this.i18next.on("languageChanged",Y),()=>this.i18next.off("languageChanged",Y)})}loadChunks(o){return this.i18next.loadNamespaces(o)}getFallbackValue(o){return(0,e.X6Q)()?`[${o}]`:this.NON_BREAKING_SPACE}reportMissingKey(o,u){(0,e.X6Q)()&&console.warn(`Translation key missing '${o}' in the chunk '${u}'`)}getNamespacedKey(o,u){return u+this.NAMESPACE_SEPARATOR+o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(X_),e.LFG(Xm),e.LFG(qm))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J0=(()=>{class t{constructor(o,u){this.service=o,this.cd=u}transform(o,u={}){if(!o)return(0,e.X6Q)()&&console.error(`The given input for the cxTranslate pipe (${o}) is invalid and cannot be translated`),"";if(o.raw)return o.raw??"";const p="string"==typeof o?o:o.key;return"string"!=typeof o&&(u={...u,...o.params}),this.translate(p,u),this.translatedValue}translate(o,u){(o!==this.lastKey||!q_.shallowEqualObjects(u,this.lastOptions))&&(this.lastKey=o,this.lastOptions=u,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(o,u,!0).subscribe(p=>this.markForCheck(p)))}markForCheck(o){this.translatedValue=o,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(Kc,16),e.Y36(e.sBO,16))},t.\u0275pipe=e.Yjl({name:"cxTranslate",type:t,pure:!1}),t})();function tC(t,c){return void 0!==c?.i18n?.fallbackLang?null:t}let dS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Zo(j0),{provide:Kc,useExisting:W0},...lS,{provide:vl,useFactory:tC,deps:[aS,X_],multi:!0}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const ev=new e.OlP("CostCenterNormalizer"),Rh=new e.OlP("CostCentersListNormalizer"),pS=new e.OlP("CostCenterSerializer");var Sp;!function(t){let c;var we;let o,u,p,m,S,I,Y,ae,Pe,Ne,ct,At,gt,en,dn,tn,vn,Sr,mr,ai,Ts,ya,Xc,eu,oc,Tp,Ev,pD,xp,jE,Av,$h,ZE,jC,fD,jh,hD,gD,Zh,YE,Yh,Dv,ZC,zE,YC,Mp,zC,WE,JE,ub,lb,db,pb,fb,hb,gb,mb,vb,_b,Cb,yb,Sb,Eb,Ab,Db,bb,Tb,xb,Mb,Ib,wb,Rb,Pb;(we=c=t.PageRobots||(t.PageRobots={})).INDEX_FOLLOW="INDEX_FOLLOW",we.NOINDEX_FOLLOW="NOINDEX_FOLLOW",we.INDEX_NOFOLLOW="INDEX_NOFOLLOW",we.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW",function(we){we.Success="SUCCESS",we.Info="INFO",we.Warning="WARNING",we.Error="ERROR"}(o=t.OrderEntryStatus||(t.OrderEntryStatus={})),function(we){we.BUY="BUY",we.FROM="FROM"}(u=t.PriceType||(t.PriceType={})),function(we){we.PRIMARY="PRIMARY",we.GALLERY="GALLERY"}(p=t.ImageType||(t.ImageType={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(m=t.Fields||(t.Fields={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(S=t.Fields1||(t.Fields1={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(I=t.Fields2||(t.Fields2={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Y=t.Fields3||(t.Fields3={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ae=t.Fields4||(t.Fields4={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Pe=t.Fields5||(t.Fields5={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Ne=t.Fields6||(t.Fields6={})),function(we){we.CONTENT_PAGE="ContentPage",we.PRODUCT_PAGE="ProductPage",we.CATEGORY_PAGE="CategoryPage",we.CATALOG_PAGE="CatalogPage"}(ct=t.PageType||(t.PageType={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(At=t.Fields7||(t.Fields7={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(gt=t.Fields8||(t.Fields8={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(en=t.Fields9||(t.Fields9={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(dn=t.Fields10||(t.Fields10={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(tn=t.Fields11||(t.Fields11={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(vn=t.Fields12||(t.Fields12={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Sr=t.Fields13||(t.Fields13={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(mr=t.Fields14||(t.Fields14={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ai=t.Fields15||(t.Fields15={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Ts=t.Fields16||(t.Fields16={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ya=t.SortEnum||(t.SortEnum={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Xc=t.Fields17||(t.Fields17={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(eu=t.Fields18||(t.Fields18={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(oc=t.Fields19||(t.Fields19={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Tp=t.Fields20||(t.Fields20={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Ev=t.Fields21||(t.Fields21={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(pD=t.Fields22||(t.Fields22={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(xp=t.Fields23||(t.Fields23={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(jE=t.Fields24||(t.Fields24={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Av=t.Fields25||(t.Fields25={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}($h=t.Fields26||(t.Fields26={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ZE=t.Fields27||(t.Fields27={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(jC=t.Fields28||(t.Fields28={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(fD=t.Fields29||(t.Fields29={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(jh=t.Fields30||(t.Fields30={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(hD=t.Fields31||(t.Fields31={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(gD=t.Fields32||(t.Fields32={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Zh=t.Fields33||(t.Fields33={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(YE=t.Fields34||(t.Fields34={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Yh=t.Fields35||(t.Fields35={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Dv=t.Fields36||(t.Fields36={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ZC=t.Fields37||(t.Fields37={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(zE=t.Fields38||(t.Fields38={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(YC=t.Fields39||(t.Fields39={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Mp=t.Fields40||(t.Fields40={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(zC=t.Fields41||(t.Fields41={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(WE=t.Fields42||(t.Fields42={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(JE=t.Fields43||(t.Fields43={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(ub=t.Fields44||(t.Fields44={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(lb=t.Fields45||(t.Fields45={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(db=t.Fields46||(t.Fields46={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(pb=t.Fields47||(t.Fields47={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(fb=t.Fields48||(t.Fields48={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(hb=t.Fields49||(t.Fields49={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(gb=t.Fields50||(t.Fields50={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(mb=t.Fields51||(t.Fields51={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(vb=t.Fields52||(t.Fields52={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(_b=t.Fields53||(t.Fields53={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Cb=t.Fields54||(t.Fields54={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(yb=t.Fields55||(t.Fields55={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Sb=t.Fields56||(t.Fields56={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Eb=t.Fields57||(t.Fields57={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Ab=t.Fields58||(t.Fields58={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Db=t.Fields59||(t.Fields59={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(bb=t.Fields60||(t.Fields60={})),function(we){we.BASIC="BASIC",we.DEFAULT="DEFAULT",we.FULL="FULL"}(Tb=t.Fields61||(t.Fields61={})),function(we){we.All="all",we.Product="product",we.Order="order"}(xb=t.Type||(t.Type={})),function(we){we.ANONYMOUS_CONSENT_GIVEN="GIVEN",we.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"}(Mb=t.CONSENT_STATUS||(t.CONSENT_STATUS={})),function(we){we.BACK_IN_STOCK="BACK_IN_STOCK"}(Ib=t.NotificationType||(t.NotificationType={})),function(we){we.DAY="DAY",we.WEEK="WEEK",we.MONTH="MONTH",we.QUARTER="QUARTER",we.YEAR="YEAR"}(wb=t.Period||(t.Period={})),function(we){we.MONDAY="MONDAY",we.TUESDAY="TUESDAY",we.WEDNESDAY="WEDNESDAY",we.THURSDAY="THURSDAY",we.FRIDAY="FRIDAY",we.SATURDAY="SATURDAY",we.SUNDAY="SUNDAY"}(Rb=t.DaysOfWeek||(t.DaysOfWeek={})),function(we){we.APPROVE="APPROVE",we.REJECT="REJECT"}(Pb=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))}(Sp||(Sp={}));let hS=(()=>{class t{convert(o,u={}){return this.normalizePageData(o,u),this.normalizePageSlotData(o,u),this.normalizePageComponentData(o,u),this.normalizeComponentData(o,u),u}normalizePageData(o,u){if(!o)return;const p={};o.name&&(p.name=o.name),o.typeCode&&(p.type=o.typeCode),o.label&&(p.label=o.label),o.template&&(p.template=o.template),o.uid&&(p.pageId=o.uid),o.title&&(p.title=o.title),o.description&&(p.description=o.description),o.properties&&(p.properties=o.properties),this.normalizeRobots(o,p),u.page=p}normalizePageSlotData(o,u){if(o?.contentSlots){o.contentSlots.contentSlot&&!Array.isArray(o.contentSlots.contentSlot)&&(o.contentSlots.contentSlot=[o.contentSlots.contentSlot]),u.page=u.page??{},u.page.slots={};for(const p of o.contentSlots.contentSlot??[])p.position&&(u.page.slots[p.position]={},p.properties&&(u.page.slots[p.position].properties=p.properties))}}normalizePageComponentData(o,u){if(o?.contentSlots?.contentSlot)for(const p of o.contentSlots.contentSlot)if(Array.isArray(p.components?.component))for(const m of p.components?.component??[]){const S={uid:m.uid,typeCode:m.typeCode};if(m.properties&&(S.properties=m.properties),S.flexType="CMSFlexComponent"===m.typeCode?m.flexType:"JspIncludeComponent"===m.typeCode?m.uid:m.typeCode,p.position){const I=u.page?.slots?.[p.position];I&&(I.components||(I.components=[]),I.components.push(S))}}}normalizeComponentData(o,u){if(o?.contentSlots?.contentSlot)for(const p of o.contentSlots.contentSlot)if(Array.isArray(p.components?.component))for(const m of p.components?.component??[])m.modifiedtime&&(m.modifiedTime=m.modifiedtime,delete m.modifiedtime),m.properties&&(m.properties=void 0),u.components||(u.components=[]),u.components.push(m)}normalizeRobots(o,u){const p=[];if(o.robotTag)switch(o.robotTag){case Sp.PageRobots.INDEX_FOLLOW:p.push(zs.INDEX),p.push(zs.FOLLOW);break;case Sp.PageRobots.NOINDEX_FOLLOW:p.push(zs.NOINDEX),p.push(zs.FOLLOW);break;case Sp.PageRobots.INDEX_NOFOLLOW:p.push(zs.INDEX),p.push(zs.NOFOLLOW);break;case Sp.PageRobots.NOINDEX_NOFOLLOW:p.push(zs.NOINDEX),p.push(zs.NOFOLLOW)}u.robots=p}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),go=(()=>{class t{constructor(o){this.unifiedInjector=o,this.subscriptions=new z.w,this.converters=new Map;const u=this.unifiedInjector.injectors$.pipe((0,wt.b)(()=>this.converters.clear()));this.subscriptions.add(u.subscribe())}getConverters(o){if(!this.converters.has(o)){const u=Mh(this.unifiedInjector.getMulti(o));u&&this.converters.set(o,u)}return this.converters.get(o)}hasConverters(o){const u=this.getConverters(o);return Array.isArray(u)&&u.length>0}pipeable(o){return this.hasConverters(o)?(0,Ee.U)(u=>this.convertSource(u,o)):u=>u}pipeableMany(o){return this.hasConverters(o)?(0,Ee.U)(u=>this.convertMany(u,o)):u=>u}convert(o,u){return this.hasConverters(u)?this.convertSource(o,u):o}convertMany(o,u){return this.hasConverters(u)&&Array.isArray(o)?o.map(p=>this.convertSource(p,u)):o}convertSource(o,u){return this.getConverters(u)?.reduce((p,m)=>m.convert(o,p),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(As))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gS=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p,this.headers=(new Vt.WM).set("Content-Type","application/json")}load(o,u){return this.http.get(this.getComponentEndPoint(o,u),{headers:this.headers}).pipe(this.converter.pipeable(yp))}findComponentsByIds(o,u,p="DEFAULT",m=0,S=o.length,I){const Y={...this.getContextParams(u),...this.getPaginationParams(m,S,I)};return Y.componentIds=o.toString(),this.http.get(this.getComponentsEndpoint(Y,p),{headers:this.headers}).pipe((0,ft.j)("component"),(0,Ee.U)(ae=>ae??[]),this.converter.pipeableMany(yp))}getComponentEndPoint(o,u){return this.occEndpoints.buildUrl("component",{urlParams:{id:o},queryParams:this.getContextParams(u)})}getComponentsEndpoint(o,u){return this.occEndpoints.buildUrl("components",{queryParams:{fields:u,...o}})}getPaginationParams(o,u,p){const m={};return void 0!==o&&(m.currentPage=o.toString()),void 0!==u&&(m.pageSize=u.toString()),void 0!==p&&(m.sort=p),m}getContextParams(o){let u={};switch(o.type){case W.PRODUCT_PAGE:u={productCode:o.id};break;case W.CATEGORY_PAGE:u={categoryCode:o.id};break;case W.CATALOG_PAGE:u={catalogCode:o.id}}return u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mS=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p,this.headers=(new Vt.WM).set("Content-Type","application/json")}load(o){const u=this.getPagesRequestParams(o),p=o.type?this.occEndpoints.buildUrl("pages",{queryParams:u}):this.occEndpoints.buildUrl("page",{urlParams:{id:o.id}});return this.http.get(p,{headers:this.headers}).pipe(this.converter.pipeable(W_))}getPagesRequestParams(o){if(o.id===ho||o.id===f0)return{};const u={};return o.type&&(u.pageType=o.type),o.type===W.CONTENT_PAGE?u.pageLabelOrId=o.id:u.code=o.id,u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vS=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:Zy,useExisting:mS},{provide:W_,useExisting:hS,multi:!0},{provide:j_,useExisting:gS}],imports:[Lt.ez]}),t})(),X0=(()=>{class t{convert(o,u){return void 0===u&&(u={...o}),u.active=this.normalizeBoolean(o.active),u}normalizeBoolean(o){return void 0!==o&&("string"==typeof o?"true"===o:o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eA=(()=>{class t{convert(o,u){return void 0===u&&(u={...o}),u.activeFlag=o.active,delete u.active,u}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tA=(()=>{class t{constructor(o){this.converter=o}convert(o,u){return void 0===u&&(u={...o}),u.values=o.costCenters.map(p=>({...this.converter.convert(p,ev)})),u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const nA={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}};let _S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:Rh,useExisting:tA,multi:!0},{provide:ev,useExisting:X0,multi:!0},{provide:pS,useExisting:eA,multi:!0}],imports:[Lt.ez,ns.withConfig(nA)]}),t})(),DD=(()=>{class t{constructor(o){this.config=o}convert(o,u){return void 0===u&&(u={...o}),o.images&&(u.images=this.normalize(o.images)),u}normalize(o){const u={};if(o)for(const p of o){const m=p.hasOwnProperty("galleryIndex");if(p.imageType){let S;if(u.hasOwnProperty(p.imageType)||(u[p.imageType]=m?[]:{}),m){const Y=u[p.imageType];Y[p.galleryIndex]||(Y[p.galleryIndex]={}),S=Y[p.galleryIndex]}else S=u[p.imageType];const I={...p};I.url=this.normalizeImageUrl(I.url??""),p.format&&(S[p.format]=I)}}return u}normalizeImageUrl(o){return new RegExp(/^(http|data:image|\/\/)/i).test(o)?o:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ks))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qu=new e.OlP("ProductNormalizer");let oA=(()=>{class t{constructor(o){this.converterService=o,this.DEFAULT_TOP_VALUES=6}convert(o,u={}){return u={...u,...o},this.normalizeFacets(u),o.products&&(u.products=o.products.map(p=>this.converterService.convert(p,Qu))),u}normalizeFacets(o){this.normalizeFacetValues(o),this.normalizeUselessFacets(o)}normalizeUselessFacets(o){o.facets&&(o.facets=o.facets.filter(u=>!o.pagination||!o.pagination.totalResults||(!u.hasOwnProperty("visible")||u.visible)&&u.values&&u.values.find(p=>p.selected||(p.count??0)<(o.pagination?.totalResults??0))))}normalizeFacetValues(o){o.facets&&(o.facets=o.facets.map(u=>{const{topValues:p,...m}=u;return m.topValueCount=p&&p.length>0?p.length:this.DEFAULT_TOP_VALUES,m}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bD=(()=>{class t{constructor(o){this.converter=o}convert(o,u=[]){return void 0===u&&(u={...o}),o&&o.references?u=o.references.map(p=>({...p,target:this.converter.convert(p.target,Qu)})):[]}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TD=(()=>{class t{constructor(o){this.config=o,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(o,u){return u=u??{...o},o.name&&(u.name=this.normalize(o.name),u.slug=this.normalizeSlug(o.name),u.nameHtml=o.name),u}normalize(o){return o.replace(/<[^>]*>/g,"")}normalizeSlug(o){return this.normalize(o).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ks))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const CS=new e.OlP("ProductReferencesListNormalizer");let iA=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}load(o,u,p){return this.http.get(this.getEndpoint(o,u,p)).pipe(this.converter.pipeable(CS))}getEndpoint(o,u,p){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:o},queryParams:{referenceType:u,pageSize:p}})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const yS=new e.OlP("ProductReviewNormalizer"),SS=new e.OlP("ProductReviewSerializer");let ES=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}load(o,u){return this.http.get(this.getEndpoint(o,u)).pipe((0,ft.j)("reviews"),(0,Ee.U)(p=>p??[]),this.converter.pipeableMany(yS))}post(o,u){u=this.converter.convert(u,SS);const p=new Vt.WM({"Content-Type":"application/x-www-form-urlencoded"}),m=new URLSearchParams;return m.append("headline",u.headline),m.append("comment",u.comment),m.append("rating",u.rating.toString()),m.append("alias",u.alias),this.http.post(this.getEndpoint(o),m.toString(),{headers:p})}getEndpoint(o,u){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:o},queryParams:{maxCount:u}})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const nC=new e.OlP("ProductSearchPageNormalizer"),AS=new e.OlP("ProductSuggestionNormalizer"),tv=new Vt.Xk(()=>({})),sA=new e.OlP("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>Iv});let aA=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p,this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(o,u=this.DEFAULT_SEARCH_CONFIG){const p=(new Vt.qT).set(tv,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(o,u),{context:p}).pipe(this.converter.pipeable(nC))}loadSuggestions(o,u=3){return this.http.get(this.getSuggestionEndpoint(o,u.toString())).pipe((0,ft.j)("suggestions"),(0,Ee.U)(p=>p??[]),this.converter.pipeableMany(AS))}getSearchEndpoint(o,u){return this.occEndpoints.buildUrl("productSearch",{queryParams:{query:o,...u}})}getSuggestionEndpoint(o,u){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:o,max:u}})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function cA(t){return rC(DS(io({},...t.map(u=>"string"==typeof u?qu(u):u))))}function DS(t={}){const c=Object.keys(t);return c.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):c.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(o=>{t[o]=DS(t[o])}),t}function qu(t,c=0){const o={};let u=c;for(;u<t.length;){if(","===t[u])u>c&&(o[t.substr(c,u-c)]={}),c=u+1;else if("("===t[u]){const p=qu(t,u+1);if(!Array.isArray(p))return o;o[t.substr(c,u-c)]=p[0],u=(c=p[1])-1}else if(")"===t[u])return u>c&&(o[t.substr(c,u-c)]={}),[o,u+1];u++}return c<t.length&&(o[t.substr(c,u-c)]={}),o}function rC(t){return Object.keys(t).map(c=>{const o=rC(t[c]);return o?`${c}(${o})`:c}).join(",")}function bS(t,c){return oC(t,"string"==typeof c?qu(c):c)}function oC(t,c){if(!jo(t))return t;const o=Object.keys(c);if(0===o.length||o.find(p=>"BASIC"===p||"DEFAULT"===p||"FULL"===p))return t;const u={};return o.forEach(p=>{t.hasOwnProperty(p)&&(u[p]=oC(t[p],c[p]))}),u}let TS=(()=>{class t{constructor(o){this.http=o,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(o){const u={};for(const m of o){const[S,I]=this.splitFields(m.url??"");u[S]||(u[S]={}),m.fields=I?qu(I):{},void 0!==m.scopedData.scope&&(u[S][m.scopedData.scope]=m)}const p={};for(const[m,S]of Object.entries(u))p[this.getUrlWithFields(m,Object.values(S).map(Y=>Y.fields))]=S;return p}splitFields(o){const[u,p]=o.split("?"),m={};p&&p.split("&").forEach(Y=>{const ae=Y.split("=");m[ae[0]]=ae[1]});const I=Object.keys(m).sort().reduce((Y,ae)=>(ae!==this.FIELDS_PARAM&&Y.push(m[ae]?`${ae}=${m[ae]}`:ae),Y),[]).join("&");return[I?`${u}?${I}`:u,m[this.FIELDS_PARAM]]}getUrlWithFields(o,u){const p=cA(u);return p&&(o+=o.includes("?")?"&":"?",o+=`${this.FIELDS_PARAM}=${p}`),o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xS=(()=>{class t{constructor(o,u){this.http=o,this.occFields=u}scopedDataLoad(o,u){const p=[];u||(u=S=>this.http.get(S));const m=this.occFields.getOptimalUrlGroups(o);return Object.entries(m).forEach(([S,I])=>{const Y=Object.values(I);if(1===Y.length)p.push({...Y[0].scopedData,data$:u?.(S)});else{const ae=u?.(S).pipe((0,Zt.d)(1));Y.forEach(Pe=>{p.push({...Pe.scopedData,data$:ae?.pipe((0,Ee.U)(Ne=>bS(Ne,Pe.fields)))})})}}),p}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(TS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MS=(()=>{class t{constructor(o,u,p,m){this.http=o,this.occEndpoints=u,this.converter=p,this.requestsOptimizer=m}load(o,u){return this.http.get(this.getEndpoint(o,u)).pipe(this.converter.pipeable(Qu))}loadMany(o){const u=o.map(p=>({scopedData:p,url:this.getEndpoint(p.code,p.scope)}));return this.requestsOptimizer.scopedDataLoad(u).map(p=>({...p,data$:p.data$?.pipe(this.converter.pipeable(Qu))}))}getEndpoint(o,u){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:o},scope:u})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go),e.LFG(xS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();class IS{}class uA{}class iC{}class sC{}const wS={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}};let lA=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Zo(wS),{provide:IS,useClass:MS},{provide:Qu,useExisting:DD,multi:!0},{provide:Qu,useExisting:TD,multi:!0},{provide:uA,useClass:iA},{provide:CS,useExisting:bD,multi:!0},{provide:sC,useClass:aA},{provide:nC,useExisting:oA,multi:!0},{provide:iC,useClass:ES}],imports:[Lt.ez]}),t})(),dA=(()=>{class t{constructor(){}convert(o,u){return void 0===u&&(u={...o}),u.baseStore=o.stores?.[0],delete u.stores,u}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ph=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpointsService=u,this.converterService=p}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe((0,Ee.U)(o=>o.languages??[]),this.converterService.pipeableMany(d_))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe((0,Ee.U)(o=>o.currencies??[]),this.converterService.pipeableMany(iy))}loadCountries(o){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:o?{type:o}:void 0})).pipe((0,Ee.U)(u=>u.countries??[]),this.converterService.pipeableMany(ym))}loadRegions(o){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:o}})).pipe((0,Ee.U)(u=>u.regions??[]),this.converterService.pipeableMany(sy))}loadBaseSite(o){return o||(o=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,Ee.U)(u=>u.baseSites.find(p=>p.uid===o)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,Ee.U)(o=>o.baseSites),this.converterService.pipeableMany(Sm))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const pA={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}};let aC=(()=>{class t{constructor(o,u,p,m){this.languageService=o,this.currencyService=u,this.occEndpoints=p,this.config=m,this.activeLang=Na(this.config,Ua),this.activeCurr=Na(this.config,Qr),this.languageService.getActive().subscribe(S=>this.activeLang=S),this.currencyService.getActive().subscribe(S=>{this.activeCurr=S})}intercept(o,u){return o.url.includes(this.occEndpoints.getBaseUrl())&&(o=o.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),u.handle(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Es),e.LFG(Yu),e.LFG(Ir),e.LFG(Fs))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nc=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Zo(pA),{provide:Cm,useClass:Ph},{provide:Vt.TP,useExisting:aC,multi:!0},{provide:Sm,useExisting:dA,multi:!0}],imports:[Lt.ez]}),t})(),fA=(()=>{class t{constructor(o){this.anonymousConsentsService=o}convert(o){return this.anonymousConsentsService.decodeAndDeserialize(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Ga))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cC=(()=>{class t{constructor(o){this.converter=o}convert(o,u){return void 0===u&&(u={...o}),o&&o.results&&(u.results=o.results.map(p=>({...p,product:this.converter.convert(p.product,Qu)}))),u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const td=new e.OlP("ConsentTemplateNormalizer");let hA=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}loadAnonymousConsentTemplates(){const o=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(o).pipe((0,me.K)(u=>(0,G._)(u)),(0,Ee.U)(u=>u.consentTemplates??[]),this.converter.pipeableMany(td))}loadAnonymousConsents(){const o=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(o,{observe:"response"}).pipe((0,me.K)(u=>(0,G._)(u)),(0,Ee.U)(u=>u.headers.get(fn)??""),this.converter.pipeable(T_))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const gA=new e.OlP("CustomerCouponSearchResultNormalizer");let mA=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}getCustomerCoupons(o,u,p,m){if(o===Ls)return(0,E.of)({});const S=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:o}});let I=(new Vt.LE).set("sort",m||"startDate:asc");u&&(I=I.set("pageSize",u.toString())),p&&(I=I.set("currentPage",p.toString()));const Y=this.newHttpHeader();return this.http.get(S,{headers:Y,params:I}).pipe(this.converter.pipeable(gA))}turnOffNotification(o,u){const p=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:o,couponCode:u}}),m=this.newHttpHeader();return this.http.delete(p,{headers:m})}turnOnNotification(o,u){const p=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:o,couponCode:u}}),m=this.newHttpHeader();return this.http.post(p,{headers:m})}claimCustomerCoupon(o,u){const p=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:o,couponCode:u}}),m=this.newHttpHeader();return this.http.post(p,{headers:m})}newHttpHeader(){return new Vt.WM({"Content-Type":"application/json"})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const Ep=new e.OlP("AddressNormalizer"),Oh=new e.OlP("AddressesNormalizer"),nv=new e.OlP("AddressSerializer"),vA=new e.OlP("AddressValidationNormalizer");let RS=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}loadAll(o){const u=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:o}}),p=new Vt.WM({"Content-Type":"application/json"});return this.http.get(u,{headers:p}).pipe((0,me.K)(m=>(0,G._)(m)),(0,Ee.U)(m=>m.addresses??[]),this.converter.pipeableMany(Ep))}add(o,u){const p=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:o}}),m=new Vt.WM({"Content-Type":"application/json"});return u=this.converter.convert(u,nv),this.http.post(p,u,{headers:m}).pipe((0,me.K)(S=>(0,G._)(S)))}update(o,u,p){const m=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:o,addressId:u}}),S=new Vt.WM({"Content-Type":"application/json"});return p=this.converter.convert(p,nv),this.http.patch(m,p,{headers:S}).pipe((0,me.K)(I=>(0,G._)(I)))}verify(o,u){const p=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:o}});let m=new Vt.WM({"Content-Type":"application/json"});return o===Ls&&(m=Cu.createHeader(ra,!0,m)),u=this.converter.convert(u,nv),this.http.post(p,u,{headers:m}).pipe((0,me.K)(S=>(0,G._)(S)),this.converter.pipeable(vA))}delete(o,u){const p=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:o,addressId:u}}),m=new Vt.WM({"Content-Type":"application/json"});return this.http.delete(p,{headers:m}).pipe((0,me.K)(S=>(0,G._)(S)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),PS=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}loadConsents(o){const u=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:o}}),p=new Vt.WM({"Cache-Control":"no-cache"});return this.http.get(u,{headers:p}).pipe((0,me.K)(m=>(0,G._)(m)),(0,Ee.U)(m=>m.consentTemplates??[]),this.converter.pipeableMany(td))}giveConsent(o,u,p){const m=this.occEndpoints.buildUrl("consents",{urlParams:{userId:o}}),S=(new Vt.LE).set("consentTemplateId",u).set("consentTemplateVersion",p.toString()),I=new Vt.WM({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(m,S,{headers:I}).pipe((0,me.K)(Y=>(0,G._)(Y)),this.converter.pipeable(td))}withdrawConsent(o,u){const p=new Vt.WM({"Cache-Control":"no-cache"}),m=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:o,consentId:u}});return this.http.delete(m,{headers:p})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const rv=new e.OlP("ProductInterestsNormalizer"),uC=new Vt.WM({"Content-Type":"application/json"});let _A=(()=>{class t{constructor(o,u,p,m){this.http=o,this.occEndpoints=u,this.config=p,this.converter=m}getInterests(o,u,p,m,S,I){let Y=(new Vt.LE).set("sort",m||"name:asc");return u&&(Y=Y.set("pageSize",u.toString())),p&&(Y=Y.set("currentPage",p.toString())),S&&(Y=Y.set("productCode",S)),I&&(Y=Y.set("notificationType",I.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:o}}),{headers:uC,params:Y}).pipe(this.converter.pipeable(rv),(0,me.K)(ae=>(0,G._)(ae)))}removeInterest(o,u){const p=[];return u.productInterestEntry?.forEach(m=>{const S=(new Vt.LE).set("productCode",u.product?.code??"").set("notificationType",m.interestType);p.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:o}}),{params:S}).pipe((0,me.K)(I=>(0,G._)(I))))}),(0,Re.D)(p)}addInterest(o,u,p){const m=(new Vt.LE).set("productCode",u).set("notificationType",p.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:o}}),{},{headers:uC,params:m}).pipe((0,me.K)(S=>(0,G._)(S)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(ks),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const CA=new e.OlP("NotificationPreferenceSerializer"),xD=new e.OlP("NotificationPreferenceNormalizer");class ov{}let lC=(()=>{class t{constructor(o){this.adapter=o}loadAll(o){return this.adapter.loadAll(o)}update(o,u){return this.adapter.update(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ov))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dC=new Vt.WM({"Content-Type":"application/json"});let pC=(()=>{class t{constructor(o,u,p){this.http=o,this.converter=u,this.occEndpoints=p}loadAll(o){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:o}}),{headers:dC}).pipe((0,Ee.U)(u=>u.preferences??[]),this.converter.pipeableMany(xD),(0,me.K)(u=>(0,G._)(u)))}update(o,u){return u=this.converter.convert(u,CA),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:o}}),{preferences:u},{headers:dC}).pipe((0,me.K)(p=>(0,G._)(p)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(go),e.LFG(Ir))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),fC=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}loadAll(o){const u=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:o}})+"?saved=true",p=new Vt.WM({"Content-Type":"application/json"});return this.http.get(u,{headers:p}).pipe((0,me.K)(m=>(0,G._)(m)),(0,Ee.U)(m=>m.payments??[]),this.converter.pipeableMany(Uo))}delete(o,u){const p=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:o,paymentDetailId:u}}),m=new Vt.WM({"Content-Type":"application/json"});return this.http.delete(p,{headers:m}).pipe((0,me.K)(S=>(0,G._)(S)))}setDefault(o,u){const p=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:o,paymentDetailId:u}}),m=new Vt.WM({"Content-Type":"application/json"});return this.http.patch(p,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:m}).pipe((0,me.K)(S=>(0,G._)(S)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();class OS{}class LS{}class FS{}class kS{}class hC{}class iv{}let NS=(()=>{class t{constructor(o){this.converter=o}convert(o,u){return void 0===u&&(u={...o}),u.values=o.addresses?.map(p=>({...this.converter.convert(p,Ep)}))??[],u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const US={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}};let BS=(()=>{class t{constructor(o,u,p){this.http=o,this.occEndpoints=u,this.converter=p}loadActiveList(o){const u=(new Vt.qT).set(tv,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(o),{context:u}).pipe(this.converter.pipeable(Rh))}getCostCentersEndpoint(o,u){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:o},queryParams:u})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Vt.eN),e.LFG(Ir),e.LFG(go))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),GS=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Zo(US),{provide:OS,useClass:RS},{provide:LS,useClass:PS},{provide:Mi,useClass:hA},{provide:iv,useClass:fC},{provide:kS,useClass:mA},{provide:ov,useClass:pC},{provide:hC,useClass:_A},{provide:FS,useClass:BS},{provide:rv,useExisting:cC,multi:!0},{provide:T_,useExisting:fA,multi:!0},{provide:Oh,useExisting:NS,multi:!0}],imports:[Lt.ez]}),t})();const yA={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function VS(t){if(void 0===t.backend||void 0===t.backend.occ||void 0===t.backend.occ.baseUrl)return"Please configure backend.occ.baseUrl before using storefront library!"}let HS=(()=>{class t{constructor(o){this.config=o}intercept(o,u){return this.requiresWithCredentials(o)&&(o=o.clone({withCredentials:!0})),u.handle(o)}requiresWithCredentials(o){return void 0!==this.occConfig?.useWithCredentials&&o.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ks))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SA=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:Vt.TP,useExisting:HS,multi:!0},Zo(yA),Id(VS)]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[vS,nc]}),t})();function EA(t){const c=DA("occ-backend-base-url",t);return c&&"OCC_BACKEND_BASE_URL_VALUE"!==c?{backend:{occ:{baseUrl:c}}}:{}}function AA(t){const c=DA("media-backend-base-url",t);return c&&"MEDIA_BACKEND_BASE_URL_VALUE"!==c?{backend:{media:{baseUrl:c}}}:{}}function DA(t,c){const o=c.getTag(`name="${t}"`);return o&&o.content}let ZS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Qs(EA,[xn.h_]),Qs(AA,[xn.h_])]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})(),YS=(()=>{class t{constructor(o){this.config=o}expand(o,u){const p=this.config?.backend?.loadingScopes?.[o];if(p){const m=[...u];let S=m.length;for(;S>0;){S--;const I=p[m[S]]?.include;if(I)for(const Y of I)m.includes(Y)||(m.splice(S,0,Y),S++)}return m}return u}getMaxAge(o,u){return 1e3*(this.config.backend?.loadingScopes?.[o]?.[u]?.maxAge??0)}getReloadTriggers(o,u){return this.config.backend?.loadingScopes?.[o]?.[u]?.reloadOn??[]}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(ks))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zS=new e.OlP("ProcessReducers"),gC={provide:zS,useFactory:function Lh(){return hi(Xn)}};let bA=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[gC],imports:[oa,h.Aw.forFeature(Xn,zS)]}),t})(),WS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[bA]}),t})(),JS=(()=>{class t{constructor(o){this.adapter=o}get(o,u=""){return this.adapter.load(o,u)}getMany(o){return this.adapter.loadMany?this.adapter.loadMany(o):o.map(u=>({...u,data$:this.adapter.load(u.code,u.scope)}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(IS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TA=(()=>{class t{constructor(o){this.adapter=o}get(o,u,p){return this.adapter.load(o,u,p)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(uA))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xA=(()=>{class t{constructor(o){this.adapter=o}get(o,u){return this.adapter.load(o,u)}add(o,u){return this.adapter.post(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(iC))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sv=(()=>{class t{constructor(o){this.adapter=o}search(o,u){return this.adapter.search(o,u)}getSuggestions(o,u){return this.adapter.loadSuggestions(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(sC))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mC=(()=>{class t extends yi{}return t.type="FacetChangedEvent",t})();const av="[Product] Load Product References Data",kh="[Product] Load Product References Data Success",KS="[Product] Clean Product References";class vC{constructor(c){this.payload=c,this.type=av}}class QS{constructor(c){this.payload=c,this.type="[Product] Load Product References Data Fail"}}class _C{constructor(c){this.payload=c,this.type=kh}}class nd{constructor(){this.type=KS}}const CC="[Product] Load Product Reviews Data",Nh="[Product] Load Product Reviews Data Success",qS="[Product] Post Product Review",eE="[Product] Post Product Review Success";class tE{constructor(c){this.payload=c,this.type=CC}}class nE{constructor(c){this.payload=c,this.type="[Product] Load Product Reviews Data Fail"}}class rE{constructor(c){this.payload=c,this.type=Nh}}class SC{constructor(c){this.payload=c,this.type=qS}}class EC{constructor(c){this.payload=c,this.type="[Product] Post Product Review Fail"}}class oE{constructor(c){this.payload=c,this.type=eE}}const cv="[Product] Search Products",DC="[Product] Search Products Success",bC="[Product] Get Product Suggestions",uv="[Product] Get Product Suggestions Success",lv="[Product] Clear Product Search Result";class dv{constructor(c,o){this.payload=c,this.auxiliary=o,this.type=cv}}class TC{constructor(c,o){this.payload=c,this.auxiliary=o,this.type="[Product] Search Products Fail"}}class xC{constructor(c,o){this.payload=c,this.auxiliary=o,this.type=DC}}class sE{constructor(c){this.payload=c,this.type=bC}}class MC{constructor(c){this.payload=c,this.type=uv}}class MA{constructor(c){this.payload=c,this.type="[Product] Get Product Suggestions Fail"}}class pv{constructor(c={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=c,this.type=lv}}var Uh;!function(t){function c(ae,Pe,Ne){return{...ws(ae,Pe),scope:Ne}}function o(ae,Pe,Ne,ct){return{...iu(ae,Pe,ct),scope:Ne}}function u(ae,Pe,Ne){return{...cc(ae,Pe),scope:Ne}}function p(ae,Pe,Ne){return{...uc(ae,Pe),scope:Ne}}t.entityScopedLoadMeta=c,t.entityScopedFailMeta=o,t.entityScopedSuccessMeta=u,t.entityScopedResetMeta=p,t.EntityScopedLoadAction=class m{constructor(Pe,Ne,ct){this.type=ri,this.meta=c(Pe,Ne,ct)}},t.EntityScopedFailAction=class S{constructor(Pe,Ne,ct,At){this.type=Da,this.meta=o(Pe,Ne,ct,At)}},t.EntityScopedSuccessAction=class I{constructor(Pe,Ne,ct,At){this.payload=At,this.type=bi,this.meta=u(Pe,Ne,ct)}},t.EntityScopedResetAction=class Y{constructor(Pe,Ne,ct){this.type=ba,this.meta=p(Pe,Ne,ct)}}}(Uh||(Uh={}));const aE="product",fv="[Product] Detail Entity",IC="[Product] Load Product Data",cE="[Product] Load Product Data Fail",uE="[Product] Load Product Data Success";class wA extends Uh.EntityScopedLoadAction{constructor(c,o=""){super(fv,c,o),this.payload=c,this.type=IC}}class Dp extends Uh.EntityScopedFailAction{constructor(c,o,u=""){super(fv,c,u,o),this.payload=o,this.type=cE}}class RA extends Uh.EntityScopedSuccessAction{constructor(c,o=""){super(fv,c.code??"",o),this.payload=c,this.type=uE}}class wC extends Uh.EntityScopedResetAction{constructor(){super(fv,void 0,"price"),this.type="[Product] Clear Product PRICE"}}const bp=(0,h.ZF)(aE),PC=(0,h.P1)(bp,t=>t.references),hv=(0,h.P1)(bp,t=>t.reviews),OA={results:{},suggestions:[],auxResults:{}};function lE(t=OA,c){switch(c.type){case DC:{const o=c.payload,u=c.auxiliary?{auxResults:o}:{results:o};return{...t,...u}}case uv:{const o=c.payload;return{...t,suggestions:o}}case lv:return{...t,results:c.payload.clearPageResults?{}:t.results,suggestions:c.payload.clearSearchboxResults?[]:t.suggestions,auxResults:c.payload.clearSearchboxResults?{}:t.auxResults}}return t}const gv=(0,h.P1)(bp,t=>t.search),Bh=(0,h.P1)(gv,t=>t.results),dE=(0,h.P1)(gv,t=>t.auxResults),FA=(0,h.P1)(gv,t=>t.suggestions),pE=(0,h.P1)(bp,t=>t.details),Gh=(t,c="")=>(0,h.P1)(pE,o=>Fo(o,t)[c]||Pi),LC=(t,c="")=>(0,h.P1)(Gh(t,c),o=>co(o));(0,h.P1)(pE,t=>Object.keys(t.entities));let rd=(()=>{class t{constructor(o){this.store=o}search(o,u){o&&this.store.dispatch(new dv({queryText:o,searchConfig:u}))}getResults(){return this.store.pipe((0,h.Ys)(Bh))}clearResults(){this.store.dispatch(new pv({clearPageResults:!0}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RD=(()=>{class t{constructor(o,u){this.eventService=o,this.productSearchService=u,this.register()}register(){this.eventService.register(mC,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe((0,It.G)(),(0,it.h)(([o,u])=>this.compareSearchResults(o,u)),(0,Ee.U)(([o,u])=>{const p=this.getToggledBreadcrumb(u.breadcrumbs,o.breadcrumbs)||this.getToggledBreadcrumb(o.breadcrumbs,u.breadcrumbs);if(p)return Bs(mC,{code:p.facetCode,name:p.facetName,valueCode:p.facetValueCode,valueName:p.facetValueName,selected:u.breadcrumbs&&o.breadcrumbs&&u.breadcrumbs.length>o.breadcrumbs.length})}))}compareSearchResults(o,u){if(o&&0!==Object.keys(o).length){const m="allCategories"===u.breadcrumbs?.[0]?.facetCode&&o.breadcrumbs?.[0]?.facetCode===u.breadcrumbs[0]?.facetCode&&o.breadcrumbs[0].facetValueCode===u.breadcrumbs[0].facetValueCode;return""!==o.freeTextSearch&&o.freeTextSearch===u.freeTextSearch||m}return!1}getToggledBreadcrumb(o,u){if(o&&u&&o.length-u.length==1)return o.find(p=>!u.find(m=>m.facetCode===p.facetCode&&m.facetValueCode===p.facetValueCode))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(sa),e.LFG(rd))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_a=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(RD))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const BA=[(()=>{class t{constructor(o,u){this.actions$=o,this.productSearchConnector=u,this.searchProducts$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(cv),(0,nn.v)(p=>p.auxiliary),(0,pn.zg)(p=>p.pipe((0,Dt.w)(m=>this.productSearchConnector.search(m.payload.queryText,m.payload.searchConfig).pipe((0,Ee.U)(S=>new xC(S,m.auxiliary)),(0,me.K)(S=>(0,E.of)(new TC(On(S),m.auxiliary))))))))),this.getProductSuggestions$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(bC),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.productSearchConnector.getSuggestions(p.term,p.searchConfig?.pageSize).pipe((0,Ee.U)(m=>new MC(void 0===m?[]:m)),(0,me.K)(m=>(0,E.of)(new MA(On(m))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(sv))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.productConnector=u,this.contextChange$=this.actions$.pipe((0,st.l4)(dl,ds)),this.loadProduct$=(0,st.GW)(()=>({scheduler:p,debounce:m=0}={})=>this.actions$.pipe((0,st.l4)(IC),(0,Ee.U)(S=>({code:S.payload,scope:S.meta.scope})),Iy(m,p),(0,pn.zg)(S=>(0,fe.T)(...this.productConnector.getMany(S).map(this.productLoadEffect))),jm(this.contextChange$))),this.clearProductPrice$=this.actions$.pipe((0,st.l4)(Li,mi),(0,Ee.U)(()=>new wC))}productLoadEffect(o){return o.data$?.pipe((0,Ee.U)(u=>new RA({code:o.code,...u},o.scope)),(0,me.K)(u=>(0,E.of)(new Dp(o.code,On(u),o.scope))))??(0,E.of)(new Dp(o.code,"Scoped product data does not exist",o.scope))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(JS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),(0,xs.gn)([(0,st.Qm)()],t.prototype,"clearProductPrice$",void 0),t})(),(()=>{class t{constructor(o,u,p){this.actions$=o,this.productReviewsConnector=u,this.globalMessageService=p,this.loadProductReviews$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(CC),(0,Ee.U)(m=>m.payload),(0,pn.zg)(m=>this.productReviewsConnector.get(m).pipe((0,Ee.U)(S=>new rE({productCode:m,list:S})),(0,me.K)(S=>(0,E.of)(new nE({message:m}))))))),this.postProductReview=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(qS),(0,Ee.U)(m=>m.payload),(0,pn.zg)(m=>this.productReviewsConnector.add(m.productCode,m.review).pipe((0,Ee.U)(S=>new oE(S)),(0,me.K)(S=>(0,E.of)(new EC(m.productCode))))))),this.showGlobalMessageOnPostProductReviewSuccess$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(eE),(0,wt.b)(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},yr.MSG_TYPE_CONFIRMATION)})),{dispatch:!1})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(xA),e.LFG(Pc))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.productReferencesConnector=u,this.loadProductReferences$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(av),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.productReferencesConnector.get(p.productCode,p.referenceType,p.pageSize).pipe((0,Ee.U)(m=>new _C({productCode:p.productCode,list:m})),(0,me.K)(m=>(0,E.of)(new QS({message:p.productCode})))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(TA))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],FC={};const mv={productCode:"",list:[]};function mE(t=mv,c){switch(c.type){case kh:{const o=c.payload.productCode,u=c.payload.list;return{...t,list:[...t.list,...u||[]].reduce((p,m)=>(p.some(S=>S.referenceType===m.referenceType&&S.target?.code===m.target?.code)||p.push(m),p),[]),productCode:o}}case KS:return mv}return t}const vE={productCode:"",list:[]};function _E(t=vE,c){if(c.type===Nh){const o=c.payload.productCode,u=c.payload.list;return{...t,productCode:o,list:u}}return t}const vv=new e.OlP("ProductReducers"),Xu={provide:vv,useFactory:function jA(){return{search:lE,details:(t=fv,$i(t,function GA(t,c){const o=Wr(t,c);return(u=FC,p)=>p&&p.meta&&p.meta.entityType===t?{...u,[p.meta.scope??""]:o(u[p.meta.scope??""],p)}:u}(t,c))),reviews:_E,references:mE};var t,c}},kC=[function CE(t){return function(c,o){return(o.type===dl||o.type===ds)&&(c=void 0),t(c,o)}}];let Qc=(()=>{class t{constructor(o){this.store=o}loadProductReferences(o,u,p){this.store.dispatch(new vC({productCode:o,referenceType:u,pageSize:p}))}getProductReferences(o,u){return this.store.pipe((0,h.Ys)(((t,c)=>(0,h.P1)(PC,o=>o.productCode===t&&o.list?c?o.list.filter(u=>u.referenceType===c):o.list:[]))(o,u)))}cleanReferences(){this.store.dispatch(new nd)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZA=(()=>{class t{constructor(o){this.store=o}getByProductCode(o){return this.store.pipe((0,h.Ys)((t=>(0,h.P1)(hv,c=>{if(c.productCode===t)return c.list}))(o)),(0,wt.b)(u=>{void 0===u&&void 0!==o&&this.store.dispatch(new tE(o))}),(0,Ee.U)(u=>u??[]))}add(o,u){this.store.dispatch(new SC({productCode:o,review:u}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kD=(()=>{class t{constructor(o,u,p,m,S){this.store=o,this.loadingScopes=u,this.actions$=p,this.platformId=m,this.eventService=S,this.products={}}get(o,u){return u=this.loadingScopes.expand("product",u),this.initProductScopes(o,u),this.products[o][this.getScopesIndex(u)]}initProductScopes(o,u){this.products[o]||(this.products[o]={});for(const p of u)this.products[o][p]||(this.products[o][p]=this.getProductForScope(o,p));u.length>1&&(this.products[o][this.getScopesIndex(u)]=eS(u.map(p=>this.products[o][p])).pipe((0,Ee.U)(p=>p.every(Boolean)?io({},...p):void 0),(0,Ct.x)()))}getScopesIndex(o){return o.join("\u0275")}getProductForScope(o,u){const p=this.store.pipe((0,h.Ys)(Gh(o,u)),(0,Ee.U)(Y=>!Y.loading&&!Y.success&&!Y.error),(0,Ct.x)(),(0,it.h)(Y=>Y)),m=this.store.pipe((0,h.Ys)(LC(o,u))),S=(0,fe.T)(p,...this.getProductReloadTriggers(o,u)).pipe((0,Ot.b)(0),(0,dt.M)(m),(0,wt.b)(([,Y])=>{Y||this.store.dispatch(new wA(o,u))})),I=this.store.pipe((0,h.Ys)(((t,c="")=>(0,h.P1)(Gh(t,c),o=>Lr(o)))(o,u)));return(0,ue.g)(()=>S.subscribe(),()=>I).pipe((0,Zt.d)({bufferSize:1,refCount:!0}))}getProductReloadTriggers(o,u){const p=[],m=this.loadingScopes.getMaxAge("product",u);if(m&&(0,Lt.NF)(this.platformId)){const I=this.actions$.pipe((0,st.l4)(uE,cE),(0,it.h)(ae=>ae.meta.entityId===o&&ae.meta.scope===u)),Y=this.actions$.pipe((0,st.l4)(IC),(0,it.h)(ae=>ae.payload===o&&ae.meta.scope===u));p.push(this.getMaxAgeTrigger(Y,I,m))}const S=this.loadingScopes.getReloadTriggers("product",u).map(I=>this.eventService.get(I));return p.concat(S)}getMaxAgeTrigger(o,u,p,m){let S=0;const I=()=>m?m.now():Date.now(),Y=u.pipe((0,wt.b)(()=>S=I()));return(0,De.P)(()=>{const Pe=I()-S,Ne=Y.pipe((0,hn.g)(p,m),(0,Ze.h)(!0),jm(o));return Pe>p?(0,fe.T)((0,E.of)(!0),Ne):0===Pe?Ne:(0,fe.T)((0,E.of)(!0).pipe((0,hn.g)(p-Pe,m)),Ne)})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(YS),e.LFG(st.eX),e.LFG(e.Lbi),e.LFG(sa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yE=(()=>{class t{constructor(o,u){this.store=o,this.productLoading=u}get(o,u=yu){return o?this.productLoading.get(o,[].concat(u)):(0,E.of)(void 0)}isLoading(o,u=""){return this.store.pipe((0,h.Ys)(LC(o,u)))}isSuccess(o,u=""){return this.store.pipe((0,h.Ys)(((t,c="")=>(0,h.P1)(Gh(t,c),o=>Lo(o)))(o,u)))}hasError(o,u=""){return this.store.pipe((0,h.Ys)(((t,c="")=>(0,h.P1)(Gh(t,c),o=>oi(o)))(o,u)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(kD))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YA=(()=>{class t extends rd{search(o,u){this.store.dispatch(new dv({queryText:o,searchConfig:u},!0))}getResults(){return this.store.pipe((0,h.Ys)(dE))}clearResults(){this.store.dispatch(new pv({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe((0,h.Ys)(FA))}searchSuggestions(o,u){this.store.dispatch(new sE({term:o,searchConfig:u}))}}return t.\u0275fac=function(){let c;return function(u){return(c||(c=e.n5z(t)))(u||t)}}(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zA=(()=>{class t extends Ys{constructor(o,u,p,m){super(),this.productSearchService=o,this.cms=u,this.translation=p,this.basePageMetaResolver=m,this.searchPage$=this.cms.getCurrentPage().pipe((0,it.h)(S=>Boolean(S)),(0,Dt.w)(S=>this.hasProductListComponent(S)?this.productSearchService.getResults().pipe((0,it.h)(I=>Boolean(I))):(0,E.of)(S))),this.pageType=W.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe((0,it.h)(o=>!!o.pagination),(0,Dt.w)(o=>this.translation.translate("pageMetaResolver.category.title",{count:o.pagination?.totalResults,query:o.breadcrumbs?.length?o.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return(0,j.aj)([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe((0,Ee.U)(([o,u])=>o.breadcrumbs?this.resolveBreadcrumbData(o,u):[]))}resolveBreadcrumbData(o,u){const p=[];p.push({label:u,link:"/"});for(const m of o.breadcrumbs??[])m.facetValueName&&(("category"===m.facetCode||"allCategories"===m.facetCode)&&p.push({label:m.facetValueName,link:`/c/${m.facetValueCode}`}),"brand"===m.facetCode&&p.push({label:m.facetValueName,link:`/Brands/${m.facetValueName}/c/${m.facetValueCode}`}));return p}hasProductListComponent(o){return!!Object.keys(o.slots||{}).find(u=>!!o.slots?.[u].components?.find(p=>"CMSProductListComponent"===p.typeCode||"ProductGridComponent"===p.typeCode))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(rd),e.LFG(Sh),e.LFG(Kc),e.LFG(Eh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WA=(()=>{class t extends Ys{constructor(o,u,p,m,S){super(),this.productSearchService=o,this.translation=u,this.authService=p,this.route=m,this.semanticPathService=S,this.total$=this.productSearchService.getResults().pipe((0,it.h)(I=>!!I?.pagination),(0,Ee.U)(I=>I.pagination?.totalResults??0)),this.pageType=W.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return(0,j.aj)([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe((0,Ee.U)(([o,u,p])=>{const m=[];return m.push({label:o,link:"/"}),p&&m.push({label:u,link:this.semanticPathService.transform({cxRoute:"coupons"})}),m}))}resolveTitle(){return this.total$.pipe((0,Dt.w)(o=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:o,coupon:this.couponCode})))}getScore(o){return super.getScore(o)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(rd),e.LFG(Kc),e.LFG(_i),e.LFG(un.gz),e.LFG(vi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SE=(()=>{class t extends Ys{constructor(o,u,p,m,S){super(),this.routingService=o,this.productService=u,this.translation=p,this.basePageMetaResolver=m,this.pageLinkService=S,this.product$=this.routingService.getRouterState().pipe((0,Ee.U)(I=>I.state.params.productCode),(0,it.h)(I=>!!I),(0,Dt.w)(I=>this.productService.get(I,"details")),(0,it.h)(Fi)),this.pageType=W.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe((0,Dt.w)(o=>this.translation.translate("pageMetaResolver.product.heading",{heading:o.name})))}resolveTitle(){return this.product$.pipe((0,Dt.w)(o=>{let u=o.name;return u+=this.resolveFirstCategory(o),u+=this.resolveManufacturer(o),this.translation.translate("pageMetaResolver.product.title",{title:u})}))}resolveDescription(){return this.product$.pipe((0,Dt.w)(o=>this.translation.translate("pageMetaResolver.product.description",{description:o.summary})))}resolveBreadcrumbs(){return(0,j.aj)([this.product$.pipe(),this.translation.translate("common.home")]).pipe((0,Ee.U)(([o,u])=>{const p=[];p.push({label:u,link:"/"});for(const{name:m,code:S,url:I}of o.categories||[])p.push({label:m||S,link:I});return p}))}resolveImage(){return this.product$.pipe((0,Ee.U)(o=>o.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(o){const u=o?.categories?.[0];return u?` | ${u.name||u.code}`:""}resolveManufacturer(o){return o.manufacturer?` | ${o.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe((0,Dt.w)(o=>this.findBaseProduct(o)),(0,Ee.U)(o=>{const u=this.routingService.getFullUrl({cxRoute:"product",params:o});return this.pageLinkService.getCanonicalUrl({},u)}))}findBaseProduct(o){return o?.baseProduct?this.productService.get(o.baseProduct,"list").pipe((0,it.h)(Fi),(0,Dt.w)(u=>this.findBaseProduct(u))):(0,E.of)(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(na),e.LFG(yE),e.LFG(Kc),e.LFG(Eh),e.LFG(Ty))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ND=(()=>{class t extends Ys{constructor(o,u,p,m){super(),this.routingService=o,this.productSearchService=u,this.translation=p,this.basePageMetaResolver=m,this.total$=this.productSearchService.getResults().pipe((0,it.h)(S=>!!S?.pagination),(0,Ee.U)(S=>S.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe((0,Ee.U)(S=>S.state.params.query)),this.pageType=W.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){return(0,j.aj)([this.total$,this.query$]).pipe((0,Dt.w)(([u,p])=>this.translation.translate("pageMetaResolver.search.default_title").pipe((0,pn.zg)(m=>this.translation.translate("pageMetaResolver.search.title",{count:u,query:p||m})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(na),e.LFG(rd),e.LFG(Kc),e.LFG(Eh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function EE(){return{state:{ssrTransfer:{keys:{[aE]:Mc.TRANSFER_STATE}}}}}let JA=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Is(EE),Xu],imports:[Lt.ez,h.Aw.forFeature(aE,vv,{metaReducers:kC}),st.sQ.forFeature(BA)]}),t})();const AE=[{provide:Ys,useExisting:SE,multi:!0},{provide:Ys,useExisting:zA,multi:!0},{provide:Ys,useExisting:ND,multi:!0},{provide:Ys,useExisting:WA,multi:!0}];let UD=(()=>{class t{static forRoot(){return{ngModule:t,providers:[...AE]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[JA,_a]}),t})(),_v=(()=>{class t{constructor(o){this.adapter=o}getAll(o){return this.adapter.loadAll(o)}add(o,u){return this.adapter.add(o,u)}update(o,u,p){return this.adapter.update(o,u,p)}verify(o,u){return this.adapter.verify(o,u)}delete(o,u){return this.adapter.delete(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(OS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DE=(()=>{class t{constructor(o){this.adapter=o}loadConsents(o){return this.adapter.loadConsents(o)}giveConsent(o,u,p){return this.adapter.giveConsent(o,u,p)}withdrawConsent(o,u){return this.adapter.withdrawConsent(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(LS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bE=(()=>{class t{constructor(o){this.adapter=o}getActiveList(o){return this.adapter.loadActiveList(o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(FS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TE=(()=>{class t{constructor(o){this.adapter=o}getCustomerCoupons(o,u,p,m){return this.adapter.getCustomerCoupons(o,u,p,m)}turnOnNotification(o,u){return this.adapter.turnOnNotification(o,u)}turnOffNotification(o,u){return this.adapter.turnOffNotification(o,u)}claimCustomerCoupon(o,u){return this.adapter.claimCustomerCoupon(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(kS))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xE=(()=>{class t{constructor(o){this.adapter=o}getInterests(o,u,p,m,S,I){return this.adapter.getInterests(o,u,p,m,S,I)}removeInterest(o,u){return this.adapter.removeInterest(o,u)}addInterest(o,u,p){return this.adapter.addInterest(o,u,p)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(hC))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ME=(()=>{class t{constructor(o){this.adapter=o}getAll(o){return this.adapter.loadAll(o)}delete(o,u){return this.adapter.delete(o,u)}setDefault(o,u){return this.adapter.setDefault(o,u)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(iv))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qc extends yi{}let Vh=(()=>{class t extends qc{}return t.type="UpdateUserAddressEvent",t})(),NC=(()=>{class t extends qc{}return t.type="DeleteUserAddressEvent",t})(),KA=(()=>{class t extends qc{}return t.type="AddUserAddressEvent",t})(),IE=(()=>{class t extends qc{}return t.type="LoadUserAddressesEvent",t})(),wE=(()=>{class t extends qc{}return t.type="LoadUserPaymentMethodsEvent",t})(),RE=(()=>{class t{constructor(o){this.stateEventService=o,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:Lf,event:Vh})}addUserAddressEvent(){this.stateEventService.register({action:Qd,event:KA})}deleteUserAddressEvent(){this.stateEventService.register({action:Ff,event:NC})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Hr))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),QA=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(RE))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();var rc=(()=>{return(t=rc||(rc={}))[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",rc;var t})();let PE=(()=>{class t{constructor(){this.subscriptions=new z.w}create(o,u){const p=new ee.xQ,m=new ee.xQ;let S;switch(u?.strategy){case rc.CancelPrevious:case rc.ErrorPrevious:S=de(p,m).pipe((0,Dt.w)(([Y,ae])=>o(Y).pipe((0,wt.b)(ae),(0,Wt.x)(()=>u.strategy===rc.CancelPrevious?ae.complete():ae.error(new Error("Canceled by next command"))))),Oe());break;case rc.Parallel:S=de(p,m).pipe((0,pn.zg)(([Y,ae])=>o(Y).pipe((0,wt.b)(ae))),Oe());break;default:S=de(p,m).pipe((0,Ut.b)(([Y,ae])=>o(Y).pipe((0,wt.b)(ae))),Oe())}return this.subscriptions.add(S.subscribe()),new class extends class BD{}{constructor(){super(...arguments),this.execute=Y=>{const ae=new P.t;return m.next(ae),p.next(Y),ae}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qA=(()=>{class t{constructor(o){this.eventService=o,this.subscriptions=new z.w}create(o,u){const p={data:void 0,error:!1,loading:!0},m=new R.X(p),S=(0,V.s)(()=>m.value.loading,(0,E.of)(void 0)),I=this.getTriggersStream([S,...u?.reloadOn??[],...u?.resetOn??[]]),Y=this.getTriggersStream(u?.resetOn??[]),ae=this.getTriggersStream(u?.reloadOn??[]),Pe=I.pipe((0,wt.b)(()=>{m.value.loading||m.next({...m.value,loading:!0})}),(0,Pt.c)(o().pipe((0,qe.R)(Y))),(0,wt.b)(At=>{m.next({loading:!1,error:!1,data:At})}),(0,me.K)((At,gt)=>(m.next({loading:!1,error:At,data:void 0}),gt)),(0,$t.B)());u?.reloadOn?.length&&this.subscriptions.add(ae.subscribe(()=>{m.value.loading||m.next({...m.value,loading:!0})})),u?.resetOn?.length&&this.subscriptions.add(Y.subscribe(()=>{(void 0!==m.value.data||!1!==m.value.error||!1!==m.value.loading)&&m.next(p)}));const Ne=(0,ue.g)(()=>Pe.subscribe(),()=>m),ct=Ne.pipe((0,ft.j)("data"),(0,Ct.x)());return{get:()=>ct,getState:()=>Ne}}getTriggersStream(o){if(!o.length)return oe.E;const u=o.map(p=>(0,ie.b)(p)?p:this.eventService.get(p));return(0,fe.T)(...u)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(sa))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function XA(t){return"JaloObjectNoLongerValidError"===t.details?.[0]?.type}const GD=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,VD=/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/;function HD(t){const c=t?.shouldRetry??(()=>!0),o=t?.maxTries??3,u=t?.delay??300,p=function ne(t=0,c,o){return new q.y(u=>{void 0===c&&(c=t,t=0);let p=0,m=t;if(o)return o.schedule(Ve,0,{index:p,count:c,start:t,subscriber:u});for(;;){if(p++>=c){u.complete();break}if(u.next(m++),u.closed)break}})}(1,o+1);return m=>m.pipe(function Gt(t){return c=>c.lift(new We(t,c))}(S=>de(S,p).pipe((0,pn.zg)(([I,Y])=>Y>o||!c(I)?(0,G._)(I):(0,E.of)(Y)),(0,Ee.U)(I=>I*I),(0,pn.zg)(I=>(0,_e.H)(I*u)))))}var Cv=(()=>{return(t=Cv||(Cv={})).HEAD="head",t.BODY="body",Cv;var t})();let $D=(()=>{class t{constructor(o,u){this.document=o,this.platformId=u}embedScript(o){const{src:u,params:p,attributes:m,callback:S,errorCallback:I,placement:Y=Cv.HEAD}=o,ae=(0,Lt.PM)(this.platformId);if((S||I)&&ae)return;const Pe=p?u+this.parseParams(p):u;if(!ae&&this.hasScript(Pe))return;const Ne=this.document.createElement("script");Ne.src=Pe,Ne.async=!0,Ne.defer=!0,m&&Object.keys(m).forEach(ct=>{ct.startsWith("data-")?Ne.setAttribute(ct,m[ct]):Ne[ct]=m[ct]}),S&&Ne.addEventListener("load",S),I&&Ne.addEventListener("error",I),Y===Cv.HEAD?this.document.head.appendChild(Ne):this.document.body.appendChild(Ne)}hasScript(o){return!!this.document.querySelector(`script[src="${o}"]`)}parseParams(o){let u="";const p=Object.keys(o);return p.length>0&&(u="?"+p.map(m=>encodeURI(m)+"="+encodeURI(o[m])).join("&")),u}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Lt.K0),e.LFG(e.Lbi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class od{static getLocalTimezoneOffset(c){const o=-1*(new Date).getTimezoneOffset();return`${o>=0?c?"-":"+":c?"+":"-"}${Math.abs(Math.floor(o/60)).toString().padStart(2,"0")}:${(o%60).toString().padStart(2,"0")}`}static convertDateToDatetime(c,o){return`${c}T${o?"23:59:59":"00:00:00"}${od.getLocalTimezoneOffset()}`}static convertDatetimeToDate(c){return new Date(`${c.substring(0,19)}${od.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}}let eD=(()=>{class t{constructor(o,u){this.store=o,this.userIdService=u}loadCustomerCoupons(o,u,p){this.userIdService.takeUserId().subscribe(m=>{this.store.dispatch(new Vg({userId:m,pageSize:o,currentPage:u,sort:p}))})}getCustomerCoupons(o){return(0,j.aj)([this.store.pipe((0,h.Ys)(Bu)),this.getClaimCustomerCouponResultLoading()]).pipe((0,it.h)(([,u])=>!u),(0,wt.b)(([u])=>{u.loading||u.success||u.error||this.loadCustomerCoupons(o)}),(0,Ee.U)(([u])=>u.value),(0,it.h)(Fi))}getCustomerCouponsLoaded(){return this.store.pipe((0,h.Ys)(hm))}getCustomerCouponsLoading(){return this.store.pipe((0,h.Ys)(gm))}subscribeCustomerCoupon(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new mf({userId:u,couponCode:o}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Oc(Ya)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(Za(Ya)))}getSubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(Eu(Ya)))}unsubscribeCustomerCoupon(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new vf({userId:u,couponCode:o}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Oc(kc)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(Za(kc)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(Eu(kc)))}claimCustomerCoupon(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new jg({userId:u,couponCode:o}))})}getClaimCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(Za(Tl)))}getClaimCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Oc(Tl)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OE=(()=>{class t{constructor(o,u,p,m){this.store=o,this.userIdService=u,this.userAddressConnector=p,this.command=m,this.userAddressVerificationCommand=this.command.create(S=>this.userIdService.takeUserId(!1).pipe((0,Dt.w)(I=>this.userAddressConnector.verify(I,S.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Xd(o))})}addUserAddress(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new ep({userId:u,address:o}))})}setAddressAsDefault(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new Nf({userId:u,addressId:o,address:{defaultAddress:!0}}))})}updateUserAddress(o,u){this.userIdService.takeUserId().subscribe(p=>{this.store.dispatch(new Nf({userId:p,addressId:o,address:u}))})}deleteUserAddress(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new o_({userId:u,addressId:o}))})}getAddresses(){return this.store.pipe((0,h.Ys)(Ka))}getAddressesLoading(){return this.store.pipe((0,h.Ys)(Hu))}getAddressesLoadedSuccess(){return this.store.pipe((0,h.Ys)(Qa))}loadDeliveryCountries(){this.store.dispatch(new Xi)}getDeliveryCountries(){return this.store.pipe((0,h.Ys)(Jf))}getCountry(o){return this.store.pipe((0,h.Ys)((t=>(0,h.P1)(Wf,c=>0!==Object.keys(c).length?c[t]:null))(o)))}loadRegions(o){this.store.dispatch(new Pf(o))}clearRegions(){this.store.dispatch(new kl)}getRegions(o){return this.store.pipe((0,h.Ys)(th),(0,Ee.U)(({regions:u,country:p,loading:m,loaded:S})=>o||!m&&!S?m&&!S?[]:!m&&o!==p&&o?(p&&this.clearRegions(),this.loadRegions(o),[]):u:(this.clearRegions(),[])))}verifyAddress(o){return this.userAddressVerificationCommand.execute({address:o})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi),e.LFG(_v),e.LFG(PE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),LE=(()=>{class t{constructor(o,u){this.store=o,this.userIdService=u}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe(o=>{this.store.dispatch(new am(o))},()=>{})}getCostCentersState(){return this.store.select(Ss)}getActiveCostCenters(){return this.getCostCentersState().pipe((0,Qt.QV)(H.N),(0,wt.b)(o=>{o.loading||o.success||o.error||this.loadActiveCostCenters()}),(0,it.h)(o=>Boolean(o.success||o.error)),(0,Ee.U)(o=>o.value??[]))}getCostCenterAddresses(o){return this.getActiveCostCenters().pipe((0,Ee.U)(u=>{const p=u.find(m=>m.code===o);return p&&p.unit?p.unit.addresses??[]:[]}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),id=(()=>{class t{constructor(o,u){this.store=o,this.userIdService=u}loadProductInterests(o,u,p,m,S){this.userIdService.takeUserId().subscribe(I=>{this.store.dispatch(new ga({userId:I,pageSize:o,currentPage:u,sort:p,productCode:m,notificationType:S}))})}getProductInterests(){return this.store.pipe((0,h.Ys)(eh))}getAndLoadProductInterests(o){return this.store.pipe((0,h.Ys)(Xf),(0,wt.b)(u=>{u.loading||u.success||u.error||this.loadProductInterests(o)}),(0,Ee.U)(u=>u.value),(0,it.h)(Fi))}getProdutInterestsLoading(){return this.store.pipe((0,h.Ys)(vm))}removeProdutInterest(o,u){this.userIdService.takeUserId().subscribe(p=>{this.store.dispatch(new Gc({userId:p,item:o,singleDelete:u}))})}getRemoveProdutInterestLoading(){return this.store.pipe((0,h.Ys)(Oc(Du)))}getRemoveProdutInterestSuccess(){return this.store.pipe((0,h.Ys)(Za(Du)))}addProductInterest(o,u){this.userIdService.takeUserId().subscribe(p=>{this.store.dispatch(new Wd({userId:p,productCode:o,notificationType:u}))})}getAddProductInterestSuccess(){return this.store.pipe((0,h.Ys)(Za(Dl)))}getAddProductInterestError(){return this.store.pipe((0,h.Ys)(Eu(Dl)))}resetAddInterestState(){this.store.dispatch(new Rf)}resetRemoveInterestState(){this.store.dispatch(new Jd)}clearProductInterests(){this.store.dispatch(new Vs)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),FE=(()=>{class t{constructor(o,u){this.store=o,this.userIdService=u}getPreferences(){return this.store.pipe((0,h.Ys)(Kf))}getEnabledPreferences(){return this.store.pipe((0,h.Ys)(Qf))}loadPreferences(){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new zg(o))})}clearPreferences(){this.store.dispatch(new jd)}getPreferencesLoading(){return this.store.pipe((0,h.Ys)(u_))}updatePreferences(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new Ef({userId:u,preferences:o}))})}getUpdatePreferencesResultLoading(){return this.store.select(Oc(Au))}resetNotificationPreferences(){this.store.dispatch(new Jv)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),UC=(()=>{class t{constructor(o,u){this.store=o,this.userIdService=u}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Yd(o))})}getPaymentMethods(){return this.store.pipe((0,h.Ys)(up))}getPaymentMethodsLoading(){return this.store.pipe((0,h.Ys)(mm))}getPaymentMethodsLoadedSuccess(){return this.store.pipe((0,h.Ys)(qf))}setPaymentMethodAsDefault(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new Qv({userId:u,paymentMethodId:o}))})}deletePaymentMethod(o){this.userIdService.takeUserId().subscribe(u=>{this.store.dispatch(new Qg({userId:u,paymentMethodId:o}))})}getAllBillingCountries(){return this.store.pipe((0,h.Ys)(sp))}loadBillingCountries(){this.store.dispatch(new df)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class yv{}let tD=(()=>{class t{constructor(o,u,p){this.store=o,this.userIdService=u,this.userProfileFacade=p}getTitles(){if(this.userProfileFacade)return this.userProfileFacade.getTitles();throw Error("Cannot get a titles. Install `@spartacus/user` library which provides required services.")}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.yh),e.LFG(zi),e.LFG(yv,8))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rD=[(()=>{class t{constructor(o){this.actions$=o,this.clearMiscsData$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(ds,dl),(0,Ee.U)(()=>new lm)))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.siteConnector=u,this.loadDeliveryCountries$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(fa),(0,Dt.w)(()=>this.siteConnector.getCountries(w.SHIPPING).pipe((0,Ee.U)(p=>new Vd(p)),(0,me.K)(p=>(0,E.of)(new Tu(On(p))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.siteConnector=u,this.loadRegions$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Fl),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.siteConnector.getRegions(p).pipe((0,Ee.U)(m=>new Vc({entities:m,country:p})),(0,me.K)(m=>(0,E.of)(new e_(On(m)))))))),this.resetRegions$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Uu,tm),(0,Ee.U)(()=>new Ri(bl))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u,p,m){this.actions$=o,this.userAddressConnector=u,this.userAddressService=p,this.messageService=m,this.loadUserAddresses$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Nl),(0,Ee.U)(S=>S.payload),(0,pn.zg)(S=>this.userAddressConnector.getAll(S).pipe((0,Ee.U)(I=>new kf(I)),(0,me.K)(I=>(0,E.of)(new Fu(On(I)))))))),this.addUserAddress$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Qd),(0,Ee.U)(S=>S.payload),(0,pn.zg)(S=>this.userAddressConnector.add(S.userId,S.address).pipe((0,Ee.U)(I=>new ty(I)),(0,me.K)(I=>(0,E.of)(new ey(On(I)))))))),this.updateUserAddress$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Lf),(0,Ee.U)(S=>S.payload),(0,pn.zg)(S=>this.userAddressConnector.update(S.userId,S.addressId,S.address).pipe((0,Ee.U)(I=>S.address&&1===Object.keys(S.address).length&&S.address.defaultAddress?new Xd(S.userId):new om(I)),(0,me.K)(I=>(0,E.of)(new rm(On(I)))))))),this.deleteUserAddress$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Ff),(0,Ee.U)(S=>S.payload),(0,pn.zg)(S=>this.userAddressConnector.delete(S.userId,S.addressId).pipe((0,Ee.U)(I=>new i_(I)),(0,me.K)(I=>(0,E.of)(new im(On(I)))))))),this.showGlobalMessageOnAddSuccess$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Of),(0,wt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(qd),(0,wt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(r_),(0,wt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(o){this.messageService.add({key:o},yr.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(_v),e.LFG(OE),e.LFG(Pc))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u,p){this.actions$=o,this.userPaymentMethodConnector=u,this.globalMessageService=p,this.loadUserPaymentMethods$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Mu),(0,Ee.U)(m=>m.payload),(0,pn.zg)(m=>this.userPaymentMethodConnector.getAll(m).pipe((0,Ee.U)(S=>new Kg(S)),(0,me.K)(S=>(0,E.of)(new Ru(On(S)))))))),this.setDefaultUserPaymentMethod$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Iu),(0,Ee.U)(m=>m.payload),(0,pn.zg)(m=>this.userPaymentMethodConnector.setDefault(m.userId,m.paymentMethodId).pipe((0,Dt.w)(S=>[new Ol(S),new Yd(m.userId)]),(0,me.K)(S=>(0,E.of)(new Bc(On(S)))))))),this.deleteUserPaymentMethod$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)($r),(0,Ee.U)(m=>m.payload),(0,pn.zg)(m=>this.userPaymentMethodConnector.delete(m.userId,m.paymentMethodId).pipe((0,Dt.w)(S=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},yr.MSG_TYPE_CONFIRMATION),[new qg(S),new Yd(m.userId)])),(0,me.K)(S=>(0,E.of)(new Ll(On(S))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(ME),e.LFG(Pc))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.siteConnector=u,this.loadBillingCountries$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(El),(0,Dt.w)(()=>this.siteConnector.getCountries(w.BILLING).pipe((0,Ee.U)(p=>new pf(p)),(0,me.K)(p=>(0,E.of)(new Ld(On(p))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG($s))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.userConsentConnector=u,this.resetConsents$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(ds),(0,Ee.U)(()=>new tp))),this.getConsents$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(sm),(0,Ee.U)(p=>p.payload),(0,Ut.b)(p=>this.userConsentConnector.loadConsents(p).pipe((0,Ee.U)(m=>new Zf(m)),(0,me.K)(m=>(0,E.of)(new jf(On(m)))))))),this.giveConsent$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Uf,ku),(0,Ut.b)(p=>this.userConsentConnector.giveConsent(p.payload.userId,p.payload.consentTemplateId??"",p.payload.consentTemplateVersion??0).pipe((0,Ee.U)(m=>new np(m)),(0,me.K)(m=>{const S=[new Ja(On(m))];return p.type===ku&&409===m.status&&S.push(new _l(yr.MSG_TYPE_ERROR)),(0,E.of)(...S)}))))),this.withdrawConsent$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Vf),(0,Ee.U)(p=>p.payload),(0,Ut.b)(({userId:p,consentCode:m})=>this.userConsentConnector.withdrawConsent(p,m).pipe((0,Ee.U)(()=>new op),(0,me.K)(S=>(0,E.of)(new Yf(On(S))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(DE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.customerCouponConnector=u,this.loadCustomerCoupons$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Ug),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.customerCouponConnector.getCustomerCoupons(p.userId,p.pageSize,p.currentPage,p.sort).pipe((0,Ee.U)(m=>new Fr(m)),(0,me.K)(m=>(0,E.of)(new bu(On(m)))))))),this.subscribeCustomerCoupon$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Ud),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.customerCouponConnector.turnOnNotification(p.userId,p.couponCode).pipe((0,Ee.U)(m=>new Gd(m)),(0,me.K)(m=>(0,E.of)(new Wv(On(m)))))))),this.unsubscribeCustomerCoupon$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(hf),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.customerCouponConnector.turnOffNotification(p.userId,p.couponCode).pipe((0,Ee.U)(()=>new Il(p.couponCode)),(0,me.K)(m=>(0,E.of)(new Hg(On(m)))))))),this.claimCustomerCoupon$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(qi),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.customerCouponConnector.claimCustomerCoupon(p.userId,p.couponCode).pipe((0,Ee.U)(m=>new wl(m)),(0,me.K)(m=>(0,E.of)(new Qo(On(m))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(TE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.connector=u,this.loadPreferences$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(xu),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.connector.loadAll(p).pipe((0,Ee.U)(m=>new Wg(m)),(0,me.K)(m=>(0,E.of)(new Sf(On(m)))))))),this.updatePreferences$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Fn),(0,Ee.U)(p=>p.payload),(0,pn.zg)(p=>this.connector.update(p.userId,p.preferences).pipe((0,Ee.U)(()=>new Rl(p.preferences)),(0,me.K)(m=>(0,E.of)(new $d(On(m))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(lC))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.userInterestsConnector=u,this.loadProductInteres$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(Pu),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.userInterestsConnector.getInterests(p.userId,p.pageSize,p.currentPage,p.sort,p.productCode,p.notificationType).pipe((0,Ee.U)(m=>new Xv(m)),(0,me.K)(m=>(0,E.of)(new If(On(m)))))))),this.removeProductInterest$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(bf),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.userInterestsConnector.removeInterest(p.userId,p.item).pipe((0,Dt.w)(m=>[new ga(p.singleDelete?{userId:p.userId,productCode:p.item.product?.code,notificationType:p.item.productInterestEntry?.[0].interestType}:{userId:p.userId}),new Ou(m)]),(0,me.K)(m=>(0,E.of)(new Lu(On(m)))))))),this.addProductInterest$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(zd),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.userInterestsConnector.addInterest(p.userId,p.productCode,p.notificationType).pipe((0,Dt.w)(m=>[new ga({userId:p.userId,productCode:p.productCode,notificationType:p.notificationType}),new _s(m)]),(0,me.K)(m=>(0,E.of)(new wf(On(m))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(xE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),(()=>{class t{constructor(o,u){this.actions$=o,this.userCostCenterConnector=u,this.loadActiveCostCenters$=(0,st.GW)(()=>this.actions$.pipe((0,st.l4)(jl),(0,Ee.U)(p=>p.payload),(0,Dt.w)(p=>this.userCostCenterConnector.getActiveList(p).pipe((0,Ee.U)(m=>new um(m.values)),(0,me.K)(m=>(0,E.of)(new cm(On(m))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(st.eX),e.LFG(bE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],GC={entities:{}};function UE(t=GC,c){switch(c.type){case ja:{const u=c.payload.reduce((p,m)=>({...p,[m.isocode]:m}),{...t.entities});return{...t,entities:u}}case Uu:return GC}return t}const BE={coupons:[],sorts:[],pagination:{}};function oD(t=BE,c){switch(c.type){case Ni:return c.payload;case Bd:{const o=c.payload.coupon,u=new Array(t.coupons?.length??0);return t.coupons?.forEach((p,m)=>u[m]=o&&p.couponId===o.couponId?o:p),{...t,coupons:u}}case za:{const o=c.payload,u=new Array(t.coupons?.length??0);return t.coupons?.forEach((p,m)=>u[m]=p.couponId===o?{...p,notificationOn:!1}:p),{...t,coupons:u}}}return t}const GE={entities:{}};function VE(t=GE,c){switch(c.type){case vs:{const u=c.payload.reduce((p,m)=>({...p,[m.isocode??""]:m}),{...t.entities});return{...t,entities:u}}case Uu:return GE}return t}const Hh=[];function WD(t=Hh,c){switch(c.type){case _f:return Hh;case Uc:case Hd:return c.payload?c.payload:Hh}return t}const Sv=[];function VC(t=Sv,c){switch(c.type){case Pl:return c.payload?c.payload:Sv;case es:return Sv}return t}const HC={results:[],pagination:{},sorts:[]};function iD(t=HC,c){switch(c.type){case Df:return c.payload?c.payload:HC;case Af:return HC}return t}const sD={entities:[],country:null};function JD(t=sD,c){if(c.type===Hs){const o=c.payload.entities,u=c.payload.country;return o||u?{...t,entities:o,country:u}:sD}return t}const $C=[];function aD(t=$C,c){switch(c.type){case Ul:return $C;case Bl:return c.payload?c.payload:$C}return t}const HE=[];function KD(t=HE,c){switch(c.type){case s_:return c.payload||HE;case Wa:{const o=c.consentTemplate;return t.map(u=>u.id===o.id?o:u)}}return t}const $E=[];function QD(t=$E,c){switch(c.type){case Zl:return $E;case Yl:return c.payload?c.payload:$E}return t}const cD=new e.OlP("UserReducers"),uD={provide:cD,useFactory:function qD(){return{addresses:Wr(No,aD),billingCountries:UE,consents:Wr(da,KD),payments:Wr(pa,VC),countries:VE,regions:Wr(bl,JD),customerCoupons:Wr(kd,oD),notificationPreferences:Wr(Nd,WD),productInterests:Wr(xl,iD),costCenters:Wr(Fc,QD)}}},eb=[function XD(t){return function(c,o){return o.type===Li&&(c=void 0),t(c,o)}}];let tb=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[uD],imports:[Lt.ez,oa,h.Aw.forFeature("user",cD,{metaReducers:eb}),st.sQ.forFeature(rD),un.Bz]}),t})(),nb=(()=>{class t{static forRoot(){return{ngModule:t}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[RE],imports:[tb,QA]}),t})(),lD=(()=>{class t{constructor(o,u){this.cmsConfig=o,this.lazyModules=u,this.features=new Map}isConfigured(o){return!!this.getFeatureConfig(o)?.module}resolveFeature(o){return o=this.resolveFeatureAlias(o),(0,De.P)(()=>{if(!this.features.has(o)){if(!this.isConfigured(o))return(0,G._)(new Error("No module defined for Feature Module "+o));const u=this.getFeatureConfig(o);this.features.set(o,this.resolveDependencies(u?.dependencies).pipe((0,Dt.w)(p=>this.lazyModules.resolveModuleInstance(u?.module,o,p)),(0,Zt.d)()))}return this.features.get(o)})}getFeatureConfig(o){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(o)]}resolveFeatureAlias(o){for(;"string"==typeof this.cmsConfig.featureModules?.[o];)o=this.cmsConfig.featureModules?.[o];return o}resolveDependencies(o=[]){return o?.length?(0,Re.D)(o.map(u=>"string"==typeof u?this.resolveFeature(u):this.lazyModules.resolveDependencyModuleInstance(u))):(0,E.of)(void 0)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Dh),e.LFG(ec))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dD="proxyFacadeInstance";let i=(()=>{class t{constructor(o,u){this.featureModules=o,this.injector=u}getResolver(o,u,p=!1){if(!this.featureModules.isConfigured(o))return(0,G._)(new Error(`Feature ${o} is not configured properly`));let m=this.featureModules.resolveFeature(o).pipe((0,Ee.U)(S=>S.injector),(0,Ee.U)(S=>S.get(u)));return p&&(m=m.pipe((0,hn.g)(0))),m.pipe((0,Zt.d)())}call(o,u,p){const m=o.pipe((0,Ee.U)(S=>S[u](...p)),qt());return m.connect(),m.pipe((0,Dt.w)(S=>(0,ie.b)(S)?S:oe.E))}get(o,u){return o.pipe((0,Dt.w)(p=>p[u]))}create({facade:o,feature:u,methods:p,properties:m,async:S}){const I=this.getResolver(u,o,S),Y=new class extends o{};return(p??[]).forEach(ae=>{Y[ae]=(...Pe)=>this.call(I,ae,Pe)}),(m??[]).forEach(ae=>{Y[ae]=this.get(I,ae)}),Y[dD]=!0,Y}isProxyFacadeInstance(o){return!!o?.[dD]}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(lD),e.LFG(e.zs3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a(t){return(0,e.f3M)(i).create(t)}function l(t,c){return()=>Promise.all(t.runModuleInitializerFunctions(c)).catch(u=>{throw console.error("MODULE_INITIALIZER promise was rejected during app initialization.",u),u})}let f=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:e.ip1,useFactory:l,deps:[ec,[new e.FiY,Xa]],multi:!0}]}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})(),g=(()=>{class t{static forRoot(){return{ngModule:t}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[oa.forRoot(),ns.forRoot(),$c.forRoot(),Jl.forRoot(),dS.forRoot(),x0.forRoot(),H0.forRoot(),WS.forRoot(),Kl.forRoot(),Ju.forRoot(),ZS.forRoot(),SA.forRoot(),f.forRoot()]}),t})()},339:(ye,X,v)=>{"use strict";v.d(X,{$q:()=>G,_v:()=>h,qN:()=>ue,xk:()=>q,zc:()=>ee});var n=v(4650),e=v(6322);let h=(()=>{class oe{}return oe.\u0275fac=function(Ye){return new(Ye||oe)},oe.\u0275prov=n.Yz7({token:oe,factory:function(Ye){let ot=null;return ot=Ye?new(Ye||oe):n.LFG(e.DeH),ot},providedIn:"root"}),oe})();function P(oe){try{return new URL(oe)}catch{return null}}function E(oe){return"http:"===oe.protocol||"https:"===oe.protocol}function M(oe){const De=oe.epdVisualization;if(!De)return R("epdVisualization");if(!De.apis)return R("epdVisualization.apis");const Ye="epdVisualization.apis.baseUrl";if(!De.apis.baseUrl)return R(Ye);const ot=P(De.apis.baseUrl);if(!ot)return V(Ye,De.apis.baseUrl);if(!E(ot))return j(Ye);if(!De.ui5)return R("epdVisualization.ui5");const ze="epdVisualization.ui5.bootstrapUrl";if(!De.ui5.bootstrapUrl)return R(ze);const Ge=P(De.ui5.bootstrapUrl);if(!Ge)return V(ze,De.ui5.bootstrapUrl);if(!E(Ge))return j(ze);if(!De.usageIds)return R("epdVisualization.usageIds");if(!De.usageIds.folderUsageId.name)return R("epdVisualization.usageIds.folderUsageId.name");if(!De.usageIds.folderUsageId.keys||!De.usageIds.folderUsageId.keys.length)return R("epdVisualization.usageIds.folderUsageId.keys");for(let ge=0;ge<De.usageIds.folderUsageId.keys.length;ge++){if(!De.usageIds.folderUsageId.keys[ge].name)return R(`epdVisualization.usageIds.folderUsageId.keys[${ge}].name`);if(!De.usageIds.folderUsageId.keys[ge].value)return R(`epdVisualization.usageIds.folderUsageId.keys[${ge}].value`)}return De.usageIds.productUsageId.source?De.usageIds.productUsageId.category?De.usageIds.productUsageId.keyName?De.visualPicking?De.visualPicking.productReferenceType?void 0:R("epdVisualization.visualPicking.productReferenceType"):R("epdVisualization.visualPicking"):R("epdVisualization.usageIds.productUsageId.keyName"):R("epdVisualization.usageIds.productUsageId.category"):R("epdVisualization.usageIds.productUsageId.source")}function R(oe){return`No value configured for ${oe} in the EPD Visualization library configuration.`}function V(oe,De){return`URL value '${De}' configured for ${oe} in the EPD Visualization library configuration is not valid.`}function j(oe){return`URL for ${oe} must use HTTPS or HTTP protocol.`}function H(){return{epdVisualization:{usageIds:{folderUsageId:{name:"CommerceCloud-Folder",keys:[{name:"Function",value:"Online"}]},productUsageId:{name:"CommerceCloud-SparePart",source:"CommerceCloud",category:"SpareParts",keyName:"ProductCode"}},visualPicking:{productReferenceType:"SPAREPART"}}}}const G="epd-visualization";function z(){return{featureModules:{[G]:{cmsComponents:["VisualPickingTabComponent"]}}}}let q=(()=>{class oe{}return oe.\u0275fac=function(Ye){return new(Ye||oe)},oe.\u0275mod=n.oAB({type:oe}),oe.\u0275inj=n.cJS({providers:[(0,e.x2j)(z),(0,e.x2j)(H),(0,e.k9r)(M)]}),oe})();var ee=(()=>{return(oe=ee||(ee={})).Model3D="3DModel",oe.Drawing2D="2DDrawing",ee;var oe})();class ue{constructor(){this.listeners=[]}initialize(De){this.renderer=De}attachEventListener(De,Ye,ot){const ze={nativeElement:De,eventName:Ye,endListener:this.renderer.listen(De,Ye,ot)};this.listeners.push(ze)}detachEventListeners(De,Ye){this._detachEventListeners(this.listeners.filter(ot=>ot.nativeElement===De&&ot.eventName===Ye))}detachAllEventListeners(De){this._detachEventListeners(this.listeners.filter(Ye=>Ye.nativeElement===De))}_detachEventListeners(De){const Ye=new Set(De);De.forEach(ot=>{ot.endListener()}),this.listeners=this.listeners.filter(ot=>!Ye.has(ot))}}},2732:(ye,X,v)=>{"use strict";v.d(X,{Ru:()=>De,gV:()=>ue,ir:()=>ot,t1:()=>di,yN:()=>Ge});var n=v(4650),e=v(8555),h=v(6322),P=v(2994),E=v(4850),M=v(2986),R=v(7545),V=v(7221),j=v(4129),H=v(591),G=v(6053),z=v(1086),q=v(3749),ee=v(5024);class ue{}let oe=(()=>{class je{constructor(lt){this.adapter=lt}get(lt,Ht){return this.adapter.load(lt,Ht)}getHistory(lt,Ht,Yt,Xt){return this.adapter.loadHistory(lt,Ht,Yt,Xt)}getConsignmentTracking(lt,Ht,Yt){return this.adapter.getConsignmentTracking(lt,Ht,Yt)}cancel(lt,Ht,Yt){return this.adapter.cancel(lt,Ht,Yt)}return(lt,Ht){return this.adapter.createReturnRequest(lt,Ht)}getReturnRequestDetail(lt,Ht){return this.adapter.loadReturnRequestDetail(lt,Ht)}getReturnRequestList(lt,Ht,Yt,Xt){return this.adapter.loadReturnRequestList(lt,Ht,Yt,Xt)}cancelReturnRequest(lt,Ht,Yt){return this.adapter.cancelReturnRequest(lt,Ht,Yt)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ue))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})();class De{}let Ye=(()=>{class je{constructor(lt){this.adapter=lt}placeOrder(lt,Ht,Yt){return this.adapter.placeOrder(lt,Ht,Yt)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(De))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})();class ot{}let ze=(()=>{class je{constructor(lt){this.adapter=lt}load(lt,Ht){return this.adapter.load(lt,Ht)}loadReplenishmentDetailsHistory(lt,Ht,Yt,Xt,Sn){return this.adapter.loadReplenishmentDetailsHistory(lt,Ht,Yt,Xt,Sn)}cancelReplenishmentOrder(lt,Ht){return this.adapter.cancelReplenishmentOrder(lt,Ht)}loadHistory(lt,Ht,Yt,Xt){return this.adapter.loadHistory(lt,Ht,Yt,Xt)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ot))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})();class Ge{}let ge=(()=>{class je{constructor(lt){this.adapter=lt}scheduleReplenishmentOrder(lt,Ht,Yt,Xt){return this.adapter.scheduleReplenishmentOrder(lt,Ht,Yt,Xt)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(Ge))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})();const ve="[Order] Load Consignment Tracking",Ke="[Order] Load Consignment Tracking Success",rt="[Order] Clear Consignment Tracking";class Ie{constructor(St){this.payload=St,this.type=ve}}class Nt{constructor(St){this.payload=St,this.type="[Order] Load Consignment Tracking Fail"}}class Fe{constructor(St){this.payload=St,this.type=Ke}}class ht{constructor(){this.type=rt}}const fe="cancelOrder",ie="cancelReturn",ne="cancelReplenishmentOrder",Ve="[Order] User Orders",_e="[Order] Order Return Requests",Ue="[Order] Return Request Details",Ee="[Order] User Order Details",Ot="[Order] User Replenishment Orders",Ft="[Order] User Replenishment Order Details",Ct="[Order] Load Order Details",Zt="[Order] Load Order Details Success",Dt="[Order] Cancel Order";class vt extends h.kPG.LoaderLoadAction{constructor(St){super(Ee),this.payload=St,this.type=Ct}}class Ze extends h.kPG.LoaderFailAction{constructor(St){super(Ee,St),this.payload=St,this.type="[Order] Load Order Details Fail"}}class $t extends h.kPG.LoaderSuccessAction{constructor(St){super(Ee),this.payload=St,this.type=Zt}}class It extends h.kPG.LoaderResetAction{constructor(){super(Ee),this.type="[Order] Clear Order Details"}}class cn extends h.kPG.EntityLoadAction{constructor(St){super(h.BzF,fe),this.payload=St,this.type=Dt}}class Ut extends h.kPG.EntityFailAction{constructor(St){super(h.BzF,fe,St),this.payload=St,this.type="[Order] Cancel Order Fail"}}class pn extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,fe),this.type="[Order] Cancel Order Success"}}class ut extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,fe),this.type="[Order] Reset Cancel Order Process"}}const qt="[Order] Create Order Return Request",En="[Order] Load Order Return Request details",Me="[Order] Cancel Order Return Request",nn="[Order] Load User Order Return Request List",hn="[Order] Load User Order Return Request List Success";class Ae extends h.kPG.LoaderLoadAction{constructor(St){super(Ue),this.payload=St,this.type=qt}}class qe extends h.kPG.LoaderFailAction{constructor(St){super(Ue,St),this.payload=St,this.type="[Order] Create Order Return Request Fail"}}class Gt extends h.kPG.LoaderSuccessAction{constructor(St){super(Ue),this.payload=St,this.type="[Order] Create Order Return Request Success"}}class We extends h.kPG.LoaderLoadAction{constructor(St){super(Ue),this.payload=St,this.type=En}}class Tt extends h.kPG.LoaderFailAction{constructor(St){super(Ue,St),this.payload=St,this.type="[Order] Load Order Return Request details Fail"}}class bt extends h.kPG.LoaderSuccessAction{constructor(St){super(Ue),this.payload=St,this.type="[Order] Load Order Return Request details Success"}}class Lt extends h.kPG.EntityLoadAction{constructor(St){super(h.BzF,ie),this.payload=St,this.type=Me}}class un extends h.kPG.EntityFailAction{constructor(St){super(h.BzF,ie,St),this.payload=St,this.type="[Order] Cancel Order Return Request Fail"}}class Vt extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,ie),this.type="[Order] Cancel Order Return Request Success"}}class st extends h.kPG.LoaderLoadAction{constructor(St){super(_e),this.payload=St,this.type=nn}}class xn extends h.kPG.LoaderFailAction{constructor(St){super(_e,St),this.payload=St,this.type="[Order] Load User Order Return Request List Fail"}}class Gn extends h.kPG.LoaderSuccessAction{constructor(St){super(_e),this.payload=St,this.type=hn}}class kn extends h.kPG.LoaderResetAction{constructor(){super(Ue),this.type="[Order] Clear Order Return Request Details"}}class dr extends h.kPG.LoaderResetAction{constructor(){super(_e),this.type="[Order] Clear Order Return Request List"}}class yn extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,ie),this.type="[Order] Reset Cancel Return Request Process"}}const wn="[Order] Load User Orders",Ln="[Order] Load User Orders Fail",zn="[Order] Load User Orders Success";class Wn extends h.kPG.LoaderLoadAction{constructor(St){super(Ve),this.payload=St,this.type=wn}}class Le extends h.kPG.LoaderFailAction{constructor(St){super(Ve,St),this.payload=St,this.type=Ln}}class ke extends h.kPG.LoaderSuccessAction{constructor(St){super(Ve),this.payload=St,this.type=zn}}class pe extends h.kPG.LoaderResetAction{constructor(){super(Ve),this.type="[Order] Clear User Orders"}}const Q="[Order] Load Replenishment Order Details",te="[Order] Load Replenishment Order Details Success",Je="[Order] Cancel Replenishment Order",mt="[Order] Cancel Replenishment Order Success";class Un extends h.kPG.LoaderLoadAction{constructor(St){super(Ft),this.payload=St,this.type=Q}}class Pn extends h.kPG.LoaderSuccessAction{constructor(St){super(Ft),this.payload=St,this.type=te}}class ur extends h.kPG.LoaderFailAction{constructor(St){super(Ft,St),this.payload=St,this.type="[Order] Load Replenishment Order Details Fail"}}class Vn extends h.kPG.LoaderResetAction{constructor(){super(Ft),this.type="[Order] Clear Replenishment Order Details"}}class Tn extends h.kPG.EntityLoadAction{constructor(St){super(h.BzF,ne),this.payload=St,this.type=Je}}class Yn extends h.kPG.EntitySuccessAction{constructor(St){super(h.BzF,ne),this.payload=St,this.type=mt}}class nr extends h.kPG.EntityFailAction{constructor(St){super(h.BzF,ne,St),this.payload=St,this.type="[Order] Cancel Replenishment Order Fail"}}class sr extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,ne),this.type="[Order] Clear Cancel Replenishment Order"}}const Er="[Order] Load User Replenishment Orders",Dn="[Order] Load User Replenishment Orders Success";class Br extends h.kPG.LoaderLoadAction{constructor(St){super(Ot),this.payload=St,this.type=Er}}class Tr extends h.kPG.LoaderFailAction{constructor(St){super(Ot,St),this.payload=St,this.type="[Order] Load User Replenishment Orders Fail"}}class pr extends h.kPG.LoaderSuccessAction{constructor(St){super(Ot),this.payload=St,this.type=Dn}}class ar extends h.kPG.LoaderResetAction{constructor(){super(Ot),this.type="[Order] Clear User Replenishment Orders"}}const Nn=(0,e.ZF)("order"),Hn=(0,e.P1)(Nn,je=>je.consignmentTracking),rr=(0,e.P1)(Hn,je=>je.tracking),Mn=(0,e.P1)(Nn,je=>je.orderDetail),or=(0,e.P1)(Mn,je=>h.kPG.loaderValueSelector(je)),wr=(0,e.P1)(Nn,je=>je.orderReturn),Xr=(0,e.P1)(wr,je=>h.kPG.loaderValueSelector(je)),mo=(0,e.P1)(wr,je=>h.kPG.loaderLoadingSelector(je)),xr=(0,e.P1)(wr,je=>h.kPG.loaderSuccessSelector(je)&&!h.kPG.loaderLoadingSelector(je)),Be=(0,e.P1)(Nn,je=>je.orderReturnList),N=((0,e.P1)(Be,je=>h.kPG.loaderValueSelector(je)),(0,e.P1)(Nn,je=>je.orders)),xe=(0,e.P1)(N,je=>h.kPG.loaderSuccessSelector(je)),J=((0,e.P1)(N,je=>h.kPG.loaderValueSelector(je)),(0,e.P1)(Nn,je=>je.replenishmentOrder)),He=(0,e.P1)(J,je=>h.kPG.loaderValueSelector(je)),Rt=(0,e.P1)(J,je=>h.kPG.loaderLoadingSelector(je)),rn=(0,e.P1)(J,je=>h.kPG.loaderSuccessSelector(je)),gn=(0,e.P1)(J,je=>h.kPG.loaderErrorSelector(je)),ln=(0,e.P1)(Nn,je=>je.replenishmentOrders),fr=((0,e.P1)(ln,je=>h.kPG.loaderValueSelector(je)),(0,e.P1)(ln,je=>h.kPG.loaderLoadingSelector(je))),hr=(0,e.P1)(ln,je=>h.kPG.loaderErrorSelector(je)),eo=(0,e.P1)(ln,je=>h.kPG.loaderSuccessSelector(je));let to=(()=>{class je{constructor(lt,Ht,Yt,Xt){this.store=lt,this.processStateStore=Ht,this.userIdService=Yt,this.routingService=Xt}getOrderDetails(){return this.store.pipe((0,e.Ys)(or))}loadOrderDetails(lt){this.userIdService.takeUserId().subscribe(Ht=>{this.store.dispatch(new vt({userId:Ht,orderCode:lt}))})}clearOrderDetails(){this.store.dispatch(new It)}getOrderHistoryList(lt){return this.store.pipe((0,e.Ys)(N),(0,P.b)(Ht=>{Ht.loading||Ht.success||Ht.error||this.loadOrderList(lt)}),(0,E.U)(Ht=>Ht.value))}getOrderHistoryListLoaded(){return this.store.pipe((0,e.Ys)(xe))}loadOrderList(lt,Ht,Yt){this.userIdService.takeUserId(!0).subscribe(Xt=>{let Sn;this.routingService.getRouterState().pipe((0,M.q)(1)).subscribe(Gr=>{Sn=Gr?.state?.params?.replenishmentOrderCode}).unsubscribe(),this.store.dispatch(new Wn({userId:Xt,pageSize:lt,currentPage:Ht,sort:Yt,replenishmentOrderCode:Sn}))},()=>{})}clearOrderList(){this.store.dispatch(new pe)}getConsignmentTracking(){return this.store.pipe((0,e.Ys)(rr))}loadConsignmentTracking(lt,Ht){this.userIdService.takeUserId().subscribe(Yt=>{this.store.dispatch(new Ie({userId:Yt,orderCode:lt,consignmentCode:Ht}))})}clearConsignmentTracking(){this.store.dispatch(new ht)}cancelOrder(lt,Ht){this.userIdService.takeUserId().subscribe(Yt=>{this.store.dispatch(new cn({userId:Yt,orderCode:lt,cancelRequestInput:Ht}))})}getCancelOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(fe)))}getCancelOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(fe)))}resetCancelOrderProcessState(){return this.store.dispatch(new ut)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV),n.LFG(h.Znh))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),Rr=(()=>{class je{constructor(lt,Ht,Yt){this.store=lt,this.processStateStore=Ht,this.userIdService=Yt}createOrderReturnRequest(lt){this.userIdService.takeUserId().subscribe(Ht=>{this.store.dispatch(new Ae({userId:Ht,returnRequestInput:lt}))})}getOrderReturnRequest(){return this.store.pipe((0,e.Ys)(Xr))}getOrderReturnRequestList(lt){return this.store.pipe((0,e.Ys)(Be),(0,P.b)(Ht=>{Ht.loading||Ht.success||Ht.error||this.loadOrderReturnRequestList(lt)}),(0,E.U)(Ht=>Ht.value))}loadOrderReturnRequestDetail(lt){this.userIdService.takeUserId().subscribe(Ht=>{this.store.dispatch(new We({userId:Ht,returnRequestCode:lt}))})}loadOrderReturnRequestList(lt,Ht,Yt){this.userIdService.takeUserId(!0).subscribe(Xt=>{this.store.dispatch(new st({userId:Xt,pageSize:lt,currentPage:Ht,sort:Yt}))},()=>{})}clearOrderReturnRequestList(){this.store.dispatch(new dr)}getReturnRequestLoading(){return this.store.pipe((0,e.Ys)(mo))}getReturnRequestSuccess(){return this.store.pipe((0,e.Ys)(xr))}clearOrderReturnRequestDetail(){this.store.dispatch(new kn)}cancelOrderReturnRequest(lt,Ht){this.userIdService.takeUserId().subscribe(Yt=>{this.store.dispatch(new Lt({userId:Yt,returnRequestCode:lt,returnRequestModification:Ht}))})}getCancelReturnRequestLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(ie)))}getCancelReturnRequestSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(ie)))}resetCancelReturnRequestProcessState(){return this.store.dispatch(new yn)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),ci=(()=>{class je{constructor(lt,Ht,Yt,Xt,Sn){this.activeCartFacade=lt,this.userIdService=Ht,this.commandService=Yt,this.orderConnector=Xt,this.eventService=Sn,this.placedOrder$=new H.X(void 0),this.placeOrderCommand=this.commandService.create(Gr=>this.checkoutPreconditions().pipe((0,R.w)(([Vr,An])=>this.orderConnector.placeOrder(Vr,An,Gr).pipe((0,P.b)(be=>{this.placedOrder$.next(be),this.eventService.dispatch({userId:Vr,cartId:An,cartCode:An,order:be},j.uZ)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,G.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,M.q)(1),(0,E.U)(([lt,Ht,Yt])=>{if(!lt||!Ht||lt===h.Fds&&!Yt)throw new Error("Checkout conditions not met");return[lt,Ht]}))}placeOrder(lt){return this.placeOrderCommand.execute(lt)}getOrderDetails(){return this.placedOrder$.asObservable()}clearPlacedOrder(){this.placedOrder$.next(void 0)}setPlacedOrder(lt){this.placedOrder$.next(lt)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(q.bu),n.LFG(h.XBV),n.LFG(h.VDr),n.LFG(Ye),n.LFG(h.POd))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),no=(()=>{class je{constructor(lt,Ht,Yt){this.store=lt,this.processStateStore=Ht,this.userIdService=Yt}loadReplenishmentOrderDetails(lt){this.userIdService.takeUserId(!0).subscribe(Ht=>{this.store.dispatch(new Un({userId:Ht,replenishmentOrderCode:lt}))},()=>{})}getReplenishmentOrderDetails(){return this.store.pipe((0,e.Ys)(He))}getReplenishmentOrderDetailsLoading(){return this.store.pipe((0,e.Ys)(Rt))}getReplenishmentOrderDetailsSuccess(){return this.store.pipe((0,e.Ys)(rn))}getReplenishmentOrderDetailsError(){return this.store.pipe((0,e.Ys)(gn))}clearReplenishmentOrderDetails(){this.store.dispatch(new Vn)}cancelReplenishmentOrder(lt){this.userIdService.takeUserId(!0).subscribe(Ht=>{this.store.dispatch(new Tn({userId:Ht,replenishmentOrderCode:lt}))},()=>{})}getCancelReplenishmentOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(ne)))}getCancelReplenishmentOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(ne)))}getCancelReplenishmentOrderError(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessErrorFactory(ne)))}clearCancelReplenishmentOrderProcessState(){this.store.dispatch(new sr)}getReplenishmentOrderHistoryList(lt){return this.store.pipe((0,e.Ys)(ln),(0,P.b)(Ht=>{Ht.loading||Ht.success||Ht.error||this.loadReplenishmentOrderList(lt)}),(0,E.U)(Ht=>Ht.value))}getReplenishmentOrderHistoryListLoading(){return this.store.pipe((0,e.Ys)(fr))}getReplenishmentOrderHistoryListError(){return this.store.pipe((0,e.Ys)(hr))}getReplenishmentOrderHistoryListSuccess(){return this.store.pipe((0,e.Ys)(eo))}loadReplenishmentOrderList(lt,Ht,Yt){this.userIdService.takeUserId(!0).subscribe(Xt=>{this.store.dispatch(new Br({userId:Xt,pageSize:lt,currentPage:Ht,sort:Yt}))},()=>{})}clearReplenishmentOrderList(){this.store.dispatch(new ar)}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),xo=(()=>{class je{constructor(lt,Ht,Yt,Xt,Sn,Gr){this.activeCartFacade=lt,this.userIdService=Ht,this.commandService=Yt,this.scheduledReplenishmentOrderConnector=Xt,this.eventService=Sn,this.orderFacade=Gr,this.scheduleReplenishmentOrderCommand=this.commandService.create(({form:Vr,termsChecked:An})=>this.checkoutPreconditions().pipe((0,R.w)(([be,tt])=>this.scheduledReplenishmentOrderConnector.scheduleReplenishmentOrder(tt,Vr,An,be).pipe((0,P.b)(Se=>{this.orderFacade.setPlacedOrder(Se),this.eventService.dispatch({userId:be,cartId:tt,cartCode:tt,replenishmentOrder:Se},j.oL)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,G.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,M.q)(1),(0,E.U)(([lt,Ht,Yt])=>{if(!lt||!Ht||lt===h.Fds&&!Yt)throw new Error("Order conditions not met");return[lt,Ht]}))}scheduleReplenishmentOrder(lt,Ht){return this.scheduleReplenishmentOrderCommand.execute({termsChecked:Ht,form:lt})}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(q.bu),n.LFG(h.XBV),n.LFG(h.VDr),n.LFG(ge),n.LFG(h.POd),n.LFG(j.Vh))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})();const Bo=[Rr,{provide:j.U1,useExisting:Rr},to,{provide:j.Kr,useExisting:to},no,{provide:j.kp,useExisting:no},xo,{provide:j.wT,useExisting:xo},ci,{provide:j.Vh,useExisting:ci}],Ao=[(()=>{class je{constructor(lt,Ht,Yt){this.actions$=lt,this.orderConnector=Ht,this.replenishmentOrderConnector=Yt,this.loadUserOrders$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(wn),(0,E.U)(Xt=>Xt.payload),(0,R.w)(Xt=>(Boolean(Xt.replenishmentOrderCode)?this.replenishmentOrderConnector.loadReplenishmentDetailsHistory(Xt.userId,Xt.replenishmentOrderCode??"",Xt.pageSize,Xt.currentPage,Xt.sort):this.orderConnector.getHistory(Xt.userId,Xt.pageSize,Xt.currentPage,Xt.sort)).pipe((0,E.U)(Sn=>new ke(Sn)),(0,V.K)(Sn=>(0,z.of)(new Le((0,h.cxH)(Sn)))))))),this.resetUserOrders$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(h.dO9.LANGUAGE_CHANGE),(0,E.U)(()=>new pe)))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(oe),n.LFG(ze))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),(()=>{class je{constructor(lt,Ht,Yt){this.actions$=lt,this.orderConnector=Ht,this.globalMessageService=Yt,this.loadOrderDetails$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Ct),(0,E.U)(Xt=>Xt.payload),(0,R.w)(Xt=>this.orderConnector.get(Xt.userId,Xt.orderCode).pipe((0,E.U)(Sn=>new $t(Sn)),(0,V.K)(Sn=>(0,z.of)(new Ze((0,h.cxH)(Sn)))))))),this.cancelOrder$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Dt),(0,E.U)(Xt=>Xt.payload),(0,R.w)(Xt=>this.orderConnector.cancel(Xt.userId,Xt.orderCode,Xt.cancelRequestInput).pipe((0,E.U)(()=>new pn),(0,V.K)(Sn=>(Sn.error?.errors.forEach(Gr=>this.globalMessageService.add(Gr.message,h.xUg.MSG_TYPE_ERROR)),(0,z.of)(new Ut((0,h.cxH)(Sn)))))))))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(oe),n.LFG(h.IWp))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),(()=>{class je{constructor(lt,Ht){this.actions$=lt,this.orderConnector=Ht,this.loadConsignmentTracking$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(ve),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.orderConnector.getConsignmentTracking(Yt.orderCode,Yt.consignmentCode,Yt.userId).pipe((0,E.U)(Xt=>new Fe(Xt)),(0,V.K)(Xt=>(0,z.of)(new Nt((0,h.cxH)(Xt))))))))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(oe))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),(()=>{class je{constructor(lt,Ht){this.actions$=lt,this.orderConnector=Ht,this.createReturnRequest$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(qt),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.orderConnector.return(Yt.userId,Yt.returnRequestInput).pipe((0,E.U)(Xt=>new Gt(Xt)),(0,V.K)(Xt=>(0,z.of)(new qe((0,h.cxH)(Xt)))))))),this.loadReturnRequest$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(En),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.orderConnector.getReturnRequestDetail(Yt.userId,Yt.returnRequestCode).pipe((0,E.U)(Xt=>new bt(Xt)),(0,V.K)(Xt=>(0,z.of)(new Tt((0,h.cxH)(Xt)))))))),this.cancelReturnRequest$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Me),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.orderConnector.cancelReturnRequest(Yt.userId,Yt.returnRequestCode,Yt.returnRequestModification).pipe((0,E.U)(()=>new Vt),(0,V.K)(Xt=>(0,z.of)(new un((0,h.cxH)(Xt)))))))),this.loadReturnRequestList$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(nn),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.orderConnector.getReturnRequestList(Yt.userId,Yt.pageSize,Yt.currentPage,Yt.sort).pipe((0,E.U)(Xt=>new Gn(Xt)),(0,V.K)(Xt=>(0,z.of)(new xn((0,h.cxH)(Xt))))))))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(oe))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),(()=>{class je{constructor(lt,Ht,Yt){this.actions$=lt,this.replenishmentOrderConnector=Ht,this.globalMessageService=Yt,this.loadReplenishmentOrderDetails$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Q),(0,E.U)(Xt=>Xt.payload),(0,R.w)(Xt=>this.replenishmentOrderConnector.load(Xt.userId,Xt.replenishmentOrderCode).pipe((0,E.U)(Sn=>new Pn(Sn)),(0,V.K)(Sn=>(0,z.of)(new ur((0,h.cxH)(Sn)))))))),this.cancelReplenishmentOrder$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Je),(0,E.U)(Xt=>Xt.payload),(0,R.w)(Xt=>this.replenishmentOrderConnector.cancelReplenishmentOrder(Xt.userId,Xt.replenishmentOrderCode).pipe((0,E.U)(Sn=>new Yn(Sn)),(0,V.K)(Sn=>(Sn?.error?.errors.forEach(Gr=>this.globalMessageService.add(Gr.message,h.xUg.MSG_TYPE_ERROR)),(0,z.of)(new nr((0,h.cxH)(Sn)))))))))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(ze),n.LFG(h.IWp))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})(),(()=>{class je{constructor(lt,Ht){this.actions$=lt,this.replenishmentOrderConnector=Ht,this.loadUserReplenishmentOrders$=(0,ee.GW)(()=>this.actions$.pipe((0,ee.l4)(Er),(0,E.U)(Yt=>Yt.payload),(0,R.w)(Yt=>this.replenishmentOrderConnector.loadHistory(Yt.userId,Yt.pageSize,Yt.currentPage,Yt.sort).pipe((0,E.U)(Xt=>new pr(Xt)),(0,V.K)(Xt=>(0,z.of)(new Tr((0,h.cxH)(Xt))))))))}}return je.\u0275fac=function(lt){return new(lt||je)(n.LFG(ee.eX),n.LFG(ze))},je.\u0275prov=n.Yz7({token:je,factory:je.\u0275fac}),je})()],Vo={tracking:{}};function Cr(je=Vo,St){switch(St.type){case Ke:return{tracking:St.payload};case rt:return Vo}return je}const ti={};function Mo(je=ti,St){return St.type===Zt?St.payload:je}const ni={returnRequests:[],pagination:{},sorts:[]};function Dr(je=ni,St){return St.type===hn?St.payload?St.payload:ni:je}const ro={orders:[],pagination:{},sorts:[]};function vo(je=ro,St){switch(St.type){case zn:return St.payload?St.payload:ro;case Ln:return ro}return je}const oo={};function _o(je=oo,St){switch(St.type){case te:case mt:return St.payload?St.payload:oo;default:return je}}const li={replenishmentOrders:[],pagination:{},sorts:[]};function Kn(je=li,St){switch(St.type){case Dn:return St.payload?St.payload:li;case mt:{const lt=St.payload,Ht=[...je.replenishmentOrders??[]],Yt=Ht.findIndex(Xt=>Xt.replenishmentOrderCode===lt.replenishmentOrderCode);return-1===Yt?li:(Ht[Yt]={...lt},{...je,replenishmentOrders:Ht})}}return je}const $o=new n.OlP("OrderReducers"),Io={provide:$o,useFactory:function Ho(){return{orders:h.kPG.loaderReducer(Ve,vo),orderDetail:h.kPG.loaderReducer(Ee,Mo),replenishmentOrders:h.kPG.loaderReducer(Ot,Kn),orderReturn:h.kPG.loaderReducer(Ue),orderReturnList:h.kPG.loaderReducer(_e,Dr),consignmentTracking:Cr,replenishmentOrder:h.kPG.loaderReducer(Ft,_o)}}};let tr=(()=>{class je{}return je.\u0275fac=function(lt){return new(lt||je)},je.\u0275mod=n.oAB({type:je}),je.\u0275inj=n.cJS({providers:[Io],imports:[ee.sQ.forFeature(Ao),e.Aw.forFeature("order",$o)]}),je})(),di=(()=>{class je{}return je.\u0275fac=function(lt){return new(lt||je)},je.\u0275mod=n.oAB({type:je}),je.\u0275inj=n.cJS({providers:[...Bo,oe,ze,Ye,ge],imports:[tr]}),je})()},679:(ye,X,v)=>{"use strict";v.d(X,{FV:()=>ot});var n=v(4650),e=v(3749),h=v(6322),P=v(529),E=v(4129),M=v(1737),R=v(7221),V=v(6895),j=v(2732);let H=(()=>{class ze{constructor(ge){this.converter=ge}convert(ge,ve){return void 0===ve&&(ve={...ge}),ge.entries&&(ve.entries=ge.entries.map(de=>this.convertOrderEntry(de,ge.code,ge.appliedProductPromotions))),ge.consignments&&(ve.consignments=ge.consignments.map(de=>({...de,entries:de.entries?.map(Ke=>({...Ke,orderEntry:this.convertOrderEntry(Ke.orderEntry,ge.code,ge.appliedProductPromotions)}))}))),ge.unconsignedEntries&&(ve.unconsignedEntries=ge.unconsignedEntries.map(de=>this.convertOrderEntry(de,ge.code,ge.appliedProductPromotions))),ve}convertOrderEntry(ge,ve,de){return{...ge,product:this.converter.convert(ge?.product,h.jrf),orderCode:ve,promotions:this.converter.convert({item:ge,promotions:de},e.Cx)}}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),G=(()=>{class ze{constructor(ge){this.converter=ge}convert(ge,ve){return void 0===ve&&(ve={...ge}),ge.entries&&(ve.entries=ge.entries.map(de=>({...de,product:this.converter.convert(de.product,h.jrf),promotions:this.converter.convert({item:de,promotions:ge.appliedProductPromotions},e.Cx)}))),ve}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),z=(()=>{class ze{constructor(ge){this.converter=ge}convert(ge,ve){return void 0===ve&&(ve={...ge}),ge.returnEntries&&(ve.returnEntries=ge.returnEntries.map(de=>({...de,orderEntry:this.convertOrderEntry(de.orderEntry)}))),ve}convertOrderEntry(ge){return{...ge,product:this.converter.convert(ge?.product,h.jrf)}}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),q=(()=>{class ze{convert(ge,ve){return void 0===ve&&(ve={...ge}),ge.replenishmentStartDate&&(ve.replenishmentStartDate=this.convertDate(ge.replenishmentStartDate)),ve}convertDate(ge){return`${ge}T${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})}:00${h.IMh.getLocalTimezoneOffset()}`}}return ze.\u0275fac=function(ge){return new(ge||ze)},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),ee=(()=>{class ze{constructor(ge,ve,de){this.http=ge,this.occEndpoints=ve,this.converter=de}load(ge,ve){const de=this.occEndpoints.buildUrl("orderDetail",{urlParams:{userId:ge,orderId:ve}});let Ke=new P.WM;return ge===h.Fds&&(Ke=h.Fox.createHeader(h._Re,!0,Ke)),this.http.get(de,{headers:Ke}).pipe(this.converter.pipeable(E.YA))}loadHistory(ge,ve,de,Ke){const rt={};ve&&(rt.pageSize=ve.toString()),de&&(rt.currentPage=de.toString()),Ke&&(rt.sort=Ke.toString());const Ie=this.occEndpoints.buildUrl("orderHistory",{urlParams:{userId:ge},queryParams:rt});return this.http.get(Ie).pipe(this.converter.pipeable(E.Rc))}getConsignmentTracking(ge,ve,de=h.zyp){const Ke=this.occEndpoints.buildUrl("consignmentTracking",{urlParams:{userId:de,orderCode:ge,consignmentCode:ve}});return this.http.get(Ke).pipe(this.converter.pipeable(E.m1))}cancel(ge,ve,de){const Ke=this.occEndpoints.buildUrl("cancelOrder",{urlParams:{userId:ge,orderId:ve}}),rt=new P.WM({"Content-Type":"application/json"});return this.http.post(Ke,de,{headers:rt}).pipe((0,R.K)(Ie=>(0,M._)(Ie)))}createReturnRequest(ge,ve){const de=this.occEndpoints.buildUrl("returnOrder",{urlParams:{userId:ge}}),Ke=new P.WM({"Content-Type":"application/json"});return ve=this.converter.convert(ve,E.Nz),this.http.post(de,ve,{headers:Ke}).pipe((0,R.K)(rt=>(0,M._)(rt)),this.converter.pipeable(E.Ge))}loadReturnRequestList(ge,ve,de,Ke){const rt={};ve&&(rt.pageSize=ve.toString()),de&&(rt.currentPage=de.toString()),Ke&&(rt.sort=Ke.toString());const Ie=this.occEndpoints.buildUrl("orderReturns",{urlParams:{userId:ge},queryParams:rt});return this.http.get(Ie).pipe(this.converter.pipeable(E.SL))}loadReturnRequestDetail(ge,ve){const de=this.occEndpoints.buildUrl("orderReturnDetail",{urlParams:{userId:ge,returnRequestCode:ve}});return this.http.get(de).pipe(this.converter.pipeable(E.Ge))}cancelReturnRequest(ge,ve,de){const Ke=this.occEndpoints.buildUrl("cancelReturn",{urlParams:{userId:ge,returnRequestCode:ve}}),rt=new P.WM({"Content-Type":"application/json"});return this.http.patch(Ke,de,{headers:rt}).pipe((0,R.K)(Ie=>(0,M._)(Ie)))}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),ue=(()=>{class ze{constructor(ge,ve,de){this.http=ge,this.occEndpoints=ve,this.converter=de}placeOrder(ge,ve,de){let Ke=new P.WM({"Content-Type":"application/x-www-form-urlencoded"});return ge===h.Fds&&(Ke=h.Fox.createHeader(h._Re,!0,Ke)),this.http.post(this.getPlaceOrderEndpoint(ge,ve,de.toString()),{},{headers:Ke}).pipe((0,R.K)(rt=>(0,M._)((0,h.cxH)(rt))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(E.YA))}getPlaceOrderEndpoint(ge,ve,de){return this.occEndpoints.buildUrl("placeOrder",{urlParams:{userId:ge},queryParams:{cartId:ve,termsChecked:de}})}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),oe=(()=>{class ze{constructor(ge,ve,de){this.http=ge,this.occEndpoints=ve,this.converter=de}load(ge,ve){return this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetails",{urlParams:{userId:ge,replenishmentOrderCode:ve}})).pipe(this.converter.pipeable(E.JD))}loadReplenishmentDetailsHistory(ge,ve,de,Ke,rt){const Ie={};return de&&(Ie.pageSize=de.toString()),Ke&&(Ie.currentPage=Ke.toString()),rt&&(Ie.sort=rt.toString()),this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetailsHistory",{urlParams:{userId:ge,replenishmentOrderCode:ve},queryParams:Ie})).pipe(this.converter.pipeable(E.Rc))}cancelReplenishmentOrder(ge,ve){const de=(new P.WM).set("Content-Type","application/json");return this.http.patch(this.occEndpoints.buildUrl("cancelReplenishmentOrder",{urlParams:{userId:ge,replenishmentOrderCode:ve}}),{},{headers:de}).pipe(this.converter.pipeable(E.JD))}loadHistory(ge,ve,de,Ke){const rt={};ve&&(rt.pageSize=ve.toString()),de&&(rt.currentPage=de.toString()),Ke&&(rt.sort=Ke.toString());const Ie=this.occEndpoints.buildUrl("replenishmentOrderHistory",{urlParams:{userId:ge},queryParams:rt});return this.http.get(Ie).pipe(this.converter.pipeable(E.HN))}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),De=(()=>{class ze{constructor(ge,ve,de){this.http=ge,this.occEndpoints=ve,this.converter=de}scheduleReplenishmentOrder(ge,ve,de,Ke){ve=this.converter.convert(ve,E.dC);const rt=(new P.WM).set("Content-Type","application/json");return this.http.post(this.getScheduleReplenishmentOrderEndpoint(Ke,ge,de.toString()),ve,{headers:rt}).pipe((0,R.K)(Ie=>(0,M._)((0,h.cxH)(Ie))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(E.JD))}getScheduleReplenishmentOrderEndpoint(ge,ve,de){return this.occEndpoints.buildUrl("scheduleReplenishmentOrder",{urlParams:{userId:ge},queryParams:{cartId:ve,termsChecked:de}})}}return ze.\u0275fac=function(ge){return new(ge||ze)(n.LFG(P.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Ye={backend:{occ:{endpoints:{orderHistory:"users/${userId}/orders",orderDetail:"users/${userId}/orders/${orderId}?fields=FULL",consignmentTracking:"users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking",cancelOrder:"users/${userId}/orders/${orderId}/cancellation",returnOrder:"users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",orderReturns:"users/${userId}/orderReturns?fields=BASIC",orderReturnDetail:"users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",cancelReturn:"users/${userId}/orderReturns/${returnRequestCode}",replenishmentOrderDetails:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderDetailsHistory:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}/orders",cancelReplenishmentOrder:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderHistory:"users/${userId}/replenishmentOrders?fields=FULL,replenishmentOrders(FULL, purchaseOrderNumber)",placeOrder:"users/${userId}/orders?fields=FULL"}}}};let ot=(()=>{class ze{}return ze.\u0275fac=function(ge){return new(ge||ze)},ze.\u0275mod=n.oAB({type:ze}),ze.\u0275inj=n.cJS({providers:[(0,h.i51)(Ye),{provide:j.gV,useClass:ee},{provide:j.ir,useClass:oe},{provide:j.Ru,useClass:ue},{provide:j.yN,useClass:De},{provide:E.Ge,useExisting:z,multi:!0},{provide:E.YA,useExisting:H,multi:!0},{provide:E.JD,useExisting:G,multi:!0},{provide:E.dC,useExisting:q,multi:!0}],imports:[V.ez]}),ze})()},4129:(ye,X,v)=>{"use strict";v.d(X,{GH:()=>j,Ge:()=>Re,HN:()=>ne,JD:()=>Nt,Kr:()=>z,Nz:()=>fe,Rc:()=>Fe,SL:()=>ie,U1:()=>ee,Vh:()=>ue,WI:()=>ve,YA:()=>Ie,_w:()=>de,dC:()=>Ve,kp:()=>De,m1:()=>ht,oL:()=>V,pF:()=>rt,uZ:()=>R,wT:()=>Ye});var n=v(6322),e=v(4650),h=v(1446),P=v(610),E=v(3749);class M extends n.W8x{}let R=(()=>{class _e extends M{}return _e.type="OrderPlacedEvent",_e})(),V=(()=>{class _e extends M{}return _e.type="ReplenishmentOrderScheduledEvent",_e})();const j="order",H="orderCore";let z=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return function G(){return(0,n.wvQ)({facade:z,feature:H,methods:["getOrderDetails","loadOrderDetails","clearOrderDetails","getOrderHistoryList","getOrderHistoryListLoaded","loadOrderList","clearOrderList","getConsignmentTracking","loadConsignmentTracking","clearConsignmentTracking","cancelOrder","getCancelOrderLoading","getCancelOrderSuccess","resetCancelOrderProcessState"],async:!0})}()},providedIn:"root"}),_e})(),ee=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return function q(){return(0,n.wvQ)({facade:ee,feature:H,methods:["createOrderReturnRequest","getOrderReturnRequest","getOrderReturnRequestList","loadOrderReturnRequestDetail","loadOrderReturnRequestList","clearOrderReturnRequestList","getReturnRequestLoading","getReturnRequestSuccess","clearOrderReturnRequestDetail","cancelOrderReturnRequest","getCancelReturnRequestLoading","getCancelReturnRequestSuccess","resetCancelReturnRequestProcessState"],async:!0})}()},providedIn:"root"}),_e})(),ue=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return(0,n.wvQ)({facade:_e,feature:H,methods:["getOrderDetails","clearPlacedOrder","setPlacedOrder","placeOrder"]})},providedIn:"root"}),_e})(),De=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return function oe(){return(0,n.wvQ)({facade:De,feature:H,methods:["loadReplenishmentOrderDetails","getReplenishmentOrderDetails","getReplenishmentOrderDetailsLoading","getReplenishmentOrderDetailsSuccess","getReplenishmentOrderDetailsError","clearReplenishmentOrderDetails","cancelReplenishmentOrder","getCancelReplenishmentOrderLoading","getCancelReplenishmentOrderSuccess","getCancelReplenishmentOrderError","clearCancelReplenishmentOrderProcessState","getReplenishmentOrderHistoryList","getReplenishmentOrderHistoryListLoading","getReplenishmentOrderHistoryListError","getReplenishmentOrderHistoryListSuccess","loadReplenishmentOrderList","clearReplenishmentOrderList"],async:!0})}()},providedIn:"root"}),_e})(),Ye=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275prov=e.Yz7({token:_e,factory:function(){return(0,n.wvQ)({facade:_e,feature:H,methods:["scheduleReplenishmentOrder"]})},providedIn:"root"}),_e})();const ge={routing:{routes:{orders:{paths:["my-account/orders"]},orderDetails:{paths:["my-account/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderGuest:{paths:["guest/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturn:{paths:["my-account/order/return/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturnConfirmation:{paths:["my-account/order/return/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancel:{paths:["my-account/order/cancel/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancelConfirmation:{paths:["my-account/order/cancel/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},returnRequestDetails:{paths:["my-account/return-request/:returnCode"],paramsMapping:{returnCode:"rma"}},replenishmentOrders:{paths:["my-account/my-replenishments"]},replenishmentDetails:{paths:["my-account/my-replenishment/:replenishmentOrderCode"],paramsMapping:{replenishmentOrderCode:"replenishmentOrderCode"}},replenishmentConfirmation:{paths:["replenishment/confirmation"]},orderConfirmation:{paths:["order-confirmation"]}}}},ve=new e.OlP("OrderDetailsOrderEntriesContext"),de=new e.OlP("OrderConfirmationOrderEntriesContext");function Ke(){return{featureModules:{[j]:{cmsComponents:["CancelOrderComponent","CancelOrderConfirmationComponent","ReturnOrderComponent","ReturnOrderConfirmationComponent","AccountOrderDetailsActionsComponent","AccountOrderDetailsItemsComponent","AccountOrderDetailsTotalsComponent","AccountOrderDetailsShippingComponent","AccountOrderHistoryComponent","ReplenishmentDetailItemsComponent","ReplenishmentDetailTotalsComponent","ReplenishmentDetailShippingComponent","ReplenishmentDetailActionsComponent","ReplenishmentDetailOrderHistoryComponent","AccountReplenishmentHistoryComponent","ReturnRequestOverviewComponent","ReturnRequestItemsComponent","ReturnRequestTotalsComponent","OrderReturnRequestListComponent","OrderConfirmationThankMessageComponent","OrderConfirmationItemsComponent","OrderConfirmationTotalsComponent","OrderConfirmationOverviewComponent","ReplenishmentConfirmationMessageComponent","ReplenishmentConfirmationOverviewComponent","ReplenishmentConfirmationItemsComponent","ReplenishmentConfirmationTotalsComponent"],dependencies:[E.O0]},[H]:j}}}let rt=(()=>{class _e{}return _e.\u0275fac=function(Ee){return new(Ee||_e)},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({providers:[(0,n.x2j)(Ke),(0,n.i51)(ge)],imports:[P.Bz.forChild([{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{pageLabel:"order",cxRoute:"orderGuest"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"orderDetails",cxContext:{[E.eE]:ve}}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancel"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancelConfirmation"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturn"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturnConfirmation"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"orders"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentDetails"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentOrders"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"returnRequestDetails"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderConfirmation",cxContext:{[E.eE]:de}}}])]}),_e})();const Ie=new e.OlP("OrderNormalizer"),Nt=new e.OlP("ReplenishmentOrderNormalizer"),Fe=new e.OlP("OrderHistoryNormalizer"),ht=new e.OlP("ConsignmentTrackingNormalizer"),Re=new e.OlP("OrderReturnRequestNormalizer"),fe=new e.OlP("OrderReturnRequestInputSerializer"),ie=new e.OlP("OrderReturnsNormalizer"),ne=new e.OlP("ReplenishmentOrderHistoryNormalizer"),Ve=new e.OlP("ReplenishmentOrderFormSerializer")},5883:(ye,X,v)=>{"use strict";v.d(X,{E1:()=>ve,UY:()=>h,al:()=>Ke});var n=v(4650),e=v(6322);const h={budgetCode:"budgetCode",unitCode:"unitCode",costCenterCode:"costCenterCode",userCode:"userCode",userGroupCode:"userGroupCode",permissionCode:"permissionCode",addressCode:"addressId"},P=`organization/budgets/:${h.budgetCode}`,E={budgetCode:"code"},M={routing:{routes:{orgBudget:{paths:["organization/budgets"]},orgBudgetCreate:{paths:["organization/budgets/create"]},orgBudgetDetails:{paths:[`${P}`],paramsMapping:E},orgBudgetCostCenters:{paths:[`${P}/cost-centers`],paramsMapping:E},orgBudgetEdit:{paths:[`${P}/edit`],paramsMapping:E}}}},R=`organization/cost-centers/:${h.costCenterCode}`,V={costCenterCode:"code"},j={routing:{routes:{orgCostCenter:{paths:["organization/cost-centers"]},orgCostCenterCreate:{paths:["organization/cost-centers/create"]},orgCostCenterDetails:{paths:[`${R}`],paramsMapping:V},orgCostCenterBudgets:{paths:[`${R}/budgets`],paramsMapping:V},orgCostCenterAssignBudgets:{paths:[`${R}/budgets/assign`],paramsMapping:V},orgCostCenterEdit:{paths:[`${R}/edit`],paramsMapping:V}}}},H={layoutSlots:{CompanyPageTemplate:{slots:["BodyContent"]}}},G=`organization/purchase-limits/:${h.permissionCode}`,z={permissionCode:"code"},q={routing:{routes:{orgPurchaseLimit:{paths:["organization/purchase-limits"]},orgPurchaseLimitCreate:{paths:["organization/purchase-limits/create"]},orgPurchaseLimitDetails:{paths:[G],paramsMapping:z},orgPurchaseLimitEdit:{paths:[`${G}/edit`],paramsMapping:z}}}},ee=`organization/units/:${h.unitCode}`,ue={unitCode:"uid",addressId:"id",userCode:"customerId"},oe={routing:{routes:{orgUnits:{paths:["organization/units"]},orgUnitCreate:{paths:["organization/units/create"]},orgUnitDetails:{paths:[ee],paramsMapping:ue},orgUnitEdit:{paths:[`${ee}/edit`],paramsMapping:ue},orgUnitChildren:{paths:[`${ee}/children`],paramsMapping:ue},orgUnitCreateChild:{paths:[`${ee}/children/create`],paramsMapping:ue},orgUnitUserList:{paths:[`${ee}/users`],paramsMapping:ue},orgUnitCreateUser:{paths:[`${ee}/users/create`],paramsMapping:ue},orgUnitUserRoles:{paths:[`${ee}/users/:userCode/roles`],paramsMapping:ue},orgUnitApprovers:{paths:[`${ee}/approvers`],paramsMapping:ue},orgUnitAssignApprovers:{paths:[`${ee}/approvers/assign`],paramsMapping:ue},orgUnitAddressList:{paths:[`${ee}/addresses`],paramsMapping:ue},orgUnitAddressCreate:{paths:[`${ee}/addresses/create`],paramsMapping:ue},orgUnitAddressDetails:{paths:[`${ee}/addresses/:addressId`],paramsMapping:ue},orgUnitAddressEdit:{paths:[`${ee}/addresses/:addressId/edit`],paramsMapping:ue},orgUnitCostCenters:{paths:[`${ee}/cost-centers`],paramsMapping:ue},orgUnitCreateCostCenter:{paths:[`${ee}/cost-centers/create`],paramsMapping:ue}}}},De=`organization/user-groups/:${h.userGroupCode}`,Ye={userGroupCode:"uid"},ot={routing:{routes:{orgUserGroup:{paths:["organization/user-groups"]},orgUserGroupCreate:{paths:["organization/user-groups/create"]},orgUserGroupDetails:{paths:[De],paramsMapping:Ye},orgUserGroupEdit:{paths:[`${De}/edit`],paramsMapping:Ye},orgUserGroupUsers:{paths:[`${De}/users`],paramsMapping:Ye},orgUserGroupAssignUsers:{paths:[`${De}/users/assign`],paramsMapping:Ye},orgUserGroupPermissions:{paths:[`${De}/purchase-limits`],paramsMapping:Ye},orgUserGroupAssignPermissions:{paths:[`${De}/purchase-limits/assign`],paramsMapping:Ye}}}},ze=`organization/users/:${h.userCode}`,Ge={userCode:"customerId"},ge={routing:{routes:{orgUser:{paths:["organization/users"]},orgUserCreate:{paths:["organization/users/create"]},orgUserDetails:{paths:[ze],paramsMapping:Ge},orgUserEdit:{paths:[`${ze}/edit`],paramsMapping:Ge},orgUserChangePassword:{paths:[`${ze}/change-password`],paramsMapping:Ge},orgUserApprovers:{paths:[`${ze}/approvers`],paramsMapping:Ge},orgUserAssignApprovers:{paths:[`${ze}/approvers/assign`],paramsMapping:Ge},orgUserPermissions:{paths:[`${ze}/purchase-limits`],paramsMapping:Ge},orgUserAssignPermissions:{paths:[`${ze}/purchase-limits/assign`],paramsMapping:Ge},orgUserUserGroups:{paths:[`${ze}/user-groups`],paramsMapping:Ge},orgUserAssignUserGroups:{paths:[`${ze}/user-groups/assign`],paramsMapping:Ge}}}},ve="organizationAdministration";function de(){return{featureModules:{[ve]:{cmsComponents:["ManageBudgetsListComponent","ManageCostCentersListComponent","ManagePermissionsListComponent","ManageUnitsListComponent","ManageUsersListComponent","ManageUserGroupsListComponent"]}}}}let Ke=(()=>{class rt{}return rt.\u0275fac=function(Nt){return new(Nt||rt)},rt.\u0275mod=n.oAB({type:rt}),rt.\u0275inj=n.cJS({providers:[(0,e.i51)(H),(0,e.i51)({routing:{routes:{organization:{paths:["organization"]}}}}),(0,e.i51)(M),(0,e.i51)(j),(0,e.i51)(q),(0,e.i51)(oe),(0,e.i51)(ge),(0,e.i51)(ot),(0,e.x2j)(de)]}),rt})()},6506:(ye,X,v)=>{"use strict";v.d(X,{$g:()=>Dt,NU:()=>$t,iB:()=>hn,mR:()=>Ze,ns:()=>Pt,r3:()=>zt,u6:()=>Wt});var n=v(4650),e=v(6895),h=v(3749),P=v(6322),E=v(1446),M=v(610),R=v(8896),V=v(1086),j=v(4850),H=v(2986),G=v(2198);function z(Oe,yt){1&Oe&&n.GkF(0)}function q(Oe,yt){if(1&Oe&&(n.TgZ(0,"label",4),n.YNc(1,z,1,0,"ng-container",5),n.qZA()),2&Oe){const Ae=n.oxw(2),qe=n.MAs(2);n.xp6(1),n.Q6J("ngIf",Ae.isDisabled())("ngIfThen",qe)}}function ee(Oe,yt){1&Oe&&n.GkF(0)}const ue=function(Oe,yt,Ae){return{ownerType:Oe,entityKey:yt,displayOnly:Ae}},oe=function(Oe,yt){return{cxRoute:Oe,params:yt}},De=function(Oe){return{forceReload:!0,resolveIssues:Oe}};function Ye(Oe,yt){if(1&Oe&&(n.TgZ(0,"a",6),n.ALo(1,"cxUrl"),n.YNc(2,ee,1,0,"ng-container",5),n.qZA()),2&Oe){const Ae=n.oxw(2),qe=n.MAs(2);n.Q6J("routerLink",n.lcZ(1,5,n.WLB(11,oe,Ae.getRoute(),n.kEZ(7,ue,Ae.getOwnerType(),Ae.getEntityKey(),Ae.getDisplayOnly()))))("queryParams",n.VKq(14,De,Ae.hasIssues())),n.uIk("aria-describedby",Ae.getResolveIssuesA11yDescription()),n.xp6(2),n.Q6J("ngIf",!Ae.isDisabled())("ngIfThen",qe)}}function ot(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,q,2,2,"label",2),n.YNc(2,Ye,3,16,"a",3),n.BQk()),2&Oe){const Ae=n.oxw();n.xp6(1),n.Q6J("ngIf",Ae.isDisabled()),n.xp6(1),n.Q6J("ngIf",!Ae.isDisabled())}}function ze(Oe,yt){1&Oe&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Oe&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.displayConfiguration"),""))}function Ge(Oe,yt){1&Oe&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Oe&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.editConfiguration")," "))}function ge(Oe,yt){1&Oe&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Oe&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.resolveIssues")," "))}function ve(Oe,yt){if(1&Oe&&(n.YNc(0,ze,3,3,"ng-container",0),n.YNc(1,Ge,3,3,"ng-container",0),n.YNc(2,ge,3,3,"ng-container",0)),2&Oe){const Ae=n.oxw();n.Q6J("ngIf",Ae.readOnly),n.xp6(1),n.Q6J("ngIf",!Ae.readOnly&&!Ae.msgBanner),n.xp6(1),n.Q6J("ngIf",!Ae.readOnly&&Ae.msgBanner)}}function de(Oe,yt){if(1&Oe&&(n._UZ(0,"cx-configure-cart-entry",4),n.ALo(1,"async")),2&Oe){const Ae=yt.ngIf,qe=n.oxw(2).ngIf,Gt=n.oxw();n.Q6J("cartEntry",qe)("readOnly",n.lcZ(1,4,Gt.readonly$))("msgBanner",!0)("disabled",Ae.disabled)}}const Ke=function(Oe){return{count:Oe}};function rt(Oe,yt){if(1&Oe&&(n.ynx(0),n._UZ(1,"cx-icon",1),n.TgZ(2,"div",2),n._uU(3),n.ALo(4,"cxTranslate"),n.YNc(5,de,2,6,"cx-configure-cart-entry",3),n.ALo(6,"async"),n.ALo(7,"async"),n.qZA(),n.BQk()),2&Oe){const Ae=n.oxw().ngIf,qe=n.oxw();n.xp6(1),n.Q6J("type",qe.iconTypes.ERROR),n.xp6(1),n.s9C("id",qe.getErrorMessageId(Ae)),n.xp6(1),n.hij(" ",n.xi3(4,4,"configurator.notificationBanner.numberOfIssues",n.VKq(11,Ke,qe.getNumberOfIssues(Ae)))," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(6,7,n.lcZ(7,9,qe.shouldShowButton$)&&(null==Ae||null==Ae.product?null:Ae.product.configurable)&&qe.quantityControl$))}}function Ie(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,rt,8,13,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&Oe){const Ae=yt.ngIf,qe=n.oxw();n.xp6(1),n.Q6J("ngIf",qe.hasIssues(Ae)&&!n.lcZ(2,1,qe.readonly$))}}function Nt(Oe,yt){1&Oe&&(n.TgZ(0,"span",4),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()),2&Oe&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.a11y.cartEntryInfoIntro")," "))}const Fe=function(Oe,yt){return{attribute:Oe,value:yt}};function ht(Oe,yt){if(1&Oe&&(n.TgZ(0,"div",5)(1,"span",6),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",7),n._uU(5),n.qZA(),n.TgZ(6,"div",8),n._uU(7),n.qZA()()),2&Oe){const Ae=yt.$implicit,qe=yt.index,Gt=n.oxw(4);n.uIk("aria-describedby",Gt.getHiddenConfigurationInfoId(qe)),n.xp6(1),n.s9C("id",Gt.getHiddenConfigurationInfoId(qe)),n.xp6(1),n.hij(" ",n.xi3(3,5,"configurator.a11y.cartEntryInfo",n.WLB(8,Fe,Ae.configurationLabel,Ae.configurationValue))," "),n.xp6(3),n.hij(" ",null==Ae?null:Ae.configurationLabel,": "),n.xp6(2),n.hij(" ",null==Ae?null:Ae.configurationValue," ")}}function Re(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,Nt,3,3,"span",2),n.YNc(2,ht,8,11,"div",3),n.BQk()),2&Oe){const Ae=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngIf",Ae.configurationInfos.length>0),n.xp6(1),n.Q6J("ngForOf",Ae.configurationInfos)}}function fe(Oe,yt){if(1&Oe&&(n._UZ(0,"cx-configure-cart-entry",9),n.ALo(1,"async")),2&Oe){const Ae=yt.ngIf,qe=n.oxw(2).ngIf,Gt=n.oxw();n.Q6J("cartEntry",qe)("readOnly",n.lcZ(1,4,Gt.readonly$))("msgBanner",!1)("disabled",Ae.disabled)}}function ie(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,Re,3,2,"ng-container",0),n.YNc(2,fe,2,6,"cx-configure-cart-entry",1),n.ALo(3,"async"),n.ALo(4,"async"),n.BQk()),2&Oe){const Ae=n.oxw().ngIf,qe=n.oxw();n.xp6(1),n.Q6J("ngIf",qe.hasStatus(Ae)),n.xp6(1),n.Q6J("ngIf",n.lcZ(3,2,n.lcZ(4,4,qe.shouldShowButton$)&&(null==Ae||null==Ae.product?null:Ae.product.configurable)&&qe.quantityControl$))}}function ne(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,ie,5,6,"ng-container",0),n.BQk()),2&Oe){const Ae=yt.ngIf,qe=n.oxw();n.xp6(1),n.Q6J("ngIf",qe.isAttributeBasedConfigurator(Ae))}}const Ve=function(Oe,yt){return{ownerType:Oe,entityKey:yt}};function _e(Oe,yt){if(1&Oe&&(n.ynx(0),n.TgZ(1,"a",1),n.ALo(2,"cxUrl"),n.ALo(3,"cxTranslate"),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n.BQk()),2&Oe){const Ae=n.oxw().ngIf,qe=n.oxw();n.xp6(1),n.Q6J("routerLink",n.lcZ(2,3,n.WLB(12,oe,"configure"+Ae.configuratorType,n.WLB(9,Ve,qe.ownerTypeProduct,Ae.code)))),n.uIk("aria-label",n.lcZ(3,5,"configurator.a11y.configureProduct")),n.xp6(3),n.Oqu(n.lcZ(5,7,"configurator.header.toconfig"))}}function Ue(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,_e,6,15,"ng-container",0),n.BQk()),2&Oe){const Ae=yt.ngIf;n.xp6(1),n.Q6J("ngIf",Ae.configurable)}}function Ee(Oe,yt){if(1&Oe&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"span",13),n._uU(5),n.ALo(6,"cxNumeric"),n.qZA(),n.BQk()),2&Oe){const Ae=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"configurator.attribute.quantity")),n.xp6(3),n.Oqu(n.lcZ(6,4,null==Ae?null:Ae.formattedQuantity))}}function Ot(Oe,yt){if(1&Oe&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"span",13),n._uU(5),n.qZA(),n.BQk()),2&Oe){const Ae=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"configurator.overviewForm.itemPrice")),n.xp6(3),n.Oqu(null==Ae?null:Ae.formattedPrice)}}function Ft(Oe,yt){if(1&Oe&&(n.TgZ(0,"div",7)(1,"span",8),n._uU(2),n.qZA(),n.TgZ(3,"div",9),n._uU(4),n.qZA(),n.TgZ(5,"div",10),n.YNc(6,Ee,7,6,"ng-container",0),n.qZA(),n.TgZ(7,"div",11),n.YNc(8,Ot,6,4,"ng-container",0),n.qZA()()),2&Oe){const Ae=yt.$implicit,qe=yt.index,Gt=n.oxw(4);n.uIk("aria-describedby",Gt.getHiddenItemInfoId(qe)),n.xp6(1),n.s9C("id",Gt.getHiddenItemInfoId(qe)),n.xp6(1),n.hij(" ",Gt.getHiddenItemInfo(Ae)," "),n.xp6(2),n.hij(" ",null==Ae?null:Ae.name," "),n.xp6(2),n.Q6J("ngIf",null==Ae?null:Ae.formattedQuantity),n.xp6(2),n.Q6J("ngIf",null==Ae?null:Ae.formattedPrice)}}function Ct(Oe,yt){if(1&Oe){const Ae=n.EpF();n.ynx(0),n.TgZ(1,"div",2),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"button",3),n.NdJ("click",function(){n.CHM(Ae);const Gt=n.oxw(3);return n.KtG(Gt.toggleItems())}),n.TgZ(5,"div",4),n._uU(6),n.qZA()(),n.TgZ(7,"div",5),n.YNc(8,Ft,9,6,"div",6),n.ALo(9,"async"),n.qZA(),n.BQk()}if(2&Oe){const Ae=yt.ngIf,qe=n.oxw(3);n.xp6(2),n.hij(" ",n.xi3(3,7,"configurator.header.items",n.VKq(12,Ke,Ae))," "),n.xp6(2),n.uIk("aria-expanded",!qe.hideItems)("aria-label",qe.getItemsMsg(Ae)),n.xp6(2),n.hij(" ",qe.getButtonText()," "),n.xp6(1),n.ekj("open",!qe.hideItems),n.xp6(1),n.Q6J("ngForOf",n.lcZ(9,10,qe.lineItems$))}}function it(Oe,yt){if(1&Oe&&(n._UZ(0,"cx-configure-cart-entry",14),n.ALo(1,"async")),2&Oe){const Ae=yt.ngIf,qe=n.oxw(2).ngIf,Gt=n.oxw();n.Q6J("cartEntry",qe)("readOnly",n.lcZ(1,4,Gt.readonly$))("msgBanner",!1)("disabled",Ae.disabled)}}function Zt(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,Ct,10,14,"ng-container",0),n.ALo(2,"async"),n.YNc(3,it,2,6,"cx-configure-cart-entry",1),n.ALo(4,"async"),n.ALo(5,"async"),n.BQk()),2&Oe){const Ae=n.oxw().ngIf,qe=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,qe.numberOfLineItems$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,n.lcZ(5,6,qe.shouldShowButton$)&&(null==Ae||null==Ae.product?null:Ae.product.configurable)&&qe.quantityControl$))}}function wt(Oe,yt){if(1&Oe&&(n.ynx(0),n.YNc(1,Zt,6,8,"ng-container",0),n.BQk()),2&Oe){const Ae=yt.ngIf,qe=n.oxw();n.xp6(1),n.Q6J("ngIf",qe.isBundleBasedConfigurator(Ae))}}var Dt;!function(Oe){let yt;var Ae;(Ae=yt=Oe.OwnerType||(Oe.OwnerType={})).PRODUCT="product",Ae.CART_ENTRY="cartEntry",Ae.ORDER_ENTRY="orderEntry"}(Dt||(Dt={}));var dt=(()=>{return(Oe=dt||(dt={})).Success="SUCCESS",Oe.Info="INFO",Oe.Warning="WARNING",Oe.Error="ERROR",dt;var Oe})(),Qt=(()=>{return(Oe=Qt||(Qt={})).KEY="KEY",Oe.NAME="NAME",Oe.QTY="QTY",Oe.FORMATTED_PRICE="FORMATTED_PRICE",Oe.PRICE_VALUE="PRICE_VALUE",Qt;var Oe})(),me=(()=>{return(Oe=me||(me={})).VERSION="CI#@#VERSION",Oe.CURRENCY="CI#@#CURRENCY",Oe.LINE_ITEM="LI",Oe.LINE_ITEM_DELIMITER="#",me;var Oe})();const vt="INITIAL";class Ze{static getOwnerKey(yt,Ae){if(!Ae||!yt)throw new Error("We expect an owner ID and an owner type");return yt+"/"+Ae}static createInitialOwner(){return{key:vt,configuratorType:vt,id:vt,type:Dt.OwnerType.PRODUCT}}static isInitialOwner(yt){return yt.configuratorType===vt}static createOwner(yt,Ae,qe="CPQCONFIGURATOR"){return{type:yt,id:Ae,configuratorType:qe,key:Ze.getOwnerKey(yt,Ae)}}}let $t=(()=>{class Oe{constructor(Ae){this.userIdService=Ae}setOwnerKey(Ae){Ae.key=Ze.getOwnerKey(Ae.type,Ae.id)}getComposedOwnerId(Ae,qe){return Ae+"+"+qe}decomposeOwnerId(Ae){const qe=Ae.split("+");if(2!==qe.length)throw new Error("We only expect 2 parts in ownerId, separated by +, but was: "+Ae);return{documentId:qe[0],entryNumber:qe[1]}}getCartId(Ae){const qe=Ae?.user?.uid===P.Fds?Ae.guid:Ae?.code;if(!qe)throw new Error("Cart ID is not defined");return qe}hasIssues(Ae){return this.getNumberOfIssues(Ae)>0}getNumberOfIssues(Ae){let qe=0;return Ae?.statusSummaryList?.forEach(Gt=>{Gt.status===dt.Error&&(qe=Gt.numberOfIssues||0)}),qe}isAttributeBasedConfigurator(Ae){return!!Ae&&("CPQCONFIGURATOR"===Ae||"TEXTFIELD"===Ae)}isBundleBasedConfigurator(Ae){return!!Ae&&"CLOUDCPQCONFIGURATOR"===Ae}isActiveCartContext(Ae){return(Ae?.location$??R.E).pipe((0,j.U)(qe=>qe!==h.Bx.SaveForLater&&qe!==h.Bx.SavedCart))}getSlotsFromLayoutConfiguration(Ae,qe,Gt,We){const Tt=Ae.layoutSlots;return Tt?Tt[qe][Gt][We].slots:[]}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.LFG(P.XBV))},Oe.\u0275prov=n.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),It=(()=>{class Oe{constructor(Ae){this.commonConfigUtilsService=Ae}hasIssues(){return this.commonConfigUtilsService.hasIssues(this.cartEntry)}getOwnerType(){return void 0!==this.cartEntry.orderCode?Dt.OwnerType.ORDER_ENTRY:Dt.OwnerType.CART_ENTRY}getEntityKey(){const Ae=this.cartEntry.entryNumber;if(void 0===Ae)throw new Error("No entryNumber present in entry");return this.cartEntry.orderCode?this.commonConfigUtilsService.getComposedOwnerId(this.cartEntry.orderCode,Ae):Ae.toString()}getRoute(){const Ae=this.cartEntry.product?.configuratorType;return this.readOnly?"configureOverview"+Ae:"configure"+Ae}getDisplayOnly(){return this.readOnly}isDisabled(){return!this.readOnly&&this.disabled}getResolveIssuesA11yDescription(){return!this.readOnly&&this.msgBanner?"cx-error-msg-"+this.cartEntry.entryNumber:void 0}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.Y36($t))},Oe.\u0275cmp=n.Xpm({type:Oe,selectors:[["cx-configure-cart-entry"]],inputs:{cartEntry:"cartEntry",readOnly:"readOnly",msgBanner:"msgBanner",disabled:"disabled"},decls:3,vars:1,consts:[[4,"ngIf"],["configureText",""],["class","disabled-link",4,"ngIf"],["class","link cx-action-link","cxAutoFocus","",3,"routerLink","queryParams",4,"ngIf"],[1,"disabled-link"],[4,"ngIf","ngIfThen"],["cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"]],template:function(Ae,qe){1&Ae&&(n.YNc(0,ot,3,2,"ng-container",0),n.YNc(1,ve,3,3,"ng-template",null,1,n.W1O)),2&Ae&&n.Q6J("ngIf",qe.cartEntry)},dependencies:[e.O5,M.yS,P.l2T,P.X$D],encapsulation:2,changeDetection:0}),Oe})(),cn=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({imports:[e.ez,P.bhT,P.LUR,E.QX1,M.Bz]}),Oe})(),Ut=(()=>{class Oe{constructor(Ae,qe){this.commonConfigUtilsService=Ae,this.cartItemContext=qe,this.iconTypes=E.e1G,this.orderEntry$=this.cartItemContext?.item$??R.E,this.quantityControl$=this.cartItemContext?.quantityControl$??R.E,this.readonly$=this.cartItemContext?.readonly$??R.E,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasIssues(Ae){return this.commonConfigUtilsService.hasIssues(Ae)}getNumberOfIssues(Ae){return this.commonConfigUtilsService.getNumberOfIssues(Ae)}getErrorMessageId(Ae){return"cx-error-msg-"+Ae.entryNumber}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.Y36($t),n.Y36(h.yj,8))},Oe.\u0275cmp=n.Xpm({type:Oe,selectors:[["cx-configurator-issues-notification"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"],[3,"id"],["class","cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[1,"cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(Ae,qe){1&Ae&&(n.YNc(0,Ie,3,3,"ng-container",0),n.ALo(1,"async")),2&Ae&&n.Q6J("ngIf",n.lcZ(1,1,qe.orderEntry$))},dependencies:[e.O5,E.oJW,It,e.Ov,P.X$D],encapsulation:2}),Oe})(),pn=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({providers:[(0,E.qCb)({id:h.oC.ITEM_CONFIGURATOR_ISSUES,position:E.otu.REPLACE,component:Ut})],imports:[e.ez,P.bhT,P.LUR,E.QX1,cn]}),Oe})(),ut=(()=>{class Oe{constructor(Ae,qe){this.cartItemContext=Ae,this.commonConfigUtilsService=qe,this.orderEntry$=this.cartItemContext?.item$??R.E,this.quantityControl$=this.cartItemContext?.quantityControl$??R.E,this.readonly$=this.cartItemContext?.readonly$??R.E,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasStatus(Ae){const qe=Ae.configurationInfos;return!!qe&&qe.length>0&&"NONE"!==qe[0].status}isAttributeBasedConfigurator(Ae){const qe=Ae.configurationInfos;return!!qe&&this.commonConfigUtilsService.isAttributeBasedConfigurator(qe[0]?.configuratorType)}getHiddenConfigurationInfoId(Ae){return"cx-configuration-hidden-info-"+Ae.toString()}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.Y36(h.yj,8),n.Y36($t))},Oe.\u0275cmp=n.Xpm({type:Oe,selectors:[["cx-configurator-cart-entry-info"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],["class","cx-intro cx-visually-hidden",4,"ngIf"],["class","cx-configuration-info",4,"ngFor","ngForOf"],[1,"cx-intro","cx-visually-hidden"],[1,"cx-configuration-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-label"],["aria-hidden","true",1,"cx-value"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(Ae,qe){1&Ae&&(n.YNc(0,ne,2,1,"ng-container",0),n.ALo(1,"async")),2&Ae&&n.Q6J("ngIf",n.lcZ(1,1,qe.orderEntry$))},dependencies:[e.sg,e.O5,It,e.Ov,P.X$D],encapsulation:2}),Oe})(),qt=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({providers:[(0,E.qCb)({id:h.oC.ITEM_DETAILS,position:E.otu.AFTER,component:ut})],imports:[e.ez,P.bhT,P.LUR,E.QX1,pn,cn]}),Oe})();var Pt=(()=>{return(Oe=Pt||(Pt={})).CONFIGURATOR="configurator",Oe.CONFIGURATOR_PRODUCT_CARD="configuratorProductCard",Pt;var Oe})();let mn=(()=>{class Oe{constructor(Ae,qe){this.productListItemContext=Ae,this.currentProductService=qe,this.nonConfigurable={configurable:!1},this.product$=(this.productListItemContext?this.productListItemContext.product$:this.currentProductService?this.currentProductService.getProduct(Pt.CONFIGURATOR):(0,V.of)(null)).pipe((0,j.U)(Gt=>Gt||this.nonConfigurable)),this.ownerTypeProduct=Dt.OwnerType.PRODUCT}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.Y36(E.Z6X,8),n.Y36(E.pHG,8))},Oe.\u0275cmp=n.Xpm({type:Oe,selectors:[["cx-configure-product"]],decls:2,vars:3,consts:[[4,"ngIf"],["cxAutoFocus","",1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(Ae,qe){1&Ae&&(n.YNc(0,Ue,2,1,"ng-container",0),n.ALo(1,"async")),2&Ae&&n.Q6J("ngIf",n.lcZ(1,1,qe.product$))},dependencies:[e.O5,M.yS,e.Ov,P.l2T,P.X$D],encapsulation:2,changeDetection:0}),Oe})(),En=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({providers:[(0,E.qCb)({id:E.RVA.ITEM_ACTIONS,position:E.otu.AFTER,component:mn})],imports:[e.ez,M.Bz,P.pEA.withConfig({cmsComponents:{ConfigureProductComponent:{component:mn}}}),P.bhT,P.LUR,E.QX1]}),Oe})(),Ce=(()=>{class Oe{retrieveLineItems(Ae){let qe=[];if(Ae.configurationInfos){const Gt=Ae.configurationInfos.filter(bt=>bt&&(bt.configurationLabel||bt.configurationValue)),We=Gt[0]?.configurationLabel,Tt=Gt[0]?.configurationValue;We!==me.VERSION?Gt.forEach(bt=>qe.push(this.prepareLineItem(bt))):We===me.VERSION&&Number(Tt)>=2?qe=this.processConfigurationInfos(Gt):this.logWarning("Wrong ConfigurationInfo version")}return qe}prepareLineItem(Ae){const qe=Ae.configurationValue?Ae.configurationValue.split("x"):[];return{name:Ae.configurationLabel?this.removeDelimiter(Ae.configurationLabel):"",formattedQuantity:qe.length>=1?qe[0].trim():"",formattedPrice:qe.length>=2?qe[1].trim():""}}removeDelimiter(Ae){let qe=Ae.trim();return":"===qe.charAt(qe.length-1)&&(qe=qe.substr(0,qe.length-1)),qe}processConfigurationInfos(Ae){const qe=new Map;Ae.forEach(Tt=>this.processConfigurationInfoEntry(qe,Tt));const Gt=new Map(Array.from(qe).sort((Tt,bt)=>Tt[0]-bt[0]));return Array.from(Gt.values())}processConfigurationInfoEntry(Ae,qe){if(qe.configurationLabel){const Gt=qe.configurationLabel.split(me.LINE_ITEM_DELIMITER);Gt[0]===me.LINE_ITEM&&this.addLineItemData(Ae,Gt,qe.configurationValue?qe.configurationValue:"")}}addLineItemData(Ae,qe,Gt){if(3===qe.length){const We=Number(qe[1]);let Tt;switch(qe[2]){case Qt.NAME:Tt=this.getOrCreateLineItem(Ae,We),Tt.name=Gt;break;case Qt.QTY:Tt=this.getOrCreateLineItem(Ae,We),Tt.formattedQuantity=Gt;break;case Qt.FORMATTED_PRICE:Tt=this.getOrCreateLineItem(Ae,We),Tt.formattedPrice=Gt;break;case Qt.KEY:case Qt.PRICE_VALUE:break;default:this.logWarning("Wrong LineItem format")}}else this.logWarning("Wrong LineItem format")}getOrCreateLineItem(Ae,qe){const Gt=Ae.get(qe)??{name:"",formattedQuantity:"",formattedPrice:""};return Ae.get(qe)||Ae.set(qe,Gt),Gt}logWarning(Ae){(0,n.X6Q)()&&console.warn(Ae)}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275prov=n.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),Te=(()=>{class Oe{constructor(Ae,qe,Gt,We,Tt){this.commonConfigUtilsService=Ae,this.configCartEntryBundleInfoService=qe,this.breakpointService=Gt,this.translation=We,this.cartItemContext=Tt,this.orderEntry$=this.cartItemContext?.item$??R.E,this.quantityControl$=this.cartItemContext?.quantityControl$??R.E,this.readonly$=this.cartItemContext?.readonly$??R.E,this.hideItems=!0,this.lineItems$=this.orderEntry$.pipe((0,j.U)(bt=>this.configCartEntryBundleInfoService.retrieveLineItems(bt))),this.numberOfLineItems$=this.lineItems$.pipe((0,j.U)(bt=>bt.length)),this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}toggleItems(){this.hideItems=!this.hideItems}isBundleBasedConfigurator(Ae){const qe=Ae.configurationInfos;return!!qe&&this.commonConfigUtilsService.isBundleBasedConfigurator(qe[0]?.configuratorType)}isDesktop(){return this.breakpointService.isUp(E.Bst.md)}getButtonText(Ae){return Ae||(Ae=""),this.hideItems?this.translation.translate("configurator.header.show").pipe((0,H.q)(1)).subscribe(qe=>Ae+=qe):this.translation.translate("configurator.header.hide").pipe((0,H.q)(1)).subscribe(qe=>Ae+=qe),Ae}getItemsMsg(Ae){let qe="";return this.translation.translate("configurator.a11y.cartEntryBundleInfo",{items:Ae}).pipe((0,H.q)(1)).subscribe(Gt=>qe=Gt),this.getButtonText(qe)}getHiddenItemInfo(Ae){let qe="";return Ae.name&&Ae.formattedPrice&&Ae.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundle",{name:Ae.name,price:Ae.formattedPrice,quantity:Ae.formattedQuantity}).pipe((0,H.q)(1)).subscribe(Gt=>qe=Gt):Ae.name&&Ae.formattedPrice?this.translation.translate("configurator.a11y.cartEntryBundleNameWithPrice",{name:Ae.name,price:Ae.formattedPrice}).pipe((0,H.q)(1)).subscribe(Gt=>qe=Gt):Ae.name&&Ae.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundleNameWithQuantity",{name:Ae.name,quantity:Ae.formattedQuantity}).pipe((0,H.q)(1)).subscribe(Gt=>qe=Gt):this.translation.translate("configurator.a11y.cartEntryBundleName",{name:Ae.name}).pipe((0,H.q)(1)).subscribe(Gt=>qe=Gt),qe}getHiddenItemInfoId(Ae){return"cx-item-hidden-info-"+Ae.toString()}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.Y36($t),n.Y36(Ce),n.Y36(E.r),n.Y36(P.D7D),n.Y36(h.yj,8))},Oe.\u0275cmp=n.Xpm({type:Oe,selectors:[["cx-configurator-cart-entry-bundle-info"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[1,"cx-number-items"],[3,"click"],[1,"cx-toggle-hide-items"],[1,"cx-item-infos"],["class","cx-item-info",4,"ngFor","ngForOf"],[1,"cx-item-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-item-name"],["aria-hidden","true",1,"cx-item-quantity"],["aria-hidden","true",1,"cx-item-price"],[1,"cx-identifier"],[1,"cx-item"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(Ae,qe){1&Ae&&(n.YNc(0,wt,2,1,"ng-container",0),n.ALo(1,"async")),2&Ae&&n.Q6J("ngIf",n.lcZ(1,1,qe.orderEntry$))},dependencies:[e.sg,e.O5,It,e.Ov,P.X$D,P.bOD],encapsulation:2}),Oe})(),Me=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({providers:[(0,E.qCb)({id:h.oC.ITEM_BUNDLE_DETAILS,position:E.otu.AFTER,component:Te})],imports:[e.ez,P.LUR,cn]}),Oe})(),pt=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({imports:[pn,qt,Me,cn,En]}),Oe})();const ft={backend:{occ:{endpoints:{product:{configurator:"products/${productCode}?fields=code,configurable,configuratorType",configuratorProductCard:"products/${productCode}?fields=code,description,images(DEFAULT)"}}},loadingScopes:{product:{list:{include:[Pt.CONFIGURATOR]}}}}};let nn=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({providers:[(0,P.i51)(ft)]}),Oe})(),zt=(()=>{class Oe{}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)},Oe.\u0275mod=n.oAB({type:Oe}),Oe.\u0275inj=n.cJS({imports:[nn,pt]}),Oe})();var hn;!function(Oe){let yt;var Ae;(Ae=yt=Oe.PageType||(Oe.PageType={})).CONFIGURATION="configuration",Ae.OVERVIEW="overview"}(hn||(hn={}));let Wt=(()=>{class Oe{constructor(Ae,qe){this.configUtilsService=Ae,this.routingService=qe,this.ROUTE_FRAGMENT_CONFIGURE="configure",this.ROUTE_FRAGMENT_OVERVIEW="configureOverview"}extractRouterData(){return this.routingService.getRouterState().pipe((0,G.h)(Ae=>Ae.state.params.entityKey),(0,G.h)(Ae=>void 0===Ae.nextState),(0,j.U)(Ae=>{const qe=this.createOwnerFromRouterState(Ae),Gt=Ae.state.semanticRoute;return{owner:qe,isOwnerCartEntry:qe.type===Dt.OwnerType.CART_ENTRY,displayOnly:Ae.state.params.displayOnly,resolveIssues:"true"===Ae.state.queryParams?.resolveIssues,skipConflicts:"true"===Ae.state.queryParams?.skipConflicts,forceReload:"true"===Ae.state.queryParams?.forceReload,expMode:"true"===Ae.state.queryParams?.expMode,configIdTemplate:Ae.state.queryParams?.configIdTemplate,pageType:Gt&&Gt.includes(this.ROUTE_FRAGMENT_OVERVIEW)?hn.PageType.OVERVIEW:hn.PageType.CONFIGURATION}}))}createOwnerFromRouterState(Ae){const qe=Ze.createInitialOwner(),Gt=Ae.state.params;if(Gt.ownerType){const Tt=Gt.entityKey;qe.type=Gt.ownerType,qe.id=Tt}else qe.type=Dt.OwnerType.PRODUCT,qe.id=Gt.rootProduct;const We=Ae.state.semanticRoute;if(We){const Tt=this.getConfiguratorTypeFromSemanticRoute(We);qe.configuratorType=Tt}return this.configUtilsService.setOwnerKey(qe),qe}getConfiguratorTypeFromSemanticRoute(Ae){if(Ae.startsWith(this.ROUTE_FRAGMENT_OVERVIEW))return Ae.split(this.ROUTE_FRAGMENT_OVERVIEW)[1];if(Ae.startsWith(this.ROUTE_FRAGMENT_CONFIGURE))return Ae.split(this.ROUTE_FRAGMENT_CONFIGURE)[1];throw new Error("Not able to detemine configurator type")}}return Oe.\u0275fac=function(Ae){return new(Ae||Oe)(n.LFG($t),n.LFG(P.Znh))},Oe.\u0275prov=n.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},2535:(ye,X,v)=>{"use strict";v.d(X,{Mc:()=>Ve,O4:()=>Re,oQ:()=>_e,SG:()=>Qt});var n=v(4650),e=v(610),h=v(6322),P=v(1446),E=v(6506),M=v(2986),R=v(4850),V=v(7545),j=v(2198),H=v(5778),G=v(1177);class q{constructor(vt,Ze,$t){this.project=vt,this.concurrent=Ze,this.scheduler=$t}call(vt,Ze){return Ze.subscribe(new ee(vt,this.project,this.concurrent,this.scheduler))}}class ee extends G.Ds{constructor(vt,Ze,$t,It){super(vt),this.project=Ze,this.concurrent=$t,this.scheduler=It,this.index=0,this.active=0,this.hasCompleted=!1,$t<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(vt){const{subscriber:Ze,result:$t,value:It,index:cn}=vt;Ze.subscribeToProjection($t,It,cn)}_next(vt){const Ze=this.destination;if(Ze.closed)return void this._complete();const $t=this.index++;if(this.active<this.concurrent){Ze.next(vt);try{const{project:It}=this,cn=It(vt,$t);this.scheduler?this.destination.add(this.scheduler.schedule(ee.dispatch,0,{subscriber:this,result:cn,value:vt,index:$t})):this.subscribeToProjection(cn,vt,$t)}catch(It){Ze.error(It)}}else this.buffer.push(vt)}subscribeToProjection(vt,Ze,$t){this.active++,this.destination.add((0,G.ft)(vt,new G.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(vt){this._next(vt)}notifyComplete(){const vt=this.buffer;this.active--,vt&&vt.length>0&&this._next(vt.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var ue=v(7221),oe=v(2994),De=v(6895),Ye=v(529),ot=v(591),ze=v(8723),Ge=v(1737);let ge=(()=>{class me{constructor(Ze,$t,It,cn){this.configuratorRouterExtractorService=Ze,this.breakpointService=$t,this.layoutConfig=It,this.commonConfiguratorUtilsService=cn}handle(Ze,$t,It){return $t===me.templateName&&It===me.sectionHeader?this.compileRouterAndResolution().pipe((0,M.q)(1)).subscribe(cn=>{Ze=Ze.pipe((0,R.U)(Ut=>this.getHeaderSlots(Ut,cn)))}):$t===me.templateName&&It===me.sectionNavigation&&this.compileRouterAndResolution().pipe((0,M.q)(1)).subscribe(cn=>{Ze=Ze.pipe((0,R.U)(Ut=>this.getNavigationSlots(Ut,cn)))}),Ze}compileRouterAndResolution(){return this.configuratorRouterExtractorService.extractRouterData().pipe((0,V.w)(Ze=>this.breakpointService.isUp(P.Bst.lg).pipe((0,R.U)($t=>({isLargeResolution:$t,routerData:Ze})))))}getHeaderSlots(Ze,$t){if($t.routerData.pageType===E.iB.PageType.CONFIGURATION){const It=["PreHeader"];return It.push(...Ze),It}return $t.routerData.displayOnly?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionHeaderDisplayOnly,$t.isLargeResolution?P.Bst.lg:P.Bst.xs):Ze}getNavigationSlots(Ze,$t){return $t.routerData.pageType===E.iB.PageType.OVERVIEW&&$t.routerData.displayOnly?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionNavigationDisplayOnly,$t.isLargeResolution?P.Bst.lg:P.Bst.xs):Ze}}return me.templateName="CpqConfigurationTemplate",me.sectionHeaderDisplayOnly="headerDisplayOnly",me.sectionNavigationDisplayOnly="navigationDisplayOnly",me.sectionHeader="header",me.sectionNavigation="navigation",me.\u0275fac=function(Ze){return new(Ze||me)(n.LFG(E.u6),n.LFG(P.r),n.LFG(P.Kpm),n.LFG(E.NU))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),ve=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{CpqConfigurationTemplate:{header:{lg:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]},xs:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]}},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},navigation:{lg:{slots:[]},slots:["CpqConfigMenu"]},navigationDisplayOnly:{lg:{slots:[]},xs:{slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]}},lg:{slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigMenu","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]},slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]}}}),{provide:P.NyP,useExisting:ge,multi:!0}]}),me})();const de={routing:{routes:{configureCLOUDCPQCONFIGURATOR:{paths:["configure/cpq/:ownerType/entityKey/:entityKey"]}}}};let Ke=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)(de)],imports:[e.Bz.forChild([{path:null,data:{cxRoute:"configureCLOUDCPQCONFIGURATOR"},component:P.wAB,canActivate:[P.al$]}]),P.iqf,ve]}),me})();const rt={routing:{routes:{configureOverviewCLOUDCPQCONFIGURATOR:{paths:["configure-overview/cpq/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/cpq/:ownerType/entityKey/:entityKey"]}}}};let Ie=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)(rt)],imports:[e.Bz.forChild([{path:null,component:P.wAB,data:{cxRoute:"configureOverviewCLOUDCPQCONFIGURATOR"},canActivate:[P.al$]}]),ve]}),me})(),Nt=(()=>{class me{constructor(Ze,$t,It){this.http=Ze,this.occEndpointsService=$t,this.userIdService=It}getCpqAccessData(){return this.userIdService?this.userIdService.takeUserId(!0).pipe((0,V.w)(Ze=>this.http.get(this.occEndpointsService.buildUrl("getCpqAccessData",{urlParams:{userId:Ze}})))):this.http.get(this.occEndpointsService.buildUrl("getCpqAccessData",{urlParams:{userId:"current"}}))}}return me.\u0275fac=function(Ze){return new(Ze||me)(n.LFG(Ye.eN),n.LFG(h.Lz0),n.LFG(h.XBV,8))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),Fe=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275prov=n.Yz7({token:me,factory:function(Ze){let $t=null;return $t=Ze?new(Ze||me):n.LFG(h.DeH),$t},providedIn:"root"}),me})(),ht=(()=>{class me{constructor(Ze,$t,It){this.cpqAccessLoaderService=Ze,this.authService=$t,this.config=It,this.EXPIRED_TOKEN={accessToken:"INVALID DUMMY",accessTokenExpirationTime:0,endpoint:""}}ngOnDestroy(){this.currentCpqAccessSubscription?.unsubscribe(),this.currentAuthServiceSubscription?.unsubscribe()}getCpqAccessData(){return(!this.cpqAccessData$||this._cpqAccessData$.hasError)&&this.initCpqAccessData(),this.cpqAccessData$}renewCpqAccessData(){this.cpqAccessData$&&(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN),this.authService.isUserLoggedIn().pipe((0,M.q)(1)).subscribe(Ze=>{Ze&&this.startAutoFetchingCpqAccessData()}))}initCpqAccessData(){this._cpqAccessData$=new ot.X(this.EXPIRED_TOKEN),this.cpqAccessData$=this._cpqAccessData$.pipe((0,j.h)(Ze=>!this.isTokenExpired(Ze))),this.currentAuthServiceSubscription?.unsubscribe(),this.currentAuthServiceSubscription=this.authService.isUserLoggedIn().pipe((0,H.x)()).subscribe(Ze=>{Ze?(this.stopAutoFetchingCpqAccessData(),this.startAutoFetchingCpqAccessData()):(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN))})}stopAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription?.unsubscribe()}startAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription=this.cpqAccessLoaderService.getCpqAccessData().pipe(function z(me,vt=Number.POSITIVE_INFINITY,Ze){return vt=(vt||0)<1?Number.POSITIVE_INFINITY:vt,$t=>$t.lift(new q(me,vt,Ze))}(Ze=>(0,ze.H)(this.fetchNextTokenIn(Ze)).pipe((0,V.w)(()=>this.cpqAccessLoaderService.getCpqAccessData())))).subscribe(this._cpqAccessData$)}fetchNextTokenIn(Ze){const $t=this.config.productConfigurator.cpq?.authentication;if($t){let It=Ze.accessTokenExpirationTime-Date.now()-$t.tokenExpirationBuffer;return It<$t.tokenMinValidity?It=$t.tokenMinValidity:It>$t.tokenMaxValidity&&(It=$t.tokenMaxValidity),It}throw new Error("CPQ authentication configuration not present")}isTokenExpired(Ze){const $t=this.config.productConfigurator.cpq?.authentication;if($t)return Date.now()>Ze.accessTokenExpirationTime-$t.tokenExpirationBuffer;throw new Error("CPQ authentication configuration not present")}}return me.\u0275fac=function(Ze){return new(Ze||me)(n.LFG(Nt),n.LFG(h.e80),n.LFG(Fe))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Re="x-cpq-configurator";let fe=(()=>{class me{constructor(Ze){this.cpqAccessStorageService=Ze,this.HEADER_ATTR_CPQ_SESSION_ID="x-cpq-session-id",this.HEADER_ATTR_CPQ_NO_COOKIES="x-cpq-disable-cookies",this.cpqSessionId=null}intercept(Ze,$t){return Ze.headers.has(Re)?this.cpqAccessStorageService.getCpqAccessData().pipe((0,M.q)(1),(0,V.w)(It=>$t.handle(this.enrichHeaders(Ze,It)).pipe((0,ue.K)(cn=>this.handleError(cn,$t,Ze)),(0,oe.b)(cn=>this.extractCpqSessionId(cn))))):$t.handle(Ze)}handleError(Ze,$t,It){return Ze instanceof Ye.UA&&403===Ze.status?(this.cpqAccessStorageService.renewCpqAccessData(),this.cpqAccessStorageService.getCpqAccessData().pipe((0,M.q)(1),(0,V.w)(cn=>$t.handle(this.enrichHeaders(It,cn)).pipe((0,oe.b)(Ut=>this.extractCpqSessionId(Ut)))))):(0,Ge._)(Ze)}extractCpqSessionId(Ze){(Ze instanceof Ye.Zn||Ze instanceof Ye.UA)&&Ze.headers.has(this.HEADER_ATTR_CPQ_SESSION_ID)&&(this.cpqSessionId=Ze.headers.get(this.HEADER_ATTR_CPQ_SESSION_ID))}enrichHeaders(Ze,$t){let It=Ze.clone({url:$t.endpoint+Ze.url,headers:new Ye.WM({Authorization:"Bearer "+$t.accessToken,[this.HEADER_ATTR_CPQ_NO_COOKIES]:"true"})});return this.cpqSessionId&&(It=It.clone({setHeaders:{[this.HEADER_ATTR_CPQ_SESSION_ID]:this.cpqSessionId}})),It}}return me.\u0275fac=function(Ze){return new(Ze||me)(n.LFG(ht))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const ie={productConfigurator:{cpq:{authentication:{tokenExpirationBuffer:1e4,tokenMaxValidity:864e5,tokenMinValidity:5e3}}}};let ne=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[{provide:Ye.TP,useClass:fe,multi:!0},(0,h.i51)(ie)],imports:[De.ez]}),me})(),Ve=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({routing:{protected:!0}})],imports:[Ke,Ie,ne]}),me})();const _e="productConfiguratorRulebased",Ue=["ConfiguratorForm","ConfiguratorOverviewForm","ConfiguratorOverviewMenu","ConfiguratorUpdateMessage","ConfiguratorAddToCartButton","ConfiguratorMenu","ConfiguratorGroupTitle","ConfiguratorOverviewBanner","ConfiguratorPrevNext","ConfiguratorPriceSummary","ConfiguratorProductTitle","ConfiguratorTabBar","ConfiguratorExitButton","ConfiguratorVariantCarousel","CpqConfiguratorConflictAndErrorMessagesComponent","ConfiguratorOverviewFilterButton","ConfiguratorOverviewFilter","ConfiguratorOverviewSidebar"];function Ee(){return{featureModules:{[_e]:{cmsComponents:Ue}}}}let Ot=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.x2j)(Ee)]}),me})();const Ft={routing:{routes:{configureCPQCONFIGURATOR:{paths:["configure/vc/:ownerType/entityKey/:entityKey"]},configureOverviewCPQCONFIGURATOR:{paths:["configure-overview/vc/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/vc/:ownerType/entityKey/:entityKey"]}}}};let Ct=(()=>{class me{static forRoot(){return{ngModule:me,providers:[(0,h.i51)(Ft)]}}}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({}),me})(),it=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{VariantConfigurationTemplate:{header:{lg:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]},xs:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]}},navigation:{lg:{slots:[]},slots:["VariantConfigMenu"]},lg:{slots:["VariantConfigHeader","VariantConfigMenu","VariantConfigContent","VariantConfigBottombar","VariantConfigVariantCarousel"]},slots:["VariantConfigHeader","VariantConfigContent","VariantConfigBottombar","VariantConfigVariantCarousel"]}}})]}),me})(),Zt=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[e.Bz.forChild([{path:null,data:{cxRoute:"configureCPQCONFIGURATOR"},component:P.wAB,canActivate:[P.al$]}]),P.iqf,it]}),me})(),wt=(()=>{class me{constructor(Ze,$t,It,cn){this.configuratorRouterExtractorService=Ze,this.breakpointService=$t,this.layoutConfig=It,this.commonConfiguratorUtilsService=cn}handle(Ze,$t,It){return $t===me.templateName&&"header"===It&&this.configuratorRouterExtractorService.extractRouterData().pipe((0,M.q)(1)).subscribe(cn=>{cn.displayOnly&&(Ze=Ze.pipe((0,V.w)(()=>this.breakpointService.isUp(P.Bst.lg)),(0,R.U)(Ut=>this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionDisplayOnlyName,Ut?P.Bst.lg:P.Bst.xs))))}),Ze}}return me.templateName="VariantConfigurationOverviewTemplate",me.sectionDisplayOnlyName="headerDisplayOnly",me.\u0275fac=function(Ze){return new(Ze||me)(n.LFG(E.u6),n.LFG(P.r),n.LFG(P.Kpm),n.LFG(E.NU))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),Dt=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{VariantConfigurationOverviewTemplate:{header:{slots:["SiteLogo","VariantConfigOverviewExitButton","MiniCart"]},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},lg:{slots:["VariantConfigOverviewHeader","VariantConfigOverviewBanner","VariantConfigOverviewNavigation","VariantConfigOverviewContent","VariantConfigOverviewBottombar"]},slots:["VariantConfigOverviewHeader","VariantConfigOverviewBanner","VariantConfigOverviewFilterButton","VariantConfigOverviewContent","VariantConfigOverviewBottombar"]}}}),{provide:P.NyP,useExisting:wt,multi:!0}]}),me})(),dt=(()=>{class me{}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[e.Bz.forChild([{path:null,component:P.wAB,data:{cxRoute:"configureOverviewCPQCONFIGURATOR"},canActivate:[P.al$]}]),Dt]}),me})(),Qt=(()=>{class me{static forRoot(){return{ngModule:me}}}return me.\u0275fac=function(Ze){return new(Ze||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[De.ez,E.r3,Ot,Zt,dt,Ct.forRoot()]}),me})()},5457:(ye,X,v)=>{"use strict";v.d(X,{Vg:()=>z,Yl:()=>E,kd:()=>M});var n=v(4650),e=v(6322),h=v(6895),P=v(529);let E=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275prov=n.Yz7({token:q,factory:function(ue){let oe=null;return oe=ue?new(ue||q):n.LFG(e.DeH),oe},providedIn:"root"}),q})();const M="smartEdit";let R=(()=>{class q{constructor(ue,oe,De){this.config=ue,this.location=oe,this.featureModules=De}get cmsTicketId(){return this._cmsTicketId}load(){this.isLaunchedInSmartEdit()&&this.featureModules.isConfigured("smartEdit")&&this.featureModules.resolveFeature("smartEdit").subscribe()}isLaunchedInSmartEdit(){const ue=this.location.path().split("?")[0],De=this.location.path().split("?")[1]?.split("&").find(Ye=>Ye.startsWith("cmsTicketId="));return this._cmsTicketId=De?.split("=")[1],ue.split("/").pop()===this.config.smartEdit?.storefrontPreviewRoute&&!!this._cmsTicketId}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(E),n.LFG(h.Ye),n.LFG(e.q2V))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();const V={smartEdit:{storefrontPreviewRoute:"cx-preview",allowOrigin:"localhost:9002"}},H=[{provide:P.TP,useExisting:(()=>{class q{constructor(ue){this.service=ue}intercept(ue,oe){return this.service.cmsTicketId&&ue.url.includes("/cms/")&&(ue=ue.clone({setParams:{cmsTicketId:this.service.cmsTicketId}})),oe.handle(ue)}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(R))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),multi:!0}];function G(q){return()=>{q.load()}}let z=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({providers:[...H,(0,e.i51)(V),{provide:n.ip1,useFactory:G,deps:[R],multi:!0}]}),q})()},1446:(ye,X,v)=>{"use strict";v.d(X,{sAk:()=>Al,rSk:()=>am,CY4:()=>tp,qUU:()=>Zl,_x$:()=>jv,_VN:()=>Vg,cgP:()=>bu,p$5:()=>Qo,Bst:()=>ml,R8M:()=>e_,sy8:()=>kl,ncj:()=>hp,wHA:()=>gm,r:()=>yi,AkF:()=>Il,dTQ:()=>wl,Fy4:()=>za,bBg:()=>Tu,Jv5:()=>cp,exf:()=>fo,al$:()=>Gs,wtB:()=>Of,T2n:()=>ms,ObY:()=>As,pHG:()=>Ni,kal:()=>op,Myk:()=>Ko,Lr3:()=>_f,I$v:()=>Fn,Eo6:()=>Vd,uEG:()=>Qi,Lh6:()=>Gl,GjU:()=>Hc,Yre:()=>Cf,Obx:()=>Hd,Lt1:()=>Yf,RRe:()=>ko,Hyp:()=>Qf,Ahv:()=>xu,Fym:()=>Uc,hfq:()=>gh,iqf:()=>ku,O2g:()=>Wa,mUh:()=>bm,e1G:()=>lr,oJW:()=>lo,QX1:()=>So,g0H:()=>Hl,ik0:()=>yl,o8g:()=>Ic,odZ:()=>Jv,Td$:()=>jd,oPH:()=>Ci,K9x:()=>Va,Q3W:()=>Ti,Kpm:()=>Ha,LOH:()=>Ul,xuE:()=>Ol,FLS:()=>js,Ixg:()=>ii,R7z:()=>vs,cOq:()=>Xi,qqZ:()=>zd,$zX:()=>em,Kcf:()=>a_,lzR:()=>pm,z4w:()=>ts,xRf:()=>__,AG5:()=>ap,VnX:()=>Mu,LcC:()=>Pl,F9u:()=>c_,WCT:()=>Td,$3S:()=>fs,f5$:()=>Ki,otu:()=>qr,NyP:()=>Bs,_Gt:()=>ca,kl2:()=>ns,wAB:()=>ki,JSc:()=>_l,ISW:()=>gs,QtL:()=>Ru,u3b:()=>Kg,X84:()=>zg,Ird:()=>Wg,z2b:()=>sp,k5W:()=>Gd,UUf:()=>$g,mEt:()=>ym,pvk:()=>Sm,knA:()=>dh,E7s:()=>$s,xZn:()=>ch,tFc:()=>uh,GZp:()=>Es,Z6X:()=>Qa,e1w:()=>Bi,fw4:()=>iy,RVA:()=>Hu,FHW:()=>ec,dDJ:()=>fp,Sk1:()=>ah,zah:()=>p_,nKP:()=>ay,lc1:()=>Ll,Quc:()=>qg,fVH:()=>xf,k$G:()=>Mf,Fjo:()=>pf,F4:()=>Gu,gJ3:()=>Gc,iNG:()=>es,U67:()=>Iu,ORR:()=>po,Fme:()=>qi,_fG:()=>Af,aNp:()=>bf,fsT:()=>Lu,v5t:()=>pp,gJ4:()=>jf,Fpw:()=>Ff,ac$:()=>Kd,dfC:()=>Hs,U$I:()=>tm,wmr:()=>Pf,FS_:()=>Ji,HrZ:()=>Df,XiQ:()=>y_,TrH:()=>C_,MuM:()=>Tm,qCb:()=>wg,ke7:()=>kf});var n=v(6895),e=v(4650),h=v(6322),P=v(591),E=v(6053),M=v(2654),R=v(1086),V=v(6498),j=v(839),H=v(8514),G=v(567),z=v(8896),q=v(1221),ee=v(4715),ue=v(5254),oe=v(8929),De=v(8723),Ye=v(5409),ot=v(8139),ze=v(353),Ge=v(4241);function ve(s){const{subscriber:_,counter:r,period:d}=s;_.next(r),this.schedule({subscriber:_,counter:r+1,period:d},d)}var de=v(6787),Ke=v(2198),rt=v(2994),Ie=v(4850),Nt=v(2986),Fe=v(7224),ht=v(1709),Re=v(5778),fe=v(7545),ie=v(5154),ne=v(7604),Ve=v(8117),_e=v(1059),Ue=v(537),Ee=v(9403),Ft=v(7168),Ct=v(2014),it=v(8003),Zt=v(7221),wt=v(13),Dt=v(1307),dt=v(373),Qt=v(7770),me=v(655),vt=v(1481),Ze=v(610),$t=v(8935),It=v(4006),cn=v(7039),Ut=v(3753),pn=v(3489);const ut={leading:!0,trailing:!1};class Ce{constructor(_,r,d,C){this.duration=_,this.scheduler=r,this.leading=d,this.trailing=C}call(_,r){return r.subscribe(new Te(_,this.duration,this.scheduler,this.leading,this.trailing))}}class Te extends pn.L{constructor(_,r,d,C,b){super(_),this.duration=r,this.scheduler=d,this.leading=C,this.trailing=b,this._hasTrailingValue=!1,this._trailingValue=null}_next(_){this.throttled?this.trailing&&(this._trailingValue=_,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Me,this.duration,{subscriber:this})),this.leading?this.destination.next(_):this.trailing&&(this._trailingValue=_,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const _=this.throttled;_&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),_.unsubscribe(),this.remove(_),this.throttled=null)}}function Me(s){const{subscriber:_}=s;_.clearThrottle()}function ft(s,_,r,d){const C=window&&!!window.document&&window.document.documentElement;let b=C&&_?window:r;if(s&&(b=s&&C&&"string"==typeof s?function nn(s,_,r){return(r?window.document:_).querySelector(s)}(s,r.nativeElement,d):s,!b))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return b}function zt(s){return s&&!s.firstChange}const Wt={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Oe={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class yt{constructor(_=!0){this.vertical=_,this.propsMap=_?Wt:Oe}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function We(s){return["Window","global"].some(r=>Object.prototype.toString.call(s).includes(r))}function Tt(s,_){return s?_.document.documentElement:null}function bt(s,_){const r=function st({container:s,isWindow:_,axis:r}){const{offsetHeightKey:d,clientHeightKey:C}=Vt(r);return xn(s,_,d,C)}(_);return _.isWindow?function Lt(s,_,r){const{axis:d,container:C,isWindow:b}=r,{offsetHeightKey:re,clientHeightKey:et}=Vt(d),Bt=s+kn(Tt(b,C),d,b),an=xn(_.nativeElement,b,re,et),Zn=function Gn(s,_,r){const d=_.topKey();if(s.getBoundingClientRect)return s.getBoundingClientRect()[d]+kn(s,_,r)}(_.nativeElement,d,b)+an;return{height:s,scrolled:Bt,totalToScroll:Zn,isWindow:b}}(r,s,_):function un(s,_,r){const{axis:d,container:C}=r;return{height:s,scrolled:C[d.scrollTopKey()],totalToScroll:C[d.scrollHeightKey()],isWindow:!1}}(r,0,_)}function Vt(s){return{offsetHeightKey:s.offsetHeightKey(),clientHeightKey:s.clientHeightKey()}}function xn(s,_,r,d){if(isNaN(s[r])){const C=Tt(_,s);return C?C[d]:0}return s[r]}function kn(s,_,r){const d=_.pageYOffsetKey(),C=_.scrollTopKey(),b=_.offsetTopKey();return isNaN(window.pageYOffset)?Tt(r,s)[C]:s.ownerDocument?s.ownerDocument.defaultView[d]:s[b]}function dr(s,_={down:0,up:0},r){let d,C;if(s.totalToScroll<=0)return!1;const b=s.isWindow?s.scrolled:s.height+s.scrolled;return r?(d=(s.totalToScroll-b)/s.totalToScroll,C=(_?.down?_.down:0)/10):(d=s.scrolled/(s.scrolled+(s.totalToScroll-b)),C=(_?.up?_.up:0)/10),d<=C}class pe{constructor({totalToScroll:_}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=_}updateScrollPosition(_){return this.lastScrollPosition=_}updateTotalToScroll(_){this.lastTotalToScroll!==_&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=_)}updateScroll(_,r){this.updateScrollPosition(_),this.updateTotalToScroll(r)}updateTriggeredFlag(_,r){r?this.triggered.down=_:this.triggered.up=_}isTriggeredScroll(_,r){return r?this.triggered.down===_:this.triggered.up===_}}function Je(s){const{scrollDown:_,stats:{scrolled:r}}=s;return{type:_?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:r}}}let mt=(()=>{class s{constructor(r,d){this.element=r,this.zone=d,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:r,infiniteScrollDisabled:d,infiniteScrollDistance:C}){const b=zt(r),re=zt(d),et=zt(C),Bt=!re&&!this.infiniteScrollDisabled||re&&!d.currentValue||et;(b||re||et)&&(this.destroyScroller(),Bt&&this.setup())}setup(){(function hn(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function Q(s){const{scrollContainer:_,scrollWindow:r,element:d,fromRoot:C}=s,b=function qe({windowElement:s,axis:_}){return function Gt(s,_){const r=s.isWindow||_&&!_.nativeElement?_:_.nativeElement;return{...s,container:r}}({axis:_,isWindow:We(s)},s)}({axis:new yt(!s.horizontal),windowElement:ft(_,r,d,C)}),re=new pe({totalToScroll:bt(d,b)}),Bt={up:s.upDistance,down:s.downDistance};return function te(s){let _=(0,Ut.R)(s.container,"scroll");return s.throttle&&(_=_.pipe(function En(s,_=ze.P,r=ut){return d=>d.lift(new Ce(s,_,r.leading,r.trailing))}(s.throttle,void 0,{leading:!0,trailing:!0}))),_}({container:b.container,throttle:s.throttle}).pipe((0,ht.zg)(()=>(0,R.of)(bt(d,b))),(0,Ie.U)(an=>function O(s,_,r){const{scrollDown:d,fire:C}=function wn(s,_,r){const d=function yn(s,_){return s<_.scrolled}(s,_);return{fire:dr(_,r,d),scrollDown:d}}(s,_,r);return{scrollDown:d,fire:C,stats:_}}(re.lastScrollPosition,an,Bt)),(0,rt.b)(({stats:an})=>re.updateScroll(an.scrolled,an.totalToScroll)),(0,Ke.h)(({fire:an,scrollDown:Zn,stats:{totalToScroll:si}})=>function Ae(s,_,r){return!!(s&&_||!r&&_)}(s.alwaysCallback,an,re.isTriggeredScroll(si,Zn))),(0,rt.b)(({scrollDown:an,stats:{totalToScroll:Zn}})=>{re.updateTriggeredFlag(Zn,an)}),(0,Ie.U)(Je))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(r=>this.handleOnScroll(r))})}handleOnScroll({type:r,payload:d}){const C="[NGX_ISE] DOWN"===r?this.scrolled:this.scrolledUp;(function Kt(s){return s.observed??s.observers.length>0})(C)&&this.zone.run(()=>C.emit(d))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(e.R0b))},s.\u0275dir=e.lG2({type:s,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),s})(),Jt=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})();var Un=v(529),Pn=v(5024),ur=v(6943),Vn=v(8555);const Tn=function(s){return{"anonymous-consent-banner-hidden":s}};function Yn(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.viewDetails())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()()()()(),e.BQk()}if(2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngClass",e.VKq(13,Tn,!r)),e.xp6(5),e.hij(" ",e.lcZ(7,5,"anonymousConsents.banner.title")," "),e.xp6(3),e.hij(" ",e.lcZ(10,7,"anonymousConsents.banner.description")," "),e.xp6(4),e.hij(" ",e.lcZ(14,9,"anonymousConsents.banner.viewDetails")," "),e.xp6(3),e.hij(" ",e.lcZ(17,11,"anonymousConsents.banner.allowAll")," ")}}const nr=["*"];function sr(s,_){1&s&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function Er(s,_){1&s&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"cxTranslate"),e._UZ(3,"div",14),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"anonymousConsents.dialog.legalDescription")," "))}function vr(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",18)(1,"cx-consent-management-form",19),e.NdJ("consentChanged",function(C){e.CHM(r);const b=e.oxw(4);return e.KtG(b.onConsentChange(C))}),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw().ngIf,C=e.oxw(3);e.xp6(1),e.Q6J("consentTemplate",r)("requiredConsents",C.requiredConsents)("consent",C.getCorrespondingConsent(r,d))}}function Dn(s,_){if(1&s&&(e.ynx(0),e.YNc(1,vr,2,3,"div",17),e.BQk()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function Ar(s,_){if(1&s&&(e.TgZ(0,"div",15),e.YNc(1,Dn,2,1,"ng-container",16),e.ALo(2,"async"),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.consents$))}}function Br(s,_){if(1&s){const r=e.EpF();e._UZ(0,"div",4),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",5)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Cross click"))}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",7),e._UZ(9,"cx-icon",8),e.qZA()()(),e.YNc(10,Er,4,3,"div",9),e.TgZ(11,"div",10)(12,"a",11),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.rejectAll())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"a",11),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()(),e.YNc(18,Ar,3,3,"div",12),e.ALo(19,"async")}if(2&s){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,8,"common.loaded")),e.xp6(4),e.hij(" ",e.lcZ(5,10,"anonymousConsents.dialog.title")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,12,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE),e.xp6(1),e.Q6J("ngIf",r.showLegalDescription),e.xp6(3),e.Oqu(e.lcZ(14,14,"anonymousConsents.dialog.clearAll")),e.xp6(3),e.Oqu(e.lcZ(17,16,"anonymousConsents.dialog.selectAll")),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,18,r.templates$))}}const Tr=["open"];function pr(s,_){if(1&s&&e.GkF(0,4),2&s){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const ar=function(s){return{component:s}};function _r(s,_){if(1&s){const r=e.EpF();e.YNc(0,pr,1,1,"ng-template",3),e.NdJ("loaded",function(C){e.CHM(r);const b=e.oxw(4);return e.KtG(b.isLoaded(C))})}if(2&s){const r=e.oxw().$implicit,d=e.oxw(3);e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.VKq(3,ar,r))("cxOutletDefer",d.getComponentDeferOptions(r.flexType))}}function Nn(s,_){if(1&s&&(e.ynx(0),e.YNc(1,_r,1,5,null,0),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r.flexType)}}function Hn(s,_){if(1&s&&e.YNc(0,Nn,2,1,"ng-container",2),2&s){const r=e.oxw(2);e.Q6J("ngForOf",r.components)}}const rr=function(s){return{components$:s}};function Mn(s,_){if(1&s&&e.YNc(0,Hn,1,1,"ng-template",1),2&s){const r=e.oxw();e.Q6J("cxOutlet",r.position)("cxOutletContext",e.VKq(2,rr,r.components$))}}function or(s,_){if(1&s&&(e._UZ(0,"cx-page-slot",3),e.ALo(1,"async")),2&s){const r=_.$implicit,d=e.oxw(3);e.Q6J("position",r)("isPageFold",r===e.lcZ(1,2,d.pageFoldSlot$))}}function wr(s,_){if(1&s&&(e.Hsn(0),e.YNc(1,or,2,4,"cx-page-slot",2),e.ALo(2,"async")),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,r.slots$))}}const Xr=function(s,_,r){return{templateName$:s,slots$:_,section$:r}};function mo(s,_){if(1&s&&e.YNc(0,wr,3,3,"ng-template",1),2&s){const r=_.ngIf,d=e.oxw();e.Q6J("cxPageTemplateStyle",r)("cxOutlet",r)("cxOutletContext",e.kEZ(3,Xr,d.templateName$,d.slots$,d.section$))}}function xr(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"p"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"ul")(7,"li"),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"button",3),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.prompt())}),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()}2&s&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"pwa.addToHomeScreenDescription")," "),e.xp6(4),e.Oqu(e.lcZ(9,6,"pwa.noInstallationNeeded")),e.xp6(3),e.Oqu(e.lcZ(12,8,"pwa.fastAccessToApplication")),e.xp6(3),e.hij(" ",e.lcZ(15,10,"pwa.addToHomeScreen")," "))}function _t(s,_){if(1&s&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.Oqu(r.title)}}function N(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().ngIf,b=e.oxw();return e.KtG(b.activeSlide=b.activeSlide-C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&s){const r=e.oxw(2);e.Q6J("disabled",0===r.activeSlide),e.uIk("aria-label",e.lcZ(1,3,"carousel.previousSlide")),e.xp6(2),e.Q6J("type",r.previousIcon)}}function xe(s,_){1&s&&e.GkF(0)}const x=function(s){return{item:s}};function J(s,_){if(1&s&&(e.TgZ(0,"div",12),e.YNc(1,xe,1,0,"ng-container",13),e.qZA()),2&s){const r=_.ngIf,d=e.oxw(3).index,C=e.oxw(2);e.ekj("active",d===C.activeSlide),e.xp6(1),e.Q6J("ngTemplateOutlet",C.template)("ngTemplateOutletContext",e.VKq(4,x,r))}}function He(s,_){if(1&s&&(e.ynx(0),e.YNc(1,J,2,6,"div",11),e.ALo(2,"async"),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r))}}function Rt(s,_){if(1&s&&(e.TgZ(0,"div",10),e.YNc(1,He,3,3,"ng-container",4),e.ALo(2,"slice"),e.qZA()),2&s){const r=e.oxw().index,d=e.oxw().ngIf,C=e.oxw();e.ekj("active",r===C.activeSlide),e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,C.items,r,r+d))}}function rn(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Rt,3,7,"div",9),e.BQk()),2&s){const r=_.index,d=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",r%d==0)}}function gn(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().ngIf,b=e.oxw();return e.KtG(b.activeSlide=b.activeSlide+C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&s){const r=e.oxw().ngIf,d=e.oxw();e.Q6J("disabled",d.activeSlide>d.items.length-r-1),e.uIk("aria-label",e.lcZ(1,3,"carousel.nextSlide")),e.xp6(2),e.Q6J("type",d.nextIcon)}}const ln=function(s){return{currentSlideNumber:s}};function Jn(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",17),e.NdJ("focus",function(){e.CHM(r);const C=e.oxw().index,b=e.oxw(3);return e.KtG(b.activeSlide=C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",18),e.qZA()}if(2&s){const r=e.oxw().index,d=e.oxw(2).ngIf,C=e.oxw();e.Q6J("disabled",r===C.activeSlide),e.uIk("aria-label",e.xi3(1,3,"carousel.slideNumber",e.VKq(6,ln,C.getSlideNumber(d,r)))),e.xp6(2),e.Q6J("type",C.indicatorIcon)}}function fr(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Jn,3,8,"button",16),e.BQk()),2&s){const r=_.index,d=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",r%d==0)}}function hr(s,_){if(1&s&&(e.TgZ(0,"div",15),e.YNc(1,fr,2,1,"ng-container",4),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.items)}}function eo(s,_){if(1&s&&(e.ynx(0),e.YNc(1,_t,2,1,"h2",0),e.TgZ(2,"div",1),e.YNc(3,N,3,5,"button",2),e.TgZ(4,"div",3),e.YNc(5,rn,2,1,"ng-container",4),e.qZA(),e.YNc(6,gn,3,5,"button",5),e.qZA(),e.YNc(7,hr,2,1,"div",6),e.BQk()),2&s){const r=_.ngIf,d=e.oxw();e.xp6(1),e.Q6J("ngIf",d.title),e.xp6(1),e.Q6J("ngClass","size-"+r),e.xp6(1),e.Q6J("ngIf",r<d.items.length),e.xp6(2),e.Q6J("ngForOf",d.items),e.xp6(1),e.Q6J("ngIf",r<d.items.length),e.xp6(1),e.Q6J("ngIf",!d.hideIndicators&&r<d.items.length)}}function To(s,_){if(1&s&&e._UZ(0,"cx-carousel",2),2&s){const r=_.ngIf;e.oxw();const d=e.MAs(3);e.Q6J("items",r)("template",d)}}const to=function(s,_,r){return{flexType:s,typeCode:_,uid:r}};function Rr(s,_){if(1&s&&e.GkF(0,3),2&s){const r=_.item;e.Q6J("cxComponentWrapper",e.kEZ(1,to,r.typeCode,r.typeCode,null==r?null:r.uid))}}function ci(s,_){1&s&&(e.TgZ(0,"div")(1,"div",2),e._UZ(2,"cx-spinner"),e.qZA()())}function no(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-consent-management-form",10),e.NdJ("consentChanged",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.onConsentChange(C))}),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw(3);e.Q6J("consentTemplate",r)("requiredConsents",d.requiredConsents)}}function xo(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"button",7),e.NdJ("click",function(){const b=e.CHM(r).ngIf,re=e.oxw(2);return e.KtG(re.rejectAll(b))}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){const b=e.CHM(r).ngIf,re=e.oxw(2);return e.KtG(re.allowAll(b))}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",6),e.YNc(11,no,1,2,"cx-consent-management-form",9),e.qZA()(),e.BQk()}if(2&s){const r=_.ngIf;e.xp6(4),e.hij(" ",e.lcZ(5,3,"consentManagementForm.clearAll")," "),e.xp6(3),e.hij(" ",e.lcZ(8,5,"consentManagementForm.selectAll")," "),e.xp6(4),e.Q6J("ngForOf",r)}}function Bo(s,_){if(1&s&&(e._UZ(0,"div",3),e.ALo(1,"cxTranslate"),e.YNc(2,xo,12,7,"ng-container",4),e.ALo(3,"async")),2&s){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,r.templateList$))}}function Xo(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("keydown.enter",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.close(C))})("keydown.space",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.close(C))})("click",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.close(C))}),e._UZ(1,"cx-icon",6),e.qZA()}if(2&s){const r=e.oxw();e.xp6(1),e.Q6J("type",r.iconTypes.CLOSE)}}function jr(s,_){1&s&&e.GkF(0)}function Go(s,_){if(1&s&&(e.ynx(0),e.YNc(1,jr,1,0,"ng-container",7),e.BQk()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",r.content)}}function ei(s,_){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Oqu(r.content)}}function ui(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw();e.hij(" ",r.content," ")}}const Eo=function(){return{placement:"auto",appendToBody:!0,displayCloseButton:!0}};function Ao(s,_){if(1&s&&(e.TgZ(0,"button",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s){e.oxw();const r=e.MAs(6);e.Q6J("cxPopover",r)("cxPopoverOptions",e.DdM(5,Eo)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"common.more")," ")}}const Vo=function(s){return[s]};function Cr(s,_){if(1&s&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.Q6J("id","content-header"+(r.index>=0?"-"+r.index:"")),e.xp6(1),e.hij(" ",r.content.header," ")}}function ti(s,_){if(1&s&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.deleteMsg," ")}}function Mo(s,_){if(1&s&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.title," ")}}function ni(s,_){if(1&s&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.textBold," ")}}function Dr(s,_){if(1&s&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&s){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r," ")}}function ro(s,_){if(1&s&&e._UZ(0,"cx-truncate-text-popover",21),2&s){const r=e.oxw().$implicit,d=e.oxw(2);e.Q6J("charactersLimit",d.charactersLimit)("content",r)}}function vo(s,_){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Dr,2,1,"div",18),e.YNc(2,ro,1,2,"ng-template",null,19,e.W1O),e.qZA()),2&s){const r=e.MAs(3),d=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!d.truncateText)("ngIfElse",r)}}function oo(s,_){if(1&s&&(e.TgZ(0,"div")(1,"div",24),e._uU(2),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.hij(" ",r," ")}}function _o(s,_){if(1&s&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.qZA(),e.YNc(3,oo,3,1,"div",9),e.qZA()),2&s){const r=_.$implicit;e.xp6(2),e.Oqu(r.title),e.xp6(1),e.Q6J("ngForOf",r.text)}}function li(s,_){if(1&s&&(e.TgZ(0,"div",25),e._UZ(1,"cx-icon",26),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("type",r.content.img)}}const Kn=function(){return{autofocus:!0}};function Ho(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.cancelEdit())}),e.ALo(3,"cxTranslate"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()(),e.TgZ(6,"div",30)(7,"button",31),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.delete())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA()()()}2&s&&(e.xp6(2),e.Q6J("cxAtMessage",e.lcZ(3,4,"assistiveMessage.actionCancelled")),e.xp6(2),e.hij(" ",e.lcZ(5,6,"common.cancel")," "),e.xp6(2),e.Q6J("cxFocus",e.DdM(10,Kn)),e.xp6(2),e.hij(" ",e.lcZ(9,8,"common.delete")," "))}function $o(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.delete())}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function Io(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.setDefault())}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function tr(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.send())}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw(2).$implicit,d=e.oxw(3);e.uIk("aria-describedby",d.index>=0&&d.content.header&&!d.editMode?"content-header-"+d.index:null),e.xp6(1),e.hij(" ",r.name," ")}}function di(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.edit())}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function je(s,_){if(1&s&&(e.ynx(0,35),e.YNc(1,$o,2,1,"button",36),e.YNc(2,Io,2,1,"button",36),e.YNc(3,tr,2,2,"button",36),e.YNc(4,di,2,1,"button",36),e.BQk()),2&s){const r=e.oxw().$implicit;e.Q6J("ngSwitch",r.event),e.xp6(1),e.Q6J("ngSwitchCase","delete"),e.xp6(1),e.Q6J("ngSwitchCase","default"),e.xp6(1),e.Q6J("ngSwitchCase","send"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function St(s,_){if(1&s&&(e.TgZ(0,"a",38),e._uU(1),e.qZA()),2&s){const r=e.oxw().$implicit;e.s9C("href",r.link,e.LSH),e.xp6(1),e.hij(" ",r.name," ")}}function lt(s,_){if(1&s&&(e.TgZ(0,"div")(1,"div"),e.YNc(2,je,5,5,"ng-container",33),e.YNc(3,St,2,2,"a",34),e.qZA()()),2&s){const r=_.$implicit,d=e.oxw(3);e.xp6(2),e.Q6J("ngIf",d.isCardAction(r)),e.xp6(1),e.Q6J("ngIf",d.isCardLinkAction(r))}}function Ht(s,_){if(1&s&&(e.TgZ(0,"div",32),e.YNc(1,lt,4,2,"div",9),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.content.actions)}}const Yt=function(s){return{number:s}};function Xt(s,_){if(1&s&&(e.TgZ(0,"div",1),e.ALo(1,"cxTranslate"),e.YNc(2,Cr,2,2,"div",2),e.TgZ(3,"div",3),e.YNc(4,ti,2,1,"div",4),e.YNc(5,Mo,2,1,"span",5),e.TgZ(6,"div",6)(7,"div",7),e.YNc(8,ni,2,1,"div",8),e.YNc(9,vo,4,2,"div",9),e.YNc(10,_o,4,2,"div",10),e.qZA(),e.YNc(11,li,2,1,"div",11),e.qZA(),e.YNc(12,Ho,10,11,"div",12),e.YNc(13,Ht,2,1,"div",13),e.qZA()()),2&s){const r=e.oxw();let d;e.ekj("cx-card-border",r.border)("cx-card-fit-to-container",r.fitToContainer),e.Q6J("tabindex",r.border?0:-1),e.uIk("role",null!==(d=r.content.role)&&void 0!==d?d:null)("aria-label",r.content.label?e.xi3(1,18,r.content.label,e.VKq(21,Yt,r.index)):null),e.xp6(2),e.Q6J("ngIf",r.content.header&&!r.editMode),e.xp6(1),e.ekj("cx-card-delete",r.editMode),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.title),e.xp6(3),e.Q6J("ngIf",r.content.textBold),e.xp6(1),e.Q6J("ngForOf",r.content.text),e.xp6(1),e.Q6J("ngForOf",r.content.paragraphs),e.xp6(1),e.Q6J("ngIf",r.content.img),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.actions&&!r.editMode)}}function Sn(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"img",1),e.NdJ("load",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.loadHandler())})("error",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.errorHandler())}),e.qZA()}if(2&s){const r=e.oxw();e.uIk("src",r.media.src,e.LSH)("srcset",r.media.srcset)("alt",r.media.alt)("role",r.media.role)("loading",r.loading)}}function Gr(s,_){if(1&s&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s){const r=_.$implicit,d=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,d.prefix+"."+r[0],d.getTranslationParams(r[1]))," ")}}function Vr(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Gr,3,4,"p",1),e.BQk()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function An(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Vr,2,1,"ng-container",0),e.BQk()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.hidden)}}const be=function(s,_){return{max:s,min:_}},tt=["fileInput"];function Se(s,_){if(1&s&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&s){const r=_.$implicit;e.xp6(1),e.hij(" ",null==r?null:r.name,"\n")}}function nt(s,_){1&s&&e.GkF(0)}function Qe(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"a",3),e.YNc(2,nt,1,0,"ng-container",4),e.qZA(),e.BQk()),2&s){const r=e.oxw(),d=e.MAs(4);e.xp6(1),e.Q6J("href",r.url,e.LSH),e.uIk("target",r.target)("rel",r.rel)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",d)}}function at(s,_){1&s&&e.GkF(0)}function Cn(s,_){if(1&s&&(e.TgZ(0,"a",5),e.YNc(1,at,1,0,"ng-container",4),e.qZA()),2&s){const r=e.oxw(),d=e.MAs(4);e.Q6J("routerLink",r.routerUrl)("queryParams",r.queryParams)("fragment",r.fragment),e.uIk("target",r.target)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",d)}}function $n(s,_){1&s&&e.Hsn(0)}const kt=["qty"];function bn(s,_){if(1&s&&(e.TgZ(0,"ng-option",2),e._uU(1),e.qZA()),2&s){const r=_.$implicit,d=e.oxw();e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.name?r.name:d.sortLabels&&r.code?d.sortLabels[r.code]:"")}}const gr=function(s,_){return{ariaLabel:s,ariaControls:_}};function Js(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"a",1),e.NdJ("click",function(){const b=e.CHM(r).$implicit,re=e.oxw();return e.KtG(re.pageChange(b))}),e._uU(1),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw();e.Tol(r.type),e.ekj("disabled",d.isInactive(r))("current",d.isCurrent(r)),e.Q6J("routerLink",d.pageRoute)("queryParams",d.getQueryParams(r))("tabIndex",d.isInactive(r)?-1:0),e.uIk("aria-label",d.getAriaLabel(r.label,r.type)),e.xp6(1),e.hij(" ",r.label,"\n")}}function Z(s,_){1&s&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))}function $(s,_){if(1&s&&(e.TgZ(0,"div",6)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,r))}}function L(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const b=e.CHM(r).index,re=e.oxw(2);return e.KtG(re.clear(re.messageType.MSG_TYPE_CONFIRMATION,b))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.xp6(2),e.Q6J("type",d.iconTypes.SUCCESS),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE)}}function le(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",11)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const b=e.CHM(r).index,re=e.oxw(2);return e.KtG(re.clear(re.messageType.MSG_TYPE_INFO,b))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.xp6(2),e.Q6J("type",d.iconTypes.INFO),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE)}}function Mt(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",12)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const b=e.CHM(r).index,re=e.oxw(2);return e.KtG(re.clear(re.messageType.MSG_TYPE_WARNING,b))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.xp6(2),e.Q6J("type",d.iconTypes.WARNING),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE)}}function _n(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",13)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const b=e.CHM(r).index,re=e.oxw(2);return e.KtG(re.clear(re.messageType.MSG_TYPE_ERROR,b))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.xp6(2),e.Q6J("type",d.iconTypes.ERROR),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE)}}function Nr(s,_){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,$,4,3,"div",1),e.YNc(2,L,8,5,"div",2),e.YNc(3,le,8,5,"div",3),e.YNc(4,Mt,8,5,"div",4),e.YNc(5,_n,8,5,"div",5),e.qZA()),2&s){const r=_.ngIf,d=e.oxw();e.xp6(1),e.Q6J("ngForOf",r[d.messageType.MSG_TYPE_ASSISTIVE]),e.xp6(1),e.Q6J("ngForOf",r[d.messageType.MSG_TYPE_CONFIRMATION]),e.xp6(1),e.Q6J("ngForOf",r[d.messageType.MSG_TYPE_INFO]),e.xp6(1),e.Q6J("ngForOf",r[d.messageType.MSG_TYPE_WARNING]),e.xp6(1),e.Q6J("ngForOf",r[d.messageType.MSG_TYPE_ERROR])}}function pi(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.showBody=!C.showBody)}),e._uU(1),e._UZ(2,"cx-icon",11),e.qZA()}if(2&s){const r=e.oxw();e.uIk("aria-expanded",r.showBody)("aria-label",r.accordionText),e.xp6(1),e.hij(" ",r.accordionText," "),e.xp6(1),e.Q6J("type",r.showBody?"CARET_UP":"CARET_DOWN")}}function wo(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.buttonAction.emit())}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw();e.Q6J("cxAtMessage",r.actionButtonMessage),e.xp6(1),e.hij(" ",r.actionButtonText," ")}}function Mr(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeMessage.emit())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-icon",4),e.qZA()}if(2&s){const r=e.oxw();e.Q6J("cxAtMessage",e.lcZ(2,5,"common.close")),e.uIk("aria-label",e.lcZ(1,3,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE)}}function Ei(s,_){1&s&&(e.TgZ(0,"div",14),e.Hsn(1),e.qZA())}function Sa(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&s){const r=e.oxw(2);e.xp6(2),e.Oqu(r.promotions[0].description)}}function xs(s,_){if(1&s&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&s){const r=_.$implicit;e.xp6(1),e.hij(" ",r.description," ")}}function jo(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"ul"),e.YNc(2,xs,2,1,"li",3),e.qZA(),e.BQk()),2&s){const r=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",r.promotions)}}function io(s,_){if(1&s&&(e.TgZ(0,"div",1),e.YNc(1,Sa,3,1,"ng-container",2),e.YNc(2,jo,3,1,"ng-container",2),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",1===r.promotions.length),e.xp6(1),e.Q6J("ngIf",r.promotions.length>1)}}function tu(s,_){if(1&s&&(e.TgZ(0,"option",4),e.ALo(1,"async"),e._uU(2),e.qZA()),2&s){const r=_.$implicit,d=e.oxw(2);e.s9C("value",r.isocode),e.Q6J("selected",e.lcZ(1,3,d.activeItem$)===r.isocode),e.xp6(2),e.hij(" ",r.label," ")}}function Co(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"label")(1,"span"),e._uU(2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"select",1),e.NdJ("change",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.active=C.target.value)}),e.YNc(5,tu,3,5,"option",2),e.qZA(),e._UZ(6,"cx-icon",3),e.qZA()}if(2&s){const r=_.ngIf,d=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,d.label$)),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("type",d.iconTypes.CARET_DOWN)}}const ic=function(s){return{count:s}};function Ks(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-icon",1),e.NdJ("mouseover",function(){const b=e.CHM(r).$implicit,re=e.oxw();return e.KtG(re.setRate(b))})("click",function(){const b=e.CHM(r).$implicit,re=e.oxw();return e.KtG(re.saveRate(b))})("keydown.space",function(){const b=e.CHM(r).$implicit,re=e.oxw();return e.KtG(re.saveRate(b))}),e.ALo(1,"cxTranslate"),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw();e.Q6J("type",d.icon),e.uIk("tabindex",d.disabled?null:0)("aria-label",e.xi3(1,3,"productReview.addRate",e.VKq(6,ic,r)))}}const Ea=function(){return[1,2,3,4,5]};function Ms(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function wi(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit,d=e.oxw().$implicit;e.hij(" ",d[r]," ")}}function Ai(s,_){if(1&s&&(e.TgZ(0,"tr")(1,"th"),e.YNc(2,Ms,1,1,"ng-template",4),e.qZA(),e.TgZ(3,"td"),e.YNc(4,wi,1,1,"ng-template",4),e.qZA()()),2&s){const r=_.$implicit,d=e.oxw().$implicit,C=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",C.getHeaderOutletRef(r))("cxOutletContext",C.getHeaderOutletContext(r)),e.xp6(2),e.Q6J("cxOutlet",C.getDataOutletRef(r))("cxOutletContext",C.getDataOutletContext(r,d))}}function os(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"tbody",2),e.NdJ("click",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.launchItem(b))}),e.YNc(1,Ai,5,6,"tr",3),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw(3);e.ekj("is-current",d.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",d.structure.cells)}}function Qs(s,_){if(1&s&&(e.ynx(0),e.YNc(1,os,2,3,"tbody",1),e.BQk()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function Zo(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function Is(s,_){if(1&s&&(e.TgZ(0,"th",6),e.YNc(1,Zo,1,1,"ng-template",4),e.qZA()),2&s){const r=_.$implicit,d=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",d.getHeaderOutletRef(r))("cxOutletContext",d.getHeaderOutletContext(r))}}function nu(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit,d=e.oxw().$implicit;e.hij(" ",d[r]," ")}}function w(s,_){if(1&s&&(e.TgZ(0,"td"),e.YNc(1,nu,1,1,"ng-template",4),e.qZA()),2&s){const r=_.$implicit,d=e.oxw().$implicit,C=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",C.getDataOutletRef(r))("cxOutletContext",C.getDataOutletContext(r,d))}}function W(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"tr",2),e.NdJ("click",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.launchItem(b))}),e.YNc(1,w,2,4,"td",3),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw(3);e.ekj("is-current",d.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",d.structure.cells)}}function B(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"thead")(2,"tr"),e.YNc(3,Is,2,4,"th",5),e.qZA()(),e.YNc(4,W,2,3,"tr",1),e.BQk()),2&s){const r=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",r.structure.cells),e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function ce(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function $e(s,_){if(1&s&&e._uU(0),2&s){const r=e.oxw().$implicit,d=e.oxw().$implicit;e.hij(" ",r[d]," ")}}function Et(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"td",2),e.NdJ("click",function(){const b=e.CHM(r).$implicit,re=e.oxw(4);return e.KtG(re.launchItem(b))}),e.YNc(1,$e,1,1,"ng-template",4),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw().$implicit,C=e.oxw(3);e.ekj("is-current",C.isCurrentItem(r)),e.xp6(1),e.Q6J("cxOutlet",C.getDataOutletRef(d))("cxOutletContext",C.getDataOutletContext(d,r))}}function xt(s,_){if(1&s&&(e.TgZ(0,"tr")(1,"th",6),e.YNc(2,ce,1,1,"ng-template",4),e.qZA(),e.YNc(3,Et,2,4,"td",1),e.qZA()),2&s){const r=_.$implicit,d=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",d.getHeaderOutletRef(r))("cxOutletContext",d.getHeaderOutletContext(r)),e.xp6(1),e.Q6J("ngForOf",d.data)("ngForTrackBy",d.trackData)}}function fn(s,_){if(1&s&&(e.ynx(0),e.YNc(1,xt,4,6,"tr",3),e.BQk()),2&s){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.structure.cells)}}function ir(s,_){if(1&s&&(e.TgZ(0,"table"),e.YNc(1,Qs,2,2,"ng-container",0),e.YNc(2,B,5,3,"ng-container",0),e.YNc(3,fn,2,1,"ng-container",0),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.verticalStackedLayout),e.xp6(1),e.Q6J("ngIf",r.verticalLayout),e.xp6(1),e.Q6J("ngIf",r.horizontalLayout)}}function Qn(s,_){if(1&s&&e._UZ(0,"p",6),2&s){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.headline,e.oJD)}}function qn(s,_){if(1&s&&e._UZ(0,"p",7),2&s){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.content,e.oJD)}}function Bn(s,_){if(1&s&&(e.TgZ(0,"cx-generic-link",2),e.YNc(1,Qn,1,1,"p",3),e._UZ(2,"cx-media",4),e.YNc(3,qn,1,1,"p",5),e.qZA()),2&s){const r=e.oxw().ngIf,d=e.oxw();e.Q6J("url",d.routerLink)("target",d.getTarget(r)),e.xp6(1),e.Q6J("ngIf",r.headline),e.xp6(1),e.Q6J("container",d.getImage(r)),e.xp6(1),e.Q6J("ngIf",r.content)}}function br(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Bn,4,5,"cx-generic-link",1),e.BQk()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.routerLink)}}function jn(s,_){if(1&s&&(e.TgZ(0,"cx-generic-link",1),e._uU(1),e.qZA()),2&s){const r=_.ngIf,d=e.oxw();let C;e.Akn(r.styleAttributes),e.Q6J("url",null!==(C=r.url)&&void 0!==C?C:"")("target",d.getTarget(r)),e.xp6(1),e.Oqu(r.linkName)}}function Pr(s,_){if(1&s&&(e._UZ(0,"div",1),e.ALo(1,"cxSupplementHashAnchors")),2&s){let d;e.Q6J("innerHTML",e.lcZ(1,1,null!==(d=_.ngIf.content)&&void 0!==d?d:""),e.oJD)}}function Do(s,_){if(1&s){const r=e.EpF();e.ynx(0,7),e.NdJ("cxComponentRef",function(C){e.CHM(r);const b=e.oxw(4);return e.KtG(b.tabCompLoaded(C))}),e.BQk()}if(2&s){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const fi=function(s){return{param:s}},Yr=function(){return{}};function Yo(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(C){e.CHM(r);const b=e.oxw().index,re=e.oxw(2);return e.KtG(re.select(b,C))}),e._uU(2),e.ALo(3,"cxTranslate"),e.ALo(4,"async"),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,Do,1,1,"ng-template",6),e.qZA(),e.BQk()}if(2&s){const r=e.oxw(),d=r.index,C=r.$implicit,b=e.oxw(2);e.xp6(1),e.ekj("active",d===b.activeTabNum),e.uIk("aria-expanded",d===b.activeTabNum),e.xp6(1),e.hij(" ",e.xi3(3,8,C.title,e.VKq(13,fi,e.lcZ(4,11,b.tabTitleParams[d])))," "),e.xp6(4),e.ekj("active",d===b.activeTabNum),e.xp6(1),e.Q6J("cxOutlet",C.flexType)("cxOutletContext",e.DdM(15,Yr))}}function Di(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Yo,8,16,"ng-container",0),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function qs(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",1),e.ALo(2,"cxTranslate"),e.YNc(3,Di,2,1,"ng-container",2),e.qZA(),e.BQk()),2&s){const r=_.ngIf,d=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,d.ariaLabel)),e.xp6(2),e.Q6J("ngForOf",r)}}function sc(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const b=e.CHM(r).$implicit,re=e.oxw(2);return e.KtG(re.scrollToTarget(b))}),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.qZA()}if(2&s){const r=_.$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"skipLink.skipTo")," ",e.lcZ(3,4,r.i18nKey)," ")}}const ac=function(){return{tab:!0}};function ou(s,_){if(1&s&&(e.TgZ(0,"div",1),e.YNc(1,sc,4,6,"button",2),e.qZA()),2&s){const r=_.ngIf;e.Q6J("cxFocus",e.DdM(2,ac)),e.xp6(1),e.Q6J("ngForOf",r)}}const Vi=function(){return{disableMouseFocus:!0}};function ea(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"header",4),e.NdJ("keydown.escape",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.collapseMenu())})("click",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.collapseMenuIfClickOutside(C))}),e.ALo(1,"async"),e._UZ(2,"cx-page-layout",5)(3,"cx-page-layout",6),e.qZA(),e._UZ(4,"cx-page-slot",7)(5,"cx-global-message",8)}if(2&s){const r=e.oxw(2);e.ekj("is-expanded",e.lcZ(1,3,r.isExpanded$)),e.Q6J("cxFocus",e.DdM(5,Vi))}}function so(s,_){1&s&&(e.TgZ(0,"footer",9),e._UZ(1,"cx-page-layout",10),e.qZA()),2&s&&e.Q6J("cxFocus",e.DdM(1,Vi))}function zr(s,_){1&s&&(e.YNc(0,ea,6,6,"ng-template",1),e.TgZ(1,"main",2),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,so,2,2,"ng-template",3)),2&s&&(e.xp6(1),e.Q6J("cxFocus",e.DdM(1,Vi)))}const yo=["submit"],Ri=function(){return{required:"true"}},ri=function(s){return{ariaLabel:s}};function Da(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"ng-select",24),e.NdJ("change",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.countrySelected(C))}),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA(),e._UZ(8,"cx-form-errors",9),e.qZA()()}if(2&s){const r=e.oxw().ngIf,d=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"addressForm.country")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,10,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(14,Ri))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(15,ri,e.lcZ(7,12,"addressForm.country"))),e.xp6(3),e.Q6J("control",d.addressForm.get("country.isocode"))}}function bi(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Da,9,17,"div",4),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function ba(s,_){if(1&s&&(e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",25),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()()),2&s){const r=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,6,"addressForm.title")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("items",r)("placeholder",e.lcZ(6,8,"addressForm.title"))("cxNgSelectA11y",e.VKq(12,ri,e.lcZ(7,10,"addressForm.title")))}}function ws(s,_){if(1&s&&(e.ynx(0),e.YNc(1,ba,8,14,"div",4),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function iu(s,_){if(1&s&&(e.TgZ(0,"div",6),e.YNc(1,ws,2,1,"ng-container",4),e.ALo(2,"async"),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.titles$))}}function cc(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",14)(2,"label")(3,"span",7),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"ng-select",27),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-form-errors",9),e.qZA()(),e.BQk()),2&s){const r=e.oxw().ngIf,d=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"addressForm.state")),e.xp6(2),e.s9C("bindLabel",r[0].name?"name":"isocode"),e.s9C("bindValue",r[0].name?"isocode":"region"),e.s9C("placeholder",e.lcZ(7,12,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(16,Ri))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(17,ri,e.lcZ(8,14,"addressForm.state"))),e.xp6(3),e.Q6J("control",d.addressForm.get("region.isocode"))}}function uc(s,_){if(1&s&&(e.ynx(0,26),e.YNc(1,cc,10,19,"ng-container",4),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function Po(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",28)(2,"label")(3,"input",29),e.NdJ("change",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.toggleDefaultAddress())}),e.qZA(),e.TgZ(4,"span",30),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()()()()}2&s&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"addressForm.setAsDefault")))}function Or(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",21)(1,"button",31),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.back())}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()}if(2&s){const r=e.oxw();e.xp6(2),e.hij(" ",r.cancelBtnLabel||e.lcZ(3,1,"addressForm.chooseAddress")," ")}}function ao(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",10)(1,"cx-card",11),e.NdJ("editCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.editAddressButtonHandle(b))})("setDefaultCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.setAddressAsDefault(b))})("deleteCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);let et;return e.KtG(re.setEdit(null!==(et=b.id)&&void 0!==et?et:""))})("cancelCard",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.cancelCard())}),e.ALo(2,"async"),e.qZA()()}if(2&s){const r=_.$implicit,d=_.index,C=e.oxw(3);e.xp6(1),e.Q6J("index",d)("border",!0)("fitToContainer",!0)("content",e.lcZ(2,5,C.getCardContent(r)))("editMode",r.id===C.editCard)}}function Oo(s,_){if(1&s&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.YNc(3,ao,3,7,"div",9),e.ALo(4,"async"),e.qZA()),2&s){const r=e.oxw(2);e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,r.addresses$))}}function Lr(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.addAddressButtonHandle())}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()(),e.YNc(6,Oo,5,6,"div",6),e.ALo(7,"async"),e.BQk()}if(2&s){const r=e.oxw(),d=e.MAs(7);e.xp6(4),e.hij(" ",e.lcZ(5,3,"addressBook.addNewAddress")," "),e.xp6(2),e.Q6J("ngIf",!e.lcZ(7,5,r.addressesStateLoading$))("ngIfElse",d)}}function co(s,_){1&s&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addressBook.addNewDeliveryAddress")," "))}function oi(s,_){1&s&&(e.TgZ(0,"h2",14),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addressBook.addNewDeliveryAddress")," "))}function Lo(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"section"),e.YNc(2,co,3,3,"p",12),e.YNc(3,oi,3,3,"h2",12),e.TgZ(4,"cx-address-form",13),e.NdJ("submitAddress",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.addAddressSubmit(C))})("backToAddress",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.addAddressCancel())})("cancelCard",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.cancelCard())}),e.ALo(5,"async"),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.ALo(8,"async"),e.qZA()(),e.BQk()}if(2&s){const r=e.oxw();let d,C;e.xp6(2),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.s9C("actionBtnLabel",e.lcZ(6,9,"addressBook.addAddress")),e.s9C("cancelBtnLabel",e.lcZ(7,11,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("showCancelBtn",0!==(null==(d=e.lcZ(5,7,r.addresses$))?null:d.length))("setAsDefaultField",0!==(null==(C=e.lcZ(8,13,r.addresses$))?null:C.length))}}function Pi(s,_){1&s&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addressBook.editDeliveryAddress")," "))}function Wr(s,_){1&s&&(e.TgZ(0,"h2",14),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addressBook.editDeliveryAddress")," "))}function Fo(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"section"),e.YNc(2,Pi,3,3,"p",12),e.YNc(3,Wr,3,3,"h2",12),e.TgZ(4,"cx-address-form",15),e.NdJ("submitAddress",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.editAddressSubmit(C))})("backToAddress",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.editAddressCancel())}),e.ALo(5,"cxTranslate"),e.ALo(6,"cxTranslate"),e.qZA()(),e.BQk()}if(2&s){const r=e.oxw();e.xp6(2),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.s9C("actionBtnLabel",e.lcZ(5,6,"addressBook.updateAddress")),e.s9C("cancelBtnLabel",e.lcZ(6,8,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("addressData",r.currentAddress)}}function su(s,_){1&s&&(e.TgZ(0,"div",16),e._UZ(1,"cx-spinner"),e.qZA())}function lc(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",12)(1,"input",23),e.NdJ("ngModelChange",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.selectedAddress=C)}),e.qZA(),e.TgZ(2,"label",24),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"div",25)(6,"div",16)(7,"div",17),e._uU(8),e.qZA(),e.TgZ(9,"div",17),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e._uU(12),e.qZA(),e.TgZ(13,"div",17)(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",17),e._uU(17),e.qZA(),e.TgZ(18,"div",17),e._uU(19),e.qZA(),e.TgZ(20,"div",17),e._uU(21),e.qZA()()()()}if(2&s){const r=_.$implicit,d=_.index,C=e.oxw().ngIf,b=e.oxw();e.xp6(1),e.Q6J("ngModel",b.selectedAddress)("value",r)("id","suggested-addresses--suggested-"+d),e.xp6(1),e.Q6J("for","suggested-addresses--suggested-"+d),e.xp6(1),e.AsE(" ",e.lcZ(4,13,"addressSuggestion.suggestedAddress")," ",C.suggestedAddresses.length>1?d+1:null," "),e.xp6(5),e.Oqu(null==r?null:r.firstName),e.xp6(2),e.Oqu(null==r?null:r.lastName),e.xp6(2),e.Oqu(null==r?null:r.line1),e.xp6(3),e.Oqu(null==r?null:r.line2),e.xp6(2),e.Oqu(null==r?null:r.town),e.xp6(2),e.hij(" ",null==r||null==r.region?null:r.region.isocode," "),e.xp6(2),e.hij(" ",null==r?null:r.postalCode," ")}}function Jr(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal("Cross click"))}),e.ALo(6,"cxTranslate"),e.TgZ(7,"span",6),e._UZ(8,"cx-icon",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"p"),e._uU(12),e.ALo(13,"cxTranslate"),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,lc,22,15,"div",11),e.TgZ(17,"div",12)(18,"input",13),e.NdJ("ngModelChange",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.selectedAddress=C)}),e.qZA(),e.TgZ(19,"label",14),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA(),e.TgZ(22,"div",15)(23,"div",16)(24,"div",17),e._uU(25),e.qZA(),e.TgZ(26,"div",17),e._uU(27),e.qZA(),e.TgZ(28,"div",17)(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"div",17),e._uU(32),e.qZA(),e.TgZ(33,"div",17),e._uU(34),e.qZA()()()()()(),e.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"button",21),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal("Edit address"))}),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e.TgZ(41,"button",22),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal(C.selectedAddress))}),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA()()()()()}if(2&s){const r=_.ngIf,d=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,18,"addressSuggestion.verifyYourAddress")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(6,20,"common.close")),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE),e.xp6(4),e.AsE(" ",e.lcZ(13,22,"addressSuggestion.ensureAccuracySuggestChange")," ",e.lcZ(14,24,"addressSuggestion.chooseAddressToUse")," "),e.xp6(4),e.Q6J("ngForOf",r.suggestedAddresses),e.xp6(2),e.Q6J("ngModel",d.selectedAddress)("value",r.enteredAddress),e.xp6(2),e.hij(" ",e.lcZ(21,26,"addressSuggestion.enteredAddress")," "),e.xp6(5),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.firstName," ",null==r.enteredAddress?null:r.enteredAddress.lastName," "),e.xp6(2),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line1),e.xp6(3),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line2),e.xp6(2),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.town," ",null==r.enteredAddress||null==r.enteredAddress.region?null:r.enteredAddress.region.isocode," "),e.xp6(2),e.hij(" ",null==r.enteredAddress?null:r.enteredAddress.postalCode," "),e.xp6(5),e.hij(" ",e.lcZ(40,28,"addressSuggestion.editAddress")," "),e.xp6(3),e.hij(" ",e.lcZ(43,30,"addressSuggestion.saveAddress")," ")}}const Rs=["element"];function Hi(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.readMore())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myCoupons.readMore")))}function $i(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.readMore())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myCoupons.readMore")," "))}function hi(s,_){1&s&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myCoupons.myCoupons")," "))}function Ta(s,_){1&s&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myCoupons.myCoupons")," "))}function ss(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",22)(1,"cx-coupon-card",23),e.NdJ("notificationChanged",function(C){e.CHM(r);const b=e.oxw(4);return e.KtG(b.notificationChange(C))}),e.qZA()()}if(2&s){const r=_.$implicit,d=e.oxw(4);e.xp6(1),e.Q6J("coupon",r)("couponSubscriptionLoading$",d.couponSubscriptionLoading$)}}const xa=function(){return["/my-account/notification-preference"]};function dc(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"label",9)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",10),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.sortChange(C))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.qZA()(),e.TgZ(9,"div",11)(10,"cx-pagination",12),e.NdJ("viewPageEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.pageChange(C))}),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,ss,2,2,"div",14),e.qZA(),e.TgZ(13,"div",15)(14,"label",16)(15,"span"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"cx-sorting",17),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.sortChange(C))}),e.ALo(19,"async"),e.ALo(20,"cxTranslate"),e.ALo(21,"cxTranslate"),e.qZA()(),e.TgZ(22,"div",18)(23,"cx-pagination",12),e.NdJ("viewPageEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.pageChange(C))}),e.qZA()()(),e.TgZ(24,"div",19)(25,"span"),e._UZ(26,"cx-icon",20),e._uU(27),e.ALo(28,"cxTranslate"),e.TgZ(29,"a",21),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA()(),e.BQk()}if(2&s){const r=e.oxw().ngIf,d=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,19,"myCoupons.sortBy")),e.xp6(2),e.Q6J("sortOptions",d.sortOptions)("sortLabels",e.lcZ(7,21,d.sortLabels))("selectedOption",d.sort)("ariaLabel",e.lcZ(8,23,"myCoupons.sortCoupons")),e.xp6(4),e.Q6J("pagination",d.pagination),e.xp6(2),e.Q6J("ngForOf",r.coupons),e.xp6(4),e.Oqu(e.lcZ(17,25,"myCoupons.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,29,"myCoupons.sortBy")),e.Q6J("sortOptions",d.sortOptions)("sortLabels",e.lcZ(19,27,d.sortLabels))("selectedOption",d.sort)("ariaLabel",e.lcZ(21,31,"myCoupons.sortCoupons")),e.xp6(5),e.Q6J("pagination",d.pagination),e.xp6(3),e.Q6J("type",d.iconTypes.INFO),e.xp6(1),e.hij(" ",e.lcZ(28,33,"myCoupons.notesPreffix"),""),e.xp6(2),e.Q6J("routerLink",e.DdM(39,xa)),e.xp6(1),e.Oqu(e.lcZ(31,35,"myCoupons.notesLink")),e.xp6(2),e.Oqu(e.lcZ(33,37,"myCoupons.notesSuffix"))}}function pc(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,hi,3,3,"h3",7),e.YNc(3,Ta,3,3,"h2",7),e.qZA(),e.YNc(4,dc,34,40,"ng-container",1),e.BQk()),2&s){const r=_.ngIf;e.oxw();const d=e.MAs(6);e.xp6(2),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",d)}}function au(s,_){1&s&&(e.TgZ(0,"section")(1,"p",24),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myCoupons.noCouponsMessage")," "))}function Ma(s,_){if(1&s&&(e.ynx(0),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.YNc(3,pc,5,4,"ng-container",4),e.ALo(4,"async"),e.YNc(5,au,4,3,"ng-template",null,5,e.W1O),e.BQk()),2&s){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,r.couponResult$))}}function Ia(s,_){1&s&&(e.TgZ(0,"div",25),e._UZ(1,"cx-spinner"),e.qZA())}function Oi(s,_){1&s&&(e.ynx(0),e.TgZ(1,"div",6)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.BQk()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"myInterests.header")))}function as(s,_){1&s&&(e.ynx(0),e.TgZ(1,"div",7)(2,"h2"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.BQk()),2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"myInterests.header")))}const Kr=function(s){return{cxRoute:"product",params:s}};function ji(s,_){if(1&s&&(e.TgZ(0,"div",44)(1,"a",45),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,Kr,r))),e.xp6(2),e.hij(" ",r.name," ")}}const cs=function(s){return{code:s}};function us(s,_){if(1&s&&(e.TgZ(0,"div",46)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s){const r=e.oxw().ngIf;e.xp6(2),e.Oqu(e.xi3(3,1,"myInterests.productId",e.VKq(4,cs,r.code)))}}function fc(s,_){if(1&s&&(e.TgZ(0,"div",48)(1,"div",49),e._uU(2),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.value," ")}}function cu(s,_){if(1&s&&(e.ynx(0),e.YNc(1,fc,5,2,"div",47),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngForOf",null==r.selected?null:r.selected.variantOptionQualifiers)}}function cr(s,_){1&s&&(e.TgZ(0,"div",48)(1,"div",51),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myInterests.outOfStock")," "))}const el=function(s){return{expirationDate:s}};function tl(s,_){if(1&s&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",54),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"cxDate"),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"myInterests."+r.interestType)," "),e.xp6(3),e.hij(" ",e.xi3(6,4,"myInterests.expirationDate",e.VKq(9,el,e.lcZ(7,7,r.expirationDate)))," ")}}function nl(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"td",27)(2,"div",28)(3,"div",29)(4,"a",30),e.ALo(5,"cxUrl"),e._UZ(6,"cx-media",31),e.qZA()(),e.TgZ(7,"div",32)(8,"div",33)(9,"div"),e.YNc(10,ji,4,6,"div",34),e.YNc(11,us,4,6,"div",35),e.YNc(12,cu,2,1,"ng-container",36),e.YNc(13,cr,4,3,"div",37),e.qZA()()()()(),e.TgZ(14,"td",27)(15,"div",38)(16,"div",39),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()(),e.TgZ(21,"td",27)(22,"div",40)(23,"div",39),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.YNc(26,tl,8,11,"div",41),e.qZA()(),e.TgZ(27,"td",27)(28,"div",42)(29,"button",43),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().$implicit,b=e.oxw(5);return e.KtG(b.removeInterest(C))}),e.ALo(30,"cxTranslate"),e.ALo(31,"async"),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&s){const r=_.ngIf,d=e.oxw().$implicit,C=e.oxw(5);e.xp6(4),e.Q6J("routerLink",e.lcZ(5,13,e.VKq(25,Kr,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(4),e.Q6J("ngIf",r.name),e.xp6(1),e.Q6J("ngIf",r.code),e.xp6(1),e.Q6J("ngForOf",r.baseOptions),e.xp6(1),e.Q6J("ngIf","outOfStock"===(null==r.stock?null:r.stock.stockLevelStatus)),e.xp6(4),e.hij(" ",e.lcZ(18,15,"myInterests.price")," "),e.xp6(3),e.Oqu(null==r.price?null:r.price.formattedValue),e.xp6(4),e.hij(" ",e.lcZ(25,17,"myInterests.notifications")," "),e.xp6(2),e.Q6J("ngForOf",d.productInterestEntry),e.xp6(3),e.Q6J("cxAtMessage",e.lcZ(30,19,"myInterests.itemRemoved"))("disabled",e.lcZ(31,21,C.isRemoveDisabled$)),e.xp6(3),e.hij(" ",e.lcZ(33,23,"myInterests.remove")," ")}}function wa(s,_){if(1&s&&(e.TgZ(0,"tr",25),e.YNc(1,nl,34,27,"ng-container",26),e.ALo(2,"async"),e.qZA()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.product$))}}function rl(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"table",19)(2,"caption",20),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"thead",21)(6,"th",22),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"th",22),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"th",22),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"th",23),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,wa,3,3,"tr",24),e.qZA()(),e.BQk()),2&s){const r=e.oxw(3).ngIf;e.xp6(3),e.hij(" ",e.lcZ(4,6,"myInterests.caption")," "),e.xp6(4),e.hij(" ",e.lcZ(8,8,"myInterests.item")," "),e.xp6(3),e.hij(" ",e.lcZ(11,10,"myInterests.price")," "),e.xp6(3),e.hij(" ",e.lcZ(14,12,"myInterests.notifications")," "),e.xp6(3),e.hij(" ",e.lcZ(17,14,"myInterests.actions")," "),e.xp6(3),e.Q6J("ngForOf",r.results)}}function Ip(s,_){if(1&s&&(e.TgZ(0,"div",44)(1,"a",45),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,Kr,r))),e.xp6(2),e.hij(" ",r.name," ")}}function uu(s,_){if(1&s&&(e.TgZ(0,"div",46)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s){const r=e.oxw().ngIf;e.xp6(2),e.Oqu(e.xi3(3,1,"myInterests.productId",e.VKq(4,cs,r.code)))}}function hc(s,_){if(1&s&&(e.TgZ(0,"div",48)(1,"div",49),e._uU(2),e.qZA(),e.TgZ(3,"div",50),e._uU(4),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.value," ")}}function ol(s,_){if(1&s&&(e.ynx(0),e.YNc(1,hc,5,2,"div",47),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngForOf",null==r.selected?null:r.selected.variantOptionQualifiers)}}function sd(s,_){1&s&&(e.TgZ(0,"div",48)(1,"div",51),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myInterests.outOfStock")," "))}function Zr(s,_){if(1&s&&(e.TgZ(0,"div",52)(1,"span",53),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",54),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"cxDate"),e.qZA()()),2&s){const r=_.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"myInterests."+r.interestType)," "),e.xp6(3),e.hij(" ",e.xi3(6,4,"myInterests.expirationDate",e.VKq(9,el,e.lcZ(7,7,r.expirationDate)))," ")}}function Ra(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"div",29)(3,"a",30),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",31),e.qZA()()(),e.TgZ(6,"td")(7,"div",32)(8,"div",33)(9,"div"),e.YNc(10,Ip,4,6,"div",34),e.YNc(11,uu,4,6,"div",35),e.YNc(12,ol,2,1,"ng-container",36),e.YNc(13,sd,4,3,"div",37),e.qZA()()()(),e.TgZ(14,"td")(15,"div",38)(16,"div",39),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()(),e.TgZ(21,"td")(22,"div",40)(23,"div",39),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.YNc(26,Zr,8,11,"div",41),e.qZA()(),e.TgZ(27,"td")(28,"div",42)(29,"button",60),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().$implicit,b=e.oxw(5);return e.KtG(b.removeInterest(C))}),e.ALo(30,"async"),e._uU(31),e.ALo(32,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&s){const r=_.ngIf,d=e.oxw().$implicit,C=e.oxw(5);e.xp6(3),e.Q6J("routerLink",e.lcZ(4,12,e.VKq(22,Kr,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(5),e.Q6J("ngIf",r.name),e.xp6(1),e.Q6J("ngIf",r.code),e.xp6(1),e.Q6J("ngForOf",r.baseOptions),e.xp6(1),e.Q6J("ngIf","outOfStock"===(null==r.stock?null:r.stock.stockLevelStatus)),e.xp6(4),e.hij(" ",e.lcZ(18,14,"myInterests.price")," "),e.xp6(3),e.Oqu(null==r.price?null:r.price.formattedValue),e.xp6(4),e.hij(" ",e.lcZ(25,16,"myInterests.notifications")," "),e.xp6(2),e.Q6J("ngForOf",d.productInterestEntry),e.xp6(3),e.Q6J("disabled",e.lcZ(30,18,C.isRemoveDisabled$)),e.xp6(2),e.hij(" ",e.lcZ(32,20,"myInterests.remove")," ")}}function ta(s,_){if(1&s&&(e.TgZ(0,"tr",59),e.YNc(1,Ra,33,24,"ng-container",26),e.ALo(2,"async"),e.qZA()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.product$))}}function ad(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"table",55)(2,"thead",56)(3,"th",57),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"th",57),e.TgZ(7,"th",57),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.TgZ(10,"th",57),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"th",57),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,ta,3,3,"tr",58),e.qZA()(),e.BQk()),2&s){const r=e.oxw(3).ngIf;e.xp6(4),e.hij(" ",e.lcZ(5,4,"myInterests.item")," "),e.xp6(4),e.hij(" ",e.lcZ(9,6,"myInterests.price")," "),e.xp6(3),e.hij(" ",e.lcZ(12,8,"myInterests.notifications")," "),e.xp6(4),e.Q6J("ngForOf",r.results)}}function Pa(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"label",12)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",13),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.sortChange(C))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.TgZ(10,"div",14)(11,"cx-pagination",15),e.NdJ("viewPageEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.pageChange(C))}),e.qZA()()(),e.YNc(12,rl,20,16,"ng-container",4),e.YNc(13,ad,16,10,"ng-container",4),e.TgZ(14,"div",16)(15,"label",17)(16,"span"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"cx-sorting",13),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.sortChange(C))}),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e.ALo(22,"cxTranslate"),e.qZA()(),e.TgZ(23,"div",18)(24,"cx-pagination",15),e.NdJ("viewPageEvent",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.pageChange(C))}),e.qZA()()(),e.BQk()}if(2&s){const r=e.oxw(3);e.xp6(4),e.Oqu(e.lcZ(5,16,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,20,"myInterests.sortBy")),e.Q6J("sortOptions",r.sortOptions)("sortLabels",e.lcZ(7,18,r.sortLabels))("selectedOption",r.sort)("ariaLabel",e.lcZ(9,22,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",r.pagination),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(4),e.Oqu(e.lcZ(18,24,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,28,"myInterests.sortBy")),e.Q6J("sortOptions",r.sortOptions)("sortLabels",e.lcZ(20,26,r.sortLabels))("selectedOption",r.sort)("ariaLabel",e.lcZ(22,30,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",r.pagination)}}function zo(s,_){if(1&s&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.ALo(2,"cxTranslate"),e.YNc(3,Pa,25,32,"ng-container",10),e.qZA()),2&s){const r=e.oxw().ngIf;e.oxw();const d=e.MAs(3);e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(2),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",d)}}function Zi(s,_){if(1&s&&(e.TgZ(0,"div",3),e.YNc(1,Oi,5,3,"ng-container",4),e.YNc(2,as,5,3,"ng-container",4),e.YNc(3,zo,4,5,"div",5),e.ALo(4,"async"),e.qZA()),2&s){const r=e.oxw(),d=e.MAs(5);e.xp6(1),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.Q6J("ngIf",!e.lcZ(4,4,r.getInterestsloading$))("ngIfElse",d)}}function gc(s,_){1&s&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myInterests.noInterests")," "))}function Oa(s,_){1&s&&(e.TgZ(0,"div",62),e._UZ(1,"cx-spinner"),e.qZA())}function Ps(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"label",11)(1,"input",12),e.NdJ("change",function(){e.CHM(r);const C=e.oxw().$implicit,b=e.oxw(3);return e.KtG(b.updatePreference(C))}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()}if(2&s){const r=e.oxw().$implicit,d=e.oxw(3);e.xp6(1),e.Q6J("checked",r.enabled)("disabled",e.lcZ(2,4,d.isLoading$)),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"notificationPreference."+r.channel)," ",r.value," ")}}function D(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Ps,6,8,"label",10),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r.visible)}}function T(s,_){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,D,2,1,"ng-container",8),e.qZA(),e.TgZ(10,"label",9)(11,"strong"),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,5,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,7,"notificationPreference.message")," "),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(3),e.Oqu(e.lcZ(13,9,"notificationPreference.note")),e.xp6(2),e.hij("",e.lcZ(15,11,"notificationPreference.noteMessage")," ")}}function A(s,_){1&s&&(e.TgZ(0,"div",14),e._UZ(1,"cx-spinner"),e.qZA())}function F(s,_){if(1&s&&(e.ynx(0),e.YNc(1,T,16,13,"div",1),e.YNc(2,A,2,0,"ng-template",null,2,e.W1O),e.BQk()),2&s){const r=_.ngIf,d=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.length>0)("ngIfElse",d)}}function y(s,_){1&s&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"paymentMethods.paymentMethods")," "))}function U(s,_){1&s&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"paymentMethods.paymentMethods")," "))}function k(s,_){1&s&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function se(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"cx-card",13),e.NdJ("deleteCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.deletePaymentMethod(b))})("setDefaultCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.setDefaultPaymentMethod(b))})("editCard",function(){const b=e.CHM(r).$implicit,re=e.oxw(3);return e.KtG(re.setEdit(b))})("cancelCard",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.cancelCard())}),e.ALo(3,"async"),e.qZA()()()}if(2&s){const r=_.$implicit,d=_.index,C=e.oxw(3);e.xp6(2),e.Q6J("index",d)("border",!0)("fitToContainer",!0)("content",e.lcZ(3,5,C.getCardContent(r)))("editMode",C.editCard===r.id)}}function Xe(s,_){if(1&s&&(e._UZ(0,"div",8),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",9),e.YNc(3,se,4,7,"div",10),e.qZA()),2&s){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(3),e.Q6J("ngForOf",r)}}function jt(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,y,3,3,"h3",3),e.YNc(4,U,3,3,"h2",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,k,2,0,"div",6),e.ALo(10,"async"),e.YNc(11,Xe,4,4,"ng-template",null,7,e.W1O),e.qZA()(),e.BQk()),2&s){const r=e.MAs(12),d=e.oxw();e.xp6(3),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(3),e.hij(" ",e.lcZ(8,5,"paymentMethods.newPaymentMethodsAreAddedDuringCheckout")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,7,d.loading$))("ngIfElse",r)}}const sn=function(s){return{nav:s}};function on(s,_){if(1&s&&(e.TgZ(0,"li"),e._UZ(1,"a",3),e.ALo(2,"cxTranslate"),e.qZA()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("routerLink",r.link)("innerHTML",r.label,e.oJD),e.uIk("aria-label",e.xi3(2,3,"navigation.navigateTo",e.VKq(6,sn,r.label)))}}function Rn(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"li",3)(1,"button",4),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.back())}),e._UZ(2,"cx-icon",5),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&s){const r=e.oxw();e.xp6(2),e.Q6J("type",r.iconType.CARET_LEFT),e.xp6(1),e.hij(" ",e.lcZ(4,2,"common.back")," ")}}function Ur(s,_){1&s&&e.GkF(0)}const Wo=function(s){return{node:s,depth:0}};function gi(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Ur,1,0,"ng-container",6),e.BQk()),2&s){const r=_.$implicit;e.oxw();const d=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(2,Wo,r))}}function bo(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().node,b=e.oxw();return e.KtG(b.closeIfClickedTheSameLink(C))}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw().node;e.Akn(r.styleAttributes),e.Tol(r.styleClasses),e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function Os(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3).node,b=e.oxw();return e.KtG(b.closeIfClickedTheSameLink(C))}),e._uU(1),e.qZA()}if(2&s){const r=e.oxw(3).node;e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function Yi(s,_){if(1&s&&(e.ynx(0),e._uU(1),e.BQk()),2&s){const r=e.oxw(3).node;e.xp6(1),e.hij(" ",r.title," ")}}function cd(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.YNc(1,Os,2,3,"cx-generic-link",13),e.TgZ(2,"button",14),e.NdJ("click",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.toggleOpen(C))})("mouseenter",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.onMouseEnter(C))})("keydown.space",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.toggleOpen(C))})("keydown.esc",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.back())}),e.YNc(3,Yi,2,1,"ng-container",15),e._UZ(4,"cx-icon",5),e.qZA(),e.BQk()}if(2&s){const r=e.oxw(2),d=r.node,C=r.depth,b=e.oxw();e.xp6(1),e.Q6J("ngIf",d.url),e.xp6(1),e.uIk("tabindex",C<1?0:-1)("aria-haspopup",!0)("aria-expanded",!1)("aria-label",d.title),e.xp6(1),e.Q6J("ngIf",!d.url),e.xp6(1),e.Q6J("type",b.iconType.CARET_DOWN)}}function mc(s,_){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const r=e.oxw(2).node;e.uIk("tabindex",-1),e.xp6(1),e.hij(" ",r.title," ")}}function il(s,_){if(1&s&&(e.YNc(0,cd,5,7,"ng-container",11),e.YNc(1,mc,2,2,"ng-template",null,12,e.W1O)),2&s){const r=e.MAs(2),d=e.oxw().node,C=e.oxw();e.Q6J("ngIf",C.flyout&&(null==d.children?null:d.children.length)>0)("ngIfElse",r)}}function sl(s,_){1&s&&e.GkF(0)}const bv=function(s,_){return{node:s,depth:_}};function Tv(s,_){if(1&s&&(e.ynx(0),e.YNc(1,sl,1,0,"ng-container",6),e.BQk()),2&s){const r=_.$implicit,d=e.oxw(2).depth;e.oxw();const C=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",e.WLB(2,bv,r,d+1))}}function zh(s,_){if(1&s&&(e.TgZ(0,"div",16)(1,"ul",17),e.YNc(2,Tv,2,5,"ng-container",1),e.qZA()()),2&s){const r=e.oxw().node,d=e.oxw();e.xp6(1),e.uIk("depth",d.getTotalDepth(r))("wrap-after",r.children.length>d.wrapAfter?d.wrapAfter:null)("columns",d.getColumnCount(r.children.length)),e.xp6(1),e.Q6J("ngForOf",r.children)}}function wp(s,_){if(1&s&&(e.TgZ(0,"li"),e.YNc(1,bo,2,7,"cx-generic-link",7),e.YNc(2,il,3,2,"ng-template",null,8,e.W1O),e.YNc(4,zh,3,4,"div",9),e.qZA()),2&s){const r=_.node,d=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.url&&(!r.children||0===(null==r.children?null:r.children.length)))("ngIfElse",d),e.xp6(3),e.Q6J("ngIf",r.children&&r.children.length>0)}}function lu(s,_){if(1&s&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&s){const r=_.ngIf,d=e.oxw();let C,b;e.Q6J("node",e.lcZ(1,5,d.node$))("ngClass",null!==(C=r.styleClass)&&void 0!==C?C:"")("wrapAfter",+(null!==(b=r.wrapAfter)&&void 0!==b?b:""))("resetMenuOnClose",r.resetMenuOnClose)("navAriaLabel",e.lcZ(2,7,"navigation.categoryNavLabel"))}}function vc(s,_){if(1&s&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&s){const r=_.ngIf,d=e.oxw();let C;e.Q6J("node",r)("flyout",!1)("ngClass",null!==(C=e.lcZ(1,4,d.styleClass$))&&void 0!==C?C:"")("navAriaLabel",e.lcZ(2,6,"navigation.footerNavLabel"))}}function Rp(s,_){if(1&s&&e._UZ(0,"div",16),2&s){const r=e.oxw().ngIf;e.Q6J("innerHTML",r.message,e.oJD)}}const uo=function(s){return{query:s}},xv=function(s){return{cxRoute:"search",params:s}};function _c(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"li")(1,"a",17),e.NdJ("keydown.arrowup",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.focusPreviousChild(C))})("keydown.arrowdown",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.focusNextChild(C))})("keydown.enter",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.close(C,!0))})("keydown.escape",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.close(C,!0))})("blur",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.close(C))})("mousedown",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.preventDefault(C))})("click",function(){const b=e.CHM(r).$implicit,re=e.oxw().ngIf,et=e.oxw(),Bt=e.MAs(4);let an;return et.dispatchSuggestionEvent({freeText:Bt.value,selectedSuggestion:b,searchSuggestions:null!==(an=re.suggestions)&&void 0!==an?an:[]}),e.KtG(et.updateChosenWord(b))}),e.ALo(2,"cxHighlight"),e.ALo(3,"cxUrl"),e.qZA()()}if(2&s){const r=_.$implicit;e.oxw(2);const d=e.MAs(4);e.xp6(1),e.Q6J("innerHTML",e.xi3(2,2,r,d.value),e.oJD)("routerLink",e.lcZ(3,5,e.VKq(9,xv,e.VKq(7,uo,r))))}}function Cc(s,_){if(1&s&&e._UZ(0,"cx-media",23),2&s){const r=e.oxw().$implicit;e.Q6J("container",null==r.images?null:r.images.PRIMARY)}}function La(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"li")(1,"a",19),e.NdJ("keydown.arrowup",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.focusPreviousChild(C))})("keydown.arrowdown",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.focusNextChild(C))})("keydown.enter",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.close(C,!0))})("keydown.escape",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.close(C,!0))})("blur",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.close(C))})("mousedown",function(C){e.CHM(r);const b=e.oxw(3);return e.KtG(b.preventDefault(C))})("click",function(){const b=e.CHM(r).$implicit,re=e.oxw(3),et=e.MAs(4);return e.KtG(re.dispatchProductEvent({freeText:et.value,productCode:b.code}))}),e.ALo(2,"cxUrl"),e.YNc(3,Cc,1,1,"cx-media",20),e._UZ(4,"div",21),e.TgZ(5,"span",22),e._uU(6),e.qZA()()()}if(2&s){const r=_.$implicit,d=e.oxw(3);e.xp6(1),e.ekj("has-media",d.config.displayProductImages),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(8,Kr,r))),e.xp6(2),e.Q6J("ngIf",d.config.displayProductImages),e.xp6(1),e.Q6J("innerHTML",r.nameHtml,e.oJD),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function Wh(s,_){if(1&s&&(e.TgZ(0,"ul",18),e.ALo(1,"cxTranslate"),e.YNc(2,La,7,10,"li",12),e.qZA()),2&s){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"searchBox.ariaLabelProducts")),e.xp6(2),e.Q6J("ngForOf",r.products)}}function Jh(s,_){if(1&s&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.ALo(4,"cxTranslate"),e.qZA()),2&s){const r=e.oxw().ngIf;e.xp6(1),e.lnq(" ",e.xi3(2,3,"searchBox.suggestionsResult",e.VKq(11,ic,null==r.suggestions?null:r.suggestions.length))," ",e.xi3(3,6,"searchBox.productsResult",e.VKq(13,ic,null==r.products?null:r.products.length))," ",e.lcZ(4,9,"searchBox.initialDescription")," ")}}function Kh(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.close(C,!0))}),e.YNc(1,Rp,1,1,"div",10),e.TgZ(2,"ul",11),e.ALo(3,"cxTranslate"),e.YNc(4,_c,4,11,"li",12),e.qZA(),e.YNc(5,Wh,3,4,"ul",13),e.TgZ(6,"span",14),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,Jh,5,15,"div",15),e.qZA()}if(2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.message),e.xp6(1),e.uIk("aria-label",e.lcZ(3,6,"searchBox.ariaLabelSuggestions")),e.xp6(2),e.Q6J("ngForOf",r.suggestions),e.xp6(1),e.Q6J("ngIf",r.products),e.xp6(2),e.hij(" ",e.lcZ(8,8,"searchBox.initialDescription")," "),e.xp6(2),e.Q6J("ngIf",(null==r.suggestions?null:r.suggestions.length)||(null==r.products?null:r.products.length))}}function al(s,_){if(1&s&&e._UZ(0,"cx-icon",2),2&s){const r=e.oxw();e.Q6J("type",r.iconTypes.GRID)}}function du(s,_){if(1&s&&e._UZ(0,"cx-icon",2),2&s){const r=e.oxw();e.Q6J("type",r.iconTypes.LIST)}}function ud(s,_){if(1&s&&e._UZ(0,"cx-star-rating",14),2&s){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function yc(s,_){1&s&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Qh(s,_){if(1&s&&(e.YNc(0,ud,1,1,"cx-star-rating",11),e.YNc(1,yc,3,3,"div",12),e.TgZ(2,"div",13),e.ALo(3,"cxTranslate"),e._uU(4),e.qZA()),2&s){const r=e.oxw();e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(1),e.uIk("aria-label",e.lcZ(3,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function Mv(s,_){1&s&&e.GkF(0,16)}const ls=function(s){return{product:s}};function Ls(s,_){if(1&s&&e._UZ(0,"cx-star-rating",9),2&s){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function Pp(s,_){1&s&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Iv(s,_){if(1&s&&(e.TgZ(0,"div",4),e.YNc(1,Ls,1,1,"cx-star-rating",5),e.YNc(2,Pp,3,3,"div",6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8),e.ALo(5,"cxTranslate"),e._uU(6),e.qZA()()),2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(2),e.uIk("aria-label",e.lcZ(5,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function wv(s,_){1&s&&e.GkF(0,10)}function mi(s,_){1&s&&e._UZ(0,"cx-product-grid-item",8),2&s&&e.Q6J("product",_.$implicit)}function Li(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Op(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);let b;return e.KtG(C.loadNextPage((null!==(b=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==b?b:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function Rv(s,_){1&s&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function qh(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const C=e.oxw();let b;return e.KtG(C.scrollPage((null!==(b=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==b?b:0)+1))}),e.TgZ(2,"div",2),e.YNc(3,mi,1,1,"cx-product-grid-item",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,Li,3,3,"div",5),e.YNc(6,Op,3,3,"div",6),e.qZA(),e.YNc(7,Rv,2,0,"div",7),e.qZA(),e.BQk()}if(2&s){const r=e.oxw();let d,C;e.xp6(1),e.Q6J("infiniteScrollDistance",5)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(2),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(d=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==d?d:0)>0?"cx-double-btn-container grid-btn-padding":"cx-single-btn-container grid-btn-padding"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(C=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==C?C:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function zi(s,_){1&s&&e._UZ(0,"cx-product-list-item",13),2&s&&e.Q6J("product",_.$implicit)}function Sc(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Pv(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);let b;return e.KtG(C.loadNextPage((null!==(b=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==b?b:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function Fs(s,_){1&s&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function ks(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const C=e.oxw();let b;return e.KtG(C.scrollPage((null!==(b=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==b?b:0)+1))}),e.YNc(2,zi,1,1,"cx-product-list-item",12),e.TgZ(3,"div",4),e.YNc(4,Sc,3,3,"div",5),e.YNc(5,Pv,3,3,"div",6),e.qZA(),e.YNc(6,Fs,2,0,"div",7),e.qZA(),e.BQk()}if(2&s){const r=e.oxw();let d,C;e.xp6(1),e.Q6J("infiniteScrollDistance",3)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(1),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(d=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==d?d:0)>0?"cx-double-btn-container":"cx-single-btn-container"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(C=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==C?C:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function Fa(s,_){if(1&s&&(e.TgZ(0,"div",17)(1,"div",18),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-pagination",19),e.qZA()()),2&s){const r=e.oxw(2).ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"productList.productSearchPagination")),e.xp6(2),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function Xh(s,_){1&s&&e._UZ(0,"cx-product-grid-item",22),2&s&&e.Q6J("product",_.$implicit)}function eg(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,Xh,1,1,"cx-product-grid-item",21),e.qZA(),e.BQk()),2&s){const r=e.oxw(3).ngIf;e.xp6(2),e.Q6J("ngForOf",null==r?null:r.products)}}function ka(s,_){1&s&&e._UZ(0,"cx-product-list-item",24),2&s&&e.Q6J("product",_.$implicit)}function tg(s,_){if(1&s&&(e.ynx(0),e.YNc(1,ka,1,1,"cx-product-list-item",23),e.BQk()),2&s){const r=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngForOf",null==r?null:r.products)}}function Ec(s,_){if(1&s&&(e.ynx(0),e.YNc(1,eg,3,1,"ng-container",20),e.YNc(2,tg,2,1,"ng-container",20),e.BQk()),2&s){const r=e.oxw().ngIf,d=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r===d.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",r===d.ViewModes.List)}}function ng(s,_){if(1&s&&e._UZ(0,"cx-product-scroll",25),2&s){const r=e.oxw().ngIf,d=e.oxw().ngIf,C=e.oxw();e.Q6J("scrollConfig",C.scrollConfig)("model",d)("inputViewMode",r)}}function rg(s,_){if(1&s&&(e.TgZ(0,"div",17),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",18),e._UZ(3,"cx-pagination",19),e.qZA()()),2&s){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.lcZ(1,3,"productList.productSearchPagination")),e.xp6(3),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function WC(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",4)(3,"label",8)(4,"span"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"cx-sorting",9),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.sortList(C))}),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.YNc(10,Fa,4,5,"div",10),e.TgZ(11,"div",11)(12,"cx-product-view",12),e.NdJ("modeChange",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.setViewMode(C))}),e.qZA()()()(),e.TgZ(13,"div",13),e.YNc(14,Ec,3,2,"ng-container",14),e.YNc(15,ng,1,3,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(17,"div",16)(18,"div",4)(19,"label",8)(20,"span"),e._uU(21),e.ALo(22,"cxTranslate"),e.qZA(),e.TgZ(23,"cx-sorting",9),e.NdJ("sortListEvent",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.sortList(C))}),e.ALo(24,"cxTranslate"),e.ALo(25,"cxTranslate"),e.qZA()(),e.YNc(26,rg,4,5,"div",10),e.TgZ(27,"div",11)(28,"cx-product-view",12),e.NdJ("modeChange",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.setViewMode(C))}),e.qZA()()()()()}if(2&s){const r=_.ngIf,d=e.MAs(16),C=e.oxw().ngIf,b=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,16,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,20,"productList.sortBy")),e.Q6J("sortOptions",C.sorts)("selectedOption",null==C.pagination?null:C.pagination.sort)("ariaLabel",e.lcZ(8,18,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!b.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r),e.xp6(2),e.Q6J("ngIf",!b.isInfiniteScroll)("ngIfElse",d),e.xp6(7),e.Oqu(e.lcZ(22,22,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,26,"productList.sortBy")),e.Q6J("sortOptions",C.sorts)("selectedOption",null==C.pagination?null:C.pagination.sort)("ariaLabel",e.lcZ(24,24,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!b.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r)}}function cl(s,_){if(1&s&&(e.TgZ(0,"div",1)(1,"section",2),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",3)(4,"div",4),e.YNc(5,WC,29,28,"div",5),e.ALo(6,"async"),e.qZA()()()()),2&s){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"productList.productListResults")),e.xp6(4),e.Q6J("ngIf",e.lcZ(6,4,r.viewMode$))}}function Ov(s,_){1&s&&(e.TgZ(0,"h4"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.appliedFilter")," "))}const pu=function(s){return{key:s}},Lp=function(s){return{filter:s}};function Lv(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown.space",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.removeFilterWithSpacebar(C))}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"cx-icon",3),e.qZA()}if(2&s){const r=_.$implicit,d=e.oxw().ngIf,C=e.oxw();e.Q6J("queryParams",C.getLinkParams(r))("cxFocus",e.VKq(8,pu,C.getFocusKey(d,r))),e.uIk("aria-label",e.xi3(1,5,"productList.activeFilter",e.VKq(10,Lp,r.facetValueName))),e.xp6(3),e.Oqu(r.facetValueName),e.xp6(1),e.Q6J("type",C.closeIcon)}}function og(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Ov,3,3,"h4",0),e.YNc(2,Lv,5,12,"a",1),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.activeFacets&&r.activeFacets.length>0),e.xp6(1),e.Q6J("ngForOf",null==r?null:r.activeFacets)}}const Fv=["facetValue"],JC=function(s,_){return{name:s,count:_}};function ig(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.openLink(C))}),e.ALo(2,"cxTranslate"),e.TgZ(3,"span",10),e._uU(4),e.TgZ(5,"span",11),e._uU(6),e.qZA()()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",d.getLinkParams(r))("cxFocus",e.VKq(12,pu,r.name)),e.uIk("role",d.facet.multiSelect?"checkbox":null)("aria-checked",d.facet.multiSelect?r.selected:null)("aria-label",e.xi3(2,9,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(14,JC,r.name,r.count))),e.xp6(4),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}function sg(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.openLink(C))}),e.TgZ(2,"span"),e._uU(3),e.TgZ(4,"span",12),e._uU(5),e.qZA()()()}if(2&s){const r=_.$implicit,d=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",d.getLinkParams(r))("cxFocus",e.VKq(6,pu,r.name)),e.xp6(3),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}const ag=function(){return{key:"moreorless"}};function cg(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.decreaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&s&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.decreaseOptionsVisibility"))("cxFocus",e.DdM(10,ag)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowLess")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showLess")," "))}function ul(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.increaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&s&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.increaseOptionsVisibility"))("cxFocus",e.DdM(10,ag)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowMore")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showMore")," "))}const fu=function(s){return{name:s}};function ld(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",1),e.NdJ("click",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.toggleGroup(C))}),e.ALo(2,"cxTranslate"),e._uU(3),e._UZ(4,"cx-icon",2)(5,"cx-icon",3),e.qZA(),e.TgZ(6,"div"),e.YNc(7,ig,7,17,"a",4),e.ALo(8,"slice"),e.TgZ(9,"div",5),e.YNc(10,sg,6,8,"a",4),e.ALo(11,"slice"),e.YNc(12,cg,5,11,"button",6),e.YNc(13,ul,5,11,"button",7),e.qZA()(),e.BQk()}if(2&s){const r=_.ngIf,d=e.oxw();let C;e.xp6(1),e.uIk("aria-expanded",d.isExpanded)("aria-label",e.xi3(2,9,"productFacetNavigation.filterBy.name",e.VKq(20,fu,d.facet.name))),e.xp6(2),e.hij(" ",d.facet.name," "),e.xp6(1),e.Q6J("type",d.collapseIcon),e.xp6(1),e.Q6J("type",d.expandIcon),e.xp6(2),e.Q6J("ngForOf",e.Dn7(8,12,d.facet.values,0,r.topVisible)),e.xp6(3),e.Q6J("ngForOf",e.Dn7(11,16,d.facet.values,null!==(C=r.topVisible)&&void 0!==C?C:0,r.maxVisible)),e.xp6(2),e.Q6J("ngIf",r.maxVisible&&r.topVisible&&r.maxVisible>r.topVisible),e.xp6(1),e.Q6J("ngIf",r.maxVisible&&d.facet.values&&r.maxVisible>0&&r.maxVisible<d.facet.values.length)}}function vi(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"h4"),e._uU(1),e.ALo(2,"cxTranslate"),e.TgZ(3,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.close())}),e.ALo(4,"cxTranslate"),e._UZ(5,"cx-icon",6),e.qZA()()}if(2&s){const r=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"productList.filterBy.label")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(4,5,"common.close")),e.xp6(2),e.Q6J("type",r.iconTypes.CLOSE)}}function Fp(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",7)(1,"h4"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.close())}),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-icon",6),e.qZA()()}if(2&s){const r=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,3,"productList.filterBy.label")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(5,5,"common.close")),e.xp6(2),e.Q6J("type",r.iconTypes.CLOSE)}}function kv(s,_){if(1&s&&(e.TgZ(0,"cx-facet",8,9),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"cxTranslate"),e.qZA()),2&s){const r=_.$implicit,d=e.oxw(2);e.ekj("expanded",e.lcZ(2,6,d.isExpanded(r)))("collapsed",e.lcZ(3,8,d.isCollapsed(r))),e.Q6J("facet",r),e.uIk("aria-label",e.xi3(4,10,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(13,JC,r.name,null==r||null==r.values?null:r.values.length)))}}function na(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"section",1),e.NdJ("esc",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.close(C))})("click",function(C){e.CHM(r);const b=e.oxw();return e.KtG(b.block(C))}),e.ALo(1,"cxTranslate"),e.YNc(2,vi,6,7,"h4",2),e.YNc(3,Fp,7,7,"div",3),e.YNc(4,kv,5,16,"cx-facet",4),e.qZA()}if(2&s){const r=_.ngIf,d=e.oxw();e.Q6J("cxFocus",d.isDialog?d.dialogFocusConfig:e.DdM(8,Yr))("tabindex",-1),e.uIk("aria-label",e.lcZ(1,6,"productFacetNavigation.filterBy.facet")),e.xp6(2),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(1),e.Q6J("ngForOf",r)}}const kp=["trigger"];function Np(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-facet-list",4),e.NdJ("closeList",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close())}),e.ALo(1,"async"),e.qZA()}if(2&s){const r=e.oxw();e.ekj("active",e.lcZ(1,5,r.isActive$))("dialog",r.hasTrigger),e.Q6J("isDialog",r.hasTrigger)}}const dd=function(s){return{title:s}};function Fi(s,_){if(1&s&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"cxTranslate"),e.ALo(2,"async"),e.ALo(3,"async")),2&s){const r=_.ngIf,d=e.oxw(),C=e.MAs(3);e.Q6J("items",r)("title",e.lcZ(3,9,d.title$))("template",C),e.uIk("aria-label",e.xi3(1,4,"productCarousel.carouselLabel",e.VKq(11,dd,e.lcZ(2,7,d.title$))))}}function hu(s,_){1&s&&e._UZ(0,"cx-product-carousel-item",3),2&s&&e.Q6J("item",_.item)}function gu(s,_){if(1&s&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"async")),2&s){const r=_.ngIf,d=e.oxw(),C=e.MAs(3);e.Q6J("title",e.lcZ(1,3,d.title$))("items",r)("template",C)}}function Na(s,_){if(1&s&&(e.TgZ(0,"a",3),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",4),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.qZA()()),2&s){const r=_.item;e.Q6J("routerLink",e.lcZ(1,4,e.VKq(6,Kr,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function Ua(s,_){if(1&s&&(e.ynx(0),e._UZ(1,"cx-media",2),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("container",r)}}function Qr(s,_){if(1&s&&e._UZ(0,"cx-carousel",4),2&s){const r=e.oxw().ngIf;e.oxw();const d=e.MAs(5);e.Q6J("items",r)("hideIndicators",!1)("template",d)}}function Wi(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Qr,1,3,"cx-carousel",3),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.length)}}function Up(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"cx-media",5),e.NdJ("focus",function(){const b=e.CHM(r).item,re=e.oxw();return e.KtG(re.openImage(b.container))}),e.ALo(1,"async"),e.qZA()}if(2&s){const r=_.item,d=e.oxw();e.ekj("is-active",e.lcZ(1,3,d.isActive(r.container))),e.Q6J("container",r.container)}}const ll=function(s,_){return{rating:s,count:_}};function Jo(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.showReviews())}),e.ALo(1,"cxTranslate"),e.ALo(2,"number"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}if(2&s){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.xi3(1,2,"productSummary.showReviewsDetailed",e.WLB(10,ll,e.xi3(2,5,null==r?null:r.averageRating,"1.0-1"),null==r?null:r.numberOfReviews))),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productSummary.showReviews")," ")}}function Ac(s,_){if(1&s&&(e.TgZ(0,"div",3),e._UZ(1,"cx-star-rating",4),e.TgZ(2,"div",5),e._uU(3),e.qZA(),e.YNc(4,Jo,5,13,"button",6),e.ALo(5,"async"),e.qZA()),2&s){const r=e.oxw().ngIf,d=e.oxw();let C;e.xp6(1),e.Q6J("rating",null!==(C=null==r?null:r.averageRating)&&void 0!==C?C:0),e.xp6(2),e.hij("(",null==r?null:r.numberOfReviews,")"),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,3,d.areReviewsAvailable$))}}function pd(s,_){1&s&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function ug(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Ac,6,5,"div",1),e.YNc(2,pd,3,3,"div",1),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",null==r?null:r.averageRating),e.xp6(1),e.Q6J("ngIf",!(null!=r&&r.averageRating)),e.xp6(2),e.AsE(" ",e.lcZ(5,4,"productSummary.id")," ",null==r?null:r.code," ")}}function Bp(s,_){if(1&s&&(e.TgZ(0,"div",2),e.ALo(1,"cxTranslate"),e._uU(2),e.qZA()),2&s){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"productSummary.newItemPrice")),e.xp6(2),e.hij(" ",null==r||null==r.price?null:r.price.formattedValue," ")}}function fd(s,_){if(1&s&&e._UZ(0,"p",3),2&s){const r=e.oxw().ngIf;e.Q6J("innerHTML",null==r?null:r.summary,e.oJD)}}function lg(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Bp,3,4,"ng-template",1),e.YNc(2,fd,1,1,"ng-template",1),e.BQk()),2&s){const r=_.ngIf,d=e.oxw();e.xp6(1),e.Q6J("cxOutlet",d.outlets.PRICE)("cxOutletContext",e.VKq(4,ls,r)),e.xp6(1),e.Q6J("cxOutlet",d.outlets.SUMMARY)("cxOutletContext",e.VKq(6,ls,r))}}function dg(s,_){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==r.featureUnit?null:r.featureUnit.symbol," ")}}function pg(s,_){if(1&s&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,dg,2,1,"span",0),e.qZA()),2&s){const r=_.$implicit,d=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==r?null:r.value," "),e.xp6(1),e.Q6J("ngIf",d.featureUnit&&d.featureUnit.symbol&&d.featureUnit.symbol.length>0&&"300"!==(null==d.featureUnit?null:d.featureUnit.unitType))}}function Gp(s,_){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"ul"),e.YNc(5,pg,3,2,"li",2),e.qZA()()()),2&s){const r=_.$implicit;e.xp6(2),e.Oqu(r.name),e.xp6(3),e.Q6J("ngForOf",null==r?null:r.featureValues)}}function fg(s,_){if(1&s&&(e.TgZ(0,"table")(1,"th")(2,"h2"),e._uU(3),e.qZA()(),e.YNc(4,Gp,6,2,"tr",2),e.qZA()),2&s){const r=_.$implicit;e.xp6(3),e.Oqu(r.name),e.xp6(1),e.Q6J("ngForOf",r.features)}}function hg(s,_){if(1&s&&(e.ynx(0),e.TgZ(1,"div",1)(2,"h2"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.YNc(5,fg,5,2,"table",2),e.qZA(),e.BQk()),2&s){const r=_.ngIf;e.xp6(3),e.Oqu(e.lcZ(4,2,"productDetails.specification")),e.xp6(2),e.Q6J("ngForOf",null==r?null:r.classifications)}}function hd(s,_){if(1&s&&(e.ynx(0),e._UZ(1,"div",1),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("innerHTML",null==r?null:r.description,e.oJD)}}function gd(s,_){if(1&s&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&s){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("cxComponentWrapper",r)}}function Nv(s,_){if(1&s&&(e.ynx(0),e.YNc(1,gd,2,1,"ng-template",3),e.BQk()),2&s){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.DdM(2,Yr))}}function md(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Nv,2,3,"ng-container",0),e.BQk()),2&s){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function gg(s,_){if(1&s&&(e.ynx(0),e.YNc(1,md,2,1,"ng-container",2),e.BQk()),2&s){const r=_.ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}const Dc=["titleInput"],vd=["writeReviewButton"];function dl(s,_){if(1&s&&e._UZ(0,"cx-star-rating",9),2&s){const r=e.oxw(2).ngIf;e.Q6J("rating",r.averageRating)}}function _d(s,_){1&s&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Cd(s,_){if(1&s&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.qZA(),e._UZ(3,"cx-star-rating",15),e.TgZ(4,"div",16),e._uU(5),e.qZA(),e.TgZ(6,"div",17),e._uU(7),e.ALo(8,"cxDate"),e.qZA(),e.TgZ(9,"div",18),e._uU(10),e.qZA()()),2&s){const r=_.$implicit;let d;e.xp6(2),e.Oqu(r.headline),e.xp6(1),e.Q6J("rating",null!==(d=r.rating)&&void 0!==d?d:0),e.xp6(2),e.hij(" ",r.alias?r.alias:null==r.principal?null:r.principal.name," "),e.xp6(2),e.Oqu(e.lcZ(8,5,r.date)),e.xp6(3),e.Oqu(r.comment)}}function Vp(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2).ngIf,b=e.oxw(4);return e.KtG(b.maxListItems=C.length)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.more")," "))}function Uv(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(6);return e.KtG(C.maxListItems=C.initialMaxListItems)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.less")," "))}function bc(s,_){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Vp,3,3,"button",19),e.YNc(2,Uv,3,3,"button",19),e.qZA()),2&s){const r=e.oxw(5);e.xp6(1),e.Q6J("ngIf",r.maxListItems===r.initialMaxListItems),e.xp6(1),e.Q6J("ngIf",r.maxListItems!==r.initialMaxListItems)}}function pl(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Cd,11,7,"div",12),e.ALo(2,"slice"),e.YNc(3,bc,3,2,"div",11),e.BQk()),2&s){const r=_.ngIf,d=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,r,0,d.maxListItems)),e.xp6(2),e.Q6J("ngIf",r.length>d.initialMaxListItems)}}function Hp(s,_){if(1&s&&(e.ynx(0),e.YNc(1,pl,4,6,"ng-container",11),e.ALo(2,"async"),e.BQk()),2&s){const r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.reviews$))}}function $p(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5,6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.initiateWriteReview())}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,dl,1,1,"cx-star-rating",7),e.YNc(10,_d,3,3,"div",8),e.qZA(),e.YNc(11,Hp,3,3,"ng-container",2),e.BQk()}if(2&s){const r=e.oxw().ngIf,d=e.MAs(6),C=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"productReview.overallRating")),e.xp6(4),e.hij(" ",e.lcZ(8,8,"productReview.writeReview")," "),e.xp6(2),e.Q6J("ngIf",r.averageRating),e.xp6(1),e.Q6J("ngIf",!r.averageRating),e.xp6(1),e.Q6J("ngIf",!C.isWritingReview)("ngIfElse",d)}}function mu(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"form",20),e.NdJ("ngSubmit",function(){e.CHM(r);const C=e.oxw().ngIf,b=e.oxw();return e.KtG(b.submitReview(C))}),e.TgZ(1,"div",21)(2,"label")(3,"span",22),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"input",23,24)(8,"cx-form-errors",25),e.qZA()(),e.TgZ(9,"div",21)(10,"label")(11,"span",22),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._UZ(14,"textarea",26)(15,"cx-form-errors",25),e.qZA()(),e.TgZ(16,"div",21)(17,"label")(18,"span",22),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e._UZ(21,"input",27),e.TgZ(22,"cx-star-rating",28),e.NdJ("change",function(C){e.CHM(r);const b=e.oxw(2);return e.KtG(b.setRating(C))}),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"cx-form-errors",25),e.qZA()(),e.TgZ(25,"div",21)(26,"label")(27,"span",22),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA(),e._UZ(30,"input",29),e.qZA()(),e.TgZ(31,"div",30)(32,"div",31)(33,"button",32),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.cancelWriteReview())}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()(),e.TgZ(36,"div",31)(37,"button",33),e._uU(38),e.ALo(39,"cxTranslate"),e.qZA()()()()}if(2&s){const r=e.oxw(2);e.Q6J("formGroup",r.reviewForm),e.xp6(4),e.Oqu(e.lcZ(5,12,"productReview.reviewTitle")),e.xp6(4),e.Q6J("control",r.reviewForm.get("title")),e.xp6(4),e.Oqu(e.lcZ(13,14,"productReview.writeYourComments")),e.xp6(3),e.Q6J("control",r.reviewForm.get("comment")),e.xp6(4),e.Oqu(e.lcZ(20,16,"productReview.rating")),e.xp6(3),e.Q6J("disabled",!1),e.uIk("aria-label",e.lcZ(23,18,"productReview.ratingRequired")),e.xp6(2),e.Q6J("control",r.reviewForm.get("rating")),e.xp6(4),e.Oqu(e.lcZ(29,20,"productReview.reviewerName")),e.xp6(6),e.hij(" ",e.lcZ(35,22,"common.cancel")," "),e.xp6(4),e.hij(" ",e.lcZ(39,24,"common.submit")," ")}}function ds(s,_){if(1&s&&(e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,$p,12,10,"ng-container",2),e.YNc(5,mu,40,26,"ng-template",null,3,e.W1O),e.qZA()),2&s){const r=_.ngIf,d=e.MAs(6),C=e.oxw();e.xp6(2),e.AsE(" ",e.lcZ(3,4,"productDetails.reviews")," (",r.numberOfReviews,") "),e.xp6(2),e.Q6J("ngIf",!C.isWritingReview)("ngIfElse",d)}}function mg(s,_){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&s){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(": "+r.value)}}function vg(s,_){if(1&s&&(e.TgZ(0,"p",19)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,mg,2,1,"span",20),e.qZA()),2&s){const r=_.$implicit;e.xp6(2),e.Oqu(r.channel),e.xp6(1),e.Q6J("ngIf",r.value)}}const jp=function(){return{cxRoute:"notificationPreference"}},_g=function(){return{cxRoute:"myInterests"}};function Cg(s,_){if(1&s){const r=e.EpF();e.ynx(0),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",9)(4,"div",10)(5,"p",11),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.YNc(8,vg,4,2,"p",12),e.TgZ(9,"p",11),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"p",11),e._uU(13),e.ALo(14,"cxTranslate"),e.TgZ(15,"a",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Link clicked"))}),e.ALo(16,"cxUrl"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"p",11),e._uU(22),e.ALo(23,"cxTranslate"),e.TgZ(24,"a",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Link clicked"))}),e.ALo(25,"cxUrl"),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA()()(),e.TgZ(30,"div",15)(31,"div",16)(32,"div",17)(33,"button",18),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Button clicked"))}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()(),e.BQk()}if(2&s){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,13,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,15,"stockNotification.subscriptionDialog.notifiedPrefix")," "),e.xp6(2),e.Q6J("ngForOf",r.enabledPrefs),e.xp6(2),e.hij(" ",e.lcZ(11,17,"stockNotification.subscriptionDialog.notifiedSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"stockNotification.subscriptionDialog.manageChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(16,21,e.DdM(37,jp))),e.xp6(2),e.hij(" ",e.lcZ(18,23,"stockNotification.subscriptionDialog.manageChannelsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(20,25,"stockNotification.subscriptionDialog.manageChannelsSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(23,27,"stockNotification.subscriptionDialog.manageSubscriptionsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(25,29,e.DdM(38,_g))),e.xp6(2),e.hij(" ",e.lcZ(27,31,"stockNotification.subscriptionDialog.manageSubscriptionsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(29,33,"stockNotification.subscriptionDialog.manageSubscriptionsSuffix")," "),e.xp6(6),e.hij(" ",e.lcZ(35,35,"stockNotification.subscriptionDialog.okBtn")," ")}}function yg(s,_){1&s&&(e.TgZ(0,"div",9)(1,"p"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"div",21)(5,"div",22),e._UZ(6,"cx-spinner"),e.qZA()()()),2&s&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"stockNotification.subscriptionDialog.subscribing")," "))}function fl(s,_){if(1&s){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"p"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.TgZ(5,"button",6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.BQk()}2&s&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"stockNotification.getNotified")),e.xp6(3),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," "))}function Tc(s,_){if(1&s&&(e.ynx(0),e.YNc(1,fl,8,6,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&s){const r=e.oxw(2),d=e.MAs(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,r.prefsEnabled$))("ngIfElse",d)}}function Zp(s,_){if(1&s&&(e.ynx(0),e.YNc(1,Tc,3,4,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&s){const r=e.oxw(),d=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,r.hasProductInterests$))("ngIfElse",d)}}const Sg=function(){return{cxRoute:"login"}};function Yp(s,_){1&s&&(e.ynx(0),e.TgZ(1,"a",10),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._uU(5),e.ALo(6,"cxTranslate"),e._UZ(7,"br"),e.BQk()),2&s&&(e.xp6(1),e.Q6J("routerLink",e.lcZ(2,3,e.DdM(9,Sg))),e.xp6(2),e.hij(" ",e.lcZ(4,5,"miniLogin.signInRegister"),""),e.xp6(2),e.hij(" ",e.lcZ(6,7,"stockNotification.getNotifySuffix"),""))}function Eg(s,_){1&s&&(e._uU(0),e.ALo(1,"cxTranslate"),e._UZ(2,"br"),e._uU(3),e.ALo(4,"cxTranslate"),e.TgZ(5,"a",10),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e._uU(9),e.ALo(10,"cxTranslate")),2&s&&(e.hij(" ",e.lcZ(1,5,"stockNotification.getNotify"),""),e.xp6(3),e.hij(" ",e.lcZ(4,7,"stockNotification.activateChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,9,e.DdM(15,jp))),e.xp6(2),e.Oqu(e.lcZ(8,11,"stockNotification.channelsLink")),e.xp6(2),e.hij("",e.lcZ(10,13,"stockNotification.activateChannelsSuffix")," "))}function zp(s,_){if(1&s){const r=e.EpF();e.TgZ(0,"div",7)(1,"p"),e.YNc(2,Yp,8,10,"ng-container",4),e.YNc(3,Eg,11,16,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(5,"button",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()}if(2&s){const r=e.MAs(4),d=e.oxw();e.xp6(2),e.Q6J("ngIf",d.anonymous)("ngIfElse",r),e.xp6(3),e.uIk("disabled",!!d.anonymous||null),e.xp6(1),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," ")}}function Ba(s,_){if(1&s){const r=e.EpF();e.ynx(0),e._UZ(1,"div",11),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",5)(4,"p"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"button",12),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.unsubscribe())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.BQk()}2&s&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(4),e.Oqu(e.lcZ(6,5,"stockNotification.notified")),e.xp6(3),e.hij(" ",e.lcZ(9,7,"stockNotification.stopNotify")," "))}function Ag(s,_){if(1&s&&(e.YNc(0,Ba,10,9,"ng-container",4),e.ALo(1,"async")),2&s){const r=e.oxw(),d=e.MAs(7);e.Q6J("ngIf",!e.lcZ(1,2,r.isRemoveInterestLoading$))("ngIfElse",d)}}function Dg(s,_){1&s&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e._UZ(3,"cx-spinner"),e.qZA()()())}const bg="data-cx-focus-group";var Ji=(()=>{return(s=Ji||(Ji={})).start="start",s.end="end",s.both="both",Ji;var s})();let yd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Tg=(()=>{class s{constructor(r,d){this.elementRef=r,this.service=d,this.defaultConfig={}}ngOnInit(){this.setDefaultConfiguration(),this.requiredTabindex=-1}ngOnChanges(r){}setDefaultConfiguration(){(!this.config||""===this.config)&&this.defaultConfig&&(this.config=this.defaultConfig)}get host(){return this.elementRef.nativeElement}set requiredTabindex(r){this.requiresExplicitTabIndex&&(this.tabindex=r)}get requiresExplicitTabIndex(){return void 0===this.tabindex&&-1===["button","input","select","textarea"].indexOf(this.host.tagName.toLowerCase())&&!("A"===this.host.tagName&&(this.host.hasAttribute("href")||this.host.hasAttribute("routerlink")||this.host.getAttribute("ng-reflect-router-link")))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(yd))},s.\u0275dir=e.lG2({type:s,hostVars:1,hostBindings:function(r,d){2&r&&e.uIk("tabindex",d.tabindex)},inputs:{tabindex:"tabindex"},features:[e.TTD]}),s})(),xg=(()=>{class s extends Tg{constructor(){super(...arguments),this.defaultConfig={disableMouseFocus:!0},this.mouseFocus=!1}handleMousedown(){this.shouldFocusVisible&&(this.mouseFocus=!0)}handleKeydown(r){this.shouldFocusVisible&&(this.mouseFocus=!this.isNavigating(r))}get shouldFocusVisible(){return this.config?.disableMouseFocus}isNavigating(r){return!(r.metaKey||"Tab"!==r.code&&["INPUT","TEXTAREA"].includes(r.target.tagName))}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275dir=e.lG2({type:s,hostVars:2,hostBindings:function(r,d){1&r&&e.NdJ("mousedown",function(){return d.handleMousedown()})("keydown",function(b){return d.handleKeydown(b)}),2&r&&e.ekj("mouse-focus",d.mouseFocus)},features:[e.qOj]}),s})(),Sd=(()=>{class s extends xg{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={block:!0},this.config={}}ngOnInit(){super.ngOnInit(),this.config.block&&(this.tabindex=-1)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(yd))},s.\u0275dir=e.lG2({type:s,features:[e.qOj]}),s})(),_u=(()=>{class s extends yd{constructor(){super(...arguments),this.focus=new Map}get(r){return this.focus.get(r||"_g_")}set(r,d){r&&this.focus.set(d||"_g_",r)}clear(r){this.focus.delete(r||"_g_")}getPersistenceGroup(r,d){return d?.group?d.group:r?.getAttribute(bg)}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),hl=(()=>{class s extends Sd{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={},this.config={}}handleFocus(r){this.service.set(this.key,this.group),r?.preventDefault(),r?.stopPropagation()}ngOnInit(){super.ngOnInit(),this.attr=this.key?this.key:void 0}setDefaultConfiguration(){"string"==typeof this.config&&""!==this.config&&(this.config={key:this.config}),super.setDefaultConfiguration()}ngAfterViewInit(){this.isPersisted&&this.host.focus({preventScroll:!0})}get isPersisted(){return!!this.key&&this.service.get(this.group)===this.key}get key(){return this.config?.key}get group(){return this.service.getPersistenceGroup(this.host,this.config)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(_u))},s.\u0275dir=e.lG2({type:s,hostVars:1,hostBindings:function(r,d){1&r&&e.NdJ("focus",function(b){return d.handleFocus(b)}),2&r&&e.uIk("data-cx-focus",d.attr)},features:[e.qOj]}),s})(),Jp=(()=>{class s{constructor(){this.focusableSelectors=["a[href]","button","[tabindex]","input","select","textarea"],this.focusableSelectorSuffix=":not([disabled]):not([hidden]):not([aria-hidden])"}query(r,d){return d&&""!==d?Array.from(r?.querySelectorAll(d)):[]}findFirstFocusable(r,d={autofocus:!0}){return this.query(r,"string"==typeof d?.autofocus?d.autofocus:"[autofocus]").find(b=>!this.isHidden(b))||this.findFocusable(r).find(b=>Boolean(b))}findFocusable(r,d=!1,C=!1){let b=this.focusableSelectorSuffix;d||(b+=":not([tabindex='-1'])");const re=this.focusableSelectors.map(et=>et+b).join(",");return this.query(r,re).filter(et=>C?Boolean(et):!this.isHidden(et))}isHidden(r){return null===r.offsetParent}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ns=(()=>{class s extends _u{constructor(r){super(),this.selectFocusUtil=r}shouldFocus(r){return!!r?.focusOnEscape}handleEscape(r,d,C){this.shouldFocus(d)&&(r!==C.target?(r.focus({preventScroll:!0}),C.preventDefault(),C.stopPropagation()):d?.focusOnDoubleEscape&&this.selectFocusUtil.findFirstFocusable(r,{autofocus:!0})?.focus())}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Jp))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ed=(()=>{class s extends hl{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={focusOnEscape:!0},this.esc=new e.vpe}handleEscape(r){this.service.shouldFocus(this.config)&&this.service.handleEscape(this.host,this.config,r),this.esc.emit(this.service.shouldFocus(this.config))}ngOnInit(){this.service.shouldFocus(this.config)&&(this.requiredTabindex=-1),super.ngOnInit()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(Ns))},s.\u0275dir=e.lG2({type:s,hostBindings:function(r,d){1&r&&e.NdJ("keydown.escape",function(b){return d.handleEscape(b)})},outputs:{esc:"esc"},features:[e.qOj]}),s})(),_i=(()=>{class s extends Ns{findFirstFocusable(r,d={autofocus:!0}){return":host"===d?.autofocus?r:this.hasPersistedFocus(r,d)?this.getPersisted(r,this.getPersistenceGroup(r,d)):this.selectFocusUtil.findFirstFocusable(r,d)||r}hasPersistedFocus(r,d){return!!this.getPersisted(r,this.getPersistenceGroup(r,d))}getPersisted(r,d){if(!this.get(d))return;const C=Array.from(r?.querySelectorAll(`[data-cx-focus='${this.get(d)}']`));return C.length>0?C[0]:void 0}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ga=(()=>{class s extends Ed{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={autofocus:!0}}ngAfterViewInit(){this.shouldAutofocus&&this.handleFocus(),(!this.shouldAutofocus||this.hasPersistedFocus)&&super.ngAfterViewInit()}ngOnChanges(r){r.config.currentValue?.refreshFocus&&(this.config.autofocus||(this.config.autofocus=!0),this.handleFocus()),super.ngOnChanges(r)}handleFocus(r){this.shouldAutofocus&&(r?.target&&r.target!==this.host?r.target.focus():this.firstFocusable?.focus()),super.handleFocus(r)}get hasPersistedFocus(){return this.service.hasPersistedFocus(this.host,this.config)}get shouldAutofocus(){return!!this.config?.autofocus}get firstFocusable(){return this.service.findFirstFocusable(this.host,this.config)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(_i))},s.\u0275dir=e.lG2({type:s,features:[e.qOj,e.TTD]}),s})(),ra=(()=>{class s extends _i{moveTab(r,d,C,b){d?.tab&&(("scroll"===d.tab?this.findNextScrollable(r,d,C):this.findNext(r,d,C))?.focus(),b.preventDefault(),b.stopPropagation())}findNextScrollable(r,d,C){const b=this.getActiveChild(r,d);if(!b)return;const re=Math.round(r.scrollWidth/r.clientWidth);let Bt=Math.round(b.offsetLeft/(r.scrollWidth/re))+C;return 1===C&&Bt>=re&&(Bt=0),-1===C&&Bt<0&&(Bt=re-1),this.getChildren(r,d)?.find(Zn=>Zn.offsetLeft>=r.scrollWidth/re*Bt)}findNext(r,d,C){const b=this.getChildren(r,d);let re=b?.findIndex(et=>et===this.getActiveChild(r,d));return(!re||-1===re)&&(re=0),re+=C,1===C&&re>=b?.length&&(re=b.length-1),-1===C&&re<0&&(re=0),b?b[re]:void 0}getActiveChild(r,d){const C=this.getPersisted(r,d?.group);if(C)return C;const b=this.getChildren(r,d);let re=b.findIndex(et=>this.isActive(et));return(!re||-1===re)&&(re=0),b[re]}getChildren(r,d){return"string"==typeof d.tab&&"scroll"!==d.tab?this.selectFocusUtil.query(r,d.tab):this.findFocusable(r,!0)}findFocusable(r,d=!1,C=!1){return this.selectFocusUtil.findFocusable(r,d,C)}isActive(r){const d=document.activeElement,C=d?.tagName;return r===d||!!C&&!!Array.from(r.querySelectorAll(C)).find(b=>b===d)}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Bv=(()=>{class s extends Ga{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={tab:!0},this.config={}}handleNextTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,1,r)}handlePreviousTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,-1,r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(ra))},s.\u0275dir=e.lG2({type:s,hostBindings:function(r,d){1&r&&e.NdJ("keydown.arrowRight",function(b){return d.handleNextTab(b)})("keydown.arrowLeft",function(b){return d.handlePreviousTab(b)})},features:[e.qOj]}),s})(),Cu=(()=>{class s extends ra{hasFocusableChildren(r){return this.findFocusable(r).length>0}moveFocus(r,d,C,b){const re=this.findFocusable(r);let et=re.findIndex(an=>an===b.target)+C;(et>=0&&et<re.length||et<0&&this.getTrapStart(d.trap)||et>=re.length&&this.getTrapEnd(d.trap))&&(et>=re.length&&(et=0),et<0&&(et=re.length-1),b.preventDefault(),b.stopPropagation(),re[et].focus())}getTrapStart(r){return!0===r||r===Ji.start}getTrapEnd(r){return!0===r||r===Ji.end}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Mg=(()=>{class s extends Bv{constructor(r,d){super(r,d),this.elementRef=r,this.service=d,this.defaultConfig={trap:!0},this.config={},this.handleTrapDown=C=>{this.config.trap&&(!this.config.ignoreUpDownArrowKeys||"ArrowDown"!==C.code)&&this.moveFocus(C,1)},this.handleTrapUp=C=>{this.config.trap&&(!this.config.ignoreUpDownArrowKeys||"ArrowUp"!==C.code)&&this.moveFocus(C,-1)}}moveFocus(r,d){this.service.hasFocusableChildren(this.host)&&this.service.moveFocus(this.host,this.config,d,r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(Cu))},s.\u0275dir=e.lG2({type:s,hostBindings:function(r,d){1&r&&e.NdJ("keydown.arrowdown",function(b){return d.handleTrapDown(b)})("keydown.tab",function(b){return d.handleTrapDown(b)})("keydown.arrowup",function(b){return d.handleTrapUp(b)})("keydown.shift.tab",function(b){return d.handleTrapUp(b)})},features:[e.qOj]}),s})(),gl=(()=>{class s extends Cu{}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Dd=(()=>{class s extends Mg{constructor(r,d,C){super(r,d),this.elementRef=r,this.service=d,this.renderer=C,this.defaultConfig={lock:!0},this.config={},this.unlock=new e.vpe}handleEnter(r){this.shouldLock&&this.host===r.target&&(this.unlockFocus(r),r.preventDefault(),r.stopPropagation())}handleClick(r){this.shouldLock&&this.isLocked&&(this.unlockFocus(r),r.stopPropagation())}lockFocus(){this.addTabindexToChildren(-1)}unlockFocus(r){this.unlock.emit(!0),this.addTabindexToChildren(0),r?.target===this.host&&setTimeout(()=>{super.handleFocus(r)},100)}ngOnInit(){super.ngOnInit(),this.shouldLock=this.config?.lock,this.shouldLock&&(this.tabindex=0,this.config.hasOwnProperty("autofocus")||(this.config.autofocus=!0),this.config.hasOwnProperty("focusOnEscape")||(this.config.focusOnEscape=!1!==this.config?.focusOnEscape))}ngAfterViewInit(){if(this.shouldLock){if(this.group){const r=this.group;this.service.findFocusable(this.host).forEach(d=>this.renderer.setAttribute(d,bg,r))}this.shouldAutofocus&&this.handleFocus()}super.ngAfterViewInit()}handleFocus(r){if(this.shouldLock){if(!this.shouldUnlockAfterAutofocus(r))return setTimeout(()=>this.lockFocus()),void r?.stopPropagation();setTimeout(()=>this.unlockFocus(r))}super.handleFocus(r)}handleEscape(r){this.shouldLock&&this.service.clear(this.config.group),super.handleEscape(r)}shouldUnlockAfterAutofocus(r){return!r&&this.service.hasPersistedFocus(this.host,this.config)}addTabindexToChildren(r=0){this.shouldLock&&(this.isLocked=-1===r,(!this.hasFocusableChildren||0!==r||0===r)&&this.focusable.forEach(d=>this.renderer.setAttribute(d,"tabindex",r.toString())))}get hasFocusableChildren(){return this.service.hasFocusableChildren(this.host)}get focusable(){return this.service.findFocusable(this.host,this.shouldLock,!0)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(gl),e.Y36(e.Qsj))},s.\u0275dir=e.lG2({type:s,hostVars:4,hostBindings:function(r,d){1&r&&e.NdJ("keydown.enter",function(b){return d.handleEnter(b)})("keydown.space",function(b){return d.handleEnter(b)})("click",function(b){return d.handleClick(b)}),2&r&&e.ekj("focus-lock",d.shouldLock)("is-locked",d.isLocked)},outputs:{unlock:"unlock"},features:[e.qOj]}),s})(),Va=(()=>{class s extends gl{}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ko=(()=>{class s extends Dd{constructor(r,d,C){super(r,d,C),this.elementRef=r,this.service=d,this.renderer=C,this.defaultConfig={},this.config={}}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(Va),e.Y36(e.Qsj))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxFocus",""]],inputs:{config:["cxFocus","config"]},features:[e.qOj]}),s})(),Ci=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})();var Ko=(()=>{return(s=Ko||(Ko={})).POPOVER="POPOVER",s.POPOVER_CENTER="POPOVER_CENTER",s.POPOVER_CENTER_BACKDROP="POPOVER_CENTER_BACKDROP",s.DIALOG="DIALOG",s.SIDEBAR_START="SIDEBAR_START",s.SIDEBAR_END="SIDEBAR_END",Ko;var s})();let Us=(()=>{let s=class{constructor(r,d){this.document=r,this.rendererFactory=d,this.renderedCallers=[],this.dialogClasses=["d-block","fade","modal","show"],this.popoverClasses=["cx-dialog-popover"],this.popoverCenterClasses=["cx-dialog-popover-center"],this.popoverCenterBackdropClasses=["cx-dialog-popover-center-backdrop"],this.sidebarEndClasses=["cx-sidebar-end"],this.sidebarStartClasses=["cx-sidebar-start"],this.renderer=d.createRenderer(null,null)}shouldRender(r,d){return Boolean(d.component)&&(!this.renderedCallers.some(C=>C.caller===r)||!!d.multi)}applyClasses(r,d){let C=[];switch(d){case Ko.DIALOG:C=this.dialogClasses,this.renderer.addClass(this.document.body,"modal-open");break;case Ko.POPOVER:C=this.popoverClasses;break;case Ko.POPOVER_CENTER:C=this.popoverCenterClasses;break;case Ko.POPOVER_CENTER_BACKDROP:C=this.popoverCenterBackdropClasses;break;case Ko.SIDEBAR_END:C=this.sidebarEndClasses;break;case Ko.SIDEBAR_START:C=this.sidebarStartClasses}for(const b of C)this.renderer.addClass(r.location.nativeElement,b)}remove(r,d){this.renderedCallers=this.renderedCallers.filter(C=>C.caller!==r),d?.dialogType===Ko.DIALOG&&this.renderer.removeClass(this.document.body,"modal-open")}getPriority(){return-10}};return s=(0,me.gn)([(0,me.fM)(0,(0,e.tBr)(n.K0))],s),s})();var ml=(()=>{return(s=ml||(ml={})).xs="xs",s.sm="sm",s.md="md",s.lg="lg",s.xl="xl",ml;var s})();let Ha=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})(),Ti=(()=>{class s{constructor(r,d){this.renderStrategies=r,this.layoutConfig=d,this._dialogClose=new P.X(void 0),this._dataSubject=new P.X(void 0),this.renderStrategies=this.renderStrategies||[]}get data$(){return this._dataSubject.asObservable()}openDialog(r,d,C,b){const re=this.launch(r,C,b);if(re)return(0,E.aj)([re,this.dialogClose]).pipe((0,Ke.h)(([,et])=>void 0!==et),(0,rt.b)(([et])=>{d?.nativeElement.focus(),this.clear(r),et?.destroy()}),(0,Ie.U)(([et])=>et))}launch(r,d,C){const b=this.findConfiguration(r);if(b){const re=this.getStrategy(b);if(re)return this._dialogClose.next(void 0),this._dataSubject.next(C),re.render(b,r,d)}else(0,e.X6Q)()&&console.warn("No configuration provided for caller "+r)}openDialogAndSubscribe(r,d,C){this.openDialog(r,d,void 0,C)?.pipe((0,Nt.q)(1)).subscribe()}clear(r){const d=this.findConfiguration(r);if(d){const C=this.getStrategy(d);C&&C.remove(r,d)}}get dialogClose(){return this._dialogClose.asObservable()}closeDialog(r){this._dialogClose.next(r)}findConfiguration(r){if(this.layoutConfig?.launch)return this.layoutConfig.launch[r]}getStrategy(r){return(0,h.ARM)(this.renderStrategies,[r])}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Us),e.LFG(Ha))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),bd=(()=>{class s{constructor(r,d,C){this.anonymousConsentsService=r,this.vcr=d,this.launchDialogService=C,this.subscriptions=new M.w,this.bannerVisible$=this.anonymousConsentsService.isBannerVisible()}viewDetails(){this.hideBanner();const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",void 0,this.vcr);r&&this.subscriptions.add(r.subscribe())}allowAll(){this.subscriptions.add(this.anonymousConsentsService.giveAllConsents().pipe((0,rt.b)(()=>this.hideBanner())).subscribe())}hideBanner(){this.anonymousConsentsService.toggleBannerDismissed(!0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.NpW),e.Y36(e.s_b),e.Y36(Ti))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-anonymous-consent-management-banner"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"anonymous-consent-banner",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xs-12"],[1,"cx-banner-title"],[1,"cx-banner-description"],[1,"col-lg-4","col-xs-12","cx-banner-buttons"],[1,"btn","btn-action",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(r,d){1&r&&(e.YNc(0,Yn,18,15,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.bannerVisible$))},dependencies:[n.mk,n.O5,n.Ov,h.X$D],encapsulation:2}),s})(),yu=(()=>{class s extends Us{constructor(r,d,C){super(r,d),this.document=r,this.rendererFactory=d,this.componentFactoryResolver=C}render(r,d,C){if(C&&this.shouldRender(d,r)){const b=this.componentFactoryResolver.resolveComponentFactory(r.component),re=C.createComponent(b);return r?.dialogType&&this.applyClasses(re,r?.dialogType),this.renderedCallers.push({caller:d,element:C.element,component:re}),(0,R.of)(re)}(0,e.X6Q)()&&console.warn(C?`Element for ${d} already rendered. To allow multi rendering add property multi: true.`:`No view container ref provided for ${d}`)}hasMatch(r){return Boolean(r.inline)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(e._Vd))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Kp=(()=>{class s extends Us{constructor(r,d,C,b){super(r,d),this.document=r,this.rendererFactory=d,this.componentFactoryResolver=C,this.injector=b}get hostComponent(){return this.injector.get(e.z2F)?.components?.[0]}render(r,d){if(this.shouldRender(d,r)){const C=this.componentFactoryResolver.resolveComponentFactory(r.component),b=e.zs3.create({providers:[]}),re=C.create(b);return this.injector.get(e.z2F)?.attachView(re.hostView),this.renderer.appendChild(this.hostComponent?.location.nativeElement,re.location.nativeElement),r?.dialogType&&this.applyClasses(re,r?.dialogType),this.renderedCallers.push({caller:d,component:re}),(0,R.of)(re)}}hasMatch(r){return Boolean(r.inlineRoot)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(e._Vd),e.LFG(e.zs3))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var qr=(()=>{return(s=qr||(qr={})).REPLACE="replace",s.BEFORE="before",s.AFTER="after",qr;var s})();class Td{}let xi=(()=>{class s{constructor(){this.templatesRefs={[qr.BEFORE]:new Map,[qr.REPLACE]:new Map,[qr.AFTER]:new Map}}add(r,d,C=qr.REPLACE){const b=this.templatesRefs[C];if(b){const et=(b.get(r)||[]).concat([d]);b.set(r,et)}}get(r,d=qr.REPLACE,C=!1){const re=(this.templatesRefs[d]||this.templatesRefs[qr.REPLACE]).get(r);return re&&!C?re[0]:re}remove(r,d=qr.REPLACE,C){this.removeValueOrAll(this.templatesRefs[d]||this.templatesRefs[qr.REPLACE],r,C)}removeValueOrAll(r,d,C){if(!C&&r.has(d))r.delete(d);else if(C&&r.has(d)){let b=r.get(d);b=b?.filter(re=>re!==C),b&&r.set(d,b)}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Qp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})(),ps=(()=>{class s{constructor(){this.outletRefs=new P.X(new Map)}render(r){0!==this.outletRefs.value.size&&this.outletRefs.value.get(r)?.render()}register(r,d){this.outletRefs.next(this.outletRefs.value.set(r,d))}getOutletRef(r){return this.outletRefs.asObservable().pipe((0,Ie.U)(d=>d.get(r)),(0,Ke.h)(h.jWE))}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ic=(()=>{class s{constructor(r){this.config=r}isIntersected(r,d,C){return this.intersects(r,d,C).pipe((0,Fe.P)(b=>!0===b))}isIntersecting(r,d,C){return this.intersects(r,d,C)}intersects(r,d={},C){return this.createIntersectionObservable(r,d).pipe((0,ht.zg)(b=>b),(0,Ie.U)(b=>C?C(b):b.isIntersecting),(0,Re.x)())}createIntersectionObservable(r,d){return new V.y(C=>{const re={rootMargin:this.getRootMargin(d),threshold:d.threshold},et=new IntersectionObserver(Bt=>{C.next(Bt)},re);return et.observe(r),()=>{et.disconnect()}})}getRootMargin(r={}){if(r.rootMargin)return r.rootMargin;const d=this.config;return d.deferredLoading&&d.deferredLoading.intersectionMargin?d.deferredLoading.intersectionMargin:void 0}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Ha))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ig=(()=>{class s{constructor(r,d,C){this.platformId=r,this.config=d,this.intersectionService=C,this.globalLoadStrategy=d.deferredLoading?.strategy??h.cXr.INSTANT}load(r,d){return this.shouldLoadInstantly((d||{}).deferLoading)?(0,R.of)(!0):this.intersectionService.isIntersected(r,d)}shouldLoadInstantly(r){return(0,n.PM)(this.platformId)||r===h.cXr.INSTANT||r!==h.cXr.DEFER&&this.globalLoadStrategy===h.cXr.INSTANT}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(e.Lbi),e.LFG(Ha),e.LFG(Ic))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),fs=(()=>{class s{constructor(r,d,C,b,re){this.vcr=r,this.templateRef=d,this.outletService=C,this.deferLoaderService=b,this.outletRendererService=re,this.renderedTemplate=[],this.renderedComponents=new Map,this.outletContext$=new j.t(1),this.loaded=new e.vpe(!0),this.subscription=new M.w}render(){this.vcr.clear(),this.renderedTemplate=[],this.renderedComponents.clear(),this.subscription.unsubscribe(),this.subscription=new M.w,this.cxOutletDefer?this.deferLoading():this.build()}ngOnChanges(r){r.cxOutlet&&(this.render(),this.outletRendererService.register(this.cxOutlet,this)),r.cxOutletContext&&this.outletContext$.next(this.cxOutletContext)}deferLoading(){this.loaded.emit(!1);const r=this.getHostElement(this.vcr.element.nativeElement);this.subscription.add(this.deferLoaderService.load(r,this.cxOutletDefer).subscribe(()=>{this.build(),this.loaded.emit(!0)}))}build(){this.buildOutlet(qr.BEFORE),this.buildOutlet(qr.REPLACE),this.buildOutlet(qr.AFTER)}buildOutlet(r){let d=this.outletService.get(this.cxOutlet,r,!0);d=d?.filter(b=>!this.renderedTemplate.includes(b)),!d&&r===qr.REPLACE&&(d=[this.templateRef]),Array.isArray(d)||(d=[d]);const C=[];d.forEach(b=>{const re=this.create(b,r);re&&C.push(re)}),this.renderedComponents.set(r,C)}create(r,d){if(this.renderedTemplate.push(r),r instanceof e._Yv)return this.vcr.createComponent(r,void 0,this.getComponentInjector(d));if(r instanceof e.Rgc){const C=this.vcr.createEmbeddedView(r,{$implicit:this.cxOutletContext});return C.markForCheck(),C}}getComponentInjector(r){const d={reference:this.cxOutlet,position:r,context:this.cxOutletContext,context$:this.outletContext$.asObservable()};return e.zs3.create({providers:[{provide:Td,useValue:d}],parent:this.vcr.injector})}getHostElement(r){return r instanceof HTMLElement?r:this.getHostElement(r.parentNode)}ngOnDestroy(){this.subscription.unsubscribe(),this.outletContext$.complete()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(xi),e.Y36(Ig),e.Y36(ps))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxOutlet",""]],inputs:{cxOutlet:"cxOutlet",cxOutletContext:"cxOutletContext",cxOutletDefer:"cxOutletDefer"},outputs:{loaded:"loaded"},features:[e.TTD]}),s})();const wc=new e.OlP("PROVIDE_OUTLET_OPTIONS");function wg(s){return{provide:wc,useValue:s,multi:!0}}function xd(s,_,r){return()=>{(s??[]).forEach(C=>{const b=_.resolveComponentFactory(C.component);r.add(C.id,b,C.position??qr.AFTER)})}}let Ki=(()=>{class s{static forRoot(){return{ngModule:s,providers:[{provide:e.ip1,useFactory:xd,deps:[[new e.FiY,wc],e._Vd,xi],multi:!0}]}}static forChild(){return{ngModule:s,providers:[{provide:h.z4I,useFactory:xd,deps:[[new e.FiY,wc],e._Vd,xi],multi:!0}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})(),Rg=(()=>{class s extends Us{constructor(r,d,C,b,re){super(r,d),this.document=r,this.rendererFactory=d,this.outletService=C,this.componentFactoryResolver=b,this.outletRendererService=re}render(r,d){if(this.shouldRender(d,r)){const C=this.componentFactoryResolver.resolveComponentFactory(r.component);return this.outletService.add(r.outlet,C,r.position?r.position:qr.BEFORE),this.outletRendererService.render(r.outlet),this.renderedCallers.push({caller:d}),this.outletRendererService.getOutletRef(r.outlet).pipe((0,Ie.U)(b=>b.renderedComponents.get(r.position?r.position:qr.BEFORE).reverse().find(et=>et.componentType===C.componentType)),(0,rt.b)(b=>{r?.dialogType&&b&&this.applyClasses(b,r?.dialogType)}))}}hasMatch(r){return Boolean(r.outlet)}remove(r,d){const C=this.componentFactoryResolver.resolveComponentFactory(d.component);this.outletService.remove(d.outlet,d.position?d.position:qr.BEFORE,C),super.remove(r,d)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(xi),e.LFG(e._Vd),e.LFG(ps))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Vv=(()=>{class s extends Us{constructor(r,d,C){super(r,d),this.document=r,this.rendererFactory=d,this.routingService=C}render(r,d){this.routingService.go(r)}hasMatch(r){return Boolean(r.cxRoute)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(h.Znh))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Pg=(()=>{class s{static forRoot(){return{ngModule:s,providers:[{provide:Ha,useExisting:h.DeH}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[{provide:Us,useExisting:Rg,multi:!0},{provide:Us,useExisting:yu,multi:!0},{provide:Us,useExisting:Vv,multi:!0},{provide:Us,useExisting:Kp,multi:!0}]}),s})();var lr=(()=>{return(s=lr||(lr={})).STAR="STAR",s.SEARCH="SEARCH",s.CART="CART",s.INFO="INFO",s.GRID="GRID",s.LIST="LIST",s.CARET_DOWN="CARET_DOWN",s.CARET_UP="CARET_UP",s.CARET_LEFT="CARET_LEFT",s.CARET_RIGHT="CARET_RIGHT",s.CLOSE="CLOSE",s.ERROR="ERROR",s.WARNING="WARNING",s.SUCCESS="SUCCESS",s.VISA="VISA",s.MASTER_CARD="MASTER_CARD",s.AMEX="AMEX",s.DINERS_CLUB="DINERS_CLUB",s.CREDIT_CARD="CREDIT_CARD",s.EXPAND="EXPAND",s.COLLAPSE="COLLAPSE",s.RESET="RESET",s.CIRCLE="CIRCLE",s.HEART="HEART",s.EMPTY_HEART="EMPTY_HEART",s.FILTER="FILTER",s.PENCIL="PENCIL",s.CLOCK="CLOCK",s.TRASH="TRASH",s.ACTIVE="ACTIVE",s.SORT_DOWN="SORT_DOWN",s.SORT="SORT",s.ON="ON",s.OFF="OFF",s.LINK_OUT="LINK_OUT",s.EXPAND_ARROWS="EXPAND_ARROWS",s.CLIPBOARD_LIST="CLIPBOARD_LIST",s.ADDRESS_BOOK="ADDRESS_BOOK",s.USER_FRIENDS="USER_FRIENDS",s.SORT_AMOUNT_DOWN="SORT_AMOUNT_DOWN",s.SORT_AMOUNT_UP="SORT_AMOUNT_UP",s.EYE="EYE",s.EYE_SLASH="EYE_SLASH",s.ORDER="ORDER",s.DOWNLOAD="DOWNLOAD",s.FILE="FILE",lr;var s})();let oa=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})();var On=(()=>{return(s=On||(On={})).SVG="svg",s.LINK="link",s.TEXT="text",On;var s})();const ia={icon:{symbols:{SEARCH:"fas fa-search",CART:"fas fa-shopping-cart",INFO:"fas fa-info-circle",STAR:"fas fa-star",GRID:"fas fa-th-large",LIST:"fas fa-bars",CARET_UP:"fas fa-angle-up",CARET_DOWN:"fas fa-angle-down",CARET_RIGHT:"fas fa-angle-right",CARET_LEFT:"fas fa-angle-left",ERROR:"fas fa-exclamation-circle",WARNING:"fas fa-exclamation-triangle",SUCCESS:"fas fa-check-circle",CLOSE:"fas fa-times",VISA:"fab fa-cc-visa",MASTER_CARD:"fab fa-cc-mastercard",AMEX:"fab fa-cc-amex",DINERS_CLUB:"fab fa-cc-diners-club",CREDIT_CARD:"fas fa-credit-card",COLLAPSE:"fas fa-minus",EXPAND:"fas fa-plus",RESET:"fas fa-times-circle",CIRCLE:"fas fa-circle",HEART:"fas fa-heart",EMPTY_HEART:"far fa-heart",FILTER:"fas fa-filter",PENCIL:"fas fa-pencil-alt",CLOCK:"far fa-clock",TRASH:"fas fa-trash",ACTIVE:"fas fa-check",ON:"fas fa-toggle-on",OFF:"fas fa-toggle-off",LINK_OUT:"fas fa-external-link-alt",SORT_DOWN:"fas fa-sort-down",SORT:"fas fa-sort",EXPAND_ARROWS:"fas fa-expand",CLIPBOARD_LIST:"fas fa-clipboard-list",ADDRESS_BOOK:"far fa-address-book",USER_FRIENDS:"fas fa-user-friends",SORT_AMOUNT_DOWN:"fas fa-sort-amount-down",SORT_AMOUNT_UP:"fas fa-sort-amount-up",PDF_FILE:"fas fa-file-pdf",EYE:"fas fa-eye",EYE_SLASH:"fas fa-eye-slash",ORDER:"fas fa-clipboard-list",DOWNLOAD:"fas fa-download",FILE:"fas fa-file"},resources:[{type:On.LINK,url:"https://use.fontawesome.com/releases/v5.8.1/css/all.css"}]}};let Md=(()=>{class s{constructor(r,d,C){this.winRef=r,this.iconConfig=d,this.sanitizer=C,this.loadedResources=[]}getHtml(r){if(this.isResourceType(r,On.SVG)){const d=this.sanitizer.sanitize(e.q3G.URL,this.getSvgPath(r)||null);if(d){const C=this.winRef.document.createElement("use");C.setAttribute("xlink:href",d);const b=this.winRef.document.createElement("svg");return b.appendChild(C),this.sanitizer.bypassSecurityTrustHtml(b.outerHTML)}}if(this.isResourceType(r,On.TEXT)){const d=this.getSymbol(r);if(d){const C=this.winRef.document.createElement("div");return C.textContent=d,this.sanitizer.bypassSecurityTrustHtml(C.innerHTML)}}}getFlipDirection(r){return this.config?.flipDirection?.[r]}getStyleClasses(r){return this.getSymbol(r)||""}isResourceType(r,d){return void 0!==this.config?.resources&&!!this.config.resources.find(C=>C.types&&C.type===d&&C.types.includes(r))}getSvgPath(r){const d=this.config?.resources?.find(C=>C.type===On.SVG&&C.types&&C.types.includes(r));if(d)return d.url?`${d.url}#${this.getSymbol(r)}`:`#${this.getSymbol(r)}`}addLinkResource(r){const d=this.findResource(r,On.LINK);if(d?.url&&!this.loadedResources.includes(d.url)){this.loadedResources.push(d.url);const C=this.sanitizer.sanitize(e.q3G.URL,d.url);if(C){const b=this.winRef.document.getElementsByTagName("head")[0],re=this.winRef.document.createElement("link");re.rel="stylesheet",re.type="text/css",re.href=C,b.appendChild(re)}}}findResource(r,d){if(!this.config?.resources)return;let C=this.config.resources.find(b=>b.type===d&&b.types&&b.types.includes(r));return C||(C=this.config.resources.find(b=>b.type===d&&!b.types||b.types&&0===b.types.length)),C}getSymbol(r){if(this.config&&this.config.symbols&&this.config.symbols[r])return this.config.symbols[r]}get config(){return this.iconConfig.icon}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.X9E),e.LFG(oa),e.LFG(vt.H7))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Qi=(()=>{return(s=Qi||(Qi={})).LTR="ltr",s.RTL="rtl",Qi;var s})();let lo=(()=>{class s{constructor(r,d,C){this.iconLoader=r,this.elementRef=d,this.renderer=C}set cxIcon(r){this.setIcon(r)}set type(r){this.setIcon(r)}setIcon(r){!r||""===r||(this.icon=this.iconLoader.getHtml(r),this.addStyleClasses(r),this.iconLoader.addLinkResource(r),this.flipIcon(r))}flipIcon(r){if(!this.iconLoader.getFlipDirection)return;const d=this.iconLoader.getFlipDirection(r);this.flipAtLtr=d===Qi.LTR,this.flipAtRtl=d===Qi.RTL}addStyleClasses(r){this.renderer.addClass(this.host,"cx-icon"),this.styleClasses?.forEach(d=>this.renderer.removeClass(this.host,d)),this.styleClasses=this.iconLoader.getStyleClasses(r)?.split(" "),this.styleClasses?.forEach(d=>{""!==d&&this.renderer.addClass(this.host,d)})}get host(){return this.elementRef.nativeElement}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Md),e.Y36(e.SBq),e.Y36(e.Qsj))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-icon"],["","cxIcon",""]],hostVars:4,hostBindings:function(r,d){2&r&&e.ekj("flip-at-rtl",d.flipAtRtl)("flip-at-ltr",d.flipAtLtr)},inputs:{cxIcon:"cxIcon",type:"type"},ngContentSelectors:nr,decls:2,vars:1,consts:[[3,"outerHTML"]],template:function(r,d){1&r&&(e.F$t(),e._UZ(0,"i",0),e.Hsn(1)),2&r&&e.Q6J("outerHTML",d.icon,e.oJD)},encapsulation:2}),s})();const qp={icon:{flipDirection:{CARET_RIGHT:Qi.RTL,CARET_LEFT:Qi.RTL}}};let So=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(qp),(0,h.i51)(ia)],imports:[n.ez]}),s})(),po=(()=>{class s{constructor(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-spinner"]],decls:4,vars:3,consts:[["role","status",1,"loader-container"],[1,"loader"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))},dependencies:[h.X$D],encapsulation:2}),s})(),Og=(()=>{class s{constructor(){this.consentGiven=!1,this.requiredConsents=[],this.consentChanged=new e.vpe}ngOnInit(){this.consent?this.consentGiven=Boolean(this.consent.consentState===h.w3G.GIVEN):this.consentTemplate&&this.consentTemplate.currentConsent&&(this.consentTemplate.currentConsent.consentWithdrawnDate?this.consentGiven=!1:this.consentTemplate.currentConsent.consentGivenDate&&(this.consentGiven=!0))}onConsentChange(){this.consentGiven=!this.consentGiven,this.consentChanged.emit({given:this.consentGiven,template:this.consentTemplate})}isRequired(r){return!!r&&this.requiredConsents.includes(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-consent-management-form"]],inputs:{consentTemplate:"consentTemplate",requiredConsents:"requiredConsents",consent:"consent"},outputs:{consentChanged:"consentChanged"},decls:8,vars:4,consts:[[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label","cx-be-bold"],[1,"form-check-label"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0)(1,"label")(2,"input",1),e.NdJ("change",function(){return d.onConsentChange()}),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",3),e._uU(7),e.qZA()()()),2&r&&(e.xp6(2),e.Q6J("checked",d.consentGiven)("disabled",d.isRequired(null==d.consentTemplate?null:d.consentTemplate.id)),e.xp6(2),e.hij(" ",null==d.consentTemplate?null:d.consentTemplate.name," "),e.xp6(3),e.hij(" ",null==d.consentTemplate?null:d.consentTemplate.description," "))},encapsulation:2}),s})();const Hv={launch:{ANONYMOUS_CONSENT:{inlineRoot:!0,component:(()=>{class s{constructor(r,d,C,b){this.config=r,this.anonymousConsentsService=d,this.el=C,this.launchDialogService=b,this.role="dialog",this.modal=!0,this.subscriptions=new M.w,this.showLegalDescription=!0,this.iconTypes=lr,this.requiredConsents=[],this.focusConfig={trap:!0,block:!0,autofocus:'input[type="checkbox"]',focusOnEscape:!0},this.config.anonymousConsents&&(this.showLegalDescription=this.config.anonymousConsents.showLegalDescriptionInDialog,this.config.anonymousConsents.requiredConsents&&(this.requiredConsents=this.config.anonymousConsents.requiredConsents))}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.templates$=this.anonymousConsentsService.getTemplates(),this.consents$=this.anonymousConsentsService.getConsents(),this.loading$=this.anonymousConsentsService.getLoadTemplatesLoading()}close(r){this.launchDialogService.closeDialog(r)}rejectAll(){this.subscriptions.add((0,E.aj)([this.templates$,this.consents$]).pipe((0,Nt.q)(1),(0,Re.x)(),(0,rt.b)(([r,d])=>r.forEach(C=>{const b=this.getCorrespondingConsent(C,d);if(b&&this.anonymousConsentsService.isConsentGiven(b)){if(this.isRequiredConsent(C))return;C.id&&this.anonymousConsentsService.withdrawConsent(C.id)}}))).subscribe()),this.close("rejectAll")}allowAll(){this.subscriptions.add((0,E.aj)([this.templates$,this.consents$]).pipe((0,Nt.q)(1),(0,Re.x)(),(0,rt.b)(([r,d])=>r.forEach(C=>{const b=this.getCorrespondingConsent(C,d);if(b&&(null==b.consentState||this.anonymousConsentsService.isConsentWithdrawn(b))){if(this.isRequiredConsent(C))return;C.id&&this.anonymousConsentsService.giveConsent(C.id)}}))).subscribe()),this.close("allowAll")}isRequiredConsent(r){return Boolean(r.id&&this.config.anonymousConsents?.requiredConsents&&this.config.anonymousConsents.requiredConsents.includes(r.id))}onConsentChange({given:r,template:d}){d.id&&(r?this.anonymousConsentsService.giveConsent(d.id):this.anonymousConsentsService.withdrawConsent(d.id))}getCorrespondingConsent(r,d=[]){for(const C of d)if(r.id===C.templateCode)return C;return null}ngOnDestroy(){this.subscriptions.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(e.SBq),e.Y36(Ti))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-anonymous-consent-dialog"]],hostVars:2,hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)}),2&r&&e.uIk("role",d.role)("aria-modal",d.modal)},decls:6,vars:5,consts:[[1,"cx-anonymous-consent-dialog",3,"cxFocus","esc"],[1,"cx-dialog-content"],[4,"ngIf","ngIfElse"],["dialogBody",""],["role","status"],[1,"cx-dialog-header"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["class","cx-dialog-description",4,"ngIf"],[1,"cx-dialog-buttons"],["tabindex","0",1,"btn-link","cx-action-link",3,"click"],["class","cx-dialog-body",4,"ngIf"],[1,"cx-dialog-description"],[1,"cx-dialog-separator","col-sm-12","d-xs-block","d-sm-block","d-md-none"],[1,"cx-dialog-body"],[4,"ngIf"],["class","cx-dialog-row col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"cx-dialog-row","col-sm-12","col-md-6"],[3,"consentTemplate","requiredConsents","consent","consentChanged"]],template:function(r,d){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return d.close("Escape clicked")}),e.TgZ(1,"div",1),e.YNc(2,sr,2,0,"div",2),e.ALo(3,"async"),e.YNc(4,Br,20,20,"ng-template",null,3,e.W1O),e.qZA()()),2&r){const C=e.MAs(5);e.Q6J("cxFocus",d.focusConfig),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,d.loading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,lo,po,Og,ko,n.Ov,h.X$D],encapsulation:2}),s})(),dialogType:Ko.DIALOG}}};let $v=(()=>{class s{constructor(r,d){this.vcr=r,this.launchDialogService=d}openDialog(){const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",this.openElement,this.vcr);r&&r.pipe((0,Nt.q)(1)).subscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.s_b),e.Y36(Ti))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-anonymous-consent-open-dialog"]],viewQuery:function(r,d){if(1&r&&e.Gf(Tr,5),2&r){let C;e.iGM(C=e.CRH())&&(d.openElement=C.first)}},decls:4,vars:3,consts:[[1,"btn","btn-link",3,"click"],["open",""]],template:function(r,d){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return d.openDialog()}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"anonymousConsents.preferences"),"\n"))},dependencies:[h.X$D],encapsulation:2}),s})(),jv=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Hv),(0,h.i51)({cmsComponents:{AnonymousConsentManagementBannerComponent:{component:bd,deferLoading:h.cXr.INSTANT},AnonymousConsentOpenDialogComponent:{component:$v}}})],imports:[n.ez,h.LUR,h.GSh,Ci]}),s})();const Bs=new e.OlP("PageLayoutHandler");let yi=(()=>{class s{constructor(r,d,C){this.winRef=r,this.layoutConfig=d,this.platform=C,this.breakpoint$=(0,n.NF)(this.platform)?this.winRef.resize$.pipe((0,Ie.U)(b=>this.getBreakpoint(b.target.innerWidth)),(0,Re.x)()):(0,R.of)(this.fallbackBreakpoint)}get breakpoints(){return this._breakpoints||(this._breakpoints=this.resolveBreakpointsFromConfig()),this._breakpoints}getSize(r){return this.getMaxSize(r)??this.getMinSize(this.breakpoints?.[this.breakpoints.indexOf(r)+1])}isDown(r){return this.breakpoint$.pipe((0,Ie.U)(d=>this.breakpoints.slice(0,this.breakpoints.indexOf(r)+1).includes(d)))}isUp(r){return this.breakpoint$.pipe((0,Ie.U)(d=>this.breakpoints.slice(this.breakpoints.indexOf(r)).includes(d)))}isEqual(r){return this.breakpoint$.pipe((0,Ie.U)(d=>d===r))}get fallbackBreakpoint(){return this.breakpoints?.[0]}resolveBreakpointsFromConfig(){return Object.keys(this.config).sort((d,C)=>{const b=this.getMinSize(d),re=Math.max(b?b+1:0,this.getMaxSize(d)||0),et=this.getMinSize(C);return re<Math.max(et?et+1:0,this.getMaxSize(C)||0)?-1:0})}getMaxSize(r){const d=this.config[r];return d?"number"==typeof d?d:d.max?d.max:null:null}getMinSize(r){return this.config[r]?.min??null}getBreakpoint(r){return this.breakpoints.find(d=>{const C=this.getSize(d);return null!==C&&r<C})??this.breakpoints?.[this.breakpoints.length-1]}get config(){return this.layoutConfig?.breakpoints||{}}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.X9E),e.LFG(Ha),e.LFG(e.Lbi))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$a=(()=>{class s{constructor(r,d,C,b){this.cms=r,this.config=d,this.breakpointService=C,this.unifiedInjector=b,this.subscription=new M.w,this.warnLogMessages={},this.logSlots={},this.subscription.add(this.unifiedInjector.getMulti(Bs).subscribe(re=>this.handlers=re))}getSlots(r){return(0,E.aj)([this.page$,this.breakpointService.breakpoint$]).pipe((0,Ie.U)(([d,C])=>{const b=d.template;return{slots:this.resolveSlots(d,r,C),pageTemplate:b,breakpoint:C}}),(0,fe.w)(({slots:d,pageTemplate:C,breakpoint:b})=>{let re=(0,R.of)(d);for(const et of this.handlers||[])re=et.handle(re,C,r,b);return re}),(0,Re.x)((d,C)=>{if(d.length!==C.length)return!1;for(let b=0;b<d.length;b++)if(d[b]!==C[b])return!1;return!0}))}getPageFoldSlot(r){return this.breakpointService.breakpoint$.pipe((0,Ie.U)(d=>{if(!this.config.layoutSlots)return;const b=this.getResponsiveSlotConfig(this.config.layoutSlots[r],"pageFold",d);return b?b.pageFold:void 0}))}resolveSlots(r,d,C){const b=this.getSlotConfig(r.template??"","slots",d,C);if(b&&b.slots){const re=r.slots?Object.keys(r.slots):[];return b.slots.filter(et=>re.includes(et))}return d?(this.logMissingLayoutConfig(r,d),[]):(this.logMissingLayoutConfig(r),r.slots?Object.keys(r.slots):[])}get page$(){return this.cms.getCurrentPage().pipe((0,Ke.h)(r=>!!r))}get templateName$(){return this.page$.pipe((0,Ie.U)(r=>r.template),(0,Ke.h)(h.pTN))}getSlotConfig(r,d,C,b){if(!this.config.layoutSlots)return;const re=this.config.layoutSlots[r];return C?this.getSlotConfigForSection(r,d,C,b):re?this.getResponsiveSlotConfig(re,d,b):void 0}getSlotConfigForSection(r,d,C,b){const re=this.config.layoutSlots?.[r];if(!re||!C)return;const et=re[C]?re[C]:this.config.layoutSlots?.[C];if(!et)return;const Bt=this.getResponsiveSlotConfig(et,d,b);return Bt.hasOwnProperty(d)?Bt:re[C].hasOwnProperty(d)?re[C]:this.config.layoutSlots?.[C]?this.config.layoutSlots[C]:void 0}getResponsiveSlotConfig(r,d,C){let b=r;if(!r||!C)return b;if(r[C]&&r[C].hasOwnProperty(d))return r[C];const re=this.breakpointService.breakpoints;for(const et of re.slice(0,re.indexOf(C)))r[et]&&r[et].hasOwnProperty(d)&&(b=r[et]);return b}logMissingLayoutConfig(r,d){if(!(0,e.X6Q)())return;r.template&&!this.logSlots[r.template]&&(console.info(`Available CMS page slots: '${(r.slots?Object.keys(r.slots):[]).join("','")}'`),this.logSlots[r.template]=!0);const C=d||r.template;C&&!this.warnLogMessages[C]&&(console.warn(`No layout config found for ${C}, you can configure a 'LayoutConfig' to control the rendering of page slots.`),this.warnLogMessages[C]=!0)}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.ctt),e.LFG(Ha),e.LFG(yi),e.LFG(h.W5u))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ef=(()=>{class s{constructor(r,d){this.configInitializer=r,this.featureModules=d,this.componentFeatureMap=new Map,this.featureInstances=new Map,this.initFeatureMap()}initFeatureMap(){this.configInitializer.getStable("featureModules").subscribe(r=>{this.featureModulesConfig=r.featureModules??{};for(const[d,C]of Object.entries(this.featureModulesConfig))if("string"!=typeof C&&C?.module&&C?.cmsComponents?.length)for(const b of C.cmsComponents)this.componentFeatureMap.set(b,d)})}hasFeatureFor(r){return this.componentFeatureMap.has(r)}getCmsMapping(r){const d=this.componentFeatureMap.get(r);return d?this.resolveFeatureInstance(d).pipe((0,Ie.U)(C=>C.componentsMappings?.[r])):(0,R.of)(void 0)}getModule(r){const d=this.componentFeatureMap.get(r);if(!d)return;let C;return this.featureInstances.get(d)?.subscribe(b=>{C=b.moduleRef}).unsubscribe(),C}resolveFeatureInstance(r){return(0,H.P)(()=>(this.featureInstances.has(r)||this.featureInstances.set(r,this.featureModules.resolveFeature(r).pipe((0,Ie.U)(d=>this.createFeatureInstance(d,r)),(0,ie.d)())),this.featureInstances.get(r)))}createFeatureInstance(r,d){const C=this.featureModulesConfig[d],b={moduleRef:r,componentsMappings:{}},re=this.resolveFeatureConfiguration(r.injector);for(const et of C.cmsComponents??[])b.componentsMappings[et]=re.cmsComponents?.[et]??{};return b}resolveFeatureConfiguration(r){const d=r.get(h.XZr,[],e.XFs.Self),C=r.get(h.Mvl,[],e.XFs.Self);return(0,h.RH2)({},...C??[],...d??[])}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.yUt),e.LFG(h.q2V))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),hs=(()=>{class s{constructor(r,d,C,b){this.config=r,this.platformId=d,this.featureModules=C,this.configInitializer=b,this.missingComponents=[],this.mappings={},this.mappingResolvers=new Map,this.configInitializer.getStable("cmsComponents").subscribe(re=>{this.staticCmsConfig={...re.cmsComponents}})}determineMappings(r){return(0,H.P)(()=>{const d=[];for(const C of r)if(!this.mappings[C]){const b=(this.staticCmsConfig??this.config.cmsComponents)?.[C];this.featureModules.hasFeatureFor(C)?d.push(this.getFeatureMappingResolver(C,b)):b&&(this.mappings[C]=b)}return d.length?(0,G.D)(d).pipe((0,ne.h)(r)):(0,R.of)(r)})}getFeatureMappingResolver(r,d){if(!this.mappingResolvers.has(r)){const C=this.featureModules.getCmsMapping(r).pipe((0,Ke.h)(h.pTN),(0,rt.b)(b=>{this.mappings[r]=(0,h.RH2)({},b,d),this.mappingResolvers.delete(r)}),(0,Ve.B)());this.mappingResolvers.set(r,C)}return this.mappingResolvers.get(r)}getModule(r){if(this.featureModules.hasFeatureFor(r))return this.featureModules.getModule(r)}getMapping(r){const d=this.mappings[r]??(this.staticCmsConfig??this.config.cmsComponents)?.[r];return(0,e.X6Q)()&&!d&&(this.missingComponents.includes(r)||(this.missingComponents.push(r),console.warn(`No component implementation found for the CMS component type '${r}'.\n`,"Make sure you implement a component and register it in the mapper."))),d}shouldRender(r){return!((0,n.PM)(this.platformId)&&this.getMapping(r)?.disableSSR)}getDeferLoadingStrategy(r){return(this.staticCmsConfig??this.config.cmsComponents)?.[r]?.deferLoading}getChildRoutes(r){const d=[];for(const C of r)this.shouldRender(C)&&d.push(this.getMapping(C)?.childRoutes??[]);return this.standardizeChildRoutes(d)}getStaticData(r){return this.getMapping(r)?.data}standardizeChildRoutes(r){const d={children:[]};return(r||[]).forEach(C=>{Array.isArray(C)?d.children?.push(...C):(d.children?.push(...C.children||[]),C.parent&&(d.parent=C.parent))}),d}getGuards(r){const d=new Set;for(const C of r)this.getMapping(C)?.guards?.forEach(b=>d.add(b));return Array.from(d)}getI18nKeys(r){const d=new Set;for(const C of r)this.shouldRender(C)&&this.getMapping(C)?.i18nKeys?.forEach(b=>d.add(b));return Array.from(d)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.Dcy),e.LFG(e.Lbi),e.LFG(ef),e.LFG(h.yUt))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),sa=(()=>{class s{constructor(r,d,C){this.cmsComponentsService=r,this.platformId=d,this.document=C,this.resolvePrerenderedSlots()}resolvePrerenderedSlots(){(0,n.NF)(this.platformId)&&(this.prerenderedSlots=Array.from(this.document.querySelectorAll("cx-page-slot")).filter(r=>r.getBoundingClientRect().top<this.document.documentElement.clientHeight).map(r=>r.getAttribute("position")))}shouldNotDefer(r){return!!this.prerenderedSlots?.includes(r)&&(this.prerenderedSlots.splice(this.prerenderedSlots.indexOf(r),1),!0)}getComponentDeferOptions(r,d){return r&&this.shouldNotDefer(r)?{deferLoading:h.cXr.INSTANT}:{deferLoading:this.cmsComponentsService.getDeferLoadingStrategy(d)}}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(hs),e.LFG(e.Lbi),e.LFG(n.K0))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Hr extends h.W8x{}let wd=(()=>{class s extends Hr{}return s.type="ComponentCreate",s})(),tf=(()=>{class s extends Hr{}return s.type="ComponentDestroy",s})();class yr{}let Rc=(()=>{class s{constructor(r){this.handlers=r,this.invalidMappings=new Set}resolve(r){const d=(0,h.ARM)(this.handlers,[r]);return(0,e.X6Q)()&&!d&&(this.invalidMappings.has(r)||(this.invalidMappings.add(r),console.warn("Can't resolve handler for component mapping: ",r))),d}getLauncher(r,d,C,b){return this.resolve(r)?.launcher(r,d,C,b)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(yr,8))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class fo{}let nf=(()=>{class s{constructor(r,d){this.componentsService=r,this.cmsService=d}get(r,d){return(0,H.P)(()=>{let C;return d&&(C=this.componentsService.getStaticData(d)),r?C?this.cmsService.getComponentData(r).pipe((0,Ie.U)(b=>({...C,...b})),(0,_e.O)(C)):this.cmsService.getComponentData(r):C?(0,R.of)(C):z.E})}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(hs),e.LFG(h.ctt))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rf=(()=>{class s{constructor(r,d){this.cmsComponentsService=r,this.injector=d}getInjector(r,d,C){const b=this.cmsComponentsService.getMapping(r)?.providers??[];return e.zs3.create({providers:[{provide:fo,useFactory:re=>({uid:d,data$:re.get(d,r)}),deps:[nf]},...b],parent:C??this.injector})}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(hs),e.LFG(e.zs3))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),aa=(()=>{class s{constructor(r,d,C,b,re,et,Bt,an){this.vcr=r,this.cmsComponentsService=d,this.injector=C,this.dynamicAttributeService=b,this.renderer=re,this.componentHandler=et,this.cmsInjector=Bt,this.eventService=an,this.cxComponentRef=new e.vpe}ngOnInit(){this.cmsComponentsService.determineMappings([this.cxComponentWrapper.flexType??""]).subscribe(()=>{this.cmsComponentsService.shouldRender(this.cxComponentWrapper.flexType??"")&&this.launchComponent()})}launchComponent(){const r=this.cmsComponentsService.getMapping(this.cxComponentWrapper.flexType??"");!r||(this.launcherResource=this.componentHandler.getLauncher(r,this.vcr,this.cmsInjector.getInjector(this.cxComponentWrapper.flexType??"",this.cxComponentWrapper.uid??"",this.injector),this.cmsComponentsService.getModule(this.cxComponentWrapper.flexType??""))?.pipe((0,Ke.h)(h.pTN),(0,rt.b)(({elementRef:d,componentRef:C})=>{this.cmpRef=C,this.cxComponentRef.emit(C),this.dispatchEvent(wd,d),this.decorate(d),this.injector.get(e.sBO).markForCheck()}),(0,Ue.x)(()=>this.dispatchEvent(tf))).subscribe())}dispatchEvent(r,d){const C={typeCode:this.cxComponentWrapper.typeCode,id:this.cxComponentWrapper.uid};r===wd&&(C.host=d?.nativeElement),this.eventService.dispatch(C,r)}decorate(r){this.dynamicAttributeService.addAttributesToComponent(r.nativeElement,this.renderer,this.cxComponentWrapper)}ngOnDestroy(){this.launcherResource&&this.launcherResource.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.s_b),e.Y36(hs),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Rc),e.Y36(rf),e.Y36(h.POd))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxComponentWrapper",""]],inputs:{cxComponentWrapper:"cxComponentWrapper"},outputs:{cxComponentRef:"cxComponentRef"}}),s})(),_l=(()=>{class s{constructor(r,d,C,b,re,et){this.cmsService=r,this.dynamicAttributeService=d,this.renderer=C,this.elementRef=b,this.cd=re,this.pageSlotService=et,this.isPageFold=!1,this.isPending=!0,this.hasComponents=!1,this.position$=new P.X(void 0),this.slot$=this.position$.pipe((0,Ke.h)(h.pTN),(0,fe.w)(Bt=>this.cmsService.getContentSlot(Bt)),(0,Re.x)(this.isDistinct)),this.components$=this.slot$.pipe((0,Ie.U)(Bt=>Bt?.components??[])),this.subscription=new M.w,this.pendingComponentCount=0}set position(r){this.position$.next(r)}get position(){return this.position$.value}ngOnInit(){this.subscription.add(this.slot$.pipe((0,rt.b)(r=>this.decorate(r))).subscribe(r=>{this.components=r?.components||[],this.cd.markForCheck()}))}decorate(r){let d=this.class||"";this.lastPosition&&d.indexOf(this.lastPosition)>-1&&(d=d.replace(this.lastPosition,"")),this.position$.value&&(d+=` ${this.position$.value}`,this.lastPosition=this.position$.value),this.pending=r?.components?.length||0,this.hasComponents=!!r?.components&&r?.components?.length>0,d&&d!==this.class&&(this.class=d),r&&this.dynamicAttributeService.addAttributesToSlot(this.elementRef.nativeElement,this.renderer,r)}set pending(r){this.pendingComponentCount=r,this.isPending=this.pendingComponentCount>0}get pending(){return this.pendingComponentCount}isLoaded(r){r&&(this.pending--,this.cd.markForCheck())}getComponentDeferOptions(r){return this.pageSlotService.getComponentDeferOptions(this.position,r)}isDistinct(r,d){return Boolean(d.components&&r.components&&r.components.length===d.components.length&&!r.components.find((C,b)=>C.uid!==d.components?.[b].uid))}ngOnDestroy(){this.subscription?.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.ctt),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(sa))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-page-slot"],["","cx-page-slot",""]],hostVars:9,hostBindings:function(r,d){2&r&&(e.uIk("position",d.position),e.Tol(d.class),e.ekj("page-fold",d.isPageFold)("cx-pending",d.isPending)("has-components",d.hasComponents))},inputs:{position:"position",class:"class",isPageFold:"isPageFold",hasComponents:"hasComponents"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext","cxOutletDefer","loaded"],[3,"cxComponentWrapper"]],template:function(r,d){1&r&&e.YNc(0,Mn,1,4,null,0),2&r&&e.Q6J("ngIf",d.position)},dependencies:[n.sg,n.O5,fs,aa],encapsulation:2,changeDetection:0}),s})(),QC=(()=>{class s{constructor(r,d,C,b){this.pageLayoutService=r,this.elementRef=d,this.templateRef=C,this.cd=b,this.subscription=new M.w}set setTemplate(r){r&&""!==r?(this.useTemplateFromInput=!0,this.addStyleClass(r)):this.useTemplateFromInput&&this.clear()}ngOnInit(){this.useTemplateFromInput||this.subscription.add(this.pageLayoutService.templateName$.subscribe(r=>this.addStyleClass(r)))}addStyleClass(r,d){this.clear(d),r&&(this.currentTemplate=r,(d??this.host).classList.add(this.currentTemplate),this.cd.markForCheck())}clear(r){this.currentTemplate&&((r??this.host).classList?.remove(this.currentTemplate),this.cd.markForCheck())}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36($a),e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(e.sBO))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxPageTemplateStyle",""]],inputs:{setTemplate:["cxPageTemplateStyle","setTemplate"]}}),s})(),ki=(()=>{class s{constructor(r){this.pageLayoutService=r,this.section$=new P.X(void 0),this.templateName$=this.pageLayoutService.templateName$,this.layoutName$=this.section$.pipe((0,fe.w)(d=>d?(0,R.of)(d):this.templateName$)),this.slots$=this.section$.pipe((0,fe.w)(d=>this.pageLayoutService.getSlots(d))),this.pageFoldSlot$=this.templateName$.pipe((0,fe.w)(d=>this.pageLayoutService.getPageFoldSlot(d)),(0,Re.x)())}set section(r){this.section$.next(r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36($a))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-page-layout"]],inputs:{section:"section"},ngContentSelectors:nr,decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxPageTemplateStyle","cxOutlet","cxOutletContext"],[3,"position","isPageFold",4,"ngFor","ngForOf"],[3,"position","isPageFold"]],template:function(r,d){1&r&&(e.F$t(),e.YNc(0,mo,1,7,null,0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.layoutName$))},dependencies:[n.sg,n.O5,fs,_l,QC,n.Ov],encapsulation:2,changeDetection:0}),s})(),Su=(()=>{class s{constructor(r,d){this.router=r,this.cmsComponentsService=d}cmsRouteExists(r){const d=r.startsWith("/");if(!d)return!1;const C=r.substr(1);return d&&!!this.router.config.find(b=>b.data&&b.data.cxCmsRouteContext&&b.path===C)}handleCmsRoutesInGuard(r,d,C,b){if(this.cmsRouteExists(b))return!0;const re=this.cmsComponentsService.getChildRoutes(d);return!re?.children?.length||!this.updateRouting(r,b,re)||(this.router.navigateByUrl(C),!1)}updateRouting(r,d,C){if(r.type===h.GV4.CONTENT_PAGE&&d.startsWith("/")&&d.length>1){const b={path:d.substr(1),component:ki,children:C.children,data:(0,h.RH2)({},C?.parent?.data??{},{cxCmsRouteContext:{type:r.type,id:d}})};return this.router.resetConfig([b,...this.router.config]),!0}return!1}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Ze.F0),e.LFG(hs))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Cl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(Su),d},providedIn:"root"}),s})(),Rd=(()=>{class s{constructor(r,d,C){this.cmsComponentsService=r,this.translation=d,this.translationChunk=C}loadForComponents(r){const d=this.cmsComponentsService.getI18nKeys(r),C=new Set;for(const b of d)C.add(this.translationChunk.getChunkNameForKey(b));this.translation.loadChunks(Array.from(C))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(hs),e.LFG(h.D7D),e.LFG(h.Wml))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),sf=(()=>{class s{constructor(r,d){this.cmsComponentsService=r,this.unifiedInjector=d}cmsPageCanActivate(r,d,C){const b=this.cmsComponentsService.getGuards(r);if(b.length){const re=b.map(et=>{const Bt=(0,h.P51)(this.unifiedInjector.get(et));if(function af(s){return s&&function Lg(s){return"function"==typeof s}(s.canActivate)}(Bt))return function Zv(s){return(0,ee.b)(s)?s:function Pc(s){return!!s&&"function"==typeof s.then}(s)?(0,ue.D)(Promise.resolve(s)):(0,R.of)(s)}(Bt.canActivate(d,C)).pipe((0,Fe.P)());throw new Error("Invalid CanActivate guard in cmsMapping")});return(0,q.z)(...re).pipe((0,Ee.n)(et=>!0===et),function Ot(...s){return _=>(0,q.z)(_,(0,R.of)(...s))}(!0),(0,Fe.P)())}return(0,R.of)(!0)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(hs),e.LFG(h.W5u))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),cf=(()=>{class s{constructor(r,d,C,b,re,et,Bt){this.semanticPathService=r,this.cmsService=d,this.cmsRoutes=C,this.cmsI18n=b,this.cmsGuards=re,this.cmsComponentsService=et,this.routing=Bt}canActivatePage(r,d,C,b){return this.cmsService.getPageComponentTypes(r).pipe((0,Nt.q)(1),(0,fe.w)(re=>this.cmsComponentsService.determineMappings(re)),(0,fe.w)(re=>this.cmsGuards.cmsPageCanActivate(re,C,b).pipe((0,Ft.M)((0,R.of)(re)))),(0,rt.b)(([re,et])=>{!0===re&&this.cmsI18n.loadForComponents(et)}),(0,Ie.U)(([re,et])=>!0!==re||C?.data?.cxCmsRouteContext?re:this.cmsRoutes.handleCmsRoutesInGuard(r,et,b.url,d.label||r.id)))}canActivateNotFoundPage(r,d,C){const b=this.semanticPathService.get("notFound");if(!b)return(0,R.of)(!1);const re={type:h.GV4.CONTENT_PAGE,id:b};return this.cmsService.getPage(re).pipe((0,fe.w)(et=>et?this.cmsService.getPageIndex(re).pipe((0,rt.b)(Bt=>{this.cmsService.setPageFailIndex(r,Bt),this.routing.changeNextPageContext(re)}),(0,fe.w)(Bt=>this.cmsService.getPageIndex(r).pipe((0,Ke.h)(an=>an===Bt))),(0,fe.w)(()=>this.canActivatePage(r,et,d,C))):(0,R.of)(!1)))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.hCH),e.LFG(h.ctt),e.LFG(Cl),e.LFG(Rd),e.LFG(sf),e.LFG(hs),e.LFG(h.Znh))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Gs=(()=>{class s{constructor(r,d,C,b,re){this.routingService=r,this.cmsService=d,this.protectedRoutesGuard=C,this.service=b,this.routingConfig=re}canActivate(r,d){return this.protectedRoutesGuard.canActivate(r).pipe((0,fe.w)(C=>!0===C?this.routingService.getNextPageContext().pipe((0,Ke.h)(h.pTN),(0,Nt.q)(1),(0,fe.w)(b=>this.cmsService.getPage(b,this.shouldReload()).pipe((0,Fe.P)(),(0,fe.w)(re=>re?this.service.canActivatePage(b,re,r,d):this.service.canActivateNotFoundPage(b,r,d))))):(0,R.of)(C)))}shouldReload(){return"once"!==this.routingConfig.getLoadStrategy()}}return s.guardName="CmsPageGuard",s.\u0275fac=function(r){return new(r||s)(e.LFG(h.Znh),e.LFG(h.ctt),e.LFG(h.Fa4),e.LFG(cf),e.LFG(h.gGW))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Fg=(()=>{class s{hasMatch(r){return"function"==typeof r.component}getPriority(){return-50}launcher(r,d,C,b){return new V.y(re=>{let et;const Bt=C??d.injector,Zn=this.getComponentFactory(Bt,r.component);return Zn&&(et=d.createComponent(Zn,void 0,Bt,void 0,b),re.next({elementRef:et.location,componentRef:et})),()=>{et&&et.destroy()}})}getComponentFactory(r,d){return d?r.get(e._Vd).resolveComponentFactory(d):null}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),uf=(()=>{class s{constructor(r){this.defaultHandler=r}hasMatch(r){return"function"==typeof r.component&&this.isNotClass(r.component)}isNotClass(r){const d=r.toString().substr(0,20).replace(" ","");return d.startsWith("function()")||d.startsWith("()=>")}getPriority(){return-10}launcher(r,d,C,b){return(0,ue.D)(r.component()).pipe((0,fe.w)(re=>this.defaultHandler.launcher({...r,component:re},d,C,b)))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Fg))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),yl=(()=>{class s{constructor(r,d,C,b,re,et,Bt,an,Zn){this.data=r,this.vcr=d,this.cmsComponentsService=C,this.injector=b,this.dynamicAttributeService=re,this.renderer=et,this.componentHandler=Bt,this.cmsInjector=an,this.eventService=Zn,this.innerComponents$=this.data.data$.pipe((0,Ie.U)(si=>si?.composition?.inner??[]),(0,Re.x)()),this.componentWrappers=[]}ngOnInit(){this.subscription=this.innerComponents$.subscribe(r=>{this.renderComponents(r)})}renderComponents(r){this.clearComponents(),r.forEach(d=>this.renderComponent(d))}renderComponent(r){const d=new aa(this.vcr,this.cmsComponentsService,this.injector,this.dynamicAttributeService,this.renderer,this.componentHandler,this.cmsInjector,this.eventService);d.cxComponentWrapper={flexType:r,uid:""},d.ngOnInit(),this.componentWrappers.push(d)}clearComponents(){this.componentWrappers.forEach(r=>r.ngOnDestroy()),this.componentWrappers=[]}ngOnDestroy(){this.subscription?.unsubscribe(),this.clearComponents()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(e.s_b),e.Y36(hs),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Rc),e.Y36(rf),e.Y36(h.POd))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxInnerComponentsHost",""]]}),s})(),ca=(()=>{class s{static forRoot(){return{ngModule:s,providers:[{provide:yr,useExisting:Fg,multi:!0},{provide:yr,useExisting:uf,multi:!0}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})(),gs=(()=>{class s{constructor(r){}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(sa))},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ki,ca]}),s})(),Pd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ki,gs]}),s})(),Sl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})();const Od={pwa:{enabled:!1,addToHomeScreen:!1}};let lf=(()=>{class s{constructor(r,d,C){this.config=r,this.globalMessageService=d,this.winRef=C,this.canPrompt=new P.X(!1),this.canPrompt$=this.canPrompt.asObservable(),this.config.pwa?.addToHomeScreen&&this.init()}init(){this.winRef.nativeWindow&&(this.winRef.nativeWindow.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredEvent=r,this.enableAddToHomeScreen()}),this.winRef.nativeWindow.addEventListener("appinstalled",()=>{this.globalMessageService.add({key:"pwa.addedToHomeScreen"},h.xUg.MSG_TYPE_CONFIRMATION),this.disableAddToHomeScreen(),this.deferredEvent=null}))}enableAddToHomeScreen(){this.canPrompt.next(!0)}disableAddToHomeScreen(){this.canPrompt.next(!1)}firePrompt(){this.deferredEvent&&this.deferredEvent.prompt()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Sl),e.LFG(h.IWp),e.LFG(h.X9E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),El=(()=>{class s{constructor(r){this.addToHomeScreenService=r}ngOnInit(){this.canPrompt$=this.addToHomeScreenService.canPrompt$}prompt(){this.addToHomeScreenService.firePrompt()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(lf))},s.\u0275dir=e.lG2({type:s}),s})(),Al=(()=>{class s extends El{constructor(r){super(r),this.addToHomeScreenService=r}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(lf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-add-to-home-screen-banner"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-add-to-home-screen-banner"],[1,"cx-add-to-home-screen-banner-inner"],[1,"btn","btn-primary",3,"click"]],template:function(r,d){1&r&&(e.YNc(0,xr,16,12,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.canPrompt$))},dependencies:[n.O5,n.Ov,h.X$D],encapsulation:2}),s})();function df(s){return{enabled:!(0,e.X6Q)()&&s.pwa?.enabled||!1}}function Ld(s){return()=>s}let pf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Od),{provide:$t.JB,useFactory:df,deps:[h.DeH]},{provide:e.ip1,useFactory:Ld,deps:[lf],multi:!0}],imports:[n.ez,$t.Wr.register("ngsw-worker.js"),h.LUR]}),s})();const Xn={path:"**",canActivate:[Gs],component:ki};function kg(s){return()=>{s.get(Ze.F0).config.push(Xn)}}let ua=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:kg}]}),s})();const Za={routing:{routes:{home:{paths:[""]},notFound:{paths:["not-found"]},login:{paths:["login"],protected:!1,authFlow:!0},register:{paths:["login/register"],protected:!1,authFlow:!0},forgotPassword:{paths:["login/forgot-password"],protected:!1,authFlow:!0},resetPassword:{paths:["login/pw/change"],protected:!1,authFlow:!0},logout:{paths:["logout"],protected:!1,authFlow:!0},search:{paths:["search/:query"]},category:{paths:["category/:categoryCode"],paramsMapping:{categoryCode:"code"}},brand:{paths:["Brands/:brandName/c/:brandCode"]},product:{paths:["product/:productCode/:name"],paramsMapping:{productCode:"code"}},termsAndConditions:{paths:["terms-and-conditions"]},coupons:{paths:["my-account/coupons"]},couponClaim:{paths:["my-account/coupon/claim/:couponCode"],paramsMapping:{couponCode:"code"}},myInterests:{paths:["my-account/my-interests"]},notificationPreference:{paths:["my-account/notification-preference"]}}}};let Eu=(()=>{class s{static forRoot(){return{ngModule:s,providers:[(0,h.i51)(Za)]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.TSP.forRoot(),ua]}),s})();function Ng({marker:s,paramName:_,precedingParamName:r}){r=r||"param";const d=function(b){const re=function Fd(s,_){for(let r=s.length-1;r>=0;r--)if(_(s[r]))return r;return-1}(b,({path:Zn})=>Zn===s);if(-1===re||re===b.length-1)return null;const Bt=re+1,an={[_]:b[Bt]};for(let Zn=0;Zn<re;Zn++)an[`${r}${Zn}`]=b[Zn];return{consumed:b.slice(0,Bt+1),posParams:an}};return(0,e.X6Q)()&&(d._suffixRouteConfig={marker:s,paramName:_,precedingParamName:r}),d}let Yv=(()=>{class s{constructor(r,d){this.winRef=r,this.rendererFactory=d}setCanonicalLink(r){let d=this.winRef.document.querySelector('link[rel="canonical"]');r?d?d?.setAttribute("href",r):(d=this.renderer.createElement("link"),d.rel="canonical",d.href=r,this.renderer.appendChild(this.winRef.document.head,d)):d?.remove()}get renderer(){return this.rendererFactory.createRenderer(null,null)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.X9E),e.LFG(e.FYo))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),la=(()=>{class s{constructor(r,d,C,b){this.ngTitle=r,this.ngMeta=d,this.pageMetaService=C,this.pageMetaLinkService=b}init(){this.subscription=this.pageMetaService.getMeta().pipe((0,Ke.h)(h.jWE)).subscribe(r=>this.meta=r)}set meta(r){this.title=r.title,this.description=r.description,this.image=r.image,this.robots=r.robots,this.canonicalUrl=r.canonicalUrl}set title(r){this.ngTitle.setTitle(r||"")}set description(r){r?this.addTag({name:"description",content:r||""}):this.ngMeta.removeTag('name="description"')}set image(r){r?this.addTag({name:"og:image",content:r}):this.ngMeta.removeTag('name="og:image"')}set robots(r){r&&r.length>0&&this.addTag({name:"robots",content:r.join(", ")})}set canonicalUrl(r){this.pageMetaLinkService?.setCanonicalLink(r)}addTag(r){r.content&&this.ngMeta.updateTag(r)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(vt.Dx),e.LFG(vt.h_),e.LFG(h.deh),e.LFG(Yv))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Lc={seo:{structuredData:{disableInDevMode:!0}}};let Au=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})();const Dl={provide:e.ip1,multi:!0,useFactory:function Du(s,_){return()=>{_.getActive().subscribe(d=>{s.document.documentElement.lang=d.replace(/_/g,"-")})}},deps:[h.X9E,h.TSl]};let da=(()=>{class s{constructor(r,d,C,b){this.platformId=r,this.winRef=d,this.rendererFactory=C,this.config=b,this.renderer=this.rendererFactory.createRenderer(null,null)}build(r){r&&this.isJsonLdRequired()&&(this.getJsonLdScriptElement().textContent=this.escapeHtml(r))}isJsonLdRequired(){return!(0,n.NF)(this.platformId)||(0,e.X6Q)()&&!this.config.seo?.structuredData?.disableInDevMode}getJsonLdScriptElement(){const r="json-ld";let d=this.winRef.document.getElementById(r);if(!d){const C=this.renderer.createElement("script");C.id=r,C.type="application/ld+json",this.renderer.appendChild(this.winRef.document.body,C),d=C}return d}escapeHtml(r){const d=this.renderer.createElement("div");return d.textContent=JSON.stringify(r),d.innerHTML}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(e.Lbi),e.LFG(h.X9E),e.LFG(e.FYo),e.LFG(Au))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const No=new e.OlP("SchemaBuilderToken");new e.OlP("JsonLdProductBuilderToken");let bl=(()=>{class s{constructor(r,d){this.scriptBuilder=r,this.builders=d,this.subscription=new M.w}build(){this.scriptBuilder.isJsonLdRequired()&&this.builders&&this.subscription.add(this.collectSchemas().subscribe(r=>{this.scriptBuilder.build(r)}))}collectSchemas(){return(0,E.aj)(this.builders.map(r=>r.build()))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(da),e.LFG(No,8))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function kd(s){return()=>{s.get(bl).build()}}let Ya=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[{provide:e.ip1,useFactory:kd,deps:[e.zs3],multi:!0}],imports:[n.ez]}),s})();function kc(s){return()=>{s.get(la).init()}}let Tl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Lc),{provide:e.ip1,useFactory:kc,deps:[e.zs3],multi:!0},Dl],imports:[Ya]}),s})(),Ni=(()=>{class s{constructor(r,d){this.routingService=r,this.productService=d,this.DEFAULT_PRODUCT_SCOPE="details"}getProduct(r){return this.getCode().pipe((0,Re.x)(),(0,fe.w)(d=>d?this.productService.get(d,r||this.DEFAULT_PRODUCT_SCOPE):(0,R.of)(null)),(0,Ke.h)(h.pTN))}getCode(){return this.routingService.getRouterState().pipe((0,Ie.U)(r=>r.state.params.productCode))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.Znh),e.LFG(h.M52))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Bd(s){return(0,h.A2H)({...Bg(s),...hf(s)})}function Bg({componentId:s,pageSlotPosition:_}={}){const r={cmsStructure:{}};return s&&(r.cmsStructure={components:{[s]:{typeCode:s,flexType:s}}}),s&&_&&r.cmsStructure&&(r.cmsStructure.slots={[_]:{componentIds:[s]}}),r}function hf({pageTemplate:s,pageSlotPosition:_,breakpoint:r,section:d}={}){const C={};if(s&&_){const b={};r?b[r]={slots:[_]}:b.slots=[_],C.layoutSlots={[s]:b}}if(d&&_){const b={};r?b[r]={slots:[_]}:b.slots=[_],C.layoutSlots?C.layoutSlots[d]=b:C.layoutSlots={[d]:b}}return C}let Gg=(()=>{class s{constructor(r){this.winRef=r}getItemsPerSlide(r,d){return this.winRef.resize$.pipe((0,Ie.U)(()=>r.clientWidth),(0,Ie.U)(C=>this.calculateItems(C,d)))}calculateItems(r,d){let C=0;return d.endsWith("px")&&(C=r/d.substring(0,d.length-2)),d.endsWith("%")&&(C=r/(r*(d.substring(0,d.length-1)/100))),Math.floor(C)||1}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.X9E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),za=(()=>{class s{constructor(r,d){this.el=r,this.service=d,this.itemWidth="300px",this.hideIndicators=!1,this.indicatorIcon=lr.CIRCLE,this.previousIcon=lr.CARET_LEFT,this.nextIcon=lr.CARET_RIGHT}set setItems(r){this.items=r,this.activeSlide=0}ngOnInit(){this.template||!(0,e.X6Q)()?this.size$=this.service.getItemsPerSlide(this.el.nativeElement,this.itemWidth).pipe((0,rt.b)(()=>this.activeSlide=0)):console.error("No template reference provided to render the carousel items for the `cx-carousel`")}getSlideNumber(r,d){return Math.ceil((d+1)/r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(Gg))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-carousel"]],inputs:{title:"title",setItems:["items","setItems"],template:"template",itemWidth:"itemWidth",hideIndicators:"hideIndicators",indicatorIcon:"indicatorIcon",previousIcon:"previousIcon",nextIcon:"nextIcon"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"carousel-panel",3,"ngClass"],["class","previous",3,"disabled","click",4,"ngIf"],[1,"slides"],[4,"ngFor","ngForOf"],["class","next","tabindex","-1",3,"disabled","click",4,"ngIf"],["class","indicators",4,"ngIf"],[1,"previous",3,"disabled","click"],[3,"type"],["class","slide",3,"active",4,"ngIf"],[1,"slide"],["class","item",3,"active",4,"ngIf"],[1,"item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1",1,"next",3,"disabled","click"],[1,"indicators"],["tabindex","-1",3,"disabled","focus",4,"ngIf"],["tabindex","-1",3,"disabled","focus"],["aria-hidden","true",3,"type"]],template:function(r,d){1&r&&(e.YNc(0,eo,8,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",d.items&&d.items.length>0&&e.lcZ(1,1,d.size$))},dependencies:[n.mk,n.sg,n.O5,n.tP,lo,n.Ov,n.OU,h.X$D],encapsulation:2,changeDetection:0}),s})(),gf=(()=>{class s{constructor(r,d){this.componentData=r,this.cmsService=d,this.componentData$=this.componentData.data$.pipe((0,Ke.h)(C=>Boolean(C)),(0,rt.b)(C=>this.theme=`${C.effect}-theme`)),this.items$=this.componentData$.pipe((0,Ie.U)(C=>C.banners?.trim().split(" ")??[]),(0,Ie.U)(C=>C.map(b=>this.cmsService.getComponentData(b)))),this.theme=""}getItems(){return this.items$}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.ctt))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-banner-carousel"]],hostVars:2,hostBindings:function(r,d){2&r&&e.Tol(d.theme)},decls:4,vars:3,consts:[["itemWidth","100%","class","inline-navigation",3,"items","template",4,"ngIf"],["template",""],["itemWidth","100%",1,"inline-navigation",3,"items","template"],[3,"cxComponentWrapper"]],template:function(r,d){1&r&&(e.YNc(0,To,1,2,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Rr,1,5,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.getItems()))},dependencies:[n.O5,aa,za,n.Ov],encapsulation:2,changeDetection:0}),s})(),qi=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),s})(),Nc=(()=>{class s{constructor(r,d,C,b,re){this.userConsentService=r,this.globalMessageService=d,this.anonymousConsentsConfig=C,this.anonymousConsentsService=b,this.authService=re,this.subscriptions=new M.w,this.allConsentsLoading=new P.X(!1),this.requiredConsents=[]}ngOnInit(){this.loading$=(0,E.aj)([this.userConsentService.getConsentsResultLoading(),this.userConsentService.getGiveConsentResultLoading(),this.userConsentService.getWithdrawConsentResultLoading(),this.authService.isUserLoggedIn(),this.allConsentsLoading]).pipe((0,Ie.U)(([r,d,C,b,re])=>r||d||C||!b||re)),this.consentListInit(),this.giveConsentInit(),this.withdrawConsentInit()}consentListInit(){this.templateList$=this.userConsentService.getConsents().pipe((0,Ft.M)(this.anonymousConsentsService.getTemplates(),this.authService.isUserLoggedIn()),(0,Ke.h)(([r,d,C])=>C),(0,rt.b)(([r,d])=>{this.consentsExists(r)||this.userConsentService.loadConsents()}),(0,Ie.U)(([r,d])=>this.anonymousConsentsConfig.anonymousConsents&&(this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&(this.requiredConsents=this.anonymousConsentsConfig.anonymousConsents.requiredConsents),this.anonymousConsentsConfig.anonymousConsents.consentManagementPage)?this.hideAnonymousConsents(r,d):r))}hideAnonymousConsents(r,d=[]){let C=[];return this.anonymousConsentsConfig.anonymousConsents?.consentManagementPage?.showAnonymousConsents?(this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents&&this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents.length>0&&(C=this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents),this.userConsentService.filterConsentTemplates(r,C)):(C=d.map(b=>b.id??""),this.userConsentService.filterConsentTemplates(r,C))}giveConsentInit(){this.userConsentService.resetGiveConsentProcessState(),this.subscriptions.add(this.userConsentService.getGiveConsentResultSuccess().subscribe(r=>this.onConsentGivenSuccess(r)))}withdrawConsentInit(){this.userConsentService.resetWithdrawConsentProcessState(),this.subscriptions.add(this.userConsentService.getWithdrawConsentResultLoading().pipe((0,Ee.n)(Boolean),(0,Ft.M)(this.userConsentService.getWithdrawConsentResultSuccess()),(0,Ie.U)(([,r])=>r),(0,rt.b)(r=>{r&&this.userConsentService.loadConsents()})).subscribe(r=>this.onConsentWithdrawnSuccess(r)))}consentsExists(r){return Boolean(r)&&r.length>0}onConsentChange({given:r,template:d}){r&&d.id&&void 0!==d.version?this.userConsentService.giveConsent(d.id,d.version):d.currentConsent?.code&&this.userConsentService.withdrawConsent(d.currentConsent.code)}onConsentGivenSuccess(r){r&&(this.userConsentService.resetGiveConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.given"},h.xUg.MSG_TYPE_CONFIRMATION))}onConsentWithdrawnSuccess(r){r&&(this.userConsentService.resetWithdrawConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.withdrawn"},h.xUg.MSG_TYPE_CONFIRMATION))}rejectAll(r=[]){const d=[];r.forEach(C=>{if(C.currentConsent&&this.userConsentService.isConsentGiven(C.currentConsent)){if(this.isRequiredConsent(C))return;d.push(C)}}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupWithdrawalStream(d).pipe((0,rt.b)(C=>this.allConsentsLoading.next(!1))).subscribe())}setupWithdrawalStream(r=[]){return(0,q.z)(this.userConsentService.getWithdrawConsentResultLoading()).pipe((0,Re.x)(),(0,Ke.h)(et=>!et)).pipe((0,Ct.R)((et,Bt)=>et+1,-1)).pipe((0,rt.b)(et=>{if(et<r.length){const Bt=r[et].currentConsent?.code;Bt&&this.userConsentService.withdrawConsent(Bt)}})).pipe((0,Ke.h)(et=>et===r.length))}allowAll(r=[]){const d=[];r.forEach(C=>{C.currentConsent&&this.userConsentService.isConsentWithdrawn(C.currentConsent)&&this.isRequiredConsent(C)||d.push(C)}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupGiveStream(d).pipe((0,rt.b)(C=>this.allConsentsLoading.next(!1))).subscribe())}setupGiveStream(r=[]){return(0,q.z)(this.userConsentService.getGiveConsentResultLoading()).pipe((0,Re.x)(),(0,Ke.h)(et=>!et)).pipe((0,Ct.R)((et,Bt)=>et+1,-1)).pipe((0,rt.b)(et=>{if(et<r.length){const Bt=r[et];Bt.id&&void 0!==Bt.version&&this.userConsentService.giveConsent(Bt.id,Bt.version)}})).pipe((0,Ke.h)(et=>et===r.length))}isRequiredConsent(r){return Boolean(r.id&&this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents.includes(r.id))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.allConsentsLoading.unsubscribe(),this.userConsentService.resetGiveConsentProcessState(),this.userConsentService.resetWithdrawConsentProcessState()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.ZZY),e.Y36(h.IWp),e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(h.e80))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-consent-management"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["consentManagementForm",""],[1,"cx-spinner"],["role","status"],[4,"ngIf"],[1,"cx-consent-action-links"],[1,"col-sm-12","col-md-8","col-lg-6"],["tabindex","0",1,"btn","btn-link","cx-action-link",3,"click"],[1,"cx-consent-toggles"],[3,"consentTemplate","requiredConsents","consentChanged",4,"ngFor","ngForOf"],[3,"consentTemplate","requiredConsents","consentChanged"]],template:function(r,d){if(1&r&&(e.YNc(0,ci,3,0,"div",0),e.ALo(1,"async"),e.YNc(2,Bo,4,6,"ng-template",null,1,e.W1O)),2&r){const C=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,d.loading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,po,Og,n.Ov,h.X$D],encapsulation:2}),s})(),ms=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ConsentManagementComponent:{component:Nc,guards:[h.a1M]}}})],imports:[n.ez,It.u5,It.UX,qi,h.LUR,So]}),s})(),Vg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR,So,qi,ms,Ci]}),s})(),bu=(()=>{class s{constructor(r,d,C){this.elementRef=r,this.templateRef=d,this.globalMessageService=C}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}handleClick(r){if(r?.preventDefault(),r?.target===this.host&&this.cxAtMessage){const d=Array.isArray(this.cxAtMessage)?this.cxAtMessage.join("\n"):this.cxAtMessage;this.globalMessageService.get().pipe((0,Nt.q)(1)).subscribe(C=>{C[h.xUg.MSG_TYPE_ASSISTIVE]&&this.globalMessageService.remove(h.xUg.MSG_TYPE_ASSISTIVE),this.globalMessageService.add(d,h.xUg.MSG_TYPE_ASSISTIVE)})}}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(h.IWp))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxAtMessage",""]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)})},inputs:{cxAtMessage:"cxAtMessage"}}),s})();var Fr=(()=>{return(s=Fr||(Fr={})).INSIDE_CLICK="insideClick",s.OUTSIDE_CLICK="outsideClick",s.ESCAPE_KEYDOWN="escapeKeydown",s.CLOSE_BUTTON_CLICK="closeButtonClick",s.CLOSE_BUTTON_KEYDOWN="closeButtonKeydown",s.ROUTE_CHANGE="routeChange",s.OPEN="open",s.OPEN_BY_KEYBOARD="openByKeyboard",Fr;var s})();let qC=(()=>{class s{constructor(r){this.winRef=r}get allowedPlacements(){return["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"]}get placementSeparator(){return/\s+/}get window(){return this.winRef.nativeWindow}get document(){return this.winRef.document}getAllStyles(r){return this.window?.getComputedStyle(r)}getPositionStyleProperty(r){const d=this.getAllStyles(r);if(d)return d.position||void 0}isStaticPositioned(r){return"static"===(this.getPositionStyleProperty(r)||"static")}offsetParent(r){let d=r.offsetParent||this.document.documentElement;for(;d&&d!==this.document.documentElement&&this.isStaticPositioned(d);)d=d.offsetParent;return d||this.document.documentElement}position(r,d=!0){let C,b={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getPositionStyleProperty(r))C=r.getBoundingClientRect(),C={top:C.top,bottom:C.bottom,left:C.left,right:C.right,height:C.height,width:C.width};else{const re=this.offsetParent(r);C=this.offset(r,!1),re!==this.document.documentElement&&(b=this.offset(re,!1)),b.top+=re.clientTop,b.left+=re.clientLeft}return C.top-=b.top,C.bottom-=b.top,C.left-=b.left,C.right-=b.left,d&&(C.top=Math.round(C.top),C.bottom=Math.round(C.bottom),C.left=Math.round(C.left),C.right=Math.round(C.right)),C}offset(r,d=!0){const C=r.getBoundingClientRect(),b_top=this.window&&this.window.pageYOffset-this.document.documentElement.clientTop||0,b_left=this.window&&this.window.pageXOffset-this.document.documentElement.clientLeft||0,re={height:C.height||r.offsetHeight,width:C.width||r.offsetWidth,top:C.top+b_top,bottom:C.bottom+b_top,left:C.left+b_left,right:C.right+b_left};return d&&(re.height=Math.round(re.height),re.width=Math.round(re.width),re.top=Math.round(re.top),re.bottom=Math.round(re.bottom),re.left=Math.round(re.left),re.right=Math.round(re.right)),re}_positionElements(r,d,C,b){const[re="top",et="center"]=C.split("-"),Bt=b?this.offset(r,!1):this.position(r,!1),an=this.getAllStyles(d);if(an){const Zn=parseFloat(an.marginTop),si=parseFloat(an.marginBottom),Xl=parseFloat(an.marginLeft),Wu=parseFloat(an.marginRight);let tc=0,zc=0;switch(re){case"top":tc=Bt.top-(d.offsetHeight+Zn+si);break;case"bottom":tc=Bt.top+Bt.height;break;case"left":zc=Bt.left-(d.offsetWidth+Xl+Wu);break;case"right":zc=Bt.left+Bt.width}switch(et){case"top":tc=Bt.top;break;case"bottom":tc=Bt.top+Bt.height-d.offsetHeight;break;case"left":zc=Bt.left;break;case"right":zc=Bt.left+Bt.width-d.offsetWidth;break;case"center":"top"===re||"bottom"===re?zc=Bt.left+Bt.width/2-d.offsetWidth/2:tc=Bt.top+Bt.height/2-d.offsetHeight/2}d.style.transform=`translate(${Math.round(zc)}px, ${Math.round(tc)}px)`;const Ju=d.getBoundingClientRect(),Im=this.document.documentElement,wm=this.window?.innerHeight||Im.clientHeight,Rm=this.window?.innerWidth||Im.clientWidth;return Ju.left>=0&&Ju.top>=0&&Ju.right<=Rm&&Ju.bottom<=wm}return!1}positionElements(r,d,C,b){const re=Array.isArray(C)?C:C.split(this.placementSeparator);let et=re.findIndex(si=>"auto"===si);et>=0&&this.allowedPlacements.forEach(si=>{null==re.find(Xl=>-1!==Xl.search("^"+si))&&re.splice(et++,1,si)});const Bt=d.style;Bt.position="absolute",Bt.top="0",Bt.left="0";let an="auto",Zn=!1;for(an of re)if(this._positionElements(r,d,an,b)){Zn=!0;break}return Zn||this._positionElements(r,d,an,b),an}getPositioningClass(r,d){let C=`${r||"top"}`;return d&&"auto"!==C&&(C=`${C} auto`),C}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.X9E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),mf=(()=>{class s{constructor(r,d,C,b,re){this.positioningService=r,this.winRef=d,this.changeDetectionRef=C,this.renderer=b,this.router=re,this.iconTypes=lr}insideClick(){this.eventSubject.next(Fr.INSIDE_CLICK)}outsideClick(r){!this.isClickedOnPopover(r)&&!this.isClickedOnDirective(r)&&this.eventSubject.next(Fr.OUTSIDE_CLICK)}escapeKeydown(){this.eventSubject.next(Fr.ESCAPE_KEYDOWN)}isClickedOnPopover(r){return this.popoverInstance.location.nativeElement.contains(r.target)}isClickedOnDirective(r){return this.triggerElement.nativeElement.contains(r.target)}close(r){r.preventDefault(),r instanceof MouseEvent?this.eventSubject.next(Fr.CLOSE_BUTTON_CLICK):this.eventSubject.next(Fr.CLOSE_BUTTON_KEYDOWN)}triggerScrollEvent(){this.scrollEventUnlistener=this.renderer.listen(this.winRef.nativeWindow,"scroll",()=>this.positionPopover())}positionPopover(){this.popoverClass=this.positioningService.positionElements(this.triggerElement.nativeElement,this.popoverInstance.location.nativeElement,this.positioningService.getPositioningClass(this.position,this.autoPositioning),this.appendToBody),this.changeDetectionRef.markForCheck(),this.baseClass=`${this.customClass} ${this.popoverClass} opened`}ngOnInit(){this.customClass||(this.customClass="cx-popover"),this.position||(this.position="top"),void 0===this.autoPositioning&&(this.autoPositioning=!0),this.baseClass=`${this.customClass}`,this.resizeSub=this.winRef.resize$.subscribe(()=>{this.positionPopover()}),this.routeChangeSub=this.router.events.pipe((0,Ke.h)(r=>r instanceof Ze.OD)).subscribe(()=>{this.eventSubject.next(Fr.ROUTE_CHANGE)}),this.positionOnScroll&&this.triggerScrollEvent()}isTemplate(r){return r instanceof e.Rgc}isString(r){return!(r instanceof e.Rgc)}ngAfterViewChecked(){this.positionPopover()}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.routeChangeSub&&this.routeChangeSub.unsubscribe(),this.scrollEventUnlistener&&this.scrollEventUnlistener()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(qC),e.Y36(h.X9E),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(Ze.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-popover"]],hostVars:1,hostBindings:function(r,d){1&r&&e.NdJ("click",function(){return d.insideClick()})("click",function(b){return d.outsideClick(b)},!1,e.evT)("keydown.escape",function(){return d.escapeKeydown()}),2&r&&e.Ikx("className",d.baseClass)},decls:6,vars:4,consts:[[1,"arrow"],[1,"popover-body",3,"cxFocus"],[1,"cx-close-row"],["type","button","class","close",3,"keydown.enter","keydown.space","click",4,"ngIf"],[4,"ngIf"],["type","button",1,"close",3,"keydown.enter","keydown.space","click"],[3,"type"],[4,"ngTemplateOutlet"]],template:function(r,d){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,Xo,2,1,"button",3),e.qZA(),e.YNc(4,Go,2,1,"ng-container",4),e.YNc(5,ei,2,1,"span",4),e.qZA()),2&r&&(e.xp6(1),e.Q6J("cxFocus",d.focusConfig),e.xp6(2),e.Q6J("ngIf",d.displayCloseButton),e.xp6(1),e.Q6J("ngIf",d.isTemplate(d.content)),e.xp6(1),e.Q6J("ngIf",d.isString(d.content)))},dependencies:[n.O5,n.tP,ko,lo],encapsulation:2,changeDetection:0}),s})(),Wv=(()=>{class s{getFocusConfig(r,d){let C={};return r===Fr.OPEN_BY_KEYBOARD&&d&&(C={trap:!0,block:!0,focusOnEscape:!1,autofocus:!0}),C}setFocusOnElement(r,d,C){d&&C&&r.nativeElement.focus()}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Gd=(()=>{class s{constructor(r,d,C,b,re,et,Bt){this.element=r,this.viewContainer=d,this.componentFactoryResolver=C,this.renderer=b,this.changeDetectorRef=re,this.popoverService=et,this.winRef=Bt,this.openPopover=new e.vpe,this.closePopover=new e.vpe,this.eventSubject=new oe.xQ,this.openTriggerEvents=[Fr.OPEN,Fr.OPEN_BY_KEYBOARD],this.focusPopoverTriggerEvents=[Fr.OPEN_BY_KEYBOARD],this.closeTriggerEvents=[Fr.ROUTE_CHANGE,Fr.ESCAPE_KEYDOWN,Fr.OUTSIDE_CLICK,Fr.CLOSE_BUTTON_KEYDOWN,Fr.CLOSE_BUTTON_CLICK],this.focusDirectiveTriggerEvents=[Fr.ESCAPE_KEYDOWN,Fr.CLOSE_BUTTON_KEYDOWN]}handlePress(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(Fr.CLOSE_BUTTON_KEYDOWN):this.eventSubject.next(Fr.OPEN_BY_KEYBOARD)}handleTab(){!this.focusConfig?.trap&&this.isOpen&&this.eventSubject.next(Fr.CLOSE_BUTTON_KEYDOWN)}handleEscape(){this.eventSubject.next(Fr.ESCAPE_KEYDOWN)}handleClick(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(Fr.CLOSE_BUTTON_CLICK):this.eventSubject.next(Fr.OPEN)}open(r){this.cxPopoverOptions?.disable||(this.isOpen=!0,this.focusConfig=this.popoverService.getFocusConfig(r,this.cxPopoverOptions?.appendToBody||!1),this.renderPopover(),this.openPopover.emit())}close(){this.isOpen=!1,this.viewContainer.clear(),this.closePopover.emit()}handlePopoverEvents(){this.eventSubject.subscribe(r=>{this.openTriggerEvents.includes(r)&&this.open(r),this.focusPopoverTriggerEvents.includes(r)&&this.popoverContainer.location.nativeElement.focus(),this.closeTriggerEvents.includes(r)&&this.close(),this.focusDirectiveTriggerEvents.includes(r)&&this.popoverService.setFocusOnElement(this.element,this.focusConfig,this.cxPopoverOptions?.appendToBody)})}renderPopover(){const r=this.componentFactoryResolver.resolveComponentFactory(mf);this.popoverContainer=this.viewContainer.createComponent(r);const d=this.popoverContainer.instance;d&&(d.content=this.cxPopover,d.triggerElement=this.element,d.popoverInstance=this.popoverContainer,d.focusConfig=this.focusConfig,d.eventSubject=this.eventSubject,d.position=this.cxPopoverOptions?.placement,d.customClass=this.cxPopoverOptions?.class,d.appendToBody=this.cxPopoverOptions?.appendToBody,d.positionOnScroll=this.cxPopoverOptions?.positionOnScroll,d.displayCloseButton=this.cxPopoverOptions?.displayCloseButton,d.autoPositioning=this.cxPopoverOptions?.autoPositioning,this.cxPopoverOptions?.appendToBody&&this.renderer.appendChild(this.winRef.document.body,this.popoverContainer.location.nativeElement),this.popoverContainer.changeDetectorRef.detectChanges())}ngOnInit(){this.handlePopoverEvents()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e._Vd),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Wv),e.Y36(h.X9E))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxPopover",""]],hostBindings:function(r,d){1&r&&e.NdJ("keydown.enter",function(b){return d.handlePress(b)})("keydown.space",function(b){return d.handlePress(b)})("keydown.tab",function(){return d.handleTab()})("keydown.shift.tab",function(){return d.handleTab()})("keydown.escape",function(){return d.handleEscape()})("click",function(b){return d.handleClick(b)})},inputs:{cxPopover:"cxPopover",cxPopoverOptions:"cxPopoverOptions"},outputs:{openPopover:"openPopover",closePopover:"closePopover"}}),s})(),vf=(()=>{class s{transform(r,d){if(!d)return r;let C="...";const b=d.length>0&&d[0]&&Number.isInteger(+d[0])?d[0]:20;return d.length>1&&void 0!==d[1]&&(C=d[1]),r.length>b?r.substring(0,b)+C:r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=e.Yjl({name:"cxTruncate",type:s,pure:!0}),s})(),Hg=(()=>{class s{constructor(){this.charactersLimit=100}get isTruncated(){return this.content.length>+this.charactersLimit}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-truncate-text-popover"]],inputs:{content:"content",charactersLimit:"charactersLimit"},decls:8,vars:7,consts:[[1,"truncated-text"],["fullText",""],["class","ml-1 link cx-action-link",3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"ml-1","link","cx-action-link",3,"cxPopover","cxPopoverOptions"]],template:function(r,d){1&r&&(e.ynx(0)(1),e.TgZ(2,"span",0),e._uU(3),e.ALo(4,"cxTruncate"),e.qZA(),e.BQk(),e.YNc(5,ui,1,1,"ng-template",null,1,e.W1O),e.YNc(7,Ao,3,6,"button",2),e.BQk()),2&r&&(e.xp6(3),e.hij(" ",e.xi3(4,2,d.content,e.VKq(5,Vo,d.charactersLimit))," "),e.xp6(4),e.Q6J("ngIf",d.isTruncated))},dependencies:[n.O5,Gd,h.X$D,vf],encapsulation:2,changeDetection:0}),s})(),Il=(()=>{class s{constructor(){this.iconTypes=lr,this.deleteCard=new e.vpe,this.setDefaultCard=new e.vpe,this.sendCard=new e.vpe,this.editCard=new e.vpe,this.cancelCard=new e.vpe,this.border=!1,this.editMode=!1,this.isDefault=!1,this.fitToContainer=!1,this.truncateText=!1,this.charactersLimit=100}setEditMode(){this.editMode=!0}cancelEdit(){this.editMode=!1,this.cancelCard.emit(5)}delete(){this.deleteCard.emit(1)}setDefault(){this.isDefault=!0,this.setDefaultCard.emit(2)}send(){this.sendCard.emit(3)}edit(){this.editCard.emit(4)}isCardAction(r){return void 0!==r.event}isCardLinkAction(r){return void 0!==r.link}ngOnInit(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-card"]],inputs:{border:"border",editMode:"editMode",isDefault:"isDefault",content:"content",fitToContainer:"fitToContainer",truncateText:"truncateText",charactersLimit:"charactersLimit",index:"index"},outputs:{deleteCard:"deleteCard",setDefaultCard:"setDefaultCard",sendCard:"sendCard",editCard:"editCard",cancelCard:"cancelCard"},decls:1,vars:1,consts:[["class","cx-card",3,"tabindex","cx-card-border","cx-card-fit-to-container",4,"ngIf"],[1,"cx-card",3,"tabindex"],["class","card-header",3,"id",4,"ngIf"],[1,"card-body","cx-card-body"],["role","alert","class","cx-card-delete-msg",4,"ngIf"],["class","cx-card-title",4,"ngIf"],[1,"cx-card-container"],[1,"cx-card-label-container"],["class","cx-card-label-bold",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-card-paragraph",4,"ngFor","ngForOf"],["class","cx-card-img-container",4,"ngIf"],["class","row cx-card-body-delete",4,"ngIf"],["class","cx-card-actions",4,"ngIf"],[1,"card-header",3,"id"],["role","alert",1,"cx-card-delete-msg"],[1,"cx-card-title"],[1,"cx-card-label-bold"],["class","cx-card-label",4,"ngIf","ngIfElse"],["truncate",""],[1,"cx-card-label"],[3,"charactersLimit","content"],[1,"cx-card-paragraph"],[1,"cx-card-paragraph-title"],[1,"cx-card-paragraph-text"],[1,"cx-card-img-container"],[3,"type"],[1,"row","cx-card-body-delete"],[1,"col-md-6"],[1,"btn","btn-block","btn-secondary",3,"cxAtMessage","click"],[1,"col-md-6",3,"cxFocus"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"cx-card-actions"],[3,"ngSwitch",4,"ngIf"],["class","link cx-action-link",3,"href",4,"ngIf"],[3,"ngSwitch"],["type","button","class","link cx-action-link",3,"click",4,"ngSwitchCase"],["type","button",1,"link","cx-action-link",3,"click"],[1,"link","cx-action-link",3,"href"]],template:function(r,d){1&r&&e.YNc(0,Xt,14,23,"div",0),2&r&&e.Q6J("ngIf",d.content)},dependencies:[n.sg,n.O5,n.RF,n.n9,bu,lo,Hg,ko,h.X$D],encapsulation:2}),s})(),$g=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz,Ci,So]}),s})(),jg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR,$g]}),s})(),Qo=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})(),wl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Qo,h.LUR,So,jg,Ci]}),s})();var fa=(()=>{return(s=fa||(fa={})).EAGER="eager",s.LAZY="lazy",fa;var s})();let Zg=(()=>{class s{constructor(r){this.config=r}getMedia(r,d,C,b){if(!r)return;const re=r.url?r:this.resolveMedia(r,d);return{src:this.resolveAbsoluteUrl(re?.url??""),alt:C??re?.altText,role:b??re?.role,srcset:this.resolveSrcSet(r,d)}}get loadingStrategy(){return this.config?.imageLoadingStrategy??fa.EAGER}get sortedFormats(){const r=this.config?.mediaFormats;return!this._sortedFormats&&r&&(this._sortedFormats=Object.keys(r).map(d=>({code:d,size:r[d]})).sort((d,C)=>d.size.width&&C.size.width&&d.size.width>C.size.width?1:-1)),this._sortedFormats??[]}get reversedFormats(){return this._reversedFormats||(this._reversedFormats=this.sortedFormats.slice().reverse()),this._reversedFormats}resolveMedia(r,d){return r[this.resolveFormat(r,d)]}resolveFormat(r,d){return d&&r[d]?d:this.resolveBestFormat(r)||Object.keys(r)[0]}resolveBestFormat(r){return this.reversedFormats.find(d=>r.hasOwnProperty(d.code))?.code}resolveSrcSet(r,d){if(!r)return;let C=this.sortedFormats;const b=C.findIndex(et=>et.code===d);b>-1&&(C=C.slice(0,b+1));const re=C.reduce((et,Bt)=>{const an=r[Bt.code];return an&&(et&&(et+=", "),et+=`${this.resolveAbsoluteUrl(an.url??"")} ${Bt.size.width}w`),et},"");return""===re?void 0:re}resolveAbsoluteUrl(r){return!r||r.startsWith("http")||r.startsWith("//")?r:this.getBaseUrl()+r}getBaseUrl(){return this.config.backend?.media?.baseUrl??this.config.backend?.occ?.baseUrl??""}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.DeH))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),vs=(()=>{class s{constructor(r){this.mediaService=r,this.loading=this.loadingStrategy,this.loaded=new e.vpe,this.isInitialized=!1,this.isLoading=!0,this.isMissing=!1}ngOnChanges(){this.create()}create(){this.media=this.mediaService.getMedia(this.container instanceof Array?this.container[0]:this.container,this.format,this.alt,this.role),this.media?.src||this.handleMissing()}loadHandler(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!1,this.loaded.emit(!0)}get loadingStrategy(){return this.mediaService.loadingStrategy===fa.LAZY?fa.LAZY:null}errorHandler(){this.handleMissing()}handleMissing(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!0,this.loaded.emit(!1)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Zg))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-media"]],hostVars:6,hostBindings:function(r,d){2&r&&e.ekj("is-initialized",d.isInitialized)("is-loading",d.isLoading)("is-missing",d.isMissing)},inputs:{container:"container",format:"format",alt:"alt",role:"role",loading:"loading"},outputs:{loaded:"loaded"},features:[e.TTD],decls:1,vars:1,consts:[[3,"load","error",4,"ngIf"],[3,"load","error"]],template:function(r,d){1&r&&e.YNc(0,Sn,1,5,"img",0),2&r&&e.Q6J("ngIf",d.media&&d.media.src)},dependencies:[n.O5],encapsulation:2,changeDetection:0}),s})(),Xi=(()=>{class s{static forRoot(){return{ngModule:s}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})(),Tu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz,So,Xi,h.bhT,h.LUR]}),s})(),Vd=(()=>{class s{get placeholder(){return"yyyy-mm-dd"}get pattern(){return this.placeholder.replace("yyyy","\\d{4}").replace("mm","\\d{1,2}").replace("dd","\\d{1,2}")}isValidFormat(r,d){return new RegExp(`^${d??this.pattern}$`).test(r)}getDate(r){if(!r)return;const d=this.placeholder.replace("yyyy","").replace("mm","").replace("dd","").substr(0,1),C=r.split(d),b=this.placeholder.split(d),re=b.indexOf("yyyy"),et=b.indexOf("mm"),Bt=b.indexOf("dd");return new Date(Number(C[re]),Number(C[et])-1,Number(C[Bt]))}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),xu=(()=>{class s{constructor(r,d){this.ChangeDetectionRef=r,this.keyValueDiffers=d,this.prefix="formErrors",this.role="alert"}set control(r){!r||(this._control=r,this.differ=this.keyValueDiffers.find(this.control).create(),this.errorsDetails$=r?.statusChanges.pipe((0,_e.O)({}),(0,Ie.U)(()=>r.errors||{}),(0,Ie.U)(d=>Object.entries(d).filter(([C,b])=>b))))}get control(){return this._control}ngDoCheck(){const r=this.differ?.diff(this.control);r&&r.forEachChangedItem(d=>{"touched"===d?.key&&this.ChangeDetectionRef.markForCheck()})}getTranslationParams(r){return r=(0,h.Kn2)(r)?r:{},{...r,...this.translationParams}}get invalid(){return this.control?.invalid}get dirty(){return this.control?.dirty}get touched(){return this.control?.touched}get hidden(){return!(this.invalid&&(this.touched||this.dirty))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.sBO),e.Y36(e.aQg))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-form-errors"]],hostVars:9,hostBindings:function(r,d){2&r&&(e.uIk("role",d.role),e.ekj("control-invalid",d.invalid)("control-dirty",d.dirty)("control-touched",d.touched)("cx-visually-hidden",d.hidden))},inputs:{prefix:"prefix",translationParams:"translationParams",control:"control"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,d){1&r&&(e.YNc(0,An,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.errorsDetails$))},dependencies:[n.sg,n.O5,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),_f=(()=>{class s{constructor(r){this.service=r,this.update=new e.vpe}change(){this.update.emit()}get placeholder(){return this.service.placeholder}get pattern(){return this.service.pattern}getDate(r){return r&&this.service.isValidFormat(r)?r:void 0}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Vd))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-date-picker"]],inputs:{control:"control",min:"min",max:"max",required:"required"},outputs:{update:"update"},decls:4,vars:15,consts:[["type","date",1,"form-control",3,"formControl","placeholder","pattern","change"],["prefix","formErrors.date",3,"control","translationParams"]],template:function(r,d){1&r&&(e.TgZ(0,"input",0),e.NdJ("change",function(){return d.change()}),e.qZA(),e._UZ(1,"cx-form-errors",1),e.ALo(2,"cxDate"),e.ALo(3,"cxDate")),2&r&&(e.Q6J("formControl",d.control)("placeholder",d.placeholder)("pattern",d.pattern),e.uIk("min",d.min)("max",d.max)("required",!1===d.required?void 0:d.required),e.xp6(1),e.Q6J("control",d.control)("translationParams",e.WLB(12,be,e.lcZ(2,8,d.getDate(d.max)),e.lcZ(3,10,d.getDate(d.min)))))},dependencies:[It.Fj,It.JJ,It.Q7,It.c5,It.oH,xu,h.dgE],encapsulation:2}),s})(),Uc=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),s})(),Fn=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,It.UX,Uc,h.LUR]}),s})(),Cf=(()=>{class s{constructor(){this.accept="*",this.multiple=!1,this.update=new e.vpe,this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}selectFile(r){const d=r.target?.files;this.onChangeCallback(d),this.update.emit(d)}get selectedFiles(){if(this.fileInput.nativeElement.files)return Array.from(this.fileInput.nativeElement.files)}registerOnChange(r){this.onChangeCallback=r}registerOnTouched(r){this.onTouchedCallback=r}setDisabledState(r){this.fileInput.nativeElement.disabled=r}writeValue(r){r instanceof FileList&&(this.fileInput.nativeElement.files=r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-file-upload"]],viewQuery:function(r,d){if(1&r&&e.Gf(tt,7),2&r){let C;e.iGM(C=e.CRH())&&(d.fileInput=C.first)}},inputs:{accept:"accept",multiple:"multiple"},outputs:{update:"update"},features:[e._Bn([{provide:It.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}])],ngContentSelectors:nr,decls:6,vars:6,consts:[["type","file","aria-hidden","true",3,"accept","multiple","change"],["fileInput",""],["type","button",1,"btn","btn-action",3,"click"],[4,"ngFor","ngForOf"]],template:function(r,d){if(1&r){const C=e.EpF();e.F$t(),e.TgZ(0,"input",0,1),e.NdJ("change",function(re){return d.selectFile(re)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(C);const re=e.MAs(1);return e.KtG(re.click())}),e.ALo(3,"cxTranslate"),e.Hsn(4),e.qZA(),e.YNc(5,Se,2,1,"p",3)}2&r&&(e.Q6J("accept",d.accept)("multiple",d.multiple),e.xp6(2),e.uIk("aria-label",e.lcZ(3,4,"common.selectFile")),e.xp6(3),e.Q6J("ngForOf",d.selectedFiles))},dependencies:[n.sg,h.X$D],encapsulation:2}),s})(),Hd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,It.UX,Uc,h.LUR]}),s})(),yf=(()=>{class s{constructor(){this.showState={icon:lr.EYE_SLASH,inputType:"text",ariaLabel:"passwordVisibility.hidePassword"},this.hideState={icon:lr.EYE,inputType:"password",ariaLabel:"passwordVisibility.showPassword"},this.state=this.hideState}toggle(){this.state=this.state===this.hideState?this.showState:this.hideState,this.inputElement.setAttribute("type",this.state.inputType)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-password-visibility-toggle"]],inputs:{inputElement:"inputElement"},decls:4,vars:4,consts:[["type","button",3,"click"],["aria-hidden","true"],[3,"type"]],template:function(r,d){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return d.toggle()}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span",1),e._UZ(3,"cx-icon",2),e.qZA()()),2&r&&(e.uIk("aria-label",e.lcZ(1,2,d.state.ariaLabel)),e.xp6(3),e.Q6J("type",d.state.icon))},dependencies:[lo,h.X$D],encapsulation:2,changeDetection:0}),s})(),Yg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})(),zg=(()=>{class s{constructor(r,d,C,b,re){this.winRef=r,this.config=d,this.elementRef=C,this.viewContainerRef=b,this.changeDetectorRef=re}ngAfterViewInit(){this.config.form?.passwordVisibilityToggle&&(this.wrapInput(),this.insertComponent(),this.changeDetectorRef.detectChanges())}insertComponent(){const r=this.viewContainerRef.createComponent(yf);r.instance.inputElement=this.elementRef.nativeElement,this.inputWrapper?.appendChild(r.location.nativeElement)}wrapInput(){const r=this.elementRef.nativeElement,d=r.parentNode;this.inputWrapper=this.winRef.document.createElement("div"),this.inputWrapper.setAttribute("class","cx-password-input-wrapper"),d.replaceChild(this.inputWrapper,r),this.inputWrapper.appendChild(r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.X9E),e.Y36(Yg),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.sBO))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxPasswordVisibilitySwitch","","type","password"]]}),s})();const Sf={form:{passwordVisibilityToggle:!0}};let Wg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Sf)],imports:[n.ez,So,h.LUR]}),s})(),Ef=(()=>{class s{constructor(){this.HTTP_PROTOCOL_REGEX=/^https?:\/\//i,this.MAILTO_PROTOCOL_REGEX=/^mailto:/i,this.TEL_PROTOCOL_REGEX=/^tel:/i}isExternalUrl(r){return"string"==typeof r&&(this.HTTP_PROTOCOL_REGEX.test(r)||this.MAILTO_PROTOCOL_REGEX.test(r)||this.TEL_PROTOCOL_REGEX.test(r))}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$d=(()=>{class s{constructor(r,d){this.router=r,this.service=d,this.URL_SPLIT=/(^[^#?]*)(.*)/,this.routeParts={}}isExternalUrl(){return this.service.isExternalUrl(this.url)}get rel(){return"_blank"===this.target?"noopener":null}ngOnChanges(r){r.url&&this.setUrlParts(r.url.currentValue)}get routerUrl(){return this.routeParts.path}get queryParams(){return this.routeParts.queryParams}get fragment(){return this.routeParts.fragment??void 0}setUrlParts(r){"string"==typeof r?(r=this.getAbsoluteUrl(r),this.routeParts=this.splitUrl(r)):this.routeParts={path:r}}splitUrl(r=""){const{queryParams:d,fragment:C}=this.router.parseUrl(r),[,b]=r.match(this.URL_SPLIT)??[,""];return{path:[b??""],queryParams:d,fragment:C}}getAbsoluteUrl(r){return r.startsWith("/")?r:"/"+r}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ze.F0),e.Y36(Ef))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-generic-link"]],inputs:{url:"url",target:"target",id:"id",class:"class",style:"style",title:"title"},features:[e.TTD],ngContentSelectors:nr,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["isLocalUrl",""],["content",""],[3,"href"],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","fragment"]],template:function(r,d){if(1&r&&(e.F$t(),e.YNc(0,Qe,3,8,"ng-container",0),e.YNc(1,Cn,2,9,"ng-template",null,1,e.W1O),e.YNc(3,$n,1,0,"ng-template",null,2,e.W1O)),2&r){const C=e.MAs(2);e.Q6J("ngIf",d.isExternalUrl())("ngIfElse",C)}},dependencies:[n.O5,n.tP,Ze.yS],encapsulation:2}),s})(),Rl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz]}),s})(),Jv=(()=>{class s{constructor(){this.min=1,this.step=1,this.allowZero=!1,this.readonly=!1}handleClick(){this.input.nativeElement.focus()}ngOnInit(){this.sub=this.control.valueChanges.pipe((0,_e.O)(this.control.value)).subscribe(r=>this.control.setValue(this.getValidCount(r),{emitEvent:!1}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}increment(){this.control.setValue(this.control.value+this.step),this.control.markAsDirty()}decrement(){this.control.setValue(this.control.value-this.step),this.control.markAsDirty()}getValidCount(r){return r<this.min&&!(0===r&&this.allowZero)&&(r=this.min),this.max&&r>this.max&&(r=this.max),r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-item-counter"]],viewQuery:function(r,d){if(1&r&&e.Gf(kt,5),2&r){let C;e.iGM(C=e.CRH())&&(d.input=C.first)}},hostVars:2,hostBindings:function(r,d){1&r&&e.NdJ("click",function(){return d.handleClick()}),2&r&&e.ekj("readonly",d.readonly)},inputs:{control:"control",min:"min",max:"max",step:"step",allowZero:"allowZero",readonly:"readonly"},decls:9,vars:18,consts:[["type","button",3,"disabled","tabindex","click"],["type","number",3,"min","max","step","readonly","tabindex","formControl"],["qty",""],["type","button","tabindex","0",3,"disabled","click"]],template:function(r,d){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return d.decrement()}),e.ALo(1,"cxTranslate"),e._uU(2," -\n"),e.qZA(),e._UZ(3,"input",1,2),e.ALo(5,"cxTranslate"),e.TgZ(6,"button",3),e.NdJ("click",function(){return d.increment()}),e.ALo(7,"cxTranslate"),e._uU(8," +\n"),e.qZA()),2&r&&(e.Q6J("disabled",d.control.disabled||d.control.value<=d.min)("tabindex",d.control.disabled||d.control.value<=d.min?-1:0),e.uIk("aria-label",e.lcZ(1,12,"itemCounter.removeOne")),e.xp6(3),e.Q6J("min",d.min)("max",d.max)("step",d.step)("readonly",d.readonly)("tabindex",d.readonly?-1:0)("formControl",d.control),e.uIk("aria-label",e.lcZ(5,14,"itemCounter.quantity")),e.xp6(3),e.Q6J("disabled",d.control.disabled||d.control.value>=d.max),e.uIk("aria-label",e.lcZ(7,16,"itemCounter.addOneMore")))},dependencies:[It.Fj,It.wV,It.JJ,It.qQ,It.Fd,It.oH,h.X$D],encapsulation:2}),s})(),jd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,It.UX,h.LUR]}),s})(),Mu=(()=>{class s{constructor(r,d){this.renderer=r,this.elementRef=d}ngAfterViewInit(){const r=this.elementRef.nativeElement.querySelector('[role="combobox"]'),d=this.cxNgSelectA11y.ariaLabel,b=this.cxNgSelectA11y.ariaControls??this.elementRef.nativeElement.id;d&&this.renderer.setAttribute(r,"aria-label",d),b&&this.renderer.setAttribute(r,"aria-controls",b)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.Qsj),e.Y36(e.SBq))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxNgSelectA11y",""]],inputs:{cxNgSelectA11y:"cxNgSelectA11y"}}),s})(),es=(()=>{class s{constructor(){this.sortListEvent=new e.vpe}sortList(r){this.sortListEvent.emit(r)}get selectedLabel(){if(this.selectedOption)return this.sortOptions?.find(r=>r.code===this.selectedOption)?.name??this.sortLabels?.[this.selectedOption]}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-sorting"]],inputs:{sortOptions:"sortOptions",ariaControls:"ariaControls",ariaLabel:"ariaLabel",selectedOption:"selectedOption",placeholder:"placeholder",sortLabels:"sortLabels"},outputs:{sortListEvent:"sortListEvent"},decls:3,vars:11,consts:[[3,"searchable","clearable","placeholder","ngModel","cxNgSelectA11y","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,d){1&r&&(e.TgZ(0,"ng-select",0),e.NdJ("change",function(b){return d.sortList(b)}),e.ALo(1,"cxTranslate"),e.YNc(2,bn,2,2,"ng-option",1),e.qZA()),2&r&&(e.s9C("placeholder",d.placeholder),e.Q6J("searchable",!1)("clearable",!1)("ngModel",d.selectedOption)("cxNgSelectA11y",e.WLB(8,gr,d.ariaLabel||e.lcZ(1,6,"productList.sortResults"),d.ariaControls)),e.xp6(2),e.Q6J("ngForOf",d.sortOptions))},dependencies:[n.sg,cn.w9,cn.jq,It.JJ,It.On,Mu,h.X$D],encapsulation:2,changeDetection:0}),s})(),Pl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})(),Iu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,cn.A0,It.u5,Pl,h.LUR]}),s})();const Zd={pagination:{addStart:!0,addEnd:!0}};let Jg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})();var $r=(()=>{return(s=$r||($r={})).GAP="gap",s.FIRST="first",s.LAST="last",s.PREVIOUS="previous",s.NEXT="next",s.START="start",s.END="end",s.PAGE="page",$r;var s})(),wu=(()=>{return(s=wu||(wu={})).ASIDE="aside",s.BEFORE="before",s.AFTER="after",wu;var s})();const Kv={rangeCount:3,dotsLabel:"...",startLabel:"\xab",previousLabel:"\u2039",nextLabel:"\u203a",endLabel:"\xbb"};let Yd=(()=>{class s{constructor(r){this.paginationConfig=r}paginate(r,d){const C=[];return!r||r<2||(this.addPages(C,r,d),this.addDots(C,r),this.addFirstLast(C,r),this.addNavigation(C,r,d)),C}addPages(r,d,C){const b=this.getStartOfRange(d,C);if(void 0!==this.config.rangeCount&&null!==b){const re=Math.min(this.config.rangeCount,d);Array.from(Array(re)).forEach((et,Bt)=>{r.push({number:Bt+b,label:String(Bt+b+1),type:$r.PAGE})})}}addDots(r,d){this.config.addDots&&(r.unshift(...(()=>{const re=r[0].number,et=this.config.addFirst?1:0;if(void 0!==re&&re>et){const Bt=!this.config.substituteDotsForSingularPage||re!==et+1,an=this.config.addFirst&&this.config.substituteDotsForSingularPage&&0===et,Zn=Bt?$r.GAP:an?$r.FIRST:$r.PAGE;return[Object.assign({label:Bt?this.config.dotsLabel:String(et+1),type:Zn},Bt?null:{number:et})]}return[]})()),r.push(...(()=>{const re=r[r.length-1].number,et=re?re+1:void 0,Bt=d-(this.config.addLast?2:1);if(et&&et<=Bt){const an=this.config.addLast&&this.config.substituteDotsForSingularPage&&et===Bt,Zn=et<d-(this.config.substituteDotsForSingularPage?1:0)-(this.config.addLast?1:0),si=Zn?$r.GAP:an?$r.LAST:$r.PAGE;return[Object.assign({label:Zn?this.config.dotsLabel:String(et+1),type:si},Zn?null:{number:et})]}return[]})()))}addFirstLast(r,d){this.config.addFirst&&0!==r[0].number&&r.unshift({number:0,label:"1",type:$r.FIRST}),this.config.addLast&&r[r.length-1].number!==d-1&&r.push({number:d-1,label:String(d),type:$r.LAST})}addNavigation(r,d,C){const b=this.getBeforeLinks(C),re=this.getAfterLinks(d,C),et=this.config.navigationPosition;et&&et!==wu.ASIDE?(et===wu.BEFORE&&r.unshift(...b,...re),et===wu.AFTER&&r.push(...b,...re)):(r.unshift(...b),r.push(...re))}getBeforeLinks(r){const d=[];return this.config.addStart&&d.push((()=>Object.assign({label:this.config.startLabel,type:$r.START},r>0?{number:0}:null))()),this.config.addPrevious&&d.push((()=>Object.assign({label:this.config.previousLabel,type:$r.PREVIOUS},r>0?{number:r-1}:null))()),d}getAfterLinks(r,d){const C=[];return this.config.addNext&&C.push((()=>Object.assign({label:this.config.nextLabel,type:$r.NEXT},d<r-1?{number:d+1}:null))()),this.config.addEnd&&C.push((()=>Object.assign({label:this.config.endLabel,type:$r.END},d<r-1?{number:r-1}:null))()),C}getStartOfRange(r,d){if(void 0!==this.config.rangeCount){const C=this.config.rangeCount-1,b=Math.round(C/2),re=Math.max(0,d-b),et=Math.max(0,r-C-1);return Math.min(et,re)}return null}get config(){return Object.assign(Kv,this.paginationConfig.pagination)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Jg))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ru=(()=>{class s{constructor(r,d){this.paginationBuilder=r,this.activatedRoute=d,this.pageRoute=".",this.viewPageEvent=new e.vpe,this.pages=[]}get pagination(){return this._pagination}set pagination(r){r&&(this._pagination=r,this.render(r))}render(r){!r||(this.pages=this.paginationBuilder.paginate(r.totalPages??0,r.currentPage??0))}getAriaLabel(r,d){return(d=(d=d===$r.START?$r.FIRST:d)===$r.END?$r.LAST:d)===$r.PAGE?`${d} ${r}`:`${d} ${$r.PAGE}`}isCurrent(r){return r.type===$r.PAGE&&r.number===this.pagination.currentPage}isInactive(r){return!r.hasOwnProperty("number")||r.number===this.pagination.currentPage}getQueryParams(r){const d=Object.assign({},this.activatedRoute.snapshot.queryParams);return this.queryParam&&void 0!==r.number&&void 0!==this.pagination.totalPages&&r.number<this.pagination.totalPages&&!this.isCurrent(r)&&(d[this.queryParam]=r.number),d[this.queryParam]===this.defaultPage&&delete d[this.queryParam],d}pageChange(r){this.viewPageEvent.emit(r.number)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Yd),e.Y36(Ze.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-pagination"]],inputs:{pageRoute:"pageRoute",queryParam:"queryParam",defaultPage:"defaultPage",pagination:"pagination"},outputs:{viewPageEvent:"viewPageEvent"},decls:1,vars:1,consts:[[3,"class","disabled","current","routerLink","queryParams","tabIndex","click",4,"ngFor","ngForOf"],[3,"routerLink","queryParams","tabIndex","click"]],template:function(r,d){1&r&&e.YNc(0,Js,2,11,"a",0),2&r&&e.Q6J("ngForOf",d.pages)},dependencies:[n.sg,Ze.yS],encapsulation:2,changeDetection:0}),s})(),Kg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Zd)],imports:[n.ez,Ze.Bz]}),s})(),Bc=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,It.u5,h.LUR]}),s})(),Ol=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,cn.A0,It.u5,It.UX,So,Kg,Iu,Bc]}),s})(),Ll=(()=>{class s{constructor(){this.ariaLabel="",this.class="",this.disabled=!1,this.loading=!1,this.clickEvent=new e.vpe}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-progress-button"]],inputs:{ariaLabel:"ariaLabel",class:"class",disabled:"disabled",loading:"loading"},outputs:{clickEvent:"clickEvent"},ngContentSelectors:nr,decls:4,vars:4,consts:[[1,"btn","btn-primary",3,"disabled","ngClass","click"],[1,"cx-progress-button-container"],["class","loader-container",4,"ngIf"],[1,"loader-container"],[1,"loader"]],template:function(r,d){1&r&&(e.F$t(),e.TgZ(0,"button",0),e.NdJ("click",function(){return d.clickEvent.emit()}),e.TgZ(1,"div",1),e.YNc(2,Z,4,3,"div",2),e.Hsn(3),e.qZA()()),2&r&&(e.Q6J("disabled",d.disabled||d.loading)("ngClass",d.class),e.uIk("aria-label",d.ariaLabel),e.xp6(2),e.Q6J("ngIf",d.loading))},dependencies:[n.mk,n.O5,h.X$D],encapsulation:2}),s})(),qg=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),s})(),Pu=(()=>{class s{constructor(){this.defaultHideMode=!0,this.splitViewCount=1,this._views$=new P.X([])}add(r,d){const C={hidden:0!==r&&this.defaultHideMode,...d};this.views[r]||(this.views[r]=C,this.updateState(r,C.hidden),this._views$.next(this.views))}updateSplitView(r){r!==this.splitViewCount&&(this.splitViewCount=r,this.updateState())}getActiveView(){return this._views$.pipe((0,Ie.U)(r=>this.getActive(r)),(0,Re.x)())}getViewState(r){return this._views$.pipe((0,Ie.U)(d=>d[r]),(0,Ke.h)(d=>Boolean(d)))}remove(r){const d=this.getActive(this.views);this._views$.next(this.views.splice(0,r)),d>=r&&this.updateState(r)}get nextPosition(){return this.views.length||0}toggle(r,d){this.views[r]||this.add(r,{hidden:d??!1}),this.views[r]&&void 0===d&&!this.views[r].hidden&&r--,this.updateState(r,!0===d)}updateState(r,d){const C=[...this.views];void 0!==d&&r&&C[r]&&(C[r].hidden=d);let b=C.length-[...C].reverse().findIndex(re=>!re.hidden)-1;b===C.length&&(b=r?r-1:C.length-1),C.forEach((re,et)=>{re&&et!==r&&(re.hidden=et>b||et<b-(this.splitViewCount-1))}),this._views$.next(C)}getActive(r){const d=[...r].reverse().findIndex(b=>!b.hidden);return-1===d?0:r.length-d-1}get views(){return this._views$.value}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),Af=(()=>{class s{constructor(r,d,C){this.splitService=r,this.breakpointService=d,this.elementRef=C,this.subscription=new M.w,this.lastVisibleView=1}set hideMode(r){this.splitService.defaultHideMode=r}ngOnInit(){this.subscription.add(this.splitService.getActiveView().subscribe(r=>this.lastVisibleView=r+1)),this.subscription.add(this.breakpointService.breakpoint$.subscribe(()=>{this.splitService.updateSplitView(this.splitViewCount)}))}get splitViewCount(){return Number(getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-max-views"))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Pu),e.Y36(yi),e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-split-view"]],hostVars:3,hostBindings:function(r,d){2&r&&(e.uIk("active-view",d.lastVisibleView),e.Udp("--cx-active-view",d.lastVisibleView))},inputs:{hideMode:"hideMode"},features:[e._Bn([Pu])],ngContentSelectors:nr,decls:1,vars:0,template:function(r,d){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),Df=(()=>{class s{constructor(r,d,C){this.splitService=r,this.elementRef=d,this.cd=C,this.disappeared=!0,this.hiddenChange=new e.vpe}set hidden(r){this._hidden=r,this.splitService.toggle(this.viewPosition,r)}ngOnInit(){this.splitService.add(this.viewPosition,this._hidden?{hidden:this._hidden}:{}),this.subscription=this.splitService.getViewState(this.viewPosition).pipe((0,it.j)(d=>(0,De.H)(d.hidden?1.25*this.duration:0))).subscribe(d=>{this.hiddenChange.emit(d.hidden),this._hidden=d.hidden,this.disappeared=d.hidden,this.cd.markForCheck()})}toggle(r){this.splitService.toggle(this.viewPosition,r)}get viewPosition(){return Number(this.position)>=0||(this.position=this.splitService.nextPosition.toString()),Number(this.position)}get duration(){const r=getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-transition-duration").trim();return r.indexOf("ms")>-1?Number(r.split("ms")[0]):r.indexOf("s")>-1?1e3*Number(r.split("s")[0]):300}ngOnDestroy(){this.splitService.remove(this.viewPosition),this.subscription?.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Pu),e.Y36(e.SBq),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-view"]],hostVars:4,hostBindings:function(r,d){2&r&&(e.uIk("position",d.position)("disappeared",d.disappeared),e.Udp("--cx-view-position",d.position))},inputs:{position:"position",hidden:"hidden"},outputs:{hiddenChange:"hiddenChange"},ngContentSelectors:nr,decls:1,vars:0,template:function(r,d){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),bf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz]}),s})(),Xg=(()=>{class s{constructor(r){this.globalMessageService=r,this.iconTypes=lr,this.messageType=h.xUg}ngOnInit(){this.messages$=this.globalMessageService.get()}clear(r,d){this.globalMessageService.remove(r,d)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.IWp))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-global-message"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-visually-hidden",4,"ngFor","ngForOf"],["class","alert alert-success",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngFor","ngForOf"],["class","alert alert-warning",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"cx-visually-hidden"],[1,"alert","alert-success"],[1,"alert-icon"],[3,"type"],["type","button",1,"close",3,"click"],[1,"alert","alert-info"],[1,"alert","alert-warning"],[1,"alert","alert-danger"]],template:function(r,d){1&r&&(e.YNc(0,Nr,6,5,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.messages$))},dependencies:[n.sg,n.O5,lo,n.Ov,h.X$D],encapsulation:2}),s})(),Tf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,So,h.LUR]}),s})(),zd=(()=>{class s{constructor(){this.showBody=!1,this.isVisibleCloseButton=!0,this.closeMessage=new e.vpe,this.buttonAction=new e.vpe,this.iconTypes=lr}get getCssClassesForMessage(){return{"cx-message-success":this.type===h.xUg.MSG_TYPE_CONFIRMATION,"cx-message-info":this.type===h.xUg.MSG_TYPE_INFO,"cx-message-warning":this.type===h.xUg.MSG_TYPE_WARNING,"cx-message-danger":this.type===h.xUg.MSG_TYPE_ERROR}}get getIconType(){switch(this.type){case h.xUg.MSG_TYPE_WARNING:return lr.WARNING;case h.xUg.MSG_TYPE_ERROR:return lr.ERROR;case h.xUg.MSG_TYPE_INFO:return lr.INFO;default:return lr.SUCCESS}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-message"]],inputs:{text:"text",actionButtonText:"actionButtonText",actionButtonMessage:"actionButtonMessage",accordionText:"accordionText",showBody:"showBody",isVisibleCloseButton:"isVisibleCloseButton",type:"type"},outputs:{closeMessage:"closeMessage",buttonAction:"buttonAction"},ngContentSelectors:nr,decls:11,vars:7,consts:[[1,"cx-message",3,"ngClass"],[1,"cx-message-content"],[1,"cx-message-header"],[1,"cx-message-icon"],[3,"type"],[1,"cx-message-text"],["aria-hidden","true","class","cx-message-accordion-button link cx-action-link","type","button",3,"click",4,"ngIf"],["aria-hidden","true","class","btn btn-link cx-action-link","type","button",3,"cxAtMessage","click",4,"ngIf"],["aria-hidden","true","class","close","type","button",3,"cxAtMessage","click",4,"ngIf"],["class","cx-message-body",4,"ngIf"],["aria-hidden","true","type","button",1,"cx-message-accordion-button","link","cx-action-link",3,"click"],[1,"cx-message-accordion-icon",3,"type"],["aria-hidden","true","type","button",1,"btn","btn-link","cx-action-link",3,"cxAtMessage","click"],["aria-hidden","true","type","button",1,"close",3,"cxAtMessage","click"],[1,"cx-message-body"]],template:function(r,d){1&r&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"cx-icon",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.YNc(7,pi,3,4,"button",6),e.YNc(8,wo,2,2,"button",7),e.qZA(),e.YNc(9,Mr,4,7,"button",8),e.qZA(),e.YNc(10,Ei,2,0,"div",9),e.qZA()()),2&r&&(e.Q6J("ngClass",d.getCssClassesForMessage),e.xp6(4),e.Q6J("type",d.getIconType),e.xp6(2),e.hij(" ",d.text," "),e.xp6(1),e.Q6J("ngIf",d.accordionText),e.xp6(1),e.Q6J("ngIf",d.actionButtonText),e.xp6(1),e.Q6J("ngIf",d.isVisibleCloseButton),e.xp6(1),e.Q6J("ngIf",d.showBody||!d.accordionText))},dependencies:[bu,n.mk,n.O5,lo,h.X$D],encapsulation:2}),s})(),em=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[Qo,n.ez,h.LUR,So]}),s})(),xf=(()=>{class s{constructor(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-promotions"]],inputs:{promotions:"promotions"},decls:1,vars:1,consts:[["class","cx-promotions",4,"ngIf"],[1,"cx-promotions"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,d){1&r&&e.YNc(0,io,3,2,"div",0),2&r&&e.Q6J("ngIf",d.promotions)},dependencies:[n.sg,n.O5],encapsulation:2,changeDetection:0}),s})(),Mf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})();var ha=(()=>{return(s=ha||(ha={})).LANGUAGE="LANGUAGE",s.CURRENCY="CURRENCY",ha;var s})();const qv={[h.ORv]:"Language",[h.IkA]:"Currency"};let ga=(()=>{class s{constructor(r,d,C){this.componentData=r,this.contextServiceMap=d,this.injector=C}getItems(r){return this.getService(r).pipe((0,fe.w)(d=>d.getAll()),(0,fe.w)(d=>this.getContext(r).pipe((0,fe.w)(C=>{const b=[];for(const re of d)b.push({...re,label:this.getOptionLabel(re,C)});return(0,R.of)(b)}))))}getActiveItem(r){return this.getService(r).pipe((0,fe.w)(d=>d.getActive()))}getLabel(r){return this.getContext(r).pipe((0,Ie.U)(d=>{if(d)return qv[d]}))}setActive(r,d){this.getService(d).pipe((0,Nt.q)(1)).subscribe(C=>{C.setActive(r)})}getService(r){return this.getContext(r).pipe((0,Ie.U)(d=>d?this.getInjectedService(d):void 0),(0,Ke.h)(h.pTN))}getContext(r){return r?(0,R.of)(r===ha.CURRENCY?h.IkA:r===ha.LANGUAGE?h.ORv:r):this.componentData?this.componentData.data$.pipe((0,Ie.U)(d=>d.context),(0,Ie.U)(d=>{switch(d){case"LANGUAGE":return h.ORv;case"CURRENCY":return h.IkA;default:return d}})):(0,R.of)(void 0)}getInjectedService(r){return this.injector.get(this.contextServiceMap[r],void 0)}getOptionLabel(r,d){switch(d){case h.ORv:return r.nativeName;case h.IkA:return r.symbol+" "+r.isocode;default:return r.isocode}}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(fo,8),e.LFG(h.Zu_),e.LFG(e.zs3))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),If=(()=>{class s{constructor(r){this.componentService=r,this.iconTypes=lr}get items$(){return this.componentService.getItems(this.context)}get activeItem$(){return this.componentService.getActiveItem(this.context)}set active(r){this.componentService.setActive(r,this.context)}get label$(){return this.componentService.getLabel(this.context)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(ga))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-site-context-selector"]],inputs:{context:"context"},decls:3,vars:5,consts:[[4,"ngIf"],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"small",3,"type"],[3,"value","selected"]],template:function(r,d){if(1&r&&(e.YNc(0,Co,7,5,"label",0),e.ALo(1,"async"),e.ALo(2,"async")),2&r){let C;e.Q6J("ngIf",(null==(C=e.lcZ(1,1,d.items$))?null:C.length)>1&&e.lcZ(2,3,d.items$))}},dependencies:[n.sg,n.O5,lo,n.Ov],encapsulation:2,changeDetection:0}),s})(),Xv=(()=>{class s{constructor(){this.siteContextType=ha}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-language-currency-selector"]],decls:2,vars:2,consts:[[3,"context"]],template:function(r,d){1&r&&e._UZ(0,"cx-site-context-selector",0)(1,"cx-site-context-selector",0),2&r&&(e.Q6J("context",d.siteContextType.LANGUAGE),e.xp6(1),e.Q6J("context",d.siteContextType.CURRENCY))},dependencies:[If],encapsulation:2,changeDetection:0}),s})(),Gc=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSSiteContextComponent:{component:If,providers:[{provide:ga,useClass:ga,deps:[fo,h.Zu_,e.zs3]}]},LanguageCurrencyComponent:{component:Xv}}}),ga],imports:[n.ez,Ze.Bz,h.R$7,So]}),s})(),Ou=(()=>{class s{constructor(){this.initialRate=0,this.icon=lr.STAR,this.disabled=!0,this.rating=this.initialRate,this.change=new e.vpe}setRate(r){this.disabled||(this.rating=r)}reset(){this.disabled||(this.rating=this.initialRate??0)}saveRate(r){this.disabled||(this.initialRate=r,this.setRate(r),this.change.emit(r))}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-star-rating"]],hostVars:3,hostBindings:function(r,d){1&r&&e.NdJ("mouseout",function(){return d.reset()}),2&r&&(e.uIk("disabled",d.disabled),e.Udp("--star-fill",d.rating))},inputs:{disabled:"disabled",rating:"rating"},outputs:{change:"change"},decls:1,vars:2,consts:[["class","star","role","button",3,"type","mouseover","click","keydown.space",4,"ngFor","ngForOf"],["role","button",1,"star",3,"type","mouseover","click","keydown.space"]],template:function(r,d){1&r&&e.YNc(0,Ks,2,8,"cx-icon",0),2&r&&e.Q6J("ngForOf",e.DdM(1,Ea))},dependencies:[n.sg,lo,h.X$D],encapsulation:2,changeDetection:0}),s})(),Lu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,So,h.LUR]}),s})();const wf={tableOptions:{headerComponent:(()=>{class s{constructor(r){this.outlet=r}get header(){if("string"==typeof this.fieldOptions?.label)return this.fieldOptions.label}get localizedHeader(){return this.fieldOptions?.label?.i18nKey||`${this.i18nRoot}.${this.field}`}get fieldOptions(){return this.outlet?.context._options?.cells?.[this.field]}get field(){return this.outlet?.context?._field}get type(){return this.outlet?.context?._type}get i18nRoot(){return this.outlet?.context?._i18nRoot}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Td))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-table-header-cell"]],decls:2,vars:3,template:function(r,d){1&r&&(e._uU(0),e.ALo(1,"cxTranslate")),2&r&&e.Oqu(d.header||e.lcZ(1,1,d.localizedHeader))},dependencies:[h.X$D],encapsulation:2,changeDetection:0}),s})(),dataComponent:(()=>{class s{constructor(r){this.outlet=r}get value(){return this.model[this.field]}get model(){return this.outlet?.context}get field(){return this.outlet?.context?._field}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Td))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-table-data-cell"]],hostVars:1,hostBindings:function(r,d){2&r&&e.uIk("title",d.value)},decls:1,vars:1,template:function(r,d){1&r&&e._uU(0),2&r&&e.Oqu(d.value)},encapsulation:2,changeDetection:0}),s})()}};let Rf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})(),Jd=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez]}),s})(),Vs=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),s})(),Fl=(()=>{class s{constructor(r,d,C){this.outletService=r,this.componentFactoryResolver=d,this.config=C,this.outletRefs=new Map}add(r){r?.cells?.forEach(d=>{const C=this.getHeaderRenderer(r,d);if(C){const re=this.getHeaderOutletRef(r.type,d);this.render(re,C)}const b=this.getDataRenderer(r,d);if(b){const re=this.getDataOutletRef(r.type,d);this.render(re,b)}})}render(r,d){if(this.outletRefs.has(r))return;this.outletRefs.set(r,!0);const C=this.componentFactoryResolver.resolveComponentFactory(d);this.outletService.add(r,C)}getHeaderRenderer(r,d){return r.options?.cells?.[d]?.headerComponent||r.options?.headerComponent||this.config.tableOptions?.headerComponent}getDataRenderer(r,d){return r.options?.cells?.[d]?.dataComponent||r.options?.dataComponent||this.config.tableOptions?.dataComponent}getHeaderOutletRef(r,d){return`table.${r}.header.${d}`}getHeaderOutletContext(r,d,C,b){return{_type:r,_options:d,_field:b,_i18nRoot:C}}getDataOutletRef(r,d){return`table.${r}.data.${d}`}getDataOutletContext(r,d,C,b,re){return{...re,_type:r,_options:d,_field:b,_i18nRoot:C}}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(xi),e.LFG(e._Vd),e.LFG(Rf))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Hs=(()=>{return(s=Hs||(Hs={}))[s.VERTICAL=1]="VERTICAL",s[s.VERTICAL_STACKED=2]="VERTICAL_STACKED",s[s.HORIZONTAL=3]="HORIZONTAL",Hs;var s})();let Kd=(()=>{class s{constructor(r){this.rendererService=r,this.launch=new e.vpe}set structure(r){this._structure=r,this.init()}get structure(){return this._structure}init(){this.verticalLayout=!this.layout||this.layout===Hs.VERTICAL,this.verticalStackedLayout=this.layout===Hs.VERTICAL_STACKED,this.horizontalLayout=this.layout===Hs.HORIZONTAL,this.rendererService.add(this.structure),this.addTableDebugInfo()}launchItem(r){this.launch.emit(r)}isCurrentItem(r){return!(!this.currentItem||!this.currentItem.value)&&this.currentItem?.value===r?.[this.currentItem?.property]}getHeaderOutletRef(r){return this.rendererService.getHeaderOutletRef(this.type,r)}getHeaderOutletContext(r){return this.rendererService.getHeaderOutletContext(this.type,this.options,this.i18nRoot,r)}getDataOutletRef(r){return this.rendererService.getDataOutletRef(this.type,r)}getDataOutletContext(r,d){return this.rendererService.getDataOutletContext(this.type,this.options,this.i18nRoot,r,d)}trackData(r,d){return JSON.stringify(d)}addTableDebugInfo(){(0,e.X6Q)()&&this.type&&(this.tableType=this.type)}get layout(){return this.structure?.options?.layout}get type(){return this.structure?.type}get options(){return this.structure?.options}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Fl))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-table"]],hostVars:7,hostBindings:function(r,d){2&r&&(e.uIk("__cx-table-type",d.tableType),e.ekj("horizontal",d.horizontalLayout)("vertical",d.verticalLayout)("vertical-stacked",d.verticalStackedLayout))},inputs:{structure:"structure",data:"data",i18nRoot:"i18nRoot",currentItem:"currentItem"},outputs:{launch:"launch"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"is-current","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[3,"class",4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],["scope","col",3,"class",4,"ngFor","ngForOf"],["scope","col"]],template:function(r,d){1&r&&e.YNc(0,ir,4,3,"table",0),2&r&&e.Q6J("ngIf",d.structure)},dependencies:[n.sg,n.O5,fs],encapsulation:2,changeDetection:0}),s})(),tm=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(wf)],imports:[n.ez,Ki,Vs,Jd]}),s})(),Pf=(()=>{class s{constructor(r,d){this.breakpointService=r,this.config=d}buildStructure(r,d){return this.hasTableConfig(r)?this.buildStructureFromConfig(r,d):this.buildRandomStructure(r)}buildStructureFromConfig(r,d){return this.breakpointService.breakpoint$.pipe((0,Ie.U)(C=>({...this.getTableConfig(r,C,d),type:r})))}getTableConfig(r,d,C){if(!this.config.table?.[r])return null;const b=this.findRelevantBreakpoints(d),re=[...b].reverse().find(an=>!!this.config.table?.[r][an]?.cells),et=re&&this.config.table[r][re]?.cells||this.config.table[r].cells||C?.cells;let Bt={...C?.options,...this.config.table[r].options};return b.forEach(an=>{Bt={...Bt,...C?.[an]?.options,...this.config.table?.[r]?.[an]?.options}}),{cells:et,options:Bt}}buildStructureFromData(r,d){return this.logWarning(`No table configuration found to render table with type "${r}". The table header for "${r}" is generated by the help of the first data item`),d.pipe((0,Ie.U)(C=>{const b=Object.keys(C?.[0]).map(re=>re);return{type:r,cells:b}}))}buildRandomStructure(r){return this.logWarning(`No data available for "${r}", a random structure is generated (with hidden table headers).`),(0,R.of)({type:r,cells:["unknown","unknown","unknown","unknown","unknown"]})}findRelevantBreakpoints(r){const d=this.breakpointService.breakpoints.indexOf(r);return this.breakpointService.breakpoints.slice(0,d+1)}hasTableConfig(r){return!!this.config.table?.[r]}logWarning(r){(0,e.X6Q)()&&console.warn(r)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(yi),e.LFG(Rf))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),e_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{RotatingImagesComponent:{component:gf}}})],imports:[n.ez,ca,Tu,Xi]}),s})(),Vc=(()=>{class s{constructor(r,d,C){this.component=r,this.urlService=d,this.cmsService=C,this.data$=this.component.data$.pipe((0,rt.b)(b=>{this.setRouterLink(b),this.styleClasses=b.styleClasses}))}getTarget(r){return"true"===r.external||!0===r.external?"_blank":null}setRouterLink(r){r.urlLink?this.routerLink=r.urlLink:r.contentPage?this.cmsService.getPage({id:r.contentPage,type:h.GV4.CONTENT_PAGE}).pipe((0,Nt.q)(1)).subscribe(d=>{this.routerLink=d?.label}):r.product?this.routerLink=this.urlService.transform({cxRoute:"product",params:{code:r.product}}):r.category&&(this.routerLink=this.urlService.transform({cxRoute:"category",params:{code:r.category}}))}getImage(r){if(r.media)return r.media}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.hCH),e.Y36(h.ctt))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-banner"]],hostVars:2,hostBindings:function(r,d){2&r&&e.Tol(d.styleClasses)},decls:2,vars:3,consts:[[4,"ngIf"],[3,"url","target",4,"ngIf"],[3,"url","target"],["class","headline",3,"innerHTML",4,"ngIf"],[3,"container"],["class","content",3,"innerHTML",4,"ngIf"],[1,"headline",3,"innerHTML"],[1,"content",3,"innerHTML"]],template:function(r,d){1&r&&(e.YNc(0,br,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.data$))},dependencies:[n.O5,$d,vs,n.Ov],encapsulation:2,changeDetection:0}),s})(),kl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SimpleResponsiveBannerComponent:{component:Vc},BannerComponent:{component:Vc},SimpleBannerComponent:{component:Vc}}})],imports:[n.ez,Ze.Bz,Rl,Xi]}),s})(),Nl=(()=>{class s{constructor(r){this.component=r,this.data$=this.component.data$.pipe((0,rt.b)(d=>this.styleClasses=d?.styleClasses))}getTarget(r){return"true"===r.target||!0===r.target?"_blank":null}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-link"]],hostVars:2,hostBindings:function(r,d){2&r&&e.Tol(d.styleClasses)},decls:2,vars:3,consts:[[3,"url","style","target",4,"ngIf"],[3,"url","target"]],template:function(r,d){1&r&&(e.YNc(0,jn,2,5,"cx-generic-link",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.data$))},dependencies:[n.O5,$d,n.Ov],encapsulation:2,changeDetection:0}),s})(),Ul=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSLinkComponent:{component:Nl}}})],imports:[n.ez,Ze.Bz,Rl]}),s})(),Bl=(()=>{class s{constructor(r,d){this.renderer=r,this.winRef=d}getPath(r){return`${this.winRef.location.href?.replace(/#.*$/,"")}${r}`}transform(r=""){const d=this.renderer.createElement("template");d.innerHTML=r.trim();const C=d.content.querySelectorAll("a");return Array.from(C).forEach(b=>{const re=b.getAttribute("href");0===re?.indexOf("#")&&this.renderer.setProperty(b,"href",this.getPath(re))}),d.innerHTML}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.Qsj,16),e.Y36(h.X9E,16))},s.\u0275pipe=e.Yjl({name:"cxSupplementHashAnchors",type:s,pure:!0}),s})(),Qd=(()=>{class s{constructor(r,d,C){this.component=r,this.router=d,this.featureConfigService=C}handleClick(r){if(r.target instanceof HTMLAnchorElement){const d=r.target,C=d?.getAttribute("href");if(this.featureConfigService?.isLevel("5.1")){const b=d.ownerDocument.URL.split("://")[1].split("/")[0];C&&b===d.host&&(r.preventDefault(),this.router.navigateByUrl(C))}else 0===C?.indexOf("/")&&(r.preventDefault(),this.router.navigate([`/${C}`]))}}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(Ze.F0),e.Y36(h.Ru9,8))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-paragraph"]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)})},decls:2,vars:3,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(r,d){1&r&&(e.YNc(0,Pr,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.component.data$))},dependencies:[n.O5,n.Ov,Bl],encapsulation:2,changeDetection:0}),s})(),nm=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})(),Of=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSParagraphComponent:{component:Qd},CMSTabParagraphComponent:{component:Qd}}})],imports:[n.ez,Ze.Bz,nm]}),s})(),qd=(()=>{class s{constructor(r,d,C){this.componentData=r,this.cmsService=d,this.winRef=C,this.activeTabNum=0,this.tabTitleParams=[],this.components$=this.componentData.data$.pipe((0,Re.x)((b,re)=>b?.components===re?.components),(0,rt.b)(b=>{this.ariaLabel=`${b?.uid}.tabPanelContainerRegion`}),(0,fe.w)(b=>(0,E.aj)((b?.components??"").split(" ").map(re=>this.cmsService.getComponentData(re).pipe((0,Re.x)(),(0,Ie.U)(et=>{if(et)return et.flexType||(et={...et,flexType:et.typeCode}),{...et,title:`${b.uid}.tabs.${et.uid}`}}))))))}select(r,d){this.activeTabNum=this.activeTabNum===r?-1:r,d&&d?.target&&this.winRef?.nativeWindow?.scrollTo({left:0,top:d.target.parentNode.offsetTop,behavior:"smooth"})}ngOnInit(){this.activeTabNum=this.winRef?.nativeWindow?.history?.state?.activeTab??this.activeTabNum}ngAfterViewInit(){this.children.length>0&&this.getTitleParams(this.children)}tabCompLoaded(r){this.tabTitleParams.push(r.instance.tabTitleParam$)}getTitleParams(r){r.forEach(d=>{this.tabTitleParams.push(d.cmpRef?.instance.tabTitleParam$??null)})}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.ctt),e.Y36(h.X9E))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-tab-paragraph-container"]],viewQuery:function(r,d){if(1&r&&e.Gf(aa,5),2&r){let C;e.iGM(C=e.CRH())&&(d.children=C)}},decls:2,vars:3,consts:[[4,"ngIf"],["role","region","tabindex","-1",1,"container"],[4,"ngFor","ngForOf"],[3,"click"],["aria-hidden","true",1,"accordion-icon"],["tabindex","0","role","presentation",1,"cx-tab-paragraph-content"],[3,"cxOutlet","cxOutletContext"],[3,"cxComponentWrapper","cxComponentRef"]],template:function(r,d){1&r&&(e.YNc(0,qs,4,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.components$))},dependencies:[n.sg,n.O5,aa,fs,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Ff=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSTabParagraphContainer:{component:qd}}})],imports:[n.ez,ca,Ki,h.LUR]}),s})(),Xd=(()=>{class s{constructor(r){this.userAddressService=r}getAddresses(){return this.userAddressService.getAddresses()}getAddressesStateLoading(){return this.userAddressService.getAddressesLoading()}loadAddresses(){this.userAddressService.loadAddresses()}addUserAddress(r){this.userAddressService.addUserAddress(r)}updateUserAddress(r,d){this.userAddressService.updateUserAddress(r,d)}setAddressAsDefault(r){this.userAddressService.setAddressAsDefault(r)}deleteUserAddress(r){this.userAddressService.deleteUserAddress(r)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.kFJ))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Fu={mr:1,mrs:2,miss:3,ms:4,dr:5,rev:6};function kf(s,_){return s.code&&_.code&&Fu[s.code]&&Fu[_.code]?Fu[s.code]-Fu[_.code]:1}let ep=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})(),Nf=(()=>{class s{constructor(r,d){this.config=r,this.keyboardFocusService=d,this.skipLinks$=new P.X([])}getSkipLinks(){return this.skipLinks$}add(r,d){const C=this.config.skipLinks?.find(b=>b.key===r);if(C){const b=this.skipLinks$.value;b.splice(this.getSkipLinkIndexInArray(r),0,{target:d,i18nKey:C.i18nKey,position:C.position,key:r}),this.skipLinks$.next(b)}}remove(r){if(this.config.skipLinks?.find(C=>C.key===r)){let C=this.skipLinks$.value;C=C.filter(b=>b.key!==r),this.skipLinks$.next(C)}}scrollToTarget(r){const d=r.target instanceof HTMLElement?r.target:r.target?.parentElement,C=this.keyboardFocusService.findFirstFocusable(d)||d,b=C?.hasAttribute("tabindex");b||C?.setAttribute("tabindex","-1"),C?.focus(),b||C?.removeAttribute("tabindex")}getSkipLinkIndexInArray(r){let d=this.config.skipLinks?.findIndex(C=>C.key===r)??0;for(;d>0;){d--;const C=this.config.skipLinks?.[d];if(C){const re=this.skipLinks$.value.findIndex(et=>et.key===C.key);if(re>-1)return re+1}}return 0}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(ep),e.LFG(Va))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rm=(()=>{class s{constructor(r){this.skipLinkService=r,this.skipLinks$=this.skipLinkService.getSkipLinks()}scrollToTarget(r){this.skipLinkService.scrollToTarget(r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Nf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-skip-link"]],decls:2,vars:3,consts:[[3,"cxFocus",4,"ngIf"],[3,"cxFocus"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,d){1&r&&(e.YNc(0,ou,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.skipLinks$))},dependencies:[n.sg,n.O5,ko,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})();const om={skipLinks:[{key:"cx-header",i18nKey:"skipLink.labels.header"},{key:"cx-main",i18nKey:"skipLink.labels.main"},{key:"cx-footer",i18nKey:"skipLink.labels.footer"}]};let o_=(()=>{class s{constructor(r,d){this.elementRef=r,this.skipLinkService=d}ngOnInit(){this.skipLinkService.add(this.cxSkipLink,this.elementRef.nativeElement)}ngOnDestroy(){this.skipLinkService.remove(this.cxSkipLink)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(e.SBq),e.Y36(Nf))},s.\u0275dir=e.lG2({type:s,selectors:[["","cxSkipLink",""]],inputs:{cxSkipLink:"cxSkipLink"}}),s})(),im=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(om),{provide:e.ip1,useFactory:i_,deps:[e._Vd,xi],multi:!0}],imports:[n.ez,h.LUR,h.pEA.withConfig(om),Ci]}),s})();function i_(s,_){return()=>{const d=s.resolveComponentFactory(rm);_.add("cx-storefront",d,qr.BEFORE)}}const sm={breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:{min:1200}}},ma={direction:{detect:!0,default:Qi.LTR,rtlLanguages:["he","ar"]}};let Gl=(()=>{class s{constructor(r,d,C){this.configInit=r,this.languageService=d,this.winRef=C,this.startsDetecting=!1,this.subscription=new M.w}initialize(){return this.configInit.getStable("direction").pipe((0,rt.b)(r=>{this.config=r?.direction,this.config?.detect?this.detect():this.setDirection(this.winRef.document.documentElement,this.config?.default)})).toPromise()}detect(){this.startsDetecting||(this.subscription.add(this.languageService.getActive().subscribe(r=>this.setDirection(this.winRef.document.documentElement,this.getDirection(r)))),this.startsDetecting=!0)}setDirection(r,d){d?r.setAttribute("dir",d):r.removeAttribute("dir")}getDirection(r){return r&&this.config?.rtlLanguages?.includes(r)?Qi.RTL:r&&this.config?.ltrLanguages?.includes(r)?Qi.LTR:this.config?.default}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.yUt),e.LFG(h.TSl),e.LFG(h.X9E))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Uf(s,_){return()=>{if(_.isLevel("2.1"))return s.initialize()}}let Bf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,useFactory:Uf,deps:[Gl,h.Ru9]},(0,h.i51)(ma)]}),s})(),Wa=(()=>{class s{constructor(r){this.isExpanded=new P.X(!1),r.events.pipe((0,Ke.h)(d=>d instanceof Ze.OD)).subscribe(()=>{this.toggle(!0)})}toggle(r){this.isExpanded.next(!r&&!this.isExpanded.value)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Ze.F0))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Gf=(()=>{class s{constructor(r){this.hamburgerMenuService=r}toggle(){this.hamburgerMenuService.toggle()}get isExpanded(){return this.hamburgerMenuService.isExpanded}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Wa))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-hamburger-menu"]],decls:6,vars:10,consts:[["type","button","aria-controls","cx-header",1,"cx-hamburger",3,"click"],[1,"hamburger-box"],[1,"hamburger-inner"]],template:function(r,d){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return d.toggle()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"cxTranslate"),e.TgZ(4,"span",1),e._UZ(5,"span",2),e.qZA()()),2&r&&(e.ekj("is-active",e.lcZ(1,4,d.isExpanded)),e.uIk("aria-expanded",e.lcZ(2,6,d.isExpanded))("aria-label",e.lcZ(3,8,"common.menu")))},dependencies:[n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),ku=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{HamburgerMenuComponent:{component:Gf}}})],imports:[n.ez,h.LUR]}),s})(),Vf=(()=>{class s{constructor(r,d){this.config=r,this.rendererFactory=d}init(r){this.renderer=this.rendererFactory.createRenderer(null,null),this.rootComponent=r,this.setTheme(this.config.context?.[h.F3r]?.[0])}setTheme(r){if(r){const d=this.rootComponent.location.nativeElement;this.renderer.removeClass(d,this.existingTheme),this.renderer.addClass(d,r),this.existingTheme=r}}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.zQk),e.LFG(e.FYo))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function va(s){return r=>s.init(r)}let Hf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[{provide:e.tb,multi:!0,useFactory:va,deps:[Vf]}]}),s})(),$f=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(sm)],imports:[Qp,Pg.forRoot(),Bf,Hf,Qp]}),s})();var Vl=(()=>((Vl||(Vl={})).STOREFRONT="cx-storefront",Vl))();let jf=(()=>{class s{constructor(r,d,C,b){this.hamburgerMenuService=r,this.routingService=d,this.elementRef=C,this.keyboardFocusService=b,this.isExpanded$=this.hamburgerMenuService.isExpanded,this.StorefrontOutlets=Vl,this.role="presentation",this.tabindex="0",this.keyboardFocusConfig={focusOnEscape:!0,focusOnDoubleEscape:!0}}handleEscape(r){this.keyboardFocusService.handleEscape(this.elementRef.nativeElement,this.keyboardFocusConfig,r)}ngOnInit(){this.navigateSubscription=this.routingService.isNavigating().subscribe(r=>{this.startNavigating=!0===r,this.stopNavigating=!1===r})}collapseMenuIfClickOutside(r){const d=r.target;"header"===d.nodeName.toLowerCase()&&d.className.includes("is-expanded")&&this.collapseMenu()}collapseMenu(){this.hamburgerMenuService.toggle(!0)}ngOnDestroy(){this.navigateSubscription&&this.navigateSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Wa),e.Y36(h.Znh),e.Y36(e.SBq),e.Y36(Va))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-storefront"]],viewQuery:function(r,d){if(1&r&&e.Gf(rm,5),2&r){let C;e.iGM(C=e.CRH())&&(d.child=C.first)}},hostVars:6,hostBindings:function(r,d){1&r&&e.NdJ("keydown.escape",function(b){return d.handleEscape(b)}),2&r&&(e.Ikx("tabindex",d.tabindex),e.uIk("role",d.role),e.ekj("start-navigating",d.startNavigating)("stop-navigating",d.stopNavigating))},decls:1,vars:1,consts:[["cxPageTemplateStyle","",3,"cxOutlet"],["cxOutlet","cx-header"],["cxSkipLink","cx-main",3,"cxFocus"],["cxOutlet","cx-footer"],["id","cx-header","cxSkipLink","cx-header",3,"cxFocus","keydown.escape","click"],["section","header"],["section","navigation"],["position","BottomHeaderSlot"],["aria-atomic","true","aria-live","assertive"],["cxSkipLink","cx-footer",3,"cxFocus"],["section","footer"]],template:function(r,d){1&r&&e.YNc(0,zr,4,2,"ng-template",0),2&r&&e.Q6J("cxOutlet",d.StorefrontOutlets.STOREFRONT)},dependencies:[Ze.lC,Xg,fs,ki,QC,_l,ko,o_,n.Ov],encapsulation:2}),s})(),Zf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz,Tf,Ki,Qp,Pd,gs,Ci,im]}),s})(),tp=(()=>{class s{constructor(r,d,C,b,re,et){this.fb=r,this.userService=d,this.userAddressService=C,this.globalMessageService=b,this.translation=re,this.launchDialogService=et,this.selectedCountry$=new P.X(""),this.setAsDefaultField=!0,this.showCancelBtn=!0,this.submitAddress=new e.vpe,this.backToAddress=new e.vpe,this.subscription=new M.w,this.addressForm=this.fb.group({country:this.fb.group({isocode:[null,It.kI.required]}),titleCode:[""],firstName:["",It.kI.required],lastName:["",It.kI.required],line1:["",It.kI.required],line2:[""],town:["",It.kI.required],region:this.fb.group({isocode:[null,It.kI.required]}),postalCode:["",It.kI.required],phone:"",defaultAddress:[!1]})}ngOnInit(){this.countries$=this.userAddressService.getDeliveryCountries().pipe((0,rt.b)(r=>{0===Object.keys(r).length&&this.userAddressService.loadDeliveryCountries()})),this.titles$=this.getTitles(),this.regions$=this.selectedCountry$.pipe((0,fe.w)(r=>this.userAddressService.getRegions(r)),(0,rt.b)(r=>{const d=this.addressForm.get("region.isocode");r&&r.length>0?d?.enable():d?.disable()})),this.addressData&&0!==Object.keys(this.addressData).length&&(this.addressForm.patchValue(this.addressData),this.countrySelected(this.addressData.country),this.addressData.region&&this.regionSelected(this.addressData.region)),this.addresses$=this.userAddressService.getAddresses()}getTitles(){return(0,E.aj)([this.translation.translate("addressForm.defaultTitle"),this.userService.getTitles()]).pipe((0,Ie.U)(([r,d])=>{const C={code:"",name:r};return d.sort(kf),[C,...d]}))}handleAddressVerificationResults(r){"ACCEPT"===r.decision?this.submitAddress.emit(this.addressForm.value):"REJECT"===r.decision?r.errors?.errors.some(d=>"titleCode"===d.subject)?this.globalMessageService.add({key:"addressForm.titleRequired"},h.xUg.MSG_TYPE_ERROR):this.globalMessageService.add({key:"addressForm.invalidAddress"},h.xUg.MSG_TYPE_ERROR):"REVIEW"===r.decision&&this.openSuggestedAddress(r)}countrySelected(r){this.addressForm.get("country")?.get("isocode")?.setValue(r?.isocode),this.selectedCountry$.next(r?.isocode??"")}regionSelected(r){this.addressForm.get("region")?.get("isocode")?.setValue(r.isocode)}toggleDefaultAddress(){this.addressForm.controls.defaultAddress.setValue(this.addressForm.value.defaultAddress)}back(){this.backToAddress.emit()}verifyAddress(){this.addressForm.valid?(this.addressForm.get("region")?.value.isocode&&this.regions$.pipe((0,Nt.q)(1)).subscribe(r=>{const d=r.find(C=>C.isocode===this.addressForm.controls.region.value.isocode);Object.assign(this.addressForm.value.region,{isocodeShort:d?.isocodeShort})}),this.addressForm.dirty?this.subscription.add(this.userAddressService.verifyAddress(this.addressForm.value).subscribe(r=>{this.handleAddressVerificationResults(r)})):this.submitAddress.emit(void 0)):this.addressForm.markAllAsTouched()}openSuggestedAddress(r){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",this.element,{enteredAddress:this.addressForm.value,suggestedAddresses:r.suggestedAddresses}),this.subscription.add(this.launchDialogService.dialogClose.pipe((0,Ke.h)(d=>Boolean(d))).subscribe(d=>{if("object"==typeof d){const C={...d,titleCode:this.addressForm.value.titleCode,phone:this.addressForm.value.phone,selected:!0};this.submitAddress.emit(C)}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(It.QS),e.Y36(h.KDu),e.Y36(h.kFJ),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(Ti))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-address-form"]],viewQuery:function(r,d){if(1&r&&e.Gf(yo,5),2&r){let C;e.iGM(C=e.CRH())&&(d.element=C.first)}},inputs:{addressData:"addressData",actionBtnLabel:"actionBtnLabel",cancelBtnLabel:"cancelBtnLabel",setAsDefaultField:"setAsDefaultField",showTitleCode:"showTitleCode",showCancelBtn:"showCancelBtn"},outputs:{submitAddress:"submitAddress",backToAddress:"backToAddress"},decls:74,vars:62,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],["formGroupName","country",1,"form-group"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"label-content","required"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],[1,"cx-address-form-btns"],["class","col-md-13 col-lg-6",4,"ngIf"],[1,"col-md-13","col-lg-6"],["type","submit",1,"btn","btn-block","btn-primary"],["submit",""],["id","country-select","formControlName","isocode","bindLabel","name","bindValue","isocode",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y","change"],["id","title-select","formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox","formControlName","defaultAddress",1,"form-check-input",3,"change"],[1,"form-check-label"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(r,d){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return d.verifyAddress()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,bi,2,1,"ng-container",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,iu,3,3,"div",5),e.TgZ(7,"div",6)(8,"label")(9,"span",7),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",8),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",9),e.qZA()(),e.TgZ(15,"div",6)(16,"label")(17,"span",7),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",10),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label")(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._UZ(28,"input",11),e.ALo(29,"cxTranslate"),e._UZ(30,"cx-form-errors",9),e.qZA()(),e.TgZ(31,"div",6)(32,"label")(33,"span",12),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA(),e._UZ(36,"input",13),e.ALo(37,"cxTranslate"),e.qZA()(),e.TgZ(38,"div",1)(39,"div",14)(40,"label")(41,"span",7),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA(),e._UZ(44,"input",15),e.ALo(45,"cxTranslate"),e._UZ(46,"cx-form-errors",9),e.qZA()(),e.TgZ(47,"div",14)(48,"label")(49,"span",7),e._uU(50),e.ALo(51,"cxTranslate"),e.qZA(),e._UZ(52,"input",16),e.ALo(53,"cxTranslate"),e._UZ(54,"cx-form-errors",9),e.qZA()(),e.YNc(55,uc,2,1,"ng-container",17),e.ALo(56,"async"),e.qZA(),e.TgZ(57,"div",6)(58,"label")(59,"span",12),e._uU(60),e.ALo(61,"cxTranslate"),e.qZA(),e._UZ(62,"input",18),e.ALo(63,"cxTranslate"),e.qZA()(),e.YNc(64,Po,7,3,"div",5),e.ALo(65,"async"),e.TgZ(66,"div",19)(67,"div",1),e.YNc(68,Or,4,3,"div",20),e.TgZ(69,"div",21)(70,"button",22,23),e._uU(72),e.ALo(73,"cxTranslate"),e.qZA()()()()()()()),2&r){let C;e.Q6J("formGroup",d.addressForm),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,26,d.countries$)),e.xp6(2),e.Q6J("ngIf",d.showTitleCode),e.xp6(4),e.Oqu(e.lcZ(11,28,"addressForm.firstName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,30,"addressForm.firstName.placeholder")),e.xp6(2),e.Q6J("control",d.addressForm.get("firstName")),e.xp6(4),e.Oqu(e.lcZ(19,32,"addressForm.lastName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,34,"addressForm.lastName.placeholder")),e.xp6(2),e.Q6J("control",d.addressForm.get("lastName")),e.xp6(4),e.Oqu(e.lcZ(27,36,"addressForm.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(29,38,"addressForm.streetAddress")),e.xp6(2),e.Q6J("control",d.addressForm.get("line1")),e.xp6(4),e.Oqu(e.lcZ(35,40,"addressForm.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,42,"addressForm.aptSuite")),e.xp6(6),e.Oqu(e.lcZ(43,44,"addressForm.city.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(45,46,"addressForm.city.placeholder")),e.xp6(2),e.Q6J("control",d.addressForm.get("town")),e.xp6(4),e.Oqu(e.lcZ(51,48,"addressForm.zipCode.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(53,50,"addressForm.zipCode.placeholder")),e.xp6(2),e.Q6J("control",d.addressForm.get("postalCode")),e.xp6(1),e.Q6J("ngIf",e.lcZ(56,52,d.regions$)),e.xp6(5),e.Oqu(e.lcZ(61,54,"addressForm.phoneNumber.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(63,56,"addressForm.phoneNumber.placeholder")),e.xp6(2),e.Q6J("ngIf",(null==(C=e.lcZ(65,58,d.addresses$))?null:C.length)&&d.setAsDefaultField),e.xp6(4),e.Q6J("ngIf",d.showCancelBtn),e.xp6(4),e.hij(" ",d.actionBtnLabel||e.lcZ(73,60,"common.continue")," ")}},dependencies:[Mu,n.O5,It._Y,It.Fj,It.Wl,It.JJ,It.JL,It.Q7,It.sg,It.u,It.x0,cn.w9,xu,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Nu=(()=>{class s{constructor(r,d,C){this.service=r,this.translation=d,this.globalMessageService=C,this.showAddAddressForm=!1,this.showEditAddressForm=!1}ngOnInit(){this.addresses$=this.service.getAddresses(),this.addressesStateLoading$=this.service.getAddressesStateLoading(),this.service.loadAddresses()}addAddressButtonHandle(){this.showEditAddressForm=!1,this.showAddAddressForm=!0}editAddressButtonHandle(r){this.showAddAddressForm=!1,this.showEditAddressForm=!0,this.currentAddress=r}addAddressSubmit(r){this.showAddAddressForm=!1,this.service.addUserAddress(r)}addAddressCancel(){this.showAddAddressForm=!1}editAddressSubmit(r){this.showEditAddressForm=!1,r&&this.currentAddress.id&&this.service.updateUserAddress(this.currentAddress.id,r)}editAddressCancel(){this.showEditAddressForm=!1}getCardContent(r){return(0,E.aj)([this.translation.translate("addressCard.default"),this.translation.translate("addressCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("common.edit"),this.translation.translate("addressBook.areYouSureToDeleteAddress")]).pipe((0,Ie.U)(([d,C,b,re,et])=>{let Bt="";r.region&&r.region.isocode&&(Bt=r.region.isocode+", ");const an=[];return r.defaultAddress||an.push({name:C,event:"default"}),an.push({name:re,event:"edit"}),an.push({name:b,event:"delete"}),{role:"region",textBold:r.firstName+" "+r.lastName,text:[r.line1,r.line2,r.town+", "+Bt+r.country?.isocode,r.postalCode,r.phone],actions:an,header:r.defaultAddress?`\u2713 ${d}`:"",deleteMsg:et,label:r.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}))}setAddressAsDefault(r){this.service.setAddressAsDefault(r.id??""),this.globalMessageService.add({key:"addressMessages.setAsDefaultSuccessfully",params:{streetAddress:r.line1}},h.xUg.MSG_TYPE_CONFIRMATION)}deleteAddress(r){this.service.deleteUserAddress(r)}setEdit(r){this.editCard!==r?this.editCard=r:this.deleteAddress(r)}cancelCard(){this.editCard=null}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Xd),e.Y36(h.D7D),e.Y36(h.IWp))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-address-book"]],decls:8,vars:7,consts:[[1,"cx-section"],[4,"ngIf"],["loading",""],[1,"row"],[1,"col-md-6"],[1,"btn","btn-block","btn-action",3,"click"],["class","row cx-address-deck",4,"ngIf","ngIfElse"],[1,"row","cx-address-deck"],["role","status"],["class","col-md-6 cx-address-card",4,"ngFor","ngForOf"],[1,"col-md-6","cx-address-card"],[3,"index","border","fitToContainer","content","editMode","editCard","setDefaultCard","deleteCard","cancelCard"],["class","cx-section-msg",4,"cxFeatureLevel"],[1,"cx-form",3,"showTitleCode","showCancelBtn","actionBtnLabel","cancelBtnLabel","setAsDefaultField","submitAddress","backToAddress","cancelCard"],[1,"cx-section-msg"],[3,"showTitleCode","actionBtnLabel","cancelBtnLabel","addressData","submitAddress","backToAddress"],[1,"col-md-12","cx-address-spinner"]],template:function(r,d){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,Lr,8,7,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Lo,9,15,"ng-container",1),e.ALo(4,"async"),e.YNc(5,Fo,7,10,"ng-container",1),e.qZA(),e.YNc(6,su,2,0,"ng-template",null,2,e.W1O)),2&r){let C,b;e.xp6(1),e.Q6J("ngIf",(null==(C=e.lcZ(2,3,d.addresses$))?null:C.length)&&!(d.showAddAddressForm||d.showEditAddressForm)),e.xp6(2),e.Q6J("ngIf",(!(null!=(b=e.lcZ(4,5,d.addresses$))&&b.length)||d.showAddAddressForm)&&!d.showEditAddressForm),e.xp6(2),e.Q6J("ngIf",d.showEditAddressForm)}},dependencies:[n.sg,n.O5,Il,tp,po,h.EJv,n.Ov,h.X$D],encapsulation:2}),s})(),Ja=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:function(r){let d=null;return d=r?new(r||s):e.LFG(h.DeH),d},providedIn:"root"}),s})(),np=(()=>{class s{download(r,d){const C=document.createElement("a");C.setAttribute("href",r),C.setAttribute("download",`${d}`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Hc=(()=>{class s{constructor(r){this.fileDownloadService=r}convert(r,d){return r.reduce((C,b)=>`${C}${b.reduce((et,Bt)=>`${et+=""!==et?d:""}${Bt.includes(d)?`"${Bt}"`:Bt}`,"")}\r\n`,"")}download(r,d,C){const{fileName:b,type:re,extension:et}=C,Bt=this.convert(r,d),an=new Blob([Bt],{type:re}),Zn=URL.createObjectURL(an);this.fileDownloadService.download(Zn,`${b}.${et}`)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(np))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rp=(()=>{class s{loadTextFile(r){return new V.y(d=>{const C=new FileReader;C.readAsText(r),C.onload=()=>{d.next(C.result),d.complete()},C.onerror=b=>{C.abort(),d.error(b)}})}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Hl=(()=>{class s{constructor(r){this.fileReaderService=r}loadFile(r,d){return this.fileReaderService.loadTextFile(r).pipe((0,Ie.U)(C=>this.parse(C,d)))}validateFile(r,{separator:d,isDataParsable:C,maxEntries:b}){const re={};return this.fileReaderService.loadTextFile(r).pipe((0,rt.b)(et=>{this.validateEmpty(et,re)}),(0,Ie.U)(et=>this.parse(et,d)),(0,rt.b)(et=>{this.validateNotParsable(et,re,C),this.validateTooManyEntries(et,re,b)}),(0,Zt.K)(et=>(0,R.of)(et)),(0,Ie.U)(()=>0===Object.keys(re).length?null:re))}parse(r,d,C=!0){return r.split("\n").map(b=>b.split(d).map(re=>re.replace(/"/g,""))).filter((b,re)=>!(C&&0===re)&&""!==b[0])}validateEmpty(r,d){if(0===r.toString().length)throw d.empty=!0,d}validateTooManyEntries(r,d,C){if(C&&r.length>C)throw d.tooManyEntries={maxEntries:C},d}validateNotParsable(r,d,C){if(C&&!C(r))throw d.notParsable=!0,d}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(rp))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Yf=(()=>{class s{maxSize(r){return d=>{const C={};return r&&Array.from(d.value).forEach(re=>{re.size>1e6*r&&(C.tooLarge={maxSize:r,invalidFiles:[...C.tooLarge?.invalidFiles??[],re.name]})}),0===Object.keys(C).length?null:C}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class op{static emailValidator(_){const r=_.value;return!r||r.length&&!r.match(h.QIJ)?{cxInvalidEmail:!0}:null}static passwordValidator(_){const r=_.value;return!r||r.length&&!r.match(h.mS3)?{cxInvalidPassword:!0}:null}static starRatingEmpty(_){const r=_.value;return r>=1&&r<=5?null:{cxStarRatingEmpty:!0}}static passwordsMustMatch(_,r){return C=>$l(C,_,r,"cxPasswordsMustMatch")}static emailsMustMatch(_,r){return C=>$l(C,_,r,"cxEmailsMustMatch")}static mustBePositive(_){return _.value>=0?null:{cxNegativeAmount:!0}}static noSpecialCharacters(_){const d=String(_.value);return["/"].some(b=>d.includes(b))?{cxContainsSpecialCharacters:!0}:null}static patternValidation(_){return d=>{const C={};return d.value&&""!==d.value&&!_(d.value)&&(C.pattern=!0),0===Object.keys(C).length?null:C}}static dateRange(_,r,d){return C=>{const b=C.controls[_],re=C.controls[r],et=d(b.value),Bt=d(re.value);return et&&Bt&&(b.errors?.pattern||et>Bt&&b.setErrors({max:!0}),re.errors?.pattern||Bt<et&&re.setErrors({min:!0})),null}}}function $l(s,_,r,d){const b=s.controls[r];b.errors&&!b.errors[d]||b.setErrors(s.controls[_].value!==b.value?{[d]:!0}:null)}let jl=(()=>{class s{constructor(r,d){this.launchDialogService=r,this.el=d,this.iconTypes=lr,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0},this.data$=this.launchDialogService.data$}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.closeModal("Cross click")}ngOnInit(){this.data$.pipe((0,Nt.q)(1)).subscribe(r=>this.setSelectedAddress(r))}closeModal(r){this.launchDialogService.closeDialog(r)}setSelectedAddress(r){this.selectedAddress=r.suggestedAddresses?.length?r.suggestedAddresses[0]:r.enteredAddress,console.log(this.selectedAddress)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ti),e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-suggested-addresses-dialog"]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)})},decls:3,vars:4,consts:[[1,"cx-suggested-addresses-dialog",3,"cxFocus","esc"],["class","cx-suggested-addresses-container",4,"ngIf"],[1,"cx-suggested-addresses-container"],[1,"cx-suggested-addresses-header","cx-modal-header"],[1,"cx-suggested-addresses-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["ngForm","",1,"cx-suggested-addresses-body"],[1,"cx-dialog-info"],[1,"cx-dialog-options"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","name","selectedAddress","id","suggested-addresses--entered",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","suggested-addresses--entered",1,"form-check-label","cx-dialog-label"],[1,"cx-dialog-entered"],[1,"cx-card-container"],[1,"cx-card-label"],[1,"cx-suggested-addresses-footer","cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-12","col-lg-6","offset-lg-6"],[1,"btn","btn-secondary","cx-dialog-buttons",3,"click"],["cxAutoFocus","",1,"btn","btn-primary","cx-dialog-buttons",3,"click"],["type","radio","name","selectedAddress",1,"form-check-input",3,"ngModel","value","id","ngModelChange"],[1,"form-check-label","cx-dialog-label",3,"for"],[1,"cx-dialog-suggested"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return d.closeModal("Escape clicked")}),e.YNc(1,Jr,44,32,"div",1),e.ALo(2,"async"),e.qZA()),2&r&&(e.Q6J("cxFocus",d.focusConfig),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,d.data$)))},dependencies:[n.sg,n.O5,It.Fj,It._,It.JJ,It.JL,It.On,It.F,lo,ko,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Zl=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[Pl,n.ez,It.UX,It.u5,Ze.Bz,cn.A0,So,h.LUR,Uc,Ci]}),s})();const Yl={launch:{SUGGESTED_ADDRESSES:{inlineRoot:!0,component:jl,dialogType:Ko.DIALOG}}};let am=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountAddressBookComponent:{component:Nu,guards:[h.a1M]}}}),(0,h.i51)(Yl),h.kFJ],imports:[n.ez,wl,Zl,qi,h.LUR,h.GSh]}),s})(),cm=(()=>{class s{constructor(r,d){this.routingService=r,this.translation=d,this.RELEVANCE=":relevance",this.CUSTOMER_COUPON_CODE=":customerCouponCode:"}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:this.buildSearchParam(r)}},{queryParams:{couponcode:r.couponId}})}buildSearchParam(r){return r.allProductsApplicable?this.RELEVANCE:this.RELEVANCE+this.CUSTOMER_COUPON_CODE+r.couponId}getSortLabels(){return(0,E.aj)([this.translation.translate("myCoupons.startDateAsc"),this.translation.translate("myCoupons.startDateDesc"),this.translation.translate("myCoupons.endDateAsc"),this.translation.translate("myCoupons.endDateDesc")]).pipe((0,Ie.U)(([r,d,C,b])=>({byStartDateAsc:r,byStartDateDesc:d,byEndDateAsc:C,byEndDateDesc:b})))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.Znh),e.LFG(h.D7D))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),um=(()=>{class s{constructor(r,d,C){this.myCouponsComponentService=r,this.launchDialogService=d,this.vcr=C,this.notificationChanged=new e.vpe}onSubscriptionChange(){this.notificationChanged.emit({couponId:this.coupon.couponId??"",notification:!this.coupon.notificationOn})}readMore(){const r=this.launchDialogService.openDialog("COUPON",this.element,this.vcr,{coupon:this.coupon});r&&r.pipe((0,Nt.q)(1)).subscribe()}findProducts(){this.myCouponsComponentService.launchSearchPage(this.coupon)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(cm),e.Y36(Ti),e.Y36(e.s_b))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-coupon-card"]],viewQuery:function(r,d){if(1&r&&e.Gf(Rs,5),2&r){let C;e.iGM(C=e.CRH())&&(d.element=C.first)}},inputs:{coupon:"coupon",couponSubscriptionLoading$:"couponSubscriptionLoading$"},outputs:{notificationChanged:"notificationChanged"},decls:39,vars:37,consts:[[1,"card"],[1,"card-body","cx-card-body"],[1,"cx-coupon-data"],[1,"cx-coupon-card-row","top"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-card-date"],[1,"cx-coupon-date"],[1,"cx-coupon-date-start"],[1,"cx-coupon-date-end"],["class","cx-card-read-more",3,"click",4,"cxFeatureLevel"],["class","cx-card-read-more link cx-action-link",3,"click",4,"cxFeatureLevel"],[1,"cx-coupon-card-row","bottom"],[1,"cx-coupon-notification","form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-coupon-find-product","col-lg-6","col-md-12","col-sm-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-card-read-more",3,"click"],[1,"cx-card-read-more","link","cx-action-link",3,"click"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"div"),e.ALo(10,"lowercase"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"div",6)(14,"p"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"div",7)(18,"div",8),e._uU(19),e.ALo(20,"cxDate"),e.qZA(),e.TgZ(21,"div",9),e._uU(22),e.ALo(23,"cxDate"),e.qZA()()(),e.YNc(24,Hi,3,3,"a",10),e.YNc(25,$i,3,3,"button",11),e.TgZ(26,"div",12)(27,"div",13)(28,"label")(29,"input",14),e.NdJ("change",function(){return d.onSubscriptionChange()}),e.ALo(30,"async"),e.ALo(31,"async"),e.qZA(),e.TgZ(32,"span",15),e._uU(33),e.ALo(34,"cxTranslate"),e.qZA()()(),e.TgZ(35,"div",16)(36,"button",17),e.NdJ("click",function(){return d.findProducts()}),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Oqu(null==d.coupon?null:d.coupon.couponId),e.xp6(2),e.hij(": ",null==d.coupon?null:d.coupon.name,""),e.xp6(1),e.Gre("cx-coupon-status ",e.lcZ(10,17,null==d.coupon?null:d.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(12,19,"myCoupons."+(null==d.coupon?null:d.coupon.status))," "),e.xp6(4),e.Oqu(e.lcZ(16,21,"myCoupons.effectiveTitle")),e.xp6(4),e.hij(" ",e.xi3(20,23,null==d.coupon?null:d.coupon.startDate,"medium")," -\xa0 "),e.xp6(3),e.hij(" ",e.xi3(23,26,null==d.coupon?null:d.coupon.endDate,"medium")," "),e.xp6(2),e.Q6J("cxFeatureLevel","!5.1"),e.xp6(1),e.Q6J("cxFeatureLevel","5.1"),e.xp6(4),e.ekj("disabled",e.lcZ(30,29,d.couponSubscriptionLoading$)),e.Q6J("checked",null==d.coupon?null:d.coupon.notificationOn)("disabled",e.lcZ(31,31,d.couponSubscriptionLoading$)),e.xp6(4),e.hij(" ",e.lcZ(34,33,"myCoupons.notification")," "),e.xp6(4),e.hij(" ",e.lcZ(38,35,"myCoupons.findProducts")," "))},dependencies:[h.EJv,n.Ov,n.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),s})(),Uu=(()=>{class s{constructor(r,d){this.couponService=r,this.myCouponsComponentService=d,this.iconTypes=lr,this.subscriptions=new M.w,this.PAGE_SIZE=10,this.sortMapping={byStartDateAsc:"startDate:asc",byStartDateDesc:"startDate:desc",byEndDateAsc:"endDate:asc",byEndDateDesc:"endDate:desc"},this.sort="byStartDateAsc",this.sortOptions=[{code:"byStartDateAsc",selected:!1},{code:"byStartDateDesc",selected:!1},{code:"byEndDateAsc",selected:!1},{code:"byEndDateDesc",selected:!1}]}ngOnInit(){this.couponResult$=this.couponService.getCustomerCoupons(this.PAGE_SIZE).pipe((0,rt.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:this.sort})),this.couponsLoading$=this.couponService.getCustomerCouponsLoading(),this.couponSubscriptionLoading$=(0,E.aj)([this.couponService.getSubscribeCustomerCouponResultLoading(),this.couponService.getUnsubscribeCustomerCouponResultLoading()]).pipe((0,Ie.U)(([r,d])=>r||d)),this.sortLabels=this.myCouponsComponentService.getSortLabels(),this.subscriptions.add(this.couponService.getSubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)})).add(this.couponService.getUnsubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)}))}subscriptionFail(r){r&&this.couponService.loadCustomerCoupons(this.PAGE_SIZE)}sortChange(r){this.sort=r,this.couponService.loadCustomerCoupons(this.PAGE_SIZE,this.pagination.currentPage,this.sortMapping[r])}pageChange(r){this.couponService.loadCustomerCoupons(this.PAGE_SIZE,r,this.sortMapping[this.sort])}notificationChange({couponId:r,notification:d}){d?this.couponService.subscribeCustomerCoupon(r):this.couponService.unsubscribeCustomerCoupon(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.KZK),e.Y36(cm))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-my-coupons"]],decls:5,vars:4,consts:[[1,"cx-section"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[4,"ngIf"],["noCoupons",""],[1,"cx-my-coupons-header"],[4,"cxFeatureLevel"],[1,"cx-my-coupons-sort","top","row"],[1,"cx-my-coupons-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination","cx-mycoupon-thead-mobile"],[3,"pagination","viewPageEvent"],["id","coupon-deck",1,"row","cx-coupon-deck"],["class","col-md-6 cx-coupon-card",4,"ngFor","ngForOf"],[1,"cx-my-coupons-sort","bottom","row"],[1,"cx-my-coupons-form-group","form-group","cx-mycoupon-thead-mobile","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination"],[1,"cx-my-coupons-notes"],[3,"type"],[3,"routerLink"],[1,"col-md-6","cx-coupon-card"],[3,"coupon","couponSubscriptionLoading$","notificationChanged"],[1,"cx-section-msg"],[1,"col-md-12","cx-coupon-spinner"]],template:function(r,d){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,Ma,7,6,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Ia,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&r){const C=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,d.couponsLoading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,po,Ze.yS,lo,es,Ru,h.EJv,um,n.Ov,h.X$D],encapsulation:2}),s})(),lm=(()=>{class s{constructor(r,d){this.launchDialogService=r,this.el=d,this.subscription=new M.w,this.iconTypes=lr,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.coupon=r.coupon}))}ngOnDestroy(){this.subscription?.unsubscribe()}close(r){this.launchDialogService.closeDialog(r)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ti),e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-coupon-dialog"]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)})},decls:36,vars:33,consts:[[1,"cx-coupon-dialog",3,"cxFocus","esc"],[1,"cx-coupon-container"],[1,"cx-dialog-header","modal-header"],[1,"cx-dialog-title","modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"cx-dialog-item","col-sm-12","col-md-12"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-description"],[1,"cx-coupon-dialog-date"],[1,"cx-coupon-date"],[1,"cx-coupon-dialog-status"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return d.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return d.close("Cross click")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._UZ(9,"cx-icon",6),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"span",11),e._uU(15),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",12),e._uU(19),e.qZA(),e.TgZ(20,"div",13)(21,"p"),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"div",14),e._uU(25),e.ALo(26,"cxDate"),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",15)(29,"p"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"div"),e.ALo(33,"lowercase"),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()()()()()),2&r&&(e.Q6J("cxFocus",d.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,15,"myCoupons.dialogTitle")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,17,"common.close")),e.xp6(3),e.Q6J("type",d.iconTypes.CLOSE),e.xp6(6),e.Oqu(null==d.coupon?null:d.coupon.couponId),e.xp6(2),e.hij(": ",null==d.coupon?null:d.coupon.name,""),e.xp6(2),e.Oqu(null==d.coupon?null:d.coupon.description),e.xp6(3),e.Oqu(e.lcZ(23,19,"myCoupons.effectiveTitle")),e.xp6(3),e.AsE(" ",e.xi3(26,21,null==d.coupon?null:d.coupon.startDate,"medium")," - ",e.xi3(27,24,null==d.coupon?null:d.coupon.endDate,"medium")," "),e.xp6(5),e.Oqu(e.lcZ(31,27,"myCoupons.status")),e.xp6(2),e.Gre("cx-coupon-status ",e.lcZ(33,29,null==d.coupon?null:d.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(35,31,"myCoupons."+(null==d.coupon?null:d.coupon.status))," "))},dependencies:[lo,ko,n.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),s})(),ip=(()=>{class s{constructor(r,d,C){this.couponService=r,this.routingService=d,this.messageService=C}ngOnInit(){this.routingService.getRouterState().subscribe(r=>{const d=r.state.params.couponCode;d?(this.couponService.claimCustomerCoupon(d),this.subscription=this.couponService.getClaimCustomerCouponResultSuccess().subscribe(C=>{C&&this.messageService.add({key:"myCoupons.claimCustomerCoupon"},h.xUg.MSG_TYPE_CONFIRMATION),this.routingService.go({cxRoute:"coupons"})})):this.routingService.go({cxRoute:"notFound"})}).unsubscribe()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.KZK),e.Y36(h.Znh),e.Y36(h.IWp))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-coupon-claim"]],decls:0,vars:0,template:function(r,d){},encapsulation:2}),s})();const dm={launch:{COUPON:{inlineRoot:!0,component:lm,dialogType:Ko.DIALOG}}};let a_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyCouponsComponent:{component:Uu,guards:[h.a1M]},CouponClaimComponent:{component:ip,guards:[h.a1M]}}}),(0,h.i51)(dm)],imports:[n.ez,wl,qi,h.LUR,Ze.Bz,h.bhT,So,Ol,Ze.Bz.forChild([{path:null,canActivate:[h.a1M,Gs],component:ki,data:{cxRoute:"couponClaim"}}]),Ci,h.GSh]}),s})(),Mi=(()=>{class s{constructor(r,d,C,b){this.productInterestService=r,this.translationService=d,this.productService=C,this.globalMessageService=b,this.DEFAULT_PAGE_SIZE=10,this.sortMapping={byNameAsc:"name:asc",byNameDesc:"name:desc"},this.sortChanged=!1,this.sort="byNameAsc",this.sortOptions=[{code:"byNameAsc",selected:!1},{code:"byNameDesc",selected:!1}]}ngOnInit(){this.interests$=this.productInterestService.getAndLoadProductInterests(this.DEFAULT_PAGE_SIZE).pipe((0,rt.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:"byNameAsc"}),(0,rt.b)(()=>{this.sortChanged&&(this.sortChanged=!1,this.globalMessageService?.add({key:"sorting.pageViewUpdated"},h.xUg.MSG_TYPE_ASSISTIVE,500))}),(0,Ie.U)(r=>({...r,results:r.results?r.results.map(d=>({...d,product$:this.getProduct(d)})):r.results}))),this.getInterestsloading$=this.productInterestService.getProdutInterestsLoading(),this.isRemoveDisabled$=(0,E.aj)([this.getInterestsloading$,this.productInterestService.getRemoveProdutInterestLoading()]).pipe((0,Ie.U)(([r,d])=>r||d)),this.sortLabels=this.getSortLabels()}getSortLabels(){return(0,E.aj)([this.translationService.translate("myInterests.sorting.byNameAsc"),this.translationService.translate("myInterests.sorting.byNameDesc")]).pipe((0,Ie.U)(([r,d])=>({byNameAsc:r,byNameDesc:d})))}getProduct(r){return this.productService.get(r.product?.code??"","details")}removeInterest(r){this.productInterestService.removeProdutInterest({product:r.product,productInterestEntry:r.productInterestEntry})}sortChange(r){this.sort=r,this.sortChanged=!0,this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,0,this.sortMapping[r])}pageChange(r){this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,r,this.sortMapping[this.sort])}ngOnDestroy(){this.productInterestService.clearProductInterests(),this.productInterestService.resetRemoveInterestState()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.GO$),e.Y36(h.D7D),e.Y36(h.M52),e.Y36(h.IWp,8))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-my-interests"]],decls:6,vars:3,consts:[["class","container",4,"ngIf"],["noInterest",""],["loading",""],[1,"container"],[4,"cxFeatureLevel"],["class","cx-product-interests-body",4,"ngIf","ngIfElse"],[1,"cx-product-interests-title","h3"],[1,"cx-product-interests-title"],[1,"cx-product-interests-body"],["role","status"],[4,"ngIf","ngIfElse"],[1,"cx-product-interests-sort","top","row"],[1,"cx-product-interests-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","product-interests-table",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-product-interests-pagination","cx-product-interests-thead-mobile"],[3,"pagination","viewPageEvent"],[1,"cx-product-interests-sort","bottom","row"],[1,"cx-product-interests-form-group","cx-product-interests-thead-mobile","form-group","col-sm-12","col-md-4","col-lg-4"],[1,"cx-product-interests-pagination"],["id","product-interests-table",1,"table","cx-product-interests-table","cx-product-interests-table-list"],[1,"cx-visually-hidden"],[1,"cx-product-interests-thead-mobile","cx-product-interests-header"],["role","columnheader"],["srole","columnheader"],["class","cx-product-interests-product-item","role","row",4,"ngFor","ngForOf"],["role","row",1,"cx-product-interests-product-item"],[4,"ngIf"],["role","cell"],[1,"cx-product-interests-cell-wrapper"],[1,"cx-product-interests-label"],["tabindex","-1",1,"cx-product-interests-product-image-link",3,"routerLink"],["format","thumbnail",3,"container"],[1,"cx-info","col-10"],[1,"cx-info-container","row"],["class","cx-name",4,"ngIf"],["class","cx-code",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-property",4,"ngIf"],[1,"cx-product-interests-product-price"],[1,"d-md-none","cx-product-interests-label"],[1,"cx-product-interests-subscriptions"],["class","cx-product-interests-notification",4,"ngFor","ngForOf"],[1,"cx-actions","cx-product-interests-remove-button"],["type","button",1,"cx-product-interests-remove-btn","link","cx-action-link","cx-remove-btn",3,"cxAtMessage","disabled","click"],[1,"cx-name"],[1,"cx-link","cx-product-interests-product-code-link",3,"routerLink"],[1,"cx-code"],["class","cx-property",4,"ngFor","ngForOf"],[1,"cx-property"],[1,"cx-label","cx-product-interests-variant-name"],[1,"cx-value","cx-product-interests-variant-value"],[1,"cx-label","cx-product-interests-product-stock"],[1,"cx-product-interests-notification"],[1,"cx-product-interests-type"],[1,"cx-product-interests-expiration-date"],["id","product-interests-table",1,"table","cx-product-interests-table"],[1,"cx-product-interests-thead-mobile"],["scope","col"],["class","cx-product-interests-product-item",4,"ngFor","ngForOf"],[1,"cx-product-interests-product-item"],["type","button",1,"link","cx-product-interests-remove-btn",3,"disabled","click"],[1,"cx-product-interests-message"],[1,"cx-spinner"]],template:function(r,d){1&r&&(e.YNc(0,Zi,5,6,"div",0),e.ALo(1,"async"),e.YNc(2,gc,3,3,"ng-template",null,1,e.W1O),e.YNc(4,Oa,2,0,"ng-template",null,2,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.interests$))},dependencies:[bu,n.sg,n.O5,es,Ru,vs,po,Ze.yS,h.EJv,n.Ov,h.X$D,h.dgE,h.l2T],encapsulation:2,changeDetection:0}),s})(),pm=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyInterestsComponent:{component:Mi,guards:[h.a1M]}}})],imports:[Qo,n.ez,h.LUR,Ol,h.LUR,h.bhT,Xi,qi,Ze.Bz.forChild([{path:null,canActivate:[h.a1M,Gs],component:ki,data:{cxRoute:"myInterests"}}]),h.GSh]}),s})(),Cs=(()=>{class s{constructor(r){this.notificationPreferenceService=r,this.preferences=[]}ngOnInit(){this.notificationPreferenceService.resetNotificationPreferences(),this.preferences$=this.notificationPreferenceService.getPreferences().pipe((0,rt.b)(r=>this.preferences=r)),this.notificationPreferenceService.loadPreferences(),this.isLoading$=(0,E.aj)([this.notificationPreferenceService.getPreferencesLoading(),this.notificationPreferenceService.getUpdatePreferencesResultLoading()]).pipe((0,Ie.U)(([r,d])=>r||d))}updatePreference(r){const d=[];this.preferences.forEach(C=>{d.push(C.channel===r.channel?{...C,enabled:!C.enabled}:C)}),this.notificationPreferenceService.updatePreferences(d)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.xd))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-notification-preference"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"row","d-flex","justify-content-center"],[1,"col-md-8"],[1,"pref-header"],[1,"form-check","cx-notification-channels"],[4,"ngFor","ngForOf"],[1,"pref-note"],["class","pref-channel",4,"ngIf"],[1,"pref-channel"],["role","checkbox","type","checkbox",1,"form-check-input","cx-np-checkbox",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-spinner"]],template:function(r,d){1&r&&(e.YNc(0,F,4,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.preferences$))},dependencies:[n.sg,n.O5,po,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),c_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NotificationPreferenceComponent:{component:Cs,guards:[h.a1M]}}})],imports:[n.ez,qi,h.LUR,Ze.Bz.forChild([{path:null,canActivate:[h.a1M,Gs],component:ki,data:{cxRoute:"notificationPreference"}}])]}),s})(),fm=(()=>{class s{constructor(r,d,C){this.userPaymentService=r,this.translation=d,this.globalMessageService=C,this.iconTypes=lr}ngOnInit(){this.paymentMethods$=this.userPaymentService.getPaymentMethods().pipe((0,rt.b)(r=>{r.length>0&&!r.find(d=>d.defaultPayment)&&this.setDefaultPaymentMethod(r[0])})),this.editCard=void 0,this.loading$=this.userPaymentService.getPaymentMethodsLoading(),this.userPaymentService.loadPaymentMethods()}getCardContent({defaultPayment:r,accountHolderName:d,expiryMonth:C,expiryYear:b,cardNumber:re,cardType:et}){return(0,E.aj)([this.translation.translate("paymentCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("paymentCard.deleteConfirmation"),this.translation.translate("paymentCard.expires",{month:C,year:b}),this.translation.translate("paymentCard.defaultPaymentMethod")]).pipe((0,Ie.U)(([Bt,an,Zn,si,Xl])=>{const Wu=[];return r||Wu.push({name:Bt,event:"default"}),Wu.push({name:an,event:"edit"}),{role:"region",header:r?Xl:void 0,textBold:d,text:[re??"",si],actions:Wu,deleteMsg:Zn,img:this.getCardIcon(et?.code??""),label:r?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"}}))}deletePaymentMethod(r){r.id&&(this.userPaymentService.deletePaymentMethod(r.id),this.editCard=void 0)}setEdit(r){this.editCard=r.id}cancelCard(){this.editCard=void 0}setDefaultPaymentMethod(r){this.userPaymentService.setPaymentMethodAsDefault(r.id??""),this.globalMessageService?.add({key:"paymentMessages.setAsDefaultSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION)}getCardIcon(r){let d;return d="visa"===r?this.iconTypes.VISA:"master"===r||"mastercard_eurocard"===r?this.iconTypes.MASTER_CARD:"diners"===r?this.iconTypes.DINERS_CLUB:"amex"===r?this.iconTypes.AMEX:this.iconTypes.CREDIT_CARD,d}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.TWG),e.Y36(h.D7D),e.Y36(h.IWp))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-payment-methods"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-payment","container"],[1,"cx-header"],[4,"cxFeatureLevel"],[1,"cx-body"],[1,"cx-msg"],[4,"ngIf","ngIfElse"],["cards",""],["role","status"],[1,"cx-existing","row"],["class","cx-payment-card col-sm-12 col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"cx-payment-card","col-sm-12","col-md-12","col-lg-6"],[1,"cx-payment-inner"],[3,"index","border","fitToContainer","content","editMode","deleteCard","setDefaultCard","editCard","cancelCard"]],template:function(r,d){1&r&&(e.YNc(0,jt,13,9,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.paymentMethods$))},dependencies:[n.sg,n.O5,Il,po,h.EJv,n.Ov,h.X$D],encapsulation:2}),s})(),sp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountPaymentDetailsComponent:{component:fm,guards:[h.a1M]}}})],imports:[n.ez,wl,qi,h.LUR,h.GSh]}),s})(),Bu=(()=>{class s{constructor(r,d){this.component=r,this.pageMetaService=d}ngOnInit(){this.setTitle()}ngAfterViewInit(){this.lastestTitle$=this.title$}setTitle(){this.title$=this.pageMetaService.getMeta().pipe((0,Ke.h)(h.jWE),(0,Ie.U)(r=>(r.heading||r.title)??""))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.deh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-page-title"]],decls:3,vars:3,consts:[[1,"cx-visually-hidden"]],template:function(r,d){1&r&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"async"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,d.title$)))},dependencies:[n.Ov],encapsulation:2,changeDetection:0}),s})(),hm=(()=>{class s extends Bu{constructor(r,d,C){super(r,d),this.component=r,this.pageMetaService=d,this.translation=C}ngOnInit(){super.ngOnInit(),this.setCrumbs()}setCrumbs(){this.crumbs$=(0,E.aj)([this.pageMetaService.getMeta(),this.translation.translate("common.home")]).pipe((0,Ie.U)(([r,d])=>r?.breadcrumbs?r.breadcrumbs:[{label:d,link:"/"}]))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.deh),e.Y36(h.D7D))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-breadcrumb"]],features:[e.qOj],decls:12,vars:15,consts:[["tabindex","-1"],[4,"ngFor","ngForOf"],["aria-live","polite","aria-atomic","true",1,"cx-visually-hidden"],[3,"routerLink","innerHTML"]],template:function(r,d){1&r&&(e.TgZ(0,"nav",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"ol"),e.ALo(3,"cxTranslate"),e.YNc(4,on,3,8,"li",1),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"span",2),e._uU(7),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"h1"),e._uU(10),e.ALo(11,"async"),e.qZA()),2&r&&(e.uIk("aria-label",e.lcZ(1,5,"common.breadcrumbs")),e.xp6(2),e.uIk("aria-label",e.lcZ(3,7,"common.breadcrumbs")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,9,d.crumbs$)),e.xp6(3),e.hij(" ",e.lcZ(8,11,d.lastestTitle$),"\n"),e.xp6(3),e.Oqu(e.lcZ(11,13,d.title$)))},dependencies:[n.sg,Ze.yS,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),gm=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{BreadcrumbComponent:{component:hm}}})],imports:[n.ez,Ze.Bz,h.u3W,h.LUR]}),s})(),zf=(()=>{class s{constructor(r,d){this.cmsService=r,this.semanticPathService=d}createNavigation(r){return(0,E.aj)([r,this.getNavigationNode(r)]).pipe((0,Ie.U)(([d,C])=>({title:d.name,children:[C]})))}getNavigationNode(r){return r?r.pipe((0,Ke.h)(d=>!!d),(0,fe.w)(d=>{const C=d.navigationNode?d.navigationNode:d;return this.cmsService.getNavigationEntryItems(C.uid??"").pipe((0,rt.b)(b=>{if(void 0===b)this.loadNavigationEntryItems(C,!0);else{const re=[];this.loadNavigationEntryItems(C,!1,re);const et=Object.keys(b).map(an=>b[an].uid??""),Bt=re.filter(an=>an.id&&!et.includes(an.id));Bt.length>0&&this.cmsService.loadNavigationItems(C.uid??"",Bt)}}),(0,Ke.h)(Boolean),(0,Ie.U)(b=>this.populateNavigationNode(C,b)??{}))})):(0,R.of)()}loadNavigationEntryItems(r,d,C=[]){r.entries&&r.entries.length>0&&r.entries.forEach(b=>{C.push({superType:b.itemSuperType,id:b.itemId})}),r.children&&r.children.length>0&&r.children.forEach(b=>this.loadNavigationEntryItems(b,!1,C)),d&&r.uid&&this.cmsService.loadNavigationItems(r.uid,C)}populateNavigationNode(r,d){const C={};if(r.title&&(C.title=r.title),r.styleClasses&&(C.styleClasses=r.styleClasses),r.styleAttributes&&(C.styleAttributes=r.styleAttributes),r.entries&&r.entries.length>0&&this.populateLink(C,r.entries[0],d),r.children?.length>0){const b=r.children.map(re=>this.populateNavigationNode(re,d)).filter(Boolean);b.length>0&&(C.children=b)}return 0===Object.keys(C).length?null:C}populateLink(r,d,C){const b=C[`${d.itemId}_${d.itemSuperType}`];if(b&&"CMSLinkComponent"===d.itemType){r.title||(r.title=b.linkName);const re=this.getLink(b);r.title&&re&&(r.url=re,("true"===b.target||!0===b.target)&&(r.target="_blank")),b.styleClasses&&(r.styleClasses=b.styleClasses),b.styleAttributes&&(r.styleAttributes=b.styleAttributes)}}getLink(r){return r.url?r.url:r.contentPageLabelOrId?r.contentPageLabelOrId:r.categoryCode?this.semanticPathService.transform({cxRoute:"category",params:{code:r.categoryCode,name:r.name}}):r.productCode?this.semanticPathService.transform({cxRoute:"product",params:{code:r.productCode,name:r.name}}):void 0}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.ctt),e.LFG(h.hCH))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),zl=(()=>{class s{constructor(r,d,C,b,re){this.router=r,this.renderer=d,this.elemRef=C,this.hamburgerMenuService=b,this.winRef=re,this.iconType=lr,this.flyout=!0,this.isOpen=!1,this.openNodes=[],this.subscriptions=new M.w,this.resize=new e.vpe,this.subscriptions.add(this.router.events.pipe((0,Ke.h)(et=>et instanceof Ze.m2)).subscribe(()=>this.clear())),this.subscriptions.add(this.resize.pipe((0,wt.b)(50)).subscribe(()=>{this.alignWrappersToRightIfStickOut()}))}onResize(){this.resize.next()}ngOnInit(){this.resetMenuOnClose&&this.resetOnMenuCollapse()}resetOnMenuCollapse(){this.subscriptions.add(this.hamburgerMenuService?.isExpanded.pipe((0,Re.x)(),(0,Ke.h)(Boolean)).subscribe(()=>{this.reinitializeMenu()}))}closeIfClickedTheSameLink(r){"string"==typeof r.url&&this.winRef.nativeWindow?.location.href.includes(r.url)&&(this.elemRef.nativeElement.querySelectorAll("li.is-open:not(.back), li.is-opened").forEach(d=>{this.renderer.removeClass(d,"is-open"),this.renderer.removeClass(d,"is-opened")}),this.reinitializeMenu(),this.hamburgerMenuService.toggle())}reinitializeMenu(){this.openNodes?.length>0&&(this.clear(),this.renderer.removeClass(this.elemRef.nativeElement,"is-open"))}ariaCollapseNodes(){this.openNodes.forEach(r=>{Array.from(r.children).filter(d=>"BUTTON"===d?.tagName).forEach(d=>{this.renderer.setAttribute(d,"aria-expanded","false")})})}toggleOpen(r){"keydown"===r.type&&r.preventDefault(),this.ariaCollapseNodes();const d=r.currentTarget,C=d.parentNode;this.openNodes.includes(C)?"keydown"===r.type?this.back():(this.openNodes=this.openNodes.filter(b=>b!==C),this.renderer.removeClass(C,"is-open")):(this.openNodes.push(C),this.renderer.setAttribute(d,"aria-expanded","true")),this.updateClasses(),r.stopImmediatePropagation(),r.stopPropagation()}back(){this.openNodes[this.openNodes.length-1]&&(this.renderer.removeClass(this.openNodes[this.openNodes.length-1],"is-open"),this.openNodes.pop(),this.updateClasses())}clear(){this.openNodes=[],this.updateClasses()}onMouseEnter(r){this.alignWrapperToRightIfStickOut(r.currentTarget),this.focusAfterPreviousClicked(r)}getTotalDepth(r,d=0){return r.children&&r.children.length>0?Math.max(...r.children.map(C=>this.getTotalDepth(C,d+1))):d}getColumnCount(r){return Math.round(r/(this.wrapAfter||r))}focusAfterPreviousClicked(r){const d=r.target||r.relatedTarget;return d.ownerDocument.activeElement?.matches("nav[tabindex]")&&d.parentElement?.matches(".flyout")&&d.focus(),d.ownerDocument}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}alignWrapperToRightIfStickOut(r){const d=r.querySelector(".wrapper"),C=r.closest("body");d&&(this.renderer.removeStyle(d,"margin-left"),d.offsetLeft+d.offsetWidth>C.offsetLeft+C.offsetWidth&&this.renderer.setStyle(d,"margin-left",r.offsetWidth-d.offsetWidth+"px"))}alignWrappersToRightIfStickOut(){Array.from(this.elemRef.nativeElement.childNodes).filter(d=>"LI"===d.tagName).forEach(d=>this.alignWrapperToRightIfStickOut(d))}updateClasses(){this.openNodes.forEach((r,d)=>{d+1<this.openNodes.length?(this.renderer.addClass(r,"is-opened"),this.renderer.removeClass(r,"is-open")):(this.renderer.removeClass(r,"is-opened"),this.renderer.addClass(r,"is-open"))}),this.isOpen=this.openNodes.length>0}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ze.F0),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Wa),e.Y36(h.X9E))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-navigation-ui"]],hostVars:4,hostBindings:function(r,d){1&r&&e.NdJ("resize",function(){return d.onResize()},!1,e.Jf7),2&r&&e.ekj("flyout",d.flyout)("is-open",d.isOpen)},inputs:{node:"node",wrapAfter:"wrapAfter",resetMenuOnClose:"resetMenuOnClose",navAriaLabel:"navAriaLabel",flyout:"flyout",isOpen:"isOpen"},decls:6,vars:3,consts:[["class","back is-open",4,"ngIf"],[4,"ngFor","ngForOf"],["nav",""],[1,"back","is-open"],[3,"click"],[3,"type"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"url","target","style","class","click",4,"ngIf","ngIfElse"],["heading",""],["class","wrapper",4,"ngIf"],[3,"url","target","click"],[4,"ngIf","ngIfElse"],["title",""],[3,"url","target","click",4,"ngIf"],[3,"click","mouseenter","keydown.space","keydown.esc"],[4,"ngIf"],[1,"wrapper"],[1,"childs"]],template:function(r,d){if(1&r&&(e.TgZ(0,"nav")(1,"ul"),e.YNc(2,Rn,5,4,"li",0),e.YNc(3,gi,2,4,"ng-container",1),e.qZA()(),e.YNc(4,wp,5,3,"ng-template",null,2,e.W1O)),2&r){let C;e.uIk("aria-label",d.navAriaLabel),e.xp6(2),e.Q6J("ngIf",d.flyout&&(null!==(C=null==d.node||null==d.node.children?null:d.node.children.length)&&void 0!==C?C:0)>1),e.xp6(1),e.Q6J("ngForOf",null==d.node?null:d.node.children)}},dependencies:[n.sg,n.O5,n.tP,lo,$d,h.X$D],encapsulation:2,changeDetection:0}),s})(),Wf=(()=>{class s{constructor(r,d){this.componentData=r,this.service=d,this.node$=this.service.getNavigationNode(this.componentData.data$),this.data$=this.componentData.data$}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(zf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-category-navigation"]],decls:2,vars:3,consts:[[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel",4,"ngIf"],[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel"]],template:function(r,d){1&r&&(e.YNc(0,lu,3,9,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.data$))},dependencies:[n.mk,n.O5,zl,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Jf=(()=>{class s{constructor(r,d){this.componentData=r,this.service=d,this.node$=this.service.createNavigation(this.componentData.data$),this.name$=this.componentData.data$.pipe((0,Ie.U)(C=>C?.navigationNode?.title)),this.styleClass$=this.componentData.data$.pipe((0,Ie.U)(C=>C?.styleClass))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(zf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-navigation"]],decls:4,vars:9,consts:[[3,"node","ngClass","navAriaLabel"]],template:function(r,d){if(1&r&&(e._UZ(0,"cx-navigation-ui",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async")),2&r){let C;e.Q6J("node",e.lcZ(1,3,d.node$))("ngClass",null!==(C=e.lcZ(2,5,d.styleClass$))&&void 0!==C?C:"")("navAriaLabel",e.lcZ(3,7,d.name$))}},dependencies:[n.mk,zl,n.Ov],encapsulation:2,changeDetection:0}),s})(),ap=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NavigationComponent:{component:Jf}}})],imports:[n.ez,Ze.Bz,So,Rl,h.LUR]}),s})(),cp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CategoryNavigationComponent:{component:Wf,data:{resetMenuOnClose:!0}}}})],imports:[n.ez,ap,h.LUR]}),s})(),Kf=(()=>{class s{constructor(r,d){this.componentData=r,this.service=d,this.node$=this.service.getNavigationNode(this.componentData.data$),this.styleClass$=this.componentData.data$.pipe((0,Ie.U)(C=>C?.styleClass))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(zf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-footer-navigation"]],decls:2,vars:3,consts:[[3,"node","flyout","ngClass","navAriaLabel",4,"ngIf"],[3,"node","flyout","ngClass","navAriaLabel"]],template:function(r,d){1&r&&(e.YNc(0,vc,3,8,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.node$))},dependencies:[n.mk,n.O5,zl,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Qf=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{FooterNavigationComponent:{component:Kf}}})],imports:[n.ez,Ze.Bz,ap,Rl,h.LUR]}),s})(),Ui=(()=>{class s{transform(r,d){return d?r.replace(d.trim(),`<span class="highlight">${d.trim()}</span>`):r}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=e.Yjl({name:"cxHighlight",type:s,pure:!0}),s})(),up=(()=>{class s extends h.W8x{}return s.type="SearchBoxSuggestionSelectedEvent",s})(),mm=(()=>{class s extends h.W8x{}return s.type="SearchBoxProductSelectedEvent",s})();const qf="has-searchbox-results";let Xf=(()=>{class s{constructor(r,d,C,b,re){this.searchService=r,this.routingService=d,this.translationService=C,this.winRef=b,this.eventService=re}search(r,d){r&&""!==r?d.minCharactersBeforeRequest&&r.length<d.minCharactersBeforeRequest||(d.displayProducts&&this.searchService.search(r,{pageSize:d.maxProducts}),d.displaySuggestions&&this.searchService.searchSuggestions(r,{pageSize:d.maxSuggestions})):this.clearResults()}getResults(r){return(0,E.aj)([this.getProductResults(r),this.getProductSuggestions(r),this.getSearchMessage(r)]).pipe((0,Ie.U)(([d,C,b])=>({products:d?d.products:void 0,suggestions:C,message:b})),(0,rt.b)(d=>this.toggleBodyClass(qf,this.hasResults(d))))}clearResults(){this.searchService.clearResults(),this.toggleBodyClass(qf,!1)}hasBodyClass(r){return this.winRef.document.body.classList.contains(r)}toggleBodyClass(r,d){void 0===d?this.winRef.document.body.classList.toggle(r):d?this.winRef.document.body.classList.add(r):this.winRef.document.body.classList.remove(r)}dispatchProductSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,productCode:r.productCode},mm)}dispatchSuggestionSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,selectedSuggestion:r.selectedSuggestion,searchSuggestions:r.searchSuggestions},up)}hasResults(r){return!!r.products&&r.products.length>0||!!r.suggestions&&r.suggestions.length>0||!!r.message}getProductResults(r){return r.displayProducts?this.searchService.getResults():(0,R.of)({})}getProductSuggestions(r){return r.displaySuggestions?this.searchService.getSuggestionResults().pipe((0,Ie.U)(d=>d.map(C=>C.value).filter(h.pTN)),(0,fe.w)(d=>0===d.length?this.getExactSuggestion(r).pipe((0,Ie.U)(C=>C?[C]:[])):(0,R.of)(d))):(0,R.of)([])}getExactSuggestion(r){return this.getProductResults(r).pipe((0,fe.w)(d=>d.products&&d.products.length>0?this.fetchTranslation("searchBox.help.exactMatch",{term:d.freeTextSearch}):(0,R.of)(void 0)))}getSearchMessage(r){return(0,E.aj)([this.getProductResults(r),this.getProductSuggestions(r)]).pipe((0,fe.w)(([d,C])=>d&&d.products&&0===d.products.length&&C&&0===C.length?this.fetchTranslation("searchBox.help.noMatch"):(0,R.of)(void 0)))}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:r}})}fetchTranslation(r,d){return this.translationService.translate(r,d)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.qI3),e.LFG(h.Znh),e.LFG(h.D7D),e.LFG(h.X9E),e.LFG(h.POd))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const eh={minCharactersBeforeRequest:1,displayProducts:!0,displaySuggestions:!0,maxProducts:5,maxSuggestions:5,displayProductImages:!0};let vm=(()=>{class s{constructor(r,d,C,b){this.searchBoxComponentService=r,this.componentData=d,this.winRef=C,this.routingService=b,this.iconTypes=lr,this.ignoreCloseEvent=!1,this.chosenWord="",this.config$=(this.componentData?.data$||(0,R.of)({})).pipe((0,Ie.U)(re=>{const et=(Bt,an)=>"false"!==Bt[an]&&!1!==Bt[an];return{...eh,...re,displayProducts:et(re,"displayProducts"),displayProductImages:et(re,"displayProductImages"),displaySuggestions:et(re,"displaySuggestions"),...this.config}}),(0,rt.b)(re=>this.config=re)),this.results$=this.config$.pipe((0,fe.w)(re=>this.searchBoxComponentService.getResults(re)))}set queryText(r){r&&this.search(r)}ngOnInit(){this.subscription=this.routingService.getRouterState().pipe((0,Ke.h)(r=>!r.nextState)).subscribe(r=>{"search"===r.state.context?.id&&r.state.context?.type===h.GV4.CONTENT_PAGE||(this.chosenWord="")})}search(r){this.searchBoxComponentService.search(r,this.config),this.open()}open(){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!0)}dispatchSuggestionEvent(r){this.searchBoxComponentService.dispatchSuggestionSelectedEvent(r)}dispatchProductEvent(r){this.searchBoxComponentService.dispatchProductSelectedEvent(r)}close(r,d){setTimeout(()=>{(!this.ignoreCloseEvent&&!this.isSearchBoxFocused()||d)&&this.blurSearchBox(r)})}blurSearchBox(r){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!1),r&&r.target&&r.target.blur()}isSearchBoxFocused(){return this.getResultElements().includes(this.getFocusedElement())||this.winRef.document.querySelector('input[aria-label="Search"]')===this.getFocusedElement()}avoidReopen(r){this.searchBoxComponentService.hasBodyClass("searchbox-is-active")&&(this.close(r),r.preventDefault())}getResultElements(){return Array.from(this.winRef.document.querySelectorAll(".products > li a, .suggestions > li a"))}getFocusedElement(){return this.winRef.document.activeElement}updateChosenWord(r){this.chosenWord=r}getFocusedIndex(){return this.getResultElements().indexOf(this.getFocusedElement())}focusPreviousChild(r){r.preventDefault();const[d,C]=[this.getResultElements(),this.getFocusedIndex()];d.length&&(C<1?d[d.length-1].focus():d[C-1].focus())}focusNextChild(r){this.open(),r.preventDefault();const[d,C]=[this.getResultElements(),this.getFocusedIndex()];d.length&&(C>=d.length-1?d[0].focus():d[C+1].focus())}launchSearchResult(r,d){!d||0===d.trim().length||(this.close(r),this.searchBoxComponentService.launchSearchPage(d))}disableClose(){this.ignoreCloseEvent=!0}preventDefault(r){r.preventDefault()}clear(r){this.disableClose(),r.value="",this.searchBoxComponentService.clearResults(),setTimeout(()=>{r.focus(),this.ignoreCloseEvent=!1})}ngOnDestroy(){this.subscription?.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Xf),e.Y36(fo,8),e.Y36(h.X9E),e.Y36(h.Znh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-searchbox"]],inputs:{config:"config",queryText:"queryText"},decls:17,vars:24,consts:[["role","search"],[1,"searchbox"],["autocomplete","off","aria-describedby","initialDescription","aria-controls","results",3,"placeholder","value","focus","click","input","blur","keydown.escape","keydown.enter","keydown.arrowup","keydown.arrowdown"],["searchInput",""],[1,"reset",3,"mousedown","keydown.enter"],[3,"type"],["role","presentation",1,"search-icon"],[1,"search",3,"click"],["class","results","id","results","role","dialog",3,"click",4,"ngIf"],["id","results","role","dialog",1,"results",3,"click"],["class","message",3,"innerHTML",4,"ngIf"],["role","listbox",1,"suggestions"],[4,"ngFor","ngForOf"],["class","products","role","listbox",4,"ngIf"],["id","initialDescription",1,"cx-visually-hidden"],["aria-live","assertive","class","cx-visually-hidden",4,"ngIf"],[1,"message",3,"innerHTML"],["role","option",3,"innerHTML","routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["role","listbox",1,"products"],["role","option",3,"routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["format","thumbnail","role","presentation",3,"container",4,"ngIf"],[1,"name",3,"innerHTML"],[1,"price"],["format","thumbnail","role","presentation",3,"container"],["aria-live","assertive",1,"cx-visually-hidden"]],template:function(r,d){if(1&r){const C=e.EpF();e.TgZ(0,"div",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"label",1)(3,"input",2,3),e.NdJ("focus",function(){return d.open()})("click",function(){return d.open()})("input",function(){e.CHM(C);const re=e.MAs(4);return e.KtG(d.search(re.value))})("blur",function(re){return d.close(re)})("keydown.escape",function(re){return d.close(re)})("keydown.enter",function(re){e.CHM(C);const et=e.MAs(4);return d.close(re,!0),d.launchSearchResult(re,et.value),e.KtG(d.updateChosenWord(et.value))})("keydown.arrowup",function(re){return d.focusPreviousChild(re)})("keydown.arrowdown",function(re){return d.focusNextChild(re)}),e.ALo(5,"cxTranslate"),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("mousedown",function(){e.CHM(C);const re=e.MAs(4);return e.KtG(d.clear(re))})("keydown.enter",function(){e.CHM(C);const re=e.MAs(4);return e.KtG(d.clear(re))}),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-icon",5),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"cx-icon",5),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return d.open()}),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-icon",5),e.qZA()()(),e.YNc(15,Kh,10,10,"div",8),e.ALo(16,"async")}if(2&r){const C=e.MAs(4);e.uIk("aria-label",e.lcZ(1,12,"searchBox.productSearch")),e.xp6(2),e.ekj("dirty",!!C.value),e.xp6(1),e.s9C("value",d.chosenWord),e.Q6J("placeholder",e.lcZ(5,14,"searchBox.placeholder")),e.uIk("aria-label",e.lcZ(6,16,"searchBox.placeholder")),e.xp6(4),e.uIk("aria-label",e.lcZ(8,18,"common.reset")),e.xp6(2),e.Q6J("type",d.iconTypes.RESET),e.xp6(2),e.Q6J("type",d.iconTypes.SEARCH),e.xp6(1),e.uIk("aria-label",e.lcZ(13,20,"common.search")),e.xp6(2),e.Q6J("type",d.iconTypes.SEARCH),e.xp6(1),e.Q6J("ngIf",e.lcZ(16,22,d.results$))}},dependencies:[n.sg,n.O5,Ze.yS,vs,lo,n.Ov,h.l2T,h.X$D,Ui],encapsulation:2,changeDetection:0}),s})(),Gu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SearchBoxComponent:{component:vm}}})],imports:[n.ez,Ze.Bz,Xi,So,h.bhT,h.LUR]}),s})(),nh=(()=>{class s{constructor(r,d,C,b,re,et,Bt){this.productSearchService=r,this.routing=d,this.activatedRoute=C,this.currencyService=b,this.languageService=re,this.router=et,this.config=Bt,this.RELEVANCE_ALLCATEGORIES=":relevance:allCategories:",this.searchResults$=this.productSearchService.getResults().pipe((0,Ke.h)(an=>Object.keys(an).length>0)),this.searchByRouting$=(0,E.aj)([this.routing.getRouterState().pipe((0,Re.x)((an,Zn)=>an.state.url===Zn.state.url)),...this.siteContext]).pipe((0,wt.b)(0),(0,Ie.U)(([an,...Zn])=>an.state),(0,rt.b)(an=>{const Zn=this.getCriteriaFromRoute(an.params,an.queryParams);this.search(Zn)})),this.model$=(0,Ye.g)(()=>this.searchByRouting$.subscribe(),()=>this.searchResults$).pipe((0,ie.d)({bufferSize:1,refCount:!0}))}getCriteriaFromRoute(r,d){return{query:d.query||this.getQueryFromRouteParams(r),pageSize:d.pageSize||this.config.view?.defaultPageSize,currentPage:d.currentPage,sortCode:d.sortCode}}getQueryFromRouteParams({query:r,categoryCode:d,brandCode:C}){return r||(d?this.RELEVANCE_ALLCATEGORIES+d:C?this.RELEVANCE_ALLCATEGORIES+C:void 0)}search(r){const d=r.currentPage,C=r.pageSize,b=r.sortCode;this.productSearchService.search(r.query,Object.assign({},d&&{currentPage:d},C&&{pageSize:C},b&&{sort:b}))}getPageItems(r){this.routing.getRouterState().subscribe(d=>{const b={...this.getCriteriaFromRoute(d.state.params,d.state.queryParams),currentPage:r};this.search(b)}).unsubscribe()}sort(r){this.route({sortCode:r})}route(r){this.router.navigate([],{queryParams:r,queryParamsHandling:"merge",relativeTo:this.activatedRoute})}get siteContext(){return[this.languageService.getActive(),this.currencyService.getActive()]}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.ji5),e.LFG(h.Znh),e.LFG(Ze.gz),e.LFG(h.ieQ),e.LFG(h.TSl),e.LFG(Ze.F0),e.LFG(Ja))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Ii=(()=>{return(s=Ii||(Ii={})).Grid="grid",s.List="list",Ii;var s})();let Vu=(()=>{class s{constructor(){this.iconTypes=lr,this.modeChange=new e.vpe}get buttonClass(){return`cx-product-${this.viewMode?.toLowerCase()}`}get viewMode(){return"list"===this.mode?this.iconTypes.GRID:this.iconTypes.LIST}changeMode(){this.modeChange.emit(this.mode===Ii.Grid?Ii.List:Ii.Grid)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-view"]],inputs:{mode:"mode"},outputs:{modeChange:"modeChange"},decls:5,vars:8,consts:[["tabindex","0",1,"btn","cx-product-layout",3,"ngClass","click"],[3,"type",4,"ngIf"],[3,"type"]],template:function(r,d){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return d.changeMode()}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e.YNc(3,al,1,1,"cx-icon",1),e.YNc(4,du,1,1,"cx-icon",1),e.qZA()),2&r&&(e.Q6J("ngClass",d.buttonClass),e.uIk("aria-label",d.viewMode===d.iconTypes.GRID?e.lcZ(1,4,"productView.gridView"):d.viewMode===d.iconTypes.LIST?e.lcZ(2,6,"productView.listView"):null),e.xp6(3),e.Q6J("ngIf",d.viewMode===d.iconTypes.GRID),e.xp6(1),e.Q6J("ngIf",d.viewMode===d.iconTypes.LIST))},dependencies:[n.mk,n.O5,lo,h.X$D],encapsulation:2,changeDetection:0}),s})();var Ka=(()=>{return(s=Ka||(Ka={})).INTRO="PDP.INTRO",s.PRICE="PDP.PRICE",s.SHARE="PDP.SHARE",s.SUMMARY="PDP.SUMMARY",Ka;var s})(),Hu=(()=>{return(s=Hu||(Hu={})).ITEM_ACTIONS="cx-product-list-item.actions",s.ITEM_DETAILS="cx-product-list-item.details",Hu;var s})();let Qa=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),Bi=(()=>{class s extends Qa{constructor(){super(...arguments),this.product$=new j.t(1)}}return s.\u0275fac=function(){let _;return function(d){return(_||(_=e.n5z(s)))(d||s)}}(),s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),$u=(()=>{class s{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=Hu}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Bi))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-list-item"]],inputs:{product:"product"},features:[e._Bn([Bi,{provide:Qa,useExisting:Bi}]),e.TTD],decls:17,vars:23,consts:[[1,"row"],[1,"col-12","col-md-4"],[1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"col-12","col-md-8"],[1,"cx-product-name",3,"routerLink"],[3,"innerHtml"],[3,"cxOutlet"],[1,"col-12","col-md-7","col-xl-7"],[1,"cx-product-summary",3,"innerHtml"],[1,"col-12","col-md-5","col-xl-5"],[3,"rating",4,"ngIf"],["class","cx-product-no-review",4,"ngIf"],[1,"cx-product-price"],[3,"rating"],[1,"cx-product-no-review"],["cxInnerComponentsHost",""]],template:function(r,d){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.ALo(3,"cxTranslate"),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",3),e.qZA()(),e.TgZ(6,"div",4)(7,"a",5),e.ALo(8,"cxUrl"),e._UZ(9,"h2",6),e.qZA(),e.YNc(10,Qh,5,6,"ng-template",7),e.TgZ(11,"div",0)(12,"div",8)(13,"p",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,Mv,1,0,"ng-template",7),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("routerLink",e.lcZ(4,13,e.VKq(17,Kr,d.product))),e.uIk("aria-label",null!=d.product.images&&d.product.images.hasOwnProperty("PRIMARY")?void 0:e.xi3(3,10,"productDetails.noProductImage",e.VKq(19,ls,d.product.name))),e.xp6(3),e.Q6J("container",null==d.product.images?null:d.product.images.PRIMARY)("alt",d.product.name||d.product.summary),e.xp6(2),e.Q6J("routerLink",e.lcZ(8,15,e.VKq(21,Kr,d.product))),e.xp6(2),e.Q6J("innerHtml",d.product.nameHtml,e.oJD),e.xp6(1),e.Q6J("cxOutlet",d.ProductListOutlets.ITEM_DETAILS),e.xp6(3),e.Q6J("innerHtml",d.product.summary,e.oJD),e.xp6(1),e.hij(" ",d.product.summary," "),e.xp6(2),e.Q6J("cxOutlet",d.ProductListOutlets.ITEM_ACTIONS))},dependencies:[n.O5,vs,fs,yl,Ze.yS,Ou,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),s})(),lp=(()=>{class s{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=Hu}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Bi))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-grid-item"]],inputs:{product:"product"},features:[e._Bn([Bi,{provide:Qa,useExisting:Bi}]),e.TTD],decls:7,vars:15,consts:[["tabindex","-1",1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"cx-product-name",3,"routerLink","innerHTML"],[3,"cxOutlet"],[1,"cx-product-rating"],[3,"rating",4,"ngIf"],[4,"ngIf"],[1,"cx-product-price-container"],[1,"cx-product-price"],[3,"rating"],["cxInnerComponentsHost",""]],template:function(r,d){1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.qZA(),e._UZ(3,"a",2),e.ALo(4,"cxUrl"),e.YNc(5,Iv,7,6,"ng-template",3),e.YNc(6,wv,1,0,"ng-template",3)),2&r&&(e.Q6J("routerLink",e.lcZ(1,7,e.VKq(11,Kr,d.product))),e.xp6(2),e.Q6J("container",null==d.product.images?null:d.product.images.PRIMARY)("alt",d.product.summary),e.xp6(1),e.Q6J("routerLink",e.lcZ(4,9,e.VKq(13,Kr,d.product)))("innerHTML",d.product.nameHtml,e.oJD),e.xp6(2),e.Q6J("cxOutlet",d.ProductListOutlets.ITEM_DETAILS),e.xp6(1),e.Q6J("cxOutlet",d.ProductListOutlets.ITEM_ACTIONS))},dependencies:[n.O5,vs,fs,yl,Ze.yS,Ou,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),s})(),rh=(()=>{class s{constructor(r,d){this.productListComponentService=r,this.ref=d,this.subscription=new M.w,this.ViewModes=Ii,this.appendProducts=!1,this.resetList=!1,this.isMaxProducts=!1,this.isLastPage=!1,this.isEmpty=!1}set setConfig(r){this.setComponentConfigurations(r)}set setModel(r){this.infiniteScrollOperations(r)}set setViewMode(r){this.inputViewMode=r,this.viewMode?this.resetListOnViewModeChange():this.viewMode=r}scrollPage(r){this.appendProducts=!0,this.ref.markForCheck(),this.productListComponentService.getPageItems(r)}loadNextPage(r){this.isMaxProducts=!1,this.scrollPage(r)}scrollToTop(){window.scroll(0,0)}setComponentConfigurations(r){const d=r.view?.infiniteScroll?.showMoreButton,C=r.view?.infiniteScroll?.productLimit;this.productLimit=d?1:C}infiniteScrollOperations(r){this.appendProducts?this.model={...r,products:this.model.products?.concat(r.products??[])}:(this.model=r,this.maxProducts=this.productLimit),this.setConditions(),this.ref.markForCheck()}resetListOnViewModeChange(){this.scrollToTop(),this.resetList=!0,this.productListComponentService.getPageItems(0)}setConditions(){this.isEmpty=!this.model.products||0===this.model.products.length,this.isLastPage=this.model.pagination?.currentPage===(this.model.pagination?.totalPages??0)-1,this.model.products&&(this.isMaxProducts=void 0!==this.productLimit&&0!==this.productLimit&&this.model.products.length>=(this.maxProducts??0),this.isMaxProducts&&(this.maxProducts=this.model.products.length+(this.productLimit??0))),this.viewMode!==this.inputViewMode&&(this.viewMode=this.inputViewMode),this.resetList=!1,this.appendProducts=!1}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(nh),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-scroll"]],inputs:{setConfig:["scrollConfig","setConfig"],setModel:["model","setModel"],setViewMode:["inputViewMode","setViewMode"]},decls:2,vars:2,consts:[[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[1,"row"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[3,"className"],["class","btn btn-block btn-action",3,"click",4,"ngIf"],["class","btn btn-block btn-action align-btn",3,"click",4,"ngIf"],["class","cx-spinner",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],[1,"btn","btn-block","btn-action",3,"click"],[1,"btn","btn-block","btn-action","align-btn",3,"click"],[1,"cx-spinner"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"]],template:function(r,d){1&r&&(e.YNc(0,qh,8,8,"ng-container",0),e.YNc(1,ks,7,8,"ng-container",0)),2&r&&(e.Q6J("ngIf",d.viewMode===d.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",d.viewMode===d.ViewModes.List))},dependencies:[n.sg,n.O5,mt,po,$u,lp,h.X$D],encapsulation:2}),s})(),Wl=(()=>{class s{constructor(r,d,C,b){this.pageLayoutService=r,this.productListComponentService=d,this.globalMessageService=C,this.scrollConfig=b,this.subscription=new M.w,this.model$=this.productListComponentService.model$,this.viewMode$=new P.X(Ii.Grid),this.ViewModes=Ii}ngOnInit(){this.isInfiniteScroll=this.scrollConfig.view?.infiniteScroll?.active,this.subscription.add(this.pageLayoutService.templateName$.pipe((0,Nt.q)(1)).subscribe(r=>{this.viewMode$.next("ProductGridPageTemplate"===r?Ii.Grid:Ii.List)})),this.subscription.add((0,E.aj)([this.model$,this.viewMode$]).pipe((0,Dt.T)(1),(0,Ke.h)(([r,d])=>!!r&&!!d)).subscribe(()=>this.globalMessageService.add({key:"sorting.pageViewUpdated"},h.xUg.MSG_TYPE_ASSISTIVE,500)))}sortList(r){this.productListComponentService.sort(r)}setViewMode(r){this.viewMode$.next(r)}ngOnDestroy(){this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36($a),e.Y36(nh),e.Y36(h.IWp),e.Y36(Ja))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-list"]],decls:2,vars:3,consts:[["class","cx-page",4,"ngIf"],[1,"cx-page"],["tabindex","-1",1,"cx-page-section"],[1,"container"],[1,"row"],["class","col-12 col-lg-12",4,"ngIf"],[1,"col-12","col-lg-12"],[1,"cx-sorting","top"],[1,"form-group","cx-sort-dropdown","col-12","col-lg-4","mr-auto"],["ariaControls","product-results-list",3,"sortOptions","selectedOption","ariaLabel","placeholder","sortListEvent"],["class","col-auto",4,"ngIf"],[1,"col-auto","ml-auto","ml-lg-0"],[3,"mode","modeChange"],["id","product-results-list",1,"cx-product-container"],[4,"ngIf","ngIfElse"],["infiniteScroll",""],[1,"cx-sorting","bottom"],[1,"col-auto"],[1,"cx-pagination"],["queryParam","currentPage",3,"pagination","defaultPage"],[4,"ngIf"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"],[3,"scrollConfig","model","inputViewMode"]],template:function(r,d){1&r&&(e.YNc(0,cl,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.model$))},dependencies:[n.sg,n.O5,es,Ru,$u,lp,Vu,rh,n.Ov,h.X$D],encapsulation:2}),s})();var ys=(()=>{return(s=ys||(ys={})).EXPANDED="EXPANDED",s.COLLAPSED="COLLAPSED",ys;var s})();let Ss=(()=>{class s{constructor(r,d){this.routing=r,this.productListComponentService=d,this.routeState$=this.routing.getRouterState().pipe((0,dt.j)("state")),this.searchResult$=this.routeState$.pipe((0,fe.w)(C=>this.productListComponentService.model$.pipe((0,Ke.h)(b=>this.filterForPage(C,b)),(0,Ie.U)(b=>({...b,breadcrumbs:this.filterBreadcrumbs(b?.breadcrumbs??[],C.params)}))))),this.facetList$=this.searchResult$.pipe((0,Ie.U)(C=>({facets:C.facets,activeFacets:C.breadcrumbs})))}filterForPage(r,d){return!!d.currentQuery?.query?.value&&(r.context.type===h.GV4.CATEGORY_PAGE?d.currentQuery.query.value.indexOf(`allCategories:${r.context.id}`)>-1:r.context.type===h.GV4.CONTENT_PAGE&&"search"===r.context.id&&d.freeTextSearch===r.params.query.split(":")[0])}filterBreadcrumbs(r,d){return r?r.filter(C=>!("allCategories"===C.facetCode&&(C.facetValueCode===d.categoryCode||C.facetValueCode===d.brandCode))):[]}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.Znh),e.LFG(nh))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ju=(()=>{class s{constructor(r){this.productFacetService=r,this.facetState=new Map,this.codec=new Un.mL,this.facetList$=this.productFacetService.facetList$.pipe((0,rt.b)(d=>{d.facets?.forEach(C=>this.initialize(C))}))}getState(r){return this.initialize(r),r.name?this.facetState.get(r.name)??(0,R.of)({}):(0,R.of)({})}getStateSnapshot(r){return this.getState(r).value}toggle(r,d){const C=this.getStateSnapshot(r),b={toggled:d?ys.COLLAPSED:ys.EXPANDED};b.toggled===ys.COLLAPSED&&(b.maxVisible=C.topVisible),this.updateState(r,b)}increaseVisibleValues(r){this.updateState(r,{maxVisible:r.values?.length})}decreaseVisibleValues(r){this.updateState(r,{maxVisible:r.topValueCount})}initialize(r){const d=r.topValueCount&&r.topValueCount>0?r.topValueCount:r.values?.length||0;r.name&&!this.hasState(r)&&this.facetState.set(r.name,new P.X({topVisible:d,maxVisible:d}))}updateState(r,d){const C={...this.getStateSnapshot(r),...d};r.name&&this.facetState.get(r.name)?.next(C)}hasState(r){return!!r.name&&this.facetState.has(r.name)}getLinkParams(r){return{query:this.codec.decodeValue(this.decodeUriComponentSafe(r)).replace(/\+/g," ")}}decodeUriComponentSafe(r){return r.replace(/%(?![0-9a-fA-F]{2})/g,"%25")}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Ss))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),oh=(()=>{class s{constructor(r){this.facetService=r,this.facetList$=this.facetService.facetList$,this.closeIcon=lr.CLOSE}getLinkParams(r){return this.facetService.getLinkParams(r.removeQuery?.query?.value??"")}getFocusKey(r,d){return r.facets?.find(C=>C.values?.find(b=>b.name===d.facetValueName))?"":d.facetValueName}removeFilterWithSpacebar(r){r?.preventDefault(),r?.target?.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(ju))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-active-facets"]],inputs:{closeIcon:"closeIcon"},decls:2,vars:3,consts:[[4,"ngIf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space",4,"ngFor","ngForOf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space"],["aria-hidden","true",3,"type"]],template:function(r,d){1&r&&(e.YNc(0,og,3,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.facetList$))},dependencies:[n.sg,n.O5,Ze.yS,lo,ko,n.Ov,h.X$D],encapsulation:2}),s})(),Zu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,Ze.Bz,h.LUR,So,Ci]}),s})(),oy=(()=>{class s{constructor(r,d,C){this.facetService=r,this.elementRef=d,this.cd=C,this.expandIcon=lr.EXPAND,this.collapseIcon=lr.COLLAPSE}set facet(r){this._facet=r,this.isMultiSelect=!!r.multiSelect,this.state$=this.facetService.getState(r)}get facet(){return this._facet}toggleGroup(r){const d=this.elementRef.nativeElement,C=this.keyboardFocus?.isLocked;this.facetService.toggle(this.facet,this.isExpanded),(!C||this.isExpanded)&&(d.focus(),r.stopPropagation())}get isExpanded(){return null!==this.values?.first?.nativeElement.offsetParent}openLink(r){r.target.click(),r.preventDefault()}increaseVisibleValues(){this.facetService.increaseVisibleValues(this.facet)}decreaseVisibleValues(){this.facetService.decreaseVisibleValues(this.facet)}getLinkParams(r){return this.facetService.getLinkParams(r.query?.query?.value??"")}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(ju),e.Y36(e.SBq),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-facet"]],viewQuery:function(r,d){if(1&r&&(e.Gf(ko,5),e.Gf(Fv,5)),2&r){let C;e.iGM(C=e.CRH())&&(d.keyboardFocus=C.first),e.iGM(C=e.CRH())&&(d.values=C)}},hostVars:2,hostBindings:function(r,d){2&r&&e.ekj("multi-select",d.isMultiSelect)},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",facet:"facet"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"heading",3,"click"],[1,"collapse-icon",3,"type"],[1,"expand-icon",3,"type"],["routerLink","./","class","value",3,"queryParams","selected","cxFocus","keydown.space",4,"ngFor","ngForOf"],[1,"more"],["aria-expanded","true","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["aria-expanded","false","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["routerLink","./",1,"value",3,"queryParams","cxFocus","keydown.space"],["facetValue",""],["aria-hidden","true"],["aria-hidden","true",1,"count"],[1,"count"],["aria-expanded","true",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"],["aria-expanded","false",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"]],template:function(r,d){1&r&&(e.YNc(0,ld,14,22,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.state$))},dependencies:[bu,n.sg,n.O5,lo,ko,Ze.yS,n.Ov,n.OU,h.X$D],encapsulation:2,changeDetection:0}),s})(),ih=(()=>{class s{constructor(r,d,C){this.facetService=r,this.elementRef=d,this.renderer=C,this.closeList=new e.vpe,this.facetList$=this.facetService.facetList$,this.iconTypes=lr,this.dialogFocusConfig={trap:!0,block:!0,focusOnEscape:!0,autofocus:"cx-facet"}}set isDialog(r){this._isDialog=r,r&&this.renderer.addClass(document.body,"modal-open")}get isDialog(){return this._isDialog}handleClick(){this.close()}expandFacetGroup(r,d){d.isExpanded||this.facetService.toggle(r,d.isExpanded)}isExpanded(r){return this.facetService.getState(r).pipe((0,Ie.U)(d=>d.toggled===ys.EXPANDED))}isCollapsed(r){return this.facetService.getState(r).pipe((0,Ie.U)(d=>d.toggled===ys.COLLAPSED))}close(r){this.renderer.removeClass(document.body,"modal-open"),this.closeList.emit(r)}block(r){r?.stopPropagation()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(ju),e.Y36(e.SBq),e.Y36(e.Qsj))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-facet-list"]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(){return d.handleClick()})},inputs:{isDialog:"isDialog"},outputs:{closeList:"closeList"},decls:2,vars:3,consts:[["class","inner",3,"cxFocus","tabindex","esc","click",4,"ngIf"],[1,"inner",3,"cxFocus","tabindex","esc","click"],[4,"cxFeatureLevel"],["class","list-header",4,"cxFeatureLevel"],["role","group",3,"facet","expanded","collapsed",4,"ngFor","ngForOf"],["type","button",1,"close",3,"click"],["aria-hidden","true",3,"type"],[1,"list-header"],["role","group",3,"facet"],["facetRef",""]],template:function(r,d){if(1&r&&(e.YNc(0,na,5,9,"section",0),e.ALo(1,"async")),2&r){let C;e.Q6J("ngIf",null==(C=e.lcZ(1,1,d.facetList$))?null:C.facets)}},dependencies:[n.sg,n.O5,lo,oy,ko,h.EJv,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),_m=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[Qo,n.ez,h.LUR,So,Ci,Ze.Bz,h.bhT]}),s})(),l_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,h.LUR,So,_m,Ci,h.GSh]}),s})(),Cm=(()=>{class s{constructor(r){this.breakpointService=r,this.iconTypes=lr,this.CLOSE_DELAY=300,this.open$=new P.X(!1),this.isOpen$=this.breakpointService.breakpoint$.pipe((0,Qt.QV)(ot.E),(0,fe.w)(()=>this.hasTrigger?this.open$:(0,R.of)(!0)),(0,it.j)(d=>function ge(s=0,_=ze.P){return(!(0,Ge.k)(s)||s<0)&&(s=0),(!_||"function"!=typeof _.schedule)&&(_=ze.P),new V.y(r=>(r.add(_.schedule(ve,s,{subscriber:r,counter:0,period:s})),r))}(d?0:this.CLOSE_DELAY))),this.isActive$=this.open$.pipe((0,Qt.QV)(ot.E))}launch(){this.open$.next(!0)}close(){this.open$.next(!1),this.trigger.nativeElement.focus()}get hasTrigger(){return null!==this.trigger.nativeElement.offsetParent}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(yi))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-facet-navigation"]],viewQuery:function(r,d){if(1&r&&e.Gf(kp,5),2&r){let C;e.iGM(C=e.CRH())&&(d.trigger=C.first)}},decls:8,vars:7,consts:[[1,"btn","btn-action","btn-block","dialog-trigger",3,"click"],["trigger",""],[3,"type"],[3,"isDialog","active","dialog","closeList",4,"ngIf"],[3,"isDialog","closeList"]],template:function(r,d){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return d.launch()}),e._UZ(2,"cx-icon",2),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-active-facets"),e.YNc(6,Np,2,7,"cx-facet-list",3),e.ALo(7,"async")),2&r&&(e.xp6(2),e.Q6J("type",d.iconTypes.FILTER),e.xp6(1),e.hij(" ",e.lcZ(4,3,"productList.filterBy.label"),"\n"),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,5,d.isOpen$)))},dependencies:[n.O5,ih,oh,lo,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),$s=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,l_,Zu,So,h.LUR,h.pEA.withConfig({cmsComponents:{ProductRefinementComponent:{component:Cm}}})]}),s})();const d_={view:{defaultPageSize:12,infiniteScroll:{active:!1,productLimit:0,showMoreButton:!1}}};let iy=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(d_),(0,h.i51)({cmsComponents:{CMSProductListComponent:{component:Wl,data:{composition:{inner:["ProductAddToCartComponent"]}}},ProductGridComponent:{component:Wl,data:{composition:{inner:["ProductAddToCartComponent"]}}},SearchResultsListComponent:{component:Wl,data:{composition:{inner:["ProductAddToCartComponent"]}}}}})],imports:[Qo,n.ez,h.GSh,h.LUR,So,Jt,jd,Ol,Xi,Ki,ca,Ze.Bz,qi,Lu,h.bhT]}),s})(),ym=(()=>{class s{constructor(r){this.productListItemContextSource=r}ngOnChanges(r){r?.item&&this.productListItemContextSource.product$.next(this.item)}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Bi))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-carousel-item"]],inputs:{item:"item"},features:[e._Bn([Bi,{provide:Qa,useExisting:Bi}]),e.TTD],decls:9,vars:9,consts:[["tabindex","0",3,"routerLink"],["format","product",3,"container","alt"],[1,"cx-product-name"],[1,"price"],[1,"actions"],["cxInnerComponentsHost",""]],template:function(r,d){if(1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e.GkF(8,5),e.qZA()),2&r){let C;e.Q6J("routerLink",e.lcZ(1,5,e.VKq(7,Kr,d.item))),e.xp6(2),e.Q6J("container",null==d.item.images?null:d.item.images.PRIMARY)("alt",null!==(C=d.item.name)&&void 0!==C?C:""),e.xp6(2),e.hij(" ",d.item.name," "),e.xp6(2),e.hij(" ",null==d.item.price?null:d.item.price.formattedValue," ")}},dependencies:[vs,Ze.yS,yl,h.l2T],encapsulation:2,changeDetection:0}),s})(),sy=(()=>{class s{constructor(r,d){this.componentData=r,this.productService=d,this.PRODUCT_SCOPE=["list","price","stock"],this.componentData$=this.componentData.data$.pipe((0,Ke.h)(C=>Boolean(C))),this.title$=this.componentData$.pipe((0,Ie.U)(C=>C.title)),this.items$=this.componentData$.pipe((0,Ie.U)(C=>C.productCodes?.trim().split(" ")??[]),(0,Ie.U)(C=>C.map(b=>this.productService.get(b,[...this.PRODUCT_SCOPE]))))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(h.M52))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-carousel"]],decls:4,vars:3,consts:[["role","region","itemWidth","285px",3,"items","title","template",4,"ngIf"],["carouselItem",""],["role","region","itemWidth","285px",3,"items","title","template"],[3,"item"]],template:function(r,d){1&r&&(e.YNc(0,Fi,4,13,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,hu,1,1,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.items$))},dependencies:[n.O5,za,ym,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),Sm=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductCarouselComponent:{component:sy}}})],imports:[n.ez,Tu,Xi,Ze.Bz,h.bhT,h.LUR,ca]}),s})(),sh=(()=>{class s{constructor(r,d,C){this.cmsComponentData=r,this.currentProductService=d,this.productReferenceService=C,this.items$=this.productCode$.pipe((0,Ft.M)(this.componentData$),(0,rt.b)(([b,re])=>this.productReferenceService.loadProductReferences(b,re.productReferenceTypes)),(0,fe.w)(([b,re])=>this.getProductReferences(b,re.productReferenceTypes??"")))}get componentData$(){return this.cmsComponentData.data$.pipe((0,Ke.h)(r=>Boolean(r)))}get productCode$(){return this.currentProductService.getProduct().pipe((0,Ke.h)(h.jWE),(0,Ie.U)(r=>r.code??""),(0,rt.b)(r=>this.productReferenceService.cleanReferences()))}get title$(){return this.componentData$.pipe((0,Ie.U)(r=>r?.title))}getProductReferences(r,d){return this.productReferenceService.getProductReferences(r,d).pipe((0,Ke.h)(C=>Boolean(C)),(0,Ie.U)(C=>C.map(b=>(0,R.of)(b.target))))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(fo),e.Y36(Ni),e.Y36(h.FxR))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-references"]],decls:4,vars:3,consts:[[3,"title","items","template",4,"ngIf"],["carouselItem",""],[3,"title","items","template"],["tabindex","0",3,"routerLink"],["format","product",3,"container"],[1,"price"]],template:function(r,d){1&r&&(e.YNc(0,gu,2,5,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Na,7,8,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.items$))},dependencies:[n.O5,za,vs,Ze.yS,n.Ov,h.l2T],encapsulation:2,changeDetection:0}),s})(),ah=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReferencesComponent:{component:sh}}})],imports:[n.ez,Tu,Xi,Ze.Bz,h.bhT]}),s})(),ch=(()=>{class s{constructor(r){this.currentProductService=r,this.mainMediaContainer=new P.X(null),this.product$=this.currentProductService.getProduct().pipe((0,Ke.h)(h.jWE),(0,Re.x)(),(0,rt.b)(d=>{this.mainMediaContainer.next(d.images?.PRIMARY?d.images.PRIMARY:{})})),this.thumbs$=this.product$.pipe((0,Ie.U)(d=>this.createThumbs(d))),this.mainImage$=(0,E.aj)([this.product$,this.mainMediaContainer]).pipe((0,Ie.U)(([,d])=>d))}openImage(r){this.mainMediaContainer.next(r)}isActive(r){return this.mainMediaContainer.pipe((0,Ke.h)(Boolean),(0,Ie.U)(d=>d.zoom&&d.zoom.url&&r.zoom&&r.zoom.url&&d.zoom.url===r.zoom.url))}getActive(r){return this.mainMediaContainer.pipe((0,Ke.h)(Boolean),(0,Ie.U)(d=>{const C=r.find(b=>b.media&&d.zoom&&b.media.container&&b.media.container.zoom&&b.media.container.zoom.url===d.zoom.url);return r.indexOf(C)}))}createThumbs(r){return!r.images||!r.images.GALLERY||r.images.GALLERY.length<2?[]:r.images.GALLERY.map(d=>(0,R.of)({container:d}))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-images"]],decls:6,vars:6,consts:[[4,"ngIf"],["thumb",""],[3,"container"],["class","thumbs","itemWidth","120px",3,"items","hideIndicators","template",4,"ngIf"],["itemWidth","120px",1,"thumbs",3,"items","hideIndicators","template"],["tabindex","0","format","product",3,"container","focus"]],template:function(r,d){1&r&&(e.YNc(0,Ua,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Wi,2,1,"ng-container",0),e.ALo(3,"async"),e.YNc(4,Up,2,5,"ng-template",null,1,e.W1O)),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,d.mainImage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,d.thumbs$)))},dependencies:[n.O5,vs,za,n.Ov],encapsulation:2,changeDetection:0}),s})(),uh=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductImagesComponent:{component:ch}}})],imports:[n.ez,Ze.Bz,Xi,Ki,Tu]}),s})(),Yu=(()=>{class s{constructor(r,d,C,b){this.currentProductService=r,this.translationService=d,this.winRef=C,this.eventService=b,this.product$=this.currentProductService.getProduct(),this.areReviewsAvailable$=(0,de.T)((0,H.P)(()=>(0,R.of)(!!this.getReviewsComponent())),this.eventService.get(wd).pipe((0,Ke.h)(re=>re.id===this.reviewsComponentId),(0,ne.h)(!0)),this.eventService.get(tf).pipe((0,Ke.h)(re=>re.id===this.reviewsComponentId),(0,ne.h)(!1))),this.reviewsComponentId="ProductReviewsTabComponent",this.reviewsTranslationKey=`TabPanelContainer.tabs.${this.reviewsComponentId}`}showReviews(){this.translationService.translate(this.reviewsTranslationKey).subscribe(r=>{const d=this.getTabsComponent(),C=d&&this.getTabByLabel(r,d);C&&(this.clickTabIfInactive(C),setTimeout(()=>{C.scrollIntoView({behavior:"smooth"}),C.focus({preventScroll:!0})}))}).unsubscribe()}getReviewsComponent(){return this.winRef.document.querySelector("cx-product-reviews")}getTabsComponent(){return this.winRef.document.querySelector("cx-tab-paragraph-container")}clickTabIfInactive(r){(!r.classList.contains("active")||r.classList.contains("toggled"))&&r.click()}getTabByLabel(r,d){const C=d.getElementsByTagName("button");return Array.from(C).find(b=>b.innerHTML.includes(r))}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni),e.Y36(h.D7D),e.Y36(h.X9E),e.Y36(h.POd))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-intro"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","rating",4,"ngIf"],[1,"code"],[1,"rating"],[3,"rating"],[1,"count"],["class","btn btn-link cx-action-link",3,"click",4,"ngIf"],[1,"btn","btn-link","cx-action-link",3,"click"]],template:function(r,d){1&r&&(e.YNc(0,ug,6,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.product$))},dependencies:[n.O5,Ou,n.Ov,n.JJ,h.X$D],encapsulation:2,changeDetection:0}),s})(),Es=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductIntroComponent:{component:Yu}}})],imports:[n.ez,h.LUR,Lu]}),s})(),lh=(()=>{class s{constructor(r){this.currentProductService=r,this.outlets=Ka,this.product$=this.currentProductService.getProduct(["details","price"])}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[1,"price"],[1,"summary",3,"innerHTML"]],template:function(r,d){1&r&&(e.YNc(0,lg,3,8,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.product$))},dependencies:[n.O5,fs,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),p_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSummaryComponent:{component:lh}}})],imports:[n.ez,Ki,h.LUR]}),s})(),f_=(()=>{class s{constructor(r){this.currentProductService=r,this.product$=this.currentProductService.getProduct("attributes")}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-attributes"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,d){1&r&&(e.YNc(0,hg,6,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.product$))},dependencies:[n.sg,n.O5,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),s})(),h_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSpecsTabComponent:{component:f_}}})],imports:[n.ez,h.LUR]}),s})(),g_=(()=>{class s{constructor(r,d,C){this.currentProductService=r,this.componentData=d,this.cmsService=C,this.children$=this.componentData.data$.pipe((0,fe.w)(b=>(0,E.aj)((b?.children??"").split(" ").map(re=>this.cmsService.getComponentData(re).pipe((0,Re.x)(),(0,Ie.U)(et=>{if(et)return et.flexType||(et={...et,flexType:et.typeCode}),et}))))))}ngOnInit(){this.product$=this.currentProductService.getProduct()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni),e.Y36(fo),e.Y36(h.ctt))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-details-tab"]],decls:4,vars:6,consts:[[4,"ngIf"],[1,"container",3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],[1,"container"],[3,"cxComponentWrapper"]],template:function(r,d){1&r&&(e.YNc(0,hd,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,gg,2,1,"ng-container",0),e.ALo(3,"async")),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,d.product$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,d.children$)))},dependencies:[n.sg,n.O5,aa,fs,n.Ov],encapsulation:2,changeDetection:0}),s})(),m_=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductDetailsTabComponent:{component:g_}}})],imports:[n.ez,ca,Ki]}),s})(),dp=(()=>{class s{constructor(r,d,C,b){this.reviewService=r,this.currentProductService=d,this.fb=C,this.cd=b,this.isWritingReview=!1,this.initialMaxListItems=5,this.product$=this.currentProductService.getProduct(),this.reviews$=this.product$.pipe((0,Ke.h)(h.jWE),(0,Ie.U)(re=>re.code??""),(0,Re.x)(),(0,fe.w)(re=>this.reviewService.getByProductCode(re)),(0,rt.b)(()=>{this.resetReviewForm(),this.maxListItems=this.initialMaxListItems}))}initiateWriteReview(){this.isWritingReview=!0,this.cd.detectChanges(),this.titleInput&&this.titleInput.nativeElement&&this.titleInput.nativeElement.focus()}cancelWriteReview(){this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}setRating(r){this.reviewForm.controls.rating.setValue(r)}submitReview(r){this.reviewForm.valid?this.addReview(r):this.reviewForm.markAllAsTouched()}addReview(r){const d=this.reviewForm.controls;this.reviewService.add(r.code??"",{headline:d.title.value,comment:d.comment.value,rating:d.rating.value,alias:d.reviewerName.value}),this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}resetReviewForm(){this.reviewForm=this.fb.group({title:["",It.kI.required],comment:["",It.kI.required],rating:[null,op.starRatingEmpty],reviewerName:""})}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.x0A),e.Y36(Ni),e.Y36(It.QS),e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-product-reviews"]],viewQuery:function(r,d){if(1&r&&(e.Gf(Dc,5),e.Gf(vd,5)),2&r){let C;e.iGM(C=e.CRH())&&(d.titleInput=C.first),e.iGM(C=e.CRH())&&(d.writeReviewButton=C.first)}},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf","ngIfElse"],["writeReview",""],[1,"header"],[1,"btn","btn-primary",3,"click"],["writeReviewButton",""],["class","rating",3,"rating",4,"ngIf"],["class","rating",4,"ngIf"],[1,"rating",3,"rating"],[1,"rating"],[4,"ngIf"],["class","review","tabindex","0",4,"ngFor","ngForOf"],["tabindex","0",1,"review"],[1,"title"],[3,"rating"],[1,"name"],[1,"date"],[1,"text"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-content"],["required","true","type","text","formControlName","title",1,"form-control"],["titleInput",""],[3,"control"],["required","true","rows","3","formControlName","comment",1,"form-control"],["required","true","type","number","formControlName","rating",1,"rating-input"],["tabindex","0",3,"disabled","change"],["type","text","formControlName","reviewerName",1,"form-control"],[1,"form-group","row"],[1,"col-12","col-md-4"],["type","button",1,"btn","btn-block","btn-secondary",3,"click"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(r,d){1&r&&(e.YNc(0,ds,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.product$))},dependencies:[n.sg,n.O5,It._Y,It.Fj,It.wV,It.JJ,It.JL,It.Q7,It.sg,It.u,Ou,xu,n.Ov,n.OU,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),s})(),$c=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReviewsTabComponent:{component:dp}}})],imports:[n.ez,It.UX,It.u5,h.LUR,Lu,Uc]}),s})(),ay=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h_,m_,$c]}),s})(),Jl=(()=>{class s{constructor(r,d,C){this.interestsService=r,this.launchDialogService=d,this.el=C,this.subscription=new M.w,this.enabledPrefs=[],this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}close(r){this.launchDialogService.closeDialog(r)}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.init(r.subscribeSuccess$,r.enabledPrefs)}))}init(r,d){this.subscribeSuccess$=r,this.enabledPrefs=d}ngOnDestroy(){this.subscribeSuccess$&&this.subscribeSuccess$.subscribe(r=>{r&&this.interestsService.resetAddInterestState()}).unsubscribe(),this.subscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(h.GO$),e.Y36(Ti),e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-stock-notification-dialog"]],hostBindings:function(r,d){1&r&&e.NdJ("click",function(b){return d.handleClick(b)})},decls:14,vars:11,consts:[[1,"cx-stock-notification-dialog",3,"cxFocus","esc"],[1,"cx-stock-notification-container"],[1,"cx-dialog-header","cx-modal-header"],[1,"cx-dialog-title","modal-title"],["type","button","tabindex","-1",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"cx-dialog-body","modal-body"],[1,"cx-stock-notification-content"],[1,"cx-stock-notification-text"],["class","channels",4,"ngFor","ngForOf"],[1,"link-prefs","cx-stock-notification-link",3,"routerLink","click"],[1,"link-interests","cx-stock-notification-link",3,"routerLink","click"],[1,"cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-4","offset-md-8","col-lg-3","offset-lg-9"],["type","button",1,"btn","btn-primary","btn-block","btn-ok",3,"click"],[1,"channels"],[4,"ngIf"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,d){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return d.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return d.close("Button clicked")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._uU(9,"\xd7"),e.qZA()()(),e.YNc(10,Cg,36,39,"ng-container",6),e.ALo(11,"async"),e.qZA(),e.YNc(12,yg,7,3,"ng-template",null,7,e.W1O),e.qZA()),2&r){const C=e.MAs(13);e.Q6J("cxFocus",d.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,5,"stockNotification.subscriptionDialog.header")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,7,"common.close")),e.xp6(4),e.Q6J("ngIf",e.lcZ(11,9,d.subscribeSuccess$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,Ze.yS,po,ko,n.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),s})(),Em=(()=>{class s{constructor(r,d,C,b,re,et,Bt,an){this.currentProductService=r,this.globalMessageService=d,this.translationService=C,this.interestsService=b,this.notificationPrefService=re,this.userIdService=et,this.launchDialogService=Bt,this.vcr=an,this.anonymous=!0,this.enabledPrefs=[],this.subscriptions=new M.w}ngOnInit(){this.outOfStock$=(0,E.aj)([this.currentProductService.getProduct().pipe((0,Ke.h)(h.jWE)),this.userIdService.getUserId()]).pipe((0,rt.b)(([r,d])=>{this.productCode=r.code??"",d!==h.Fds&&(this.anonymous=!1,this.notificationPrefService.loadPreferences(),this.interestsService.loadProductInterests(void 0,void 0,void 0,r.code,h.k$E.BACK_IN_STOCK))}),(0,Ie.U)(([r])=>!!r.stock&&"outOfStock"===r.stock.stockLevelStatus)),this.hasProductInterests$=this.interestsService.getProductInterests().pipe((0,Ie.U)(r=>!!r.results&&1===r.results.length)),this.subscribeSuccess$=this.interestsService.getAddProductInterestSuccess(),this.isRemoveInterestLoading$=this.interestsService.getRemoveProdutInterestLoading(),this.prefsEnabled$=this.notificationPrefService.getEnabledPreferences().pipe((0,rt.b)(r=>this.enabledPrefs=r),(0,Ie.U)(r=>r.length>0)),this.subscriptions.add(this.interestsService.getAddProductInterestError().subscribe(r=>{r&&this.onInterestAddingError()})),this.subscriptions.add(this.interestsService.getRemoveProdutInterestSuccess().subscribe(r=>{r&&this.onInterestRemovingSuccess()}))}subscribe(){this.openDialog(),this.interestsService.addProductInterest(this.productCode,h.k$E.BACK_IN_STOCK)}unsubscribe(){this.interestsService.removeProdutInterest({product:{code:this.productCode},productInterestEntry:[{interestType:h.k$E.BACK_IN_STOCK}]},!0)}onInterestRemovingSuccess(){this.subscriptions.add(this.translationService.translate("stockNotification.unsubscribeSuccess").pipe((0,Fe.P)()).subscribe(r=>this.globalMessageService.add(r,h.xUg.MSG_TYPE_INFO))),this.interestsService.resetRemoveInterestState()}onInterestAddingError(){this.launchDialogService.closeDialog("Interests error"),this.interestsService.resetAddInterestState()}openDialog(){const d=this.launchDialogService.openDialog("STOCK_NOTIFICATION",this.element,this.vcr,{subscribeSuccess$:this.subscribeSuccess$,enabledPrefs:this.enabledPrefs});d&&d.pipe((0,Nt.q)(1)).subscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.interestsService.clearProductInterests(),this.notificationPrefService.clearPreferences()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(Ni),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(h.GO$),e.Y36(h.xd),e.Y36(h.XBV),e.Y36(Ti),e.Y36(e.s_b))},s.\u0275cmp=e.Xpm({type:s,selectors:[["cx-stock-notification"]],viewQuery:function(r,d){if(1&r&&e.Gf(Rs,5),2&r){let C;e.iGM(C=e.CRH())&&(d.element=C.first)}},decls:8,vars:3,consts:[[4,"ngIf"],["disableNotify",""],["stopNotify",""],["loading",""],[4,"ngIf","ngIfElse"],[1,"stock-notification-notes"],["type","button",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],["id","outOfStockMessage",1,"stock-notification-notes"],["loggedIn",""],["type","button","aria-describedby","outOfStockMessage",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],[3,"routerLink"],["role","status"],["type","button",1,"btn","btn-primary","btn-block","btn-stop-notify",3,"click"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,d){1&r&&(e.YNc(0,Zp,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,zp,8,6,"ng-template",null,1,e.W1O),e.YNc(4,Ag,2,4,"ng-template",null,2,e.W1O),e.YNc(6,Dg,4,0,"ng-template",null,3,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,d.outOfStock$))},dependencies:[n.O5,Ze.yS,po,n.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),s})();const Am={launch:{STOCK_NOTIFICATION:{inlineRoot:!0,component:Jl,dialogType:Ko.DIALOG}}};let pp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)(Am),(0,h.i51)({cmsComponents:{StockNotificationComponent:{component:Em}}})],imports:[n.ez,Ze.Bz,h.LUR,qi,h.bhT,Ci]}),s})(),Dm=(()=>{class s{constructor(r,d,C){this.authService=r,this.authConfigService=d,this.cmsPageGuard=C}canActivate(r,d){return this.authService.isUserLoggedIn().pipe((0,Nt.q)(1),(0,fe.w)(C=>this.authConfigService.getOAuthFlow()===h.C8C.ResourceOwnerPasswordFlow||C?this.cmsPageGuard.canActivate(r,d):this.authService.loginWithRedirect()?z.E:(0,R.of)(!1)))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.e80),e.LFG(h.dSP),e.LFG(Gs))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),js=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[Pd,Ze.Bz.forChild([{path:null,canActivate:[Dm],component:ki,data:{cxRoute:"login"}}])]}),s})(),jc=(()=>{class s{constructor(r,d,C,b,re){this.auth=r,this.cms=d,this.semanticPathService=C,this.protectedRoutes=b,this.router=re}canActivate(){return(0,ue.D)(this.logout()).pipe((0,fe.w)(()=>this.cms.hasPage({id:this.semanticPathService.get("logout")??"",type:h.GV4.CONTENT_PAGE}).pipe((0,Ie.U)(r=>r||this.getRedirectUrl()))))}logout(){return this.auth.coreLogout()}getRedirectUrl(){return this.router.parseUrl(this.semanticPathService.get(this.protectedRoutes.shouldProtect?"login":"home")??"")}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.e80),e.LFG(h.ctt),e.LFG(h.hCH),e.LFG(h.Cvs),e.LFG(Ze.F0))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ii=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[Pd,Ze.Bz.forChild([{path:null,canActivate:[jc,Gs],component:ki,data:{cxRoute:"logout"}}])]}),s})();const Si=new e.OlP("PRODUCT_DETAILS_URL_MATCHER",{providedIn:"root",factory:()=>function Kl(s,_){return d=>{const C=_(d),b=Ng({marker:"p",paramName:"productCode"});return s.getCombined([C,b])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let dh=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{product:{matchers:[Si]}}}})],imports:[Ze.Bz.forChild([{path:null,canActivate:[Gs],component:ki,data:{cxRoute:"product"}}])]}),s})();const Xa=new e.OlP("PRODUCT_LISTING_URL_MATCHER",{providedIn:"root",factory:()=>function qa(s,_){return d=>{const C=_(d),b=Ng({marker:"c",paramName:"categoryCode"});return s.getCombined([C,b])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let ec=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{category:{matchers:[Xa]}}}})],imports:[Ze.Bz.forChild([{path:null,canActivate:[Gs],component:ki,data:{pageLabel:"search",cxRoute:"search"}},{path:null,canActivate:[Gs],component:ki,data:{cxRoute:"brand"}},{path:null,canActivate:[Gs],component:ki,data:{cxRoute:"category"}}])]}),s})(),Zc=(()=>{class s{constructor(r,d){this.activatedRoutesService=r,this.injector=d,this.contextTokenMapping$=this.activatedRoutesService.routes$.pipe((0,Ie.U)(C=>this.getRoutesContextTokenMapping(C)),(0,ie.d)({refCount:!0,bufferSize:1}))}getRoutesContextTokenMapping(r){return Object.assign({},...r.map(d=>d?.data?.cxContext))}get(r){return this.contextTokenMapping$.pipe((0,fe.w)(d=>{const C=d?.[r];return C?this.injector.get(C):(0,R.of)(void 0)}))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.ZWZ),e.LFG(h.W5u))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),As=(()=>{class s{constructor(r){this.routingContextService=r}get(r){return this.resolveContext(r).pipe((0,Re.x)(),(0,ie.d)({refCount:!0,bufferSize:1}))}resolveContext(r){return this.routingContextService.get(r)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Zc))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ts=(()=>{class s extends h.W8x{}return s.type="NavigationEvent",s})();class ns extends h.W8x{}let Yc=(()=>{class s extends ns{}return s.type="HomePageEvent",s})(),Ql=(()=>{class s{constructor(r){this.eventService=r,this.register()}register(){this.eventService.register(Yc,this.buildHomePageEvent())}buildHomePageEvent(){return this.eventService.get(ts).pipe((0,Ke.h)(r=>"home"===r.semanticRoute),(0,Ie.U)(r=>(0,h.PjU)(Yc,{navigation:r})))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.POd))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),bm=(()=>{class s{constructor(r){}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Ql))},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})(),v_=(()=>{class s{constructor(r,d){this.actions=r,this.eventService=d,this.register()}register(){this.eventService.register(ts,this.buildNavigationEvent())}buildNavigationEvent(){return this.getNavigatedEvent().pipe((0,Ie.U)(r=>(0,h.PjU)(ts,{context:r.context,semanticRoute:r.semanticRoute,url:r.url,params:r.params})))}getNavigatedEvent(){return this.actions.pipe((0,Pn.l4)(ur.CE),(0,Ie.U)(r=>r.payload.routerState))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(Vn.UO),e.LFG(h.POd))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),__=(()=>{class s{constructor(r){}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(v_))},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})(),ph=(()=>{class s extends ns{}return s.type="ProductDetailsPageEvent",s})(),fh=(()=>{class s extends ns{}return s.type="CategoryPageResultsEvent",s})(),hh=(()=>{class s extends ns{}return s.type="SearchPageResultsEvent",s})(),ql=(()=>{class s{constructor(r,d,C){this.eventService=r,this.productService=d,this.productSearchService=C,this.register()}register(){this.eventService.register(hh,this.buildSearchPageResultsEvent()),this.eventService.register(ph,this.buildProductDetailsPageEvent()),this.eventService.register(fh,this.buildCategoryResultsPageEvent())}buildProductDetailsPageEvent(){return this.eventService.get(ts).pipe((0,Ke.h)(r=>"product"===r.semanticRoute),(0,fe.w)(r=>this.productService.get(r.context.id).pipe((0,Ke.h)(d=>Boolean(d)),(0,Nt.q)(1),(0,Ie.U)(d=>(0,h.PjU)(ph,{navigation:r,categories:d?.categories,code:d?.code,name:d?.name,price:d?.price})))))}buildCategoryResultsPageEvent(){const r=this.productSearchService.getResults().pipe((0,Dt.T)(1));return this.eventService.get(ts).pipe((0,fe.w)(d=>"category"!==d?.semanticRoute?z.E:r.pipe((0,Ie.U)(C=>(0,h.PjU)(fh,{navigation:d,categoryCode:d?.context?.id,numberOfResults:C?.pagination?.totalResults??0,categoryName:C.breadcrumbs?.[0].facetValueName})))))}buildSearchPageResultsEvent(){const r=this.productSearchService.getResults().pipe((0,Dt.T)(1));return this.eventService.get(ts).pipe((0,fe.w)(d=>"search"!==d?.semanticRoute?z.E:r.pipe((0,Ie.U)(C=>(0,h.PjU)(hh,{navigation:d,searchTerm:C?.freeTextSearch??"",numberOfResults:C?.pagination?.totalResults??0})))))}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.POd),e.LFG(h.M52),e.LFG(h.ji5))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),fp=(()=>{class s{constructor(r){}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(ql))},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})();const Tm={mediaFormats:{mobile:{width:400},tablet:{width:770},desktop:{width:1140},widescreen:{width:1400},cartIcon:{width:65},thumbnail:{width:96},product:{width:284},zoom:{width:515}}},C_={layoutSlots:{header:{lg:{slots:["PreHeader","SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]},navigation:{lg:{slots:[]},slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]},footer:{slots:["Footer"]},LandingPage2Template:{pageFold:"Section2B",slots:["Section1","Section2A","Section2B","Section2C","Section3","Section4","Section5"]},ContentPage1Template:{slots:["Section2A","Section2B"]},CategoryPageTemplate:{pageFold:"Section2",slots:["Section1","Section2","Section3"]},ProductListPageTemplate:{slots:["ProductLeftRefinements","ProductListSlot"]},ProductGridPageTemplate:{slots:["ProductLeftRefinements","ProductGridSlot"]},SearchResultsListPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsListSlot","Section4"]},SearchResultsGridPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsGridSlot","Section4"]},ProductDetailsPageTemplate:{lg:{pageFold:"UpSelling"},pageFold:"Summary",slots:["Summary","UpSelling","CrossSelling","Tabs","PlaceholderContentSlot"]},CartPageTemplate:{slots:["TopContent","CenterRightContentSlot","EmptyCartMiddleContent"]},AccountPageTemplate:{slots:["BodyContent","SideContent"]},LoginPageTemplate:{slots:["LeftContentSlot","RightContentSlot"]},ErrorPageTemplate:{slots:["TopContent","MiddleContent","BottomContent"]},OrderConfirmationPageTemplate:{slots:["BodyContent","SideContent"]},MultiStepCheckoutSummaryPageTemplate:{slots:["TopContent","BodyContent","SideContent","BottomContent"]},CheckoutLoginPageTemplate:{slots:["RightContentSlot"]}}},y_=[Bd({componentId:"HamburgerMenuComponent",pageSlotPosition:"PreHeader"}),Bd({componentId:"LoginComponent",pageSlotPosition:"SiteLogin"})];var gh;(gh||(gh={})).deepUpdateValueAndValidity=function _(r,d={}){(r instanceof It.nJ||r instanceof It.vC)&&Object.values(r.controls).forEach(C=>{_(C,d)}),r.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent})};let hp=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.pz3.forRoot(),Ze.Bz,Tf,Ki,Qp,pf,Pd,Tl,ca.forRoot(),gs,im,Ci,$f,Eu.forRoot(),Xi.forRoot(),Ki.forRoot(),Zf,$f,Zf]}),s})()},7212:(ye,X,v)=>{"use strict";v.d(X,{Jj:()=>j,gf:()=>H,gu:()=>M,x7:()=>z});var n=v(4650),e=v(6322),h=v(2654);let P=(()=>{class q{constructor(ue,oe){this.eventService=ue,this.globalMessageService=oe,this.subscriptions=new h.w,this.onAuth()}onAuth(){this.subscriptions.add(this.eventService.get(e.rX_).subscribe(()=>{this.globalMessageService.add({key:"authMessages.signedOutSuccessfully"},e.xUg.MSG_TYPE_CONFIRMATION)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(e.POd),n.LFG(e.IWp))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),E=(()=>{class q{constructor(ue){}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(P))},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({}),q})();const M="userAccount",R="userAccountCore";function V(){return{featureModules:{[M]:{cmsComponents:["LoginComponent","ReturningCustomerLoginComponent","ReturningCustomerRegisterComponent"]},[R]:M}}}let j=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({providers:[(0,e.x2j)(V)],imports:[E]}),q})(),H=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275prov=n.Yz7({token:q,factory:function(){return(0,e.wvQ)({facade:q,feature:R,methods:["get"]})},providedIn:"root"}),q})();class G extends e.W8x{}let z=(()=>{class q extends G{}return q.type="UserAccountChangedEvent",q})()},6054:(ye,X,v)=>{"use strict";v.r(X),v.d(X,{UserAccountModule:()=>Dt});var n=v(4650),e=v(4006),h=v(6322),P=v(1446),E=v(591),M=v(5254),R=v(1086),V=v(2994),j=v(7168),H=v(7545),G=v(6895),z=v(610),q=v(7212);function ee(dt,Qt){1&dt&&n._UZ(0,"cx-spinner",8)}const ue=function(){return{cxRoute:"forgotPassword"}},oe=function(){return{cxRoute:"register"}};function De(dt,Qt){1&dt&&(n.ynx(0),n.TgZ(1,"a",3),n.ALo(2,"cxUrl"),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.BQk()),2&dt&&(n.xp6(1),n.Q6J("routerLink",n.lcZ(2,2,n.DdM(6,oe))),n.xp6(2),n.Oqu(n.lcZ(4,4,"loginForm.register")))}const Ye=function(){return{cxRoute:"checkoutLogin"}};function ot(dt,Qt){1&dt&&(n.ynx(0),n.TgZ(1,"a",4),n.ALo(2,"cxUrl"),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.BQk()),2&dt&&(n.xp6(1),n.Q6J("routerLink",n.lcZ(2,2,n.DdM(6,Ye))),n.xp6(2),n.Oqu(n.lcZ(4,4,"loginForm.guestCheckout")))}const ze=function(dt){return{name:dt}};function Ge(dt,Qt){if(1&dt&&(n.ynx(0),n.TgZ(1,"div",2),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n._UZ(4,"cx-page-slot",3),n.BQk()),2&dt){const me=Qt.ngIf;n.xp6(2),n.hij(" ",n.xi3(3,1,"miniLogin.userGreeting",n.VKq(4,ze,me.name))," ")}}const ge=function(){return{cxRoute:"login"}};function ve(dt,Qt){1&dt&&(n.TgZ(0,"a",4),n.ALo(1,"cxUrl"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()),2&dt&&(n.Q6J("routerLink",n.lcZ(1,2,n.DdM(6,ge))),n.xp6(2),n.Oqu(n.lcZ(3,4,"miniLogin.signInRegister")))}let de=(()=>{class dt{constructor(me,vt,Ze){this.auth=me,this.globalMessage=vt,this.winRef=Ze,this.busy$=new E.X(!1),this.isUpdating$=this.busy$.pipe((0,V.b)($t=>{const It=this.winRef.nativeWindow?.history?.state?.newUid;It&&this.form.patchValue({userId:It}),!0===$t?this.form.disable():this.form.enable()})),this.form=new e.nJ({userId:new e.p4("",[e.kI.required,P.kal.emailValidator]),password:new e.p4("",e.kI.required)})}login(){this.form.valid?(this.busy$.next(!0),(0,M.D)(this.auth.loginWithCredentials(this.form.value.userId.toLowerCase(),this.form.value.password)).pipe((0,j.M)(this.auth.isUserLoggedIn()),(0,V.b)(([me,vt])=>this.onSuccess(vt))).subscribe()):this.form.markAllAsTouched()}onSuccess(me){me&&(this.globalMessage.remove(h.xUg.MSG_TYPE_ERROR),this.form.reset()),this.busy$.next(!1)}}return dt.\u0275fac=function(me){return new(me||dt)(n.LFG(h.e80),n.LFG(h.IWp),n.LFG(h.X9E))},dt.\u0275prov=n.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Ke=(()=>{class dt{constructor(me){this.service=me,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.style=!0}onSubmit(){this.service.login()}}return dt.\u0275fac=function(me){return new(me||dt)(n.Y36(de))},dt.\u0275cmp=n.Xpm({type:dt,selectors:[["cx-login-form"]],hostVars:2,hostBindings:function(me,vt){2&me&&n.ekj("user-form",vt.style)},decls:25,vars:32,consts:[["class","overlay",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"label-content"],["required","true","type","email","formControlName","userId",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn-link",3,"routerLink"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"]],template:function(me,vt){1&me&&(n.YNc(0,ee,1,0,"cx-spinner",0),n.ALo(1,"async"),n.TgZ(2,"form",1),n.NdJ("ngSubmit",function(){return vt.onSubmit()}),n.TgZ(3,"label")(4,"span",2),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA(),n._UZ(7,"input",3),n.ALo(8,"cxTranslate"),n._UZ(9,"cx-form-errors",4),n.qZA(),n.TgZ(10,"label")(11,"span",2),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",5),n.ALo(15,"cxTranslate"),n.ALo(16,"cxTranslate"),n._UZ(17,"cx-form-errors",4),n.qZA(),n.TgZ(18,"a",6),n.ALo(19,"cxUrl"),n._uU(20),n.ALo(21,"cxTranslate"),n.qZA(),n.TgZ(22,"button",7),n._uU(23),n.ALo(24,"cxTranslate"),n.qZA()()),2&me&&(n.Q6J("ngIf",n.lcZ(1,13,vt.isUpdating$)),n.xp6(2),n.Q6J("formGroup",vt.form),n.xp6(3),n.Oqu(n.lcZ(6,15,"loginForm.emailAddress.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(8,17,"loginForm.emailAddress.placeholder")),n.xp6(2),n.Q6J("control",vt.form.get("userId")),n.xp6(3),n.Oqu(n.lcZ(13,19,"loginForm.password.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,21,"loginForm.password.placeholder")),n.uIk("aria-label",n.lcZ(16,23,"loginForm.password.placeholder")),n.xp6(3),n.Q6J("control",vt.form.get("password")),n.xp6(1),n.Q6J("routerLink",n.lcZ(19,25,n.DdM(31,ue))),n.xp6(2),n.hij(" ",n.lcZ(21,27,"loginForm.forgotPassword")," "),n.xp6(2),n.Q6J("disabled",vt.form.disabled),n.xp6(1),n.hij(" ",n.lcZ(24,29,"loginForm.signIn")," "))},dependencies:[G.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,z.yS,P.Ahv,P.ORR,P.X84,G.Ov,h.l2T,h.X$D],encapsulation:2,changeDetection:0}),dt})(),rt=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerLoginComponent:{component:Ke,guards:[h.aOY],providers:[{provide:de,useClass:de,deps:[h.e80,h.IWp,h.X9E]}]}}})],imports:[G.ez,e.u5,e.UX,z.Bz,h.bhT,h.LUR,P.Fym,P.Fme,P.Ird]}),dt})(),Ie=(()=>{class dt{constructor(me){this.activatedRoute=me,this.loginAsGuest=!1}ngOnInit(){this.loginAsGuest=this.activatedRoute.snapshot.queryParams.forced}}return dt.\u0275fac=function(me){return new(me||dt)(n.Y36(z.gz))},dt.\u0275cmp=n.Xpm({type:dt,selectors:[["cx-login-register"]],decls:6,vars:5,consts:[[1,"register"],[1,"cx-section-title"],[4,"ngIf"],[1,"btn","btn-block","btn-secondary","btn-register",3,"routerLink"],[1,"btn","btn-block","btn-secondary","btn-guest",3,"routerLink"]],template:function(me,vt){1&me&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.YNc(4,De,5,7,"ng-container",2),n.YNc(5,ot,5,7,"ng-container",2),n.qZA()),2&me&&(n.xp6(2),n.hij(" ",n.lcZ(3,3,"loginForm.dontHaveAccount")," "),n.xp6(2),n.Q6J("ngIf",!vt.loginAsGuest),n.xp6(1),n.Q6J("ngIf",vt.loginAsGuest))},dependencies:[G.O5,z.yS,h.l2T,h.X$D],encapsulation:2}),dt})(),Nt=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerRegisterComponent:{component:Ie,guards:[h.aOY]}}})],imports:[G.ez,z.Bz,h.bhT,P.ISW,h.LUR]}),dt})(),Fe=(()=>{class dt{constructor(me,vt){this.auth=me,this.userAccount=vt}ngOnInit(){this.user$=this.auth.isUserLoggedIn().pipe((0,H.w)(me=>me?this.userAccount.get():(0,R.of)(void 0)))}}return dt.\u0275fac=function(me){return new(me||dt)(n.Y36(h.e80),n.Y36(q.gf))},dt.\u0275cmp=n.Xpm({type:dt,selectors:[["cx-login"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["login",""],[1,"cx-login-greet"],["id","account-nav","position","HeaderLinks"],["role","link",3,"routerLink"]],template:function(me,vt){if(1&me&&(n.YNc(0,Ge,5,6,"ng-container",0),n.ALo(1,"async"),n.YNc(2,ve,4,7,"ng-template",null,1,n.W1O)),2&me){const Ze=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,vt.user$))("ngIfElse",Ze)}},dependencies:[G.O5,z.yS,P.JSc,G.Ov,h.l2T,h.X$D],encapsulation:2}),dt})(),ht=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{LoginComponent:{component:Fe}}})],imports:[G.ez,z.Bz,h.bhT,P.ISW,h.LUR]}),dt})(),Re=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({imports:[ht,rt,Nt]}),dt})();const fe=new n.OlP("UserAccountNormalizer");new n.OlP("UserAccountSerializer");class ne{}let Ve=(()=>{class dt{constructor(me){this.adapter=me}get(me){return this.adapter.load(me)}}return dt.\u0275fac=function(me){return new(me||dt)(n.LFG(ne))},dt.\u0275prov=n.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),_e=(()=>{class dt{constructor(me,vt,Ze){this.userAccountConnector=me,this.userIdService=vt,this.query=Ze,this.userQuery=this.query.create(()=>this.userIdService.takeUserId(!0).pipe((0,H.w)($t=>this.userAccountConnector.get($t))),{reloadOn:[q.x7],resetOn:[h.p1J,h.rX_]})}get(){return this.userQuery.get()}}return dt.\u0275fac=function(me){return new(me||dt)(n.LFG(Ve),n.LFG(h.XBV),n.LFG(h._7J))},dt.\u0275prov=n.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Ue=[_e,{provide:q.gf,useExisting:_e}];let Ee=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({providers:[Ve,...Ue]}),dt})();var Ot=v(1737),Ft=v(7221),Ct=v(529);const it={backend:{occ:{endpoints:{user:"users/${userId}"}}}};let Zt=(()=>{class dt{constructor(me,vt,Ze){this.http=me,this.occEndpoints=vt,this.converter=Ze}load(me){const vt=this.occEndpoints.buildUrl("user",{urlParams:{userId:me}});return this.http.get(vt).pipe((0,Ft.K)(Ze=>(0,Ot._)((0,h.cxH)(Ze))),this.converter.pipeable(fe))}}return dt.\u0275fac=function(me){return new(me||dt)(n.LFG(Ct.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},dt.\u0275prov=n.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),wt=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({providers:[(0,h.i51)(it),{provide:ne,useClass:Zt}]}),dt})(),Dt=(()=>{class dt{}return dt.\u0275fac=function(me){return new(me||dt)},dt.\u0275mod=n.oAB({type:dt}),dt.\u0275inj=n.cJS({imports:[Ee,wt,Re]}),dt})()},6538:(ye,X,v)=>{"use strict";v.d(X,{LL:()=>j,PF:()=>V,Ye:()=>R,aT:()=>E,t5:()=>h,zm:()=>H});var n=v(4650),e=v(6322);const h="userProfile",P="userProfileCore";let E=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:P,methods:["get","update","close","getTitles"]})},providedIn:"root"}),G})();function M(){return{featureModules:{[h]:{cmsComponents:["RegisterCustomerComponent","UpdateProfileComponent","UpdateEmailComponent","UpdatePasswordComponent","ForgotPasswordComponent","ResetPasswordComponent","CloseAccountComponent"]},[P]:h}}}let R=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275mod=n.oAB({type:G}),G.\u0275inj=n.cJS({providers:[(0,e.x2j)(M),{provide:e.Tie,useExisting:E}]}),G})(),V=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:P,methods:["update"]})},providedIn:"root"}),G})(),j=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:P,methods:["update","reset","requestForgotPasswordEmail"]})},providedIn:"root"}),G})(),H=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:P,methods:["register","registerGuest","getTitles"]})},providedIn:"root"}),G})()},1214:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ct:()=>OAuthService,Hy:()=>OAuthStorage,zr:()=>OAuthModule});var _home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9671),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6895),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(529),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8929),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5254),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1946),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1737),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6053),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6787),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2994),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(943),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7224),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6227),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2986),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1709),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1302);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class ye extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return ye.\u0275fac=function(){let X;return function(n){return(X||(X=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ye)))(n||ye)}}(),ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class ye{constructor(){this.data=new Map}getItem(v){return this.data.get(v)}removeItem(v){this.data.delete(v)}setItem(v,n){this.data.set(v,n)}}return ye.\u0275fac=function(v){return new(v||ye)},ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class ReceivedTokens{}class OAuthEvent{constructor(X){this.type=X}}class OAuthSuccessEvent extends OAuthEvent{constructor(X,v=null){super(X),this.info=v}}class OAuthInfoEvent extends OAuthEvent{constructor(X,v=null){super(X),this.info=v}}class OAuthErrorEvent extends OAuthEvent{constructor(X,v,n=null){super(X),this.reason=v,this.params=n}}function b64DecodeUnicode(ye){const X=ye.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(X).split("").map(function(v){return"%"+("00"+v.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(ye){return btoa(ye).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(X){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=v=>{location.href=v},X&&Object.assign(this,X)}}class WebHttpUrlEncodingCodec{encodeKey(X){return encodeURIComponent(X)}encodeValue(X){return encodeURIComponent(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(X){var v=this;return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){let n=v.inferHashAlgorithm(X.idTokenHeader),e=yield v.calcHash(X.accessToken,n),P=base64UrlEncode(e.substr(0,e.length/2)),E=X.idTokenClaims.at_hash.replace(/=/g,"");return P!==E&&(console.error("exptected at_hash: "+P),console.error("actual at_hash: "+E)),P===E})()}inferHashAlgorithm(X){let v=X.alg;if(!v.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+v);return"sha-"+v.substr(2)}}let UrlHelperService=(()=>{class ye{getHashFragmentParams(v){let n=v||window.location.hash;if(n=decodeURIComponent(n),0!==n.indexOf("#"))return{};const e=n.indexOf("?");return n=n.substr(e>-1?e+1:1),this.parseQueryString(n)}parseQueryString(v){const n={};let e,h,P,E,M,R,V;if(null===v)return n;e=v.split("&");for(let j=0;j<e.length;j++)h=e[j],P=h.indexOf("="),-1===P?(E=h,M=null):(E=h.substr(0,P),M=h.substr(P+1)),R=decodeURIComponent(E),V=decodeURIComponent(M),"/"===R.substr(0,1)&&(R=R.substr(1)),n[R]=V;return n}}return ye.\u0275fac=function(v){return new(v||ye)},ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u";const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(ye){return"[object Array]"===Object.prototype.toString.call(ye)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(ye){return"object"==typeof ye&&ye.buffer&&ye.buffer.constructor===ArrayBuffer});var createOutputMethod=function(ye,X){return function(v){return new Sha256(X,!0).update(v)[ye]()}},createMethod=function(ye){var X=createOutputMethod("hex",ye);NODE_JS&&(X=nodeWrap(X,ye)),X.create=function(){return new Sha256(ye)},X.update=function(e){return X.create().update(e)};for(var v=0;v<OUTPUT_TYPES.length;++v){var n=OUTPUT_TYPES[v];X[n]=createOutputMethod(n,ye)}return X},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(ye){if("string"==typeof ye)return crypto.createHash(algorithm).update(ye,"utf8").digest("hex");if(null==ye)throw new Error(ERROR);return ye.constructor===ArrayBuffer&&(ye=new Uint8Array(ye)),Array.isArray(ye)||ArrayBuffer.isView(ye)||ye.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(ye)).digest("hex"):method(ye)};return nodeMethod},createHmacOutputMethod=function(ye,X){return function(v,n){return new HmacSha256(v,X,!0).update(n)[ye]()}},createHmacMethod=function(ye){var X=createHmacOutputMethod("hex",ye);X.create=function(e){return new HmacSha256(e,ye)},X.update=function(e,h){return X.create(e).update(h)};for(var v=0;v<OUTPUT_TYPES.length;++v){var n=OUTPUT_TYPES[v];X[n]=createHmacOutputMethod(n,ye)}return X};function Sha256(ye,X){X?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=ye}function HmacSha256(ye,X,v){var n,e=typeof ye;if("string"===e){var M,h=[],P=ye.length,E=0;for(n=0;n<P;++n)(M=ye.charCodeAt(n))<128?h[E++]=M:M<2048?(h[E++]=192|M>>6,h[E++]=128|63&M):M<55296||M>=57344?(h[E++]=224|M>>12,h[E++]=128|M>>6&63,h[E++]=128|63&M):(M=65536+((1023&M)<<10|1023&ye.charCodeAt(++n)),h[E++]=240|M>>18,h[E++]=128|M>>12&63,h[E++]=128|M>>6&63,h[E++]=128|63&M);ye=h}else{if("object"!==e)throw new Error(ERROR);if(null===ye)throw new Error(ERROR);if(ARRAY_BUFFER&&ye.constructor===ArrayBuffer)ye=new Uint8Array(ye);else if(!(Array.isArray(ye)||ARRAY_BUFFER&&ArrayBuffer.isView(ye)))throw new Error(ERROR)}ye.length>64&&(ye=new Sha256(X,!0).update(ye).array());var R=[],V=[];for(n=0;n<64;++n){var j=ye[n]||0;R[n]=92^j,V[n]=54^j}Sha256.call(this,X,v),this.update(V),this.oKeyPad=R,this.inner=!0,this.sharedMemory=v}Sha256.prototype.update=function(ye){if(!this.finalized){var X,v=typeof ye;if("string"!==v){if("object"!==v)throw new Error(ERROR);if(null===ye)throw new Error(ERROR);if(ARRAY_BUFFER&&ye.constructor===ArrayBuffer)ye=new Uint8Array(ye);else if(!(Array.isArray(ye)||ARRAY_BUFFER&&ArrayBuffer.isView(ye)))throw new Error(ERROR);X=!0}for(var n,h,e=0,P=ye.length,E=this.blocks;e<P;){if(this.hashed&&(this.hashed=!1,E[0]=this.block,E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0),X)for(h=this.start;e<P&&h<64;++e)E[h>>2]|=ye[e]<<SHIFT[3&h++];else for(h=this.start;e<P&&h<64;++e)(n=ye.charCodeAt(e))<128?E[h>>2]|=n<<SHIFT[3&h++]:n<2048?(E[h>>2]|=(192|n>>6)<<SHIFT[3&h++],E[h>>2]|=(128|63&n)<<SHIFT[3&h++]):n<55296||n>=57344?(E[h>>2]|=(224|n>>12)<<SHIFT[3&h++],E[h>>2]|=(128|n>>6&63)<<SHIFT[3&h++],E[h>>2]|=(128|63&n)<<SHIFT[3&h++]):(n=65536+((1023&n)<<10|1023&ye.charCodeAt(++e)),E[h>>2]|=(240|n>>18)<<SHIFT[3&h++],E[h>>2]|=(128|n>>12&63)<<SHIFT[3&h++],E[h>>2]|=(128|n>>6&63)<<SHIFT[3&h++],E[h>>2]|=(128|63&n)<<SHIFT[3&h++]);this.lastByteIndex=h,this.bytes+=h-this.start,h>=64?(this.block=E[16],this.start=h-64,this.hash(),this.hashed=!0):this.start=h}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var ye=this.blocks,X=this.lastByteIndex;ye[16]=this.block,ye[X>>2]|=EXTRA[3&X],this.block=ye[16],X>=56&&(this.hashed||this.hash(),ye[0]=this.block,ye[16]=ye[1]=ye[2]=ye[3]=ye[4]=ye[5]=ye[6]=ye[7]=ye[8]=ye[9]=ye[10]=ye[11]=ye[12]=ye[13]=ye[14]=ye[15]=0),ye[14]=this.hBytes<<3|this.bytes>>>29,ye[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var R,G,ee,ue,oe,De,ye=this.h0,X=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,P=this.h6,E=this.h7,M=this.blocks;for(R=16;R<64;++R)M[R]=M[R-16]+(((G=M[R-15])>>>7|G<<25)^(G>>>18|G<<14)^G>>>3)+M[R-7]+(((G=M[R-2])>>>17|G<<15)^(G>>>19|G<<13)^G>>>10)<<0;for(De=X&v,R=0;R<64;R+=4)this.first?(this.is224?(ee=300032,E=(G=M[0]-1413257819)-150054599<<0,n=G+24177077<<0):(ee=704751109,E=(G=M[0]-210244248)-1521486534<<0,n=G+143694565<<0),this.first=!1):(E=n+(G=E+((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&h^~e&P)+K[R]+M[R])<<0,n=G+(((ye>>>2|ye<<30)^(ye>>>13|ye<<19)^(ye>>>22|ye<<10))+((ee=ye&X)^ye&v^De))<<0),P=v+(G=P+((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&e^~E&h)+K[R+1]+M[R+1])<<0,v=G+(((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+((ue=n&ye)^n&X^ee))<<0,h=X+(G=h+((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&E^~P&e)+K[R+2]+M[R+2])<<0,X=G+(((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+((oe=v&n)^v&ye^ue))<<0,e=ye+(G=e+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&P^~h&E)+K[R+3]+M[R+3])<<0,ye=G+(((X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10))+((De=X&v)^X&n^oe))<<0;this.h0=this.h0+ye<<0,this.h1=this.h1+X<<0,this.h2=this.h2+v<<0,this.h3=this.h3+n<<0,this.h4=this.h4+e<<0,this.h5=this.h5+h<<0,this.h6=this.h6+P<<0,this.h7=this.h7+E<<0},Sha256.prototype.hex=function(){this.finalize();var ye=this.h0,X=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,P=this.h6,E=this.h7,M=HEX_CHARS[ye>>28&15]+HEX_CHARS[ye>>24&15]+HEX_CHARS[ye>>20&15]+HEX_CHARS[ye>>16&15]+HEX_CHARS[ye>>12&15]+HEX_CHARS[ye>>8&15]+HEX_CHARS[ye>>4&15]+HEX_CHARS[15&ye]+HEX_CHARS[X>>28&15]+HEX_CHARS[X>>24&15]+HEX_CHARS[X>>20&15]+HEX_CHARS[X>>16&15]+HEX_CHARS[X>>12&15]+HEX_CHARS[X>>8&15]+HEX_CHARS[X>>4&15]+HEX_CHARS[15&X]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[P>>28&15]+HEX_CHARS[P>>24&15]+HEX_CHARS[P>>20&15]+HEX_CHARS[P>>16&15]+HEX_CHARS[P>>12&15]+HEX_CHARS[P>>8&15]+HEX_CHARS[P>>4&15]+HEX_CHARS[15&P];return this.is224||(M+=HEX_CHARS[E>>28&15]+HEX_CHARS[E>>24&15]+HEX_CHARS[E>>20&15]+HEX_CHARS[E>>16&15]+HEX_CHARS[E>>12&15]+HEX_CHARS[E>>8&15]+HEX_CHARS[E>>4&15]+HEX_CHARS[15&E]),M},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var ye=this.h0,X=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,P=this.h6,E=this.h7,M=[ye>>24&255,ye>>16&255,ye>>8&255,255&ye,X>>24&255,X>>16&255,X>>8&255,255&X,v>>24&255,v>>16&255,v>>8&255,255&v,n>>24&255,n>>16&255,n>>8&255,255&n,e>>24&255,e>>16&255,e>>8&255,255&e,h>>24&255,h>>16&255,h>>8&255,255&h,P>>24&255,P>>16&255,P>>8&255,255&P];return this.is224||M.push(E>>24&255,E>>16&255,E>>8&255,255&E),M},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var ye=new ArrayBuffer(this.is224?28:32),X=new DataView(ye);return X.setUint32(0,this.h0),X.setUint32(4,this.h1),X.setUint32(8,this.h2),X.setUint32(12,this.h3),X.setUint32(16,this.h4),X.setUint32(20,this.h5),X.setUint32(24,this.h6),this.is224||X.setUint32(28,this.h7),ye},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var ye=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(ye),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(ye){if("string"!=typeof ye)throw new TypeError("expected string");var X,v=ye,n=new Uint8Array(v.length);for(X=0;X<v.length;X++)n[X]=v.charCodeAt(X);return n}function encodeUTF8(ye){var X,v=[];for(X=0;X<ye.length;X++)v.push(String.fromCharCode(ye[X]));return v.join("")}let DefaultHashHandler=(()=>{class ye{calcHash(v,n){return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(v)))})()}toHashString2(v){let n="";for(let e of v)n+=String.fromCharCode(e);return n}toHashString(v){const n=new Uint8Array(v);let e="";for(let h of n)e+=String.fromCharCode(h);return e}}return ye.\u0275fac=function(v){return new(v||ye)},ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),OAuthService=(()=>{class ye extends AuthConfig{constructor(v,n,e,h,P,E,M,R,V,j){super(),this.ngZone=v,this.http=n,this.config=P,this.urlHelper=E,this.logger=M,this.crypto=R,this.dateTimeService=j,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=V,P||(P={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),h&&(this.tokenValidationHandler=h),P&&this.configure(P);try{e?this.setStorage(e):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(H){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",H)}if(this.checkLocalStorageAccessable()){const H=window?.navigator?.userAgent;(H?.includes("MSIE ")||H?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const v="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(v,v),localStorage.removeItem(v),0))}catch{return!1}}configure(v){Object.assign(this,new AuthConfig,v),this.config=Object.assign({},new AuthConfig,v),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"token_received"===v.type)).subscribe(v=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(v={},n,e=!0){let h=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(P=>{"token_received"===P.type?h=!0:"logout"===P.type&&(h=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(P=>"token_expires"===P.type&&(null==n||"any"===n||P.info===n)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(P=>{h&&this.refreshInternal(v,e).catch(E=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(v,n){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(v,n):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(v=null){return this.loadDiscoveryDocument().then(n=>this.tryLogin(v))}loadDiscoveryDocumentAndLogin(v=null){return this.loadDiscoveryDocumentAndTryLogin(v=v||{}).then(n=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof v.state?v.state:""),!1))}debug(...v){this.showDebugInformation&&this.logger.debug.apply(this.logger,v)}validateUrlFromDiscoveryDocument(v){const n=[],e=this.validateUrlForHttps(v),h=this.validateUrlAgainstIssuer(v);return e||n.push("https for all urls required. Also for urls received by discovery."),h||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(v){if(!v)return!0;const n=v.toLowerCase();return!(!1!==this.requireHttps&&(!n.match(/^http:\/\/localhost($|[:\/])/)&&!n.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(v,n){if(!v)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(v))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(v){return!this.strictDiscoveryDocumentValidation||!v||v.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"token_received"===v.type)).subscribe(v=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const v=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),e=this.calcTimeout(n,v);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}setupIdTokenTimer(){const v=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),e=this.calcTimeout(n,v);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(v,n){const e=this.dateTimeService.now();return Math.max(0,(n-v)*this.timeoutFactor-(e-v))}setStorage(v){this._storage=v,this.configChanged()}loadDiscoveryDocument(v=null){return new Promise((n,e)=>{v||((v=this.issuer||"").endsWith("/")||(v+="/"),v+=".well-known/openid-configuration"),this.validateUrlForHttps(v)?this.http.get(v).subscribe(h=>{if(!this.validateDiscoveryDocument(h))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void e("discovery_document_validation_error");this.loginUrl=h.authorization_endpoint,this.logoutUrl=h.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=h.grant_types_supported,this.issuer=h.issuer,this.tokenEndpoint=h.token_endpoint,this.userinfoEndpoint=h.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=h.jwks_uri,this.sessionCheckIFrameUrl=h.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(h),this.revocationEndpoint=h.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(P=>{const M=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:h,jwks:P});this.eventsSubject.next(M),n(M)}).catch(P=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",P)),e(P)})},h=>{this.logger.error("error loading discovery document",h),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",h)),e(h)}):e("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((v,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(e=>{this.jwks=e,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),v(e)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",e)),n(e)}):v(null)})}validateDiscoveryDocument(v){let n;return this.skipIssuerCheck||v.issuer===this.issuer?(n=this.validateUrlFromDiscoveryDocument(v.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(v.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(v.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!v.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+v.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(v,n,e).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((v,n)=>{const e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:e,observe:"response",responseType:"text"}).subscribe(h=>{if(this.debug("userinfo received",JSON.stringify(h)),h.headers.get("content-type").startsWith("application/json")){let P=JSON.parse(h.body);const E=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!E.sub||P.sub!==E.sub))return void n("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");P=Object.assign({},E,P),this._storage.setItem("id_token_claims_obj",JSON.stringify(P)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),v({info:P})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),v(JSON.parse(h.body))},h=>{this.logger.error("error loading user info",h),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",h)),n(h)})})}fetchTokenUsingPasswordFlow(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:v,password:n},e)}fetchTokenUsingGrant(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let h=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",v).set("scope",this.scope);if(this.useHttpBasicAuth){const P=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+P)}if(this.useHttpBasicAuth||(h=h.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(h=h.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const P of Object.getOwnPropertyNames(this.customQueryParams))h=h.set(P,this.customQueryParams[P]);for(const P of Object.keys(n))h=h.set(P,n[P]);return e=e.set("Content-Type","application/x-www-form-urlencoded"),new Promise((P,E)=>{this.http.post(this.tokenEndpoint,h,{headers:e}).subscribe(M=>{this.debug("tokenResponse",M),this.storeAccessTokenResponse(M.access_token,M.refresh_token,M.expires_in||this.fallbackAccessTokenExpirationTimeInSec,M.scope,this.extractRecognizedCustomParameters(M)),this.oidc&&M.id_token&&this.processIdToken(M.id_token,M.access_token).then(R=>{this.storeIdToken(R),P(M)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),P(M)},M=>{this.logger.error("Error performing ${grantType} flow",M),this.eventsSubject.next(new OAuthErrorEvent("token_error",M)),E(M)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((v,n)=>{let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),h=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const P=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+P)}if(this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const P of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(P,this.customQueryParams[P]);this.http.post(this.tokenEndpoint,e,{headers:h}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(P=>P.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(P.id_token,P.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(E=>this.storeIdToken(E)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(E=>P)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(P))).subscribe(P=>{this.debug("refresh tokenResponse",P),this.storeAccessTokenResponse(P.access_token,P.refresh_token,P.expires_in||this.fallbackAccessTokenExpirationTimeInSec,P.scope,this.extractRecognizedCustomParameters(P)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),v(P)},P=>{this.logger.error("Error refreshing token",P),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",P)),n(P)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=v=>{const n=this.processMessageEventMessage(v);this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(v={},n=!0){const e=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(v.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const h=this.document.getElementById(this.silentRefreshIFrameName);h&&this.document.body.removeChild(h),this.silentRefreshSubject=e.sub;const P=this.document.createElement("iframe");P.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,n,v).then(j=>{P.setAttribute("src",j),this.silentRefreshShowIFrame||(P.style.display="none"),this.document.body.appendChild(P)});const M=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(j=>j instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),R=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(j=>"token_received"===j.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),V=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S3)([M,R,V]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(j=>{if(j instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===j.type||(j=new OAuthErrorEvent("silent_refresh_error",j)),this.eventsSubject.next(j),j;return"token_received"===j.type&&(j=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(j)),j})).toPromise()}initImplicitFlowInPopup(v){return this.initLoginFlowInPopup(v)}initLoginFlowInPopup(v){return v=v||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((e,h)=>{let M,E=null;v.windowRef?v.windowRef&&!v.windowRef.closed&&(E=v.windowRef,E.location.href=n):E=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(v));const R=z=>{this.tryLogin({customHashFragment:z,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{j(),e(!0)},q=>{j(),h(q)})};E?M=window.setInterval(()=>{(!E||E.closed)&&(j(),h(new OAuthErrorEvent("popup_closed",{})))},500):h(new OAuthErrorEvent("popup_blocked",{}));const j=()=>{window.clearInterval(M),window.removeEventListener("storage",G),window.removeEventListener("message",H),null!==E&&E.close(),E=null},H=z=>{const q=this.processMessageEventMessage(z);q&&null!==q?(window.removeEventListener("storage",G),R(q)):console.log("false event firing")},G=z=>{"auth_hash"===z.key&&(window.removeEventListener("message",H),R(z.newValue))};window.addEventListener("message",H),window.addEventListener("storage",G)}))}calculatePopupFeatures(v){const n=v.height||470,e=v.width||500,h=window.screenLeft+(window.outerWidth-e)/2;return`location=no,toolbar=no,width=${e},height=${n},top=${window.screenTop+(window.outerHeight-n)/2},left=${h}`}processMessageEventMessage(v){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!v||!v.data||"string"!=typeof v.data)return;const e=v.data;return e.startsWith(n)?"#"+e.substr(n.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=v=>{const n=v.origin.toLowerCase(),e=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),e.startsWith(n)){switch(v.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",v)}else this.debug("sessionCheckEventListener","wrong origin",n,"expected",e,"event",v)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(v=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(v=>{this.debug("token refresh after session change worked")}).catch(v=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"silently_refreshed"===v.type||"silent_refresh_timeout"===v.type||"silent_refresh_error"===v.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(v=>{"silently_refreshed"!==v.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const v=this.document.getElementById(this.sessionCheckIFrameName);v&&this.document.body.removeChild(v);const n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),n.setAttribute("src",this.sessionCheckIFrameUrl),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const v=this.document.getElementById(this.sessionCheckIFrameName);v||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const n=this.getSessionState();n||this.stopSessionCheckTimer(),v.contentWindow.postMessage(this.clientId+" "+n,this.issuer)}createLoginUrl(v="",n="",e="",h=!1,P={}){var E=this;return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const M=E;let R;R=e||E.redirectUri;const V=yield E.createAndSaveNonce();if(v=v?V+E.config.nonceStateSeparator+encodeURIComponent(v):V,!E.requestAccessToken&&!E.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");E.responseType=E.config.responseType?E.config.responseType:E.oidc&&E.requestAccessToken?"id_token token":E.oidc&&!E.requestAccessToken?"id_token":"token";const j=M.loginUrl.indexOf("?")>-1?"&":"?";let H=M.scope;E.oidc&&!H.match(/(^|\s)openid($|\s)/)&&(H="openid "+H);let G=M.loginUrl+j+"response_type="+encodeURIComponent(M.responseType)+"&client_id="+encodeURIComponent(M.clientId)+"&state="+encodeURIComponent(v)+"&redirect_uri="+encodeURIComponent(R)+"&scope="+encodeURIComponent(H);if(E.responseType.includes("code")&&!E.disablePKCE){const[z,q]=yield E.createChallangeVerifierPairForPKCE();E.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",q):E._storage.setItem("PKCE_verifier",q),G+="&code_challenge="+z,G+="&code_challenge_method=S256"}n&&(G+="&login_hint="+encodeURIComponent(n)),M.resource&&(G+="&resource="+encodeURIComponent(M.resource)),M.oidc&&(G+="&nonce="+encodeURIComponent(V)),h&&(G+="&prompt=none");for(const z of Object.keys(P))G+="&"+encodeURIComponent(z)+"="+encodeURIComponent(P[z]);if(E.customQueryParams)for(const z of Object.getOwnPropertyNames(E.customQueryParams))G+="&"+z+"="+encodeURIComponent(E.customQueryParams[z]);return G})()}initImplicitFlowInternal(v="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof n?h=n:"object"==typeof n&&(e=n),this.createLoginUrl(v,h,null,!1,e).then(this.config.openUri).catch(P=>{console.error("Error in initImplicitFlow",P),this.inImplicitFlow=!1})}initImplicitFlow(v="",n=""){""!==this.loginUrl?this.initImplicitFlowInternal(v,n):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initImplicitFlowInternal(v,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(v){const n=this;if(v.onTokenReceived){const e={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};v.onTokenReceived(e)}}storeAccessTokenResponse(v,n,e,h,P){if(this._storage.setItem("access_token",v),h&&!Array.isArray(h)?this._storage.setItem("granted_scopes",JSON.stringify(h.split(" "))):h&&Array.isArray(h)&&this._storage.setItem("granted_scopes",JSON.stringify(h)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),e){const E=1e3*e,R=this.dateTimeService.new().getTime()+E;this._storage.setItem("expires_at",""+R)}n&&this._storage.setItem("refresh_token",n),P&&P.forEach((E,M)=>{this._storage.setItem(M,E)})}tryLogin(v=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(v).then(n=>!0):this.tryLoginImplicitFlow(v)}parseQueryString(v){return v&&0!==v.length?("?"===v.charAt(0)&&(v=v.substr(1)),this.urlHelper.parseQueryString(v)):{}}tryLoginCodeFlow(v=null){var n=this;return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const e=(v=v||{}).customHashFragment?v.customHashFragment.substring(1):window.location.search,h=n.getCodePartsFromUrl(e),P=h.code,E=h.state,M=h.session_state;if(!v.preventClearHashAfterLogin){const j=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,j)}let[R,V]=n.parseState(E);if(n.state=V,h.error){n.debug("error trying to login"),n.handleLoginError(v,h);const j=new OAuthErrorEvent("code_error",{},h);return n.eventsSubject.next(j),Promise.reject(j)}if(!v.disableNonceCheck){if(!R)return n.saveRequestedRoute(),Promise.resolve();if(!v.disableOAuth2StateCheck&&!n.validateNonce(R)){const H=new OAuthErrorEvent("invalid_nonce_in_state",null);return n.eventsSubject.next(H),Promise.reject(H)}return n.storeSessionState(M),P&&(yield n.getTokenFromCode(P,v),n.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const v=this._storage.getItem("requested_route");v&&history.replaceState(null,"",window.location.origin+v)}getCodePartsFromUrl(v){return v&&0!==v.length?("?"===v.charAt(0)&&(v=v.substr(1)),this.urlHelper.parseQueryString(v)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(v,n){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",v).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let h;h=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),h?e=e.set("code_verifier",h):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(e,n)}fetchAndProcessToken(v,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const h=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+h)}return this.useHttpBasicAuth||(v=v.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(v=v.set("client_secret",this.dummyClientSecret)),new Promise((h,P)=>{if(this.customQueryParams)for(let E of Object.getOwnPropertyNames(this.customQueryParams))v=v.set(E,this.customQueryParams[E]);this.http.post(this.tokenEndpoint,v,{headers:e}).subscribe(E=>{this.debug("refresh tokenResponse",E),this.storeAccessTokenResponse(E.access_token,E.refresh_token,E.expires_in||this.fallbackAccessTokenExpirationTimeInSec,E.scope,this.extractRecognizedCustomParameters(E)),this.oidc&&E.id_token?this.processIdToken(E.id_token,E.access_token,n.disableNonceCheck).then(M=>{this.storeIdToken(M),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(E)}).catch(M=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",M)),console.error("Error validating tokens"),console.error(M),P(M)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(E))},E=>{console.error("Error getting token",E),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",E)),P(E)})})}tryLoginImplicitFlow(v=null){let n;n=(v=v||{}).customHashFragment?this.urlHelper.getHashFragmentParams(v.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);const e=n.state;let[h,P]=this.parseState(e);if(this.state=P,n.error){this.debug("error trying to login"),this.handleLoginError(v,n);const j=new OAuthErrorEvent("token_error",{},n);return this.eventsSubject.next(j),Promise.reject(j)}const E=n.access_token,M=n.id_token,R=n.session_state,V=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!E||this.requestAccessToken&&!v.disableOAuth2StateCheck&&!e||this.oidc&&!M)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!R&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!v.disableNonceCheck&&!this.validateNonce(h)){const H=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(H),Promise.reject(H)}return this.requestAccessToken&&this.storeAccessTokenResponse(E,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,V),this.oidc?this.processIdToken(M,E,v.disableNonceCheck).then(j=>v.validationHandler?v.validationHandler({accessToken:E,idClaims:j.idTokenClaims,idToken:j.idToken,state:e}).then(H=>j):j).then(j=>(this.storeIdToken(j),this.storeSessionState(R),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(v),this.inImplicitFlow=!1,!0)).catch(j=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",j)),this.logger.error("Error validating tokens"),this.logger.error(j),Promise.reject(j))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(v),Promise.resolve(!0))}parseState(v){let n=v,e="";if(v){const h=v.indexOf(this.config.nonceStateSeparator);h>-1&&(n=v.substr(0,h),e=v.substr(h+this.config.nonceStateSeparator.length))}return[n,e]}validateNonce(v){let n;return n=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),n===v||(console.error("Validating access_token failed, wrong state/nonce.",n,v),!1)}storeIdToken(v){this._storage.setItem("id_token",v.idToken),this._storage.setItem("id_token_claims_obj",v.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+v.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(v){this._storage.setItem("session_state",v)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(v,n){v.onLoginError&&v.onLoginError(n),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(v=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:v}processIdToken(v,n,e=!1){const h=v.split("."),E=b64DecodeUnicode(this.padBase64(h[0])),M=JSON.parse(E),V=b64DecodeUnicode(this.padBase64(h[1])),j=JSON.parse(V);let H;if(H=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(j.aud)){if(j.aud.every(oe=>oe!==this.clientId)){const oe="Wrong audience: "+j.aud.join(",");return this.logger.warn(oe),Promise.reject(oe)}}else if(j.aud!==this.clientId){const oe="Wrong audience: "+j.aud;return this.logger.warn(oe),Promise.reject(oe)}if(!j.sub){const oe="No sub claim in id_token";return this.logger.warn(oe),Promise.reject(oe)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==j.sub){const oe=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${j.sub}`;return this.logger.warn(oe),Promise.reject(oe)}if(!j.iat){const oe="No iat claim in id_token";return this.logger.warn(oe),Promise.reject(oe)}if(!this.skipIssuerCheck&&j.iss!==this.issuer){const oe="Wrong issuer: "+j.iss;return this.logger.warn(oe),Promise.reject(oe)}if(!e&&j.nonce!==H){const oe="Wrong nonce: "+j.nonce;return this.logger.warn(oe),Promise.reject(oe)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!j.at_hash){const oe="An at_hash is needed!";return this.logger.warn(oe),Promise.reject(oe)}const G=this.dateTimeService.now(),z=1e3*j.iat,q=1e3*j.exp,ee=this.getClockSkewInMsec();if(z-ee>=G||q+ee<=G){const oe="Token has expired";return console.error(oe),console.error({now:G,issuedAtMSec:z,expiresAtMSec:q}),Promise.reject(oe)}const ue={accessToken:n,idToken:v,jwks:this.jwks,idTokenClaims:j,idTokenHeader:M,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(ue).then(oe=>({idToken:v,idTokenClaims:j,idTokenClaimsJson:V,idTokenHeader:M,idTokenHeaderJson:E,idTokenExpiresAt:q})):this.checkAtHash(ue).then(oe=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!oe){const De="Wrong at_hash";return this.logger.warn(De),Promise.reject(De)}return this.checkSignature(ue).then(De=>{const ot={idToken:v,idTokenClaims:j,idTokenClaimsJson:V,idTokenHeader:M,idTokenHeaderJson:E,idTokenExpiresAt:q};return this.disableAtHashCheck?ot:this.checkAtHash(ue).then(ze=>{if(this.requestAccessToken&&!ze){const Ge="Wrong at_hash";return this.logger.warn(Ge),Promise.reject(Ge)}return ot})})})}getIdentityClaims(){const v=this._storage.getItem("id_token_claims_obj");return v?JSON.parse(v):null}getGrantedScopes(){const v=this._storage.getItem("granted_scopes");return v?JSON.parse(v):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(v){for(;v.length%4!=0;)v+="=";return v}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const v=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(v&&parseInt(v,10)<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const v=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(v&&parseInt(v,10)<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(v){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(v)>=0&&null!==this._storage.getItem(v)?JSON.parse(this._storage.getItem(v)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(v={},n=""){let e=!1;"boolean"==typeof v&&(e=v,v={});const h=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(E=>this._storage.removeItem(E)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||e||!h&&!this.postLogoutRedirectUri)return;let P;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)P=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(h)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let E=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});h&&(E=E.set("id_token_hint",h));const M=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";M&&(E=E.set("post_logout_redirect_uri",M),n&&(E=E.set("state",n)));for(let R in v)E=E.set(R,v[R]);P=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+E.toString()}this.config.openUri(P)}createAndSaveNonce(){const v=this;return this.createNonce().then(function(n){return v.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):v._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const v=this.document.getElementById(this.silentRefreshIFrameName);v&&v.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(v=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let e=45,h="";const P=typeof self>"u"?null:self.crypto||self.msCrypto;if(P){let E=new Uint8Array(e);P.getRandomValues(E),E.map||(E.map=Array.prototype.map),E=E.map(M=>n.charCodeAt(M%n.length)),h=String.fromCharCode.apply(null,E)}else for(;0<e--;)h+=n[Math.random()*n.length|0];v(base64UrlEncode(h))})}checkAtHash(v){var n=this;return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return n.tokenValidationHandler?n.tokenValidationHandler.validateAtHash(v):(n.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(v){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(v):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(v="",n={}){return"code"===this.responseType?this.initCodeFlow(v,n):this.initImplicitFlow(v,n)}initCodeFlow(v="",n={}){""!==this.loginUrl?this.initCodeFlowInternal(v,n):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initCodeFlowInternal(v,n))}initCodeFlowInternal(v="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof n?h=n:"object"==typeof n&&(e=n),this.createLoginUrl(v,h,null,!1,e).then(this.config.openUri).catch(P=>{console.error("Error in initAuthorizationCodeFlow"),console.error(P)})}createChallangeVerifierPairForPKCE(){var v=this;return(0,_home_hamid_upgrade_olf_commerce_js_storefront_cangubike_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){if(!v.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const n=yield v.createNonce();return[base64UrlEncode(yield v.crypto.calcHash(n,"sha-256")),n]})()}extractRecognizedCustomParameters(v){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(e=>{v[e]&&n.set(e,JSON.stringify(v[e]))}),n}revokeTokenAndLogout(v={},n=!1){let e=this.revocationEndpoint,h=this.getAccessToken(),P=this.getRefreshToken();if(!h)return;let E=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),M=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const R=btoa(`${this.clientId}:${this.dummyClientSecret}`);M=M.set("Authorization","Basic "+R)}if(this.useHttpBasicAuth||(E=E.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(E=E.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const R of Object.getOwnPropertyNames(this.customQueryParams))E=E.set(R,this.customQueryParams[R]);return new Promise((R,V)=>{let j,H;if(h){let G=E.set("token",h).set("token_type_hint","access_token");j=this.http.post(e,G,{headers:M})}else j=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(P){let G=E.set("token",P).set("token_type_hint","refresh_token");H=this.http.post(e,G,{headers:M})}else H=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);n&&(j=j.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(G=>0===G.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(G))),H=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(G=>0===G.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(G)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.aj)([j,H]).subscribe(G=>{this.logOut(v),R(G),this.logger.info("Token successfully revoked")},G=>{this.logger.error("Error revoking token",G),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",G)),V(G)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return ye.\u0275fac=function(v){return new(v||ye)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(X){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(X)}}let DefaultOAuthInterceptor=(()=>{class ye{constructor(v,n,e){this.oAuthService=v,this.errorHandler=n,this.moduleConfig=e}checkUrl(v){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(v):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(n=>v.toLowerCase().startsWith(n.toLowerCase()))}intercept(v,n){const e=v.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(e)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(P=>!!P)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(P=>"token_received"===P.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(P=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(P=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.zg)(P=>{if(P){const M=v.headers.set("Authorization","Bearer "+P);v=v.clone({headers:M})}return n.handle(v).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(E=>this.errorHandler.handleError(E)))})):n.handle(v).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(P=>this.errorHandler.handleError(P))):n.handle(v)}}return ye.\u0275fac=function(v){return new(v||ye)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class NullValidationHandler{validateSignature(X){return Promise.resolve(null)}validateAtHash(X){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return typeof sessionStorage<"u"?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class ye{static forRoot(v=null,n=NullValidationHandler){return{ngModule:ye,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:n},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:v},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return ye.\u0275fac=function(v){return new(v||ye)},ye.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:ye}),ye.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),ye})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")}},ye=>{ye(ye.s=8090)}]);