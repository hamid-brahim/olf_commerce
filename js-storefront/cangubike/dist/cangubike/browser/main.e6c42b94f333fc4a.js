(self.webpackChunkcangubike=self.webpackChunkcangubike||[]).push([[179],{3949:(_e,ie,v)=>{"use strict";var n=v(1481),e=v(4650),h=v(529),F=v(1848),S=v(5024),w=v(8555);var B=v(610);let Z=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[B.Bz.forRoot([],{anchorScrolling:"enabled",relativeLinkResolution:"corrected",initialNavigation:"enabledNonBlocking"})]}),E})();var V=v(1446);let G=(()=>{class E{constructor(){this.title="cangubike"}}return E.\u0275fac=function(H){return new(H||E)},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-root"]],decls:1,vars:0,template:function(H,Le){1&H&&e._UZ(0,"cx-storefront")},dependencies:[V.gJ4]}),E})();const J={common:["common","spinner","searchBox","navigation","sorting","httpHandlers","pageMetaResolver","miniCart","skipLink","formErrors","errorHandlers","carousel","assistiveMessage","passwordVisibility"],address:["addressForm","addressBook","addressCard","addressSuggestion","addressMessages"],payment:["paymentForm","paymentMethods","paymentCard","paymentTypes","paymentMessages"],myAccount:["orderDetails","orderHistory","closeAccount","updatePasswordForm","updateProfileForm","consentManagementForm","myCoupons","notificationPreference","myInterests","AccountOrderHistoryTabContainer","returnRequestList","returnRequest"],pwa:["pwa"],product:["productDetails","productList","productFacetNavigation","productCarousel","productSummary","productReview","addToCart","addToWishList","CMSTabParagraphContainer","stockNotification","TabPanelContainer","itemCounter","productView"],user:["anonymousConsents","loginRegister","checkoutLogin","authMessages"],video:["player"]};var de=v(9057);const re={backend:{occ:{endpoints:{user:"orgUsers/${userId}",userUpdateProfile:"users/${userId}",userCloseAccount:"users/${userId}",addEntries:"orgUsers/${userId}/carts/${cartId}/entries?quantity=${quantity}",placeOrder:"orgUsers/${userId}/orders?fields=FULL",scheduleReplenishmentOrder:"orgUsers/${userId}/replenishmentOrders?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType"}}}};let Ce=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)(V.TrH),(0,de.A2H)(V.MuM),...V.XiQ,(0,de.A2H)({backend:{occ:{baseUrl:"https://api.cgerw3wv0y-thevaluec1-d1-public.model-t.cc.commerce.ondemand.com/"}}}),(0,de.A2H)({context:{urlParameters:["baseSite","language","currency"],baseSite:["cangubike-spa"],language:["en","fr"],currency:["USD","EUR"]}}),(0,de.A2H)({i18n:{backend:{loadPath:"assets/i18n-assets/{{lng}}/{{ns}}.json"},chunks:J,fallbackLang:"en"}}),(0,de.A2H)({features:{level:"5.0"}}),(0,de.A2H)(re)]}),E})();var we=v(8809),Ae=v(6895);let lt=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275prov=e.Yz7({token:E,factory:function(){return(0,de.wvQ)({facade:E,feature:"cartWishListCore",methods:["createWishList","getWishList","loadWishList","addEntry","removeEntry","getWishListLoading"],async:!0})},providedIn:"root"}),E})();const Gt=["cx-wish-list-item",""],Jt=function(E){return{cxRoute:"product",params:E}};function ft(E,W){if(1&E&&(e.TgZ(0,"div",13)(1,"a",14),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&E){const H=e.oxw();e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,Jt,H.cartEntry.product))),e.xp6(2),e.Oqu(null==H.cartEntry.product?null:H.cartEntry.product.name)}}function nn(E,W){if(1&E&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&E){const H=e.oxw();e.xp6(1),e.AsE(" ",e.lcZ(2,2,"cartItems.id")," ",null==H.cartEntry.product?null:H.cartEntry.product.code," ")}}function Xt(E,W){if(1&E&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&E){const H=e.oxw().$implicit;e.xp6(1),e.AsE(" ",H.name,": ",H.value," ")}}function Vt(E,W){if(1&E&&(e.TgZ(0,"div",17),e.YNc(1,Xt,2,2,"div",18),e.qZA()),2&E){const H=W.$implicit;e.xp6(1),e.Q6J("ngIf",H.name&&H.value)}}function qe(E,W){if(1&E&&(e.ynx(0),e.YNc(1,Vt,2,1,"div",16),e.BQk()),2&E){const H=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==H.cartEntry.product||null==H.cartEntry.product.baseOptions[0]||null==H.cartEntry.product.baseOptions[0].selected?null:H.cartEntry.product.baseOptions[0].selected.variantOptionQualifiers)}}function rn(E,W){if(1&E&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&E){const H=e.oxw(2);e.xp6(1),e.hij(" ",null==H.cartEntry.basePrice?null:H.cartEntry.basePrice.formattedValue," ")}}function me(E,W){if(1&E&&(e.TgZ(0,"td",20)(1,"div",21),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,rn,2,1,"div",22),e.qZA()),2&E){const H=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"cartItems.itemPrice")," "),e.xp6(2),e.Q6J("ngIf",H.cartEntry.basePrice)}}function Et(E,W){1&E&&e.GkF(0,24)}function Ke(E,W){1&E&&(e.TgZ(0,"span",25),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&E&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"addToCart.outOfStock")," "))}function jt(E,W){if(1&E){const H=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(H);const Ct=e.oxw();return e.KtG(Ct.removeEntry(Ct.cartEntry))}),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&E){const H=e.oxw();e.Q6J("cxAtMessage",e.lcZ(1,3,"wishlist.itemRemoved"))("disabled",H.isLoading),e.xp6(2),e.hij(" ",e.lcZ(3,5,"common.remove")," ")}}function wt(E,W){if(1&E){const H=e.EpF();e.TgZ(0,"tr",11),e.NdJ("remove",function(Ct){e.CHM(H);const fn=e.oxw(3);return e.KtG(fn.removeEntry(Ct))}),e.ALo(1,"async"),e.qZA()}if(2&E){const H=W.$implicit,Le=e.oxw(3);e.Q6J("cartEntry",H)("isLoading",e.lcZ(1,2,Le.loading$))}}function dn(E,W){if(1&E&&(e.TgZ(0,"table",3)(1,"caption",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"thead")(5,"tr",5)(6,"th",6),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"th",7),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"th",8),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA()()(),e.TgZ(15,"tbody",9),e.YNc(16,wt,2,4,"tr",10),e.qZA()()),2&E){const H=e.oxw().ngIf;e.xp6(2),e.hij(" ",e.lcZ(3,5,"wishlist.caption")," "),e.xp6(5),e.hij(" ",e.lcZ(8,7,"cartItems.description")," "),e.xp6(3),e.hij(" ",e.lcZ(11,9,"cartItems.itemPrice")," "),e.xp6(3),e.hij(" ",e.lcZ(14,11,"cartItems.actions")," "),e.xp6(3),e.Q6J("ngForOf",null==H?null:H.entries)}}function kt(E,W){if(1&E&&(e.ynx(0),e.YNc(1,dn,17,13,"table",2),e.BQk()),2&E){const H=W.ngIf;e.oxw();const Le=e.MAs(3);e.xp6(1),e.Q6J("ngIf",(null==H||null==H.entries?null:H.entries.length)>0)("ngIfElse",Le)}}function We(E,W){1&E&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&E&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"wishlist.empty")))}let nt=(()=>{class E{constructor(H){this.productListItemContextSource=H,this.isLoading=!1,this.remove=new e.vpe}ngOnChanges(H){H?.cartEntry&&this.productListItemContextSource.product$.next(this.cartEntry.product)}removeEntry(H){this.remove.emit(H)}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(V.e1w))},E.\u0275cmp=e.Xpm({type:E,selectors:[["","cx-wish-list-item",""],["cx-wish-list-item"]],inputs:{isLoading:"isLoading",cartEntry:"cartEntry"},outputs:{remove:"remove"},features:[e._Bn([V.e1w,{provide:V.Z6X,useExisting:V.e1w}]),e.TTD],attrs:Gt,decls:15,vars:12,consts:[["role","cell"],[1,"cx-table-item-container"],["tabindex","-1",3,"routerLink"],["format","thumbnail",3,"container"],[1,"cx-info"],["class","cx-name",4,"ngIf"],["class","cx-code",4,"ngIf"],[4,"ngIf"],["role","cell","class","cx-price",4,"ngIf"],["role","cell",1,"cx-actions"],["cxInnerComponentsHost","",4,"ngIf"],["outOfStock",""],["class","link cx-action-link cx-remove-btn",3,"cxAtMessage","disabled","click",4,"ngIf"],[1,"cx-name"],[1,"cx-link",3,"routerLink"],[1,"cx-code"],["class","cx-property",4,"ngFor","ngForOf"],[1,"cx-property"],["class","cx-label",4,"ngIf"],[1,"cx-label"],["role","cell",1,"cx-price"],[1,"cx-mobile-header"],["class","cx-value",4,"ngIf"],[1,"cx-value"],["cxInnerComponentsHost",""],[1,"cx-out-of-stock"],[1,"link","cx-action-link","cx-remove-btn",3,"cxAtMessage","disabled","click"]],template:function(H,Le){1&H&&(e.TgZ(0,"td",0)(1,"div",1)(2,"a",2),e.ALo(3,"cxUrl"),e._UZ(4,"cx-media",3),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,ft,4,6,"div",5),e.YNc(7,nn,3,4,"div",6),e.qZA()(),e.YNc(8,qe,2,1,"ng-container",7),e.qZA(),e.YNc(9,me,5,4,"td",8),e.TgZ(10,"td",9),e.YNc(11,Et,1,0,"ng-container",10),e.YNc(12,Ke,3,3,"ng-template",null,11,e.W1O),e.YNc(14,jt,4,7,"button",12),e.qZA()),2&H&&(e.xp6(2),e.Q6J("routerLink",e.lcZ(3,8,e.VKq(10,Jt,Le.cartEntry.product))),e.xp6(2),e.Q6J("container",null==Le.cartEntry.product||null==Le.cartEntry.product.images?null:Le.cartEntry.product.images.PRIMARY),e.xp6(2),e.Q6J("ngIf",null==Le.cartEntry.product?null:Le.cartEntry.product.name),e.xp6(1),e.Q6J("ngIf",null==Le.cartEntry.product?null:Le.cartEntry.product.code),e.xp6(1),e.Q6J("ngIf",null==Le.cartEntry.product||null==Le.cartEntry.product.baseOptions?null:Le.cartEntry.product.baseOptions.length),e.xp6(1),e.Q6J("ngIf",Le.cartEntry.basePrice),e.xp6(2),e.Q6J("ngIf",Le.cartEntry.updateable),e.xp6(3),e.Q6J("ngIf",Le.cartEntry.updateable))},dependencies:[V.cgP,Ae.sg,Ae.O5,V.R7z,V.ik0,B.yS,de.X$D,de.l2T],encapsulation:2,changeDetection:0}),E})(),Nt=(()=>{class E{constructor(H){this.wishListFacade=H,this.wishList$=this.wishListFacade.getWishList(),this.loading$=this.wishListFacade.getWishListLoading()}removeEntry(H){this.wishListFacade.removeEntry(H)}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(lt))},E.\u0275cmp=e.Xpm({type:E,selectors:[["cx-wish-list"]],decls:4,vars:3,consts:[[4,"ngIf"],["emptyWishList",""],["role","table",4,"ngIf","ngIfElse"],["role","table"],[1,"cx-visually-hidden"],["role","row",1,"cx-item-list-header","cx-wish-list-header"],["role","columnheader",1,"cx-item-list-desc"],["role","columnheader",1,"cx-item-list-price"],["role","columnheader",1,"cx-item-list-actions"],[1,"cx-item-list-items"],["cx-wish-list-item","","role","row","class","cx-item-list-row cx-wish-list-item-row",3,"cartEntry","isLoading","remove",4,"ngFor","ngForOf"],["cx-wish-list-item","","role","row",1,"cx-item-list-row","cx-wish-list-item-row",3,"cartEntry","isLoading","remove"]],template:function(H,Le){1&H&&(e.YNc(0,kt,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,We,3,3,"ng-template",null,1,e.W1O)),2&H&&e.Q6J("ngIf",e.lcZ(1,1,Le.wishList$))},dependencies:[Ae.sg,Ae.O5,nt,Ae.Ov,de.X$D],encapsulation:2}),E})(),Pt=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.i51)({cmsComponents:{WishListComponent:{component:Nt,data:{composition:{inner:["ProductAddToCartComponent"]}},guards:[de.a1M]}}})],imports:[V.p$5,Ae.ez,de.LUR,V.Td$,V.cOq,V._Gt,B.Bz,V.fsT,de.bhT]}),E})();var un=v(3749),bn=v(6053),_t=v(5254),Ue=v(8896),ke=v(5778),mt=v(2994),vt=v(2198),en=v(7545),Yt=v(4850),vn=v(7168),Kt=v(2986),Re=v(7221),Dt=v(1406),De=v(7212),tt=v(655);const Ut="[Wish List] Create Wish List",At="[Wish List] Create Wish List Success",Tt="[Wish List] Load Wish List",Ot="[Wish List] Load Wish List Success";class Ht{constructor(W){this.payload=W,this.type=Ut}}class dt extends de.kPG.EntitySuccessAction{constructor(W){super(we.N4,W.cartId),this.payload=W,this.type=At}}class In extends de.kPG.EntityFailAction{constructor(W){super(we.N4,W.cartId,W.error),this.payload=W,this.type="[Wish List] Create Wish List Fail"}}class Vn extends de.kPG.EntityLoadAction{constructor(W){super(we.N4,W.cartId),this.payload=W,this.type=Tt}}class Nn extends de.kPG.EntitySuccessAction{constructor(W){super(we.N4,W.cartId),this.payload=W,this.type=Ot}}class ur extends de.kPG.EntityFailAction{constructor(W){super(we.N4,W.cartId,W.error),this.payload=W,this.type="[Wish List] Load Wish List Fail"}}function On(E){return`wishlist${E}`}let Ln=(()=>{class E{constructor(H,Le,Ct,fn){this.store=H,this.userAccountFacade=Le,this.multiCartFacade=Ct,this.userIdService=fn}createWishList(H,Le,Ct){this.store.dispatch(new Ht({userId:H,name:Le,description:Ct}))}getWishList(){return(0,bn.aj)([this.getWishListId(),this.userAccountFacade.get(),this.userIdService.getUserId()]).pipe((0,ke.x)(),(0,mt.b)(([H,Le,Ct])=>{!Boolean(H)&&Ct!==de.Fds&&Le?.customerId&&this.loadWishList(Ct,Le.customerId)}),(0,vt.h)(([H])=>Boolean(H)),(0,en.w)(([H])=>this.multiCartFacade.getCart(H)))}loadWishList(H,Le){this.store.dispatch(new Vn({userId:H,cartId:On(Le)}))}addEntry(H){this.getWishListIdWithUserId().subscribe(([Le,Ct])=>this.multiCartFacade.addEntry(Ct,Le,H,1))}removeEntry(H){this.getWishListIdWithUserId().subscribe(([Le,Ct])=>this.multiCartFacade.removeEntry(Ct,Le,H.entryNumber))}getWishListLoading(){return this.getWishListId().pipe((0,en.w)(H=>this.multiCartFacade.isStable(H).pipe((0,Yt.U)(Le=>!Le))))}getWishListId(){return this.multiCartFacade.getCartIdByType(un.EI.WISH_LIST)}getWishListIdWithUserId(){return this.getWishListId().pipe((0,ke.x)(),(0,vn.M)(this.userIdService.getUserId(),this.userAccountFacade.get()),(0,mt.b)(([H,Le,Ct])=>{!Boolean(H)&&Ct?.customerId&&this.loadWishList(Le,Ct.customerId)}),(0,vt.h)(([H])=>Boolean(H)),(0,Yt.U)(([H,Le])=>[H,Le]),(0,Kt.q)(1))}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(w.yh),e.LFG(De.gf),e.LFG(un.WT),e.LFG(de.XBV))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac}),E})();const Qn=[Ln,{provide:lt,useExisting:Ln}],nr=[(()=>{class E{constructor(H,Le,Ct,fn){this.actions$=H,this.cartConnector=Le,this.userIdService=Ct,this.store=fn,this.createWishList$=this.actions$.pipe((0,S.l4)(Ut),(0,Yt.U)(zt=>zt.payload),(0,en.w)(zt=>this.cartConnector.create(zt.userId).pipe((0,en.w)(Mn=>this.cartConnector.save(zt.userId,Mn.code??"",zt.name,zt.description).pipe((0,en.w)(gr=>[new dt({cart:gr,cartId:(0,we.T6)(gr,zt.userId)})]),(0,Re.K)(gr=>(0,_t.D)([new In({cartId:Mn.code??"",error:(0,de.cxH)(gr)})]))))))),this.loadWishList$=this.actions$.pipe((0,S.l4)(Tt),(0,Yt.U)(zt=>zt.payload),(0,Dt.b)(zt=>{const{userId:Mn,cartId:gr}=zt;return this.cartConnector.loadAll(Mn).pipe((0,en.w)(Co=>{const di=gr,Ro=Co.find(Ji=>Ji.name===di),cs=[];return cs.push(Ro?new Nn({cart:Ro,cartId:(0,we.T6)(Ro,Mn)}):new Ht({userId:Mn,name:di})),cs.push(new we.$.RemoveCart({cartId:di})),cs}),(0,Re.K)(Co=>(0,_t.D)([new ur({cartId:gr,error:(0,de.cxH)(Co)})])))})),this.resetWishList$=this.actions$.pipe((0,S.l4)(de.dO9.LANGUAGE_CHANGE,de.dO9.CURRENCY_CHANGE),(0,vn.M)(this.userIdService.getUserId(),this.store.pipe((0,vt.h)(zt=>!!zt.cart),(0,w.Ys)(we.F5.getCartIdByTypeFactory(un.EI.WISH_LIST)))),(0,en.w)(([,zt,Mn])=>Boolean(Mn)?this.cartConnector.load(zt,Mn).pipe((0,en.w)(gr=>[new Nn({cart:gr??{},cartId:(0,we.T6)(gr,zt)})]),(0,Re.K)(gr=>(0,_t.D)([new ur({cartId:Mn,error:(0,de.cxH)(gr)})]))):Ue.E)),this.setWishListId$=this.actions$.pipe((0,S.l4)(At,Ot),(0,Yt.U)(zt=>{switch(zt.type){case At:case Ot:return new we.$.SetCartTypeIndex({cartType:un.EI.WISH_LIST,cartId:zt.meta.entityId})}}),(0,vt.h)(de.pTN)),this.setWishListData$=this.actions$.pipe((0,S.l4)(At,Ot),(0,Yt.U)(zt=>{switch(zt.type){case At:case Ot:return new we.$.SetCartData({cart:zt.payload.cart,cartId:zt.payload.cartId})}}),(0,vt.h)(de.pTN))}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(S.eX),e.LFG(we.CQ),e.LFG(de.XBV),e.LFG(w.yh))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac}),(0,tt.gn)([(0,S.Qm)()],E.prototype,"createWishList$",void 0),(0,tt.gn)([(0,S.Qm)()],E.prototype,"loadWishList$",void 0),(0,tt.gn)([(0,S.Qm)()],E.prototype,"resetWishList$",void 0),(0,tt.gn)([(0,S.Qm)()],E.prototype,"setWishListId$",void 0),(0,tt.gn)([(0,S.Qm)()],E.prototype,"setWishListData$",void 0),E})()];let Oe=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[S.sQ.forFeature(nr)]}),E})(),Fe=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[...Qn],imports:[Oe]}),E})(),pe=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Pt,Fe]}),E})();var X=v(7828),oe=v(679);const et={en:{asm:{asm:{mainLogoLabel:"SAP",mainTitle:"Assisted Service Mode",logout:"Sign Out",hideUi:"Close ASM",toggleUi:{collapse:"Hide ASM",expand:"Show ASM"},loginForm:{submit:"Sign In",userId:{label:"Agent ID",required:"Agent ID is required"},password:{label:"Password",required:"Password is required"}},customerSearch:{searchTerm:{label:"Customer Name/Email Address"},submit:"Start Session",noMatch:"No customer found."},csagentTokenExpired:"Your customer support agent session is expired.",endSession:"End Session",agentSessionTimer:{label:"Session Timeout",minutes:"min",reset:"Reset"},auth:{agentLoggedInError:"Cannot login as user when there is an active CS agent session. Please either emulate user or logout CS agent."},error:{noCustomerId:"No customerId found for selected user. Session cannot be started."}}}}},yt={asm:["asm"]};var qt=v(5344);let Qt=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[qt.Kj]:{module:()=>v.e(112).then(v.bind(v,5112)).then(W=>W.AsmModule)}}}),(0,de.A2H)({i18n:{resources:et,chunks:yt}})],imports:[qt.HZ]}),E})();const Wn={en:{importExport:{exportEntries:{exportToCsv:"Export to CSV",exportMessage:"CSV file will download automatically to your device, if it does not please check your browser settings",columnNames:{code:"Code",quantity:"Quantity",name:"Name",price:"Price"}},importEntries:{importProducts:"Import Products"},importEntriesDialog:{importProducts:"Import Products",importProductsSubtitle:"Add products by importing a .CSV file.",importProductsNewSavedCartSubtitle:"Add products by importing a .CSV file and creating a new saved cart.",importProductFileDetails:"Text file should contain list of products with required columns separated by comma: SKU and quantity.",selectFile:"Select File",savedCartName:"Saved Cart Name",savedCartDescription:"Saved Cart Description",optional:"optional",charactersLeft:"characters left: {{count}}",cancel:"Cancel",upload:"Upload",close:"Close",summary:{info:"Do not close or refresh this window while products are being imported.",loadedToCart:"Products has been loaded to cart {{ cartName }}",loaded:"Products has been loaded",loading:"Products are being processed... ({{ count }}/{{ total }})",successes:"{{ successesCount }} out of {{ total }} products have been imported successfully.",warning:"{{ count }} product was not imported totally.",warning_other:"{{ count }} products were not imported totally.",error:"{{ count }} product was not imported.",error_other:"{{ count }} products were not imported.",messages:{unknownIdentifier:'Product SKU "{{ productCode}}" does not exist.',lowStock:"Quantity for {{ productName }}: {{ quantity }} has been reduced to {{ quantityAdded }}.",noStock:"{{ productName }} is currently out of stock.",unknownError:'Unrecognized problem with "{{ productCode }}".',limitExceeded:'Can not add "{{ productCode }}". Limit exceeded.'},show:"Show",hide:"Hide"}}}}},vr={importExport:["exportEntries","importEntries","importEntriesDialog"]},Yn="cartImportExport";let rr=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.i51)({featureModules:{[Yn]:{cmsComponents:["ImportExportOrderEntriesComponent","ImportOrderEntriesComponent","ExportOrderEntriesComponent"]}}})]}),E})(),Qr=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Yn]:{module:()=>v.e(487).then(v.bind(v,6487)).then(W=>W.ImportExportModule)}}}),(0,de.A2H)({i18n:{resources:Wn,chunks:vr}})],imports:[rr]}),E})();const Cr={en:{quickOrder:{quickOrderCartForm:{entriesWereAdded:"({{ quantity }}) {{ product }} has been added to the cart",entryWasAdded:"{{ product }} has been added to the cart",noResults:"We could not find any products",stockLevelReached:"The maximum stock level has been reached",title:"Quick Order",productCodePlaceholder:"Enter ID",entryProductCode:"Enter Product ID for Quick Order",quantity:"Quantity for Quick Order",addToCart:"Add Product to Quick Order",add:"Add",product:"Product",products:"Products",productCodeLabel:"Product ID",quantityLabel:"Qty"},quickOrderForm:{placeholder:"Enter Product name or SKU",searchBoxLabel:"Enter Product name or SKU for quick order. You can add up to {{ limit }} products per order.",listLimitReached:"The product limit has been reached.",id:"ID {{ id }}",noResults:"We could not find any results",addProduct:"Add product {{ product }}",initialDescription:"When autocomplete results are available use up and down arrows to review and enter to select.",productsResults:"{{ count }} products are available.",quickOrderSearch:"Find product for quick order"},quickOrderList:{addToCart:"Add to cart",emptyList:"Empty list",header:"Add Products/SKUs",subHeader:"You can add up to {{ limit }} valid SKU at a time.",errorProceedingToCart:"Error proceeding to Cart.",warningProceedingToCart:"Warning proceeding to Cart.",successfullyAddedToCart:"Successfully added to Cart.",errors:{productIsOutOfStock:"{{ name }} (#{{code}}) is out of stock.",reviewErrors:"Please review these errors.",listIsFull:"The list is full, add these {{ count }} products to Cart in order to continue.",nonPurchasableError:"Product {{ name }} cannot be purchased",outOfStockErrorFound:"{{count}} out of stock product was not added.",outOfStockErrorFound_other:"{{count}} out of stock products were not added."},warnings:{productWasReduced:"Quantity for {{ name }} (#{{code}}) was reduced to {{ quantityAdded}}.",reviewWarnings:"Please review these warnings.",reduceWarningFound:"{{count}} product quantity was reduced.",reduceWarningFound_other:"{{count}} products quantity were reduced."},successes:{productAddedToCart:"{{ name }} (#{{code}}) was added to cart.",addedToCartFound:"{{ count }} product was added to cart.",addedToCartFound_other:"{{ count }} products were added to cart."},informations:{addProductBeforeAddingToCart:"Add products to the list before adding to the cart."},undo:"UNDO",revokeUndo:'Revoked product "{{name}}" deletion.',productWasDeleted:'Product "{{ name }}" moved to trash.'},quickOrderTable:{product:"Product",id:"ID",price:"Price",quantity:"QTY",itemPrice:"Item price",qty:"Qty",actions:"Actions",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",listCleared:"Quick order list has been cleared",addedtoCart:"Quick order list has been added to the cart",caption:"Quick order contents."}}}},$n={quickOrder:["quickOrderCartForm","quickOrderForm","quickOrderList","quickOrderTable"]};var Jn=v(8581);let Mr=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Jn.Jx]:{module:()=>v.e(464).then(v.bind(v,8464)).then(W=>W.QuickOrderModule)}}}),(0,de.A2H)({i18n:{resources:Cr,chunks:$n}})],imports:[Jn.e$]}),E})();const gt={en:{savedCart:{savedCartDetails:{cartName:"Name",cartDescription:"Description",cartId:"ID",dateSaved:"Date Saved",items:"Items",quantity:"Quantity",total:"Total",editSavedCart:"Edit Saved Cart",deleteSavedCart:"Delete Saved Cart",addSelectedItems:"Add selected items",emptyCartItems:"Empty Cart Items"},savedCartList:{savedCarts:"Saved Carts ({{count}})",cartName:"Name",cartId:"Id",dateSaved:"Date Saved",cartDescription:"Description",quantity:"Qty",total:"Total",actions:"Actions",makeCartActive:"Make cart active",notFound:"No Saved Carts Found",swapCartNoActiveCart:"Existing cart is activated by {{cartName}} successfully.",swapCartWithActiveCart:"Existing cart is activated by {{cartName}} successfully. Your previous items were saved in a cart {{previousCartName}}."},savedCartCartPage:{messages:{cartSaved:'Your cart items have been successfully saved for later in the "{{cartName}}" cart'}},savedCartDialog:{saveForLater:"Save For Later",itemsSavedForLater:"All of the items in your cart will be saved for later",savedCartName:"Saved Cart Name",savedCartDescription:"Saved Cart Description",optional:"optional",charactersLeft:"characters left: {{count}}",cancel:"Cancel",save:"Save",restore:"Restore",followingCartDelete:"The following saved cart will be deleted",followingCartRestore:"The following saved cart will be restored as the active cart",delete:"Delete",deleteCartSuccess:"Cart Deleted Successfully",editCartSuccess:"Cart Edited Successfully",editSavedCart:"Edit Saved Cart",deleteSavedCart:"Delete Saved Cart",restoreSavedCart:"Restore Saved Cart",name:"Name",id:"ID",description:"Description",quantity:"QTY",total:"Total",keepCopySavedCart:"Keep a copy of this cart in the saved carts list",defaultCloneCartName:"Copy of {{name}}",nameOfCloneCart:"Name of copied cart"},addToSavedCart:{savedCarts:"Saved carts",saveCartForLater:"Save cart for later"}}}},N={savedCart:["savedCartDetails","savedCartList","savedCartCartPage","savedCartDialog","addToSavedCart"]};var be=v(950);let I=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[be.UQ]:{module:()=>v.e(634).then(v.bind(v,634)).then(W=>W.SavedCartModule)}}}),(0,de.A2H)({i18n:{resources:gt,chunks:N}})],imports:[be.$O]}),E})();const Rt={en:{checkoutB2B:{checkoutB2B:{noPoNumber:"None",poNumber:"Purchase order number (optional)",costCenter:"Cost Center",placeholder:"Enter P.O",availableLabel:"Delivery addresses available to you depend on the cost center's unit",invalid:{accountType:"Your account does not allow you to checkout here."},methodOfPayment:{paymentType:"Payment Type"},review:{poNumber:"Purchase Order Number"},progress:{methodOfPayment:"Method of Payment"}}}}},cn={checkoutB2B:["checkoutB2B"]};var hn=v(1487);const sr={en:{checkout:{checkout:{backToCart:"Back to cart"},checkoutProgress:{label:"Checkout Progress",deliveryAddress:"Delivery Address",deliveryMode:"Delivery Mode",paymentDetails:"Payment Details",reviewOrder:"Review Order"},checkoutAddress:{deliveryAddress:"Delivery Address",selectYourDeliveryAddress:"Select your Delivery Address",defaultDeliveryAddress:"Default Delivery Address",addNewAddress:"Add New Address",shipToThisAddress:"Ship to this address",deliveryAddressSelected:"Delivery address selected"},checkoutMode:{deliveryMethod:"Delivery Method",standardDelivery:"Standard Delivery",premiumDelivery:"Premium Delivery"},checkoutReview:{review:"Review",orderItems:"Order Items",confirmThatRead:"I am confirming that I have read and agreed with the",placeOrder:"Place Order",termsAndConditions:"Terms & Conditions",editDeliveryAddressDetails:"Edit delivery address details, opens Delivery Address page",editPaymentDetails:"Edit payment details, opens Payment Details page",editPaymentType:"Edit payment method, opens Method of Payment page",editDeliveryMode:"Edit delivery mode, opens Delivery Mode page",orderInProcess:"Order is in process. Please wait."},checkoutOrderConfirmation:{confirmationOfOrder:"Confirmation of Order:",thankYou:"Thank you for your order!",invoiceHasBeenSentByEmail:"An invoice has been sent by email. You should receive it soon.",orderItems:"Order Items",orderPlacedSuccessfully:"Order placed successfully",createAccount:"Create an account?",createAccountForNext:"Create an account for <{{email}}> for a faster checkout on your next visit."}}}},Ir={checkout:["checkout","checkoutProgress","checkoutAddress","checkoutMode","checkoutReview","checkoutOrderConfirmation"]};var eo=v(7935);let Oo=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[eo.W$]:{module:()=>v.e(725).then(v.bind(v,725)).then(W=>W.CheckoutWrapperModule)}}}),(0,de.A2H)({i18n:{resources:sr,chunks:Ir}}),(0,de.A2H)({i18n:{resources:Rt,chunks:cn}})],imports:[eo.Rv,hn.CN]}),E})();var Zo=v(3966),Or=v(2654),Yo=v(1086),to=v(4006),zo=v(7039),Lo=v(2453);function Xo(E,W){if(1&E){const H=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"cx-card",17),e.NdJ("sendCard",function(){const fn=e.CHM(H).$implicit,zt=e.oxw(5);return e.KtG(zt.selectPaymentMethod(fn.paymentMethod))}),e.qZA()()()}if(2&E){const H=W.$implicit;e.xp6(2),e.Q6J("border",!0)("fitToContainer",!0)("content",H.content)}}function lo(E,W){if(1&E){const H=e.EpF();e.ynx(0),e.TgZ(1,"p",7),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"div",8)(5,"div",9)(6,"button",10),e.NdJ("click",function(){e.CHM(H);const Ct=e.oxw(4);return e.KtG(Ct.showNewPaymentForm())}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA()()(),e.TgZ(9,"div",11),e.YNc(10,Xo,3,3,"div",12),e.qZA(),e.TgZ(11,"div",13)(12,"div",9)(13,"button",10),e.NdJ("click",function(){e.CHM(H);const Ct=e.oxw(4);return e.KtG(Ct.back())}),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()(),e.TgZ(16,"div",9)(17,"button",14),e.NdJ("click",function(){e.CHM(H);const Ct=e.oxw(4);return e.KtG(Ct.next())}),e.ALo(18,"async"),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&E){const H=e.oxw(3).ngIf,Le=e.oxw();let Ct;e.xp6(2),e.hij(" ",e.lcZ(3,6,"paymentForm.choosePaymentMethod")," "),e.xp6(5),e.hij(" ",e.lcZ(8,8,"paymentForm.addNewPayment")," "),e.xp6(3),e.Q6J("ngForOf",H),e.xp6(4),e.hij(" ",e.lcZ(15,10,Le.backBtnText)," "),e.xp6(3),e.Q6J("disabled",!(null!=(Ct=e.lcZ(18,12,Le.selectedMethod$))&&Ct.id)),e.xp6(2),e.hij(" ",e.lcZ(20,14,"common.continue")," ")}}function Fo(E,W){if(1&E&&(e.ynx(0),e._UZ(1,"div",6),e.ALo(2,"cxTranslate"),e.YNc(3,lo,21,16,"ng-container",2),e.BQk()),2&E){e.oxw();const H=e.MAs(4),Le=e.oxw().ngIf,Ct=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(2),e.Q6J("ngIf",(null==Le?null:Le.length)&&!Ct.newPaymentFormManuallyOpened)("ngIfElse",H)}}function Wo(E,W){if(1&E){const H=e.EpF();e.TgZ(0,"cx-dp-payment-form",18),e.NdJ("setPaymentDetails",function(Ct){e.CHM(H);const fn=e.oxw(3);return e.KtG(fn.setPaymentDetails(Ct))})("closeForm",function(){e.CHM(H);const Ct=e.oxw(3);return e.KtG(Ct.hideNewPaymentForm())}),e.qZA()}}function br(E,W){if(1&E&&(e.ynx(0),e.YNc(1,Fo,4,5,"ng-container",2),e.ALo(2,"async"),e.YNc(3,Wo,1,0,"ng-template",null,5,e.W1O),e.BQk()),2&E){e.oxw();const H=e.MAs(6),Le=e.oxw();e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,Le.isUpdating$))("ngIfElse",H)}}function bo(E,W){1&E&&(e.TgZ(0,"div",19),e._UZ(1,"cx-spinner"),e.qZA())}function ko(E,W){if(1&E){const H=e.EpF();e.TgZ(0,"cx-dp-payment-callback",20),e.NdJ("paymentDetailsAdded",function(Ct){e.CHM(H);const fn=e.oxw(2);return e.KtG(fn.paymentDetailsAdded(Ct))})("closeCallback",function(){e.CHM(H);const Ct=e.oxw(2);return e.KtG(Ct.hideCallbackScreen())}),e.qZA()}}function No(E,W){if(1&E&&(e.ynx(0),e.TgZ(1,"h3",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,br,5,4,"ng-container",2),e.YNc(5,bo,2,0,"ng-template",null,3,e.W1O),e.YNc(7,ko,1,0,"ng-template",null,4,e.W1O),e.BQk()),2&E){const H=e.MAs(8),Le=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,"paymentForm.payment")," "),e.xp6(2),e.Q6J("ngIf",!Le.showCallbackScreen)("ngIfElse",H)}}const Jo={backend:{occ:{endpoints:{paymentRequest:"users/${userId}/carts/${cartId}/payment/digitalPayments/request",paymentDetails:"users/${userId}/carts/${cartId}/payment/digitalPayments/response"}}}},Uo=new e.OlP("DpDetailsNormalizer"),ci=new e.OlP("DpRequestNormalizer");class Tr{}let To=(()=>{class E{convert(H,Le){return void 0===Le&&(Le={...H}),Le}}return E.\u0275fac=function(H){return new(H||E)},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),po=(()=>{class E{convert(H,Le){return void 0===Le&&(Le={...H}),Le.url=H.postUrl,Le.sessionId=H?.parameters?.entry?.find(Ct=>"session_id"===Ct.key)?.value,Le.signature=H?.parameters?.entry?.find(Ct=>"signature"===Ct.key)?.value,Le}}return E.\u0275fac=function(H){return new(H||E)},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const no="current",ro="x-card-registration-status";let _i=(()=>{class E{constructor(H,Le,Ct){this.http=H,this.occEndpoints=Le,this.converter=Ct,this.paramEncoder=new de.qug}createPaymentRequest(H,Le=no){const Ct=this.occEndpoints.buildUrl("paymentRequest",{urlParams:{userId:H,cartId:Le}});return this.http.post(Ct,null).pipe(this.converter.pipeable(ci))}createPaymentDetails(H,Le,Ct,fn=no){let zt=new h.LE({encoder:this.paramEncoder});zt=zt.append("sid",H),zt=zt.append("sign",Le);const Mn=this.occEndpoints.buildUrl("paymentDetails",{urlParams:{userId:Ct,cartId:fn}});return this.http.post(Mn,null,{params:zt}).pipe(this.converter.pipeable(Uo))}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(h.eN),e.LFG(de.Lz0),e.LFG(de.IXI))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac}),E})(),kn=(()=>{class E{constructor(H,Le,Ct,fn){this.dpAdapter=H,this.command=Le,this.query=Ct,this.userIdService=fn,this.RequestUrlQuery=this.query.create(()=>this.userIdService.takeUserId().pipe((0,en.w)(zt=>this.dpAdapter.createPaymentRequest(zt)))),this.createPaymentDetailsCommand=this.command.create(zt=>this.userIdService.takeUserId().pipe((0,en.w)(Mn=>this.dpAdapter.createPaymentDetails(zt.sessionId,zt.signature,Mn))),{strategy:de.flE.Queue})}getCardRegistrationDetails(){return this.RequestUrlQuery.get()}createPaymentDetails(H,Le){return this.createPaymentDetailsCommand.execute({sessionId:H,signature:Le})}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(Tr),e.LFG(de.VDr),e.LFG(de._7J),e.LFG(de.XBV))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Bo="digital-payment.checkout.request";let Mo=(()=>{class E{constructor(H){this.statePersistenceService=H,this.subscription=new Or.w}syncCardRegistrationState(H){this.subscription.add(this.statePersistenceService.syncWithStorage({key:Bo,state$:(0,Yo.of)(H)}))}readCardRegistrationState(){const H=this.statePersistenceService.readStateFromStorage({key:Bo});return this.clearDpStorage(),H}clearDpStorage(){this.statePersistenceService.syncWithStorage({key:Bo,state$:(0,Yo.of)({})})}ngOnDestroy(){this.subscription.unsubscribe()}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(de.WBb))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Hr=(()=>{class E{constructor(H,Le,Ct,fn){this.dpPaymentService=H,this.dpStorageService=Le,this.globalMsgService=Ct,this.route=fn,this.closeCallback=new e.vpe,this.paymentDetailsAdded=new e.vpe}ngOnInit(){"successful"===this.route.snapshot.queryParamMap.get(ro)?.toLowerCase()?this.fetchPaymentDetails():(this.globalMsgService.add({key:"dpPaymentForm.cancelledOrFailed"},de.xUg.MSG_TYPE_WARNING),this.closeCallback.emit())}fetchPaymentDetails(){const H=this.dpStorageService.readCardRegistrationState();H?.sessionId&&H?.signature?this.dpPaymentService.createPaymentDetails(H.sessionId,H.signature).subscribe(Le=>{Le?.id?this.paymentDetailsAdded.emit(Le):Le&&(this.globalMsgService.add({key:"dpPaymentForm.error.paymentFetch"},de.xUg.MSG_TYPE_ERROR),this.closeCallback.emit())}):(this.globalMsgService.add({key:"dpPaymentForm.error.unknown"},de.xUg.MSG_TYPE_ERROR),this.closeCallback.emit())}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(kn),e.Y36(Mo),e.Y36(de.IWp),e.Y36(B.gz))},E.\u0275cmp=e.Xpm({type:E,selectors:[["cx-dp-payment-callback"]],outputs:{closeCallback:"closeCallback",paymentDetailsAdded:"paymentDetailsAdded"},decls:5,vars:3,consts:[[1,"text-center"],[1,"cx-spinner"]],template:function(H,Le){1&H&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"cx-spinner"),e.qZA()),2&H&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dpPaymentForm.callback")))},dependencies:[V.ORR,de.X$D],encapsulation:2}),E})(),kr=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Ae.ez,V.Fme,de.LUR]}),E})(),fo=(()=>{class E{constructor(H,Le,Ct,fn){this.dpPaymentService=H,this.dpStorageService=Le,this.globalMsgService=Ct,this.winRef=fn,this.closeForm=new e.vpe}ngOnInit(){this.dpPaymentService.getCardRegistrationDetails().subscribe(H=>{H?.url?(this.dpStorageService.syncCardRegistrationState(H),this.redirect(H.url)):H&&(this.globalMsgService.add({key:"dpPaymentForm.error.redirect"},de.xUg.MSG_TYPE_ERROR),this.closeForm.emit())})}redirect(H){const Le=this.winRef.nativeWindow;Le?.location&&(Le.location.href=H)}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(kn),e.Y36(Mo),e.Y36(de.IWp),e.Y36(de.X9E))},E.\u0275cmp=e.Xpm({type:E,selectors:[["cx-dp-payment-form"]],outputs:{closeForm:"closeForm"},decls:5,vars:3,consts:[[1,"text-center"],[1,"cx-spinner"]],template:function(H,Le){1&H&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"cx-spinner"),e.qZA()),2&H&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dpPaymentForm.redirect")))},dependencies:[V.ORR,de.X$D],encapsulation:2}),E})(),Ze=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Ae.ez,to.UX,zo.A0,de.LUR,V.Fme]}),E})(),Mt=(()=>{class E extends Zo.UN{constructor(H,Le,Ct,fn,zt,Mn,gr,Co){super(H,Le,Ct,fn,zt,Mn,gr,Co),this.userPaymentService=H,this.checkoutDeliveryAddressFacade=Le,this.checkoutPaymentFacade=Ct,this.activatedRoute=fn,this.translationService=zt,this.activeCartFacade=Mn,this.checkoutStepService=gr,this.globalMessageService=Co,this.showCallbackScreen=!1,this.showCallbackScreen=this.isDpCallback()}isDpCallback(){return!!this.activatedRoute.snapshot.queryParamMap.get(ro)}hideCallbackScreen(){this.showCallbackScreen=!1}paymentDetailsAdded(H){this.savePaymentMethod(H),this.next()}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(de.TWG),e.Y36(Lo.E8),e.Y36(Lo.zQ),e.Y36(B.gz),e.Y36(de.D7D),e.Y36(un.bu),e.Y36(Zo.hF),e.Y36(de.IWp))},E.\u0275cmp=e.Xpm({type:E,selectors:[["cx-payment-method"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf","ngIfElse"],["loading",""],["loadingPaymentDetails",""],["newPaymentForm",""],["role","status"],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-payment-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-payment-card","col-md-12","col-lg-6"],[1,"cx-payment-card-inner"],[3,"border","fitToContainer","content","sendCard"],[3,"setPaymentDetails","closeForm"],[1,"cx-spinner"],[3,"paymentDetailsAdded","closeCallback"]],template:function(H,Le){1&H&&(e.YNc(0,No,9,5,"ng-container",0),e.ALo(1,"async")),2&H&&e.Q6J("ngIf",e.lcZ(1,1,Le.cards$))},dependencies:[Ae.sg,Ae.O5,fo,V.AkF,V.ORR,Hr,Ae.Ov,de.X$D],encapsulation:2,changeDetection:0}),E})(),pt=(()=>{class E extends Zo.IF{}return E.\u0275fac=function(){let W;return function(Le){return(W||(W=e.n5z(E)))(Le||E)}}(),E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Ae.ez,Ze,B.Bz,V.dTQ,V.Fme,de.LUR,kr,de.pEA.withConfig({cmsComponents:{CheckoutPaymentDetails:{component:Mt}}})]}),E})(),Zt=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[{provide:Tr,useClass:_i},{provide:Uo,useExisting:To,multi:!0},{provide:ci,useExisting:po,multi:!0},kn,(0,de.i51)(Jo)],imports:[pt]}),E})(),Wt=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Zt]}),E})();const $r={en:{dpPaymentForm:{dpPaymentForm:{redirect:"You will soon be redirected to third party page for card registration",callback:"Please Wait... Fetching payment details...",cancelledOrFailed:"Card registration failed or cancelled",error:{redirect:"Unable to initiate operation. Please try again",paymentFetch:"Unable to fetch payment details. Please try again.",unknown:"Unknown error occurred while fetching payment. Please contact support"}}}}},Nr={dpPaymentForm:["dpPaymentForm"]};let Sn=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({i18n:{resources:$r,chunks:Nr}})],imports:[Wt]}),E})();const ut={en:{epdVisualization:{epdVisualization:{visualViewer:{contentType:{drawing2D:"2D",model3D:"3D"},toolbar:{homeButton:{label:"Home"},zoomButton:{label:"Zoom"},panButton:{label:"Pan"},rotateButton:{label:"Rotate"},isolateButton:{label:"Isolate"},playButton:{label:"Play"},pauseButton:{label:"Pause"},hotspotsButton:{label:"Hotspots",show:"Show",hide:"Hide"},visualViewerAnimationSlider:{label:"Animation Slider",role:"Slider"}}},visualPicking:{visualPickingTab:{noProductReferences:"No spare parts are available for this product."},visualPickingProductList:{description:"Description",itemPrice:"Price",outOfStock:"Out of stock",id:"ID"},visualPickingProductFilter:{input:{placeholder:"Filter by name or id"},searchButton:{label:"search"},resetButton:{label:"reset"}}},errors:{visualLoad:{noMatchingVisualFound:"No matching visualization found",multipleMatchingVisualsFound:"Multiple matching visualizations found",unexpectedLoadError:"Error occurred while loading visualization"}}}}}},pn={epdVisualization:["epdVisualization"]};var qn=v(339);let Ft=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[qn.$q]:{module:()=>v.e(300).then(v.bind(v,6300)).then(W=>W.EpdVisualizationModule)}}}),(0,de.A2H)({i18n:{resources:ut,chunks:pn}}),(0,de.A2H)({epdVisualization:{ui5:{bootstrapUrl:"https://sapui5.hana.ondemand.com/1.97.0/resources/sap-ui-core.js"},apis:{baseUrl:""}}})],imports:[qn.xk]}),E})();const Xs={en:{order:{orderDetails:{orderId:"Order #",orderNumber:"Order Number",replenishmentId:"Replenishment #",purchaseOrderId:"Purchase Order #",purchaseOrderNumber:"Purchase Order Number",emptyPurchaseOrderId:"None",none:"None {{value}}",placed:"Placed",placedBy:"Placed By",unit:"Unit",costCenter:"Cost Center",costCenterAndUnit:"Cost Center / Unit",costCenterAndUnitValue:"{{costCenterName}} / {{unitName}}",methodOfPayment:"Method of Payment",payByAccount:"Pay by Account",paidByCreditCard:"(paid by credit card)",status:"Status",active:"Active",shippedOn:"Shipped on",shippingMethod:"Shipping Method",placedOn:"Placed on",startOn:"Start On",nextOrderDate:"Next Order Date",frequency:"Frequency",cancelled:" Cancelled",deliveryStatus_IN_TRANSIT:"In Transit",deliveryStatus_READY_FOR_PICKUP:"Ready for Pickup",deliveryStatus_READY_FOR_SHIPPING:"Ready for Shipping",deliveryStatus_WAITING:"Waiting",deliveryStatus_DELIVERING:"Delivering",deliveryStatus_PICKPACK:"Preparing for Shipment",deliveryStatus_PICKUP_COMPLETE:"Pickup Complete",deliveryStatus_DELIVERY_COMPLETED:"Delivery Complete",deliveryStatus_PAYMENT_NOT_CAPTURED:"Payment Issue",deliveryStatus_READY:"In Process",deliveryStatus_DELIVERY_REJECTED:"Delivery Rejected",deliveryStatus_SHIPPED:"Shipped",deliveryStatus_TAX_NOT_COMMITTED:"Tax Issue",deliveryStatus_CANCELLED:"Cancelled",statusDisplay_cancelled:"Cancelled",statusDisplay_cancelling:"Cancel Pending",statusDisplay_completed:"Completed",statusDisplay_created:"Created",statusDisplay_error:"Pending",statusDisplay_Error:"Pending",statusDisplay_processing:"Pending",statusDisplay_open:"Open",statusDisplay_pending:{approval:"Pending Approval",merchant:{approval:"Pending Merchant Approval"}},statusDisplay_approved:"Approved",statusDisplay_rejected:"Rejected",statusDisplay_merchant:{approved:"Merchant Approved",rejected:"Merchant Rejected"},statusDisplay_assigned:{admin:"Assigned To Administrator"},consignmentTracking:{action:"Track package",dialog:{header:"Tracking Information",shipped:"Shipped",estimate:"Estimated Delivery",carrier:"Delivery Service",trackingId:"Tracking Number",noTracking:"The package has not been dispatched from the warehouse. The tracking information will be available after the package is shipped.",loadingHeader:"Consignment Tracking"}},cancellationAndReturn:{returnAction:"Request a Return",cancelAction:"Cancel Items",item:"Item",itemPrice:"Item Price",quantity:"Max Quantity",returnQty:"Quantity to Return",cancelQty:"Quantity to Cancel",setAll:"Set all quantities to maximum",totalPrice:"Total",submit:"Submit Request",submitDescription:"Submit Request. Items on this page will be included in the cancellation request.",returnSuccess:"Your return request ({{rma}}) was submitted",cancelSuccess:"Your cancellation request was submitted (original order {{orderCode}} will be updated)"},cancelReplenishment:{title:"Cancel Replenishment",description:"Cancel any future replenishment order?",accept:"Yes",reject:"No",cancelSuccess:"Replenishment order #{{replenishmentOrderCode}} has been successfully cancelled"},caption:"Order contents."},orderHistory:{orderHistory:"Order history",orderId:"Order #",emptyPurchaseOrderId:"None",date:"Date",status:"Status",total:"Total",noOrders:"We have no order records for this account.",noReplenishmentOrders:"We have no replenishment order records for this account.",startShopping:"Start Shopping",sortBy:"Sort by",sortOrders:"Sort orders",replenishmentOrderHistory:"Replenishment Order History",replenishmentOrderId:"Replenishment #",purchaseOrderNumber:"PO #",startOn:"Start On",frequency:"Frequency",nextOrderDate:"Next Order Date",cancel:"Cancel",cancelled:"Cancelled",replenishmentHistory:"Replenishment History",notFound:"No Orders Found"},AccountOrderHistoryTabContainer:{tabs:{AccountOrderHistoryComponent:"ALL ORDERS ({{param}})",OrderReturnRequestListComponent:"RETURNS ({{param}})"},tabPanelContainerRegion:"Group with order history details"},returnRequestList:{returnRequestId:"Return #",orderId:"Order #",date:"Date Created",status:"Status",sortBy:"Sort by",sortReturns:"Sort returns",statusDisplay_APPROVAL_PENDING:"Approval Pending",statusDisplay_CANCELED:"Cancelled",statusDisplay_CANCELLING:"Cancelling",statusDisplay_WAIT:"Wait",statusDisplay_RECEIVED:"Received",statusDisplay_RECEIVING:"Receiving",statusDisplay_APPROVING:"Approving",statusDisplay_REVERSING_PAYMENT:"Reversing Payment",statusDisplay_PAYMENT_REVERSED:"Payment Reversed",statusDisplay_PAYMENT_REVERSAL_FAILED:"Payment Reversal Failed",statusDisplay_REVERSING_TAX:"Reversing Tax",statusDisplay_TAX_REVERSED:"Tax Reversed",statusDisplay_TAX_REVERSAL_FAILED:"Tax Reversal Failed",statusDisplay_COMPLETED:"Completed"},returnRequest:{returnRequestId:"Return Request #",orderCode:"For Order #",status:"Return status",cancel:"Cancel Return Request",item:"Description",itemPrice:"Item Price",returnQty:"Return Quantity",total:"Total",summary:"Return Totals",subtotal:"Subtotal",deliveryCode:"Delivery cost",estimatedRefund:"Estimated refund",note:"The totals are estimated and may not include applicable taxes or other charges.",cancelSuccess:"Your return request ({{rma}}) was cancelled",caption:"Order contents."}}}},jr={order:["orderDetails","orderHistory","AccountOrderHistoryTabContainer","returnRequestList","returnRequest"]};var z=v(4129);let $=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[z.GH]:{module:()=>Promise.all([v.e(745),v.e(182)]).then(v.bind(v,3182)).then(W=>W.OrderModule)}}}),(0,de.A2H)({i18n:{resources:Xs,chunks:jr}})],imports:[z.pF]}),E})();const $e={en:{organization:{organization:{enabled:"Active",disabled:"Disabled",enable:"Enable",disable:"Disable",name:"Name",code:"Code",done:"done",cancel:"Cancel",add:"Add",create:"Create {{name}}",edit:"Edit",save:"Save {{name}}",delete:"Delete",assign:"Manage",active:"Active",status:"Status",details:"Details",messages:{emptyList:"The list is empty"},userRoles:{b2bcustomergroup:"Customer",b2bapprovergroup:"Approver",b2bmanagergroup:"Manager",b2badmingroup:"Admin"},breadcrumb:"Organization",notification:{noSufficientPermissions:"No sufficient permissions to access this page",notExist:"This item does not exist",disabled:"You cannot edit a disabled item"},confirmation:{cancel:"CANCEL",confirm:"CONFIRM",disable:"DISABLE",delete:"DELETE"},httpHandlers:{conflict:{budget:"Budget with code {{ code }} already exists.",costCenter:"Cost center with code {{ code }} already exists.",unit:"Organizational unit with uid {{ code }} already exists.",user:"User with email {{ code }} already exists",userGroup:"User Group with id {{ code }} already exists",permission:"Approval Permission with code {{ code }} already exists.",unknown:"Server validation error."}}},orgCostCenter:{header:"All cost centers ({{count}})",code:"Code",active:"Status",name:"Name",currency:"Currency",unit:"Parent Unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byCode:"Code"},hint:"All orders placed through your organization's purchase account are linked to a cost center for tracking purposes. Each unit can have multiple cost centers. To limit spending, budgets are assigned to cost centers. A buyer selects a cost center when checking out.",disable:{confirm:"Disable"},messages:{deactivateTitle:"Disable this cost center?",deactivate:"Disabled cost centers cannot be used for placing new orders. Ensure that your unit has at least one cost center. Existing orders are not affected.",confirmEnabled:"Cost Center {{ item.name }} enabled successfully",confirmDisabled:"Cost Center {{ item.name }} disabled successfully",update:"Cost Center {{ item.name }} updated successfully",create:"Cost Center {{ item.name }} created successfully"},info:{disabledEdit:"Enable the cost center to allow editing.",disabledEnable:"Unit must be enabled before this cost center may be enabled."},details:{title:"Cost Center Details",subtitle:"Cost Center: {{ item.name }}"},edit:{title:"Edit Cost Center",subtitle:"Cost Center: {{ item.name }}"},create:{title:"Create Cost Center",subtitle:""},budget:{link:"Budgets"},breadcrumbs:{list:"All cost centers",details:"{{name}}",budgets:"Budgets"}},orgCostCenterBudgets:{title:"Manage budgets",subtitle:"Cost Center: {{ item.name }}",assigned:"Budget {{ item.name }} assigned successfully",unassigned:"Budget {{ item.name }} unassigned successfully"},orgCostCenterAssignedBudgets:{title:"Assigned budgets",subtitle:"Cost Center: {{ item.name }}",assigned:"Budget {{ item.name }} assigned successfully",unassigned:"Budget {{ item.name }} unassigned successfully"},orgBudget:{header:"All budgets ({{count}})",code:"Code",name:"Name",active:"Status",currency:"Currency",amount:"Amount",unit:"Unit",businessUnits:"Unit",dateRange:"Start - End",startDate:"Start",endDate:"End",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byCode:"Code",byValue:"Value"},hint:"Budgets set overall purchase limits and are assigned to cost centers. A buyer selects a cost center when checking out.",details:{title:"Budget Details",subtitle:"Budget: {{ item.name }}"},edit:{title:"Edit Budget",subtitle:"Budget: {{ item.name }}"},create:{title:"Create Budget",subtitle:""},messages:{deactivateTitle:"Disable this budget?",deactivate:"Disabled budgets no longer apply to the cost centers they are assigned to. Ensure that the associated cost center has at least one budget.",confirmEnabled:"Budget {{ item.name }} enabled successfully",confirmDisabled:"Budget {{ item.name }} disabled successfully",update:"Budget {{ item.name }} updated successfully",create:"Budget {{ item.name }} created successfully"},info:{disabledEdit:"Enable the budget to allow editing.",disabledEnable:"Unit must be enabled before this budget may be enabled."},links:{costCenters:"Cost Centers"},breadcrumbs:{list:"All budgets",details:"{{name}}"}},orgBudgetAssignedCostCenters:{title:"Cost centers",subtitle:"Budget: {{ item.name }}"},orgUnit:{header:"All units ({{count}})",unit:"Unit",name:"Name",uid:"ID",approvalProcess:"Approval process",parentUnit:"Parent Unit",active:"Status",hint:"Units represent departments, stores, regions, or any other logical grouping that makes sense to you. The cost centers and delivery addresses available to a buyer when checking out, depend on their unit. Users have access to all child units of their primary unit.",details:{title:"Unit Details",subtitle:"Unit: {{ item.name }}",hint:"Units represent departments, stores, regions, or any other logical grouping that makes sense to you. Disabling a unit disables all children of the unit, including child units, users, approvers, and cost centers. Disabled units cannot be edited."},edit:{title:"Edit Unit",subtitle:"Unit: {{ item.name }}"},create:{title:"Create Unit",subtitle:""},messages:{deactivateTitle:"Disable this unit?",deactivate:"Disabling a unit has wide-ranging affects on your commerce organization. ALL the unit's child units, users, budgets, and cost centers will also disabled.",confirmEnabled:"Unit {{item.name}} enabled successfully",confirmDisabled:"Unit {{item.name}} disabled successfully",update:"Unit {{ item.name }} updated successfully",create:"Unit {{ item.name }} created successfully"},info:{disabledEdit:"Enable the unit to allow editing.",disabledEnable:"Parent must be enabled before this unit may be enabled.",disabledDisable:"Root unit can not be disabled."},links:{units:"Child Units",users:"Users",approvers:"Approvers",shippingAddresses:"Delivery Addresses",costCenters:"Cost Centers"},tree:{expandAll:"Expand all",collapseAll:"Collapse all"},children:{create:{title:"Create child unit",subtitle:""},messages:{create:"Unit {{ item.name }} created successfully"}},costCenters:{create:{title:"Create cost center",subtitle:""}},form:{parentOrgUnit:"Parent business unit",create:"Create Unit",parentOrgUnitNotes:"This unit is the top-level unit for your organization. It cannot be assigned to another unit."},users:{header:"Users in {{code}}",changeUserRoles:"Change user roles",newUser:"New user"},assignRoles:{header:"Manage roles in {{code}}",instructions:{check:"To assign a role to a user, select the role's check box.",uncheck:"To remove a role, clear the role's check box.",changes:"Changes are saved automatically."}},approvers:{header:"Approvers in {{code}}",assign:"Manage approvers",new:"New approver"},assignApprovers:{header:"Manage approvers in {{code}}",instructions:{check:"To assign an approver to this unit, select the user's check box.",uncheck:"To remove an approver, clear the user's check box.",changes:"Changes are saved automatically."},hint:"Users displayed under the Approvers list are assigned approval privileges for the buyers of this unit and of child units. Note that a user who has the approver role is separate from an approver who appears under the Approvers list. If an approver doesn't exist for a unit, or if approvers do not have sufficient approval purchase privileges, an approver higher up the unit hierarchy is found, until an administration is chosen."},breadcrumbs:{list:"All units",details:"{{name}}",children:"Child units",users:"Users",approvers:"Approvers",addresses:"Delivery addresses",addressDetails:"{{formattedAddress}}",costCenters:"Cost Centers"}},orgUnitChildren:{title:"Child units",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"Child unit can not be created for disabled unit."},hint:'Units represent departments, stores, regions, or any other logical grouping that makes sense to you. Users "inherit" child units, meaning buyers have access to cost centers and delivery addresses of child units when checking out.'},orgUnitApprovers:{title:"Manage approvers",subtitle:"Unit: {{item.name}}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully"},orgUnitAssignedApprovers:{title:"Assigned approvers",subtitle:"Unit: {{item.name}}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully",hint:"Users displayed under the Approvers list are assigned approval privileges for the buyers of this unit and of child units. Note that a user who has the approver role is separate from an approver who appears under the Approvers list. If an approver doesn't exist for a unit, or if approvers do not have sufficient approval purchase privileges, an approver higher up the unit hierarchy is found, until an administration is chosen."},orgUnitAssignedRoles:{header:"Manage roles in {{code}}",name:"Name",email:"Email",roles:"Roles",roleCustomer:"Customer",roleApprover:"Approver",roleManager:"Manager",roleAdministrator:"Admin"},orgUnitUsers:{title:"Assigned users",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"User can not be created for disabled unit."},hint:'Users are the buyers, approvers, managers, and administrators of your organization. Each user is assigned a role for making or approving purchases. Users "inherit" child units, meaning buyers have access to cost centers and delivery addresses of child units when checking out.'},orgUnitUserRoles:{title:"User roles",subtitle:"User: {{item.name}}",messages:{rolesUpdated:"Roles successfully updated for {{item.name}}"}},orgUnitAssignedUsers:{title:"Assigned users",subtitle:"Unit: {{item.name}}"},orgUnitCostCenters:{title:"Assigned cost centers",subtitle:"Unit: {{item.name}}",info:{disabledCreate:"Cost center can not be created for disabled unit."},hint:'All orders placed through your organization\'s purchase account are linked to a cost center for tracking purposes. A buyer selects a cost center when checking out using the "Account" purchase method. Each unit can have multiple cost centers, but a single cost center can only be assigned to a single unit. To define ultimate spending limits, budgets are assigned to cost centers. '},orgUnitAddress:{title:"Delivery addresses",subtitle:"Unit: {{item.name}}",country:"Country/Region",titles:"Title",firstName:"First name",lastName:"Last name",formattedAddress:"Address",address1:"Address",address2:"2nd address (optional)",city:"City",state:"State",zipCode:"Zip code",phoneNumber:"Phone number (optional)",streetAddress:"Street Address",aptSuite:"Apt, Suite",selectOne:"Select One...",hint:'When a buyer is checking out using the "Account" purchase method, they much choose a cost center. The delivery addresses available to the buyer depend on the unit of the cost center chosen.',details:{title:"Address details",subtitle:"Unit: {{item.name}}"},edit:{title:"Edit Address"},create:{title:"Create Address"},form:{subtitle:"Unit: {{item.name}}"},messages:{create:"Address {{ item.firstName }} {{ item.lastName }} created successfully",update:"Address {{ item.firstName }} {{ item.lastName }} updated successfully",delete:"The address cannot be brought back. Existing orders are not affected.",deleteTitle:"Delete this address?",deleted:"Address {{ item.firstName }} {{ item.lastName }} deleted successfully"}},orgUserGroup:{header:"All user groups ({{count}})",disabled:"(disabled)",uid:"Code",name:"Name",unit:"Unit",orgUnit:"Unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit",byGroupID:"Group"},hint:"User groups allow you to combine users together in one group, for the purposes of assigning purchase limits for many users at once.",details:{title:"User group Details",subtitle:"User group: {{ item.name }}"},edit:{title:"Edit User group",subtitle:"User group: {{ item.name }}"},create:{title:"Create User group",subtitle:""},links:{user:"Users",permission:"Purchase limits"},messages:{update:"User Group {{ item.name }} updated successfully",create:"User Group {{ item.name }} created successfully",deleteTitle:"Delete this user group?",delete:"The users in this group are not affected when the user group is deleted.",deleted:"User Group {{ item.name }} deleted successfully"},breadcrumbs:{list:"All user groups",details:"{{name}}",users:"Users",permissions:"Purchase limits"}},orgUserGroupUsers:{title:"Manage users",subtitle:"User group: {{ item.name }}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully",unassignAll:"Unassign All",unassignAllConfirmation:"All users unassigned successfully"},orgUserGroupAssignedUsers:{title:"Assigned users",subtitle:"User group: {{ item.name }}",assigned:"User {{item.name}} assigned successfully",unassigned:"User {{item.name}} unassigned successfully"},orgUserGroupPermissions:{title:"Manage purchase limits",subtitle:"Limit: {{ item.name }}",assigned:"Purchase limits {{item.code}} assigned successfully",unassigned:"Purchase limits {{item.code}} unassigned successfully"},orgUserGroupAssignedPermissions:{title:"Assigned purchase limits",subtitle:"Limit: {{ item.name }}",assigned:"Purchase limits {{item.code}} assigned successfully",unassigned:"Purchase limits {{item.code}} unassigned successfully"},orgUser:{header:"All users ({{count}})",disabled:"(disabled)",uid:"Email",active:"Status",name:"Name",firstName:"First name",lastName:"Last name",email:"Email",orgUnit:"Unit",unit:"Unit",roles:"Roles",title:"Title",hint:"Users are the buyers, approvers, managers, and administrators of your organization. Each user is assigned a role for making or approving purchases. Each user belongs to a unit, and they have access to all child units of their primary unit.",unitApprover:"Unit approver",assignApprover:"Add the user to approvers for the unit",actions:"",sortBy:"Sort by",sort:{byName:"Name",byUnit:"Unit"},details:{title:"User Details",subtitle:"User: {{ item.name }}"},edit:{title:"Edit User",subtitle:"User: {{ item.name }}"},create:{title:"Create User",subtitle:""},links:{password:"Change password",approvers:"Approvers",userGroup:"User groups",permission:"Purchase limits"},messages:{deactivateTitle:"Disable this user?",deactivate:"Disabled users cannot log onto the storefront and place orders.",confirmEnabled:"User {{item.firstName}} {{item.lastName}} enabled successfully",confirmDisabled:"User {{item.firstName}} {{item.lastName}} disabled successfully",update:"User {{item.firstName}} {{item.lastName}} updated successfully",create:"User {{item.firstName}} {{item.lastName}} created successfully",updatePassword:"User {{item.firstName}} {{item.lastName}} password updated successfully"},info:{disabledEdit:"Enable the user to allow editing.",disabledEnable:"Unit must be enabled before this user may be enabled."},approver:{link:"Approvers",header:"Approvers in {{code}}",assign:"Assign Approvers",assignHeader:"Assign Approvers in {{code}}",back:"Back",new:"New approver",instructions:{check:"To assign an approver to this user, select the user's check box.",uncheck:"To remove an approver, clear the user's check box.",changes:"Changes are saved automatically."}},userGroup:{link:"User groups",header:"User groups in {{code}}",assign:"Assign user groups",assignHeader:"Assign user groups in {{code}}",back:"Back",instructions:{check:"To assign an user group to this user, select the user's check box.",uncheck:"To remove aa user group, clear the user's check box.",changes:"Changes are saved automatically."}},permission:{link:"Purchase limits",header:"Purchase limits in {{code}}",assign:"Assign purchase limits",assignHeader:"Assign purchase limits in {{code}}",back:"Back",instructions:{check:"To assign a purchase limits to this user, select its check box.",uncheck:"To unassign a purchase limits, clear its check box.",changes:"Changes are saved automatically."},per:{undefined:"",MONTH:"per Month",YEAR:"per Year",WEEK:"per Week",QUARTER:"per Quarter"}},password:{title:"Change password",subtitle:"User: {{ item.email }}",newPassword:"New password",confirmPassword:"Retype new password"},breadcrumbs:{list:"All users",details:"{{name}}",userGroups:"User groups",approvers:"Approvers",permissions:"Purchase limits"}},orgUserUserGroups:{title:"Manage user groups",subtitle:"User: {{ item.name }}",assigned:"User group {{item.name}} assigned successfully",unassigned:"User group {{item.name}} unassigned successfully"},orgUserAssignedUserGroups:{title:"Assigned user groups",subtitle:"User: {{ item.name }}",assigned:"User group {{item.name}} assigned successfully",unassigned:"User group {{item.name}} unassigned successfully"},orgUserApprovers:{title:"Manage approvers",subtitle:"User: {{ item.name }}",assigned:"Approver {{ item.name }} assigned successfully",unassigned:"Approver {{ item.name }} unassigned successfully"},orgUserAssignedApprovers:{title:"Assigned approvers",subtitle:"User: {{ item.name }}",assigned:"Approver {{ item.name }} assigned successfully",unassigned:"Approver {{ item.name }} unassigned successfully"},orgUserPermissions:{title:"Manage purchase limits",subtitle:"User: {{ item.name }}",assigned:"Purchase limit {{ item.code }} assigned successfully",unassigned:"Purchase limit {{ item.code }} unassigned successfully"},orgUserAssignedPermissions:{title:"Assigned purchase limits",subtitle:"User: {{ item.name }}",assigned:"Purchase limit {{ item.code }} assigned successfully",unassigned:"Purchase limit {{ item.code }} unassigned successfully"},orgPurchaseLimit:{header:"All purchase limits ({{count}})",name:"Name",code:"Code",active:"Status",limit:"Limit",orderApprovalPermissionType:"Type",threshold:"Threshold",periodRange:"Period",currency:"Currency",orgUnit:"Parent Unit",unit:"Parent Unit",actions:"",hint:"Purchase limits help control spending by defining how much buyers can spend per order or per week, month, quarter, or year. Purchase limits are assigned to users or user groups. Purchase limits are also assigned to approvers, defining how much they are permitted to approve. You can assign purchase limits to many users at once with user groups.",details:{title:"Purchase Limit Details",subtitle:"Purchase Limit: {{ item.code }}"},edit:{title:"Edit Purchase Limit",subtitle:"Purchase limits : {{ item.code }}"},create:{title:"Create Purchase Limit",subtitle:""},sortBy:"Sort by",sort:{byName:"Name",byUnitName:"Unit"},messages:{deactivateTitle:"Disable this purchase limit?",deactivate:"Disabled purchase limits can no longer be assigned to a user or user group. Current assignments will have no effect.",confirmEnabled:"Purchase Limit {{ item.code }} enabled successfully",confirmDisabled:"Purchase Limit {{ item.code }} disabled successfully",update:"Purchase Limit {{ item.code }} updated successfully",create:"Purchase Limit {{ item.code }} created successfully"},info:{disabledEdit:"Enable the purchase limit to allow editing.",disabledEnable:"Unit must be enabled before this purchase limit may be enabled."},per:{DAY:"per day",WEEK:"per week",MONTH:"per month",QUARTER:"per quarter",YEAR:"per year"},breadcrumbs:{list:"All purchase limits",details:"{{code}}"}}}}},St={organization:["orgBudget","orgBudgetAssignedCostCenters","orgCostCenter","orgCostCenterBudgets","orgCostCenterAssignedBudgets","orgUnit","orgUnitChildren","orgUnitAssignedRoles","orgUnitApprovers","orgUnitAssignedApprovers","orgUnitCostCenters","orgUnitUsers","orgUnitUserRoles","orgUnitAssignedUsers","orgUnitAddress","orgUserGroup","orgUserGroupUsers","orgUserGroupAssignedUsers","orgUserGroupPermissions","orgUserGroupAssignedPermissions","orgUser","orgUserApprovers","orgUserAssignedApprovers","orgUserPermissions","orgUserAssignedPermissions","orgUserUserGroups","orgUserAssignedUserGroups","orgPurchaseLimit"]};var It=v(5883);let mn=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[It.E1]:{module:()=>v.e(446).then(v.bind(v,4446)).then(W=>W.AdministrationModule)}}}),(0,de.A2H)({i18n:{resources:$e,chunks:St}})],imports:[It.al]}),E})();const Un={en:{orderApproval:{orderApprovalDetails:{back:"Back To List",showForm_APPROVE:"Approve Order...",showForm_REJECT:"Reject Order...",form:{title_APPROVE:"Approve order {{orderCode}} totalling {{orderTotal}}",title_REJECT:"Reject order {{orderCode}} totalling {{orderTotal}}",submit_APPROVE:"Approve",submit_REJECT:"Reject",cancel:"Cancel",comment_APPROVE:{label:"Comment (optional, maximum 255 characters)",placeholder:""},comment_REJECT:{label:"Comment (maximum 255 characters)",placeholder:""}},permissionResults:{header:"Customer Approval Details",permission:"Permission",approver:"Approver",status:"Status",approverComments:"Approver Comments",noApprovalComments:"None",permissionType_B2BBudgetExceededPermission:"The budget associated with the chosen cost center has been exceeded",permissionType_B2BOrderThresholdPermission:"Order total exceeded the per-order limit",permissionType_B2BOrderThresholdTimespanPermission:"Order total exceeded the per-timespan limit"}},orderApprovalList:{orderCode:"Order #",POCode:"PO #",placedBy:"Placed by",date:"Date",status:"Status",total:"Total",none:"None",emptyList:"There are no orders to approve at this time."},orderApprovalGlobal:{notification:{noSufficientPermissions:"No sufficient permissions to access this page."}}}}},Lr={orderApproval:["orderApprovalDetails","orderApprovalList","orderApprovalGlobal"]},Go="organizationOrderApproval";function Vo(){return{featureModules:{[Go]:{cmsComponents:["OrderApprovalListComponent","OrderApprovalDetailTotalsComponent","OrderApprovalDetailApprovalDetailsComponent","OrderApprovalDetailShippingComponent","OrderApprovalDetailItemsComponent","OrderApprovalDetailFormComponent","AccountOrderDetailsApprovalDetailsComponent"],dependencies:[z.GH]}}}}let ti=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.x2j)(Vo),(0,de.i51)({routing:{routes:{orderApprovals:{paths:["my-account/approval-dashboard"]},orderApprovalDetails:{paths:["my-account/approval/:approvalCode"]}}}})],imports:[B.Bz.forChild([{path:null,canActivate:[de.a1M,V.al$],component:V.wAB,data:{cxRoute:"orderApprovalDetails"}}])]}),E})(),li=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Go]:{module:()=>Promise.all([v.e(745),v.e(827)]).then(v.bind(v,9827)).then(W=>W.OrderApprovalModule)}}}),(0,de.A2H)({i18n:{resources:Un,chunks:Lr}})],imports:[ti]}),E})();const Ds={en:{configurator:{configurator:{header:{consistent:"Consistent",complete:"Complete",configId:"Configuration ID",toconfig:"Configure",editConfiguration:"Edit Configuration",displayConfiguration:"Display Configuration",resolveIssues:"Resolve Issues",resolveConflicts:"Resolve Conflicts",updateMessage:"The configuration is being updated in the background",showMore:"show more",showLess:"show less",items:"{{count}} item",items_other:"{{count}} items",show:"show",hide:"hide",multipleWarnings:"There are multiple warnings.",reviewWarnings:"Review these warnings",multipleErrors:"There are multiple errors.",reviewErrors:"Review these errors"},tabBar:{configuration:"Configuration",overview:"Overview"},notificationBanner:{numberOfIssues:"{{count}} issue must be resolved before checkout.",numberOfIssues_other:"{{count}} issues must be resolved before checkout.",numberOfConflicts:"{{count}} conflict must be resolved before checkout.",numberOfConflicts_other:"{{count}} conflicts must be resolved before checkout."},attribute:{id:"ID",quantity:"Qty",caption:"Attributes",notSupported:"Attribute Type is not supported.",requiredAttribute:"{{param}} required",defaultRequiredMessage:"Enter a value for the required field",singleSelectRequiredMessage:"Select a value",singleSelectAdditionalRequiredMessage:"Select or enter a value",multiSelectRequiredMessage:"Select one or more values",wrongNumericFormat:"Wrong format, this numerical attribute should be entered according to pattern {{pattern}}",deselectionNotPossible:"Add a different product before removing this one",dropDownSelectMsg:"Make a selection",noOptionSelectedMsg:"No option selected"},button:{previous:"Previous",next:"Next",back:"Back",more:"more",less:"less",deselect:"Deselect",select:"Select",add:"Add",remove:"Remove",exit:"Exit Configuration",exitMobile:"Exit",cancelConfiguration:"Cancel Configuration",cancelConfigurationMobile:"Cancel"},priceSummary:{basePrice:"Base Price",selectedOptions:"Selected Options",totalPrice:"Total"},addToCart:{button:"Add to Cart",buttonAfterAddToCart:"Continue to Cart",buttonUpdateCart:"Done",buttonDisplayOnly:"Done",confirmation:"Configuration has been added to the cart",confirmationUpdate:"Cart has been updated with configuration"},overviewForm:{noAttributeHeader:"No Results",noAttributeText:"Remove filter(s) to see Overview content",itemPrice:"Item Price"},group:{general:"General",conflictHeader:"Resolve conflicts",conflictGroup:"Conflict for {{attribute}}"},conflict:{suggestionTitle:"Suggestion {{number}}:",suggestionText:'Change value for "{{ attribute }}"',viewConflictDetails:"Conflict Detected - View Details",conflictDetected:"Conflict Detected",viewConfigurationDetails:"View In Configuration"},a11y:{configureProduct:"Configure product",cartEntryBundleInfo:"There is an item ",cartEntryBundleInfo_other:"There are {{items}} items ",cartEntryBundleName:"Item {{ name }}",cartEntryBundleNameWithQuantity:"Item {{ name }} item quantity {{quantity}}",cartEntryBundleNameWithPrice:"Item {{ name }} item price {{price}}",cartEntryBundle:"Item {{ name }} item price {{price}} item quantity {{quantity}}",cartEntryInfoIntro:"Product has the following attributes and selected values",cartEntryInfo:"Attribute {{ attribute }} has selected value {{value}}",nameOfAttribute:"Name of Attribute",valueOfAttribute:"Value of attribute {{ attribute }}",forAttribute:"{{ value }} for attribute {{ attribute }}",valueOfAttributeFull:"Value {{ value }} of attribute {{ attribute }}",valueOfAttributeFullWithPrice:"Value {{ value }} of attribute {{ attribute }}, Surcharge {{ price }}",selectedValueOfAttributeFull:"Selected value {{ value }} of attribute {{ attribute }}",selectedValueOfAttributeFullWithPrice:"Selected value {{ value }} of attribute {{ attribute }}, Surcharge {{ price }}",readOnlyValueOfAttributeFull:"Read-only value {{ value }} of attribute {{ attribute }}",valueOfAttributeBlank:"Value of attribute {{ attribute }} is blank",value:"Value {{ value }}",attribute:"Attribute {{ attribute }}",requiredAttribute:"Attribute {{param}} is required",listOfAttributesAndValues:"List of attributes and their values:",editAttributesAndValues:"Edit values of attributes:",group:"{{ group }} group of attributes",itemOfAttributeSelected:"Item {{ item }} of attribute {{ attribute }} is selected. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedWithPrice:"Item {{ item }} of attribute {{ attribute }} is selected, Surcharge {{ price }}. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedPressToUnselect:"Item {{ item }} of attribute {{ attribute }} is selected. Press button to unselect. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeSelectedPressToUnselectWithPrice:"Item {{ item }} of attribute {{ attribute }} is selected, Surcharge {{ price }} Press button to unselect. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeUnselected:"Item {{ item }} of attribute {{ attribute }} is unselected. Press button to select. {{ itemIndex }} of {{ itemCount }}",itemOfAttributeUnselectedWithPrice:"Item {{ item }} of attribute {{ attribute }} is unselected, Surcharge {{ price }}. Press button to select. {{ itemIndex }} of {{ itemCount }}",selectNoItemOfAttribute:"To select no item for attribute {{ attribute }} press button. {{ itemIndex }} of {{ itemCount }}",itemOfAttribute:"Item of attribute {{ attribute }}",itemOfAttributeFull:"Item {{ item }} of attribute {{ attribute }}",itemOfAttributeFullWithPrice:"Item {{ item }} of attribute {{ attribute }}, Surcharge {{ price }}",itemOfAttributeFullWithQuantity:"Item {{ item }} of attribute {{ attribute }}, Quantity {{ quantity }}",itemOfAttributeFullWithPriceAndQuantity:"Item {{ item }} of attribute {{ attribute }}, Quantity {{ quantity }}, Surcharge {{ price }}",itemDescription:"Description for item {{ item }}",listbox:"Listbox with {{ count }} values.",valueSurcharge:"Value surcharge",conflictDetected:"Conflict detected! Check the conflicts at top of group list.",conflictsInConfiguration:"There are conflicts in your configuration. Number of conflicts: {{ numberOfConflicts }}, Select for more details.",listOfGroups:"List of groups",inListOfGroups:"You are in the group list",groupName:"Group {{ group }}",groupBack:"You are in a sub-group. Select to go back.",conflictBack:"You are in the conflict solver. Select to go back or select next tabs to solve conflicts.",iconConflict:"Group has conflicts.",iconIncomplete:"Group has required attributes without selected values.",iconComplete:"Group is complete.",iconSubGroup:"Group has a sub-group.",next:"Navigate to next group.",previous:"Navigate to previous group.",showMoreProductInfo:"Show more information for product {{ product }} or continue to configuration.",showLessProductInfo:"Show less information for product {{ product }} or continue to configuration.",productName:"Product Name",productCode:"Product Code",productDescription:"Product description",configurationPage:"You are on the configuration page.",configurationPageLink:"Navigate to configuration  page.",overviewPage:"You are on the overview page. Check attributes and their selected values with reading mode of your screen reader.",overviewPageLink:"Navigate to configuration overview page.",navigateToConflict:"Follow link to get more details on conflict for attribute {{ attribute }}.",numericIntervalStandard:"Enter a value between {{ minValue }} and {{ maxValue }}",numericIntervalStandardOpen:"(Endpoints are not included)",numericIntervalStandardLowerEndpointNotIncluded:"(The lower endpoint is not included)",numericIntervalStandardUpperEndpointNotIncluded:"(The upper endpoint is not included)",numericInfiniteIntervalMinValueIncluded:"Enter a value greater than or equal to {{ value }}",numericInfiniteIntervalMinValue:"Enter a value greater than {{ value }}",numericInfiniteIntervalMaxValueIncluded:"Enter a value less than or equal to {{ value }}",numericInfiniteIntervalMaxValue:"Enter a value less than {{ value }}",numericIntervalSingleValue:"Enter {{ value }}",combinedIntervalsText:"{{ combinedInterval }} or {{ newInterval }}",additionalValue:"You can also enter an additional value.",addToCartPrices:"Base Price {{basePrice}}, Selected Options {{selectedOptions}}, Total Price {{totalPrice}}"}}}}},ic={};var yi=v(2535),ra=v(6506);const bs="productConfiguratorTextfield",oo=["TextfieldConfigurationForm"];function go(){return{featureModules:{[bs]:{cmsComponents:oo}}}}let io=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.x2j)(go)]}),E})();const Si={routing:{routes:{configureTEXTFIELD:{paths:["configure/textfield/:ownerType/entityKey/:entityKey"]},configureOverviewTEXTFIELD:{paths:["configure-overview/textfield/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/textfield/:ownerType/entityKey/:entityKey"]}}}};let wa=(()=>{class E{static forRoot(){return{ngModule:E,providers:[(0,de.i51)(Si)]}}}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[de.TSP.forRoot(),V.S48]}),E})(),Ra=(()=>{class E{static forRoot(){return{ngModule:E}}}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.i51)({layoutSlots:{TextfieldConfigurationTemplate:{slots:["TextfieldConfigContent"]}}})],imports:[Ae.ez,ra.r3,io,wa.forRoot(),B.Bz.forChild([{path:null,component:V.wAB,data:{cxRoute:"configureTEXTFIELD"},canActivate:[V.al$]},{path:null,component:V.wAB,data:{cxRoute:"configureOverviewTEXTFIELD"},canActivate:[V.al$]}])]}),E})(),Ts=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[yi.oQ]:{module:()=>Promise.all([v.e(865),v.e(972)]).then(v.bind(v,6972)).then(W=>W.RulebasedCpqConfiguratorModule)}}}),(0,de.A2H)({i18n:{resources:Ds,chunks:ic}}),(0,de.A2H)({featureModules:{[bs]:{module:()=>v.e(393).then(v.bind(v,8393)).then(W=>W.TextfieldConfiguratorModule)}}}),(0,de.A2H)({featureModules:{[yi.oQ]:{module:()=>v.e(865).then(v.bind(v,2865)).then(W=>W.RulebasedConfiguratorModule)}}})],imports:[yi.SG,yi.Mc,Ra]}),E})();const Oa={en:{bulkPricing:{bulkPricingTable:{quantity:"Quantity",price:"Price",discount:"Discount"}}}},Ii={bulkPricing:["bulkPricingTable"]},Ho="productBulkPricing";function mo(){return{featureModules:{[Ho]:{cmsComponents:["BulkPricingTableComponent"]}}}}let $o=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.x2j)(mo)]}),E})(),wi=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Ho]:{module:()=>v.e(680).then(v.bind(v,6680)).then(W=>W.BulkPricingModule)}}}),(0,de.A2H)({i18n:{resources:Oa,chunks:Ii}})],imports:[$o]}),E})();const vo={en:{productImageZoom:{productImageZoomTrigger:{expand:"Expand image"},productImageZoomDialog:{close:"Close"}}}},Zr={productImageZoom:["productImageZoomTrigger","productImageZoomDialog"]},_o="productImageZoom";function ss(){return{featureModules:{[_o]:{cmsComponents:["ProductImagesComponent"]}}}}let La=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.x2j)(ss)]}),E})(),Pu=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[_o]:{module:()=>v.e(617).then(v.bind(v,9617)).then(W=>W.ProductImageZoomModule)}}}),(0,de.A2H)({i18n:{resources:vo,chunks:Zr}})],imports:[La]}),E})();const xs={en:{productVariants:{productVariants:{style:"Style",selectedStyle:"Selected style",size:"Size",color:"Color",sizeGuideLabel:"Style guide"}}}},Ri={productVariants:["productVariants"]};function Wr(E,W){if(1&E&&(e.TgZ(0,"li"),e._UZ(1,"img"),e.qZA()),2&E){const H=W.$implicit,Le=e.oxw(2);e.xp6(1),e.uIk("src",Le.getVariantThumbnailUrl(H.variantOptionQualifiers),e.LSH)("title",Le.variantNames[H.code])("alt",Le.variantNames[H.code])}}function oa(E,W){if(1&E&&(e.TgZ(0,"ul",1),e.YNc(1,Wr,2,3,"li",2),e.qZA()),2&E){const H=e.oxw();e.xp6(1),e.Q6J("ngForOf",H.variants)}}const zi="productVariants";let Is=(()=>{class E{constructor(H,Le){this.config=H,this.productListItemContext=Le,this.subscriptions=new Or.w,this.ProductListOutlets=V.RVA,this.product$=this.productListItemContext?.product$??Ue.E,this.variantNames={}}ngOnInit(){this.setVariantsNames(),this.subscriptions.add(this.product$.subscribe(H=>{H.variantOptions&&H.variantOptions.length&&(this.variants=H.variantOptions,this.setVariantsNames())}))}setVariantsNames(){this.variants?.forEach(H=>{H.code&&H.variantOptionQualifiers&&(this.variantNames[H.code]=this.getVariantName(H.variantOptionQualifiers)||"")})}getVariantThumbnailUrl(H){const Le=H.find(Ct=>Ct.qualifier===de.zYO.THUMBNAIL);return Le?`${this.config?.backend?.occ?.baseUrl}${Le.image?.url}`:""}getVariantName(H){const Le=H.find(fn=>fn.qualifier===de.zYO.ROLLUP_PROPERTY),Ct=Le?H.find(fn=>fn.qualifier===Le.value):null;return Ct?Ct.value:""}ngOnDestroy(){this.subscriptions.unsubscribe()}}return E.\u0275fac=function(H){return new(H||E)(e.Y36(de.Vri),e.Y36(V.Z6X,8))},E.\u0275cmp=e.Xpm({type:E,selectors:[["cx-variant-style-icons"]],inputs:{variants:"variants"},decls:1,vars:1,consts:[["class","variant-list",4,"ngIf"],[1,"variant-list"],[4,"ngFor","ngForOf"]],template:function(H,Le){1&H&&e.YNc(0,oa,2,1,"ul",0),2&H&&e.Q6J("ngIf",Le.variants&&Le.variants.length)},dependencies:[Ae.sg,Ae.O5],styles:["ul[_ngcontent-%COMP%]{padding:0;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}"],changeDetection:0}),E})(),wo=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[Ae.ez,B.Bz,de.bhT,de.LUR]}),E})();function ia(){return{featureModules:{[zi]:{cmsComponents:["ProductVariantSelectorComponent"]}}}}let ws=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.x2j)(ia),(0,V.qCb)({id:V.RVA.ITEM_DETAILS,position:V.otu.AFTER,component:Is})],imports:[wo]}),E})(),jc=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[zi]:{module:()=>v.e(694).then(v.bind(v,1532)).then(W=>W.ProductVariantsModule)}}}),(0,de.A2H)({i18n:{resources:xs,chunks:Ri}})],imports:[ws]}),E})();var Zc=v(5457);let ac=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Zc.kd]:{module:()=>v.e(479).then(v.bind(v,5479)).then(W=>W.SmartEditModule)}}}),(0,de.A2H)({smartEdit:{allowOrigin:"localhost:9002, *.*.model-t.cc.commerce.ondemand.com:443"}})],imports:[Zc.Vg]}),E})();const sa={en:{storeFinder:{storeFinder:{openUntil:"Open until",closed:"Closed",back:"Back",call:"Call",getDirections:"Get Directions",ariaLabelGetDirections:"Get Directions, this link opens in a new window",ariaLabelCountriesCount:"Stores in {{ count }} countries found",listView:"List View",mapView:"Map View",noStoresFound:"No Stores Found.",storeHours:"Store hours",storeFeatures:"Store features",storeFinder:"Store Finder",storesFound:"{{ count }} store found",storesFound_other:"{{ count }} stores found",fromStoresFound:"from {{ count }} store found",fromStoresFound_other:"from {{ count }} stores found",findStore:"Find store",useMyLocation:"Use my location",viewAllStores:"View all stores",contactUs:"Contact us",searchBox:"Postal code, town or address",backToList:"Back to list",noStoresMessage:"No stores found in database...",geolocationNotEnabled:"Cannot locate nearby stores. Geolocation consent has not been enabled",searchNearestStores:"Search nearest stores",searchBoxLabel:"Enter postal code, town or address"}}}},Ei={storeFinder:["storeFinder"]},Rs={layoutSlots:{StoreFinderPageTemplate:{slots:["MiddleContent","SideContent"]}}},Wi="storeFinder";function as(){return{featureModules:{[Wi]:{cmsComponents:["StoreFinderComponent"]}}}}let aa=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.i51)(Rs),(0,de.x2j)(as)]}),E})(),Ps=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Wi]:{module:()=>v.e(442).then(v.bind(v,2442)).then(W=>W.StoreFinderModule)}}}),(0,de.A2H)({i18n:{resources:sa,chunks:Ei}})],imports:[aa]}),E})(),cc=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275prov=e.Yz7({token:E,factory:function(H){let Le=null;return Le=H?new(H||E):e.LFG(de.DeH),Le},providedIn:"root"}),E})();const Os="personalization",hr={personalization:{enabled:!1,httpHeaderName:{id:"Occ-Personalization-Id",timestamp:"Occ-Personalization-Time"},context:{slotPosition:"PlaceholderContentSlot",componentId:"PersonalizationScriptComponent"}}},$l=[{provide:h.TP,useExisting:(()=>{class E{constructor(H,Le,Ct){this.config=H,this.occEndpoints=Le,this.winRef=Ct,this.enabled=!1,this.PERSONALIZATION_ID_KEY="personalization-id",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.id.toLowerCase(),this.personalizationId=this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_ID_KEY))}intercept(H,Le){return this.enabled?(this.requestHeader&&this.personalizationId&&H.url.includes(this.occEndpoints.getBaseUrl())&&(H=H.clone({setHeaders:{[this.requestHeader]:this.personalizationId}})),Le.handle(H).pipe((0,mt.b)(Ct=>{if(Ct instanceof h.Zn&&this.requestHeader&&Ct.headers.keys().includes(this.requestHeader)){const fn=Ct.headers.get(this.requestHeader);this.personalizationId!==fn&&(this.personalizationId=fn,this.personalizationId&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_ID_KEY,this.personalizationId))}}))):Le.handle(H)}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(cc),e.LFG(de.Lz0),e.LFG(de.X9E))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),multi:!0},{provide:h.TP,useExisting:(()=>{class E{constructor(H,Le,Ct){this.config=H,this.occEndpoints=Le,this.winRef=Ct,this.enabled=!1,this.PERSONALIZATION_TIME_KEY="personalization-time",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.timestamp.toLowerCase(),this.timestamp=this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_TIME_KEY))}intercept(H,Le){return this.enabled?(this.requestHeader&&this.timestamp&&H.url.includes(this.occEndpoints.getBaseUrl())&&(H=H.clone({setHeaders:{[this.requestHeader]:this.timestamp}})),Le.handle(H).pipe((0,mt.b)(Ct=>{if(Ct instanceof h.Zn&&this.requestHeader&&Ct.headers.keys().includes(this.requestHeader)){const fn=Ct.headers.get(this.requestHeader);this.timestamp!==fn&&(this.timestamp=fn,this.timestamp&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_TIME_KEY,this.timestamp))}}))):Le.handle(H)}}return E.\u0275fac=function(H){return new(H||E)(e.LFG(cc),e.LFG(de.Lz0),e.LFG(de.X9E))},E.\u0275prov=e.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),multi:!0}];function Lu(){return{featureModules:{[Os]:{cmsComponents:["PersonalizationScriptComponent"]}}}}let jl=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[...$l,(0,de.i51)(hr),(0,de.x2j)(Lu)]}),E})(),Zl=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[Os]:{module:()=>v.e(26).then(v.bind(v,4026)).then(W=>W.PersonalizationModule)}}})],imports:[jl]}),E})();var ca=v(6054);const Yc={en:{userAccount:{loginForm:{forgotPassword:"Forgot password?",signIn:"Sign In",register:"Register",dontHaveAccount:"Don\u2019t have an account?",guestCheckout:"Guest Checkout",emailAddress:{label:"Email address",placeholder:"Enter email"},password:{label:"Password",placeholder:"Password"},wrongEmailFormat:"This is not a valid email format."},miniLogin:{userGreeting:"Hi, {{name}}",signInRegister:"Sign In / Register"}}}},Jr={userAccount:["loginForm","miniLogin"]},zl={en:{userProfile:{updateEmailForm:{newEmailAddress:{label:"New email address",placeholder:"Enter email"},confirmNewEmailAddress:{label:"Confirm new email address",placeholder:"Enter email"},enterValidEmail:"Please enter a valid email.",bothEmailMustMatch:"Both emails must match",password:{label:"Password",placeholder:"Enter password"},pleaseInputPassword:"Please input password",emailUpdateSuccess:"Success. Please sign in with {{ newUid }}"},register:{confirmPassword:{action:"Confirm password",label:"Confirm password",placeholder:"Confirm Password"},managementInMyAccount:"Management in My Account.",termsAndConditions:"Terms & Conditions",signIn:"I already have an account. Sign In",register:"Register",confirmNewPassword:"Confirm New Password",resetPassword:"Reset Password",createAccount:"Create an account",title:"Title",firstName:{label:"First name",placeholder:"First name"},lastName:{label:"Last name",placeholder:"Last name"},emailAddress:{label:"Email address",placeholder:"Email address"},password:{label:"Password",placeholder:"Password"},newPassword:"New Password",emailMarketing:"Use my personal data to receive e-mail newsletters for marketing campaigns. To change your settings, go to Consent Management in My Account.",confirmThatRead:"I am confirming that I have read and agreed with the",selectTitle:"Select Title",passwordMinRequirements:"Password must be six characters minimum, with one uppercase letter, one number, one symbol",bothPasswordMustMatch:"Both password must match",titleRequired:"Title is required.",postRegisterMessage:"Please log in with provided credentials."},forgottenPassword:{resetPassword:"Reset password",enterEmailAddressAssociatedWithYourAccount:"Enter the email address associated with your account",emailAddress:{label:"Email address",placeholder:"Enter email"},enterValidEmail:"Please enter a valid email.",passwordResetEmailSent:"An email has been sent to you with information on how to reset your password.",passwordResetSuccess:"Success! You can now login using your new password."}}}},lc={userProfile:["updateEmailForm","register","forgottenPassword"]};var jo=v(6538);let Ai=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[De.gu]:{module:()=>Promise.resolve().then(v.bind(v,6054)).then(W=>W.UserAccountModule)}}}),(0,de.A2H)({i18n:{resources:Yc,chunks:Jr}}),(0,de.A2H)({featureModules:{[jo.t5]:{module:()=>v.e(697).then(v.bind(v,8697)).then(W=>W.UserProfileModule)}}}),(0,de.A2H)({i18n:{resources:zl,chunks:lc}})],imports:[De.Jj,jo.Ye,ca.UserAccountModule]}),E})();const ka={en:{cart:{cartDetails:{id:"ID",proceedToCheckout:"Proceed to Checkout",cartName:"Cart #{{code}}"},cartItems:{id:"ID",description:"Description",item:"Item",itemPrice:"Item price",quantity:"Qty",quantityTitle:"The quantity represents the total number of this item in your cart.",total:"Total",actions:"Actions",cartTotal:"Cart total ({{count}} item)",cartTotal_other:"Cart total ({{count}} items)",itemRemoved:"Selected item has been removed. Cart total has been updated.",caption:"Shopping cart contents."},orderCost:{orderSummary:"Order Summary",subtotal:"Subtotal after discounts:",shipping:"Shipping:",estimatedShipping:"Estimated shipping:",discount:"You saved:",salesTax:"Sales Tax:",grossTax:"The order total does not include tax of",grossIncludeTax:"The order total includes tax of",total:"Total:",toBeDetermined:"TBD"},voucher:{coupon:"Have a coupon?",coupon_other:"Coupon codes",couponLabel:"Enter a promo code here",apply:"Apply",placeholder:"Promo code",applyVoucherSuccess:"{{voucherCode}} has been applied.",removeVoucherSuccess:"{{voucherCode}} has been removed.",anchorLabel:"Enter or remove your coupon code",vouchersApplied:"Applied coupons",availableCoupons:"Available coupons",availableCouponsLabel:"You can add these coupons to this order."},saveForLaterItems:{itemTotal:"Saved for later ({{count}} item)",itemTotal_other:"Saved for later ({{count}} items)",cartTitle:"Cart",saveForLater:"Save For Later",moveToCart:"Move To Cart",stock:"Stock",forceInStock:"In Stock"},clearCart:{clearCart:"Clear Cart",clearingCart:"Clearing Cart...",cartClearedSuccessfully:"Active cart cleared successfully.",areYouSureToClearCart:"Are you sure you want to clear this cart?",allItemsWillBeRemoved:"All items in your active cart will be removed."},validation:{cartEntriesChangeDuringCheckout:"During checkout we found problems with your entries. Please review your cart.",cartEntryRemoved:"{{name}} was removed from the cart due to being out of stock.",productOutOfStock:"{{name}} has been removed from the cart due to insufficient stock.",lowStock:"Quantity has reduced to {{quantity}} due to insufficient stock.",reviewConfiguration:"Resolve the issues in the configuration for cart entry first.",pricingError:"Configurator pricing is currently not available. Checkout/quote submission is not possible. Please try again later.",unresolvableIssues:"The product configuration requires additional entries in the back end. As a result, you cannot proceed. Please contact support.",inProgress:"Processing"}}}},b={cart:["cartDetails","cartItems","orderCost","voucher","saveForLaterItems","clearCart","validation"]};let T=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({providers:[(0,de.A2H)({featureModules:{[un.O0]:{module:()=>v.e(537).then(v.bind(v,5537)).then(W=>W.CartBaseModule)}}}),(0,de.A2H)({featureModules:{[un.nw]:{module:()=>v.e(599).then(v.bind(v,599)).then(W=>W.MiniCartModule)}}}),(0,de.A2H)({featureModules:{[un.pl]:{module:()=>v.e(277).then(v.bind(v,1277)).then(W=>W.AddToCartModule)}}}),(0,de.A2H)({i18n:{resources:ka,chunks:b}})],imports:[un.JP]}),E})(),A=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[de.nyr.forRoot(),V.Ixg,V.FLS,V.iqf,V.gJ3,V.LOH,V.sy8,V.wtB,V.Fpw,V.R8M,V.Jv5,V.AG5,V.Hyp,V.wHA,de.zht,de.Y2r,V.rSk,V.z2b,V.F9u,V.lzR,V.v5t,V.T2n,V.Kcf,de.cNt.forRoot(),V._VN,V._x$,de.scg.forRoot(),de.bPT,V.knA,V.FHW,V.fw4,V.F4,V.E7s,V.nKP,V.pvk,V.Sk1,V.tFc,V.zah,V.GZp,we.Jp,X.Tp,pe,de.nWM,oe.FV,V.xRf,V.mUh,we.ym,V.dDJ,de.gLQ.forRoot(),Ai,Zl,Ps,ac,Ts,wi,jc,Pu,mn,li,Ft,Sn,Oo,$,T,I,Mr,Qr,Qt]}),E})(),k=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[A,Ce,V.ncj,V.ncj]}),E})(),Y=(()=>{class E{}return E.\u0275fac=function(H){return new(H||E)},E.\u0275mod=e.oAB({type:E,bootstrap:[G]}),E.\u0275inj=e.cJS({imports:[n.b2.withServerTransition({appId:"serverApp"}),h.JF,Z,w.Aw.forRoot({}),S.sQ.forRoot([]),k,F.Wr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),n.Cu]}),E})();(0,e.G48)(),document.addEventListener("DOMContentLoaded",()=>{n.q6().bootstrapModule(Y).catch(E=>console.error(E))})},8472:function(_e,ie){var h,v=typeof self<"u"?self:this,n=function(){function h(){this.fetch=!1,this.DOMException=v.DOMException}return h.prototype=v,new h}();h=n,function(S){var w_searchParams="URLSearchParams"in h,w_iterable="Symbol"in h&&"iterator"in Symbol,w_blob="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),w_formData="FormData"in h,w_arrayBuffer="ArrayBuffer"in h;if(w_arrayBuffer)var B=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Z=ArrayBuffer.isView||function(re){return re&&B.indexOf(Object.prototype.toString.call(re))>-1};function V(re){if("string"!=typeof re&&(re=String(re)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(re))throw new TypeError("Invalid character in header field name");return re.toLowerCase()}function G(re){return"string"!=typeof re&&(re=String(re)),re}function J(re){var Ie={next:function(){var Ce=re.shift();return{done:void 0===Ce,value:Ce}}};return w_iterable&&(Ie[Symbol.iterator]=function(){return Ie}),Ie}function q(re){this.map={},re instanceof q?re.forEach(function(Ie,Ce){this.append(Ce,Ie)},this):Array.isArray(re)?re.forEach(function(Ie){this.append(Ie[0],Ie[1])},this):re&&Object.getOwnPropertyNames(re).forEach(function(Ie){this.append(Ie,re[Ie])},this)}function ne(re){if(re.bodyUsed)return Promise.reject(new TypeError("Already read"));re.bodyUsed=!0}function ue(re){return new Promise(function(Ie,Ce){re.onload=function(){Ie(re.result)},re.onerror=function(){Ce(re.error)}})}function ae(re){var Ie=new FileReader,Ce=ue(Ie);return Ie.readAsArrayBuffer(re),Ce}function at(re){if(re.slice)return re.slice(0);var Ie=new Uint8Array(re.byteLength);return Ie.set(new Uint8Array(re)),Ie.buffer}function ze(){return this.bodyUsed=!1,this._initBody=function(re){this._bodyInit=re,re?"string"==typeof re?this._bodyText=re:w_blob&&Blob.prototype.isPrototypeOf(re)?this._bodyBlob=re:w_formData&&FormData.prototype.isPrototypeOf(re)?this._bodyFormData=re:w_searchParams&&URLSearchParams.prototype.isPrototypeOf(re)?this._bodyText=re.toString():w_arrayBuffer&&w_blob&&function P(re){return re&&DataView.prototype.isPrototypeOf(re)}(re)?(this._bodyArrayBuffer=at(re.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(re)||Z(re))?this._bodyArrayBuffer=at(re):this._bodyText=re=Object.prototype.toString.call(re):this._bodyText="",this.headers.get("content-type")||("string"==typeof re?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w_searchParams&&URLSearchParams.prototype.isPrototypeOf(re)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w_blob&&(this.blob=function(){var re=ne(this);if(re)return re;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ne(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ae)}),this.text=function(){var re=ne(this);if(re)return re;if(this._bodyBlob)return function Ee(re){var Ie=new FileReader,Ce=ue(Ie);return Ie.readAsText(re),Ce}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Ye(re){for(var Ie=new Uint8Array(re),Ce=new Array(Ie.length),we=0;we<Ie.length;we++)Ce[we]=String.fromCharCode(Ie[we]);return Ce.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w_formData&&(this.formData=function(){return this.text().then(de)}),this.json=function(){return this.text().then(JSON.parse)},this}q.prototype.append=function(re,Ie){re=V(re),Ie=G(Ie);var Ce=this.map[re];this.map[re]=Ce?Ce+", "+Ie:Ie},q.prototype.delete=function(re){delete this.map[V(re)]},q.prototype.get=function(re){return re=V(re),this.has(re)?this.map[re]:null},q.prototype.has=function(re){return this.map.hasOwnProperty(V(re))},q.prototype.set=function(re,Ie){this.map[V(re)]=G(Ie)},q.prototype.forEach=function(re,Ie){for(var Ce in this.map)this.map.hasOwnProperty(Ce)&&re.call(Ie,this.map[Ce],Ce,this)},q.prototype.keys=function(){var re=[];return this.forEach(function(Ie,Ce){re.push(Ce)}),J(re)},q.prototype.values=function(){var re=[];return this.forEach(function(Ie){re.push(Ie)}),J(re)},q.prototype.entries=function(){var re=[];return this.forEach(function(Ie,Ce){re.push([Ce,Ie])}),J(re)},w_iterable&&(q.prototype[Symbol.iterator]=q.prototype.entries);var Ve=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ge(re,Ie){var Ce=(Ie=Ie||{}).body;if(re instanceof ge){if(re.bodyUsed)throw new TypeError("Already read");this.url=re.url,this.credentials=re.credentials,Ie.headers||(this.headers=new q(re.headers)),this.method=re.method,this.mode=re.mode,this.signal=re.signal,!Ce&&null!=re._bodyInit&&(Ce=re._bodyInit,re.bodyUsed=!0)}else this.url=String(re);if(this.credentials=Ie.credentials||this.credentials||"same-origin",(Ie.headers||!this.headers)&&(this.headers=new q(Ie.headers)),this.method=function he(re){var Ie=re.toUpperCase();return Ve.indexOf(Ie)>-1?Ie:re}(Ie.method||this.method||"GET"),this.mode=Ie.mode||this.mode||null,this.signal=Ie.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ce)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ce)}function de(re){var Ie=new FormData;return re.trim().split("&").forEach(function(Ce){if(Ce){var we=Ce.split("="),Ae=we.shift().replace(/\+/g," "),Ge=we.join("=").replace(/\+/g," ");Ie.append(decodeURIComponent(Ae),decodeURIComponent(Ge))}}),Ie}function it(re){var Ie=new q;return re.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(we){var Ae=we.split(":"),Ge=Ae.shift().trim();if(Ge){var ht=Ae.join(":").trim();Ie.append(Ge,ht)}}),Ie}function He(re,Ie){Ie||(Ie={}),this.type="default",this.status=void 0===Ie.status?200:Ie.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Ie?Ie.statusText:"OK",this.headers=new q(Ie.headers),this.url=Ie.url||"",this._initBody(re)}ge.prototype.clone=function(){return new ge(this,{body:this._bodyInit})},ze.call(ge.prototype),ze.call(He.prototype),He.prototype.clone=function(){return new He(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})},He.error=function(){var re=new He(null,{status:0,statusText:""});return re.type="error",re};var Te=[301,302,303,307,308];He.redirect=function(re,Ie){if(-1===Te.indexOf(Ie))throw new RangeError("Invalid status code");return new He(null,{status:Ie,headers:{location:re}})},S.DOMException=h.DOMException;try{new S.DOMException}catch{S.DOMException=function(Ie,Ce){this.message=Ie,this.name=Ce;var we=Error(Ie);this.stack=we.stack},S.DOMException.prototype=Object.create(Error.prototype),S.DOMException.prototype.constructor=S.DOMException}function Me(re,Ie){return new Promise(function(Ce,we){var Ae=new ge(re,Ie);if(Ae.signal&&Ae.signal.aborted)return we(new S.DOMException("Aborted","AbortError"));var Ge=new XMLHttpRequest;function ht(){Ge.abort()}Ge.onload=function(){var Je={status:Ge.status,statusText:Ge.statusText,headers:it(Ge.getAllResponseHeaders()||"")};Je.url="responseURL"in Ge?Ge.responseURL:Je.headers.get("X-Request-URL"),Ce(new He("response"in Ge?Ge.response:Ge.responseText,Je))},Ge.onerror=function(){we(new TypeError("Network request failed"))},Ge.ontimeout=function(){we(new TypeError("Network request failed"))},Ge.onabort=function(){we(new S.DOMException("Aborted","AbortError"))},Ge.open(Ae.method,Ae.url,!0),"include"===Ae.credentials?Ge.withCredentials=!0:"omit"===Ae.credentials&&(Ge.withCredentials=!1),"responseType"in Ge&&w_blob&&(Ge.responseType="blob"),Ae.headers.forEach(function(Je,lt){Ge.setRequestHeader(lt,Je)}),Ae.signal&&(Ae.signal.addEventListener("abort",ht),Ge.onreadystatechange=function(){4===Ge.readyState&&Ae.signal.removeEventListener("abort",ht)}),Ge.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}Me.polyfill=!0,h.fetch||(h.fetch=Me,h.Headers=q,h.Request=ge,h.Response=He),S.Headers=q,S.Request=ge,S.Response=He,S.fetch=Me,Object.defineProperty(S,"__esModule",{value:!0})}({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var e=n;(ie=e.fetch).default=e.fetch,ie.fetch=e.fetch,ie.Headers=e.Headers,ie.Request=e.Request,ie.Response=e.Response,_e.exports=ie},1302:function(_e,ie,v){var n;!function(e,h){var F={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function F(q,ne,ue,ae,Ee){for(var Ye,at,ze,Ve,he,ge,de,it,He,Te,Me,re,Ie;Ee>=64;){for(Ye=ne[0],at=ne[1],ze=ne[2],Ve=ne[3],he=ne[4],ge=ne[5],de=ne[6],it=ne[7],Te=0;Te<16;Te++)q[Te]=(255&ue[Me=ae+4*Te])<<24|(255&ue[Me+1])<<16|(255&ue[Me+2])<<8|255&ue[Me+3];for(Te=16;Te<64;Te++)q[Te]=((re=((He=q[Te-2])>>>17|He<<15)^(He>>>19|He<<13)^He>>>10)+q[Te-7]|0)+((Ie=((He=q[Te-15])>>>7|He<<25)^(He>>>18|He<<14)^He>>>3)+q[Te-16]|0);for(Te=0;Te<64;Te++)re=(((he>>>6|he<<26)^(he>>>11|he<<21)^(he>>>25|he<<7))+(he&ge^~he&de)|0)+(it+(h[Te]+q[Te]|0)|0)|0,Ie=((Ye>>>2|Ye<<30)^(Ye>>>13|Ye<<19)^(Ye>>>22|Ye<<10))+(Ye&at^Ye&ze^at&ze)|0,it=de,de=ge,ge=he,he=Ve+re|0,Ve=ze,ze=at,at=Ye,Ye=re+Ie|0;ne[0]+=Ye,ne[1]+=at,ne[2]+=ze,ne[3]+=Ve,ne[4]+=he,ne[5]+=ge,ne[6]+=de,ne[7]+=it,ae+=64,Ee-=64}return ae}var S=function(){function q(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return q.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},q.prototype.clean=function(){for(var ne=0;ne<this.buffer.length;ne++)this.buffer[ne]=0;for(ne=0;ne<this.temp.length;ne++)this.temp[ne]=0;this.reset()},q.prototype.update=function(ne,ue){if(void 0===ue&&(ue=ne.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var ae=0;if(this.bytesHashed+=ue,this.bufferLength>0){for(;this.bufferLength<64&&ue>0;)this.buffer[this.bufferLength++]=ne[ae++],ue--;64===this.bufferLength&&(F(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(ue>=64&&(ae=F(this.temp,this.state,ne,ae,ue),ue%=64);ue>0;)this.buffer[this.bufferLength++]=ne[ae++],ue--;return this},q.prototype.finish=function(ne){if(!this.finished){var ue=this.bytesHashed,ae=this.bufferLength,Ee=ue/536870912|0,Ye=ue<<3,at=ue%64<56?64:128;this.buffer[ae]=128;for(var ze=ae+1;ze<at-8;ze++)this.buffer[ze]=0;this.buffer[at-8]=Ee>>>24&255,this.buffer[at-7]=Ee>>>16&255,this.buffer[at-6]=Ee>>>8&255,this.buffer[at-5]=Ee>>>0&255,this.buffer[at-4]=Ye>>>24&255,this.buffer[at-3]=Ye>>>16&255,this.buffer[at-2]=Ye>>>8&255,this.buffer[at-1]=Ye>>>0&255,F(this.temp,this.state,this.buffer,0,at),this.finished=!0}for(ze=0;ze<8;ze++)ne[4*ze+0]=this.state[ze]>>>24&255,ne[4*ze+1]=this.state[ze]>>>16&255,ne[4*ze+2]=this.state[ze]>>>8&255,ne[4*ze+3]=this.state[ze]>>>0&255;return this},q.prototype.digest=function(){var ne=new Uint8Array(this.digestLength);return this.finish(ne),ne},q.prototype._saveState=function(ne){for(var ue=0;ue<this.state.length;ue++)ne[ue]=this.state[ue]},q.prototype._restoreState=function(ne,ue){for(var ae=0;ae<this.state.length;ae++)this.state[ae]=ne[ae];this.bytesHashed=ue,this.finished=!1,this.bufferLength=0},q}();e.Hash=S;var w=function(){function q(ne){this.inner=new S,this.outer=new S,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var ue=new Uint8Array(this.blockSize);if(ne.length>this.blockSize)(new S).update(ne).finish(ue).clean();else for(var ae=0;ae<ne.length;ae++)ue[ae]=ne[ae];for(ae=0;ae<ue.length;ae++)ue[ae]^=54;for(this.inner.update(ue),ae=0;ae<ue.length;ae++)ue[ae]^=106;for(this.outer.update(ue),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),ae=0;ae<ue.length;ae++)ue[ae]=0}return q.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},q.prototype.clean=function(){for(var ne=0;ne<this.istate.length;ne++)this.ostate[ne]=this.istate[ne]=0;this.inner.clean(),this.outer.clean()},q.prototype.update=function(ne){return this.inner.update(ne),this},q.prototype.finish=function(ne){return this.outer.finished?this.outer.finish(ne):(this.inner.finish(ne),this.outer.update(ne,this.digestLength).finish(ne)),this},q.prototype.digest=function(){var ne=new Uint8Array(this.digestLength);return this.finish(ne),ne},q}();function P(q){var ne=(new S).update(q),ue=ne.digest();return ne.clean(),ue}function B(q,ne){var ue=new w(q).update(ne),ae=ue.digest();return ue.clean(),ae}function Z(q,ne,ue,ae){var Ee=ae[0];if(0===Ee)throw new Error("hkdf: cannot expand more");ne.reset(),Ee>1&&ne.update(q),ue&&ne.update(ue),ne.update(ae),ne.finish(q),ae[0]++}e.HMAC=w,e.hash=P,e.default=P,e.hmac=B;var V=new Uint8Array(e.digestLength);e.hkdf=function G(q,ne,ue,ae){void 0===ne&&(ne=V),void 0===ae&&(ae=32);for(var Ee=new Uint8Array([1]),Ye=B(ne,q),at=new w(Ye),ze=new Uint8Array(at.digestLength),Ve=ze.length,he=new Uint8Array(ae),ge=0;ge<ae;ge++)Ve===ze.length&&(Z(ze,at,ue,Ee),Ve=0),he[ge]=ze[Ve++];return at.clean(),ze.fill(0),Ee.fill(0),he},e.pbkdf2=function J(q,ne,ue,ae){for(var Ee=new w(q),Ye=Ee.digestLength,at=new Uint8Array(4),ze=new Uint8Array(Ye),Ve=new Uint8Array(Ye),he=new Uint8Array(ae),ge=0;ge*Ye<ae;ge++){var de=ge+1;at[0]=de>>>24&255,at[1]=de>>>16&255,at[2]=de>>>8&255,at[3]=de>>>0&255,Ee.reset(),Ee.update(ne),Ee.update(at),Ee.finish(Ve);for(var it=0;it<Ye;it++)ze[it]=Ve[it];for(it=2;it<=ue;it++){Ee.reset(),Ee.update(Ve).finish(Ve);for(var He=0;He<Ye;He++)ze[He]^=Ve[He]}for(it=0;it<Ye&&ge*Ye+it<ae;it++)he[ge*Ye+it]=ze[it]}for(ge=0;ge<Ye;ge++)ze[ge]=Ve[ge]=0;for(ge=0;ge<4;ge++)at[ge]=0;return Ee.clean(),he}}(F);var S=F.default;for(var w in F)S[w]=F[w];"object"==typeof _e.exports?_e.exports=S:void 0!==(n=function(){return S}.call(F,v,F,_e))&&(_e.exports=n)}()},591:(_e,ie,v)=>{"use strict";v.d(ie,{X:()=>h});var n=v(8929),e=v(5279);class h extends n.xQ{constructor(S){super(),this._value=S}get value(){return this.getValue()}_subscribe(S){const w=super._subscribe(S);return w&&!w.closed&&S.next(this._value),w}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new e.N;return this._value}next(S){super.next(this._value=S)}}},9312:(_e,ie,v)=>{"use strict";v.d(ie,{P:()=>S});var n=v(8896),e=v(1086),h=v(1737);class S{constructor(P,B,Z){this.kind=P,this.value=B,this.error=Z,this.hasValue="N"===P}observe(P){switch(this.kind){case"N":return P.next&&P.next(this.value);case"E":return P.error&&P.error(this.error);case"C":return P.complete&&P.complete()}}do(P,B,Z){switch(this.kind){case"N":return P&&P(this.value);case"E":return B&&B(this.error);case"C":return Z&&Z()}}accept(P,B,Z){return P&&"function"==typeof P.next?this.observe(P):this.do(P,B,Z)}toObservable(){switch(this.kind){case"N":return(0,e.of)(this.value);case"E":return(0,h._)(this.error);case"C":return(0,n.c)()}throw new Error("unexpected notification kind value")}static createNext(P){return typeof P<"u"?new S("N",P):S.undefinedValueNotification}static createError(P){return new S("E",void 0,P)}static createComplete(){return S.completeNotification}}S.completeNotification=new S("C"),S.undefinedValueNotification=new S("N",void 0)},6498:(_e,ie,v)=>{"use strict";v.d(ie,{y:()=>Z});var n=v(3489),h=v(7668),F=v(3292),w=v(3821),P=v(4843),B=v(2830);let Z=(()=>{class G{constructor(q){this._isScalar=!1,q&&(this._subscribe=q)}lift(q){const ne=new G;return ne.source=this,ne.operator=q,ne}subscribe(q,ne,ue){const{operator:ae}=this,Ee=function S(G,J,q){if(G){if(G instanceof n.L)return G;if(G[h.b])return G[h.b]()}return G||J||q?new n.L(G,J,q):new n.L(F.c)}(q,ne,ue);if(Ee.add(ae?ae.call(Ee,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),B.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(q){try{return this._subscribe(q)}catch(ne){B.v.useDeprecatedSynchronousErrorHandling&&(q.syncErrorThrown=!0,q.syncErrorValue=ne),function e(G){for(;G;){const{closed:J,destination:q,isStopped:ne}=G;if(J||ne)return!1;G=q&&q instanceof n.L?q:null}return!0}(q)?q.error(ne):console.warn(ne)}}forEach(q,ne){return new(ne=V(ne))((ue,ae)=>{let Ee;Ee=this.subscribe(Ye=>{try{q(Ye)}catch(at){ae(at),Ee&&Ee.unsubscribe()}},ae,ue)})}_subscribe(q){const{source:ne}=this;return ne&&ne.subscribe(q)}[w.L](){return this}pipe(...q){return 0===q.length?this:(0,P.U)(q)(this)}toPromise(q){return new(q=V(q))((ne,ue)=>{let ae;this.subscribe(Ee=>ae=Ee,Ee=>ue(Ee),()=>ne(ae))})}}return G.create=J=>new G(J),G})();function V(G){if(G||(G=B.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},3292:(_e,ie,v)=>{"use strict";v.d(ie,{c:()=>h});var n=v(2830),e=v(2782);const h={closed:!0,next(F){},error(F){if(n.v.useDeprecatedSynchronousErrorHandling)throw F;(0,e.z)(F)},complete(){}}},826:(_e,ie,v)=>{"use strict";v.d(ie,{L:()=>e});var n=v(3489);class e extends n.L{notifyNext(F,S,w,P,B){this.destination.next(S)}notifyError(F,S){this.destination.error(F)}notifyComplete(F){this.destination.complete()}}},839:(_e,ie,v)=>{"use strict";v.d(ie,{t:()=>P});var n=v(8929),e=v(341),h=v(2654),F=v(7770),S=v(5279),w=v(5283);class P extends n.xQ{constructor(V=Number.POSITIVE_INFINITY,G=Number.POSITIVE_INFINITY,J){super(),this.scheduler=J,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=V<1?1:V,this._windowTime=G<1?1:G,G===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(V){if(!this.isStopped){const G=this._events;G.push(V),G.length>this._bufferSize&&G.shift()}super.next(V)}nextTimeWindow(V){this.isStopped||(this._events.push(new B(this._getNow(),V)),this._trimBufferThenGetEvents()),super.next(V)}_subscribe(V){const G=this._infiniteTimeWindow,J=G?this._events:this._trimBufferThenGetEvents(),q=this.scheduler,ne=J.length;let ue;if(this.closed)throw new S.N;if(this.isStopped||this.hasError?ue=h.w.EMPTY:(this.observers.push(V),ue=new w.W(this,V)),q&&V.add(V=new F.ht(V,q)),G)for(let ae=0;ae<ne&&!V.closed;ae++)V.next(J[ae]);else for(let ae=0;ae<ne&&!V.closed;ae++)V.next(J[ae].value);return this.hasError?V.error(this.thrownError):this.isStopped&&V.complete(),ue}_getNow(){return(this.scheduler||e.c).now()}_trimBufferThenGetEvents(){const V=this._getNow(),G=this._bufferSize,J=this._windowTime,q=this._events,ne=q.length;let ue=0;for(;ue<ne&&!(V-q[ue].time<J);)ue++;return ne>G&&(ue=Math.max(ue,ne-G)),ue>0&&q.splice(0,ue),q}}class B{constructor(V,G){this.time=V,this.value=G}}},8929:(_e,ie,v)=>{"use strict";v.d(ie,{Yc:()=>P,xQ:()=>B});var n=v(6498),e=v(3489),h=v(2654),F=v(5279),S=v(5283),w=v(7668);class P extends e.L{constructor(G){super(G),this.destination=G}}let B=(()=>{class V extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[w.b](){return new P(this)}lift(J){const q=new Z(this,this);return q.operator=J,q}next(J){if(this.closed)throw new F.N;if(!this.isStopped){const{observers:q}=this,ne=q.length,ue=q.slice();for(let ae=0;ae<ne;ae++)ue[ae].next(J)}}error(J){if(this.closed)throw new F.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:q}=this,ne=q.length,ue=q.slice();for(let ae=0;ae<ne;ae++)ue[ae].error(J);this.observers.length=0}complete(){if(this.closed)throw new F.N;this.isStopped=!0;const{observers:J}=this,q=J.length,ne=J.slice();for(let ue=0;ue<q;ue++)ne[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new F.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new F.N;return this.hasError?(J.error(this.thrownError),h.w.EMPTY):this.isStopped?(J.complete(),h.w.EMPTY):(this.observers.push(J),new S.W(this,J))}asObservable(){const J=new n.y;return J.source=this,J}}return V.create=(G,J)=>new Z(G,J),V})();class Z extends B{constructor(G,J){super(),this.destination=G,this.source=J}next(G){const{destination:J}=this;J&&J.next&&J.next(G)}error(G){const{destination:J}=this;J&&J.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:J}=this;return J?this.source.subscribe(G):h.w.EMPTY}}},5283:(_e,ie,v)=>{"use strict";v.d(ie,{W:()=>e});var n=v(2654);class e extends n.w{constructor(F,S){super(),this.subject=F,this.subscriber=S,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const F=this.subject,S=F.observers;if(this.subject=null,!S||0===S.length||F.isStopped||F.closed)return;const w=S.indexOf(this.subscriber);-1!==w&&S.splice(w,1)}}},3489:(_e,ie,v)=>{"use strict";v.d(ie,{L:()=>P});var n=v(7043),e=v(3292),h=v(2654),F=v(7668),S=v(2830),w=v(2782);class P extends h.w{constructor(V,G,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=e.c;break;case 1:if(!V){this.destination=e.c;break}if("object"==typeof V){V instanceof P?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new B(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new B(this,V,G,J)}}[F.b](){return this}static create(V,G,J){const q=new P(V,G,J);return q.syncErrorThrowable=!1,q}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class B extends P{constructor(V,G,J,q){super(),this._parentSubscriber=V;let ne,ue=this;(0,n.m)(G)?ne=G:G&&(ne=G.next,J=G.error,q=G.complete,G!==e.c&&(ue=Object.create(G),(0,n.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=ne,this._error=J,this._complete=q}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;S.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:J}=S.v;if(this._error)J&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(G.syncErrorThrowable)J?(G.syncErrorValue=V,G.syncErrorThrown=!0):(0,w.z)(V),this.unsubscribe();else{if(this.unsubscribe(),J)throw V;(0,w.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const G=()=>this._complete.call(this._context);S.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,G){try{V.call(this._context,G)}catch(J){if(this.unsubscribe(),S.v.useDeprecatedSynchronousErrorHandling)throw J;(0,w.z)(J)}}__tryOrSetError(V,G,J){if(!S.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,J)}catch(q){return S.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=q,V.syncErrorThrown=!0,!0):((0,w.z)(q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(_e,ie,v)=>{"use strict";v.d(ie,{w:()=>w});var n=v(6688),e=v(7830),h=v(7043);const S=(()=>{function B(Z){return Error.call(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((V,G)=>`${G+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z,this}return B.prototype=Object.create(Error.prototype),B})();class w{constructor(Z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Z&&(this._ctorUnsubscribe=!0,this._unsubscribe=Z)}unsubscribe(){let Z;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:G,_unsubscribe:J,_subscriptions:q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof w)V.remove(this);else if(null!==V)for(let ne=0;ne<V.length;++ne)V[ne].remove(this);if((0,h.m)(J)){G&&(this._unsubscribe=void 0);try{J.call(this)}catch(ne){Z=ne instanceof S?P(ne.errors):[ne]}}if((0,n.k)(q)){let ne=-1,ue=q.length;for(;++ne<ue;){const ae=q[ne];if((0,e.K)(ae))try{ae.unsubscribe()}catch(Ee){Z=Z||[],Ee instanceof S?Z=Z.concat(P(Ee.errors)):Z.push(Ee)}}}if(Z)throw new S(Z)}add(Z){let V=Z;if(!Z)return w.EMPTY;switch(typeof Z){case"function":V=new w(Z);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof w)){const q=V;V=new w,V._subscriptions=[q]}break;default:throw new Error("unrecognized teardown "+Z+" added to Subscription.")}let{_parentOrParents:G}=V;if(null===G)V._parentOrParents=this;else if(G instanceof w){if(G===this)return V;V._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return V;G.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[V]:J.push(V),V}remove(Z){const V=this._subscriptions;if(V){const G=V.indexOf(Z);-1!==G&&V.splice(G,1)}}}var B;function P(B){return B.reduce((Z,V)=>Z.concat(V instanceof S?V.errors:V),[])}w.EMPTY=((B=new w).closed=!0,B)},2830:(_e,ie,v)=>{"use strict";v.d(ie,{v:()=>e});let n=!1;const e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(h){if(h){const F=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+F.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=h},get useDeprecatedSynchronousErrorHandling(){return n}}},1177:(_e,ie,v)=>{"use strict";v.d(ie,{Ds:()=>w,IY:()=>F,ft:()=>B});var n=v(3489),e=v(6498),h=v(9249);class F extends n.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class w extends n.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function B(Z,V){if(V.closed)return;if(Z instanceof e.y)return Z.subscribe(V);let G;try{G=(0,h.s)(Z)(V)}catch(J){V.error(J)}return G}},1762:(_e,ie,v)=>{"use strict";v.d(ie,{N:()=>w,c:()=>S});var n=v(8929),e=v(6498),h=v(2654),F=v(4327);class S extends e.y{constructor(G,J){super(),this.source=G,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new h.w,G.add(this.source.subscribe(new P(this.getSubject(),this))),G.closed&&(this._connection=null,G=h.w.EMPTY)),G}refCount(){return(0,F.x)()(this)}}const w=(()=>{const V=S.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class P extends n.Yc{constructor(G,J){super(G),this.connectable=J}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const J=G._connection;G._refCount=0,G._subject=null,G._connection=null,J&&J.unsubscribe()}}}},6053:(_e,ie,v)=>{"use strict";v.d(ie,{aj:()=>P});var n=v(2866),e=v(6688),h=v(826),F=v(448),S=v(3009);const w={};function P(...V){let G,J;return(0,n.K)(V[V.length-1])&&(J=V.pop()),"function"==typeof V[V.length-1]&&(G=V.pop()),1===V.length&&(0,e.k)(V[0])&&(V=V[0]),(0,S.n)(V,J).lift(new B(G))}class B{constructor(G){this.resultSelector=G}call(G,J){return J.subscribe(new Z(G,this.resultSelector))}}class Z extends h.L{constructor(G,J){super(G),this.resultSelector=J,this.active=0,this.values=[],this.observables=[]}_next(G){this.values.push(w),this.observables.push(G)}_complete(){const G=this.observables,J=G.length;if(0===J)this.destination.complete();else{this.active=J,this.toRespond=J;for(let q=0;q<J;q++)this.add((0,F.D)(this,G[q],void 0,q))}}notifyComplete(G){0==(this.active-=1)&&this.destination.complete()}notifyNext(G,J,q){const ne=this.values,ae=this.toRespond?ne[q]===w?--this.toRespond:this.toRespond:0;ne[q]=J,0===ae&&(this.resultSelector?this._tryResultSelector(ne):this.destination.next(ne.slice()))}_tryResultSelector(G){let J;try{J=this.resultSelector.apply(this,G)}catch(q){return void this.destination.error(q)}this.destination.next(J)}}},1221:(_e,ie,v)=>{"use strict";v.d(ie,{z:()=>F});var n=v(1086),e=v(9146);function F(...S){return function h(){return(0,e.J)(1)}()((0,n.of)(...S))}},8514:(_e,ie,v)=>{"use strict";v.d(ie,{P:()=>F});var n=v(6498),e=v(5254),h=v(8896);function F(S){return new n.y(w=>{let P;try{P=S()}catch(Z){return void w.error(Z)}return(P?(0,e.D)(P):(0,h.c)()).subscribe(w)})}},8896:(_e,ie,v)=>{"use strict";v.d(ie,{E:()=>e,c:()=>h});var n=v(6498);const e=new n.y(S=>S.complete());function h(S){return S?function F(S){return new n.y(w=>S.schedule(()=>w.complete()))}(S):e}},567:(_e,ie,v)=>{"use strict";v.d(ie,{D:()=>w});var n=v(6498),e=v(6688),h=v(4850),F=v(7830),S=v(5254);function w(...B){if(1===B.length){const Z=B[0];if((0,e.k)(Z))return P(Z,null);if((0,F.K)(Z)&&Object.getPrototypeOf(Z)===Object.prototype){const V=Object.keys(Z);return P(V.map(G=>Z[G]),V)}}if("function"==typeof B[B.length-1]){const Z=B.pop();return P(B=1===B.length&&(0,e.k)(B[0])?B[0]:B,null).pipe((0,h.U)(V=>Z(...V)))}return P(B,null)}function P(B,Z){return new n.y(V=>{const G=B.length;if(0===G)return void V.complete();const J=new Array(G);let q=0,ne=0;for(let ue=0;ue<G;ue++){const ae=(0,S.D)(B[ue]);let Ee=!1;V.add(ae.subscribe({next:Ye=>{Ee||(Ee=!0,ne++),J[ue]=Ye},error:Ye=>V.error(Ye),complete:()=>{q++,(q===G||!Ee)&&(ne===G&&V.next(Z?Z.reduce((Ye,at,ze)=>(Ye[at]=J[ze],Ye),{}):J),V.complete())}}))}})}},5254:(_e,ie,v)=>{"use strict";v.d(ie,{D:()=>ue});var n=v(6498),e=v(9249),h=v(2654),F=v(3821),P=v(6454),B=v(5430),G=v(8955),J=v(8515);function ue(ae,Ee){return Ee?function ne(ae,Ee){if(null!=ae){if(function V(ae){return ae&&"function"==typeof ae[F.L]}(ae))return function S(ae,Ee){return new n.y(Ye=>{const at=new h.w;return at.add(Ee.schedule(()=>{const ze=ae[F.L]();at.add(ze.subscribe({next(Ve){at.add(Ee.schedule(()=>Ye.next(Ve)))},error(Ve){at.add(Ee.schedule(()=>Ye.error(Ve)))},complete(){at.add(Ee.schedule(()=>Ye.complete()))}}))})),at})}(ae,Ee);if((0,G.t)(ae))return function w(ae,Ee){return new n.y(Ye=>{const at=new h.w;return at.add(Ee.schedule(()=>ae.then(ze=>{at.add(Ee.schedule(()=>{Ye.next(ze),at.add(Ee.schedule(()=>Ye.complete()))}))},ze=>{at.add(Ee.schedule(()=>Ye.error(ze)))}))),at})}(ae,Ee);if((0,J.z)(ae))return(0,P.r)(ae,Ee);if(function q(ae){return ae&&"function"==typeof ae[B.hZ]}(ae)||"string"==typeof ae)return function Z(ae,Ee){if(!ae)throw new Error("Iterable cannot be null");return new n.y(Ye=>{const at=new h.w;let ze;return at.add(()=>{ze&&"function"==typeof ze.return&&ze.return()}),at.add(Ee.schedule(()=>{ze=ae[B.hZ](),at.add(Ee.schedule(function(){if(Ye.closed)return;let Ve,he;try{const ge=ze.next();Ve=ge.value,he=ge.done}catch(ge){return void Ye.error(ge)}he?Ye.complete():(Ye.next(Ve),this.schedule())}))})),at})}(ae,Ee)}throw new TypeError((null!==ae&&typeof ae||ae)+" is not observable")}(ae,Ee):ae instanceof n.y?ae:new n.y((0,e.s)(ae))}},3009:(_e,ie,v)=>{"use strict";v.d(ie,{n:()=>F});var n=v(6498),e=v(3650),h=v(6454);function F(S,w){return w?(0,h.r)(S,w):new n.y((0,e.V)(S))}},3753:(_e,ie,v)=>{"use strict";v.d(ie,{R:()=>w});var n=v(6498),e=v(6688),h=v(7043),F=v(4850);function w(G,J,q,ne){return(0,h.m)(q)&&(ne=q,q=void 0),ne?w(G,J,q).pipe((0,F.U)(ue=>(0,e.k)(ue)?ne(...ue):ne(ue))):new n.y(ue=>{P(G,J,function ae(Ee){ue.next(arguments.length>1?Array.prototype.slice.call(arguments):Ee)},ue,q)})}function P(G,J,q,ne,ue){let ae;if(function V(G){return G&&"function"==typeof G.addEventListener&&"function"==typeof G.removeEventListener}(G)){const Ee=G;G.addEventListener(J,q,ue),ae=()=>Ee.removeEventListener(J,q,ue)}else if(function Z(G){return G&&"function"==typeof G.on&&"function"==typeof G.off}(G)){const Ee=G;G.on(J,q),ae=()=>Ee.off(J,q)}else if(function B(G){return G&&"function"==typeof G.addListener&&"function"==typeof G.removeListener}(G)){const Ee=G;G.addListener(J,q),ae=()=>Ee.removeListener(J,q)}else{if(!G||!G.length)throw new TypeError("Invalid event target");for(let Ee=0,Ye=G.length;Ee<Ye;Ee++)P(G[Ee],J,q,ne,ue)}ne.add(ae)}},6787:(_e,ie,v)=>{"use strict";v.d(ie,{T:()=>S});var n=v(6498),e=v(2866),h=v(9146),F=v(3009);function S(...w){let P=Number.POSITIVE_INFINITY,B=null,Z=w[w.length-1];return(0,e.K)(Z)?(B=w.pop(),w.length>1&&"number"==typeof w[w.length-1]&&(P=w.pop())):"number"==typeof Z&&(P=w.pop()),null===B&&1===w.length&&w[0]instanceof n.y?w[0]:(0,h.J)(P)((0,F.n)(w,B))}},1086:(_e,ie,v)=>{"use strict";v.d(ie,{of:()=>F});var n=v(2866),e=v(3009),h=v(6454);function F(...S){let w=S[S.length-1];return(0,n.K)(w)?(S.pop(),(0,h.r)(S,w)):(0,e.n)(S)}},1946:(_e,ie,v)=>{"use strict";v.d(ie,{S3:()=>S});var n=v(6688),e=v(3009),h=v(826),F=v(448);function S(...B){if(1===B.length){if(!(0,n.k)(B[0]))return B[0];B=B[0]}return(0,e.n)(B,void 0).lift(new w)}class w{call(Z,V){return V.subscribe(new P(Z))}}class P extends h.L{constructor(Z){super(Z),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(Z){this.observables.push(Z)}_complete(){const Z=this.observables,V=Z.length;if(0===V)this.destination.complete();else{for(let G=0;G<V&&!this.hasFirst;G++){const q=(0,F.D)(this,Z[G],void 0,G);this.subscriptions&&this.subscriptions.push(q),this.add(q)}this.observables=null}}notifyNext(Z,V,G){if(!this.hasFirst){this.hasFirst=!0;for(let J=0;J<this.subscriptions.length;J++)if(J!==G){let q=this.subscriptions[J];q.unsubscribe(),this.remove(q)}this.subscriptions=null}this.destination.next(V)}}},1737:(_e,ie,v)=>{"use strict";v.d(ie,{_:()=>e});var n=v(6498);function e(F,S){return new n.y(S?w=>S.schedule(h,0,{error:F,subscriber:w}):w=>w.error(F))}function h({error:F,subscriber:S}){S.error(F)}},8723:(_e,ie,v)=>{"use strict";v.d(ie,{H:()=>S});var n=v(6498),e=v(353),h=v(4241),F=v(2866);function S(P=0,B,Z){let V=-1;return(0,h.k)(B)?V=Number(B)<1?1:Number(B):(0,F.K)(B)&&(Z=B),(0,F.K)(Z)||(Z=e.P),new n.y(G=>{const J=(0,h.k)(P)?P:+P-Z.now();return Z.schedule(w,J,{index:0,period:V,subscriber:G})})}function w(P){const{index:B,period:Z,subscriber:V}=P;if(V.next(B),!V.closed){if(-1===Z)return V.complete();P.index=B+1,this.schedule(P,Z)}}},5409:(_e,ie,v)=>{"use strict";v.d(ie,{g:()=>F});var n=v(6498),e=v(5254),h=v(8896);function F(S,w){return new n.y(P=>{let B,Z;try{B=S()}catch(J){return void P.error(J)}try{Z=w(B)}catch(J){return void P.error(J)}const G=(Z?(0,e.D)(Z):h.E).subscribe(P);return()=>{G.unsubscribe(),B&&B.unsubscribe()}})}},384:(_e,ie,v)=>{"use strict";v.d(ie,{U:()=>e});var n=v(1177);function e(S){return function(P){return P.lift(new h(S))}}class h{constructor(w){this.durationSelector=w}call(w,P){return P.subscribe(new F(w,this.durationSelector))}}class F extends n.Ds{constructor(w,P){super(w),this.durationSelector=P,this.hasValue=!1}_next(w){if(this.value=w,this.hasValue=!0,!this.throttled){let P;try{const{durationSelector:Z}=this;P=Z(w)}catch(Z){return this.destination.error(Z)}const B=(0,n.ft)(P,new n.IY(this));!B||B.closed?this.clearThrottle():this.add(this.throttled=B)}}clearThrottle(){const{value:w,hasValue:P,throttled:B}=this;B&&(this.remove(B),this.throttled=void 0,B.unsubscribe()),P&&(this.value=void 0,this.hasValue=!1,this.destination.next(w))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},7568:(_e,ie,v)=>{"use strict";v.d(ie,{e:()=>F});var n=v(353),e=v(384),h=v(8723);function F(S,w=n.P){return(0,e.U)(()=>(0,h.H)(S,w))}},7221:(_e,ie,v)=>{"use strict";v.d(ie,{K:()=>e});var n=v(1177);function e(S){return function(P){const B=new h(S),Z=P.lift(B);return B.caught=Z}}class h{constructor(w){this.selector=w}call(w,P){return P.subscribe(new F(w,this.selector,this.caught))}}class F extends n.Ds{constructor(w,P,B){super(w),this.selector=P,this.caught=B}error(w){if(!this.isStopped){let P;try{P=this.selector(w,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const B=new n.IY(this);this.add(B);const Z=(0,n.ft)(P,B);Z!==B&&this.add(Z)}}}},1406:(_e,ie,v)=>{"use strict";v.d(ie,{b:()=>e});var n=v(1709);function e(h,F){return(0,n.zg)(h,F,1)}},8849:(_e,ie,v)=>{"use strict";v.d(ie,{D:()=>e});var n=v(1177);function e(S){return w=>w.lift(new h(S))}class h{constructor(w){this.durationSelector=w}call(w,P){return P.subscribe(new F(w,this.durationSelector))}}class F extends n.Ds{constructor(w,P){super(w),this.durationSelector=P,this.hasValue=!1}_next(w){try{const P=this.durationSelector.call(this,w);P&&this._tryNext(w,P)}catch(P){this.destination.error(P)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(w,P){let B=this.durationSubscription;this.value=w,this.hasValue=!0,B&&(B.unsubscribe(),this.remove(B)),B=(0,n.ft)(P,new n.IY(this)),B&&!B.closed&&this.add(this.durationSubscription=B)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const w=this.value,P=this.durationSubscription;P&&(this.durationSubscription=void 0,P.unsubscribe(),this.remove(P)),this.value=void 0,this.hasValue=!1,super._next(w)}}}},13:(_e,ie,v)=>{"use strict";v.d(ie,{b:()=>h});var n=v(3489),e=v(353);function h(P,B=e.P){return Z=>Z.lift(new F(P,B))}class F{constructor(B,Z){this.dueTime=B,this.scheduler=Z}call(B,Z){return Z.subscribe(new S(B,this.dueTime,this.scheduler))}}class S extends n.L{constructor(B,Z,V){super(B),this.dueTime=Z,this.scheduler=V,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(B){this.clearDebounce(),this.lastValue=B,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:B}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(B)}}clearDebounce(){const B=this.debouncedSubscription;null!==B&&(this.remove(B),B.unsubscribe(),this.debouncedSubscription=null)}}function w(P){P.debouncedNext()}},7314:(_e,ie,v)=>{"use strict";v.d(ie,{d:()=>e});var n=v(3489);function e(S=null){return w=>w.lift(new h(S))}class h{constructor(w){this.defaultValue=w}call(w,P){return P.subscribe(new F(w,this.defaultValue))}}class F extends n.L{constructor(w,P){super(w),this.defaultValue=P,this.isEmpty=!0}_next(w){this.isEmpty=!1,this.destination.next(w)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(_e,ie,v)=>{"use strict";v.d(ie,{g:()=>S});var n=v(353),e=v(2697),h=v(3489),F=v(9312);function S(Z,V=n.P){const J=(0,e.J)(Z)?+Z-V.now():Math.abs(Z);return q=>q.lift(new w(J,V))}class w{constructor(V,G){this.delay=V,this.scheduler=G}call(V,G){return G.subscribe(new P(V,this.delay,this.scheduler))}}class P extends h.L{constructor(V,G,J){super(V),this.delay=G,this.scheduler=J,this.queue=[],this.active=!1,this.errored=!1}static dispatch(V){const G=V.source,J=G.queue,q=V.scheduler,ne=V.destination;for(;J.length>0&&J[0].time-q.now()<=0;)J.shift().notification.observe(ne);if(J.length>0){const ue=Math.max(0,J[0].time-q.now());this.schedule(V,ue)}else this.unsubscribe(),G.active=!1}_schedule(V){this.active=!0,this.destination.add(V.schedule(P.dispatch,this.delay,{source:this,destination:this.destination,scheduler:V}))}scheduleNotification(V){if(!0===this.errored)return;const G=this.scheduler,J=new B(G.now()+this.delay,V);this.queue.push(J),!1===this.active&&this._schedule(G)}_next(V){this.scheduleNotification(F.P.createNext(V))}_error(V){this.errored=!0,this.queue=[],this.destination.error(V),this.unsubscribe()}_complete(){this.scheduleNotification(F.P.createComplete()),this.unsubscribe()}}class B{constructor(V,G){this.time=V,this.notification=G}}},8003:(_e,ie,v)=>{"use strict";v.d(ie,{j:()=>S});var n=v(3489),e=v(6498),h=v(826),F=v(448);function S(V,G){return G?J=>new B(J,G).lift(new w(V)):J=>J.lift(new w(V))}class w{constructor(G){this.delayDurationSelector=G}call(G,J){return J.subscribe(new P(G,this.delayDurationSelector))}}class P extends h.L{constructor(G,J){super(G),this.delayDurationSelector=J,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(G,J,q,ne,ue){this.destination.next(G),this.removeSubscription(ue),this.tryComplete()}notifyError(G,J){this._error(G)}notifyComplete(G){const J=this.removeSubscription(G);J&&this.destination.next(J),this.tryComplete()}_next(G){const J=this.index++;try{const q=this.delayDurationSelector(G,J);q&&this.tryDelay(q,G)}catch(q){this.destination.error(q)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(G){G.unsubscribe();const J=this.delayNotifierSubscriptions.indexOf(G);return-1!==J&&this.delayNotifierSubscriptions.splice(J,1),G.outerValue}tryDelay(G,J){const q=(0,F.D)(this,G,J);q&&!q.closed&&(this.destination.add(q),this.delayNotifierSubscriptions.push(q))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class B extends e.y{constructor(G,J){super(),this.source=G,this.subscriptionDelay=J}_subscribe(G){this.subscriptionDelay.subscribe(new Z(G,this.source))}}class Z extends n.L{constructor(G,J){super(),this.parent=G,this.source=J,this.sourceSubscribed=!1}_next(G){this.subscribeToSource()}_error(G){this.unsubscribe(),this.parent.error(G)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}},5778:(_e,ie,v)=>{"use strict";v.d(ie,{x:()=>e});var n=v(3489);function e(S,w){return P=>P.lift(new h(S,w))}class h{constructor(w,P){this.compare=w,this.keySelector=P}call(w,P){return P.subscribe(new F(w,this.compare,this.keySelector))}}class F extends n.L{constructor(w,P,B){super(w),this.keySelector=B,this.hasKey=!1,"function"==typeof P&&(this.compare=P)}compare(w,P){return w===P}_next(w){let P;try{const{keySelector:Z}=this;P=Z?Z(w):w}catch(Z){return this.destination.error(Z)}let B=!1;if(this.hasKey)try{const{compare:Z}=this;B=Z(this.key,P)}catch(Z){return this.destination.error(Z)}else this.hasKey=!0;B||(this.key=P,this.destination.next(w))}}},9184:(_e,ie,v)=>{"use strict";v.d(ie,{g:()=>e});var n=v(5778);function e(h,F){return(0,n.x)((S,w)=>F?F(S[h],w[h]):S[h]===w[h])}},8807:(_e,ie,v)=>{"use strict";v.d(ie,{z:()=>F});var n=v(4850),e=v(5254),h=v(1177);function F(P,B){return B?Z=>Z.pipe(F((V,G)=>(0,e.D)(P(V,G)).pipe((0,n.U)((J,q)=>B(V,J,G,q))))):Z=>Z.lift(new S(P))}class S{constructor(B){this.project=B}call(B,Z){return Z.subscribe(new w(B,this.project))}}class w extends h.Ds{constructor(B,Z){super(B),this.project=Z,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(B){this.hasSubscription||this.tryNext(B)}tryNext(B){let Z;const V=this.index++;try{Z=this.project(B,V)}catch(G){return void this.destination.error(G)}this.hasSubscription=!0,this._innerSub(Z)}_innerSub(B){const Z=new h.IY(this),V=this.destination;V.add(Z);const G=(0,h.ft)(B,Z);G!==Z&&V.add(G)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},2198:(_e,ie,v)=>{"use strict";v.d(ie,{h:()=>e});var n=v(3489);function e(S,w){return function(B){return B.lift(new h(S,w))}}class h{constructor(w,P){this.predicate=w,this.thisArg=P}call(w,P){return P.subscribe(new F(w,this.predicate,this.thisArg))}}class F extends n.L{constructor(w,P,B){super(w),this.predicate=P,this.thisArg=B,this.count=0}_next(w){let P;try{P=this.predicate.call(this.thisArg,w,this.count++)}catch(B){return void this.destination.error(B)}P&&this.destination.next(w)}}},537:(_e,ie,v)=>{"use strict";v.d(ie,{x:()=>h});var n=v(3489),e=v(2654);function h(w){return P=>P.lift(new F(w))}class F{constructor(P){this.callback=P}call(P,B){return B.subscribe(new S(P,this.callback))}}class S extends n.L{constructor(P,B){super(P),this.add(new e.w(B))}}},7224:(_e,ie,v)=>{"use strict";v.d(ie,{P:()=>P});var n=v(4450),e=v(2198),h=v(2986),F=v(7314),S=v(4907),w=v(5379);function P(B,Z){const V=arguments.length>=2;return G=>G.pipe(B?(0,e.h)((J,q)=>B(J,q,G)):w.y,(0,h.q)(1),V?(0,F.d)(Z):(0,S.T)(()=>new n.K))}},4002:(_e,ie,v)=>{"use strict";v.d(ie,{v:()=>S});var n=v(3489),e=v(2654),h=v(6498),F=v(8929);function S(G,J,q,ne){return ue=>ue.lift(new w(G,J,q,ne))}class w{constructor(J,q,ne,ue){this.keySelector=J,this.elementSelector=q,this.durationSelector=ne,this.subjectSelector=ue}call(J,q){return q.subscribe(new P(J,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class P extends n.L{constructor(J,q,ne,ue,ae){super(J),this.keySelector=q,this.elementSelector=ne,this.durationSelector=ue,this.subjectSelector=ae,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(J){let q;try{q=this.keySelector(J)}catch(ne){return void this.error(ne)}this._group(J,q)}_group(J,q){let ne=this.groups;ne||(ne=this.groups=new Map);let ae,ue=ne.get(q);if(this.elementSelector)try{ae=this.elementSelector(J)}catch(Ee){this.error(Ee)}else ae=J;if(!ue){ue=this.subjectSelector?this.subjectSelector():new F.xQ,ne.set(q,ue);const Ee=new Z(q,ue,this);if(this.destination.next(Ee),this.durationSelector){let Ye;try{Ye=this.durationSelector(new Z(q,ue))}catch(at){return void this.error(at)}this.add(Ye.subscribe(new B(q,ue,this)))}}ue.closed||ue.next(ae)}_error(J){const q=this.groups;q&&(q.forEach((ne,ue)=>{ne.error(J)}),q.clear()),this.destination.error(J)}_complete(){const J=this.groups;J&&(J.forEach((q,ne)=>{q.complete()}),J.clear()),this.destination.complete()}removeGroup(J){this.groups.delete(J)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class B extends n.L{constructor(J,q,ne){super(q),this.key=J,this.group=q,this.parent=ne}_next(J){this.complete()}_unsubscribe(){const{parent:J,key:q}=this;this.key=this.parent=null,J&&J.removeGroup(q)}}class Z extends h.y{constructor(J,q,ne){super(),this.key=J,this.groupSubject=q,this.refCountSubscription=ne}_subscribe(J){const q=new e.w,{refCountSubscription:ne,groupSubject:ue}=this;return ne&&!ne.closed&&q.add(new V(ne)),q.add(ue.subscribe(J)),q}}class V extends e.w{constructor(J){super(),this.parent=J,J.count++}unsubscribe(){const J=this.parent;!J.closed&&!this.closed&&(super.unsubscribe(),J.count-=1,0===J.count&&J.attemptedToUnsubscribe&&J.unsubscribe())}}},4850:(_e,ie,v)=>{"use strict";v.d(ie,{U:()=>e});var n=v(3489);function e(S,w){return function(B){if("function"!=typeof S)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return B.lift(new h(S,w))}}class h{constructor(w,P){this.project=w,this.thisArg=P}call(w,P){return P.subscribe(new F(w,this.project,this.thisArg))}}class F extends n.L{constructor(w,P,B){super(w),this.project=P,this.count=0,this.thisArg=B||this}_next(w){let P;try{P=this.project.call(this.thisArg,w,this.count++)}catch(B){return void this.destination.error(B)}this.destination.next(P)}}},7604:(_e,ie,v)=>{"use strict";v.d(ie,{h:()=>e});var n=v(3489);function e(S){return w=>w.lift(new h(S))}class h{constructor(w){this.value=w}call(w,P){return P.subscribe(new F(w,this.value))}}class F extends n.L{constructor(w,P){super(w),this.value=P}_next(w){this.destination.next(this.value)}}},9146:(_e,ie,v)=>{"use strict";v.d(ie,{J:()=>h});var n=v(1709),e=v(5379);function h(F=Number.POSITIVE_INFINITY){return(0,n.zg)(e.y,F)}},1709:(_e,ie,v)=>{"use strict";v.d(ie,{zg:()=>F});var n=v(4850),e=v(5254),h=v(1177);function F(B,Z,V=Number.POSITIVE_INFINITY){return"function"==typeof Z?G=>G.pipe(F((J,q)=>(0,e.D)(B(J,q)).pipe((0,n.U)((ne,ue)=>Z(J,ne,q,ue))),V)):("number"==typeof Z&&(V=Z),G=>G.lift(new S(B,V)))}class S{constructor(Z,V=Number.POSITIVE_INFINITY){this.project=Z,this.concurrent=V}call(Z,V){return V.subscribe(new w(Z,this.project,this.concurrent))}}class w extends h.Ds{constructor(Z,V,G=Number.POSITIVE_INFINITY){super(Z),this.project=V,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Z){this.active<this.concurrent?this._tryNext(Z):this.buffer.push(Z)}_tryNext(Z){let V;const G=this.index++;try{V=this.project(Z,G)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(V)}_innerSub(Z){const V=new h.IY(this),G=this.destination;G.add(V);const J=(0,h.ft)(Z,V);J!==V&&G.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Z){this.destination.next(Z)}notifyComplete(){const Z=this.buffer;this.active--,Z.length>0?this._next(Z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(_e,ie,v)=>{"use strict";v.d(ie,{O:()=>e});var n=v(1762);function e(F,S){return function(P){let B;if(B="function"==typeof F?F:function(){return F},"function"==typeof S)return P.lift(new h(B,S));const Z=Object.create(P,n.N);return Z.source=P,Z.subjectFactory=B,Z}}class h{constructor(S,w){this.subjectFactory=S,this.selector=w}call(S,w){const{selector:P}=this,B=this.subjectFactory(),Z=P(B).subscribe(S);return Z.add(w.subscribe(B)),Z}}},7770:(_e,ie,v)=>{"use strict";v.d(ie,{QV:()=>h,ht:()=>S});var n=v(3489),e=v(9312);function h(P,B=0){return function(V){return V.lift(new F(P,B))}}class F{constructor(B,Z=0){this.scheduler=B,this.delay=Z}call(B,Z){return Z.subscribe(new S(B,this.scheduler,this.delay))}}class S extends n.L{constructor(B,Z,V=0){super(B),this.scheduler=Z,this.delay=V}static dispatch(B){const{notification:Z,destination:V}=B;Z.observe(V),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(S.dispatch,this.delay,new w(B,this.destination)))}_next(B){this.scheduleMessage(e.P.createNext(B))}_error(B){this.scheduleMessage(e.P.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(e.P.createComplete()),this.unsubscribe()}}class w{constructor(B,Z){this.notification=B,this.destination=Z}}},519:(_e,ie,v)=>{"use strict";v.d(ie,{G:()=>e});var n=v(3489);function e(){return S=>S.lift(new h)}class h{call(w,P){return P.subscribe(new F(w))}}class F extends n.L{constructor(w){super(w),this.hasPrev=!1}_next(w){let P;this.hasPrev?P=[this.prev,w]:this.hasPrev=!0,this.prev=w,P&&this.destination.next(P)}}},373:(_e,ie,v)=>{"use strict";v.d(ie,{j:()=>e});var n=v(4850);function e(...F){const S=F.length;if(0===S)throw new Error("list of properties cannot be empty.");return w=>(0,n.U)(function h(F,S){return P=>{let B=P;for(let Z=0;Z<S;Z++){const V=B?.[F[Z]];if(void 0===V)return;B=V}return B}}(F,S))(w)}},4327:(_e,ie,v)=>{"use strict";v.d(ie,{x:()=>e});var n=v(3489);function e(){return function(w){return w.lift(new h(w))}}class h{constructor(w){this.connectable=w}call(w,P){const{connectable:B}=this;B._refCount++;const Z=new F(w,B),V=P.subscribe(Z);return Z.closed||(Z.connection=B.connect()),V}}class F extends n.L{constructor(w,P){super(w),this.connectable=P}_unsubscribe(){const{connectable:w}=this;if(!w)return void(this.connection=null);this.connectable=null;const P=w._refCount;if(P<=0)return void(this.connection=null);if(w._refCount=P-1,P>1)return void(this.connection=null);const{connection:B}=this,Z=w._connection;this.connection=null,Z&&(!B||Z===B)&&Z.unsubscribe()}}},2014:(_e,ie,v)=>{"use strict";v.d(ie,{R:()=>e});var n=v(3489);function e(S,w){let P=!1;return arguments.length>=2&&(P=!0),function(Z){return Z.lift(new h(S,w,P))}}class h{constructor(w,P,B=!1){this.accumulator=w,this.seed=P,this.hasSeed=B}call(w,P){return P.subscribe(new F(w,this.accumulator,this.seed,this.hasSeed))}}class F extends n.L{constructor(w,P,B,Z){super(w),this.accumulator=P,this._seed=B,this.hasSeed=Z,this.index=0}get seed(){return this._seed}set seed(w){this.hasSeed=!0,this._seed=w}_next(w){if(this.hasSeed)return this._tryNext(w);this.seed=w,this.destination.next(w)}_tryNext(w){const P=this.index++;let B;try{B=this.accumulator(this.seed,w,P)}catch(Z){this.destination.error(Z)}this.seed=B,this.destination.next(B)}}},8117:(_e,ie,v)=>{"use strict";v.d(ie,{B:()=>S});var n=v(2536),e=v(4327),h=v(8929);function F(){return new h.xQ}function S(){return w=>(0,e.x)()((0,n.O)(F)(w))}},5154:(_e,ie,v)=>{"use strict";v.d(ie,{d:()=>e});var n=v(839);function e(F,S,w){let P;return P=F&&"object"==typeof F?F:{bufferSize:F,windowTime:S,refCount:!1,scheduler:w},B=>B.lift(function h({bufferSize:F=Number.POSITIVE_INFINITY,windowTime:S=Number.POSITIVE_INFINITY,refCount:w,scheduler:P}){let B,V,Z=0,G=!1,J=!1;return function(ne){let ue;Z++,!B||G?(G=!1,B=new n.t(F,S,P),ue=B.subscribe(this),V=ne.subscribe({next(ae){B.next(ae)},error(ae){G=!0,B.error(ae)},complete(){J=!0,V=void 0,B.complete()}}),J&&(V=void 0)):ue=B.subscribe(this),this.add(()=>{Z--,ue.unsubscribe(),ue=void 0,V&&!J&&w&&0===Z&&(V.unsubscribe(),V=void 0,B=void 0)})}}(P))}},1307:(_e,ie,v)=>{"use strict";v.d(ie,{T:()=>e});var n=v(3489);function e(S){return w=>w.lift(new h(S))}class h{constructor(w){this.total=w}call(w,P){return P.subscribe(new F(w,this.total))}}class F extends n.L{constructor(w,P){super(w),this.total=P,this.count=0}_next(w){++this.count>this.total&&this.destination.next(w)}}},9403:(_e,ie,v)=>{"use strict";v.d(ie,{n:()=>e});var n=v(3489);function e(S){return w=>w.lift(new h(S))}class h{constructor(w){this.predicate=w}call(w,P){return P.subscribe(new F(w,this.predicate))}}class F extends n.L{constructor(w,P){super(w),this.predicate=P,this.skipping=!0,this.index=0}_next(w){const P=this.destination;this.skipping&&this.tryCallPredicate(w),this.skipping||P.next(w)}tryCallPredicate(w){try{const P=this.predicate(w,this.index++);this.skipping=Boolean(P)}catch(P){this.destination.error(P)}}}},1059:(_e,ie,v)=>{"use strict";v.d(ie,{O:()=>h});var n=v(1221),e=v(2866);function h(...F){const S=F[F.length-1];return(0,e.K)(S)?(F.pop(),w=>(0,n.z)(F,w,S)):w=>(0,n.z)(F,w)}},7545:(_e,ie,v)=>{"use strict";v.d(ie,{w:()=>F});var n=v(4850),e=v(5254),h=v(1177);function F(P,B){return"function"==typeof B?Z=>Z.pipe(F((V,G)=>(0,e.D)(P(V,G)).pipe((0,n.U)((J,q)=>B(V,J,G,q))))):Z=>Z.lift(new S(P))}class S{constructor(B){this.project=B}call(B,Z){return Z.subscribe(new w(B,this.project))}}class w extends h.Ds{constructor(B,Z){super(B),this.project=Z,this.index=0}_next(B){let Z;const V=this.index++;try{Z=this.project(B,V)}catch(G){return void this.destination.error(G)}this._innerSub(Z)}_innerSub(B){const Z=this.innerSubscription;Z&&Z.unsubscribe();const V=new h.IY(this),G=this.destination;G.add(V),this.innerSubscription=(0,h.ft)(B,V),this.innerSubscription!==V&&G.add(this.innerSubscription)}_complete(){const{innerSubscription:B}=this;(!B||B.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(B){this.destination.next(B)}}},2313:(_e,ie,v)=>{"use strict";v.d(ie,{c:()=>e});var n=v(7545);function e(h,F){return F?(0,n.w)(()=>h,F):(0,n.w)(()=>h)}},2986:(_e,ie,v)=>{"use strict";v.d(ie,{q:()=>F});var n=v(3489),e=v(4231),h=v(8896);function F(P){return B=>0===P?(0,h.c)():B.lift(new S(P))}class S{constructor(B){if(this.total=B,this.total<0)throw new e.W}call(B,Z){return Z.subscribe(new w(B,this.total))}}class w extends n.L{constructor(B,Z){super(B),this.total=Z,this.count=0}_next(B){const Z=this.total,V=++this.count;V<=Z&&(this.destination.next(B),V===Z&&(this.destination.complete(),this.unsubscribe()))}}},7625:(_e,ie,v)=>{"use strict";v.d(ie,{R:()=>e});var n=v(1177);function e(S){return w=>w.lift(new h(S))}class h{constructor(w){this.notifier=w}call(w,P){const B=new F(w),Z=(0,n.ft)(this.notifier,new n.IY(B));return Z&&!B.seenValue?(B.add(Z),P.subscribe(B)):B}}class F extends n.Ds{constructor(w){super(w),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(_e,ie,v)=>{"use strict";v.d(ie,{o:()=>e});var n=v(3489);function e(S,w=!1){return P=>P.lift(new h(S,w))}class h{constructor(w,P){this.predicate=w,this.inclusive=P}call(w,P){return P.subscribe(new F(w,this.predicate,this.inclusive))}}class F extends n.L{constructor(w,P,B){super(w),this.predicate=P,this.inclusive=B,this.index=0}_next(w){const P=this.destination;let B;try{B=this.predicate(w,this.index++)}catch(Z){return void P.error(Z)}this.nextOrComplete(w,B)}nextOrComplete(w,P){const B=this.destination;Boolean(P)?B.next(w):(this.inclusive&&B.next(w),B.complete())}}},2994:(_e,ie,v)=>{"use strict";v.d(ie,{b:()=>F});var n=v(3489),e=v(7876),h=v(7043);function F(P,B,Z){return function(G){return G.lift(new S(P,B,Z))}}class S{constructor(B,Z,V){this.nextOrObserver=B,this.error=Z,this.complete=V}call(B,Z){return Z.subscribe(new w(B,this.nextOrObserver,this.error,this.complete))}}class w extends n.L{constructor(B,Z,V,G){super(B),this._tapNext=e.Z,this._tapError=e.Z,this._tapComplete=e.Z,this._tapError=V||e.Z,this._tapComplete=G||e.Z,(0,h.m)(Z)?(this._context=this,this._tapNext=Z):Z&&(this._context=Z,this._tapNext=Z.next||e.Z,this._tapError=Z.error||e.Z,this._tapComplete=Z.complete||e.Z)}_next(B){try{this._tapNext.call(this._context,B)}catch(Z){return void this.destination.error(Z)}this.destination.next(B)}_error(B){try{this._tapError.call(this._context,B)}catch(Z){return void this.destination.error(Z)}this.destination.error(B)}_complete(){try{this._tapComplete.call(this._context)}catch(B){return void this.destination.error(B)}return this.destination.complete()}}},4907:(_e,ie,v)=>{"use strict";v.d(ie,{T:()=>h});var n=v(4450),e=v(3489);function h(P=w){return B=>B.lift(new F(P))}class F{constructor(B){this.errorFactory=B}call(B,Z){return Z.subscribe(new S(B,this.errorFactory))}}class S extends e.L{constructor(B,Z){super(B),this.errorFactory=Z,this.hasValue=!1}_next(B){this.hasValue=!0,this.destination.next(B)}_complete(){if(this.hasValue)return this.destination.complete();{let B;try{B=this.errorFactory()}catch(Z){B=Z}this.destination.error(B)}}}function w(){return new n.K}},6227:(_e,ie,v)=>{"use strict";v.d(ie,{V:()=>V});var n=v(353);const h=(()=>{function G(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return G.prototype=Object.create(Error.prototype),G})();var F=v(2697),S=v(1177);class P{constructor(J,q,ne,ue){this.waitFor=J,this.absoluteTimeout=q,this.withObservable=ne,this.scheduler=ue}call(J,q){return q.subscribe(new B(J,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class B extends S.Ds{constructor(J,q,ne,ue,ae){super(J),this.absoluteTimeout=q,this.waitFor=ne,this.withObservable=ue,this.scheduler=ae,this.scheduleTimeout()}static dispatchTimeout(J){const{withObservable:q}=J;J._unsubscribeAndRecycle(),J.add((0,S.ft)(q,new S.IY(J)))}scheduleTimeout(){const{action:J}=this;J?this.action=J.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(B.dispatchTimeout,this.waitFor,this))}_next(J){this.absoluteTimeout||this.scheduleTimeout(),super._next(J)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Z=v(1737);function V(G,J=n.P){return function w(G,J,q=n.P){return ne=>{let ue=(0,F.J)(G),ae=ue?+G-q.now():Math.abs(G);return ne.lift(new P(ae,ue,J,q))}}(G,(0,Z._)(new h),J)}},7168:(_e,ie,v)=>{"use strict";v.d(ie,{M:()=>h});var n=v(826),e=v(448);function h(...w){return P=>{let B;return"function"==typeof w[w.length-1]&&(B=w.pop()),P.lift(new F(w,B))}}class F{constructor(P,B){this.observables=P,this.project=B}call(P,B){return B.subscribe(new S(P,this.observables,this.project))}}class S extends n.L{constructor(P,B,Z){super(P),this.observables=B,this.project=Z,this.toRespond=[];const V=B.length;this.values=new Array(V);for(let G=0;G<V;G++)this.toRespond.push(G);for(let G=0;G<V;G++)this.add((0,e.D)(this,B[G],void 0,G))}notifyNext(P,B,Z){this.values[Z]=B;const V=this.toRespond;if(V.length>0){const G=V.indexOf(Z);-1!==G&&V.splice(G,1)}}notifyComplete(){}_next(P){if(0===this.toRespond.length){const B=[P,...this.values];this.project?this._tryProject(B):this.destination.next(B)}}_tryProject(P){let B;try{B=this.project.apply(this,P)}catch(Z){return void this.destination.error(Z)}this.destination.next(B)}}},6454:(_e,ie,v)=>{"use strict";v.d(ie,{r:()=>h});var n=v(6498),e=v(2654);function h(F,S){return new n.y(w=>{const P=new e.w;let B=0;return P.add(S.schedule(function(){B!==F.length?(w.next(F[B++]),w.closed||P.add(this.schedule())):w.complete()})),P})}},6686:(_e,ie,v)=>{"use strict";v.d(ie,{o:()=>h});var n=v(2654);class e extends n.w{constructor(S,w){super()}schedule(S,w=0){return this}}class h extends e{constructor(S,w){super(S,w),this.scheduler=S,this.work=w,this.pending=!1}schedule(S,w=0){if(this.closed)return this;this.state=S;const P=this.id,B=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(B,P,w)),this.pending=!0,this.delay=w,this.id=this.id||this.requestAsyncId(B,this.id,w),this}requestAsyncId(S,w,P=0){return setInterval(S.flush.bind(S,this),P)}recycleAsyncId(S,w,P=0){if(null!==P&&this.delay===P&&!1===this.pending)return w;clearInterval(w)}execute(S,w){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(S,w);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,w){let B,P=!1;try{this.work(S)}catch(Z){P=!0,B=!!Z&&Z||new Error(Z)}if(P)return this.unsubscribe(),B}_unsubscribe(){const S=this.id,w=this.scheduler,P=w.actions,B=P.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==B&&P.splice(B,1),null!=S&&(this.id=this.recycleAsyncId(w,S,null)),this.delay=null}}},2268:(_e,ie,v)=>{"use strict";v.d(ie,{v:()=>e});let n=(()=>{class h{constructor(S,w=h.now){this.SchedulerAction=S,this.now=w}schedule(S,w=0,P){return new this.SchedulerAction(this,S).schedule(P,w)}}return h.now=()=>Date.now(),h})();class e extends n{constructor(F,S=n.now){super(F,()=>e.delegate&&e.delegate!==this?e.delegate.now():S()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(F,S=0,w){return e.delegate&&e.delegate!==this?e.delegate.schedule(F,S,w):super.schedule(F,S,w)}flush(F){const{actions:S}=this;if(this.active)return void S.push(F);let w;this.active=!0;do{if(w=F.execute(F.state,F.delay))break}while(F=S.shift());if(this.active=!1,w){for(;F=S.shift();)F.unsubscribe();throw w}}}},8139:(_e,ie,v)=>{"use strict";v.d(ie,{E:()=>G});let n=1;const e=Promise.resolve(),h={};function F(q){return q in h&&(delete h[q],!0)}const S={setImmediate(q){const ne=n++;return h[ne]=!0,e.then(()=>F(ne)&&q()),ne},clearImmediate(q){F(q)}};var P=v(6686),Z=v(2268);const G=new class V extends Z.v{flush(ne){this.active=!0,this.scheduled=void 0;const{actions:ue}=this;let ae,Ee=-1,Ye=ue.length;ne=ne||ue.shift();do{if(ae=ne.execute(ne.state,ne.delay))break}while(++Ee<Ye&&(ne=ue.shift()));if(this.active=!1,ae){for(;++Ee<Ye&&(ne=ue.shift());)ne.unsubscribe();throw ae}}}(class B extends P.o{constructor(ne,ue){super(ne,ue),this.scheduler=ne,this.work=ue}requestAsyncId(ne,ue,ae=0){return null!==ae&&ae>0?super.requestAsyncId(ne,ue,ae):(ne.actions.push(this),ne.scheduled||(ne.scheduled=S.setImmediate(ne.flush.bind(ne,null))))}recycleAsyncId(ne,ue,ae=0){if(null!==ae&&ae>0||null===ae&&this.delay>0)return super.recycleAsyncId(ne,ue,ae);0===ne.actions.length&&(S.clearImmediate(ue),ne.scheduled=void 0)}})},353:(_e,ie,v)=>{"use strict";v.d(ie,{P:()=>F});var n=v(6686);const F=new(v(2268).v)(n.o)},341:(_e,ie,v)=>{"use strict";v.d(ie,{c:()=>w,N:()=>S});var n=v(6686),h=v(2268);const S=new class F extends h.v{}(class e extends n.o{constructor(B,Z){super(B,Z),this.scheduler=B,this.work=Z}schedule(B,Z=0){return Z>0?super.schedule(B,Z):(this.delay=Z,this.state=B,this.scheduler.flush(this),this)}execute(B,Z){return Z>0||this.closed?super.execute(B,Z):this._execute(B,Z)}requestAsyncId(B,Z,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(B,Z,V):B.flush(this)}}),w=S},5430:(_e,ie,v)=>{"use strict";v.d(ie,{hZ:()=>e});const e=function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(_e,ie,v)=>{"use strict";v.d(ie,{L:()=>n});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(_e,ie,v)=>{"use strict";v.d(ie,{b:()=>n});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(_e,ie,v)=>{"use strict";v.d(ie,{W:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})()},4450:(_e,ie,v)=>{"use strict";v.d(ie,{K:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return h.prototype=Object.create(Error.prototype),h})()},5279:(_e,ie,v)=>{"use strict";v.d(ie,{N:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return h.prototype=Object.create(Error.prototype),h})()},2782:(_e,ie,v)=>{"use strict";function n(e){setTimeout(()=>{throw e},0)}v.d(ie,{z:()=>n})},5379:(_e,ie,v)=>{"use strict";function n(e){return e}v.d(ie,{y:()=>n})},6688:(_e,ie,v)=>{"use strict";v.d(ie,{k:()=>n});const n=Array.isArray||(e=>e&&"number"==typeof e.length)},8515:(_e,ie,v)=>{"use strict";v.d(ie,{z:()=>n});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2697:(_e,ie,v)=>{"use strict";function n(e){return e instanceof Date&&!isNaN(+e)}v.d(ie,{J:()=>n})},7043:(_e,ie,v)=>{"use strict";function n(e){return"function"==typeof e}v.d(ie,{m:()=>n})},4241:(_e,ie,v)=>{"use strict";v.d(ie,{k:()=>e});var n=v(6688);function e(h){return!(0,n.k)(h)&&h-parseFloat(h)+1>=0}},7830:(_e,ie,v)=>{"use strict";function n(e){return null!==e&&"object"==typeof e}v.d(ie,{K:()=>n})},4715:(_e,ie,v)=>{"use strict";v.d(ie,{b:()=>e});var n=v(6498);function e(h){return!!h&&(h instanceof n.y||"function"==typeof h.lift&&"function"==typeof h.subscribe)}},8955:(_e,ie,v)=>{"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}v.d(ie,{t:()=>n})},2866:(_e,ie,v)=>{"use strict";function n(e){return e&&"function"==typeof e.schedule}v.d(ie,{K:()=>n})},7876:(_e,ie,v)=>{"use strict";function n(){}v.d(ie,{Z:()=>n})},4843:(_e,ie,v)=>{"use strict";v.d(ie,{U:()=>h,z:()=>e});var n=v(5379);function e(...F){return h(F)}function h(F){return 0===F.length?n.y:1===F.length?F[0]:function(w){return F.reduce((P,B)=>B(P),w)}}},9249:(_e,ie,v)=>{"use strict";v.d(ie,{s:()=>G});var n=v(3650),e=v(2782),F=v(5430),w=v(3821),B=v(8515),Z=v(8955),V=v(7830);const G=J=>{if(J&&"function"==typeof J[w.L])return(J=>q=>{const ne=J[w.L]();if("function"!=typeof ne.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ne.subscribe(q)})(J);if((0,B.z)(J))return(0,n.V)(J);if((0,Z.t)(J))return(J=>q=>(J.then(ne=>{q.closed||(q.next(ne),q.complete())},ne=>q.error(ne)).then(null,e.z),q))(J);if(J&&"function"==typeof J[F.hZ])return(J=>q=>{const ne=J[F.hZ]();for(;;){let ue;try{ue=ne.next()}catch(ae){return q.error(ae),q}if(ue.done){q.complete();break}if(q.next(ue.value),q.closed)break}return"function"==typeof ne.return&&q.add(()=>{ne.return&&ne.return()}),q})(J);{const ne=`You provided ${(0,V.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ne)}}},3650:(_e,ie,v)=>{"use strict";v.d(ie,{V:()=>n});const n=e=>h=>{for(let F=0,S=e.length;F<S&&!h.closed;F++)h.next(e[F]);h.complete()}},448:(_e,ie,v)=>{"use strict";v.d(ie,{D:()=>S});var n=v(3489);class e extends n.L{constructor(P,B,Z){super(),this.parent=P,this.outerValue=B,this.outerIndex=Z,this.index=0}_next(P){this.parent.notifyNext(this.outerValue,P,this.outerIndex,this.index++,this)}_error(P){this.parent.notifyError(P,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var h=v(9249),F=v(6498);function S(w,P,B,Z,V=new e(w,B,Z)){if(!V.closed)return P instanceof F.y?P.subscribe(V):(0,h.s)(P)(V)}},655:(_e,ie,v)=>{"use strict";function S(Me,re,Ie,Ce){var Ge,we=arguments.length,Ae=we<3?re:null===Ce?Ce=Object.getOwnPropertyDescriptor(re,Ie):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(Me,re,Ie,Ce);else for(var ht=Me.length-1;ht>=0;ht--)(Ge=Me[ht])&&(Ae=(we<3?Ge(Ae):we>3?Ge(re,Ie,Ae):Ge(re,Ie))||Ae);return we>3&&Ae&&Object.defineProperty(re,Ie,Ae),Ae}function w(Me,re){return function(Ie,Ce){re(Ie,Ce,Me)}}v.d(ie,{fM:()=>w,gn:()=>S})},2136:(_e,ie,v)=>{var n;if("function"==typeof fetch&&(typeof global<"u"&&global.fetch?n=global.fetch:typeof window<"u"&&window.fetch&&(n=window.fetch)),typeof window>"u"||typeof window.document>"u"){var e=n||v(8472);e.default&&(e=e.default),ie.default=e,_e.exports=ie.default}},6895:(_e,ie,v)=>{"use strict";v.d(ie,{Do:()=>ze,ED:()=>Xr,EM:()=>Bo,HT:()=>S,JF:()=>Ze,JJ:()=>Fo,K0:()=>P,Mx:()=>Qr,NF:()=>po,Nd:()=>Xo,O5:()=>Jn,OU:()=>No,Ov:()=>gn,PM:()=>no,RF:()=>Pr,S$:()=>Ee,Ts:()=>zo,V_:()=>V,Ye:()=>Ve,b0:()=>at,bD:()=>Uo,dv:()=>nn,ez:()=>Jo,i8:()=>ir,jK:()=>nt,mk:()=>Dn,n9:()=>qr,q:()=>h,sg:()=>dr,tP:()=>be,uU:()=>Zo,uf:()=>Qt,wE:()=>Ce,wM:()=>Ae,w_:()=>w,xG:()=>yt});var n=v(4650);let e=null;function h(){return e}function S(R){e||(e=R)}class w{}const P=new n.OlP("DocumentToken");let B=(()=>{class R{historyGo(U){throw new Error("Not implemented")}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275prov=n.Yz7({token:R,factory:function(){return function Z(){return(0,n.LFG)(G)}()},providedIn:"platform"}),R})();const V=new n.OlP("Location Initialized");let G=(()=>{class R extends B{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(U){const ce=h().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",U,!1),()=>ce.removeEventListener("popstate",U)}onHashChange(U){const ce=h().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",U,!1),()=>ce.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,ce,$e){J()?this._history.pushState(U,ce,$e):this.location.hash=$e}replaceState(U,ce,$e){J()?this._history.replaceState(U,ce,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return R.\u0275fac=function(U){return new(U||R)(n.LFG(P))},R.\u0275prov=n.Yz7({token:R,factory:function(){return function q(){return new G((0,n.LFG)(P))}()},providedIn:"platform"}),R})();function J(){return!!window.history.pushState}function ne(R,ee){if(0==R.length)return ee;if(0==ee.length)return R;let U=0;return R.endsWith("/")&&U++,ee.startsWith("/")&&U++,2==U?R+ee.substring(1):1==U?R+ee:R+"/"+ee}function ue(R){const ee=R.match(/#|\?|$/),U=ee&&ee.index||R.length;return R.slice(0,U-("/"===R[U-1]?1:0))+R.slice(U)}function ae(R){return R&&"?"!==R[0]?"?"+R:R}let Ee=(()=>{class R{historyGo(U){throw new Error("Not implemented")}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275prov=n.Yz7({token:R,factory:function(){return(0,n.f3M)(at)},providedIn:"root"}),R})();const Ye=new n.OlP("appBaseHref");let at=(()=>{class R extends Ee{constructor(U,ce){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=ce??this._platformLocation.getBaseHrefFromDOM()??(0,n.f3M)(P).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ne(this._baseHref,U)}path(U=!1){const ce=this._platformLocation.pathname+ae(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&U?`${ce}${$e}`:ce}pushState(U,ce,$e,St){const It=this.prepareExternalUrl($e+ae(St));this._platformLocation.pushState(U,ce,It)}replaceState(U,ce,$e,St){const It=this.prepareExternalUrl($e+ae(St));this._platformLocation.replaceState(U,ce,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return R.\u0275fac=function(U){return new(U||R)(n.LFG(B),n.LFG(Ye,8))},R.\u0275prov=n.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),ze=(()=>{class R extends Ee{constructor(U,ce){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(U){const ce=ne(this._baseHref,U);return ce.length>0?"#"+ce:ce}pushState(U,ce,$e,St){let It=this.prepareExternalUrl($e+ae(St));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(U,ce,It)}replaceState(U,ce,$e,St){let It=this.prepareExternalUrl($e+ae(St));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(U,ce,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return R.\u0275fac=function(U){return new(U||R)(n.LFG(B),n.LFG(Ye,8))},R.\u0275prov=n.Yz7({token:R,factory:R.\u0275fac}),R})(),Ve=(()=>{class R{constructor(U){this._subject=new n.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ce=this._locationStrategy.getBaseHref();this._baseHref=ue(de(ce)),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ce=""){return this.path()==this.normalize(U+ae(ce))}normalize(U){return R.stripTrailingSlash(function ge(R,ee){return R&&ee.startsWith(R)?ee.substring(R.length):ee}(this._baseHref,de(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ce="",$e=null){this._locationStrategy.pushState($e,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ae(ce)),$e)}replaceState(U,ce="",$e=null){this._locationStrategy.replaceState($e,"",U,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ae(ce)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ce){this._urlChangeListeners.forEach($e=>$e(U,ce))}subscribe(U,ce,$e){return this._subject.subscribe({next:U,error:ce,complete:$e})}}return R.normalizeQueryParams=ae,R.joinWithSlash=ne,R.stripTrailingSlash=ue,R.\u0275fac=function(U){return new(U||R)(n.LFG(Ee))},R.\u0275prov=n.Yz7({token:R,factory:function(){return function he(){return new Ve((0,n.LFG)(Ee))}()},providedIn:"root"}),R})();function de(R){return R.replace(/\/index.html$/,"")}const it={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Percent=1]="Percent",He[He.Currency=2]="Currency",He[He.Scientific=3]="Scientific",He))(),Me=(()=>((Me=Me||{})[Me.Format=0]="Format",Me[Me.Standalone=1]="Standalone",Me))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),Ie=(()=>((Ie=Ie||{})[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie))(),Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Group=1]="Group",Ce[Ce.List=2]="List",Ce[Ce.PercentSign=3]="PercentSign",Ce[Ce.PlusSign=4]="PlusSign",Ce[Ce.MinusSign=5]="MinusSign",Ce[Ce.Exponential=6]="Exponential",Ce[Ce.SuperscriptingExponent=7]="SuperscriptingExponent",Ce[Ce.PerMille=8]="PerMille",Ce[Ce.Infinity=9]="Infinity",Ce[Ce.NaN=10]="NaN",Ce[Ce.TimeSeparator=11]="TimeSeparator",Ce[Ce.CurrencyDecimal=12]="CurrencyDecimal",Ce[Ce.CurrencyGroup=13]="CurrencyGroup",Ce))();function Ae(R){return(0,n.cg1)(R)[n.wAp.LocaleId]}function Gt(R,ee){return kt((0,n.cg1)(R)[n.wAp.DateFormat],ee)}function Jt(R,ee){return kt((0,n.cg1)(R)[n.wAp.TimeFormat],ee)}function ft(R,ee){return kt((0,n.cg1)(R)[n.wAp.DateTimeFormat],ee)}function nn(R,ee){const U=(0,n.cg1)(R),ce=U[n.wAp.NumberSymbols][ee];if(typeof ce>"u"){if(ee===Ce.CurrencyDecimal)return U[n.wAp.NumberSymbols][Ce.Decimal];if(ee===Ce.CurrencyGroup)return U[n.wAp.NumberSymbols][Ce.Group]}return ce}function Xt(R,ee){return(0,n.cg1)(R)[n.wAp.NumberFormats][ee]}function Ke(R){if(!R[n.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[n.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kt(R,ee){for(let U=ee;U>-1;U--)if(typeof R[U]<"u")return R[U];throw new Error("Locale data API: locale data undefined")}function We(R){const[ee,U]=R.split(":");return{hours:+ee,minutes:+U}}function nt(R,ee,U="en"){const ce=function me(R){return(0,n.cg1)(R)[n.wAp.Currencies]}(U)[R]||it[R]||[],$e=ce[1];return"narrow"===ee&&"string"==typeof $e?$e:ce[0]||R}const un=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bn={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ue=(()=>((Ue=Ue||{})[Ue.Short=0]="Short",Ue[Ue.ShortGMT=1]="ShortGMT",Ue[Ue.Long=2]="Long",Ue[Ue.Extended=3]="Extended",Ue))(),ke=(()=>((ke=ke||{})[ke.FullYear=0]="FullYear",ke[ke.Month=1]="Month",ke[ke.Date=2]="Date",ke[ke.Hours=3]="Hours",ke[ke.Minutes=4]="Minutes",ke[ke.Seconds=5]="Seconds",ke[ke.FractionalSeconds=6]="FractionalSeconds",ke[ke.Day=7]="Day",ke))(),mt=(()=>((mt=mt||{})[mt.DayPeriods=0]="DayPeriods",mt[mt.Days=1]="Days",mt[mt.Months=2]="Months",mt[mt.Eras=3]="Eras",mt))();function vt(R,ee,U,ce){let $e=function On(R){if(Qn(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[$e,St=1,It=1]=R.split("-").map(mn=>+mn);return en($e,St-1,It)}const U=parseFloat(R);if(!isNaN(R-U))return new Date(U);let ce;if(ce=R.match(un))return function Ln(R){const ee=new Date(0);let U=0,ce=0;const $e=R[8]?ee.setUTCFullYear:ee.setFullYear,St=R[8]?ee.setUTCHours:ee.setHours;R[9]&&(U=Number(R[9]+R[10]),ce=Number(R[9]+R[11])),$e.call(ee,Number(R[1]),Number(R[2])-1,Number(R[3]));const It=Number(R[4]||0)-U,mn=Number(R[5]||0)-ce,er=Number(R[6]||0),fr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return St.call(ee,It,mn,er,fr),ee}(ce)}const ee=new Date(R);if(!Qn(ee))throw new Error(`Unable to convert "${R}" into a date`);return ee}(R);ee=Yt(U,ee)||ee;let mn,It=[];for(;ee;){if(mn=_t.exec(ee),!mn){It.push(ee);break}{It=It.concat(mn.slice(1));const or=It.pop();if(!or)break;ee=or}}let er=$e.getTimezoneOffset();ce&&(er=Nn(ce,er),$e=function yn(R,ee,U){const ce=U?-1:1,$e=R.getTimezoneOffset();return function ur(R,ee){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+ee),R}(R,ce*(Nn(ee,$e)-$e))}($e,ce,!0));let fr="";return It.forEach(or=>{const jn=function Vn(R){if(In[R])return In[R];let ee;switch(R){case"G":case"GG":case"GGG":ee=tt(mt.Eras,re.Abbreviated);break;case"GGGG":ee=tt(mt.Eras,re.Wide);break;case"GGGGG":ee=tt(mt.Eras,re.Narrow);break;case"y":ee=Dt(ke.FullYear,1,0,!1,!0);break;case"yy":ee=Dt(ke.FullYear,2,0,!0,!0);break;case"yyy":ee=Dt(ke.FullYear,3,0,!1,!0);break;case"yyyy":ee=Dt(ke.FullYear,4,0,!1,!0);break;case"Y":ee=dt(1);break;case"YY":ee=dt(2,!0);break;case"YYY":ee=dt(3);break;case"YYYY":ee=dt(4);break;case"M":case"L":ee=Dt(ke.Month,1,1);break;case"MM":case"LL":ee=Dt(ke.Month,2,1);break;case"MMM":ee=tt(mt.Months,re.Abbreviated);break;case"MMMM":ee=tt(mt.Months,re.Wide);break;case"MMMMM":ee=tt(mt.Months,re.Narrow);break;case"LLL":ee=tt(mt.Months,re.Abbreviated,Me.Standalone);break;case"LLLL":ee=tt(mt.Months,re.Wide,Me.Standalone);break;case"LLLLL":ee=tt(mt.Months,re.Narrow,Me.Standalone);break;case"w":ee=Ht(1);break;case"ww":ee=Ht(2);break;case"W":ee=Ht(1,!0);break;case"d":ee=Dt(ke.Date,1);break;case"dd":ee=Dt(ke.Date,2);break;case"c":case"cc":ee=Dt(ke.Day,1);break;case"ccc":ee=tt(mt.Days,re.Abbreviated,Me.Standalone);break;case"cccc":ee=tt(mt.Days,re.Wide,Me.Standalone);break;case"ccccc":ee=tt(mt.Days,re.Narrow,Me.Standalone);break;case"cccccc":ee=tt(mt.Days,re.Short,Me.Standalone);break;case"E":case"EE":case"EEE":ee=tt(mt.Days,re.Abbreviated);break;case"EEEE":ee=tt(mt.Days,re.Wide);break;case"EEEEE":ee=tt(mt.Days,re.Narrow);break;case"EEEEEE":ee=tt(mt.Days,re.Short);break;case"a":case"aa":case"aaa":ee=tt(mt.DayPeriods,re.Abbreviated);break;case"aaaa":ee=tt(mt.DayPeriods,re.Wide);break;case"aaaaa":ee=tt(mt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":ee=tt(mt.DayPeriods,re.Abbreviated,Me.Standalone,!0);break;case"bbbb":ee=tt(mt.DayPeriods,re.Wide,Me.Standalone,!0);break;case"bbbbb":ee=tt(mt.DayPeriods,re.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":ee=tt(mt.DayPeriods,re.Abbreviated,Me.Format,!0);break;case"BBBB":ee=tt(mt.DayPeriods,re.Wide,Me.Format,!0);break;case"BBBBB":ee=tt(mt.DayPeriods,re.Narrow,Me.Format,!0);break;case"h":ee=Dt(ke.Hours,1,-12);break;case"hh":ee=Dt(ke.Hours,2,-12);break;case"H":ee=Dt(ke.Hours,1);break;case"HH":ee=Dt(ke.Hours,2);break;case"m":ee=Dt(ke.Minutes,1);break;case"mm":ee=Dt(ke.Minutes,2);break;case"s":ee=Dt(ke.Seconds,1);break;case"ss":ee=Dt(ke.Seconds,2);break;case"S":ee=Dt(ke.FractionalSeconds,1);break;case"SS":ee=Dt(ke.FractionalSeconds,2);break;case"SSS":ee=Dt(ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=Xe(Ue.Short);break;case"ZZZZZ":ee=Xe(Ue.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=Xe(Ue.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=Xe(Ue.Long);break;default:return null}return In[R]=ee,ee}(or);fr+=jn?jn($e,U,er):"''"===or?"'":or.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),fr}function en(R,ee,U){const ce=new Date(0);return ce.setFullYear(R,ee,U),ce.setHours(0,0,0),ce}function Yt(R,ee){const U=Ae(R);if(bn[U]=bn[U]||{},bn[U][ee])return bn[U][ee];let ce="";switch(ee){case"shortDate":ce=Gt(R,Ie.Short);break;case"mediumDate":ce=Gt(R,Ie.Medium);break;case"longDate":ce=Gt(R,Ie.Long);break;case"fullDate":ce=Gt(R,Ie.Full);break;case"shortTime":ce=Jt(R,Ie.Short);break;case"mediumTime":ce=Jt(R,Ie.Medium);break;case"longTime":ce=Jt(R,Ie.Long);break;case"fullTime":ce=Jt(R,Ie.Full);break;case"short":const $e=Yt(R,"shortTime"),St=Yt(R,"shortDate");ce=vn(ft(R,Ie.Short),[$e,St]);break;case"medium":const It=Yt(R,"mediumTime"),mn=Yt(R,"mediumDate");ce=vn(ft(R,Ie.Medium),[It,mn]);break;case"long":const er=Yt(R,"longTime"),fr=Yt(R,"longDate");ce=vn(ft(R,Ie.Long),[er,fr]);break;case"full":const or=Yt(R,"fullTime"),jn=Yt(R,"fullDate");ce=vn(ft(R,Ie.Full),[or,jn])}return ce&&(bn[U][ee]=ce),ce}function vn(R,ee){return ee&&(R=R.replace(/\{([^}]+)}/g,function(U,ce){return null!=ee&&ce in ee?ee[ce]:U})),R}function Kt(R,ee,U="-",ce,$e){let St="";(R<0||$e&&R<=0)&&($e?R=1-R:(R=-R,St=U));let It=String(R);for(;It.length<ee;)It="0"+It;return ce&&(It=It.slice(It.length-ee)),St+It}function Dt(R,ee,U=0,ce=!1,$e=!1){return function(St,It){let mn=function De(R,ee){switch(R){case ke.FullYear:return ee.getFullYear();case ke.Month:return ee.getMonth();case ke.Date:return ee.getDate();case ke.Hours:return ee.getHours();case ke.Minutes:return ee.getMinutes();case ke.Seconds:return ee.getSeconds();case ke.FractionalSeconds:return ee.getMilliseconds();case ke.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,St);if((U>0||mn>-U)&&(mn+=U),R===ke.Hours)0===mn&&-12===U&&(mn=12);else if(R===ke.FractionalSeconds)return function Re(R,ee){return Kt(R,3).substring(0,ee)}(mn,ee);const er=nn(It,Ce.MinusSign);return Kt(mn,ee,er,ce,$e)}}function tt(R,ee,U=Me.Format,ce=!1){return function($e,St){return function Ut(R,ee,U,ce,$e,St){switch(U){case mt.Months:return function Je(R,ee,U){const ce=(0,n.cg1)(R),St=kt([ce[n.wAp.MonthsFormat],ce[n.wAp.MonthsStandalone]],ee);return kt(St,U)}(ee,$e,ce)[R.getMonth()];case mt.Days:return function ht(R,ee,U){const ce=(0,n.cg1)(R),St=kt([ce[n.wAp.DaysFormat],ce[n.wAp.DaysStandalone]],ee);return kt(St,U)}(ee,$e,ce)[R.getDay()];case mt.DayPeriods:const It=R.getHours(),mn=R.getMinutes();if(St){const fr=function jt(R){const ee=(0,n.cg1)(R);return Ke(ee),(ee[n.wAp.ExtraData][2]||[]).map(ce=>"string"==typeof ce?We(ce):[We(ce[0]),We(ce[1])])}(ee),or=function wt(R,ee,U){const ce=(0,n.cg1)(R);Ke(ce);const St=kt([ce[n.wAp.ExtraData][0],ce[n.wAp.ExtraData][1]],ee)||[];return kt(St,U)||[]}(ee,$e,ce),jn=fr.findIndex(Gr=>{if(Array.isArray(Gr)){const[Un,Lr]=Gr,Go=It>=Un.hours&&mn>=Un.minutes,Vo=It<Lr.hours||It===Lr.hours&&mn<Lr.minutes;if(Un.hours<Lr.hours){if(Go&&Vo)return!0}else if(Go||Vo)return!0}else if(Gr.hours===It&&Gr.minutes===mn)return!0;return!1});if(-1!==jn)return or[jn]}return function Ge(R,ee,U){const ce=(0,n.cg1)(R),St=kt([ce[n.wAp.DayPeriodsFormat],ce[n.wAp.DayPeriodsStandalone]],ee);return kt(St,U)}(ee,$e,ce)[It<12?0:1];case mt.Eras:return function lt(R,ee){return kt((0,n.cg1)(R)[n.wAp.Eras],ee)}(ee,ce)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}($e,St,R,ee,U,ce)}}function Xe(R){return function(ee,U,ce){const $e=-1*ce,St=nn(U,Ce.MinusSign),It=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(R){case Ue.Short:return($e>=0?"+":"")+Kt(It,2,St)+Kt(Math.abs($e%60),2,St);case Ue.ShortGMT:return"GMT"+($e>=0?"+":"")+Kt(It,1,St);case Ue.Long:return"GMT"+($e>=0?"+":"")+Kt(It,2,St)+":"+Kt(Math.abs($e%60),2,St);case Ue.Extended:return 0===ce?"Z":($e>=0?"+":"")+Kt(It,2,St)+":"+Kt(Math.abs($e%60),2,St);default:throw new Error(`Unknown zone width "${R}"`)}}}function ln(R){return en(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function Ht(R,ee=!1){return function(U,ce){let $e;if(ee){const St=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,It=U.getDate();$e=1+Math.floor((It+St)/7)}else{const St=ln(U),It=function Ot(R){const ee=en(R,0,1).getDay();return en(R,0,1+(ee<=4?4:11)-ee)}(St.getFullYear()),mn=St.getTime()-It.getTime();$e=1+Math.round(mn/6048e5)}return Kt($e,R,nn(ce,Ce.MinusSign))}}function dt(R,ee=!1){return function(U,ce){return Kt(ln(U).getFullYear(),R,nn(ce,Ce.MinusSign),ee)}}const In={};function Nn(R,ee){R=R.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(U)?ee:U}function Qn(R){return R instanceof Date&&!isNaN(R.valueOf())}const lr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function et(R,ee,U,ce,$e,St,It=!1){let mn="",er=!1;if(isFinite(R)){let fr=function yr(R){let ce,$e,St,It,mn,ee=Math.abs(R)+"",U=0;for(($e=ee.indexOf("."))>-1&&(ee=ee.replace(".","")),(St=ee.search(/e/i))>0?($e<0&&($e=St),$e+=+ee.slice(St+1),ee=ee.substring(0,St)):$e<0&&($e=ee.length),St=0;"0"===ee.charAt(St);St++);if(St===(mn=ee.length))ce=[0],$e=1;else{for(mn--;"0"===ee.charAt(mn);)mn--;for($e-=St,ce=[],It=0;St<=mn;St++,It++)ce[It]=Number(ee.charAt(St))}return $e>22&&(ce=ce.splice(0,21),U=$e-1,$e=1),{digits:ce,exponent:U,integerLen:$e}}(R);It&&(fr=function Rn(R){if(0===R.digits[0])return R;const ee=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===ee?R.digits.push(0,0):1===ee&&R.digits.push(0),R.integerLen+=2),R}(fr));let or=ee.minInt,jn=ee.minFrac,Gr=ee.maxFrac;if(St){const li=St.match(lr);if(null===li)throw new Error(`${St} is not a valid digit info`);const Ko=li[1],Mi=li[3],Ds=li[5];null!=Ko&&(or=wn(Ko)),null!=Mi&&(jn=wn(Mi)),null!=Ds?Gr=wn(Ds):null!=Mi&&jn>Gr&&(Gr=jn)}!function Hn(R,ee,U){if(ee>U)throw new Error(`The minimum number of digits after fraction (${ee}) is higher than the maximum (${U}).`);let ce=R.digits,$e=ce.length-R.integerLen;const St=Math.min(Math.max(ee,$e),U);let It=St+R.integerLen,mn=ce[It];if(It>0){ce.splice(Math.max(R.integerLen,It));for(let jn=It;jn<ce.length;jn++)ce[jn]=0}else{$e=Math.max(0,$e),R.integerLen=1,ce.length=Math.max(1,It=St+1),ce[0]=0;for(let jn=1;jn<It;jn++)ce[jn]=0}if(mn>=5)if(It-1<0){for(let jn=0;jn>It;jn--)ce.unshift(0),R.integerLen++;ce.unshift(1),R.integerLen++}else ce[It-1]++;for(;$e<Math.max(0,St);$e++)ce.push(0);let er=0!==St;const fr=ee+R.integerLen,or=ce.reduceRight(function(jn,Gr,Un,Lr){return Lr[Un]=(Gr+=jn)<10?Gr:Gr-10,er&&(0===Lr[Un]&&Un>=fr?Lr.pop():er=!1),Gr>=10?1:0},0);or&&(ce.unshift(or),R.integerLen++)}(fr,jn,Gr);let Un=fr.digits,Lr=fr.integerLen;const Go=fr.exponent;let Vo=[];for(er=Un.every(li=>!li);Lr<or;Lr++)Un.unshift(0);for(;Lr<0;Lr++)Un.unshift(0);Lr>0?Vo=Un.splice(Lr,Un.length):(Vo=Un,Un=[0]);const ti=[];for(Un.length>=ee.lgSize&&ti.unshift(Un.splice(-ee.lgSize,Un.length).join(""));Un.length>ee.gSize;)ti.unshift(Un.splice(-ee.gSize,Un.length).join(""));Un.length&&ti.unshift(Un.join("")),mn=ti.join(nn(U,ce)),Vo.length&&(mn+=nn(U,$e)+Vo.join("")),Go&&(mn+=nn(U,Ce.Exponential)+"+"+Go)}else mn=nn(U,Ce.Infinity);return mn=R<0&&!er?ee.negPre+mn+ee.negSuf:ee.posPre+mn+ee.posSuf,mn}function yt(R,ee,U,ce,$e){const It=Bn(Xt(ee,He.Currency),nn(ee,Ce.MinusSign));return It.minFrac=function Pt(R){let ee;const U=it[R];return U&&(ee=U[2]),"number"==typeof ee?ee:2}(ce),It.maxFrac=It.minFrac,et(R,It,ee,Ce.CurrencyGroup,Ce.CurrencyDecimal,$e).replace("\xa4",U).replace("\xa4","").trim()}function Qt(R,ee,U){return et(R,Bn(Xt(ee,He.Decimal),nn(ee,Ce.MinusSign)),ee,Ce.Group,Ce.Decimal,U)}function Bn(R,ee="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=R.split(";"),$e=ce[0],St=ce[1],It=-1!==$e.indexOf(".")?$e.split("."):[$e.substring(0,$e.lastIndexOf("0")+1),$e.substring($e.lastIndexOf("0")+1)],mn=It[0],er=It[1]||"";U.posPre=mn.substring(0,mn.indexOf("#"));for(let or=0;or<er.length;or++){const jn=er.charAt(or);"0"===jn?U.minFrac=U.maxFrac=or+1:"#"===jn?U.maxFrac=or+1:U.posSuf+=jn}const fr=mn.split(",");if(U.gSize=fr[1]?fr[1].length:0,U.lgSize=fr[2]||fr[1]?(fr[2]||fr[1]).length:0,St){const or=$e.length-U.posPre.length-U.posSuf.length,jn=St.indexOf("#");U.negPre=St.substring(0,jn).replace(/'/g,""),U.negSuf=St.slice(jn+or).replace(/'/g,"")}else U.negPre=ee+U.posPre,U.negSuf=U.posSuf;return U}function wn(R){const ee=parseInt(R);if(isNaN(ee))throw new Error("Invalid integer literal when parsing "+R);return ee}function Qr(R,ee){ee=encodeURIComponent(ee);for(const U of R.split(";")){const ce=U.indexOf("="),[$e,St]=-1==ce?[U,""]:[U.slice(0,ce),U.slice(ce+1)];if($e.trim()===ee)return decodeURIComponent(St)}return null}let Dn=(()=>{class R{constructor(U,ce,$e,St){this._iterableDiffers=U,this._keyValueDiffers=ce,this._ngEl=$e,this._renderer=St,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),U.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),U.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!!U[ce])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(U).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(U,ce){(U=U.trim())&&U.split(/\s+/g).forEach($e=>{ce?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class Rr{constructor(ee,U,ce,$e){this.$implicit=ee,this.ngForOf=U,this.index=ce,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class R{constructor(U,ce,$e){this._viewContainer=U,this._template=ce,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ce=this._viewContainer;U.forEachOperation(($e,St,It)=>{if(null==$e.previousIndex)ce.createEmbeddedView(this._template,new Rr($e.item,this._ngForOf,-1,-1),null===It?void 0:It);else if(null==It)ce.remove(null===St?void 0:St);else if(null!==St){const mn=ce.get(St);ce.move(mn,It),Cr(mn,$e)}});for(let $e=0,St=ce.length;$e<St;$e++){const mn=ce.get($e).context;mn.index=$e,mn.count=St,mn.ngForOf=this._ngForOf}U.forEachIdentityChange($e=>{Cr(ce.get($e.currentIndex),$e)})}static ngTemplateContextGuard(U,ce){return!0}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function Cr(R,ee){R.context.$implicit=ee.item}let Jn=(()=>{class R{constructor(U,ce){this._viewContainer=U,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Gn("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Gn("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ce){return!0}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.s_b),n.Y36(n.Rgc))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function Gn(R,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,n.AaK)(ee)}'.`)}class pr{constructor(ee,U){this._viewContainerRef=ee,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ee){ee&&!this._created?this.create():!ee&&this._created&&this.destroy()}}let Pr=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(U)}_matchCase(U){const ce=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(U){if(this._defaultViews&&U!==this._defaultUsed){this._defaultUsed=U;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(U)}}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275dir=n.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),R})(),qr=(()=>{class R{constructor(U,ce,$e){this.ngSwitch=$e,$e._addCase(),this._view=new pr(U,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(Pr,9))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),R})(),Xr=(()=>{class R{constructor(U,ce,$e){$e._addDefault(new pr(U,ce))}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(Pr,9))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngSwitchDefault",""]],standalone:!0}),R})(),be=(()=>{class R{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$e,ngTemplateOutletContext:St,ngTemplateOutletInjector:It}=this;this._viewRef=ce.createEmbeddedView($e,St,It?{injector:It}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.s_b))},R.\u0275dir=n.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[n.TTD]}),R})();function Q(R,ee){return new n.vHH(2100,!1)}class je{createSubscription(ee,U){return ee.subscribe({next:U,error:ce=>{throw ce}})}dispose(ee){ee.unsubscribe()}}class Rt{createSubscription(ee,U){return ee.then(U,ce=>{throw ce})}dispose(ee){}}const cn=new Rt,hn=new je;let gn=(()=>{class R{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ce=>this._updateLatestValue(U,ce))}_selectStrategy(U){if((0,n.QGY)(U))return cn;if((0,n.F4k)(U))return hn;throw Q()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ce){U===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.sBO,16))},R.\u0275pipe=n.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})(),ir=(()=>{class R{transform(U){if(null==U)return null;if("string"!=typeof U)throw Q();return U.toLowerCase()}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275pipe=n.Yjl({name:"lowercase",type:R,pure:!0,standalone:!0}),R})();const Oo=new n.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Zo=(()=>{class R{constructor(U,ce){this.locale=U,this.defaultTimezone=ce}transform(U,ce="mediumDate",$e,St){if(null==U||""===U||U!=U)return null;try{return vt(U,ce,St||this.locale,$e??this.defaultTimezone??void 0)}catch(It){throw Q()}}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.soG,16),n.Y36(Oo,24))},R.\u0275pipe=n.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),zo=(()=>{class R{transform(U){return JSON.stringify(U,null,2)}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275pipe=n.Yjl({name:"json",type:R,pure:!1,standalone:!0}),R})(),Xo=(()=>{class R{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=lo}transform(U,ce=lo){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const $e=this.differ.diff(U),St=ce!==this.compareFn;return $e&&(this.keyValues=[],$e.forEachItem(It=>{this.keyValues.push(function Lo(R,ee){return{key:R,value:ee}}(It.key,It.currentValue))})),($e||St)&&(this.keyValues.sort(ce),this.compareFn=ce),this.keyValues}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.aQg,16))},R.\u0275pipe=n.Yjl({name:"keyvalue",type:R,pure:!1,standalone:!0}),R})();function lo(R,ee){const U=R.key,ce=ee.key;if(U===ce)return 0;if(void 0===U)return 1;if(void 0===ce)return-1;if(null===U)return 1;if(null===ce)return-1;if("string"==typeof U&&"string"==typeof ce)return U<ce?-1:1;if("number"==typeof U&&"number"==typeof ce)return U-ce;if("boolean"==typeof U&&"boolean"==typeof ce)return U<ce?-1:1;const $e=String(U),St=String(ce);return $e==St?0:$e<St?-1:1}let Fo=(()=>{class R{constructor(U){this._locale=U}transform(U,ce,$e){if(!function bo(R){return!(null==R||""===R||R!=R)}(U))return null;$e=$e||this._locale;try{return Qt(function ko(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(U),$e,ce)}catch(St){throw Q()}}}return R.\u0275fac=function(U){return new(U||R)(n.Y36(n.soG,16))},R.\u0275pipe=n.Yjl({name:"number",type:R,pure:!0,standalone:!0}),R})();let No=(()=>{class R{transform(U,ce,$e){if(null==U)return null;if(!this.supports(U))throw Q();return U.slice(ce,$e)}supports(U){return"string"==typeof U||Array.isArray(U)}}return R.\u0275fac=function(U){return new(U||R)},R.\u0275pipe=n.Yjl({name:"slice",type:R,pure:!1,standalone:!0}),R})(),Jo=(()=>{class R{}return R.\u0275fac=function(U){return new(U||R)},R.\u0275mod=n.oAB({type:R}),R.\u0275inj=n.cJS({}),R})();const Uo="browser";function po(R){return R===Uo}function no(R){return"server"===R}let Bo=(()=>{class R{}return R.\u0275prov=(0,n.Yz7)({token:R,providedIn:"root",factory:()=>new Mo((0,n.LFG)(P),window)}),R})();class Mo{constructor(ee,U){this.document=ee,this.window=U,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const U=function kr(R,ee){const U=R.getElementById(ee)||R.getElementsByName(ee)[0];if(U)return U;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const ce=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let $e=ce.currentNode;for(;$e;){const St=$e.shadowRoot;if(St){const It=St.getElementById(ee)||St.querySelector(`[name="${ee}"]`);if(It)return It}$e=ce.nextNode()}}return null}(this.document,ee);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=ee)}}scrollToElement(ee){const U=ee.getBoundingClientRect(),ce=U.left+this.window.pageXOffset,$e=U.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(ce-St[0],$e-St[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=Hr(this.window.history)||Hr(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hr(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Ze{}},529:(_e,ie,v)=>{"use strict";v.d(ie,{JF:()=>Pt,LE:()=>Ye,TP:()=>ht,UA:()=>Ce,WM:()=>V,Zn:()=>Ie,eN:()=>Ae,mL:()=>J});var n=v(6895),e=v(4650),h=v(1086),F=v(6498),S=v(1406),w=v(2198),P=v(4850);class B{}class Z{}class V{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?this.lazyInit="string"==typeof Ue?()=>{this.headers=new Map,Ue.split("\n").forEach(ke=>{const mt=ke.indexOf(":");if(mt>0){const vt=ke.slice(0,mt),en=vt.toLowerCase(),Yt=ke.slice(mt+1).trim();this.maybeSetNormalizedName(vt,en),this.headers.has(en)?this.headers.get(en).push(Yt):this.headers.set(en,[Yt])}})}:()=>{this.headers=new Map,Object.keys(Ue).forEach(ke=>{let mt=Ue[ke];const vt=ke.toLowerCase();"string"==typeof mt&&(mt=[mt]),mt.length>0&&(this.headers.set(vt,mt),this.maybeSetNormalizedName(ke,vt))})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const ke=this.headers.get(Ue.toLowerCase());return ke&&ke.length>0?ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,ke){return this.clone({name:Ue,value:ke,op:"a"})}set(Ue,ke){return this.clone({name:Ue,value:ke,op:"s"})}delete(Ue,ke){return this.clone({name:Ue,value:ke,op:"d"})}maybeSetNormalizedName(Ue,ke){this.normalizedNames.has(ke)||this.normalizedNames.set(ke,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(ke=>{this.headers.set(ke,Ue.headers.get(ke)),this.normalizedNames.set(ke,Ue.normalizedNames.get(ke))})}clone(Ue){const ke=new V;return ke.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,ke.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),ke}applyUpdate(Ue){const ke=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let mt=Ue.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(Ue.name,ke);const vt=("a"===Ue.op?this.headers.get(ke):void 0)||[];vt.push(...mt),this.headers.set(ke,vt);break;case"d":const en=Ue.value;if(en){let Yt=this.headers.get(ke);if(!Yt)return;Yt=Yt.filter(vn=>-1===en.indexOf(vn)),0===Yt.length?(this.headers.delete(ke),this.normalizedNames.delete(ke)):this.headers.set(ke,Yt)}else this.headers.delete(ke),this.normalizedNames.delete(ke)}}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(ke=>Ue(this.normalizedNames.get(ke),this.headers.get(ke)))}}class J{encodeKey(Ue){return ae(Ue)}encodeValue(Ue){return ae(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const ne=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ae(_t){return encodeURIComponent(_t).replace(ne,(Ue,ke)=>ue[ke]??Ue)}function Ee(_t){return`${_t}`}class Ye{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new J,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function q(_t,Ue){const ke=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(vt=>{const en=vt.indexOf("="),[Yt,vn]=-1==en?[Ue.decodeKey(vt),""]:[Ue.decodeKey(vt.slice(0,en)),Ue.decodeValue(vt.slice(en+1))],Kt=ke.get(Yt)||[];Kt.push(vn),ke.set(Yt,Kt)}),ke}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(ke=>{const mt=Ue.fromObject[ke],vt=Array.isArray(mt)?mt.map(Ee):[Ee(mt)];this.map.set(ke,vt)})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const ke=this.map.get(Ue);return ke?ke[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,ke){return this.clone({param:Ue,value:ke,op:"a"})}appendAll(Ue){const ke=[];return Object.keys(Ue).forEach(mt=>{const vt=Ue[mt];Array.isArray(vt)?vt.forEach(en=>{ke.push({param:mt,value:en,op:"a"})}):ke.push({param:mt,value:vt,op:"a"})}),this.clone(ke)}set(Ue,ke){return this.clone({param:Ue,value:ke,op:"s"})}delete(Ue,ke){return this.clone({param:Ue,value:ke,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const ke=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(mt=>ke+"="+this.encoder.encodeValue(mt)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const ke=new Ye({encoder:this.encoder});return ke.cloneFrom=this.cloneFrom||this,ke.updates=(this.updates||[]).concat(Ue),ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const ke=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];ke.push(Ee(Ue.value)),this.map.set(Ue.param,ke);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let mt=this.map.get(Ue.param)||[];const vt=mt.indexOf(Ee(Ue.value));-1!==vt&&mt.splice(vt,1),mt.length>0?this.map.set(Ue.param,mt):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class ze{constructor(){this.map=new Map}set(Ue,ke){return this.map.set(Ue,ke),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function he(_t){return typeof ArrayBuffer<"u"&&_t instanceof ArrayBuffer}function ge(_t){return typeof Blob<"u"&&_t instanceof Blob}function de(_t){return typeof FormData<"u"&&_t instanceof FormData}class He{constructor(Ue,ke,mt,vt){let en;if(this.url=ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function Ve(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==mt?mt:null,en=vt):en=mt,en&&(this.reportProgress=!!en.reportProgress,this.withCredentials=!!en.withCredentials,en.responseType&&(this.responseType=en.responseType),en.headers&&(this.headers=en.headers),en.context&&(this.context=en.context),en.params&&(this.params=en.params)),this.headers||(this.headers=new V),this.context||(this.context=new ze),this.params){const Yt=this.params.toString();if(0===Yt.length)this.urlWithParams=ke;else{const vn=ke.indexOf("?");this.urlWithParams=ke+(-1===vn?"?":vn<ke.length-1?"&":"")+Yt}}else this.params=new Ye,this.urlWithParams=ke}serializeBody(){return null===this.body?null:he(this.body)||ge(this.body)||de(this.body)||function it(_t){return typeof URLSearchParams<"u"&&_t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||de(this.body)?null:ge(this.body)?this.body.type||null:he(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){const ke=Ue.method||this.method,mt=Ue.url||this.url,vt=Ue.responseType||this.responseType,en=void 0!==Ue.body?Ue.body:this.body,Yt=void 0!==Ue.withCredentials?Ue.withCredentials:this.withCredentials,vn=void 0!==Ue.reportProgress?Ue.reportProgress:this.reportProgress;let Kt=Ue.headers||this.headers,Re=Ue.params||this.params;const Dt=Ue.context??this.context;return void 0!==Ue.setHeaders&&(Kt=Object.keys(Ue.setHeaders).reduce((De,tt)=>De.set(tt,Ue.setHeaders[tt]),Kt)),Ue.setParams&&(Re=Object.keys(Ue.setParams).reduce((De,tt)=>De.set(tt,Ue.setParams[tt]),Re)),new He(ke,mt,en,{params:Re,headers:Kt,context:Dt,reportProgress:vn,responseType:vt,withCredentials:Yt})}}var Te=(()=>((Te=Te||{})[Te.Sent=0]="Sent",Te[Te.UploadProgress=1]="UploadProgress",Te[Te.ResponseHeader=2]="ResponseHeader",Te[Te.DownloadProgress=3]="DownloadProgress",Te[Te.Response=4]="Response",Te[Te.User=5]="User",Te))();class Me{constructor(Ue,ke=200,mt="OK"){this.headers=Ue.headers||new V,this.status=void 0!==Ue.status?Ue.status:ke,this.statusText=Ue.statusText||mt,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class re extends Me{constructor(Ue={}){super(Ue),this.type=Te.ResponseHeader}clone(Ue={}){return new re({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Ie extends Me{constructor(Ue={}){super(Ue),this.type=Te.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new Ie({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Ce extends Me{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function we(_t,Ue){return{body:Ue,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials}}let Ae=(()=>{class _t{constructor(ke){this.handler=ke}request(ke,mt,vt={}){let en;if(ke instanceof He)en=ke;else{let Kt,Re;Kt=vt.headers instanceof V?vt.headers:new V(vt.headers),vt.params&&(Re=vt.params instanceof Ye?vt.params:new Ye({fromObject:vt.params})),en=new He(ke,mt,void 0!==vt.body?vt.body:null,{headers:Kt,context:vt.context,params:Re,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const Yt=(0,h.of)(en).pipe((0,S.b)(Kt=>this.handler.handle(Kt)));if(ke instanceof He||"events"===vt.observe)return Yt;const vn=Yt.pipe((0,w.h)(Kt=>Kt instanceof Ie));switch(vt.observe||"body"){case"body":switch(en.responseType){case"arraybuffer":return vn.pipe((0,P.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kt.body}));case"blob":return vn.pipe((0,P.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof Blob))throw new Error("Response is not a Blob.");return Kt.body}));case"text":return vn.pipe((0,P.U)(Kt=>{if(null!==Kt.body&&"string"!=typeof Kt.body)throw new Error("Response is not a string.");return Kt.body}));default:return vn.pipe((0,P.U)(Kt=>Kt.body))}case"response":return vn;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(ke,mt={}){return this.request("DELETE",ke,mt)}get(ke,mt={}){return this.request("GET",ke,mt)}head(ke,mt={}){return this.request("HEAD",ke,mt)}jsonp(ke,mt){return this.request("JSONP",ke,{params:(new Ye).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ke,mt={}){return this.request("OPTIONS",ke,mt)}patch(ke,mt,vt={}){return this.request("PATCH",ke,we(vt,mt))}post(ke,mt,vt={}){return this.request("POST",ke,we(vt,mt))}put(ke,mt,vt={}){return this.request("PUT",ke,we(vt,mt))}}return _t.\u0275fac=function(ke){return new(ke||_t)(e.LFG(B))},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})();class Ge{constructor(Ue,ke){this.next=Ue,this.interceptor=ke}handle(Ue){return this.interceptor.intercept(Ue,this.next)}}const ht=new e.OlP("HTTP_INTERCEPTORS");let Je=(()=>{class _t{intercept(ke,mt){return mt.handle(ke)}}return _t.\u0275fac=function(ke){return new(ke||_t)},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const qe=/^\)\]\}',?\n/;let me=(()=>{class _t{constructor(ke){this.xhrFactory=ke}handle(ke){if("JSONP"===ke.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F.y(mt=>{const vt=this.xhrFactory.build();if(vt.open(ke.method,ke.urlWithParams),ke.withCredentials&&(vt.withCredentials=!0),ke.headers.forEach((Ut,Xe)=>vt.setRequestHeader(Ut,Xe.join(","))),ke.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!ke.headers.has("Content-Type")){const Ut=ke.detectContentTypeHeader();null!==Ut&&vt.setRequestHeader("Content-Type",Ut)}if(ke.responseType){const Ut=ke.responseType.toLowerCase();vt.responseType="json"!==Ut?Ut:"text"}const en=ke.serializeBody();let Yt=null;const vn=()=>{if(null!==Yt)return Yt;const Ut=vt.statusText||"OK",Xe=new V(vt.getAllResponseHeaders()),At=function rn(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(vt)||ke.url;return Yt=new re({headers:Xe,status:vt.status,statusText:Ut,url:At}),Yt},Kt=()=>{let{headers:Ut,status:Xe,statusText:At,url:Tt}=vn(),Ot=null;204!==Xe&&(Ot=typeof vt.response>"u"?vt.responseText:vt.response),0===Xe&&(Xe=Ot?200:0);let ln=Xe>=200&&Xe<300;if("json"===ke.responseType&&"string"==typeof Ot){const Ht=Ot;Ot=Ot.replace(qe,"");try{Ot=""!==Ot?JSON.parse(Ot):null}catch(dt){Ot=Ht,ln&&(ln=!1,Ot={error:dt,text:Ot})}}ln?(mt.next(new Ie({body:Ot,headers:Ut,status:Xe,statusText:At,url:Tt||void 0})),mt.complete()):mt.error(new Ce({error:Ot,headers:Ut,status:Xe,statusText:At,url:Tt||void 0}))},Re=Ut=>{const{url:Xe}=vn(),At=new Ce({error:Ut,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:Xe||void 0});mt.error(At)};let Dt=!1;const De=Ut=>{Dt||(mt.next(vn()),Dt=!0);let Xe={type:Te.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(Xe.total=Ut.total),"text"===ke.responseType&&!!vt.responseText&&(Xe.partialText=vt.responseText),mt.next(Xe)},tt=Ut=>{let Xe={type:Te.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(Xe.total=Ut.total),mt.next(Xe)};return vt.addEventListener("load",Kt),vt.addEventListener("error",Re),vt.addEventListener("timeout",Re),vt.addEventListener("abort",Re),ke.reportProgress&&(vt.addEventListener("progress",De),null!==en&&vt.upload&&vt.upload.addEventListener("progress",tt)),vt.send(en),mt.next({type:Te.Sent}),()=>{vt.removeEventListener("error",Re),vt.removeEventListener("abort",Re),vt.removeEventListener("load",Kt),vt.removeEventListener("timeout",Re),ke.reportProgress&&(vt.removeEventListener("progress",De),null!==en&&vt.upload&&vt.upload.removeEventListener("progress",tt)),vt.readyState!==vt.DONE&&vt.abort()}})}}return _t.\u0275fac=function(ke){return new(ke||_t)(e.LFG(n.JF))},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})();const Et=new e.OlP("XSRF_COOKIE_NAME"),Ke=new e.OlP("XSRF_HEADER_NAME");class jt{}let wt=(()=>{class _t{constructor(ke,mt,vt){this.doc=ke,this.platform=mt,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ke=this.doc.cookie||"";return ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,n.Mx)(ke,this.cookieName),this.lastCookieString=ke),this.lastToken}}return _t.\u0275fac=function(ke){return new(ke||_t)(e.LFG(n.K0),e.LFG(e.Lbi),e.LFG(Et))},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),dn=(()=>{class _t{constructor(ke,mt){this.tokenService=ke,this.headerName=mt}intercept(ke,mt){const vt=ke.url.toLowerCase();if("GET"===ke.method||"HEAD"===ke.method||vt.startsWith("http://")||vt.startsWith("https://"))return mt.handle(ke);const en=this.tokenService.getToken();return null!==en&&!ke.headers.has(this.headerName)&&(ke=ke.clone({headers:ke.headers.set(this.headerName,en)})),mt.handle(ke)}}return _t.\u0275fac=function(ke){return new(ke||_t)(e.LFG(jt),e.LFG(Ke))},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),kt=(()=>{class _t{constructor(ke,mt){this.backend=ke,this.injector=mt,this.chain=null}handle(ke){if(null===this.chain){const mt=this.injector.get(ht,[]);this.chain=mt.reduceRight((vt,en)=>new Ge(vt,en),this.backend)}return this.chain.handle(ke)}}return _t.\u0275fac=function(ke){return new(ke||_t)(e.LFG(Z),e.LFG(e.zs3))},_t.\u0275prov=e.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Nt=(()=>{class _t{static disable(){return{ngModule:_t,providers:[{provide:dn,useClass:Je}]}}static withOptions(ke={}){return{ngModule:_t,providers:[ke.cookieName?{provide:Et,useValue:ke.cookieName}:[],ke.headerName?{provide:Ke,useValue:ke.headerName}:[]]}}}return _t.\u0275fac=function(ke){return new(ke||_t)},_t.\u0275mod=e.oAB({type:_t}),_t.\u0275inj=e.cJS({providers:[dn,{provide:ht,useExisting:dn,multi:!0},{provide:jt,useClass:wt},{provide:Et,useValue:"XSRF-TOKEN"},{provide:Ke,useValue:"X-XSRF-TOKEN"}]}),_t})(),Pt=(()=>{class _t{}return _t.\u0275fac=function(ke){return new(ke||_t)},_t.\u0275mod=e.oAB({type:_t}),_t.\u0275inj=e.cJS({providers:[Ae,{provide:B,useClass:kt},me,{provide:Z,useExisting:me}],imports:[Nt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),_t})()},4650:(_e,ie,v)=>{"use strict";v.d(ie,{$8M:()=>sa,$Z:()=>Lg,AFp:()=>wh,ALo:()=>wS,AaK:()=>B,Akn:()=>ji,AsE:()=>wl,BQk:()=>ch,CHM:()=>ui,CRH:()=>ZS,CZH:()=>Zm,Ckj:()=>Cc,CqO:()=>n_,D6c:()=>KA,DdM:()=>Dh,Dn7:()=>PS,EJc:()=>hp,EiD:()=>_c,EpF:()=>HC,F$t:()=>i_,F4k:()=>$C,FYo:()=>Sd,FiY:()=>Na,G48:()=>Ph,Gf:()=>$S,GfV:()=>Ed,GkF:()=>e_,Gpc:()=>G,Gre:()=>Ss,Hsn:()=>WC,Ikx:()=>Ty,JOm:()=>Li,JVY:()=>cg,Jf7:()=>bd,KtG:()=>Xs,L6k:()=>cv,LAX:()=>Zn,LFG:()=>ao,LSH:()=>fg,Lbi:()=>fp,Lck:()=>Y0,MAs:()=>qE,MGl:()=>vm,MMx:()=>G_,MT6:()=>nc,NdJ:()=>r_,OlP:()=>hr,Oqu:()=>gh,PXZ:()=>PA,PiD:()=>Ua,Q6J:()=>Qv,QGY:()=>t_,QP$:()=>Qn,Qsj:()=>ff,R0b:()=>Ks,RDi:()=>co,Rgc:()=>up,SBq:()=>mr,Sil:()=>AD,Suo:()=>jS,TTD:()=>Wo,TgZ:()=>hm,Tol:()=>C_,Udp:()=>ph,VKq:()=>H_,W1O:()=>K_,WLB:()=>CS,X6Q:()=>NA,XFs:()=>kt,Xpm:()=>Tt,Xts:()=>nf,Y36:()=>Cu,YKP:()=>Do,YNc:()=>QE,Yjl:()=>ur,Yz7:()=>Jt,Z0I:()=>Vt,ZZ4:()=>Jm,_Bn:()=>Ll,_UZ:()=>Xv,_Vd:()=>ts,_Yv:()=>hi,_c5:()=>WA,_uU:()=>Am,aQg:()=>xC,c2e:()=>fE,cJS:()=>nn,cQ8:()=>c_,cg1:()=>I_,dDg:()=>AE,dqk:()=>vt,eBb:()=>Vs,eFA:()=>Bl,ekj:()=>fh,eoX:()=>DE,evT:()=>Xu,f3M:()=>Sp,g9A:()=>zm,h0i:()=>sp,hGG:()=>JA,hYB:()=>a_,hij:()=>mh,iGM:()=>HS,ifc:()=>mt,ip1:()=>dE,jDz:()=>dS,kEZ:()=>$_,kL8:()=>My,l5B:()=>yS,lG2:()=>Nn,lcZ:()=>RS,lnq:()=>Dm,lqb:()=>Di,lri:()=>SE,mCW:()=>Wu,n5z:()=>Zc,oAB:()=>dt,oJD:()=>ja,oxw:()=>zC,pB0:()=>Wp,q3G:()=>Dr,qLn:()=>ns,qOj:()=>ih,qZA:()=>gm,qbA:()=>SS,qzn:()=>zu,rWj:()=>EE,s9C:()=>s_,sBO:()=>UA,sIi:()=>Ml,s_b:()=>bh,soG:()=>gC,tBr:()=>Ap,tb:()=>hC,tp0:()=>ku,uIk:()=>xl,vHH:()=>ue,vpe:()=>rc,wAp:()=>xn,xi3:()=>Om,xp6:()=>Ag,ynx:()=>mm,z2F:()=>Qs,z3N:()=>Gs,zSh:()=>_d,zs3:()=>Vi});var n=v(8929),e=v(2654),h=v(6498),F=v(6787),S=v(8117);function w(t){for(let o in t)if(t[o]===w)return o;throw Error("Could not find renamed property on target object.")}function P(t,o){for(const c in o)o.hasOwnProperty(c)&&!t.hasOwnProperty(c)&&(t[c]=o[c])}function B(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(B).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const o=t.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function Z(t,o){return null==t||""===t?null===o?"":o:null==o||""===o?t:t+" "+o}const V=w({__forward_ref__:w});function G(t){return t.__forward_ref__=G,t.toString=function(){return B(this())},t}function J(t){return q(t)?t():t}function q(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===G}class ue extends Error{constructor(o,c){super(function ae(t,o){return`NG0${Math.abs(t)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}function he(t,o){throw new ue(-201,!1)}function Je(t,o){null==t&&function lt(t,o,c,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${c} ${u} ${o} <=Actual]`))}(o,t,null,"!=")}function Jt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xt(t){return qe(t,Ke)||qe(t,wt)}function Vt(t){return null!==Xt(t)}function qe(t,o){return t.hasOwnProperty(o)?t[o]:null}function Et(t){return t&&(t.hasOwnProperty(jt)||t.hasOwnProperty(dn))?t[jt]:null}const Ke=w({\u0275prov:w}),jt=w({\u0275inj:w}),wt=w({ngInjectableDef:w}),dn=w({ngInjectorDef:w});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let We;function Nt(t){const o=We;return We=t,o}function Pt(t,o,c){const u=Xt(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&kt.Optional?null:void 0!==o?o:void he(B(t))}function bn(t){return{toString:t}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),mt=(()=>{return(t=mt||(mt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",mt;var t})();const vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vn={},Kt=[],Re=w({\u0275cmp:w}),Dt=w({\u0275dir:w}),De=w({\u0275pipe:w}),tt=w({\u0275mod:w}),Ut=w({\u0275fac:w}),Xe=w({__NG_ELEMENT_ID__:w});let At=0;function Tt(t){return bn(()=>{const c=!0===t.standalone,u={},f={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c"+At++,styles:t.styles||Kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},m=t.dependencies,y=t.features;return f.inputs=Vn(t.inputs,u),f.outputs=Vn(t.outputs),y&&y.forEach(D=>D(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(ln).filter(Ht):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ln).filter(Ht):null,f})}function ln(t){return yn(t)||On(t)}function Ht(t){return null!==t}function dt(t){return bn(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vn(t,o){if(null==t)return vn;const c={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=u,o&&(o[f]=m)}return c}const Nn=Tt;function ur(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function yn(t){return t[Re]||null}function On(t){return t[Dt]||null}function Ln(t){return t[De]||null}function Qn(t){const o=yn(t)||On(t)||Ln(t);return null!==o&&o.standalone}function lr(t,o){const c=t[tt]||null;if(!c&&!0===o)throw new Error(`Type ${B(t)} does not have '\u0275mod' property.`);return c}function Gn(t){return Array.isArray(t)&&"object"==typeof t[1]}function pr(t){return Array.isArray(t)&&!0===t[1]}function Pr(t){return 0!=(8&t.flags)}function qr(t){return 2==(2&t.flags)}function Xr(t){return 1==(1&t.flags)}function xr(t){return null!==t.template}function Be(t){return 0!=(256&t[2])}function lo(t,o){return t.hasOwnProperty(Ut)?t[Ut]:null}class Fo{constructor(o,c,u){this.previousValue=o,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Wo(){return br}function br(t){return t.type.prototype.ngOnChanges&&(t.setInput=ko),bo}function bo(){const t=ai(this),o=t?.current;if(o){const c=t.previous;if(c===vn)t.previous=o;else for(let u in o)c[u]=o[u];t.current=null,this.ngOnChanges(o)}}function ko(t,o,c,u){const f=ai(t)||function Jo(t,o){return t[No]=o}(t,{previous:vn,current:null}),m=f.current||(f.current={}),y=f.previous,D=this.declaredInputs[c],x=y[D];m[D]=new Fo(x&&x.currentValue,o,y===vn),t[u]=o}Wo.ngInherit=!0;const No="__ngSimpleChanges__";function ai(t){return t[No]||null}function kn(t){for(;Array.isArray(t);)t=t[0];return t}function Hr(t,o){return kn(o[t])}function kr(t,o){return kn(o[t.index])}function Ze(t,o){return t.data[o]}function Mt(t,o){return t[o]}function pt(t,o){const c=o[t];return Gn(c)?c:c[0]}function Wt(t){return 64==(64&t[2])}function An(t,o){return null==o?null:t[o]}function $r(t){t[18]=0}function Nr(t,o){t[5]+=o;let c=t,u=t[3];for(;null!==u&&(1===o&&1===c[5]||-1===o&&0===c[5]);)u[5]+=o,c=u,u=u[3]}const Sn={lFrame:wu(null),bindingsEnabled:!0};function ut(){return Sn.bindingsEnabled}function Ft(){return Sn.lFrame.lView}function Fn(){return Sn.lFrame.tView}function ui(t){return Sn.lFrame.contextLView=t,t[8]}function Xs(t){return Sn.lFrame.contextLView=null,t}function jr(){let t=z();for(;null!==t&&64===t.type;)t=t.parent;return t}function z(){return Sn.lFrame.currentTNode}function L(t,o){const c=Sn.lFrame;c.currentTNode=t,c.isParent=o}function le(){return Sn.lFrame.isParent}function xt(){Sn.lFrame.isParent=!1}function Sr(){const t=Sn.lFrame;let o=t.bindingRootIndex;return-1===o&&(o=t.bindingRootIndex=t.tView.bindingStartIndex),o}function Er(){return Sn.lFrame.bindingIndex}function Br(){return Sn.lFrame.bindingIndex++}function Ti(t){const o=Sn.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+t,c}function ea(t,o){const c=Sn.lFrame;c.bindingIndex=c.bindingRootIndex=t,Ci(o)}function Ci(t){Sn.lFrame.currentDirectiveIndex=t}function As(){return Sn.lFrame.currentQueryIndex}function ho(t){Sn.lFrame.currentQueryIndex=t}function Yi(t){const o=t[1];return 2===o.type?o.declTNode:1===o.type?t[6]:null}function na(t,o,c){if(c&kt.SkipSelf){let f=o,m=t;for(;!(f=f.parent,null!==f||c&kt.Host||(f=Yi(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;o=f,t=m}const u=Sn.lFrame=Xn();return u.currentTNode=o,u.lView=t,!0}function is(t){const o=Xn(),c=t[1];Sn.lFrame=o,o.currentTNode=c.firstChild,o.lView=t,o.tView=c,o.contextLView=t,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Xn(){const t=Sn.lFrame,o=null===t?null:t.child;return null===o?wu(t):o}function wu(t){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=o),o}function Ru(){const t=Sn.lFrame;return Sn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const R=Ru;function ee(){const t=Ru();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $e(){return Sn.lFrame.selectedIndex}function St(t){Sn.lFrame.selectedIndex=t}function It(){const t=Sn.lFrame;return Ze(t.tView,t.selectedIndex)}function Un(t,o){for(let c=o.directiveStart,u=o.directiveEnd;c<u;c++){const m=t.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:j,ngOnDestroy:te}=m;y&&(t.contentHooks||(t.contentHooks=[])).push(-c,y),D&&((t.contentHooks||(t.contentHooks=[])).push(c,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(c,D)),x&&(t.viewHooks||(t.viewHooks=[])).push(-c,x),j&&((t.viewHooks||(t.viewHooks=[])).push(c,j),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(c,j)),null!=te&&(t.destroyHooks||(t.destroyHooks=[])).push(c,te)}}function Lr(t,o,c){ti(t,o,3,c)}function Go(t,o,c,u){(3&t[2])===c&&ti(t,o,c,u)}function Vo(t,o){let c=t[2];(3&c)===o&&(c&=2047,c+=1,t[2]=c)}function ti(t,o,c,u){const m=u??-1,y=o.length-1;let D=0;for(let x=void 0!==u?65535&t[18]:0;x<y;x++)if("number"==typeof o[x+1]){if(D=o[x],null!=u&&D>=u)break}else o[x]<0&&(t[18]+=65536),(D<m||-1==m)&&(li(t,c,o,x),t[18]=(4294901760&t[18])+x+2),x++}function li(t,o,c,u){const f=c[u]<0,m=c[u+1],D=t[f?-c[u]:c[u]];if(f){if(t[2]>>11<t[18]>>16&&(3&t[2])===o){t[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class Mi{constructor(o,c,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Si(t,o,c){let u=0;for(;u<c.length;){const f=c[u];if("number"==typeof f){if(0!==f)break;u++;const m=c[u++],y=c[u++],D=c[u++];t.setAttribute(o,y,D,m)}else{const m=f,y=c[++u];Ra(m)?t.setProperty(o,m,y):t.setAttribute(o,m,y),u++}}return u}function wa(t){return 3===t||4===t||6===t}function Ra(t){return 64===t.charCodeAt(0)}function Ts(t,o){if(null!==o&&0!==o.length)if(null===t||0===t.length)t=o.slice();else{let c=-1;for(let u=0;u<o.length;u++){const f=o[u];"number"==typeof f?c=f:0===c||Pa(t,c,f,null,-1===c||2===c?o[++u]:null)}}return t}function Pa(t,o,c,u,f){let m=0,y=t.length;if(-1===o)y=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===o){y=-1;break}if(D>o){y=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===c){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==y&&(t.splice(y,0,o),m=y+1),t.splice(m++,0,c),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}function Ms(t){return-1!==t}function xi(t){return 32767&t}function Ii(t,o){let c=function Oa(t){return t>>16}(t),u=o;for(;c>0;)u=u[15],c--;return u}let Ho=!0;function mo(t){const o=Ho;return Ho=t,o}let so=0;const Io={};function vo(t,o){const c=_o(t,o);if(-1!==c)return c;const u=o[1];u.firstCreatePass&&(t.injectorIndex=o.length,Zr(u.data,t),Zr(o,null),Zr(u.blueprint,null));const f=ss(t,o),m=t.injectorIndex;if(Ms(f)){const y=xi(f),D=Ii(f,o),x=D[1].data;for(let j=0;j<8;j++)o[m+j]=D[y+j]|x[y+j]}return o[m+8]=f,m}function Zr(t,o){t.push(0,0,0,0,0,0,0,0,o)}function _o(t,o){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===o[t.injectorIndex+8]?-1:t.injectorIndex}function ss(t,o){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let c=0,u=null,f=o;for(;null!==f;){if(u=Fa(f),null===u)return-1;if(c++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return-1}function La(t,o,c){!function ni(t,o,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Xe)&&(u=c[Xe]),null==u&&(u=c[Xe]=so++);const f=255&u;o.data[t+(f>>5)]|=1<<f}(t,o,c)}function $c(t,o,c){if(c&kt.Optional||void 0!==t)return t;he()}function sc(t,o,c,u){if(c&kt.Optional&&void 0===u&&(u=null),0==(c&(kt.Self|kt.Host))){const f=t[9],m=Nt(void 0);try{return f?f.get(o,u,c&kt.Optional):Pt(o,u,c&kt.Optional)}finally{Nt(m)}}return $c(u,0,c)}function xs(t,o,c,u=kt.Default,f){if(null!==t){if(1024&o[2]){const y=function Ou(t,o,c,u,f){let m=t,y=o;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const D=Ri(m,y,c,u|kt.Self,Io);if(D!==Io)return D;let x=m.parent;if(!x){const j=y[21];if(j){const te=j.get(c,Io,u);if(te!==Io)return te}x=Fa(y),y=y[15]}m=x}return f}(t,o,c,u,Io);if(y!==Io)return y}const m=Ri(t,o,c,u,Io);if(m!==Io)return m}return sc(o,c,u,f)}function Ri(t,o,c,u,f){const m=function Is(t){if("string"==typeof t)return t.charCodeAt(0)||0;const o=t.hasOwnProperty(Xe)?t[Xe]:void 0;return"number"==typeof o?o>=0?255&o:jc:o}(c);if("function"==typeof m){if(!na(o,t,u))return u&kt.Host?$c(f,0,u):sc(o,c,u,f);try{const y=m(u);if(null!=y||u&kt.Optional)return y;he()}finally{R()}}else if("number"==typeof m){let y=null,D=_o(t,o),x=-1,j=u&kt.Host?o[16][6]:null;for((-1===D||u&kt.SkipSelf)&&(x=-1===D?ss(t,o):o[D+8],-1!==x&&ia(u,!1)?(y=o[1],D=xi(x),o=Ii(x,o)):D=-1);-1!==D;){const te=o[1];if(wo(m,D,te.data)){const ye=Wr(D,o,c,y,u,j);if(ye!==Io)return ye}x=o[D+8],-1!==x&&ia(u,o[1].data[D+8]===j)&&wo(m,D,o)?(y=te,D=xi(x),o=Ii(x,o)):D=-1}}return f}function Wr(t,o,c,u,f,m){const y=o[1],D=y.data[t+8],te=oa(D,y,c,null==u?qr(D)&&Ho:u!=y&&0!=(3&D.type),f&kt.Host&&m===D);return null!==te?zi(o,y,te,D):Io}function oa(t,o,c,u,f){const m=t.providerIndexes,y=o.data,D=1048575&m,x=t.directiveStart,te=m>>20,Pe=f?D+te:t.directiveEnd;for(let Qe=u?D:D+te;Qe<Pe;Qe++){const bt=y[Qe];if(Qe<x&&c===bt||Qe>=x&&bt.type===c)return Qe}if(f){const Qe=y[x];if(Qe&&xr(Qe)&&Qe.type===c)return x}return null}function zi(t,o,c,u){let f=t[c];const m=o.data;if(function Ds(t){return t instanceof Mi}(f)){const y=f;y.resolving&&function at(t,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${c}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(m[c]));const D=mo(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?Nt(y.injectImpl):null;na(t,u,kt.Default);try{f=t[c]=y.factory(void 0,m,t,u),o.firstCreatePass&&c>=u.directiveStart&&function Gr(t,o,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(u){const y=br(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(t,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(t,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-t,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(t,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(t,m))}(c,m[c],o)}finally{null!==x&&Nt(x),mo(D),y.resolving=!1,R()}}return f}function wo(t,o,c){return!!(c[o+(t>>5)]&1<<t)}function ia(t,o){return!(t&kt.Self||t&kt.Host&&o)}class ws{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,u){return xs(this._tNode,this._lView,o,u,c)}}function jc(){return new ws(jr(),Ft())}function Zc(t){return bn(()=>{const o=t.prototype.constructor,c=o[Ut]||ac(o),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[Ut]||ac(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function ac(t){return q(t)?()=>{const o=ac(J(t));return o&&o()}:lo(t)}function Fa(t){const o=t[1],c=o.type;return 2===c?o.declTNode:1===c?t[6]:null}function sa(t){return function Pu(t,o){if("class"===o)return t.classes;if("style"===o)return t.styles;const c=t.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const m=c[f];if(wa(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(m===o)return c[f+1];f+=2}}}return null}(jr(),t)}const Rs="__parameters__";function Ps(t,o,c){return bn(()=>{const u=function aa(t){return function(...c){if(t){const u=t(...c);for(const f in u)this[f]=u[f]}}}(o);function f(...m){if(this instanceof f)return u.apply(this,m),this;const y=new f(...m);return D.annotation=y,D;function D(x,j,te){const ye=x.hasOwnProperty(Rs)?x[Rs]:Object.defineProperty(x,Rs,{value:[]})[Rs];for(;ye.length<=te;)ye.push(null);return(ye[te]=ye[te]||[]).push(y),x}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}class hr{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Jt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jo(t,o){void 0===o&&(o=t);for(let c=0;c<t.length;c++){let u=t[c];Array.isArray(u)?(o===t&&(o=t.slice(0,c)),jo(u,o)):o!==t&&o.push(u)}return o}function Ai(t,o){t.forEach(c=>Array.isArray(c)?Ai(c,o):o(c))}function Wc(t,o,c){o>=t.length?t.push(c):t.splice(o,0,c)}function dc(t,o){return o>=t.length-1?t.pop():t.splice(o,1)[0]}function ka(t,o){const c=[];for(let u=0;u<t;u++)c.push(o);return c}function W(t,o,c){let u=Le(t,o);return u>=0?t[1|u]=c:(u=~u,function A(t,o,c,u){let f=t.length;if(f==o)t.push(c,u);else if(1===f)t.push(u,t[0]),t[0]=c;else{for(f--,t.push(t[f-1],t[f]);f>o;)t[f]=t[f-2],f--;t[o]=c,t[o+1]=u}}(t,u,o,c)),u}function H(t,o){const c=Le(t,o);if(c>=0)return t[1|c]}function Le(t,o){return function fn(t,o,c){let u=0,f=t.length>>c;for(;f!==u;){const m=u+(f-u>>1),y=t[m<<c];if(o===y)return m<<c;y>o?f=m:u=m+1}return~(f<<c)}(t,o,1)}const Jc={},Kc="__NG_DI_FLAG__",Fu="ngTempTokenPath",Cp=/\n/gm,qm="__source";let Ls;function Fs(t){const o=Ls;return Ls=t,o}function Wl(t,o=kt.Default){if(void 0===Ls)throw new ue(-203,!1);return null===Ls?Pt(t,void 0,o):Ls.get(t,o&kt.Optional?null:void 0,o)}function ao(t,o=kt.Default){return(function nt(){return We}()||Wl)(J(t),o)}function Sp(t,o=kt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ao(t,o)}function Jl(t){const o=[];for(let c=0;c<t.length;c++){const u=J(t[c]);if(Array.isArray(u)){if(0===u.length)throw new ue(900,!1);let f,m=kt.Default;for(let y=0;y<u.length;y++){const D=u[y],x=Hh(D);"number"==typeof x?-1===x?f=D.token:m|=x:f=D}o.push(ao(f,m))}else o.push(ao(u))}return o}function Qc(t,o){return t[Kc]=o,t.prototype[Kc]=o,t}function Hh(t){return t[Kc]}const Ap=Qc(Ps("Inject",t=>({token:t})),-1),Na=Qc(Ps("Optional"),8),Ua=Qc(Ps("Self"),2),ku=Qc(Ps("SkipSelf"),4);var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();const iu=new Map;let Fi=0;const nd="__ngContext__";function pi(t,o){Gn(o)?(t[nd]=o[20],function Qh(t){iu.set(t[20],t)}(o)):t[nd]=o}function id(t,o){return undefined(t,o)}function hc(t){const o=t[3];return pr(o)?o[3]:o}function Vu(t){return Hu(t[13])}function sd(t){return Hu(t[4])}function Hu(t){for(;null!==t&&!pr(t);)t=t[4];return t}function pa(t,o,c,u,f){if(null!=u){let m,y=!1;pr(u)?m=u:Gn(u)&&(y=!0,u=u[0]);const D=kn(u);0===t&&null!==c?null==f?oi(o,c,D):qi(o,c,D,f||null,!0):1===t&&null!==c?qi(o,c,D,f||null,!0):2===t?function jp(t,o,c){const u=cd(t,o);u&&function Qo(t,o,c,u){t.removeChild(o,c,u)}(t,u,o,c)}(o,D,y):3===t&&o.destroyNode(D),null!=m&&function dd(t,o,c,u,f){const m=c[7];m!==kn(c)&&pa(o,t,u,m,f);for(let D=10;D<c.length;D++){const x=c[D];ds(x[1],x,t,o,u,m)}}(o,t,m,c,f)}}function cu(t,o,c){return t.createElement(o,c)}function ad(t,o){const c=t[9],u=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Nr(f,-1)),c.splice(u,1)}function mc(t,o){if(t.length<=10)return;const c=10+o,u=t[c];if(u){const f=u[17];null!==f&&f!==t&&ad(f,u),o>0&&(t[c-1][4]=u[4]);const m=dc(t,10+o);!function Np(t,o){ds(t,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=m[19];null!==y&&y.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function uu(t,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&ds(t,o,c,3,null,null),function sg(t){let o=t[13];if(!o)return $u(t[1],t);for(;o;){let c=null;if(Gn(o))c=o[13];else{const u=o[10];u&&(c=u)}if(!c){for(;o&&!o[4]&&o!==t;)Gn(o)&&$u(o[1],o),o=o[3];null===o&&(o=t),Gn(o)&&$u(o[1],o),c=o&&o[4]}o=c}}(o)}}function $u(t,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Gp(t,o){let c;if(null!=t&&null!=(c=t.destroyHooks))for(let u=0;u<c.length;u+=2){const f=o[c[u]];if(!(f instanceof Mi)){const m=c[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const D=f[m[y]],x=m[y+1];try{x.call(D)}finally{}}else try{m.call(f)}finally{}}}}(t,o),function ag(t,o){const c=t.cleanup,u=o[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+1],D="function"==typeof y?y(o):kn(o[y]),x=u[f=c[m+2]],j=c[m+3];"boolean"==typeof j?D.removeEventListener(c[m],x,j):j>=0?u[f=j]():u[f=-j].unsubscribe(),m+=2}else{const y=u[f=c[m+1]];c[m].call(y)}if(null!==u){for(let m=f+1;m<u.length;m++)(0,u[m])();o[7]=null}}(t,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&pr(o[3])){c!==o[3]&&ad(c,o);const u=o[19];null!==u&&u.detachView(t)}!function Rp(t){iu.delete(t[20])}(o)}}function Vp(t,o,c){return function Hp(t,o,c){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return c[0];if(2&u.flags){const f=t.data[u.directiveStart].encapsulation;if(f===mt.None||f===mt.Emulated)return null}return kr(u,c)}(t,o.parent,c)}function qi(t,o,c,u,f){t.insertBefore(o,c,u,f)}function oi(t,o,c){t.appendChild(o,c)}function $p(t,o,c,u,f){null!==u?qi(t,o,c,u,f):oi(t,o,c)}function cd(t,o){return t.parentNode(o)}function ls(t,o,c){return ha(t,o,c)}let du,Kn,fd,ha=function lu(t,o,c){return 40&t.type?kr(t,c):null};function ga(t,o,c,u){const f=Vp(t,u,o),m=o[11],D=ls(u.parent||o[6],u,o);if(null!=f)if(Array.isArray(c))for(let x=0;x<c.length;x++)$p(m,f,c[x],D,!1);else $p(m,f,c,D,!1)}function ld(t,o){if(null!==o){const c=o.type;if(3&c)return kr(o,t);if(4&c)return ju(-1,t[o.index]);if(8&c){const u=o.child;if(null!==u)return ld(t,u);{const f=t[o.index];return pr(f)?ju(-1,f):kn(f)}}if(32&c)return id(o,t)()||kn(t[o.index]);{const u=Kr(t,o);return null!==u?Array.isArray(u)?u[0]:ld(hc(t[16]),u):ld(t,o.next)}}return null}function Kr(t,o){return null!==o?t[16][6].projection[o.projection]:null}function ju(t,o){const c=10+t+1;if(c<o.length){const u=o[c],f=u[1].firstChild;if(null!==f)return ld(u,f)}return o[7]}function vc(t,o,c,u,f,m,y){for(;null!=c;){const D=u[c.index],x=c.type;if(y&&0===o&&(D&&pi(kn(D),u),c.flags|=4),64!=(64&c.flags))if(8&x)vc(t,o,c.child,u,f,m,!1),pa(o,t,f,D,m);else if(32&x){const j=id(c,u);let te;for(;te=j();)pa(o,t,f,te,m);pa(o,t,f,D,m)}else 16&x?Zu(t,o,u,c,f,m):pa(o,t,f,D,m);c=y?c.projectionNext:c.next}}function ds(t,o,c,u,f,m){vc(c,u,t.firstChild,o,f,m,!1)}function Zu(t,o,c,u,f,m){const y=c[16],x=y[6].projection[u.projection];if(Array.isArray(x))for(let j=0;j<x.length;j++)pa(o,t,f,x[j],m);else vc(t,o,x,y[3],f,m,!0)}function Yu(t,o,c){t.setAttribute(o,"style",c)}function ki(t,o,c){""===c?t.removeAttribute(o,"class"):t.setAttribute(o,"class",c)}function Bs(t){return function Yp(){if(void 0===du&&(du=null,vt.trustedTypes))try{du=vt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return du}()?.createHTML(t)||t}function co(t){Kn=t}function Po(t){return function ps(){if(void 0===fd&&(fd=null,vt.trustedTypes))try{fd=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}()?.createHTML(t)||t}class wr{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ov extends wr{getTypeName(){return"HTML"}}class iv extends wr{getTypeName(){return"Style"}}class hd extends wr{getTypeName(){return"Script"}}class sv extends wr{getTypeName(){return"URL"}}class Ui extends wr{getTypeName(){return"ResourceURL"}}function Gs(t){return t instanceof wr?t.changingThisBreaksApplicationSecurity:t}function zu(t,o){const c=function av(t){return t instanceof wr&&t.getTypeName()||null}(t);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function cg(t){return new ov(t)}function cv(t){return new iv(t)}function Vs(t){return new hd(t)}function Zn(t){return new sv(t)}function Wp(t){return new Ui(t)}class va{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Bs(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class ug{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const u=this.inertDocument.createElement("body");c.appendChild(u)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Bs(o),c;const u=this.inertDocument.createElement("body");return u.innerHTML=Bs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Kp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wu(t){return(t=String(t)).match(Kp)?t:"unsafe:"+t}function fs(t){const o={};for(const c of t.split(","))o[c]=!0;return o}function Va(...t){const o={};for(const c of t)for(const u in c)c.hasOwnProperty(u)&&(o[u]=!0);return o}const uo=fs("area,br,col,hr,img,wbr"),es=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gd=fs("rp,rt"),fi=Va(uo,Va(es,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(gd,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(gd,es)),hs=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qp=Va(hs,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dv=fs("script,style,template");class $a{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!fi.hasOwnProperty(c))return this.sanitizedSomething=!0,!dv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=o.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),y=m.name,D=y.toLowerCase();if(!Qp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=m.value;hs[D]&&(x=Wu(x)),this.buf.push(" ",y,'="',pg(x),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();fi.hasOwnProperty(c)&&!uo.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(pg(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const qp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pv=/([^\#-~ |!])/g;function pg(t){return t.replace(/&/g,"&amp;").replace(qp,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(pv,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tr;function _c(t,o){let c=null;try{tr=tr||function uv(t){const o=new ug(t);return function Jp(){try{return!!(new window.DOMParser).parseFromString(Bs(""),"text/html")}catch{return!1}}()?new va(o):o}(t);let u=o?String(o):"";c=tr.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=c.innerHTML,c=tr.getInertBodyElement(u)}while(u!==m);return Bs((new $a).sanitizeChildren(Ju(c)||c))}finally{if(c){const u=Ju(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ju(t){return"content"in t&&function pu(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Dr=(()=>((Dr=Dr||{})[Dr.NONE=0]="NONE",Dr[Dr.HTML=1]="HTML",Dr[Dr.STYLE=2]="STYLE",Dr[Dr.SCRIPT=3]="SCRIPT",Dr[Dr.URL=4]="URL",Dr[Dr.RESOURCE_URL=5]="RESOURCE_URL",Dr))();function ja(t){const o=Ku();return o?Po(o.sanitize(Dr.HTML,t)||""):zu(t,"HTML")?Po(Gs(t)):_c(function ma(){return void 0!==Kn?Kn:typeof document<"u"?document:void 0}(),Ee(t))}function Cc(t){const o=Ku();return o?o.sanitize(Dr.STYLE,t)||"":zu(t,"Style")?Gs(t):Ee(t)}function fg(t){const o=Ku();return o?o.sanitize(Dr.URL,t)||"":zu(t,"URL")?Gs(t):Wu(Ee(t))}function Ku(){const t=Ft();return t&&t[12]}const nf=new hr("ENVIRONMENT_INITIALIZER"),rf=new hr("INJECTOR",-1),hv=new hr("INJECTOR_DEF_TYPES");class gg{get(o,c=Jc){if(c===Jc){const u=new Error(`NullInjectorError: No provider for ${B(o)}!`);throw u.name="NullInjectorError",u}return c}}function gv(...t){return{\u0275providers:sf(0,t)}}function sf(t,...o){const c=[],u=new Set;let f;return Ai(o,m=>{const y=m;cf(y,c,[],u)&&(f||(f=[]),f.push(y))}),void 0!==f&&af(f,c),c}function af(t,o){for(let c=0;c<t.length;c++){const{providers:f}=t[c];Ai(f,m=>{o.push(m)})}}function cf(t,o,c,u){if(!(t=J(t)))return!1;let f=null,m=Et(t);const y=!m&&yn(t);if(m||y){if(y&&!y.standalone)return!1;f=t}else{const x=t.ngModule;if(m=Et(x),!m)return!1;f=x}const D=u.has(f);if(y){if(D)return!1;if(u.add(f),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const j of x)cf(j,o,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let j;u.add(f);try{Ai(m.imports,te=>{cf(te,o,c,u)&&(j||(j=[]),j.push(te))})}finally{}void 0!==j&&af(j,o)}if(!D){const j=lo(f)||(()=>new f);o.push({provide:f,useFactory:j,deps:Kt},{provide:hv,useValue:f,multi:!0},{provide:nf,useValue:()=>ao(f),multi:!0})}const x=m.providers;null==x||D||Ai(x,te=>{o.push(te)})}}return f!==t&&void 0!==t.providers}const mv=w({provide:String,useValue:w});function uf(t){return null!==t&&"object"==typeof t&&mv in t}function Ca(t){return"function"==typeof t}const _d=new hr("Set Injector scope."),Cd={},ar={};let df;function yc(){return void 0===df&&(df=new gg),df}class Di{}class ya extends Di{constructor(o,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ac(o,y=>this.processProvider(y)),this.records.set(rf,So(void 0,this)),f.has("environment")&&this.records.set(Di,So(void 0,this));const m=this.records.get(_d);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(hv.multi,Kt,kt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Fs(this),u=Nt(void 0);try{return o()}finally{Fs(c),Nt(u)}}get(o,c=Jc,u=kt.Default){this.assertNotDestroyed();const f=Fs(this),m=Nt(void 0);try{if(!(u&kt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const x=function Qu(t){return"function"==typeof t||"object"==typeof t&&t instanceof hr}(o)&&Xt(o);D=x&&this.injectableDefInScope(x)?So(Sc(o),Cd):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(u&kt.Self?yc():this.parent).get(o,c=u&kt.Optional&&c===Jc?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Fu]=y[Fu]||[]).unshift(B(o)),f)throw y;return function Ep(t,o,c,u){const f=t[Fu];throw o[qm]&&f.unshift(o[qm]),t.message=function $h(t,o,c,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=B(o);if(Array.isArray(o))f=o.map(B).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let D=o[y];m.push(y+":"+("string"==typeof D?JSON.stringify(D):B(D)))}f=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${t.replace(Cp,"\n  ")}`}("\n"+t.message,f,c,u),t.ngTokenPath=f,t[Fu]=null,t}(y,o,"R3InjectorError",this.source)}throw y}finally{Nt(m),Fs(f)}}resolveInjectorInitializers(){const o=Fs(this),c=Nt(void 0);try{const u=this.get(nf.multi,Kt,kt.Self);for(const f of u)f()}finally{Fs(o),Nt(c)}}toString(){const o=[],c=this.records;for(const u of c.keys())o.push(B(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(o){let c=Ca(o=J(o))?o:J(o&&o.provide);const u=function _v(t){return uf(t)?So(void 0,t.useValue):So(Cv(t),Cd)}(o);if(Ca(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=So(void 0,Cd,!0),f.factory=()=>Jl(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,u)}hydrate(o,c){return c.value===Cd&&(c.value=ar,c.value=c.factory()),"object"==typeof c.value&&c.value&&function yd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=J(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Sc(t){const o=Xt(t),c=null!==o?o.factory:lo(t);if(null!==c)return c;if(t instanceof hr)throw new ue(204,!1);if(t instanceof Function)return function UC(t){const o=t.length;if(o>0)throw ka(o,"?"),new ue(204,!1);const c=function rn(t){const o=t&&(t[Ke]||t[wt]);if(o){const c=function me(t){if(t.hasOwnProperty("name"))return t.name;const o=(""+t).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(t);return null!==c?()=>c.factory(t):()=>new t}(t);throw new ue(204,!1)}function Cv(t,o,c){let u;if(Ca(t)){const f=J(t);return lo(f)||Sc(f)}if(uf(t))u=()=>J(t.useValue);else if(function lf(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Jl(t.deps||[]));else if(function vd(t){return!(!t||!t.useExisting)}(t))u=()=>ao(J(t.useExisting));else{const f=J(t&&(t.useClass||t.provide));if(!function hu(t){return!!t.deps}(t))return lo(f)||Sc(f);u=()=>new f(...Jl(t.deps))}return u}function So(t,o,c=!1){return{factory:t,value:o,multi:c?[]:void 0}}function Ec(t){return!!t.\u0275providers}function Ac(t,o){for(const c of t)Array.isArray(c)?Ac(c,o):Ec(c)?Ac(c.\u0275providers,o):o(c)}class hi{}class Dc{resolveComponentFactory(o){throw function Za(t){const o=Error(`No component factory found for ${B(t)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=t,o}(o)}}let ts=(()=>{class t{}return t.NULL=new Dc,t})();function qu(){return Gi(jr(),Ft())}function Gi(t,o){return new mr(kr(t,o))}let mr=(()=>{class t{constructor(c){this.nativeElement=c}}return t.__NG_ELEMENT_ID__=qu,t})();function pf(t){return t instanceof mr?t.nativeElement:t}class Sd{}let ff=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function hf(){const t=Ft(),c=pt(jr().index,t);return(Gn(c)?c:t)[11]}(),t})(),vg=(()=>{class t{}return t.\u0275prov=Jt({token:t,providedIn:"root",factory:()=>null}),t})();class Ed{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ad=new Ed("14.2.12"),mu={};function Tc(t){return t.ngOriginalError}class ns{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Tc(o);for(;c&&Tc(c);)c=Tc(c);return c||null}}function bd(t){return t.ownerDocument.defaultView}function Xu(t){return t.ownerDocument}function js(t){return t instanceof Function?t():t}function gf(t,o,c){let u=t.length;for(;;){const f=t.indexOf(o,c);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=o.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}c=f+1}}const _u="ng-template";function el(t,o,c){let u=0;for(;u<t.length;){let f=t[u++];if(c&&"class"===f){if(f=t[u],-1!==gf(f.toLowerCase(),o,0))return!0}else if(1===f){for(;u<t.length&&"string"==typeof(f=t[u++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Td(t){return 4===t.type&&t.value!==_u}function mf(t,o,c){return o===(4!==t.type||c?t.value:_u)}function Md(t,o,c){let u=4;const f=t.attrs||[],m=function _f(t){for(let o=0;o<t.length;o++)if(wa(t[o]))return o;return t.length}(f);let y=!1;for(let D=0;D<o.length;D++){const x=o[D];if("number"!=typeof x){if(!y)if(4&u){if(u=2|1&u,""!==x&&!mf(t,x,c)||""===x&&1===o.length){if(gi(u))return!1;y=!0}}else{const j=8&u?x:o[++D];if(8&u&&null!==t.attrs){if(!el(t.attrs,j,c)){if(gi(u))return!1;y=!0}continue}const ye=tl(8&u?"class":x,f,Td(t),c);if(-1===ye){if(gi(u))return!1;y=!0;continue}if(""!==j){let Pe;Pe=ye>m?"":f[ye+1].toLowerCase();const Qe=8&u?Pe:null;if(Qe&&-1!==gf(Qe,j,0)||2&u&&j!==Pe){if(gi(u))return!1;y=!0}}}}else{if(!y&&!gi(u)&&!gi(x))return!1;if(y&&gi(x))continue;y=!1,u=x|1&u}}return gi(u)||y}function gi(t){return 0==(1&t)}function tl(t,o,c,u){if(null===o)return-1;let f=0;if(u||!c){let m=!1;for(;f<o.length;){const y=o[f];if(y===t)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let D=o[++f];for(;"string"==typeof D;)D=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function Yr(t,o){let c=t.indexOf(4);if(c>-1)for(c++;c<t.length;){const u=t[c];if("number"==typeof u)return-1;if(u===o)return c;c++}return-1}(o,t)}function xd(t,o,c=!1){for(let u=0;u<o.length;u++)if(Md(t,o[u],c))return!0;return!1}function Ya(t,o){e:for(let c=0;c<o.length;c++){const u=o[c];if(t.length===u.length){for(let f=0;f<t.length;f++)if(t[f]!==u[f])continue e;return!0}}return!1}function Cf(t,o){return t?":not("+o.trim()+")":o}function Eg(t){let o=t[0],c=1,u=2,f="",m=!1;for(;c<t.length;){let y=t[c];if("string"==typeof y)if(2&u){const D=t[++c];f+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!gi(y)&&(o+=Cf(m,f),f=""),u=y,m=m||!gi(u);c++}return""!==f&&(o+=Cf(m,f)),o}const Pn={};function Ag(t){Sf(Fn(),Ft(),$e()+t,!1)}function Sf(t,o,c,u){if(!u)if(3==(3&o[2])){const m=t.preOrderCheckHooks;null!==m&&Lr(o,m,c)}else{const m=t.preOrderHooks;null!==m&&Go(o,m,0,c)}St(c)}function Od(t,o=null,c=null,u){const f=Df(t,o,c,u);return f.resolveInjectorInitializers(),f}function Df(t,o=null,c=null,u,f=new Set){const m=[c||Kt,gv(t)];return u=u||("object"==typeof t?void 0:B(t)),new ya(m,o||yc(),u||null,f)}let Vi=(()=>{class t{static create(c,u){if(Array.isArray(c))return Od({name:""},u,c,"");{const f=c.name??"";return Od({name:f},c.parent,c.providers,f)}}}return t.THROW_IF_NOT_FOUND=Jc,t.NULL=new gg,t.\u0275prov=Jt({token:t,providedIn:"any",factory:()=>ao(rf)}),t.__NG_ELEMENT_ID__=-1,t})();function Cu(t,o=kt.Default){const c=Ft();return null===c?ao(t,o):xs(jr(),c,J(t),o)}function Lg(){throw new Error("invalid")}function Sa(t,o){return t<<17|o<<2}function Hi(t){return t>>17&32767}function Pf(t){return 2|t}function vs(t){return(131068&t)>>2}function ol(t,o){return-131069&t|o<<2}function sl(t){return 1|t}function $f(t,o){const c=t.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const f=c[u],m=c[u+1];if(-1!==m){const y=t.data[m];ho(f),y.contentQueries(2,o[m],m)}}}function hl(t,o,c,u,f,m,y,D,x,j,te){const ye=o.blueprint.slice();return ye[0]=f,ye[2]=76|u,(null!==te||t&&1024&t[2])&&(ye[2]|=1024),$r(ye),ye[3]=ye[15]=t,ye[8]=c,ye[10]=y||t&&t[10],ye[11]=D||t&&t[11],ye[12]=x||t&&t[12]||null,ye[9]=j||t&&t[9]||null,ye[6]=m,ye[20]=function su(){return Fi++}(),ye[21]=te,ye[16]=2==o.type?t[16]:ye,ye}function Ic(t,o,c,u,f){let m=t.data[o];if(null===m)m=function wc(t,o,c,u,f){const m=z(),y=le(),x=t.data[o]=function Qg(t,o,c,u,f,m){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,o,u,f);return null===t.firstChild&&(t.firstChild=x),null!==m&&(y?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(t,o,c,u,f),function Vc(){return Sn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=u,m.attrs=f;const y=function $(){const t=Sn.lFrame,o=t.currentTNode;return t.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return L(m,!0),m}function zs(t,o,c,u){if(0===c)return-1;const f=o.length;for(let m=0;m<c;m++)o.push(u),t.blueprint.push(u),t.data.push(null);return f}function gl(t,o,c){is(o);try{const u=t.viewQuery;null!==u&&Al(1,u,c);const f=t.template;null!==f&&vl(t,o,f,1,c),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$f(t,o),t.staticViewQueries&&Al(2,t.viewQuery,c);const m=t.components;null!==m&&function Jg(t,o){for(let c=0;c<o.length;c++)Cl(t,o[c])}(o,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{o[2]&=-5,ee()}}function ml(t,o,c,u){const f=o[2];if(128!=(128&f)){is(o);try{$r(o),function Ia(t){return Sn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==c&&vl(t,o,c,2,u);const y=3==(3&f);if(y){const j=t.preOrderCheckHooks;null!==j&&Lr(o,j,null)}else{const j=t.preOrderHooks;null!==j&&Go(o,j,0,null),Vo(o,0)}if(function rm(t){for(let o=Vu(t);null!==o;o=sd(o)){if(!o[2])continue;const c=o[9];for(let u=0;u<c.length;u++){const f=c[u],m=f[3];0==(512&f[2])&&Nr(m,1),f[2]|=512}}}(o),function Xd(t){for(let o=Vu(t);null!==o;o=sd(o))for(let c=10;c<o.length;c++){const u=o[c],f=u[1];Wt(u)&&ml(f,u,f.template,u[8])}}(o),null!==t.contentQueries&&$f(t,o),y){const j=t.contentCheckHooks;null!==j&&Lr(o,j)}else{const j=t.contentHooks;null!==j&&Go(o,j,1),Vo(o,1)}!function zg(t,o){const c=t.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const f=c[u];if(f<0)St(~f);else{const m=f,y=c[++u],D=c[++u];ea(y,m),D(2,o[m])}}}finally{St(-1)}}(t,o);const D=t.components;null!==D&&function Wg(t,o){for(let c=0;c<o.length;c++)om(t,o[c])}(o,D);const x=t.viewQuery;if(null!==x&&Al(2,x,u),y){const j=t.viewCheckHooks;null!==j&&Lr(o,j)}else{const j=t.viewHooks;null!==j&&Go(o,j,2),Vo(o,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Nr(o[3],-1))}finally{ee()}}}function vl(t,o,c,u,f){const m=$e(),y=2&u;try{St(-1),y&&o.length>22&&Sf(t,o,22,!1),c(u,f)}finally{St(m)}}function jf(t,o,c){if(Pr(o)){const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}function Rc(t,o,c){!ut()||(function Cs(t,o,c,u){const f=c.directiveStart,m=c.directiveEnd;t.firstCreatePass||vo(c,o),pi(u,o);const y=c.initialInputs;for(let D=f;D<m;D++){const x=t.data[D],j=xr(x);j&&em(o,c,x);const te=zi(o,t,D,c);pi(te,o),null!==y&&tm(0,D-f,te,x,0,y),j&&(pt(c.index,o)[8]=te)}}(t,o,c,kr(c,o)),128==(128&c.flags)&&function Qf(t,o,c){const u=c.directiveStart,f=c.directiveEnd,m=c.index,y=function ta(){return Sn.lFrame.currentDirectiveIndex}();try{St(m);for(let D=u;D<f;D++){const x=t.data[D],j=o[D];Ci(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Qd(x,j)}}finally{St(-1),Ci(y)}}(t,o,c))}function Jd(t,o,c=kr){const u=o.localNames;if(null!==u){let f=o.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],D=-1===y?c(o,t):t[y];t[f++]=D}}}function Zf(t){const o=t.tView;return null===o||o.incompleteFirstPass?t.tView=Yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):o}function Yf(t,o,c,u,f,m,y,D,x,j){const te=22+u,ye=te+f,Pe=function Fv(t,o){const c=[];for(let u=0;u<o;u++)c.push(u<t?null:Pn);return c}(te,ye),Qe="function"==typeof j?j():j;return Pe[1]={type:t,blueprint:Pe,template:c,queries:null,viewQuery:D,declTNode:o,data:Pe.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:Qe,incompleteFirstPass:!1}}function os(t,o,c,u){const f=Bv(o);null===c?f.push(u):(f.push(c),t.firstCreatePass&&eh(t).push(u,f.length-1))}function zf(t,o,c){for(let u in t)if(t.hasOwnProperty(u)){const f=t[u];(c=null===c?{}:c).hasOwnProperty(u)?c[u].push(o,f):c[u]=[o,f]}return c}function Wf(t,o){const u=o.directiveEnd,f=t.data,m=o.attrs,y=[];let D=null,x=null;for(let j=o.directiveStart;j<u;j++){const te=f[j],ye=te.inputs,Pe=null===m||Td(o)?null:Nv(ye,m);y.push(Pe),D=zf(ye,j,D),x=zf(te.outputs,j,x)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=D,o.outputs=x}function $i(t,o,c,u,f,m,y,D){const x=kr(o,c);let te,j=o.inputs;!D&&null!=j&&(te=j[u])?(th(t,c,te,u,f),qr(o)&&qg(c,o.index)):3&o.type&&(u=function Kd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=y?y(f,o.value||"",u):f,m.setProperty(x,u,f))}function qg(t,o){const c=pt(o,t);16&c[2]||(c[2]|=32)}function Pc(t,o,c,u){let f=!1;if(ut()){const m=function qd(t,o,c){const u=t.directiveRegistry;let f=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];xd(c,y.selectors,!1)&&(f||(f=[]),La(vo(c,o),t,y.type),xr(y)?(_l(t,c),f.unshift(y)):f.push(y))}return f}(t,o,c),y=null===u?null:{"":-1};if(null!==m){f=!0,Oc(c,t.data.length,m.length);for(let te=0;te<m.length;te++){const ye=m[te];ye.providersResolver&&ye.providersResolver(ye)}let D=!1,x=!1,j=zs(t,o,m.length,null);for(let te=0;te<m.length;te++){const ye=m[te];c.mergedAttrs=Ts(c.mergedAttrs,ye.hostAttrs),qf(t,c,o,j,ye),Xg(j,ye,y),null!==ye.contentQueries&&(c.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(c.flags|=128);const Pe=ye.type.prototype;!D&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(c.index),D=!0),!x&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(c.index),x=!0),j++}Wf(t,c)}y&&function Ea(t,o,c){if(o){const u=t.localNames=[];for(let f=0;f<o.length;f+=2){const m=c[o[f+1]];if(null==m)throw new ue(-301,!1);u.push(o[f],m)}}}(c,u,y)}return c.mergedAttrs=Ts(c.mergedAttrs,c.attrs),f}function Wa(t,o,c,u,f,m){const y=m.hostBindings;if(y){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const x=~o.index;(function Ja(t){let o=t.length;for(;o>0;){const c=t[--o];if("number"==typeof c&&c<0)return c}return 0})(D)!=x&&D.push(x),D.push(u,f,y)}}function Qd(t,o){null!==t.hostBindings&&t.hostBindings(1,o)}function _l(t,o){o.flags|=2,(t.components||(t.components=[])).push(o.index)}function Xg(t,o,c){if(c){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)c[o.exportAs[u]]=t;xr(o)&&(c[""]=t)}}function Oc(t,o,c){t.flags|=1,t.directiveStart=o,t.directiveEnd=o+c,t.providerIndexes=o}function qf(t,o,c,u,f){t.data[u]=f;const m=f.factory||(f.factory=lo(f.type)),y=new Mi(m,xr(f),Cu);t.blueprint[u]=y,c[u]=y,Wa(t,o,0,u,zs(t,c,f.hostVars,Pn),f)}function em(t,o,c){const u=kr(o,t),f=Zf(c),m=t[10],y=yl(t,hl(t,f,null,c.onPush?32:16,u,o,m,m.createRenderer(u,c),null,null,null));t[o.index]=y}function mi(t,o,c,u,f,m){const y=kr(t,o);!function Xf(t,o,c,u,f,m,y){if(null==m)t.removeAttribute(o,f,c);else{const D=null==y?Ee(m):y(m,u||"",f);t.setAttribute(o,f,D,c)}}(o[11],y,m,t.value,c,u,f)}function tm(t,o,c,u,f,m){const y=m[o];if(null!==y){const D=u.setInput;for(let x=0;x<y.length;){const j=y[x++],te=y[x++],ye=y[x++];null!==D?u.setInput(c,ye,j,te):c[te]=ye}}}function Nv(t,o){let c=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;t.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,t[f],o[u+1])),u+=2}else u+=2;else u+=4}return c}function nm(t,o,c,u){return new Array(t,!0,!1,o,null,0,u,c,null,null)}function om(t,o){const c=pt(o,t);if(Wt(c)){const u=c[1];48&c[2]?ml(u,c,u.template,c[8]):c[5]>0&&ep(c)}}function ep(t){for(let u=Vu(t);null!==u;u=sd(u))for(let f=10;f<u.length;f++){const m=u[f];if(Wt(m))if(512&m[2]){const y=m[1];ml(y,m,y.template,m[8])}else m[5]>0&&ep(m)}const c=t[1].components;if(null!==c)for(let u=0;u<c.length;u++){const f=pt(c[u],t);Wt(f)&&f[5]>0&&ep(f)}}function Cl(t,o){const c=pt(o,t),u=c[1];(function tp(t,o){for(let c=o.length;c<t.blueprint.length;c++)o.push(t.blueprint[c])})(u,c),gl(u,c,c[8])}function yl(t,o){return t[13]?t[14][4]=o:t[13]=o,t[14]=o,o}function Sl(t){for(;t;){t[2]|=32;const o=hc(t);if(Be(t)&&!o)return t;t=o}return null}function El(t,o,c,u=!0){const f=o[10];f.begin&&f.begin();try{ml(t,o,t.template,c)}catch(y){throw u&&im(o,y),y}finally{f.end&&f.end()}}function Al(t,o,c){ho(0),o(t,c)}function Bv(t){return t[7]||(t[7]=[])}function eh(t){return t.cleanup||(t.cleanup=[])}function im(t,o){const c=t[9],u=c?c.get(ns,null):null;u&&u.handleError(o)}function th(t,o,c,u,f){for(let m=0;m<c.length;){const y=c[m++],D=c[m++],x=o[y],j=t.data[y];null!==j.setInput?j.setInput(x,f,u,D):x[D]=f}}function Aa(t,o,c){const u=Hr(o,t);!function kp(t,o,c){t.setValue(o,c)}(t[11],u,c)}function Dl(t,o,c){let u=c?t.styles:null,f=c?t.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const D=o[y];"number"==typeof D?m=D:1==m?f=Z(f,D):2==m&&(u=Z(u,D+": "+o[++y]+";"))}c?t.styles=u:t.stylesWithoutHost=u,c?t.classes=f:t.classesWithoutHost=f}function Da(t,o,c,u,f=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&u.push(kn(m)),pr(m))for(let D=10;D<m.length;D++){const x=m[D],j=x[1].firstChild;null!==j&&Da(x[1],x,j,u)}const y=c.type;if(8&y)Da(t,o,c.child,u);else if(32&y){const D=id(c,o);let x;for(;x=D();)u.push(x)}else if(16&y){const D=Kr(o,c);if(Array.isArray(D))u.push(...D);else{const x=hc(o[16]);Da(x[1],x,D,u,!0)}}c=f?c.projectionNext:c.next}return u}class bl{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Da(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(pr(o)){const c=o[8],u=c?c.indexOf(this):-1;u>-1&&(mc(o,u),dc(c,u))}this._attachedToViewContainer=!1}uu(this._lView[1],this._lView)}onDestroy(o){os(this._lView[1],this._lView,null,o)}markForCheck(){Sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){El(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ig(t,o){ds(t,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=o}}class Vv extends bl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;El(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class nh extends ts{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=yn(o);return new Lc(c,this.ngModule)}}function sm(t){const o=[];for(let c in t)t.hasOwnProperty(c)&&o.push({propName:t[c],templateName:c});return o}class rh{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,u){const f=this.injector.get(o,mu,u);return f!==mu||c===mu?f:this.parentInjector.get(o,c,u)}}class Lc extends hi{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function nl(t){return t.map(Eg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return sm(this.componentDef.inputs)}get outputs(){return sm(this.componentDef.outputs)}create(o,c,u,f){let m=(f=f||this.ngModule)instanceof Di?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new rh(o,m):o,D=y.get(Sd,null);if(null===D)throw new ue(407,!1);const x=y.get(vg,null),j=D.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",ye=u?function Kg(t,o,c){return t.selectRootElement(o,c===mt.ShadowDom)}(j,u,this.componentDef.encapsulation):cu(j,te,function am(t){const o=t.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(te)),Pe=this.componentDef.onPush?288:272,Qe=Yf(0,null,null,1,0,null,null,null,null,null),bt=hl(null,Qe,null,Pe,null,null,D,j,x,y,null);let Bt,tn;is(bt);try{const _n=function oh(t,o,c,u,f,m){const y=c[1];c[22]=t;const x=Ic(y,22,2,"#host",null),j=x.mergedAttrs=o.hostAttrs;null!==j&&(Dl(x,j,!0),null!==t&&(Si(f,t,j),null!==x.classes&&ki(f,t,x.classes),null!==x.styles&&Yu(f,t,x.styles)));const te=u.createRenderer(t,o),ye=hl(c,Zf(o),null,o.onPush?32:16,c[22],x,u,te,m||null,null,null);return y.firstCreatePass&&(La(vo(x,c),y,o.type),_l(y,x),Oc(x,c.length,1)),yl(c,ye),c[22]=ye}(ye,this.componentDef,bt,D,j);if(ye)if(u)Si(j,ye,["ng-version",Ad.full]);else{const{attrs:En,classes:$t}=function yf(t){const o=[],c=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&o.push(m,t[++u]):8===f&&c.push(m);else{if(!gi(f))break;f=m}u++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);En&&Si(j,ye,En),$t&&$t.length>0&&ki(j,ye,$t.join(" "))}if(tn=Ze(Qe,22),void 0!==c){const En=tn.projection=[];for(let $t=0;$t<this.ngContentSelectors.length;$t++){const Tn=c[$t];En.push(null!=Tn?Array.from(Tn):null)}}Bt=function $v(t,o,c,u){const f=c[1],m=function Kf(t,o,c){const u=jr();t.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),qf(t,u,o,zs(t,o,1,null),c),Wf(t,u));const f=zi(o,t,u.directiveStart,u);pi(f,o);const m=kr(u,o);return m&&pi(m,o),f}(f,c,o);if(t[8]=c[8]=m,null!==u)for(const D of u)D(m,o);if(o.contentQueries){const D=jr();o.contentQueries(1,m,D.directiveStart)}const y=jr();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(St(y.index),Wa(c[1],y,0,y.directiveStart,y.directiveEnd,o),Qd(o,m)),m}(_n,this.componentDef,bt,[jv]),gl(Qe,bt,null)}finally{ee()}return new Su(this.componentType,Bt,Gi(tn,bt),bt,tn)}}class Su extends class Hs{}{constructor(o,c,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Vv(f),this.componentType=o}setInput(o,c){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[o])){const m=this._rootLView;th(m[1],m,f,o,c),qg(m,this._tNode.index)}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function jv(){const t=jr();Un(Ft()[1],t)}function ih(t){let o=function cm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),c=!0;const u=[t];for(;o;){let f;if(xr(t))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ue(903,!1);f=o.\u0275dir}if(f){if(c){u.push(f);const y=t;y.inputs=ba(t.inputs),y.declaredInputs=ba(t.declaredInputs),y.outputs=ba(t.outputs);const D=f.hostBindings;D&&Yv(t,D);const x=f.viewQuery,j=f.contentQueries;if(x&&Tl(t,x),j&&um(t,j),P(t.inputs,f.inputs),P(t.declaredInputs,f.declaredInputs),P(t.outputs,f.outputs),xr(f)&&f.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const D=m[y];D&&D.ngInherit&&D(t),D===ih&&(c=!1)}}o=Object.getPrototypeOf(o)}!function Zv(t){let o=0,c=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=o+=f.hostVars,f.hostAttrs=Ts(f.hostAttrs,c=Ts(c,f.hostAttrs))}}(u)}function ba(t){return t===vn?{}:t===Kt?[]:t}function Tl(t,o){const c=t.viewQuery;t.viewQuery=c?(u,f)=>{o(u,f),c(u,f)}:o}function um(t,o){const c=t.contentQueries;t.contentQueries=c?(u,f,m)=>{o(u,f,m),c(u,f,m)}:o}function Yv(t,o){const c=t.hostBindings;t.hostBindings=c?(u,f)=>{o(u,f),c(u,f)}:o}let Eu=null;function Qa(){if(!Eu){const t=vt.Symbol;if(t&&t.iterator)Eu=t.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const u=o[c];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Eu=u)}}}return Eu}function Ml(t){return!!Au(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qa()in t)}function Au(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ys(t,o,c){return t[o]=c}function Du(t,o){return t[o]}function qo(t,o,c){return!Object.is(t[o],c)&&(t[o]=c,!0)}function Fc(t,o,c,u){const f=qo(t,o,c);return qo(t,o+1,u)||f}function qa(t,o,c,u,f){const m=Fc(t,o,c,u);return qo(t,o+2,f)||m}function bi(t,o,c,u,f,m){const y=Fc(t,o,c,u);return Fc(t,o+2,f,m)||y}function xl(t,o,c,u){const f=Ft();return qo(f,Br(),o)&&(Fn(),mi(It(),f,t,o,c,u)),xl}function _(t,o,c,u){return qo(t,Br(),c)?o+Ee(c)+u:Pn}function r(t,o,c,u,f,m){const D=Fc(t,Er(),c,f);return Ti(2),D?o+Ee(c)+u+Ee(f)+m:Pn}function l(t,o,c,u,f,m,y,D){const j=qa(t,Er(),c,f,y);return Ti(3),j?o+Ee(c)+u+Ee(f)+m+Ee(y)+D:Pn}function QE(t,o,c,u,f,m,y,D){const x=Ft(),j=Fn(),te=t+22,ye=j.firstCreatePass?function Kv(t,o,c,u,f,m,y,D,x){const j=o.consts,te=Ic(o,t,4,y||null,An(j,D));Pc(o,c,te,An(j,x)),Un(o,te);const ye=te.tViews=Yf(2,te,u,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,j);return null!==o.queries&&(o.queries.template(o,te),ye.queries=o.queries.embeddedTView(te)),te}(te,j,x,o,c,u,f,m,y):j.data[te];L(ye,!1);const Pe=x[11].createComment("");ga(j,x,Pe,ye),pi(Pe,x),yl(x,x[te]=nm(Pe,x,Pe,ye)),Xr(ye)&&Rc(j,x,ye),null!=y&&Jd(x,ye,D)}function qE(t){return Mt(function Ur(){return Sn.lFrame.contextLView}(),22+t)}function Qv(t,o,c){const u=Ft();return qo(u,Br(),o)&&$i(Fn(),It(),u,t,o,u[11],c,!1),Qv}function qv(t,o,c,u,f){const y=f?"class":"style";th(t,c,o.inputs[y],y,u)}function hm(t,o,c,u){const f=Ft(),m=Fn(),y=22+t,D=f[11],x=f[y]=cu(D,o,function jn(){return Sn.lFrame.currentNamespace}()),j=m.firstCreatePass?function XE(t,o,c,u,f,m,y){const D=o.consts,j=Ic(o,t,2,f,An(D,m));return Pc(o,c,j,An(D,y)),null!==j.attrs&&Dl(j,j.attrs,!1),null!==j.mergedAttrs&&Dl(j,j.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,j),j}(y,m,f,0,o,c,u):m.data[y];L(j,!0);const te=j.mergedAttrs;null!==te&&Si(D,x,te);const ye=j.classes;null!==ye&&ki(D,x,ye);const Pe=j.styles;return null!==Pe&&Yu(D,x,Pe),64!=(64&j.flags)&&ga(m,f,x,j),0===function ve(){return Sn.lFrame.elementDepthCount}()&&pi(x,f),function ct(){Sn.lFrame.elementDepthCount++}(),Xr(j)&&(Rc(m,f,j),jf(m,j,f)),null!==u&&Jd(f,j),hm}function gm(){let t=jr();le()?xt():(t=t.parent,L(t,!1));const o=t;!function ot(){Sn.lFrame.elementDepthCount--}();const c=Fn();return c.firstCreatePass&&(Un(c,t),Pr(t)&&c.queries.elementEnd(t)),null!=o.classesWithoutHost&&function bs(t){return 0!=(16&t.flags)}(o)&&qv(c,o,Ft(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function oo(t){return 0!=(32&t.flags)}(o)&&qv(c,o,Ft(),o.stylesWithoutHost,!1),gm}function Xv(t,o,c,u){return hm(t,o,c,u),gm(),Xv}function mm(t,o,c){const u=Ft(),f=Fn(),m=t+22,y=f.firstCreatePass?function e0(t,o,c,u,f){const m=o.consts,y=An(m,u),D=Ic(o,t,8,"ng-container",y);return null!==y&&Dl(D,y,!0),Pc(o,c,D,An(m,f)),null!==o.queries&&o.queries.elementStart(o,D),D}(m,f,u,o,c):f.data[m];L(y,!0);const D=u[m]=u[11].createComment("");return ga(f,u,D,y),pi(D,u),Xr(y)&&(Rc(f,u,y),jf(f,y,u)),null!=c&&Jd(u,y),mm}function ch(){let t=jr();const o=Fn();return le()?xt():(t=t.parent,L(t,!1)),o.firstCreatePass&&(Un(o,t),Pr(t)&&o.queries.elementEnd(t)),ch}function e_(t,o,c){return mm(t,o,c),ch(),e_}function HC(){return Ft()}function t_(t){return!!t&&"function"==typeof t.then}function $C(t){return!!t&&"function"==typeof t.subscribe}const n_=$C;function r_(t,o,c,u){const f=Ft(),m=Fn(),y=jr();return function ZC(t,o,c,u,f,m,y,D){const x=Xr(u),te=t.firstCreatePass&&eh(t),ye=o[8],Pe=Bv(o);let Qe=!0;if(3&u.type||D){const tn=kr(u,o),_n=D?D(tn):tn,En=Pe.length,$t=D?cr=>D(kn(cr[u.index])):u.index;let Tn=null;if(!D&&x&&(Tn=function t0(t,o,c,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===u){const D=o[7],x=f[m+2];return D.length>x?D[x]:null}"string"==typeof y&&(m+=2)}return null}(t,o,f,u.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=m,Tn.__ngLastListenerFn__=m,Qe=!1;else{m=o_(u,o,ye,m,!1);const cr=c.listen(_n,f,m);Pe.push(m,cr),te&&te.push(f,$t,En,En+1)}}else m=o_(u,o,ye,m,!1);const bt=u.outputs;let Bt;if(Qe&&null!==bt&&(Bt=bt[f])){const tn=Bt.length;if(tn)for(let _n=0;_n<tn;_n+=2){const Vr=o[Bt[_n]][Bt[_n+1]].subscribe(m),qs=Pe.length;Pe.push(m,Vr),te&&te.push(f,u.index,qs,-(qs+1))}}}(m,f,f[11],y,t,o,0,u),r_}function YC(t,o,c,u){try{return!1!==c(u)}catch(f){return im(t,f),!1}}function o_(t,o,c,u,f){return function m(y){if(y===Function)return u;Sl(2&t.flags?pt(t.index,o):o);let x=YC(o,0,u,y),j=m.__ngNextListenerFn__;for(;j;)x=YC(o,0,j,y)&&x,j=j.__ngNextListenerFn__;return f&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function zC(t=1){return function U(t){return(Sn.lFrame.contextLView=function ce(t,o){for(;t>0;)o=o[15],t--;return o}(t,Sn.lFrame.contextLView))[8]}(t)}function n0(t,o){let c=null;const u=function vf(t){const o=t.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(t);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===u?xd(t,m,!0):Ya(u,m))return f}else c=f}return c}function i_(t){const o=Ft()[16][6];if(!o.projection){const u=o.projection=ka(t?t.length:1,null),f=u.slice();let m=o.child;for(;null!==m;){const y=t?n0(m,t):0;null!==y&&(f[y]?f[y].projectionNext=m:u[y]=m,f[y]=m),m=m.next}}}function WC(t,o=0,c){const u=Ft(),f=Fn(),m=Ic(f,22+t,16,null,c||null);null===m.projection&&(m.projection=o),xt(),64!=(64&m.flags)&&function FC(t,o,c){Zu(o[11],0,o,c,Vp(t,c,o),ls(c.parent||o[6],c,o))}(f,u,m)}function s_(t,o,c){return vm(t,"",o,"",c),s_}function vm(t,o,c,u,f){const m=Ft(),y=_(m,o,c,u);return y!==Pn&&$i(Fn(),It(),m,t,y,m[11],f,!1),vm}function a_(t,o,c,u,f,m,y){const D=Ft(),x=r(D,o,c,u,f,m);return x!==Pn&&$i(Fn(),It(),D,t,x,D[11],y,!1),a_}function c_(t,o,c,u,f,m,y,D,x){const j=Ft(),te=l(j,o,c,u,f,m,y,D);return te!==Pn&&$i(Fn(),It(),j,t,te,j[11],x,!1),c_}function lh(t,o,c,u,f){const m=t[c+1],y=null===o;let D=u?Hi(m):vs(m),x=!1;for(;0!==D&&(!1===x||y);){const te=t[D+1];Cm(t[D],o)&&(x=!0,t[D+1]=u?sl(te):Pf(te)),D=u?Hi(te):vs(te)}x&&(t[c+1]=u?Pf(m):sl(m))}function Cm(t,o){return null===t||null==o||(Array.isArray(t)?t[1]:t)===o||!(!Array.isArray(t)||"string"!=typeof o)&&Le(t,o)>=0}const Eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dh(t){return t.substring(Eo.key,Eo.keyEnd)}function d_(t){return t.substring(Eo.value,Eo.valueEnd)}function f_(t,o){const c=Eo.textEnd;return c===o?-1:(o=Eo.keyEnd=function ty(t,o,c){for(;o<c&&t.charCodeAt(o)>32;)o++;return o}(t,Eo.key=o,c),Mu(t,o,c))}function ym(t,o){const c=Eo.textEnd;let u=Eo.key=Mu(t,o,c);return c===u?-1:(u=Eo.keyEnd=function g_(t,o,c){let u;for(;o<c&&(45===(u=t.charCodeAt(o))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)o++;return o}(t,u,c),u=m_(t,u,c),u=Eo.value=Mu(t,u,c),u=Eo.valueEnd=function v_(t,o,c){let u=-1,f=-1,m=-1,y=o,D=y;for(;y<c;){const x=t.charCodeAt(y++);if(59===x)return D;34===x||39===x?D=y=Sm(t,x,y,c):o===y-4&&85===m&&82===f&&76===u&&40===x?D=y=Sm(t,41,y,c):x>32&&(D=y),m=f,f=u,u=-33&x}return D}(t,u,c),m_(t,u,c))}function h_(t){Eo.key=0,Eo.keyEnd=0,Eo.value=0,Eo.valueEnd=0,Eo.textEnd=t.length}function Mu(t,o,c){for(;o<c&&t.charCodeAt(o)<=32;)o++;return o}function m_(t,o,c,u){return(o=Mu(t,o,c))<c&&o++,o}function Sm(t,o,c,u){let f=-1,m=c;for(;m<u;){const y=t.charCodeAt(m++);if(y==o&&92!==f)return m;f=92==y&&92===f?0:y}throw new Error}function ph(t,o,c){return Ws(t,o,c,!1),ph}function fh(t,o){return Ws(t,o,null,!0),fh}function ji(t){ec(A_,ny,t,!1)}function ny(t,o){for(let c=function ey(t){return h_(t),ym(t,Mu(t,0,Eo.textEnd))}(o);c>=0;c=ym(o,c))A_(t,dh(o),d_(o))}function C_(t){ec(W,Ta,t,!0)}function Ta(t,o){for(let c=function p_(t){return h_(t),f_(t,Mu(t,0,Eo.textEnd))}(o);c>=0;c=f_(o,c))W(t,dh(o),!0)}function Ws(t,o,c,u){const f=Ft(),m=Fn(),y=Ti(2);m.firstUpdatePass&&y_(m,t,y,u),o!==Pn&&qo(f,y,o)&&sy(m,m.data[$e()],f,f[11],t,f[y+1]=function cy(t,o){return null==t||("string"==typeof o?t+=o:"object"==typeof t&&(t=B(Gs(t)))),t}(o,c),u,y)}function ec(t,o,c,u){const f=Fn(),m=Ti(2);f.firstUpdatePass&&y_(f,null,m,u);const y=Ft();if(c!==Pn&&qo(y,m,c)){const D=f.data[$e()];if(D_(D,u)&&!hh(f,m)){let x=u?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(c=Z(x,c||"")),qv(f,D,y,c,u)}else!function r0(t,o,c,u,f,m,y,D){f===Pn&&(f=Kt);let x=0,j=0,te=0<f.length?f[0]:null,ye=0<m.length?m[0]:null;for(;null!==te||null!==ye;){const Pe=x<f.length?f[x+1]:void 0,Qe=j<m.length?m[j+1]:void 0;let Bt,bt=null;te===ye?(x+=2,j+=2,Pe!==Qe&&(bt=ye,Bt=Qe)):null===ye||null!==te&&te<ye?(x+=2,bt=te):(j+=2,bt=ye,Bt=Qe),null!==bt&&sy(t,o,c,u,bt,Bt,y,D),te=x<f.length?f[x]:null,ye=j<m.length?m[j]:null}}(f,D,y,y[11],y[m+1],y[m+1]=function iy(t,o,c){if(null==c||""===c)return Kt;const u=[],f=Gs(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&o(u,f);return u}(t,o,c),u,m)}}function hh(t,o){return o>=t.expandoStartIndex}function y_(t,o,c,u){const f=t.data;if(null===f[c+1]){const m=f[$e()],y=hh(t,c);D_(m,u)&&null===o&&!y&&(o=!1),o=function S_(t,o,c,u){const f=function Es(t){const o=Sn.lFrame.currentDirectiveIndex;return-1===o?null:t[o]}(t);let m=u?o.residualClasses:o.residualStyles;if(null===f)0===(u?o.classBindings:o.styleBindings)&&(c=np(c=Em(null,t,o,c,u),o.attrs,u),m=null);else{const y=o.directiveStylingLast;if(-1===y||t[y]!==f)if(c=Em(f,t,o,c,u),null===m){let x=function E_(t,o,c){const u=c?o.classBindings:o.styleBindings;if(0!==vs(u))return t[Hi(u)]}(t,o,u);void 0!==x&&Array.isArray(x)&&(x=Em(null,t,o,x[1],u),x=np(x,o.attrs,u),function ry(t,o,c,u){t[Hi(c?o.classBindings:o.styleBindings)]=u}(t,o,u,x))}else m=function oy(t,o,c){let u;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)u=np(u,t[m].hostAttrs,c);return np(u,o.attrs,c)}(t,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),c}(f,m,o,u),function _m(t,o,c,u,f,m){let y=m?o.classBindings:o.styleBindings,D=Hi(y),x=vs(y);t[u]=c;let te,j=!1;if(Array.isArray(c)){const ye=c;te=ye[1],(null===te||Le(ye,te)>0)&&(j=!0)}else te=c;if(f)if(0!==x){const Pe=Hi(t[D+1]);t[u+1]=Sa(Pe,D),0!==Pe&&(t[Pe+1]=ol(t[Pe+1],u)),t[D+1]=function wv(t,o){return 131071&t|o<<17}(t[D+1],u)}else t[u+1]=Sa(D,0),0!==D&&(t[D+1]=ol(t[D+1],u)),D=u;else t[u+1]=Sa(x,0),0===D?D=u:t[x+1]=ol(t[x+1],u),x=u;j&&(t[u+1]=Pf(t[u+1])),lh(t,te,u,!0),lh(t,te,u,!1),function uh(t,o,c,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof o&&Le(m,o)>=0&&(c[u+1]=sl(c[u+1]))}(o,te,t,u,m),y=Sa(D,x),m?o.classBindings=y:o.styleBindings=y}(f,m,o,c,y,u)}}function Em(t,o,c,u,f){let m=null;const y=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<y&&(m=o[D],u=np(u,m.hostAttrs,f),m!==t);)D++;return null!==t&&(c.directiveStylingLast=D),u}function np(t,o,c){const u=c?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?f=y:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),W(t,y,!!c||o[++m]))}return void 0===t?null:t}function A_(t,o,c){W(t,o,Gs(c))}function sy(t,o,c,u,f,m,y,D){if(!(3&o.type))return;const x=t.data,j=x[D+1];rp(function il(t){return 1==(1&t)}(j)?ay(x,o,c,f,vs(j),y):void 0)||(rp(m)||function $d(t){return 2==(2&t)}(j)&&(m=ay(x,null,c,f,D,y)),function Zp(t,o,c,u,f){if(o)f?t.addClass(c,u):t.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:Li.DashCase;null==f?t.removeStyle(c,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Li.Important),t.setStyle(c,u,f,m))}}(u,y,Hr($e(),c),f,m))}function ay(t,o,c,u,f,m){const y=null===o;let D;for(;f>0;){const x=t[f],j=Array.isArray(x),te=j?x[1]:x,ye=null===te;let Pe=c[f+1];Pe===Pn&&(Pe=ye?Kt:void 0);let Qe=ye?H(Pe,u):te===u?Pe:void 0;if(j&&!rp(Qe)&&(Qe=H(x,u)),rp(Qe)&&(D=Qe,y))return D;const bt=t[f+1];f=y?Hi(bt):vs(bt)}if(null!==o){let x=m?o.residualClasses:o.residualStyles;null!=x&&(D=H(x,u))}return D}function rp(t){return void 0!==t}function D_(t,o){return 0!=(t.flags&(o?16:32))}function Am(t,o=""){const c=Ft(),u=Fn(),f=t+22,m=u.firstCreatePass?Ic(u,f,1,o,null):u.data[f],y=c[f]=function Fp(t,o){return t.createText(o)}(c[11],o);ga(u,c,y,m),L(m,!1)}function gh(t){return mh("",t,""),gh}function mh(t,o,c){const u=Ft(),f=_(u,t,o,c);return f!==Pn&&Aa(u,$e(),f),mh}function wl(t,o,c,u,f){const m=Ft(),y=r(m,t,o,c,u,f);return y!==Pn&&Aa(m,$e(),y),wl}function Dm(t,o,c,u,f,m,y){const D=Ft(),x=l(D,t,o,c,u,f,m,y);return x!==Pn&&Aa(D,$e(),x),Dm}function Ss(t,o,c){ec(W,Ta,_(Ft(),t,o,c),!0)}function nc(t,o,c,u,f){ec(W,Ta,r(Ft(),t,o,c,u,f),!0)}function Ty(t,o,c){const u=Ft();return qo(u,Br(),o)&&$i(Fn(),It(),u,t,o,u[11],c,!0),Ty}const Rl=void 0;var l0=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xm(t){const c=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let _h={};function I_(t){const o=function Iy(t){return t.toLowerCase().replace(/_/g,"-")}(t);let c=xy(o);if(c)return c;const u=o.split("-")[0];if(c=xy(u),c)return c;if("en"===u)return l0;throw new ue(701,!1)}function My(t){return I_(t)[xn.PluralCase]}function xy(t){return t in _h||(_h[t]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[t]),_h[t]}var xn=(()=>((xn=xn||{})[xn.LocaleId=0]="LocaleId",xn[xn.DayPeriodsFormat=1]="DayPeriodsFormat",xn[xn.DayPeriodsStandalone=2]="DayPeriodsStandalone",xn[xn.DaysFormat=3]="DaysFormat",xn[xn.DaysStandalone=4]="DaysStandalone",xn[xn.MonthsFormat=5]="MonthsFormat",xn[xn.MonthsStandalone=6]="MonthsStandalone",xn[xn.Eras=7]="Eras",xn[xn.FirstDayOfWeek=8]="FirstDayOfWeek",xn[xn.WeekendRange=9]="WeekendRange",xn[xn.DateFormat=10]="DateFormat",xn[xn.TimeFormat=11]="TimeFormat",xn[xn.DateTimeFormat=12]="DateTimeFormat",xn[xn.NumberSymbols=13]="NumberSymbols",xn[xn.NumberFormats=14]="NumberFormats",xn[xn.CurrencyCode=15]="CurrencyCode",xn[xn.CurrencySymbol=16]="CurrencySymbol",xn[xn.CurrencyName=17]="CurrencyName",xn[xn.Currencies=18]="Currencies",xn[xn.Directionality=19]="Directionality",xn[xn.PluralCase=20]="PluralCase",xn[xn.ExtraData=21]="ExtraData",xn))();const Pl="en-US";let Ry=Pl;function sS(t,o,c,u,f){if(t=J(t),Array.isArray(t))for(let m=0;m<t.length;m++)sS(t[m],o,c,u,f);else{const m=Fn(),y=Ft();let D=Ca(t)?t:J(t.provide),x=Cv(t);const j=jr(),te=1048575&j.providerIndexes,ye=j.directiveStart,Pe=j.providerIndexes>>20;if(Ca(t)||!t.multi){const Qe=new Mi(x,f,Cu),bt=cS(D,o,f?te:te+Pe,ye);-1===bt?(La(vo(j,y),m,D),aS(m,t,o.length),o.push(D),j.directiveStart++,j.directiveEnd++,f&&(j.providerIndexes+=1048576),c.push(Qe),y.push(Qe)):(c[bt]=Qe,y[bt]=Qe)}else{const Qe=cS(D,o,te+Pe,ye),bt=cS(D,o,te,te+Pe),Bt=Qe>=0&&c[Qe],tn=bt>=0&&c[bt];if(f&&!tn||!f&&!Bt){La(vo(j,y),m,D);const _n=function lD(t,o,c,u,f){const m=new Mi(t,c,Cu);return m.multi=[],m.index=o,m.componentProviders=0,Z0(m,f,u&&!c),m}(f?B_:U_,c.length,f,u,x);!f&&tn&&(c[bt].providerFactory=_n),aS(m,t,o.length,0),o.push(D),j.directiveStart++,j.directiveEnd++,f&&(j.providerIndexes+=1048576),c.push(_n),y.push(_n)}else aS(m,t,Qe>-1?Qe:bt,Z0(c[f?bt:Qe],x,!f&&u));!f&&u&&tn&&c[bt].componentProviders++}}}function aS(t,o,c,u){const f=Ca(o),m=function vv(t){return!!t.useClass}(o);if(f||m){const x=(m?J(o.useClass):o).prototype.ngOnDestroy;if(x){const j=t.destroyHooks||(t.destroyHooks=[]);if(!f&&o.multi){const te=j.indexOf(c);-1===te?j.push(c,[u,x]):j[te+1].push(u,x)}else j.push(c,x)}}}function Z0(t,o,c){return c&&t.componentProviders++,t.multi.push(o)-1}function cS(t,o,c,u){for(let f=c;f<u;f++)if(o[f]===t)return f;return-1}function U_(t,o,c,u){return Pm(this.multi,[])}function B_(t,o,c,u){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=zi(c,c[1],this.providerFactory.index,u);m=D.slice(0,y),Pm(f,m);for(let x=y;x<D.length;x++)m.push(D[x])}else m=[],Pm(f,m);return m}function Pm(t,o){for(let c=0;c<t.length;c++)o.push((0,t[c])());return o}function Ll(t,o=[]){return c=>{c.providersResolver=(u,f)=>function uD(t,o,c){const u=Fn();if(u.firstCreatePass){const f=xr(t);sS(c,u.data,u.blueprint,f,!0),sS(o,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,o)}}class sp{}class Do{}function Y0(t,o){return new uS(t,o??null)}class uS extends sp{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nh(this);const u=lr(o);this._bootstrapComponents=js(u.bootstrap),this._r3Injector=Df(o,c,[{provide:sp,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],B(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class lS extends Do{constructor(o){super(),this.moduleType=o}create(o){return new uS(this.moduleType,o)}}class z0 extends sp{constructor(o,c,u){super(),this.componentFactoryResolver=new nh(this),this.instance=null;const f=new ya([...o,{provide:sp,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],c||yc(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function G_(t,o,c=null){return new z0(t,o,c).injector}let W0=(()=>{class t{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=sf(0,c.type),f=u.length>0?G_([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Jt({token:t,providedIn:"environment",factory:()=>new t(ao(Di))}),t})();function dS(t){t.getStandaloneInjector=o=>o.get(W0).getOrCreateStandaloneInjector(t)}function Dh(t,o,c){const u=Sr()+t,f=Ft();return f[u]===Pn?ys(f,u,c?o.call(c):o()):Du(f,u)}function H_(t,o,c,u){return bS(Ft(),Sr(),t,o,c,u)}function CS(t,o,c,u,f){return TS(Ft(),Sr(),t,o,c,u,f)}function $_(t,o,c,u,f,m){return MS(Ft(),Sr(),t,o,c,u,f,m)}function yS(t,o,c,u,f,m,y){return function xS(t,o,c,u,f,m,y,D,x){const j=o+c;return bi(t,j,f,m,y,D)?ys(t,j+4,x?u.call(x,f,m,y,D):u(f,m,y,D)):ap(t,j+4)}(Ft(),Sr(),t,o,c,u,f,m,y)}function SS(t,o,c,u,f,m,y,D){const x=Sr()+t,j=Ft(),te=bi(j,x,c,u,f,m);return qo(j,x+4,y)||te?ys(j,x+5,D?o.call(D,c,u,f,m,y):o(c,u,f,m,y)):Du(j,x+5)}function ap(t,o){const c=t[o];return c===Pn?void 0:c}function bS(t,o,c,u,f,m){const y=o+c;return qo(t,y,f)?ys(t,y+1,m?u.call(m,f):u(f)):ap(t,y+1)}function TS(t,o,c,u,f,m,y){const D=o+c;return Fc(t,D,f,m)?ys(t,D+2,y?u.call(y,f,m):u(f,m)):ap(t,D+2)}function MS(t,o,c,u,f,m,y,D){const x=o+c;return qa(t,x,f,m,y)?ys(t,x+3,D?u.call(D,f,m,y):u(f,m,y)):ap(t,x+3)}function wS(t,o){const c=Fn();let u;const f=t+22;c.firstCreatePass?(u=function nA(t,o){if(o)for(let c=o.length-1;c>=0;c--){const u=o[c];if(t===u.name)return u}}(o,c.pipeRegistry),c.data[f]=u,u.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,u.onDestroy)):u=c.data[f];const m=u.factory||(u.factory=lo(u.type)),y=Nt(Cu);try{const D=mo(!1),x=m();return mo(D),function nD(t,o,c,u){c>=t.data.length&&(t.data[c]=null,t.blueprint[c]=null),o[c]=u}(c,Ft(),f,x),x}finally{Nt(y)}}function RS(t,o,c){const u=t+22,f=Ft(),m=Mt(f,u);return Fl(f,u)?bS(f,Sr(),o,m.transform,c,m):m.transform(c)}function Om(t,o,c,u){const f=t+22,m=Ft(),y=Mt(m,f);return Fl(m,f)?TS(m,Sr(),o,y.transform,c,u,y):y.transform(c,u)}function PS(t,o,c,u,f){const m=t+22,y=Ft(),D=Mt(y,m);return Fl(y,m)?MS(y,Sr(),o,D.transform,c,u,f,D):D.transform(c,u,f)}function Fl(t,o){return t[1].data[o].pure}function cp(t){return o=>{setTimeout(t,void 0,o)}}const rc=class OS extends n.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,u){let f=o,m=c||(()=>null),y=u;if(o&&"object"==typeof o){const x=o;f=x.next?.bind(x),m=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(m=cp(m),f&&(f=cp(f)),y&&(y=cp(y)));const D=super.subscribe({next:f,error:m,complete:y});return o instanceof e.w&&o.add(D),D}};function iA(){return this._results[Qa()]()}class j_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Qa(),u=j_.prototype;u[c]||(u[c]=iA)}get changes(){return this._changes||(this._changes=new rc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const u=this;u.dirty=!1;const f=jo(o);(this._changesDetected=!function lc(t,o,c){if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=o[u];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let up=(()=>{class t{}return t.__NG_ELEMENT_ID__=aA,t})();const LS=up,sA=class extends LS{constructor(o,c,u){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(o,c){const u=this._declarationTContainer.tViews,f=hl(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),gl(u,f,o),new bl(f)}};function aA(){return Lm(jr(),Ft())}function Lm(t,o){return 4&t.type?new sA(o,t,Gi(t,o)):null}let bh=(()=>{class t{}return t.__NG_ELEMENT_ID__=cA,t})();function cA(){return Z_(jr(),Ft())}const FS=bh,kS=class extends FS{constructor(o,c,u){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=u}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const o=ss(this._hostTNode,this._hostLView);if(Ms(o)){const c=Ii(o,this._hostLView),u=xi(o);return new ws(c[1].data[u+8],c)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=NS(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const y=o.createEmbeddedView(c||{},m);return this.insert(y,f),y}createComponent(o,c,u,f,m){const y=o&&!function ua(t){return"function"==typeof t}(o);let D;if(y)D=c;else{const ye=c||{};D=ye.index,u=ye.injector,f=ye.projectableNodes,m=ye.environmentInjector||ye.ngModuleRef}const x=y?o:new Lc(yn(o)),j=u||this.parentInjector;if(!m&&null==x.ngModule){const Pe=(y?j:this.parentInjector).get(Di,null);Pe&&(m=Pe)}const te=x.create(j,f,void 0,m);return this.insert(te.hostView,D),te}insert(o,c){const u=o._lView,f=u[1];if(function on(t){return pr(t[3])}(u)){const te=this.indexOf(o);if(-1!==te)this.detach(te);else{const ye=u[3],Pe=new kS(ye,ye[6],ye[3]);Pe.detach(Pe.indexOf(o))}}const m=this._adjustIndex(c),y=this._lContainer;!function Up(t,o,c,u){const f=10+u,m=c.length;u>0&&(c[f-1][4]=o),u<m-10?(o[4]=c[f],Wc(c,10+u,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function Bp(t,o){const c=t[9];o[16]!==o[3][3][16]&&(t[2]=!0),null===c?t[9]=[o]:c.push(o)}(y,o);const D=o[19];null!==D&&D.insertView(t),o[2]|=64}(f,u,y,m);const D=ju(m,y),x=u[11],j=cd(x,y[7]);return null!==j&&function og(t,o,c,u,f,m){u[0]=f,u[6]=o,ds(t,u,c,1,f,m)}(f,y[6],x,u,j,D),o.attachToViewContainerRef(),Wc(Fm(y),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=NS(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),u=mc(this._lContainer,c);u&&(dc(Fm(this._lContainer),c),uu(u[1],u))}detach(o){const c=this._adjustIndex(o,-1),u=mc(this._lContainer,c);return u&&null!=dc(Fm(this._lContainer),c)?new bl(u):null}_adjustIndex(o,c=0){return o??this.length+c}};function NS(t){return t[8]}function Fm(t){return t[8]||(t[8]=[])}function Z_(t,o){let c;const u=o[t.index];if(pr(u))c=u;else{let f;if(8&t.type)f=kn(u);else{const m=o[11];f=m.createComment("");const y=kr(t,o);qi(m,cd(m,y),f,function ii(t,o){return t.nextSibling(o)}(m,y),!1)}o[t.index]=c=nm(u,o,f,t),yl(o,c)}return new kS(c,t,o)}class km{constructor(o){this.queryList=o,this.matches=null}clone(){return new km(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const u=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let m=0;m<u;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new Y_(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==JS(o,c).matches&&this.queries[c].setDirty()}}class GS{constructor(o,c,u=null){this.predicate=o,this.flags=c,this.read=u}}class z_{constructor(o=[]){this.queries=o}elementStart(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(o,f);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new z_(c):null}template(o,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class W_{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new W_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(o,c,lA(c,m)),this.matchTNodeWithReadOption(o,c,oa(c,o,m,!1,!1))}else u===up?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,oa(c,o,u,!1,!1))}matchTNodeWithReadOption(o,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===mr||f===bh||f===up&&4&c.type)this.addMatch(c.index,-2);else{const m=oa(c,o,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function lA(t,o){const c=t.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===o)return c[u+1];return null}function pA(t,o,c,u){return-1===c?function dA(t,o){return 11&t.type?Gi(t,o):4&t.type?Lm(t,o):null}(o,t):-2===c?function fA(t,o,c){return c===mr?Gi(o,t):c===up?Lm(o,t):c===bh?Z_(o,t):void 0}(t,o,u):zi(t,t[1],c,o)}function VS(t,o,c,u){const f=o[19].queries[u];if(null===f.matches){const m=t.data,y=c.matches,D=[];for(let x=0;x<y.length;x+=2){const j=y[x];D.push(j<0?null:pA(o,m[j],y[x+1],c.metadata.read))}f.matches=D}return f.matches}function J_(t,o,c,u){const f=t.queries.getByIndex(c),m=f.matches;if(null!==m){const y=VS(t,o,f,c);for(let D=0;D<m.length;D+=2){const x=m[D];if(x>0)u.push(y[D/2]);else{const j=m[D+1],te=o[-x];for(let ye=10;ye<te.length;ye++){const Pe=te[ye];Pe[17]===Pe[3]&&J_(Pe[1],Pe,j,u)}if(null!==te[9]){const ye=te[9];for(let Pe=0;Pe<ye.length;Pe++){const Qe=ye[Pe];J_(Qe[1],Qe,j,u)}}}}}return u}function HS(t){const o=Ft(),c=Fn(),u=As();ho(u+1);const f=JS(c,u);if(t.dirty&&function Zt(t){return 4==(4&t[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?J_(c,o,u,[]):VS(c,o,f,u);t.reset(m,pf),t.notifyOnChanges()}return!0}return!1}function $S(t,o,c){const u=Fn();u.firstCreatePass&&(WS(u,new GS(t,o,c),-1),2==(2&o)&&(u.staticViewQueries=!0)),zS(u,Ft(),o)}function jS(t,o,c,u){const f=Fn();if(f.firstCreatePass){const m=jr();WS(f,new GS(o,c,u),m.index),function hA(t,o){const c=t.contentQueries||(t.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(t.queries.length-1,o)}(f,t),2==(2&c)&&(f.staticContentQueries=!0)}zS(f,Ft(),c)}function ZS(){return function YS(t,o){return t[19].queries[o].queryList}(Ft(),As())}function zS(t,o,c){const u=new j_(4==(4&c));os(t,o,u,u.destroy),null===o[19]&&(o[19]=new Y_),o[19].queries.push(new km(u))}function WS(t,o,c){null===t.queries&&(t.queries=new z_),t.queries.track(new W_(o,c))}function JS(t,o){return t.queries.getByIndex(o)}function K_(t,o){return Lm(t,o)}function jm(...t){}const dE=new hr("Application Initializer");let Zm=(()=>{class t{constructor(c){this.appInits=c,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(t_(m))c.push(m);else if(n_(m)){const y=new Promise((D,x)=>{m.subscribe({complete:D,error:x})});c.push(y)}}Promise.all(c).then(()=>{u()}).catch(f=>{this.reject(f)}),0===c.length&&u(),this.initialized=!0}}return t.\u0275fac=function(c){return new(c||t)(ao(dE,8))},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wh=new hr("AppId",{providedIn:"root",factory:function fC(){return`${Ym()}${Ym()}${Ym()}`}});function Ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zm=new hr("Platform Initializer"),fp=new hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hC=new hr("appBootstrapListener");let fE=(()=>{class t{log(c){console.log(c)}warn(c){console.warn(c)}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const gC=new hr("LocaleId",{providedIn:"root",factory:()=>Sp(gC,kt.Optional|kt.SkipSelf)||function DA(){return typeof $localize<"u"&&$localize.locale||Pl}()}),hp=new hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ED{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let AD=(()=>{class t{compileModuleSync(c){return new lS(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=js(lr(c).declarations).reduce((y,D)=>{const x=yn(D);return x&&y.push(new Lc(x)),y},[]);return new ED(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TD=(()=>Promise.resolve(0))();function mE(t){typeof Zone>"u"?TD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ks{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rc(!1),this.onMicrotaskEmpty=new rc(!1),this.onStable=new rc(!1),this.onError=new rc(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function MA(){let t=vt.requestAnimationFrame,o=vt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&o){const c=t[Zone.__symbol__("OriginalDelegate")];c&&(t=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _E(t){const o=()=>{!function xA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mC(t),t.isCheckStableRunning=!0,vE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,m,y,D)=>{try{return CE(t),c.invokeTask(f,m,y,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&o(),yE(t)}},onInvoke:(c,u,f,m,y,D,x)=>{try{return CE(t),c.invoke(f,m,y,D,x)}finally{t.shouldCoalesceRunChangeDetection&&o(),yE(t)}},onHasTask:(c,u,f,m)=>{c.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,mC(t),vE(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,f,m)=>(c.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new ue(909,!1)}run(o,c,u){return this._inner.run(o,c,u)}runTask(o,c,u,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,o,MD,jm,jm);try{return m.runTask(y,c,u)}finally{m.cancelTask(y)}}runGuarded(o,c,u){return this._inner.runGuarded(o,c,u)}runOutsideAngular(o){return this._outer.run(o)}}const MD={};function vE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function CE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yE(t){t._nesting--,vE(t)}class IA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rc,this.onMicrotaskEmpty=new rc,this.onStable=new rc,this.onError=new rc}run(o,c,u){return o.apply(c,u)}runGuarded(o,c,u){return o.apply(c,u)}runOutsideAngular(o){return o()}runTask(o,c,u,f){return o.apply(c,u)}}const SE=new hr(""),EE=new hr("");let vC,AE=(()=>{class t{constructor(c,u,f){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vC||(function wA(t){vC=t}(f),f.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),mE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,f){return[]}}return t.\u0275fac=function(c){return new(c||t)(ao(Ks),ao(DE),ao(EE))},t.\u0275prov=Jt({token:t,factory:t.\u0275fac}),t})(),DE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return vC?.findTestabilityInTree(this,c,u)??null}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),xu=null;const bE=new hr("AllowMultipleToken"),_C=new hr("PlatformDestroyListeners");class PA{constructor(o,c){this.name=o,this.token=c}}function Bl(t,o,c=[]){const u=`Platform: ${o}`,f=new hr(u);return(m=[])=>{let y=yC();if(!y||y.injector.get(bE,!1)){const D=[...c,...m,{provide:f,useValue:!0}];t?t(D):function OA(t){if(xu&&!xu.get(bE,!1))throw new ue(400,!1);xu=t;const o=t.get(IE);(function ME(t){const o=t.get(zm,null);o&&o.forEach(c=>c())})(t)}(function CC(t=[],o){return Vi.create({name:o,providers:[{provide:_d,useValue:"platform"},{provide:_C,useValue:new Set([()=>xu=null])},...t]})}(D,u))}return function xE(t){const o=yC();if(!o)throw new ue(401,!1);return o}()}}function yC(){return xu?.get(IE)??null}let IE=(()=>{class t{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const f=function wE(t,o){let c;return c="noop"===t?new IA:("zone.js"===t?void 0:t)||new Ks(o),c}(u?.ngZone,function SC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:Ks,useValue:f}];return f.run(()=>{const y=Vi.create({providers:m,parent:this.injector,name:c.moduleType.name}),D=c.create(y),x=D.injector.get(ns,null);if(!x)throw new ue(402,!1);return f.runOutsideAngular(()=>{const j=f.onError.subscribe({next:te=>{x.handleError(te)}});D.onDestroy(()=>{Rh(this._modules,D),j.unsubscribe()})}),function FA(t,o,c){try{const u=c();return t_(u)?u.catch(f=>{throw o.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw o.runOutsideAngular(()=>t.handleError(u)),u}}(x,f,()=>{const j=D.injector.get(Zm);return j.runInitializers(),j.donePromise.then(()=>(function R_(t){Je(t,"Expected localeId to be defined"),"string"==typeof t&&(Ry=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(gC,Pl)||Pl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,u=[]){const f=RE({},u);return function RA(t,o,c){const u=new lS(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const u=c.injector.get(Qs);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ue(403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(_C,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(c){return new(c||t)(ao(Vi))},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function RE(t,o){return Array.isArray(o)?o.reduce(RE,t):{...t,...o}}let Qs=(()=>{class t{constructor(c,u,f){this._zone=c,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new h.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new h.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),mE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),j.unsubscribe()}});this.isStable=(0,F.T)(m,y.pipe((0,S.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const f=c instanceof hi;if(!this._injector.get(Zm).done)throw!f&&Qn(c),new ue(405,false);let y;y=f?c:this._injector.get(ts).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const D=function TE(t){return t.isBoundToModule}(y)?void 0:this._injector.get(sp),j=y.create(Vi.NULL,[],u||y.selector,D),te=j.location.nativeElement,ye=j.injector.get(SE,null);return ye?.registerApplication(te),j.onDestroy(()=>{this.detachView(j.hostView),Rh(this.components,j),ye?.unregisterApplication(te)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Rh(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(hC,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Rh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ue(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(c){return new(c||t)(ao(Ks),ao(Di),ao(ns))},t.\u0275prov=Jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rh(t,o){const c=t.indexOf(o);c>-1&&t.splice(c,1)}let OE=!0,LE=!1;function NA(){return LE=!0,OE}function Ph(){if(LE)throw new Error("Cannot enable prod mode after platform setup.");OE=!1}let UA=(()=>{class t{}return t.__NG_ELEMENT_ID__=FE,t})();function FE(t){return function BA(t,o,c){if(qr(t)&&!c){const u=pt(t.index,o);return new bl(u,u)}return 47&t.type?new bl(o[16],o):null}(jr(),Ft(),16==(16&t))}class BE{constructor(){}supports(o){return Ml(o)}create(o){return new jA(o)}}const DC=(t,o)=>o;class jA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DC}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,u=this._removalsHead,f=0,m=null;for(;c||u;){const y=!u||c&&c.currentIndex<GE(u,f,m)?c:u,D=GE(y,f,m),x=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const j=D-f,te=x-f;if(j!=te){for(let Pe=0;Pe<j;Pe++){const Qe=Pe<m.length?m[Pe]:m[Pe]=0,bt=Qe+Pe;te<=bt&&bt<j&&(m[Pe]=Qe+1)}m[y.previousIndex]=te-j}}D!==x&&o(y,D,x)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Ml(o))throw new ue(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,y,c=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)m=o[D],y=this._trackByFn(D,m),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,m,y,D)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,D),u=!0),c=c._next}else f=0,function fm(t,o){if(Array.isArray(t))for(let c=0;c<t.length;c++)o(t[c]);else{const c=t[Qa()]();let u;for(;!(u=c.next()).done;)o(u.value)}}(o,D=>{y=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,D,y,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,y,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,u,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,f)):o=this._addAfter(new bC(c,u),m,f),o}_verifyReinsertion(o,c,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,c,u),this._addToMoves(o,u),o}_moveAfter(o,c,u){return this._unlink(o),this._insertAfter(o,c,u),this._addToMoves(o,u),o}_addAfter(o,c,u){return this._insertAfter(o,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,u){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Wm),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,u=o._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bC{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const c=o._prevDup,u=o._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Wm{constructor(){this.map=new Map}put(o){const c=o.trackById;let u=this.map.get(c);u||(u=new ZA,this.map.set(c,u)),u.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GE(t,o,c){const u=t.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+o+f}class TC{constructor(){}supports(o){return o instanceof Map||Au(o)}create(){return new YA}}class YA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Au(o)))throw new ue(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const u=o._prev;return c._next=o,c._prev=u,o._prev=c,u&&(u._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const u=new MC(o);return this._records.set(o,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(u=>c(o[u],u))}}class MC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new Jm([new BE])}let Jm=(()=>{class t{constructor(c){this.factories=c}static create(c,u){if(null!=u){const f=u.factories.slice();c=c.concat(f)}return new t(c)}static extend(c){return{provide:t,useFactory:u=>t.create(c,u||VE()),deps:[[t,new ku,new Na]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(null!=u)return u;throw new ue(901,!1)}}return t.\u0275prov=Jt({token:t,providedIn:"root",factory:VE}),t})();function Km(){return new xC([new TC])}let xC=(()=>{class t{constructor(c){this.factories=c}static create(c,u){if(u){const f=u.factories.slice();c=c.concat(f)}return new t(c)}static extend(c){return{provide:t,useFactory:u=>t.create(c,u||Km()),deps:[[t,new ku,new Na]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(u)return u;throw new ue(901,!1)}}return t.\u0275prov=Jt({token:t,providedIn:"root",factory:Km}),t})();const WA=Bl(null,"core",[]);let JA=(()=>{class t{constructor(c){}}return t.\u0275fac=function(c){return new(c||t)(ao(Qs))},t.\u0275mod=dt({type:t}),t.\u0275inj=nn({}),t})();function KA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},4006:(_e,ie,v)=>{"use strict";v.d(ie,{CE:()=>Lo,EJ:()=>ko,F:()=>Ar,Fd:()=>kn,Fj:()=>ne,JJ:()=>kt,JL:()=>We,JU:()=>B,Kr:()=>To,On:()=>N,Q7:()=>fo,QS:()=>Xs,UX:()=>ot,Wl:()=>V,YN:()=>No,Zs:()=>Ze,_:()=>gn,_Y:()=>be,c5:()=>Nr,kI:()=>Ve,nD:()=>An,nJ:()=>On,oH:()=>Oo,p4:()=>$n,qQ:()=>Mo,sg:()=>Or,u:()=>Fo,u5:()=>ct,vC:()=>pn,wV:()=>Q,x0:()=>to});var n=v(4650),e=v(6895),h=v(5254),F=v(567),S=v(4850);let w=(()=>{class z{constructor(L,le){this._renderer=L,this._elementRef=le,this.onChange=xt=>{},this.onTouched=()=>{}}setProperty(L,le){this._renderer.setProperty(this._elementRef.nativeElement,L,le)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(n.Qsj),n.Y36(n.SBq))},z.\u0275dir=n.lG2({type:z}),z})(),P=(()=>{class z extends w{}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,features:[n.qOj]}),z})();const B=new n.OlP("NgValueAccessor"),Z={provide:B,useExisting:(0,n.Gpc)(()=>V),multi:!0};let V=(()=>{class z extends P{writeValue(L){this.setProperty("checked",L)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(Cn){return le.onChange(Cn.target.checked)})("blur",function(){return le.onTouched()})},features:[n._Bn([Z]),n.qOj]}),z})();const G={provide:B,useExisting:(0,n.Gpc)(()=>ne),multi:!0},q=new n.OlP("CompositionEventMode");let ne=(()=>{class z extends w{constructor(L,le,xt){super(L,le),this._compositionMode=xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J(){const z=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(q,8))},z.\u0275dir=n.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,le){1&L&&n.NdJ("input",function(Cn){return le._handleInput(Cn.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Cn){return le._compositionEnd(Cn.target.value)})},features:[n._Bn([G]),n.qOj]}),z})();function ae(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Ee(z){return null!=z&&"number"==typeof z.length}const Ye=new n.OlP("NgValidators"),at=new n.OlP("NgAsyncValidators"),ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min($){return he($)}static max($){return ge($)}static required($){return de($)}static requiredTrue($){return it($)}static email($){return function He(z){return ae(z.value)||ze.test(z.value)?null:{email:!0}}($)}static minLength($){return function Te(z){return $=>ae($.value)||!Ee($.value)?null:$.value.length<z?{minlength:{requiredLength:z,actualLength:$.value.length}}:null}($)}static maxLength($){return Me($)}static pattern($){return re($)}static nullValidator($){return null}static compose($){return lt($)}static composeAsync($){return an($)}}function he(z){return $=>{if(ae($.value)||ae(z))return null;const L=parseFloat($.value);return!isNaN(L)&&L<z?{min:{min:z,actual:$.value}}:null}}function ge(z){return $=>{if(ae($.value)||ae(z))return null;const L=parseFloat($.value);return!isNaN(L)&&L>z?{max:{max:z,actual:$.value}}:null}}function de(z){return ae(z.value)?{required:!0}:null}function it(z){return!0===z.value?null:{required:!0}}function Me(z){return $=>Ee($.value)&&$.value.length>z?{maxlength:{requiredLength:z,actualLength:$.value.length}}:null}function re(z){if(!z)return Ie;let $,L;return"string"==typeof z?(L="","^"!==z.charAt(0)&&(L+="^"),L+=z,"$"!==z.charAt(z.length-1)&&(L+="$"),$=new RegExp(L)):(L=z.toString(),$=z),le=>{if(ae(le.value))return null;const xt=le.value;return $.test(xt)?null:{pattern:{requiredPattern:L,actualValue:xt}}}}function Ie(z){return null}function Ce(z){return null!=z}function we(z){return(0,n.QGY)(z)?(0,h.D)(z):z}function Ae(z){let $={};return z.forEach(L=>{$=null!=L?{...$,...L}:$}),0===Object.keys($).length?null:$}function Ge(z,$){return $.map(L=>L(z))}function Je(z){return z.map($=>function ht(z){return!z.validate}($)?$:L=>$.validate(L))}function lt(z){if(!z)return null;const $=z.filter(Ce);return 0==$.length?null:function(L){return Ae(Ge(L,$))}}function Ne(z){return null!=z?lt(Je(z)):null}function an(z){if(!z)return null;const $=z.filter(Ce);return 0==$.length?null:function(L){const le=Ge(L,$).map(we);return(0,F.D)(le).pipe((0,S.U)(Ae))}}function Gt(z){return null!=z?an(Je(z)):null}function Jt(z,$){return null===z?[$]:Array.isArray(z)?[...z,$]:[z,$]}function ft(z){return z._rawValidators}function nn(z){return z._rawAsyncValidators}function Xt(z){return z?Array.isArray(z)?z:[z]:[]}function Vt(z,$){return Array.isArray(z)?z.includes($):z===$}function qe(z,$){const L=Xt($);return Xt(z).forEach(xt=>{Vt(L,xt)||L.push(xt)}),L}function rn(z,$){return Xt($).filter(L=>!Vt(z,L))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,L){return!!this.control&&this.control.hasError($,L)}getError($,L){return this.control?this.control.getError($,L):null}}class Et extends me{get formDirective(){return null}get path(){return null}}class Ke extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jt{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kt=(()=>{class z extends jt{constructor(L){super(L)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Ke,2))},z.\u0275dir=n.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,le){2&L&&n.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[n.qOj]}),z})(),We=(()=>{class z extends jt{constructor(L){super(L)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Et,10))},z.\u0275dir=n.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,le){2&L&&n.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)("ng-submitted",le.isSubmitted)},features:[n.qOj]}),z})();const Ut="VALID",Xe="INVALID",At="PENDING",Tt="DISABLED";function Ot(z){return(In(z)?z.validators:z)||null}function ln(z){return Array.isArray(z)?Ne(z):z||null}function Ht(z,$){return(In($)?$.asyncValidators:z)||null}function dt(z){return Array.isArray(z)?Gt(z):z||null}function In(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function Vn(z,$,L){const le=z.controls;if(!($?Object.keys(le):le).length)throw new n.vHH(1e3,"");if(!le[L])throw new n.vHH(1001,"")}function Nn(z,$,L){z._forEachChild((le,xt)=>{if(void 0===L[xt])throw new n.vHH(1002,"")})}class ur{constructor($,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=$,this._rawAsyncValidators=L,this._composedValidatorFn=ln(this._rawValidators),this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===Ut}get invalid(){return this.status===Xe}get pending(){return this.status==At}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._rawValidators=$,this._composedValidatorFn=ln($)}setAsyncValidators($){this._rawAsyncValidators=$,this._composedAsyncValidatorFn=dt($)}addValidators($){this.setValidators(qe($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(qe($,this._rawAsyncValidators))}removeValidators($){this.setValidators(rn($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(rn($,this._rawAsyncValidators))}hasValidator($){return Vt(this._rawValidators,$)}hasAsyncValidator($){return Vt(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=At,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const L=this._parentMarkedDirty($.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(le=>{le.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!0))}enable($={}){const L=this._parentMarkedDirty($.onlySelf);this.status=Ut,this._forEachChild(le=>{le.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:L}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ut||this.status===At)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:Ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=At,this._hasOwnPendingAsyncValidator=!0;const L=we(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,L={}){this.errors=$,this._updateControlsErrors(!1!==L.emitEvent)}get($){let L=$;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((le,xt)=>le&&le._find(xt),this)}getError($,L){const le=L?this.get(L):this;return le&&le.errors?le.errors[$]:null}hasError($,L){return!!this.getError($,L)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?Xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(At)?At:this._anyControlsHaveStatus(Xe)?Xe:Ut}_anyControlsHaveStatus($){return this._anyControls(L=>L.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){In($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}}class yn extends ur{constructor($,L,le){super(Ot(L),Ht(le,L)),this.controls=$,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,L){return this.controls[$]?this.controls[$]:(this.controls[$]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl($,L,le={}){this.registerControl($,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl($,L={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl($,L,le={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],L&&this.registerControl($,L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,L={}){Nn(this,0,$),Object.keys($).forEach(le=>{Vn(this,!0,le),this.controls[le].setValue($[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue($,L={}){null!=$&&(Object.keys($).forEach(le=>{const xt=this.controls[le];xt&&xt.patchValue($[le],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset($={},L={}){this._forEachChild((le,xt)=>{le.reset($[xt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},($,L,le)=>($[le]=L.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(L,le)=>!!le._syncPendingControls()||L);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(L=>{const le=this.controls[L];le&&$(le,L)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[L,le]of Object.entries(this.controls))if(this.contains(L)&&$(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,le,xt)=>((le.enabled||this.disabled)&&(L[xt]=le.value),L))}_reduceChildren($,L){let le=$;return this._forEachChild((xt,Cn)=>{le=L(le,xt,Cn)}),le}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}const On=yn;class Qn extends yn{}function nr(z,$){return[...$.path,z]}function Oe(z,$){oe(z,$),$.valueAccessor.writeValue(z.value),z.disabled&&$.valueAccessor.setDisabledState?.(!0),function fe(z,$){$.valueAccessor.registerOnChange(L=>{z._pendingValue=L,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&yt(z,$)})}(z,$),function qt(z,$){const L=(le,xt)=>{$.valueAccessor.writeValue(le),xt&&$.viewToModelUpdate(le)};z.registerOnChange(L),$._registerOnDestroy(()=>{z._unregisterOnChange(L)})}(z,$),function et(z,$){$.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&yt(z,$),"submit"!==z.updateOn&&z.markAsTouched()})}(z,$),function X(z,$){if($.valueAccessor.setDisabledState){const L=le=>{$.valueAccessor.setDisabledState(le)};z.registerOnDisabledChange(L),$._registerOnDestroy(()=>{z._unregisterOnDisabledChange(L)})}}(z,$)}function Fe(z,$,L=!0){const le=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(le),$.valueAccessor.registerOnTouched(le)),O(z,$),z&&($._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function pe(z,$){z.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange($)})}function oe(z,$){const L=ft(z);null!==$.validator?z.setValidators(Jt(L,$.validator)):"function"==typeof L&&z.setValidators([L]);const le=nn(z);null!==$.asyncValidator?z.setAsyncValidators(Jt(le,$.asyncValidator)):"function"==typeof le&&z.setAsyncValidators([le]);const xt=()=>z.updateValueAndValidity();pe($._rawValidators,xt),pe($._rawAsyncValidators,xt)}function O(z,$){let L=!1;if(null!==z){if(null!==$.validator){const xt=ft(z);if(Array.isArray(xt)&&xt.length>0){const Cn=xt.filter(Ur=>Ur!==$.validator);Cn.length!==xt.length&&(L=!0,z.setValidators(Cn))}}if(null!==$.asyncValidator){const xt=nn(z);if(Array.isArray(xt)&&xt.length>0){const Cn=xt.filter(Ur=>Ur!==$.asyncValidator);Cn.length!==xt.length&&(L=!0,z.setAsyncValidators(Cn))}}}const le=()=>{};return pe($._rawValidators,le),pe($._rawAsyncValidators,le),L}function yt(z,$){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Qt(z,$){oe(z,$)}function Wn(z,$){if(!z.hasOwnProperty("model"))return!1;const L=z.model;return!!L.isFirstChange()||!Object.is($,L.currentValue)}function Yn(z,$){z._syncPendingControls(),$.forEach(L=>{const le=L.control;"submit"===le.updateOn&&le._pendingChange&&(L.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function rr(z,$){if(!$)return null;let L,le,xt;return Array.isArray($),$.forEach(Cn=>{Cn.constructor===ne?L=Cn:function vr(z){return Object.getPrototypeOf(z.constructor)===P}(Cn)?le=Cn:xt=Cn}),xt||le||L||null}const _r={provide:Et,useExisting:(0,n.Gpc)(()=>Ar)},Fr=(()=>Promise.resolve())();let Ar=(()=>{class z extends Et{constructor(L,le){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new n.vpe,this.form=new yn({},Ne(L),Gt(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Fr.then(()=>{const le=this._findContainer(L.path);L.control=le.registerControl(L.name,L.control),Oe(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Fr.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Fr.then(()=>{const le=this._findContainer(L.path),xt=new yn({});Qt(xt,L),le.registerControl(L.name,xt),xt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Fr.then(()=>{const le=this._findContainer(L.path);le&&le.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,le){Fr.then(()=>{this.form.get(L.path).setValue(le)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,Yn(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Ye,10),n.Y36(at,10))},z.\u0275dir=n.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,le){1&L&&n.NdJ("submit",function(Cn){return le.onSubmit(Cn)})("reset",function(){return le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([_r]),n.qOj]}),z})();function Rr(z,$){const L=z.indexOf($);L>-1&&z.splice(L,1)}function dr(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const Cr=class extends ur{constructor($=null,L,le){super(Ot(L),Ht(le,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),In(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=dr($)?$.value:$)}setValue($,L={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue($,L={}){this.setValue($,L)}reset($=this.defaultValue,L={}){this._applyFormState($),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Rr(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Rr(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){dr($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},$n=Cr;let Mr=(()=>{class z extends Et{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return nr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,features:[n.qOj]}),z})();const Be={provide:Ke,useExisting:(0,n.Gpc)(()=>N)},gt=(()=>Promise.resolve())();let N=(()=>{class z extends Ke{constructor(L,le,xt,Cn,Ur){super(),this._changeDetectorRef=Ur,this.control=new Cr,this._registered=!1,this.update=new n.vpe,this._parent=L,this._setValidators(le),this._setAsyncValidators(xt),this.valueAccessor=rr(0,Cn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const le=L.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Wn(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){gt.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const le=L.isDisabled.currentValue,xt=0!==le&&(0,n.D6c)(le);gt.then(()=>{xt&&!this.control.disabled?this.control.disable():!xt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?nr(L,this._parent):[L]}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Et,9),n.Y36(Ye,10),n.Y36(at,10),n.Y36(B,10),n.Y36(n.sBO,8))},z.\u0275dir=n.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([Be]),n.qOj,n.TTD]}),z})(),be=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275dir=n.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})();const I={provide:B,useExisting:(0,n.Gpc)(()=>Q),multi:!0};let Q=(()=>{class z extends P{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=le=>{L(""==le?null:parseFloat(le))}}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("input",function(Cn){return le.onChange(Cn.target.value)})("blur",function(){return le.onTouched()})},features:[n._Bn([I]),n.qOj]}),z})();const je={provide:B,useExisting:(0,n.Gpc)(()=>gn),multi:!0};let cn=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=n.oAB({type:z}),z.\u0275inj=n.cJS({}),z})(),hn=(()=>{class z{constructor(){this._accessors=[]}add(L,le){this._accessors.push([L,le])}remove(L){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===L)return void this._accessors.splice(le,1)}select(L){this._accessors.forEach(le=>{this._isSameGroup(le,L)&&le[1]!==L&&le[1].fireUncheck(L.value)})}_isSameGroup(L,le){return!!L[0].control&&L[0]._parent===le._control._parent&&L[1].name===le.name}}return z.\u0275fac=function(L){return new(L||z)},z.\u0275prov=n.Yz7({token:z,factory:z.\u0275fac,providedIn:cn}),z})(),gn=(()=>{class z extends P{constructor(L,le,xt,Cn){super(L,le),this._registry=xt,this._injector=Cn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ke),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(hn),n.Y36(n.zs3))},z.\u0275dir=n.lG2({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(){return le.onChange()})("blur",function(){return le.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[n._Bn([je]),n.qOj]}),z})();const Ir=new n.OlP("NgModelWithFormControlWarning"),eo={provide:Ke,useExisting:(0,n.Gpc)(()=>Oo)};let Oo=(()=>{class z extends Ke{constructor(L,le,xt,Cn){super(),this._ngModelWarningConfig=Cn,this.update=new n.vpe,this._ngModelWarningSent=!1,this._setValidators(L),this._setAsyncValidators(le),this.valueAccessor=rr(0,xt)}set isDisabled(L){}ngOnChanges(L){if(this._isControlChanged(L)){const le=L.form.previousValue;le&&Fe(le,this,!1),Oe(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Wn(L,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Fe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_isControlChanged(L){return L.hasOwnProperty("form")}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(L){return new(L||z)(n.Y36(Ye,10),n.Y36(at,10),n.Y36(B,10),n.Y36(Ir,8))},z.\u0275dir=n.lG2({type:z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[n._Bn([eo]),n.qOj,n.TTD]}),z})();const Zo={provide:Et,useExisting:(0,n.Gpc)(()=>Or)};let Or=(()=>{class z extends Et{constructor(L,le){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(L),this._setAsyncValidators(le)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const le=this.form.get(L.path);return Oe(le,L),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),le}getControl(L){return this.form.get(L.path)}removeControl(L){Fe(L.control||null,L,!1),function Qr(z,$){const L=z.indexOf($);L>-1&&z.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,le){this.form.get(L.path).setValue(le)}onSubmit(L){return this.submitted=!0,Yn(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const le=L.control,xt=this.form.get(L.path);le!==xt&&(Fe(le||null,L),(z=>z instanceof Cr)(xt)&&(Oe(xt,L),L.control=xt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const le=this.form.get(L.path);Qt(le,L),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const le=this.form.get(L.path);le&&function Bn(z,$){return O(z,$)}(le,L)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oe(this.form,this),this._oldForm&&O(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Ye,10),n.Y36(at,10))},z.\u0275dir=n.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(L,le){1&L&&n.NdJ("submit",function(Cn){return le.onSubmit(Cn)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([Zo]),n.qOj,n.TTD]}),z})();const Yo={provide:Et,useExisting:(0,n.Gpc)(()=>to)};let to=(()=>{class z extends Mr{constructor(L,le,xt){super(),this._parent=L,this._setValidators(le),this._setAsyncValidators(xt)}_checkParentType(){Xo(this._parent)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Et,13),n.Y36(Ye,10),n.Y36(at,10))},z.\u0275dir=n.lG2({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[n._Bn([Yo]),n.qOj]}),z})();const zo={provide:Et,useExisting:(0,n.Gpc)(()=>Lo)};let Lo=(()=>{class z extends Et{constructor(L,le,xt){super(),this._parent=L,this._setValidators(le),this._setAsyncValidators(xt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return nr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Xo(this._parent)}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(Et,13),n.Y36(Ye,10),n.Y36(at,10))},z.\u0275dir=n.lG2({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[n._Bn([zo]),n.qOj]}),z})();function Xo(z){return!(z instanceof to||z instanceof Or||z instanceof Lo)}const lo={provide:Ke,useExisting:(0,n.Gpc)(()=>Fo)};let Fo=(()=>{class z extends Ke{constructor(L,le,xt,Cn,Ur){super(),this._ngModelWarningConfig=Ur,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(le),this._setAsyncValidators(xt),this.valueAccessor=rr(0,Cn)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),Wn(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return nr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(L){return new(L||z)(n.Y36(Et,13),n.Y36(Ye,10),n.Y36(at,10),n.Y36(B,10),n.Y36(Ir,8))},z.\u0275dir=n.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([lo]),n.qOj,n.TTD]}),z})();const Wo={provide:B,useExisting:(0,n.Gpc)(()=>ko),multi:!0};function br(z,$){return null==z?`${$}`:($&&"object"==typeof $&&($="Object"),`${z}: ${$}`.slice(0,50))}let ko=(()=>{class z extends P{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const xt=br(this._getOptionId(L),L);this.setProperty("value",xt)}registerOnChange(L){this.onChange=le=>{this.value=this._getOptionValue(le),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le),L))return le;return null}_getOptionValue(L){const le=function bo(z){return z.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le):L}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(Cn){return le.onChange(Cn.target.value)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Wo]),n.qOj]}),z})(),No=(()=>{class z{constructor(L,le,xt){this._element=L,this._renderer=le,this._select=xt,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(br(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(ko,9))},z.\u0275dir=n.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();const ai={provide:B,useExisting:(0,n.Gpc)(()=>Tr),multi:!0};function Jo(z,$){return null==z?`${$}`:("string"==typeof $&&($=`'${$}'`),$&&"object"==typeof $&&($="Object"),`${z}: ${$}`.slice(0,50))}let Tr=(()=>{class z extends P{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let le;if(this.value=L,Array.isArray(L)){const xt=L.map(Cn=>this._getOptionId(Cn));le=(Cn,Ur)=>{Cn._setSelected(xt.indexOf(Ur.toString())>-1)}}else le=(xt,Cn)=>{xt._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(L){this.onChange=le=>{const xt=[],Cn=le.selectedOptions;if(void 0!==Cn){const Ur=Cn;for(let ei=0;ei<Ur.length;ei++){const Sr=this._getOptionValue(Ur[ei].value);xt.push(Sr)}}else{const Ur=le.options;for(let ei=0;ei<Ur.length;ei++){const xo=Ur[ei];if(xo.selected){const Sr=this._getOptionValue(xo.value);xt.push(Sr)}}}this.value=xt,L(xt)}}_registerOption(L){const le=(this._idCounter++).toString();return this._optionMap.set(le,L),le}_getOptionId(L){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le)._value,L))return le;return null}_getOptionValue(L){const le=function Uo(z){return z.split(":")[0]}(L);return this._optionMap.has(le)?this._optionMap.get(le)._value:L}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,le){1&L&&n.NdJ("change",function(Cn){return le.onChange(Cn.target)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([ai]),n.qOj]}),z})(),To=(()=>{class z{constructor(L,le,xt){this._element=L,this._renderer=le,this._select=xt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Jo(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Jo(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(L){return new(L||z)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Tr,9))},z.\u0275dir=n.lG2({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();function no(z){return"number"==typeof z?z:parseFloat(z)}let ro=(()=>{class z{constructor(){this._validator=Ie}ngOnChanges(L){if(this.inputName in L){const le=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):Ie,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return z.\u0275fac=function(L){return new(L||z)},z.\u0275dir=n.lG2({type:z,features:[n.TTD]}),z})();const _i={provide:Ye,useExisting:(0,n.Gpc)(()=>kn),multi:!0};let kn=(()=>{class z extends ro{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>no(L),this.createValidator=L=>ge(L)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[n._Bn([_i]),n.qOj]}),z})();const Bo={provide:Ye,useExisting:(0,n.Gpc)(()=>Mo),multi:!0};let Mo=(()=>{class z extends ro{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>no(L),this.createValidator=L=>he(L)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[n._Bn([Bo]),n.qOj]}),z})();const Hr={provide:Ye,useExisting:(0,n.Gpc)(()=>fo),multi:!0},kr={provide:Ye,useExisting:(0,n.Gpc)(()=>Ze),multi:!0};let fo=(()=>{class z extends ro{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n.D6c,this.createValidator=L=>de}enabled(L){return L}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("required",le._enabled?"":null)},inputs:{required:"required"},features:[n._Bn([Hr]),n.qOj]}),z})(),Ze=(()=>{class z extends fo{constructor(){super(...arguments),this.createValidator=L=>it}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("required",le._enabled?"":null)},features:[n._Bn([kr]),n.qOj]}),z})();const on={provide:Ye,useExisting:(0,n.Gpc)(()=>An),multi:!0};let An=(()=>{class z extends ro{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>function po(z){return"number"==typeof z?z:parseInt(z,10)}(L),this.createValidator=L=>Me(L)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("maxlength",le._enabled?le.maxlength:null)},inputs:{maxlength:"maxlength"},features:[n._Bn([on]),n.qOj]}),z})();const $r={provide:Ye,useExisting:(0,n.Gpc)(()=>Nr),multi:!0};let Nr=(()=>{class z extends ro{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>re(L)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275dir=n.lG2({type:z,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,le){2&L&&n.uIk("pattern",le._enabled?le.pattern:null)},inputs:{pattern:"pattern"},features:[n._Bn([$r]),n.qOj]}),z})(),ve=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=n.oAB({type:z}),z.\u0275inj=n.cJS({imports:[cn]}),z})(),ct=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=n.oAB({type:z}),z.\u0275inj=n.cJS({imports:[ve]}),z})(),ot=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:Ir,useValue:L.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=n.oAB({type:z}),z.\u0275inj=n.cJS({imports:[ve]}),z})();class ut extends ur{constructor($,L,le){super(Ot(L),Ht(le,L)),this.controls=$,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,L={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert($,L,le={}){this.controls.splice($,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt($,L={}){let le=this._adjustIndex($);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl($,L,le={}){let xt=this._adjustIndex($);xt<0&&(xt=0),this.controls[xt]&&this.controls[xt]._registerOnCollectionChange(()=>{}),this.controls.splice(xt,1),L&&(this.controls.splice(xt,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,L={}){Nn(this,0,$),$.forEach((le,xt)=>{Vn(this,!1,xt),this.at(xt).setValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue($,L={}){null!=$&&($.forEach((le,xt)=>{this.at(xt)&&this.at(xt).patchValue(le,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset($=[],L={}){this._forEachChild((le,xt)=>{le.reset($[xt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((L,le)=>!!le._syncPendingControls()||L,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((L,le)=>{$(L,le)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(L=>L.enabled&&$(L))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){return this.at($)??null}}const pn=ut;function Ft(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let Fn=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new z;return L.useNonNullable=!0,L}group(L,le=null){const xt=this._reduceControls(L);let Cn={};return Ft(le)?Cn=le:null!==le&&(Cn.validators=le.validator,Cn.asyncValidators=le.asyncValidator),new yn(xt,Cn)}record(L,le=null){const xt=this._reduceControls(L);return new Qn(xt,le)}control(L,le,xt){let Cn={};return this.useNonNullable?(Ft(le)?Cn=le:(Cn.validators=le,Cn.asyncValidators=xt),new Cr(L,{...Cn,nonNullable:!0})):new Cr(L,le,xt)}array(L,le,xt){const Cn=L.map(Ur=>this._createControl(Ur));return new ut(Cn,le,xt)}_reduceControls(L){const le={};return Object.keys(L).forEach(xt=>{le[xt]=this._createControl(L[xt])}),le}_createControl(L){return L instanceof Cr||L instanceof ur?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return z.\u0275fac=function(L){return new(L||z)},z.\u0275prov=n.Yz7({token:z,factory:z.\u0275fac,providedIn:ot}),z})(),Xs=(()=>{class z extends Fn{group(L,le=null){return super.group(L,le)}control(L,le,xt){return super.control(L,le,xt)}array(L,le,xt){return super.array(L,le,xt)}}return z.\u0275fac=function(){let $;return function(le){return($||($=n.n5z(z)))(le||z)}}(),z.\u0275prov=n.Yz7({token:z,factory:z.\u0275fac,providedIn:ot}),z})()},1481:(_e,ie,v)=>{"use strict";v.d(ie,{Cb:()=>At,Cu:()=>ln,Dx:()=>_t,H7:()=>Ln,b2:()=>nt,h_:()=>Pt,ki:()=>Tt,q6:()=>wt});var n=v(6895),e=v(4650);class h extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F extends h{static makeCurrent(){(0,n.HT)(new F)}onAndCancel(Fe,pe,X){return Fe.addEventListener(pe,X,!1),()=>{Fe.removeEventListener(pe,X,!1)}}dispatchEvent(Fe,pe){Fe.dispatchEvent(pe)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,pe){return(pe=pe||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,pe){return"window"===pe?window:"document"===pe?Fe:"body"===pe?Fe.body:null}getBaseHref(Fe){const pe=function w(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==pe?null:function B(Oe){P=P||document.createElement("a"),P.setAttribute("href",Oe);const Fe=P.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(pe)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,n.Mx)(document.cookie,Fe)}}let P,S=null;const Z=new e.OlP("TRANSITION_ID"),G=[{provide:e.ip1,useFactory:function V(Oe,Fe,pe){return()=>{pe.get(e.CZH).donePromise.then(()=>{const X=(0,n.q)(),oe=Fe.querySelectorAll(`style[ng-transition="${Oe}"]`);for(let O=0;O<oe.length;O++)X.remove(oe[O])})}},deps:[Z,n.K0,e.zs3],multi:!0}];let q=(()=>{class Oe{build(){return new XMLHttpRequest}}return Oe.\u0275fac=function(pe){return new(pe||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const ne=new e.OlP("EventManagerPlugins");let ue=(()=>{class Oe{constructor(pe,X){this._zone=X,this._eventNameToPlugin=new Map,pe.forEach(oe=>oe.manager=this),this._plugins=pe.slice().reverse()}addEventListener(pe,X,oe){return this._findPluginFor(X).addEventListener(pe,X,oe)}addGlobalEventListener(pe,X,oe){return this._findPluginFor(X).addGlobalEventListener(pe,X,oe)}getZone(){return this._zone}_findPluginFor(pe){const X=this._eventNameToPlugin.get(pe);if(X)return X;const oe=this._plugins;for(let O=0;O<oe.length;O++){const fe=oe[O];if(fe.supports(pe))return this._eventNameToPlugin.set(pe,fe),fe}throw new Error(`No event manager plugin found for event ${pe}`)}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(ne),e.LFG(e.R0b))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class ae{constructor(Fe){this._doc=Fe}addGlobalEventListener(Fe,pe,X){const oe=(0,n.q)().getGlobalEventTarget(this._doc,Fe);if(!oe)throw new Error(`Unsupported event target ${oe} for event ${pe}`);return this.addEventListener(oe,pe,X)}}let Ee=(()=>{class Oe{constructor(){this._stylesSet=new Set}addStyles(pe){const X=new Set;pe.forEach(oe=>{this._stylesSet.has(oe)||(this._stylesSet.add(oe),X.add(oe))}),this.onStylesAdded(X)}onStylesAdded(pe){}getAllStyles(){return Array.from(this._stylesSet)}}return Oe.\u0275fac=function(pe){return new(pe||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Ye=(()=>{class Oe extends Ee{constructor(pe){super(),this._doc=pe,this._hostNodes=new Map,this._hostNodes.set(pe.head,[])}_addStylesToHost(pe,X,oe){pe.forEach(O=>{const fe=this._doc.createElement("style");fe.textContent=O,oe.push(X.appendChild(fe))})}addHost(pe){const X=[];this._addStylesToHost(this._stylesSet,pe,X),this._hostNodes.set(pe,X)}removeHost(pe){const X=this._hostNodes.get(pe);X&&X.forEach(at),this._hostNodes.delete(pe)}onStylesAdded(pe){this._hostNodes.forEach((X,oe)=>{this._addStylesToHost(pe,oe,X)})}ngOnDestroy(){this._hostNodes.forEach(pe=>pe.forEach(at))}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function at(Oe){(0,n.q)().remove(Oe)}const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g;function Me(Oe,Fe,pe){for(let X=0;X<Fe.length;X++){let oe=Fe[X];Array.isArray(oe)?Me(Oe,oe,pe):(oe=oe.replace(Ve,Oe),pe.push(oe))}return pe}function re(Oe){return Fe=>{if("__ngUnwrap__"===Fe)return Oe;!1===Oe(Fe)&&(Fe.preventDefault(),Fe.returnValue=!1)}}let Ce=(()=>{class Oe{constructor(pe,X,oe){this.eventManager=pe,this.sharedStylesHost=X,this.appId=oe,this.rendererByCompId=new Map,this.defaultRenderer=new we(pe)}createRenderer(pe,X){if(!pe||!X)return this.defaultRenderer;switch(X.encapsulation){case e.ifc.Emulated:{let oe=this.rendererByCompId.get(X.id);return oe||(oe=new Je(this.eventManager,this.sharedStylesHost,X,this.appId),this.rendererByCompId.set(X.id,oe)),oe.applyToHost(pe),oe}case 1:case e.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,pe,X);default:if(!this.rendererByCompId.has(X.id)){const oe=Me(X.id,X.styles,[]);this.sharedStylesHost.addStyles(oe),this.rendererByCompId.set(X.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(ue),e.LFG(Ye),e.LFG(e.AFp))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class we{constructor(Fe){this.eventManager=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Fe,pe){return pe?document.createElementNS(ze[pe]||pe,Fe):document.createElement(Fe)}createComment(Fe){return document.createComment(Fe)}createText(Fe){return document.createTextNode(Fe)}appendChild(Fe,pe){(ht(Fe)?Fe.content:Fe).appendChild(pe)}insertBefore(Fe,pe,X){Fe&&(ht(Fe)?Fe.content:Fe).insertBefore(pe,X)}removeChild(Fe,pe){Fe&&Fe.removeChild(pe)}selectRootElement(Fe,pe){let X="string"==typeof Fe?document.querySelector(Fe):Fe;if(!X)throw new Error(`The selector "${Fe}" did not match any elements`);return pe||(X.textContent=""),X}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,pe,X,oe){if(oe){pe=oe+":"+pe;const O=ze[oe];O?Fe.setAttributeNS(O,pe,X):Fe.setAttribute(pe,X)}else Fe.setAttribute(pe,X)}removeAttribute(Fe,pe,X){if(X){const oe=ze[X];oe?Fe.removeAttributeNS(oe,pe):Fe.removeAttribute(`${X}:${pe}`)}else Fe.removeAttribute(pe)}addClass(Fe,pe){Fe.classList.add(pe)}removeClass(Fe,pe){Fe.classList.remove(pe)}setStyle(Fe,pe,X,oe){oe&(e.JOm.DashCase|e.JOm.Important)?Fe.style.setProperty(pe,X,oe&e.JOm.Important?"important":""):Fe.style[pe]=X}removeStyle(Fe,pe,X){X&e.JOm.DashCase?Fe.style.removeProperty(pe):Fe.style[pe]=""}setProperty(Fe,pe,X){Fe[pe]=X}setValue(Fe,pe){Fe.nodeValue=pe}listen(Fe,pe,X){return"string"==typeof Fe?this.eventManager.addGlobalEventListener(Fe,pe,re(X)):this.eventManager.addEventListener(Fe,pe,re(X))}}function ht(Oe){return"TEMPLATE"===Oe.tagName&&void 0!==Oe.content}class Je extends we{constructor(Fe,pe,X,oe){super(Fe),this.component=X;const O=Me(oe+"-"+X.id,X.styles,[]);pe.addStyles(O),this.contentAttr=function He(Oe){return"_ngcontent-%COMP%".replace(Ve,Oe)}(oe+"-"+X.id),this.hostAttr=function Te(Oe){return"_nghost-%COMP%".replace(Ve,Oe)}(oe+"-"+X.id)}applyToHost(Fe){super.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,pe){const X=super.createElement(Fe,pe);return super.setAttribute(X,this.contentAttr,""),X}}class lt extends we{constructor(Fe,pe,X,oe){super(Fe),this.sharedStylesHost=pe,this.hostEl=X,this.shadowRoot=X.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const O=Me(oe.id,oe.styles,[]);for(let fe=0;fe<O.length;fe++){const et=document.createElement("style");et.textContent=O[fe],this.shadowRoot.appendChild(et)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Fe,pe){return super.appendChild(this.nodeOrShadowRoot(Fe),pe)}insertBefore(Fe,pe,X){return super.insertBefore(this.nodeOrShadowRoot(Fe),pe,X)}removeChild(Fe,pe){return super.removeChild(this.nodeOrShadowRoot(Fe),pe)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}}let Ne=(()=>{class Oe extends ae{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,X,oe){return pe.addEventListener(X,oe,!1),()=>this.removeEventListener(pe,X,oe)}removeEventListener(pe,X,oe){return pe.removeEventListener(X,oe)}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const an=["alt","control","meta","shift"],Gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let ft=(()=>{class Oe extends ae{constructor(pe){super(pe)}supports(pe){return null!=Oe.parseEventName(pe)}addEventListener(pe,X,oe){const O=Oe.parseEventName(X),fe=Oe.eventCallback(O.fullKey,oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(pe,O.domEventName,fe))}static parseEventName(pe){const X=pe.toLowerCase().split("."),oe=X.shift();if(0===X.length||"keydown"!==oe&&"keyup"!==oe)return null;const O=Oe._normalizeKey(X.pop());let fe="",et=X.indexOf("code");if(et>-1&&(X.splice(et,1),fe="code."),an.forEach(qt=>{const Qt=X.indexOf(qt);Qt>-1&&(X.splice(Qt,1),fe+=qt+".")}),fe+=O,0!=X.length||0===O.length)return null;const yt={};return yt.domEventName=oe,yt.fullKey=fe,yt}static matchEventFullKeyCode(pe,X){let oe=Gt[pe.key]||pe.key,O="";return X.indexOf("code.")>-1&&(oe=pe.code,O="code."),!(null==oe||!oe)&&(oe=oe.toLowerCase()," "===oe?oe="space":"."===oe&&(oe="dot"),an.forEach(fe=>{fe!==oe&&(0,Jt[fe])(pe)&&(O+=fe+".")}),O+=oe,O===X)}static eventCallback(pe,X,oe){return O=>{Oe.matchEventFullKeyCode(O,pe)&&oe.runGuarded(()=>X(O))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const wt=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:n.bD},{provide:e.g9A,useValue:function me(){F.makeCurrent()},multi:!0},{provide:n.K0,useFactory:function Ke(){return(0,e.RDi)(document),document},deps:[]}]),dn=new e.OlP(""),kt=[{provide:e.rWj,useClass:class J{addToWindow(Fe){e.dqk.getAngularTestability=(X,oe=!0)=>{const O=Fe.findTestabilityInTree(X,oe);if(null==O)throw new Error("Could not find testability for element.");return O},e.dqk.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>Fe.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(X=>{const oe=e.dqk.getAllAngularTestabilities();let O=oe.length,fe=!1;const et=function(yt){fe=fe||yt,O--,0==O&&X(fe)};oe.forEach(function(yt){yt.whenStable(et)})})}findTestabilityInTree(Fe,pe,X){return null==pe?null:Fe.getTestability(pe)??(X?(0,n.q)().isShadowRoot(pe)?this.findTestabilityInTree(Fe,pe.host,!0):this.findTestabilityInTree(Fe,pe.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],We=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Et(){return new e.qLn},deps:[]},{provide:ne,useClass:Ne,multi:!0,deps:[n.K0,e.R0b,e.Lbi]},{provide:ne,useClass:ft,multi:!0,deps:[n.K0]},{provide:Ce,useClass:Ce,deps:[ue,Ye,e.AFp]},{provide:e.FYo,useExisting:Ce},{provide:Ee,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[n.K0]},{provide:ue,useClass:ue,deps:[ne,e.R0b]},{provide:n.JF,useClass:q,deps:[]},[]];let nt=(()=>{class Oe{constructor(pe){}static withServerTransition(pe){return{ngModule:Oe,providers:[{provide:e.AFp,useValue:pe.appId},{provide:Z,useExisting:e.AFp},G]}}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(dn,12))},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({providers:[...We,...kt],imports:[n.ez,e.hGG]}),Oe})(),Pt=(()=>{class Oe{constructor(pe){this._doc=pe,this._dom=(0,n.q)()}addTag(pe,X=!1){return pe?this._getOrCreateElement(pe,X):null}addTags(pe,X=!1){return pe?pe.reduce((oe,O)=>(O&&oe.push(this._getOrCreateElement(O,X)),oe),[]):[]}getTag(pe){return pe&&this._doc.querySelector(`meta[${pe}]`)||null}getTags(pe){if(!pe)return[];const X=this._doc.querySelectorAll(`meta[${pe}]`);return X?[].slice.call(X):[]}updateTag(pe,X){if(!pe)return null;X=X||this._parseSelector(pe);const oe=this.getTag(X);return oe?this._setMetaElementAttributes(pe,oe):this._getOrCreateElement(pe,!0)}removeTag(pe){this.removeTagElement(this.getTag(pe))}removeTagElement(pe){pe&&this._dom.remove(pe)}_getOrCreateElement(pe,X=!1){if(!X){const fe=this._parseSelector(pe),et=this.getTags(fe).filter(yt=>this._containsAttributes(pe,yt))[0];if(void 0!==et)return et}const oe=this._dom.createElement("meta");return this._setMetaElementAttributes(pe,oe),this._doc.getElementsByTagName("head")[0].appendChild(oe),oe}_setMetaElementAttributes(pe,X){return Object.keys(pe).forEach(oe=>X.setAttribute(this._getMetaKeyMap(oe),pe[oe])),X}_parseSelector(pe){const X=pe.name?"name":"property";return`${X}="${pe[X]}"`}_containsAttributes(pe,X){return Object.keys(pe).every(oe=>X.getAttribute(this._getMetaKeyMap(oe))===pe[oe])}_getMetaKeyMap(pe){return un[pe]||pe}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(pe){let X=null;return X=pe?new pe:function Nt(){return new Pt((0,e.LFG)(n.K0))}(),X},providedIn:"root"}),Oe})();const un={httpEquiv:"http-equiv"};let _t=(()=>{class Oe{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(pe){let X=null;return X=pe?new pe:function bn(){return new _t((0,e.LFG)(n.K0))}(),X},providedIn:"root"}),Oe})();function At(Oe){return Oe}typeof window<"u"&&window;let Tt=(()=>{class Oe{constructor(){this.store={},this.onSerializeCallbacks={}}get(pe,X){return void 0!==this.store[pe]?this.store[pe]:X}set(pe,X){this.store[pe]=X}remove(pe){delete this.store[pe]}hasKey(pe){return this.store.hasOwnProperty(pe)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(pe,X){this.onSerializeCallbacks[pe]=X}toJson(){for(const pe in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(pe))try{this.store[pe]=this.onSerializeCallbacks[pe]()}catch(X){console.warn("Exception in onSerialize callback: ",X)}return JSON.stringify(this.store)}}return Oe.\u0275fac=function(pe){return new(pe||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(){return(()=>{const Fe=(0,e.f3M)(n.K0),pe=(0,e.f3M)(e.AFp),X=new Oe;return X.store=function Ot(Oe,Fe){const pe=Oe.getElementById(Fe+"-state");let X={};if(pe&&pe.textContent)try{X=JSON.parse(function Xe(Oe){const Fe={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return Oe.replace(/&[^;]+;/g,pe=>Fe[pe])}(pe.textContent))}catch(oe){console.warn("Exception while restoring TransferState for app "+Fe,oe)}return X}(Fe,pe),X})()},providedIn:"root"}),Oe})(),ln=(()=>{class Oe{}return Oe.\u0275fac=function(pe){return new(pe||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({}),Oe})(),Ln=(()=>{class Oe{}return Oe.\u0275fac=function(pe){return new(pe||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(pe){let X=null;return X=pe?new(pe||Oe):e.LFG(lr),X},providedIn:"root"}),Oe})(),lr=(()=>{class Oe extends Ln{constructor(pe){super(),this._doc=pe}sanitize(pe,X){if(null==X)return null;switch(pe){case e.q3G.NONE:return X;case e.q3G.HTML:return(0,e.qzn)(X,"HTML")?(0,e.z3N)(X):(0,e.EiD)(this._doc,String(X)).toString();case e.q3G.STYLE:return(0,e.qzn)(X,"Style")?(0,e.z3N)(X):X;case e.q3G.SCRIPT:if((0,e.qzn)(X,"Script"))return(0,e.z3N)(X);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(X,"URL")?(0,e.z3N)(X):(0,e.mCW)(String(X));case e.q3G.RESOURCE_URL:if((0,e.qzn)(X,"ResourceURL"))return(0,e.z3N)(X);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${pe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(pe){return(0,e.JVY)(pe)}bypassSecurityTrustStyle(pe){return(0,e.L6k)(pe)}bypassSecurityTrustScript(pe){return(0,e.eBb)(pe)}bypassSecurityTrustUrl(pe){return(0,e.LAX)(pe)}bypassSecurityTrustResourceUrl(pe){return(0,e.pB0)(pe)}}return Oe.\u0275fac=function(pe){return new(pe||Oe)(e.LFG(n.K0))},Oe.\u0275prov=e.Yz7({token:Oe,factory:function(pe){let X=null;return X=pe?new pe:function Qn(Oe){return new lr(Oe.get(n.K0))}(e.LFG(e.zs3)),X},providedIn:"root"}),Oe})()},610:(_e,ie,v)=>{"use strict";v.d(ie,{gz:()=>Or,sz:()=>tt,gk:()=>Gn,m2:()=>Mr,Q3:()=>pr,OD:()=>Jn,eC:()=>ft,F0:()=>Wr,rH:()=>Is,Od:()=>ia,yS:()=>wo,Bz:()=>zc,lC:()=>ro,R9:()=>Pr,Hx:()=>De});var n=v(4650),e=v(5254),h=v(1086),F=v(591),S=v(4450),w=v(6053),P=v(1221),B=v(8514),Z=v(4843),V=v(1737),G=v(6498),J=v(8896),q=v(1762),ne=v(8929),ue=v(6895),ae=v(4850),Ee=v(7545),Ye=v(2986),at=v(1059),ze=v(2198),Ve=v(1709),he=v(7224),ge=v(1406),de=v(2994),it=v(7221),He=v(2014),Te=v(3489),Me=v(4231);function re(b){return function(A){return 0===b?(0,J.c)():A.lift(new Ie(b))}}class Ie{constructor(T){if(this.total=T,this.total<0)throw new Me.W}call(T,A){return A.subscribe(new Ce(T,this.total))}}class Ce extends Te.L{constructor(T,A){super(T),this.total=A,this.ring=new Array,this.count=0}_next(T){const A=this.ring,k=this.total,Y=this.count++;A.length<k?A.push(T):A[Y%k]=T}_complete(){const T=this.destination;let A=this.count;if(A>0){const k=this.count>=this.total?this.total:this.count,Y=this.ring;for(let E=0;E<k;E++){const W=A++%k;T.next(Y[W])}}T.complete()}}var we=v(4907),Ae=v(7314),Ge=v(5379);function ht(b,T){const A=arguments.length>=2;return k=>k.pipe(b?(0,ze.h)((Y,E)=>b(Y,E,k)):Ge.y,re(1),A?(0,Ae.d)(T):(0,we.T)(()=>new S.K))}var Je=v(4290),lt=v(7604),Ne=v(537),an=v(4327),Gt=v(9146),Jt=v(1481);const ft="primary",nn=Symbol("RouteTitle");class Xt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const A=this.params[T];return Array.isArray(A)?A[0]:A}return null}getAll(T){if(this.has(T)){const A=this.params[T];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function Vt(b){return new Xt(b)}function qe(b,T,A){const k=A.path.split("/");if(k.length>b.length||"full"===A.pathMatch&&(T.hasChildren()||k.length<b.length))return null;const Y={};for(let E=0;E<k.length;E++){const W=k[E],H=b[E];if(W.startsWith(":"))Y[W.substring(1)]=H;else if(W!==H.path)return null}return{consumed:b.slice(0,k.length),posParams:Y}}function me(b,T){const A=b?Object.keys(b):void 0,k=T?Object.keys(T):void 0;if(!A||!k||A.length!=k.length)return!1;let Y;for(let E=0;E<A.length;E++)if(Y=A[E],!Et(b[Y],T[Y]))return!1;return!0}function Et(b,T){if(Array.isArray(b)&&Array.isArray(T)){if(b.length!==T.length)return!1;const A=[...b].sort(),k=[...T].sort();return A.every((Y,E)=>k[E]===Y)}return b===T}function Ke(b){return Array.prototype.concat.apply([],b)}function jt(b){return b.length>0?b[b.length-1]:null}function dn(b,T){for(const A in b)b.hasOwnProperty(A)&&T(b[A],A)}function kt(b){return(0,n.CqO)(b)?b:(0,n.QGY)(b)?(0,e.D)(Promise.resolve(b)):(0,h.of)(b)}const Nt={exact:function _t(b,T,A){if(!Re(b.segments,T.segments)||!vt(b.segments,T.segments,A)||b.numberOfChildren!==T.numberOfChildren)return!1;for(const k in T.children)if(!b.children[k]||!_t(b.children[k],T.children[k],A))return!1;return!0},subset:ke},Pt={exact:function bn(b,T){return me(b,T)},subset:function Ue(b,T){return Object.keys(T).length<=Object.keys(b).length&&Object.keys(T).every(A=>Et(b[A],T[A]))},ignored:()=>!0};function un(b,T,A){return Nt[A.paths](b.root,T.root,A.matrixParams)&&Pt[A.queryParams](b.queryParams,T.queryParams)&&!("exact"===A.fragment&&b.fragment!==T.fragment)}function ke(b,T,A){return mt(b,T,T.segments,A)}function mt(b,T,A,k){if(b.segments.length>A.length){const Y=b.segments.slice(0,A.length);return!(!Re(Y,A)||T.hasChildren()||!vt(Y,A,k))}if(b.segments.length===A.length){if(!Re(b.segments,A)||!vt(b.segments,A,k))return!1;for(const Y in T.children)if(!b.children[Y]||!ke(b.children[Y],T.children[Y],k))return!1;return!0}{const Y=A.slice(0,b.segments.length),E=A.slice(b.segments.length);return!!(Re(b.segments,Y)&&vt(b.segments,Y,k)&&b.children[ft])&&mt(b.children[ft],T,E,k)}}function vt(b,T,A){return T.every((k,Y)=>Pt[A](b[Y].parameters,k.parameters))}class en{constructor(T,A,k){this.root=T,this.queryParams=A,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class Yt{constructor(T,A){this.segments=T,this.children=A,this.parent=null,dn(A,(k,Y)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xe(this)}}class vn{constructor(T,A){this.path=T,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap}toString(){return Vn(this)}}function Re(b,T){return b.length===T.length&&b.every((A,k)=>A.path===T[k].path)}let De=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275prov=n.Yz7({token:b,factory:function(){return new tt},providedIn:"root"}),b})();class tt{parse(T){const A=new Oe(T);return new en(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(T){const A=`/${At(T.root,!0)}`,k=function ur(b){const T=Object.keys(b).map(A=>{const k=b[A];return Array.isArray(k)?k.map(Y=>`${Ot(A)}=${Ot(Y)}`).join("&"):`${Ot(A)}=${Ot(k)}`}).filter(A=>!!A);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${A}${k}${"string"==typeof T.fragment?`#${function ln(b){return encodeURI(b)}(T.fragment)}`:""}`}}const Ut=new tt;function Xe(b){return b.segments.map(T=>Vn(T)).join("/")}function At(b,T){if(!b.hasChildren())return Xe(b);if(T){const A=b.children[ft]?At(b.children[ft],!1):"",k=[];return dn(b.children,(Y,E)=>{E!==ft&&k.push(`${E}:${At(Y,!1)}`)}),k.length>0?`${A}(${k.join("//")})`:A}{const A=function Dt(b,T){let A=[];return dn(b.children,(k,Y)=>{Y===ft&&(A=A.concat(T(k,Y)))}),dn(b.children,(k,Y)=>{Y!==ft&&(A=A.concat(T(k,Y)))}),A}(b,(k,Y)=>Y===ft?[At(b.children[ft],!1)]:[`${Y}:${At(k,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[ft]?`${Xe(b)}/${A[0]}`:`${Xe(b)}/(${A.join("//")})`}}function Tt(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ot(b){return Tt(b).replace(/%3B/gi,";")}function Ht(b){return Tt(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dt(b){return decodeURIComponent(b)}function In(b){return dt(b.replace(/\+/g,"%20"))}function Vn(b){return`${Ht(b.path)}${function Nn(b){return Object.keys(b).map(T=>`;${Ht(T)}=${Ht(b[T])}`).join("")}(b.parameters)}`}const yn=/^[^\/()?;=#]+/;function On(b){const T=b.match(yn);return T?T[0]:""}const Ln=/^[^=?&#]+/,lr=/^[^&#]+/;class Oe{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(T.length>0||Object.keys(A).length>0)&&(k[ft]=new Yt(T,A)),k}parseSegment(){const T=On(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new n.vHH(4009,!1);return this.capture(T),new vn(dt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const A=On(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const Y=On(this.remaining);Y&&(k=Y,this.capture(k))}T[dt(A)]=dt(k)}parseQueryParam(T){const A=function Qn(b){const T=b.match(Ln);return T?T[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const W=function nr(b){const T=b.match(lr);return T?T[0]:""}(this.remaining);W&&(k=W,this.capture(k))}const Y=In(A),E=In(k);if(T.hasOwnProperty(Y)){let W=T[Y];Array.isArray(W)||(W=[W],T[Y]=W),W.push(E)}else T[Y]=E}parseParens(T){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=On(this.remaining),Y=this.remaining[k.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new n.vHH(4010,!1);let E;k.indexOf(":")>-1?(E=k.slice(0,k.indexOf(":")),this.capture(E),this.capture(":")):T&&(E=ft);const W=this.parseChildren();A[E]=1===Object.keys(W).length?W[ft]:new Yt([],W),this.consumeOptional("//")}return A}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new n.vHH(4011,!1)}}function Fe(b){return b.segments.length>0?new Yt([],{[ft]:b}):b}function pe(b){const T={};for(const k of Object.keys(b.children)){const E=pe(b.children[k]);(E.segments.length>0||E.hasChildren())&&(T[k]=E)}return function X(b){if(1===b.numberOfChildren&&b.children[ft]){const T=b.children[ft];return new Yt(b.segments.concat(T.segments),T.children)}return b}(new Yt(b.segments,T))}function oe(b){return b instanceof en}const O=!1;function qt(b,T,A,k,Y){if(0===A.length)return Rn(T.root,T.root,T.root,k,Y);const E=function wn(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Hn(!0,0,b);let T=0,A=!1;const k=b.reduce((Y,E,W)=>{if("object"==typeof E&&null!=E){if(E.outlets){const H={};return dn(E.outlets,(Le,Ct)=>{H[Ct]="string"==typeof Le?Le.split("/"):Le}),[...Y,{outlets:H}]}if(E.segmentPath)return[...Y,E.segmentPath]}return"string"!=typeof E?[...Y,E]:0===W?(E.split("/").forEach((H,Le)=>{0==Le&&"."===H||(0==Le&&""===H?A=!0:".."===H?T++:""!=H&&Y.push(H))}),Y):[...Y,E]},[]);return new Hn(A,T,k)}(A);return E.toRoot()?Rn(T.root,T.root,new Yt([],{}),k,Y):function W(Le){const Ct=function Yn(b,T,A,k){if(b.isAbsolute)return new Wn(T.root,!0,0);if(-1===k)return new Wn(A,A===T.root,0);return function rr(b,T,A){let k=b,Y=T,E=A;for(;E>Y;){if(E-=Y,k=k.parent,!k)throw new n.vHH(4005,O);Y=k.segments.length}return new Wn(k,!1,Y-E)}(A,k+(Qt(b.commands[0])?0:1),b.numberOfDoubleDots)}(E,T,b.snapshot?._urlSegment,Le),fn=Ct.processChildren?_r(Ct.segmentGroup,Ct.index,E.commands):Dn(Ct.segmentGroup,Ct.index,E.commands);return Rn(T.root,Ct.segmentGroup,fn,k,Y)}(b.snapshot?._lastPathIndex)}function Qt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Bn(b){return"object"==typeof b&&null!=b&&b.outlets}function Rn(b,T,A,k,Y){let W,E={};k&&dn(k,(Le,Ct)=>{E[Ct]=Array.isArray(Le)?Le.map(fn=>`${fn}`):`${Le}`}),W=b===T?A:yr(b,T,A);const H=Fe(pe(W));return new en(H,E,Y)}function yr(b,T,A){const k={};return dn(b.children,(Y,E)=>{k[E]=Y===T?A:yr(Y,T,A)}),new Yt(b.segments,k)}class Hn{constructor(T,A,k){if(this.isAbsolute=T,this.numberOfDoubleDots=A,this.commands=k,T&&k.length>0&&Qt(k[0]))throw new n.vHH(4003,O);const Y=k.find(Bn);if(Y&&Y!==jt(k))throw new n.vHH(4004,O)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(T,A,k){this.segmentGroup=T,this.processChildren=A,this.index=k}}function Dn(b,T,A){if(b||(b=new Yt([],{})),0===b.segments.length&&b.hasChildren())return _r(b,T,A);const k=function Fr(b,T,A){let k=0,Y=T;const E={match:!1,pathIndex:0,commandIndex:0};for(;Y<b.segments.length;){if(k>=A.length)return E;const W=b.segments[Y],H=A[k];if(Bn(H))break;const Le=`${H}`,Ct=k<A.length-1?A[k+1]:null;if(Y>0&&void 0===Le)break;if(Le&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Cr(Le,Ct,W))return E;k+=2}else{if(!Cr(Le,{},W))return E;k++}Y++}return{match:!0,pathIndex:Y,commandIndex:k}}(b,T,A),Y=A.slice(k.commandIndex);if(k.match&&k.pathIndex<b.segments.length){const E=new Yt(b.segments.slice(0,k.pathIndex),{});return E.children[ft]=new Yt(b.segments.slice(k.pathIndex),b.children),_r(E,0,Y)}return k.match&&0===Y.length?new Yt(b.segments,{}):k.match&&!b.hasChildren()?Ar(b,T,A):k.match?_r(b,0,Y):Ar(b,T,A)}function _r(b,T,A){if(0===A.length)return new Yt(b.segments,{});{const k=function Qr(b){return Bn(b[0])?b[0].outlets:{[ft]:b}}(A),Y={};return dn(k,(E,W)=>{"string"==typeof E&&(E=[E]),null!==E&&(Y[W]=Dn(b.children[W],T,E))}),dn(b.children,(E,W)=>{void 0===k[W]&&(Y[W]=E)}),new Yt(b.segments,Y)}}function Ar(b,T,A){const k=b.segments.slice(0,T);let Y=0;for(;Y<A.length;){const E=A[Y];if(Bn(E)){const Le=Rr(E.outlets);return new Yt(k,Le)}if(0===Y&&Qt(A[0])){k.push(new vn(b.segments[T].path,dr(A[0]))),Y++;continue}const W=Bn(E)?E.outlets[ft]:`${E}`,H=Y<A.length-1?A[Y+1]:null;W&&H&&Qt(H)?(k.push(new vn(W,dr(H))),Y+=2):(k.push(new vn(W,{})),Y++)}return new Yt(k,{})}function Rr(b){const T={};return dn(b,(A,k)=>{"string"==typeof A&&(A=[A]),null!==A&&(T[k]=Ar(new Yt([],{}),0,A))}),T}function dr(b){const T={};return dn(b,(A,k)=>T[k]=`${A}`),T}function Cr(b,T,A){return b==A.path&&me(T,A.parameters)}class $n{constructor(T,A){this.id=T,this.url=A}}class Jn extends $n{constructor(T,A,k="imperative",Y=null){super(T,A),this.type=0,this.navigationTrigger=k,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends $n{constructor(T,A,k){super(T,A),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gn extends $n{constructor(T,A,k,Y){super(T,A),this.reason=k,this.code=Y,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pr extends $n{constructor(T,A,k,Y){super(T,A),this.error=k,this.target=Y,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pr extends $n{constructor(T,A,k,Y){super(T,A),this.urlAfterRedirects=k,this.state=Y,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends $n{constructor(T,A,k,Y){super(T,A),this.urlAfterRedirects=k,this.state=Y,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends $n{constructor(T,A,k,Y,E){super(T,A),this.urlAfterRedirects=k,this.state=Y,this.shouldActivate=E,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xr extends $n{constructor(T,A,k,Y){super(T,A),this.urlAfterRedirects=k,this.state=Y,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends $n{constructor(T,A,k,Y){super(T,A),this.urlAfterRedirects=k,this.state=Y,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class N{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class be{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(T,A,k){this.routerEvent=T,this.position=A,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hn{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const A=this.pathFromRoot(T);return A.length>1?A[A.length-2]:null}children(T){const A=gn(T,this._root);return A?A.children.map(k=>k.value):[]}firstChild(T){const A=gn(T,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(T){const A=ir(T,this._root);return A.length<2?[]:A[A.length-2].children.map(Y=>Y.value).filter(Y=>Y!==T)}pathFromRoot(T){return ir(T,this._root).map(A=>A.value)}}function gn(b,T){if(b===T.value)return T;for(const A of T.children){const k=gn(b,A);if(k)return k}return null}function ir(b,T){if(b===T.value)return[T];for(const A of T.children){const k=ir(b,A);if(k.length)return k.unshift(T),k}return[]}class sr{constructor(T,A){this.value=T,this.children=A}toString(){return`TreeNode(${this.value})`}}function Ir(b){const T={};return b&&b.children.forEach(A=>T[A.value.outlet]=A),T}class eo extends hn{constructor(T,A){super(T),this.snapshot=A,Xo(this,T)}toString(){return this.snapshot.toString()}}function Oo(b,T){const A=function Zo(b,T){const W=new zo([],{},{},"",{},ft,T,null,b.root,-1,{});return new Lo("",new sr(W,[]))}(b,T),k=new F.X([new vn("",{})]),Y=new F.X({}),E=new F.X({}),W=new F.X({}),H=new F.X(""),Le=new Or(k,Y,W,H,E,ft,T,A.root);return Le.snapshot=A.root,new eo(new sr(Le,[]),A)}class Or{constructor(T,A,k,Y,E,W,H,Le){this.url=T,this.params=A,this.queryParams=k,this.fragment=Y,this.data=E,this.outlet=W,this.component=H,this.title=this.data?.pipe((0,ae.U)(Ct=>Ct[nn]))??(0,h.of)(void 0),this._futureSnapshot=Le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ae.U)(T=>Vt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ae.U)(T=>Vt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yo(b,T="emptyOnly"){const A=b.pathFromRoot;let k=0;if("always"!==T)for(k=A.length-1;k>=1;){const Y=A[k],E=A[k-1];if(Y.routeConfig&&""===Y.routeConfig.path)k--;else{if(E.component)break;k--}}return function to(b){return b.reduce((T,A)=>({params:{...T.params,...A.params},data:{...T.data,...A.data},resolve:{...A.data,...T.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(k))}class zo{constructor(T,A,k,Y,E,W,H,Le,Ct,fn,zt,Mn){this.url=T,this.params=A,this.queryParams=k,this.fragment=Y,this.data=E,this.outlet=W,this.component=H,this.title=this.data?.[nn],this.routeConfig=Le,this._urlSegment=Ct,this._lastPathIndex=fn,this._correctedLastPathIndex=Mn??fn,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lo extends hn{constructor(T,A){super(A),this.url=T,Xo(this,A)}toString(){return lo(this._root)}}function Xo(b,T){T.value._routerState=b,T.children.forEach(A=>Xo(b,A))}function lo(b){const T=b.children.length>0?` { ${b.children.map(lo).join(", ")} } `:"";return`${b.value}${T}`}function Fo(b){if(b.snapshot){const T=b.snapshot,A=b._futureSnapshot;b.snapshot=A,me(T.queryParams,A.queryParams)||b.queryParams.next(A.queryParams),T.fragment!==A.fragment&&b.fragment.next(A.fragment),me(T.params,A.params)||b.params.next(A.params),function rn(b,T){if(b.length!==T.length)return!1;for(let A=0;A<b.length;++A)if(!me(b[A],T[A]))return!1;return!0}(T.url,A.url)||b.url.next(A.url),me(T.data,A.data)||b.data.next(A.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Wo(b,T){const A=me(b.params,T.params)&&function Kt(b,T){return Re(b,T)&&b.every((A,k)=>me(A.parameters,T[k].parameters))}(b.url,T.url);return A&&!(!b.parent!=!T.parent)&&(!b.parent||Wo(b.parent,T.parent))}function bo(b,T,A){if(A&&b.shouldReuseRoute(T.value,A.value.snapshot)){const k=A.value;k._futureSnapshot=T.value;const Y=function ko(b,T,A){return T.children.map(k=>{for(const Y of A.children)if(b.shouldReuseRoute(k.value,Y.value.snapshot))return bo(b,k,Y);return bo(b,k)})}(b,T,A);return new sr(k,Y)}{if(b.shouldAttach(T.value)){const E=b.retrieve(T.value);if(null!==E){const W=E.route;return W.value._futureSnapshot=T.value,W.children=T.children.map(H=>bo(b,H)),W}}const k=function No(b){return new Or(new F.X(b.url),new F.X(b.params),new F.X(b.queryParams),new F.X(b.fragment),new F.X(b.data),b.outlet,b.component,b)}(T.value),Y=T.children.map(E=>bo(b,E));return new sr(k,Y)}}const ai="ngNavigationCancelingError";function Jo(b,T){const{redirectTo:A,navigationBehaviorOptions:k}=oe(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,Y=Uo(!1,0,T);return Y.url=A,Y.navigationBehaviorOptions=k,Y}function Uo(b,T,A){const k=new Error("NavigationCancelingError: "+(b||""));return k[ai]=!0,k.cancellationCode=T,A&&(k.url=A),k}function ci(b){return Tr(b)&&oe(b.url)}function Tr(b){return b&&b[ai]}class To{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new po,this.attachRef=null}}let po=(()=>{class b{constructor(){this.contexts=new Map}onChildOutletCreated(A,k){const Y=this.getOrCreateContext(A);Y.outlet=k,this.contexts.set(A,Y)}onChildOutletDestroyed(A){const k=this.getContext(A);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let k=this.getContext(A);return k||(k=new To,this.contexts.set(A,k)),k}getContext(A){return this.contexts.get(A)||null}}return b.\u0275fac=function(A){return new(A||b)},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const no=!1;let ro=(()=>{class b{constructor(A,k,Y,E,W){this.parentContexts=A,this.location=k,this.changeDetector=E,this.environmentInjector=W,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.vpe,this.deactivateEvents=new n.vpe,this.attachEvents=new n.vpe,this.detachEvents=new n.vpe,this.name=Y||ft,A.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const A=this.parentContexts.getContext(this.name);A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new n.vHH(4012,no);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new n.vHH(4012,no);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new n.vHH(4012,no);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,k){this.activated=A,this._activatedRoute=k,this.location.insert(A.hostView),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,k){if(this.isActivated)throw new n.vHH(4013,no);this._activatedRoute=A;const Y=this.location,W=A._futureSnapshot.component,H=this.parentContexts.getOrCreateContext(this.name).children,Le=new _i(A,H,Y.injector);if(k&&function kn(b){return!!b.resolveComponentFactory}(k)){const Ct=k.resolveComponentFactory(W);this.activated=Y.createComponent(Ct,Y.length,Le)}else this.activated=Y.createComponent(W,{index:Y.length,injector:Le,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(A){return new(A||b)(n.Y36(po),n.Y36(n.s_b),n.$8M("name"),n.Y36(n.sBO),n.Y36(n.lqb))},b.\u0275dir=n.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),b})();class _i{constructor(T,A,k){this.route=T,this.childContexts=A,this.parent=k}get(T,A){return T===Or?this.route:T===po?this.childContexts:this.parent.get(T,A)}}let Bo=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275cmp=n.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[n.jDz],decls:1,vars:0,template:function(A,k){1&A&&n._UZ(0,"router-outlet")},dependencies:[ro],encapsulation:2}),b})();function Mo(b,T){return b.providers&&!b._injector&&(b._injector=(0,n.MMx)(b.providers,T,`Route: ${b.path}`)),b._injector??T}function on(b){const T=b.children&&b.children.map(on),A=T?{...b,children:T}:{...b};return!A.component&&!A.loadComponent&&(T||A.loadChildren)&&A.outlet&&A.outlet!==ft&&(A.component=Bo),A}function An(b){return b.outlet||ft}function $r(b,T){const A=b.filter(k=>An(k)===T);return A.push(...b.filter(k=>An(k)!==T)),A}function Nr(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let T=b.parent;T;T=T.parent){const A=T.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class Se{constructor(T,A,k,Y){this.routeReuseStrategy=T,this.futureState=A,this.currState=k,this.forwardEvent=Y}activate(T){const A=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,k,T),Fo(this.futureState.root),this.activateChildRoutes(A,k,T)}deactivateChildRoutes(T,A,k){const Y=Ir(A);T.children.forEach(E=>{const W=E.value.outlet;this.deactivateRoutes(E,Y[W],k),delete Y[W]}),dn(Y,(E,W)=>{this.deactivateRouteAndItsChildren(E,k)})}deactivateRoutes(T,A,k){const Y=T.value,E=A?A.value:null;if(Y===E)if(Y.component){const W=k.getContext(Y.outlet);W&&this.deactivateChildRoutes(T,A,W.children)}else this.deactivateChildRoutes(T,A,k);else E&&this.deactivateRouteAndItsChildren(A,k)}deactivateRouteAndItsChildren(T,A){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,A):this.deactivateRouteAndOutlet(T,A)}detachAndStoreRouteSubtree(T,A){const k=A.getContext(T.value.outlet),Y=k&&T.value.component?k.children:A,E=Ir(T);for(const W of Object.keys(E))this.deactivateRouteAndItsChildren(E[W],Y);if(k&&k.outlet){const W=k.outlet.detach(),H=k.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:W,route:T,contexts:H})}}deactivateRouteAndOutlet(T,A){const k=A.getContext(T.value.outlet),Y=k&&T.value.component?k.children:A,E=Ir(T);for(const W of Object.keys(E))this.deactivateRouteAndItsChildren(E[W],Y);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(T,A,k){const Y=Ir(A);T.children.forEach(E=>{this.activateRoutes(E,Y[E.value.outlet],k),this.forwardEvent(new je(E.value.snapshot))}),T.children.length&&this.forwardEvent(new I(T.value.snapshot))}activateRoutes(T,A,k){const Y=T.value,E=A?A.value:null;if(Fo(Y),Y===E)if(Y.component){const W=k.getOrCreateContext(Y.outlet);this.activateChildRoutes(T,A,W.children)}else this.activateChildRoutes(T,A,k);else if(Y.component){const W=k.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const H=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),W.children.onOutletReAttached(H.contexts),W.attachRef=H.componentRef,W.route=H.route.value,W.outlet&&W.outlet.attach(H.componentRef,H.route.value),Fo(H.route.value),this.activateChildRoutes(T,null,W.children)}else{const H=Nr(Y.snapshot),Le=H?.get(n._Vd)??null;W.attachRef=null,W.route=Y,W.resolver=Le,W.injector=H,W.outlet&&W.outlet.activateWith(Y,W.injector),this.activateChildRoutes(T,null,W.children)}}else this.activateChildRoutes(T,null,k)}}class st{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ve{constructor(T,A){this.component=T,this.route=A}}function ct(b,T,A){const k=b._root;return pn(k,T?T._root:null,A,[k.value])}function ut(b,T){const A=Symbol(),k=T.get(b,A);return k===A?"function"!=typeof b||(0,n.Z0I)(b)?T.get(b):b:k}function pn(b,T,A,k,Y={canDeactivateChecks:[],canActivateChecks:[]}){const E=Ir(T);return b.children.forEach(W=>{(function qn(b,T,A,k,Y={canDeactivateChecks:[],canActivateChecks:[]}){const E=b.value,W=T?T.value:null,H=A?A.getContext(b.value.outlet):null;if(W&&E.routeConfig===W.routeConfig){const Le=function Ft(b,T,A){if("function"==typeof A)return A(b,T);switch(A){case"pathParamsChange":return!Re(b.url,T.url);case"pathParamsOrQueryParamsChange":return!Re(b.url,T.url)||!me(b.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wo(b,T)||!me(b.queryParams,T.queryParams);default:return!Wo(b,T)}}(W,E,E.routeConfig.runGuardsAndResolvers);Le?Y.canActivateChecks.push(new st(k)):(E.data=W.data,E._resolvedData=W._resolvedData),pn(b,T,E.component?H?H.children:null:A,k,Y),Le&&H&&H.outlet&&H.outlet.isActivated&&Y.canDeactivateChecks.push(new ve(H.outlet.component,W))}else W&&Fn(T,H,Y),Y.canActivateChecks.push(new st(k)),pn(b,null,E.component?H?H.children:null:A,k,Y)})(W,E[W.value.outlet],A,k.concat([W.value]),Y),delete E[W.value.outlet]}),dn(E,(W,H)=>Fn(W,A.getContext(H),Y)),Y}function Fn(b,T,A){const k=Ir(b),Y=b.value;dn(k,(E,W)=>{Fn(E,Y.component?T?T.children.getContext(W):null:T,A)}),A.canDeactivateChecks.push(new ve(Y.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Y))}function ui(b){return"function"==typeof b}function Ur(b){return b instanceof S.K||"EmptyError"===b?.name}const ei=Symbol("INITIAL_VALUE");function xo(){return(0,Ee.w)(b=>(0,w.aj)(b.map(T=>T.pipe((0,Ye.q)(1),(0,at.O)(ei)))).pipe((0,ae.U)(T=>{for(const A of T)if(!0!==A){if(A===ei)return ei;if(!1===A||A instanceof en)return A}return!0}),(0,ze.h)(T=>T!==ei),(0,Ye.q)(1)))}function Ci(b){return(0,Z.z)((0,de.b)(T=>{if(oe(T))throw Jo(0,T)}),(0,ae.U)(T=>!0===T))}const As={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ho(b,T,A,k,Y){const E=Yi(b,T,A);return E.matched?function Es(b,T,A,k){const Y=T.canMatch;if(!Y||0===Y.length)return(0,h.of)(!0);const E=Y.map(W=>{const H=ut(W,b);return kt(function le(b){return b&&ui(b.canMatch)}(H)?H.canMatch(T,A):b.runInContext(()=>H(T,A)))});return(0,h.of)(E).pipe(xo(),Ci())}(k=Mo(T,k),T,A).pipe((0,ae.U)(W=>!0===W?E:{...As})):(0,h.of)(E)}function Yi(b,T,A){if(""===T.path)return"full"===T.pathMatch&&(b.hasChildren()||A.length>0)?{...As}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const Y=(T.matcher||qe)(A,b,T);if(!Y)return{...As};const E={};dn(Y.posParams,(H,Le)=>{E[Le]=H.path});const W=Y.consumed.length>0?{...E,...Y.consumed[Y.consumed.length-1].parameters}:E;return{matched:!0,consumedSegments:Y.consumed,remainingSegments:A.slice(Y.consumed.length),parameters:W,positionalParamSegments:Y.posParams??{}}}function na(b,T,A,k,Y="corrected"){if(A.length>0&&function wu(b,T,A){return A.some(k=>R(b,T,k)&&An(k)!==ft)}(b,A,k)){const W=new Yt(T,function Xn(b,T,A,k){const Y={};Y[ft]=k,k._sourceSegment=b,k._segmentIndexShift=T.length;for(const E of A)if(""===E.path&&An(E)!==ft){const W=new Yt([],{});W._sourceSegment=b,W._segmentIndexShift=T.length,Y[An(E)]=W}return Y}(b,T,k,new Yt(A,b.children)));return W._sourceSegment=b,W._segmentIndexShift=T.length,{segmentGroup:W,slicedSegments:[]}}if(0===A.length&&function Ru(b,T,A){return A.some(k=>R(b,T,k))}(b,A,k)){const W=new Yt(b.segments,function is(b,T,A,k,Y,E){const W={};for(const H of k)if(R(b,A,H)&&!Y[An(H)]){const Le=new Yt([],{});Le._sourceSegment=b,Le._segmentIndexShift="legacy"===E?b.segments.length:T.length,W[An(H)]=Le}return{...Y,...W}}(b,T,A,k,b.children,Y));return W._sourceSegment=b,W._segmentIndexShift=T.length,{segmentGroup:W,slicedSegments:A}}const E=new Yt(b.segments,b.children);return E._sourceSegment=b,E._segmentIndexShift=T.length,{segmentGroup:E,slicedSegments:A}}function R(b,T,A){return(!(b.hasChildren()||T.length>0)||"full"!==A.pathMatch)&&""===A.path}function ee(b,T,A,k){return!!(An(b)===k||k!==ft&&R(T,A,b))&&("**"===b.path||Yi(T,b,A).matched)}function U(b,T,A){return 0===T.length&&!b.children[A]}const ce=!1;class $e{constructor(T){this.segmentGroup=T||null}}class St{constructor(T){this.urlTree=T}}function It(b){return(0,V._)(new $e(b))}function mn(b){return(0,V._)(new St(b))}class jn{constructor(T,A,k,Y,E){this.injector=T,this.configLoader=A,this.urlSerializer=k,this.urlTree=Y,this.config=E,this.allowRedirects=!0}apply(){const T=na(this.urlTree.root,[],[],this.config).segmentGroup,A=new Yt(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,A,ft).pipe((0,ae.U)(E=>this.createUrlTree(pe(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,it.K)(E=>{if(E instanceof St)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof $e?this.noMatchError(E):E}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,ft).pipe((0,ae.U)(Y=>this.createUrlTree(pe(Y),T.queryParams,T.fragment))).pipe((0,it.K)(Y=>{throw Y instanceof $e?this.noMatchError(Y):Y}))}noMatchError(T){return new n.vHH(4002,ce)}createUrlTree(T,A,k){const Y=Fe(T);return new en(Y,A,k)}expandSegmentGroup(T,A,k,Y){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(T,A,k).pipe((0,ae.U)(E=>new Yt([],E))):this.expandSegment(T,k,A,k.segments,Y,!0)}expandChildren(T,A,k){const Y=[];for(const E of Object.keys(k.children))"primary"===E?Y.unshift(E):Y.push(E);return(0,e.D)(Y).pipe((0,ge.b)(E=>{const W=k.children[E],H=$r(A,E);return this.expandSegmentGroup(T,H,W,E).pipe((0,ae.U)(Le=>({segment:Le,outlet:E})))}),(0,He.R)((E,W)=>(E[W.outlet]=W.segment,E),{}),ht())}expandSegment(T,A,k,Y,E,W){return(0,e.D)(k).pipe((0,ge.b)(H=>this.expandSegmentAgainstRoute(T,A,k,H,Y,E,W).pipe((0,it.K)(Ct=>{if(Ct instanceof $e)return(0,h.of)(null);throw Ct}))),(0,he.P)(H=>!!H),(0,it.K)((H,Le)=>{if(Ur(H))return U(A,Y,E)?(0,h.of)(new Yt([],{})):It(A);throw H}))}expandSegmentAgainstRoute(T,A,k,Y,E,W,H){return ee(Y,A,E,W)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(T,A,Y,E,W):H&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,A,k,Y,E,W):It(A):It(A)}expandSegmentAgainstRouteUsingRedirect(T,A,k,Y,E,W){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,k,Y,W):this.expandRegularSegmentAgainstRouteUsingRedirect(T,A,k,Y,E,W)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,A,k,Y){const E=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?mn(E):this.lineralizeSegments(k,E).pipe((0,Ve.zg)(W=>{const H=new Yt(W,{});return this.expandSegment(T,H,A,W,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,A,k,Y,E,W){const{matched:H,consumedSegments:Le,remainingSegments:Ct,positionalParamSegments:fn}=Yi(A,Y,E);if(!H)return It(A);const zt=this.applyRedirectCommands(Le,Y.redirectTo,fn);return Y.redirectTo.startsWith("/")?mn(zt):this.lineralizeSegments(Y,zt).pipe((0,Ve.zg)(Mn=>this.expandSegment(T,A,k,Mn.concat(Ct),W,!1)))}matchSegmentAgainstRoute(T,A,k,Y,E){return"**"===k.path?(T=Mo(k,T),k.loadChildren?(k._loadedRoutes?(0,h.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(T,k)).pipe((0,ae.U)(H=>(k._loadedRoutes=H.routes,k._loadedInjector=H.injector,new Yt(Y,{})))):(0,h.of)(new Yt(Y,{}))):ho(A,k,Y,T).pipe((0,Ee.w)(({matched:W,consumedSegments:H,remainingSegments:Le})=>W?this.getChildConfig(T=k._injector??T,k,Y).pipe((0,Ve.zg)(fn=>{const zt=fn.injector??T,Mn=fn.routes,{segmentGroup:gr,slicedSegments:Co}=na(A,H,Le,Mn),di=new Yt(gr.segments,gr.children);if(0===Co.length&&di.hasChildren())return this.expandChildren(zt,Mn,di).pipe((0,ae.U)(Bh=>new Yt(H,Bh)));if(0===Mn.length&&0===Co.length)return(0,h.of)(new Yt(H,{}));const Ro=An(k)===E;return this.expandSegment(zt,di,Mn,Co,Ro?ft:E,!0).pipe((0,ae.U)(Ji=>new Yt(H.concat(Ji.segments),Ji.children)))})):It(A)))}getChildConfig(T,A,k){return A.children?(0,h.of)({routes:A.children,injector:T}):A.loadChildren?void 0!==A._loadedRoutes?(0,h.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function ta(b,T,A,k){const Y=T.canLoad;if(void 0===Y||0===Y.length)return(0,h.of)(!0);const E=Y.map(W=>{const H=ut(W,b);return kt(function jr(b){return b&&ui(b.canLoad)}(H)?H.canLoad(T,A):b.runInContext(()=>H(T,A)))});return(0,h.of)(E).pipe(xo(),Ci())}(T,A,k).pipe((0,Ve.zg)(Y=>Y?this.configLoader.loadChildren(T,A).pipe((0,de.b)(E=>{A._loadedRoutes=E.routes,A._loadedInjector=E.injector})):function fr(b){return(0,V._)(Uo(ce,3))}())):(0,h.of)({routes:[],injector:T})}lineralizeSegments(T,A){let k=[],Y=A.root;for(;;){if(k=k.concat(Y.segments),0===Y.numberOfChildren)return(0,h.of)(k);if(Y.numberOfChildren>1||!Y.children[ft])return(0,V._)(new n.vHH(4e3,ce));Y=Y.children[ft]}}applyRedirectCommands(T,A,k){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),T,k)}applyRedirectCreateUrlTree(T,A,k,Y){const E=this.createSegmentGroup(T,A.root,k,Y);return new en(E,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(T,A){const k={};return dn(T,(Y,E)=>{if("string"==typeof Y&&Y.startsWith(":")){const H=Y.substring(1);k[E]=A[H]}else k[E]=Y}),k}createSegmentGroup(T,A,k,Y){const E=this.createSegments(T,A.segments,k,Y);let W={};return dn(A.children,(H,Le)=>{W[Le]=this.createSegmentGroup(T,H,k,Y)}),new Yt(E,W)}createSegments(T,A,k,Y){return A.map(E=>E.path.startsWith(":")?this.findPosParam(T,E,Y):this.findOrReturn(E,k))}findPosParam(T,A,k){const Y=k[A.path.substring(1)];if(!Y)throw new n.vHH(4001,ce);return Y}findOrReturn(T,A){let k=0;for(const Y of A){if(Y.path===T.path)return A.splice(k),Y;k++}return T}}class Lr{}class ti{constructor(T,A,k,Y,E,W,H,Le){this.injector=T,this.rootComponentType=A,this.config=k,this.urlTree=Y,this.url=E,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=H,this.urlSerializer=Le}recognize(){const T=na(this.urlTree.root,[],[],this.config.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,ft).pipe((0,ae.U)(A=>{if(null===A)return null;const k=new zo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new sr(k,A),E=new Lo(this.url,Y);return this.inheritParamsAndData(E._root),E}))}inheritParamsAndData(T){const A=T.value,k=Yo(A,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data),T.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(T,A,k,Y){return 0===k.segments.length&&k.hasChildren()?this.processChildren(T,A,k):this.processSegment(T,A,k,k.segments,Y)}processChildren(T,A,k){return(0,e.D)(Object.keys(k.children)).pipe((0,ge.b)(Y=>{const E=k.children[Y],W=$r(A,Y);return this.processSegmentGroup(T,W,E,Y)}),(0,He.R)((Y,E)=>Y&&E?(Y.push(...E),Y):null),(0,Je.o)(Y=>null!==Y),(0,Ae.d)(null),ht(),(0,ae.U)(Y=>{if(null===Y)return null;const E=Ds(Y);return function li(b){b.sort((T,A)=>T.value.outlet===ft?-1:A.value.outlet===ft?1:T.value.outlet.localeCompare(A.value.outlet))}(E),E}))}processSegment(T,A,k,Y,E){return(0,e.D)(A).pipe((0,ge.b)(W=>this.processSegmentAgainstRoute(W._injector??T,W,k,Y,E)),(0,he.P)(W=>!!W),(0,it.K)(W=>{if(Ur(W))return U(k,Y,E)?(0,h.of)([]):(0,h.of)(null);throw W}))}processSegmentAgainstRoute(T,A,k,Y,E){if(A.redirectTo||!ee(A,k,Y,E))return(0,h.of)(null);let W;if("**"===A.path){const H=Y.length>0?jt(Y).parameters:{},Le=ra(k)+Y.length,Ct=new zo(Y,H,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oo(A),An(A),A.component??A._loadedComponent??null,A,yi(k),Le,go(A),Le);W=(0,h.of)({snapshot:Ct,consumedSegments:[],remainingSegments:[]})}else W=ho(k,A,Y,T).pipe((0,ae.U)(({matched:H,consumedSegments:Le,remainingSegments:Ct,parameters:fn})=>{if(!H)return null;const zt=ra(k)+Le.length;return{snapshot:new zo(Le,fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oo(A),An(A),A.component??A._loadedComponent??null,A,yi(k),zt,go(A),zt),consumedSegments:Le,remainingSegments:Ct}}));return W.pipe((0,Ee.w)(H=>{if(null===H)return(0,h.of)(null);const{snapshot:Le,consumedSegments:Ct,remainingSegments:fn}=H;T=A._injector??T;const zt=A._loadedInjector??T,Mn=function Ko(b){return b.children?b.children:b.loadChildren?b._loadedRoutes:[]}(A),{segmentGroup:gr,slicedSegments:Co}=na(k,Ct,fn,Mn.filter(Ro=>void 0===Ro.redirectTo),this.relativeLinkResolution);if(0===Co.length&&gr.hasChildren())return this.processChildren(zt,Mn,gr).pipe((0,ae.U)(Ro=>null===Ro?null:[new sr(Le,Ro)]));if(0===Mn.length&&0===Co.length)return(0,h.of)([new sr(Le,[])]);const di=An(A)===E;return this.processSegment(zt,Mn,gr,Co,di?ft:E).pipe((0,ae.U)(Ro=>null===Ro?null:[new sr(Le,Ro)]))}))}}function Mi(b){const T=b.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Ds(b){const T=[],A=new Set;for(const k of b){if(!Mi(k)){T.push(k);continue}const Y=T.find(E=>k.value.routeConfig===E.value.routeConfig);void 0!==Y?(Y.children.push(...k.children),A.add(Y)):T.push(k)}for(const k of A){const Y=Ds(k.children);T.push(new sr(k.value,Y))}return T.filter(k=>!A.has(k))}function yi(b){let T=b;for(;T._sourceSegment;)T=T._sourceSegment;return T}function ra(b){let T=b,A=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,A+=T._segmentIndexShift??0;return A-1}function oo(b){return b.data||{}}function go(b){return b.resolve||{}}function Ms(b){return"string"==typeof b.title||null===b.title}function xi(b){return(0,Ee.w)(T=>{const A=b(T);return A?(0,e.D)(A).pipe((0,ae.U)(()=>T)):(0,h.of)(T)})}let Oa=(()=>{class b{buildTitle(A){let k,Y=A.root;for(;void 0!==Y;)k=this.getResolvedTitleForRoute(Y)??k,Y=Y.children.find(E=>E.outlet===ft);return k}getResolvedTitleForRoute(A){return A.data[nn]}}return b.\u0275fac=function(A){return new(A||b)},b.\u0275prov=n.Yz7({token:b,factory:function(){return(0,n.f3M)(Ii)},providedIn:"root"}),b})(),Ii=(()=>{class b extends Oa{constructor(A){super(),this.title=A}updateTitle(A){const k=this.buildTitle(A);void 0!==k&&this.title.setTitle(k)}}return b.\u0275fac=function(A){return new(A||b)(n.LFG(Jt.Dx))},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class mo{}class wi extends class $o{shouldDetach(T){return!1}store(T,A){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,A){return T.routeConfig===A.routeConfig}}{}const so=new n.OlP("",{providedIn:"root",factory:()=>({})}),ni=new n.OlP("ROUTES");let vo=(()=>{class b{constructor(A,k){this.injector=A,this.compiler=k,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,h.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const k=kt(A.loadComponent()).pipe((0,de.b)(E=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=E}),(0,Ne.x)(()=>{this.componentLoaders.delete(A)})),Y=new q.c(k,()=>new ne.xQ).pipe((0,an.x)());return this.componentLoaders.set(A,Y),Y}loadChildren(A,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,h.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const E=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,ae.U)(H=>{this.onLoadEndListener&&this.onLoadEndListener(k);let Le,Ct,fn=!1;Array.isArray(H)?Ct=H:(Le=H.create(A).injector,Ct=Ke(Le.get(ni,[],n.XFs.Self|n.XFs.Optional)));return{routes:Ct.map(on),injector:Le}}),(0,Ne.x)(()=>{this.childrenLoaders.delete(k)})),W=new q.c(E,()=>new ne.xQ).pipe((0,an.x)());return this.childrenLoaders.set(k,W),W}loadModuleFactoryOrRoutes(A){return kt(A()).pipe((0,Ve.zg)(k=>k instanceof n.YKP||Array.isArray(k)?(0,h.of)(k):(0,e.D)(this.compiler.compileModuleAsync(k))))}}return b.\u0275fac=function(A){return new(A||b)(n.LFG(n.zs3),n.LFG(n.Sil))},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class Zr{}class _o{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,A){return T}}function La(b){throw b}function Pu(b,T,A){return T.parse("/")}const $c={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ri(){const b=(0,n.f3M)(De),T=(0,n.f3M)(po),A=(0,n.f3M)(ue.Ye),k=(0,n.f3M)(n.zs3),Y=(0,n.f3M)(n.Sil),E=(0,n.f3M)(ni,{optional:!0})??[],W=(0,n.f3M)(so,{optional:!0})??{},H=(0,n.f3M)(Ii),Le=(0,n.f3M)(Oa,{optional:!0}),Ct=(0,n.f3M)(Zr,{optional:!0}),fn=(0,n.f3M)(mo,{optional:!0}),zt=new Wr(null,b,T,A,k,Y,Ke(E));return Ct&&(zt.urlHandlingStrategy=Ct),fn&&(zt.routeReuseStrategy=fn),zt.titleStrategy=Le??H,function xs(b,T){b.errorHandler&&(T.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(T.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(T.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(T.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(T.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(T.canceledNavigationResolution=b.canceledNavigationResolution)}(W,zt),zt}let Wr=(()=>{class b{constructor(A,k,Y,E,W,H,Le){this.rootComponentType=A,this.urlSerializer=k,this.rootContexts=Y,this.location=E,this.config=Le,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ne.xQ,this.errorHandler=La,this.malformedUriErrorHandler=Pu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,h.of)(void 0),this.urlHandlingStrategy=new _o,this.routeReuseStrategy=new wi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=W.get(vo),this.configLoader.onLoadEndListener=Mn=>this.triggerEvent(new N(Mn)),this.configLoader.onLoadStartListener=Mn=>this.triggerEvent(new gt(Mn)),this.ngModule=W.get(n.h0i),this.console=W.get(n.c2e);const zt=W.get(n.R0b);this.isNgZoneEnabled=zt instanceof n.R0b&&n.R0b.isInAngularZone(),this.resetConfig(Le),this.currentUrlTree=function nt(){return new en(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Oo(this.currentUrlTree,this.rootComponentType),this.transitions=new F.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(A){const k=this.events;return A.pipe((0,ze.h)(Y=>0!==Y.id),(0,ae.U)(Y=>({...Y,extractedUrl:this.urlHandlingStrategy.extract(Y.rawUrl)})),(0,Ee.w)(Y=>{let E=!1,W=!1;return(0,h.of)(Y).pipe((0,de.b)(H=>{this.currentNavigation={id:H.id,initialUrl:H.rawUrl,extractedUrl:H.extractedUrl,trigger:H.source,extras:H.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ee.w)(H=>{const Le=this.browserUrlTree.toString(),Ct=!this.navigated||H.extractedUrl.toString()!==Le||Le!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ct)&&this.urlHandlingStrategy.shouldProcessUrl(H.rawUrl))return zi(H.source)&&(this.browserUrlTree=H.extractedUrl),(0,h.of)(H).pipe((0,Ee.w)(zt=>{const Mn=this.transitions.getValue();return k.next(new Jn(zt.id,this.serializeUrl(zt.extractedUrl),zt.source,zt.restoredState)),Mn!==this.transitions.getValue()?J.E:Promise.resolve(zt)}),function Gr(b,T,A,k){return(0,Ee.w)(Y=>function or(b,T,A,k,Y){return new jn(b,T,A,k,Y).apply()}(b,T,A,Y.extractedUrl,k).pipe((0,ae.U)(E=>({...Y,urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,de.b)(zt=>{this.currentNavigation={...this.currentNavigation,finalUrl:zt.urlAfterRedirects},Y.urlAfterRedirects=zt.urlAfterRedirects}),function io(b,T,A,k,Y,E){return(0,Ve.zg)(W=>function Vo(b,T,A,k,Y,E,W="emptyOnly",H="legacy"){return new ti(b,T,A,k,Y,W,H,E).recognize().pipe((0,Ee.w)(Le=>null===Le?function Go(b){return new G.y(T=>T.error(b))}(new Lr):(0,h.of)(Le)))}(b,T,A,W.urlAfterRedirects,k.serialize(W.urlAfterRedirects),k,Y,E).pipe((0,ae.U)(H=>({...W,targetSnapshot:H}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,de.b)(zt=>{if(Y.targetSnapshot=zt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!zt.extras.skipLocationChange){const gr=this.urlHandlingStrategy.merge(zt.urlAfterRedirects,zt.rawUrl);this.setBrowserUrl(gr,zt)}this.browserUrlTree=zt.urlAfterRedirects}const Mn=new Pr(zt.id,this.serializeUrl(zt.extractedUrl),this.serializeUrl(zt.urlAfterRedirects),zt.targetSnapshot);k.next(Mn)}));if(Ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mn,extractedUrl:gr,source:Co,restoredState:di,extras:Ro}=H,cs=new Jn(Mn,this.serializeUrl(gr),Co,di);k.next(cs);const Ji=Oo(gr,this.rootComponentType).snapshot;return Y={...H,targetSnapshot:Ji,urlAfterRedirects:gr,extras:{...Ro,skipLocationChange:!1,replaceUrl:!1}},(0,h.of)(Y)}return this.rawUrlTree=H.rawUrl,H.resolve(null),J.E}),(0,de.b)(H=>{const Le=new qr(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);this.triggerEvent(Le)}),(0,ae.U)(H=>Y={...H,guards:ct(H.targetSnapshot,H.currentSnapshot,this.rootContexts)}),function Sr(b,T){return(0,Ve.zg)(A=>{const{targetSnapshot:k,currentSnapshot:Y,guards:{canActivateChecks:E,canDeactivateChecks:W}}=A;return 0===W.length&&0===E.length?(0,h.of)({...A,guardsResult:!0}):function Er(b,T,A,k){return(0,e.D)(b).pipe((0,Ve.zg)(Y=>function ea(b,T,A,k,Y){const E=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!E||0===E.length)return(0,h.of)(!0);const W=E.map(H=>{const Le=Nr(T)??Y,Ct=ut(H,Le);return kt(function L(b){return b&&ui(b.canDeactivate)}(Ct)?Ct.canDeactivate(b,T,A,k):Le.runInContext(()=>Ct(b,T,A,k))).pipe((0,he.P)())});return(0,h.of)(W).pipe(xo())}(Y.component,Y.route,A,T,k)),(0,he.P)(Y=>!0!==Y,!0))}(W,k,Y,b).pipe((0,Ve.zg)(H=>H&&function Xs(b){return"boolean"==typeof b}(H)?function Ia(b,T,A,k){return(0,e.D)(T).pipe((0,ge.b)(Y=>(0,P.z)(function Ti(b,T){return null!==b&&T&&T(new be(b)),(0,h.of)(!0)}(Y.route.parent,k),function Br(b,T){return null!==b&&T&&T(new Q(b)),(0,h.of)(!0)}(Y.route,k),function Hc(b,T,A){const k=T[T.length-1],E=T.slice(0,T.length-1).reverse().map(W=>function ot(b){const T=b.routeConfig?b.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:b,guards:T}:null}(W)).filter(W=>null!==W).map(W=>(0,B.P)(()=>{const H=W.guards.map(Le=>{const Ct=Nr(W.node)??A,fn=ut(Le,Ct);return kt(function $(b){return b&&ui(b.canActivateChild)}(fn)?fn.canActivateChild(k,b):Ct.runInContext(()=>fn(k,b))).pipe((0,he.P)())});return(0,h.of)(H).pipe(xo())}));return(0,h.of)(E).pipe(xo())}(b,Y.path,A),function Vc(b,T,A){const k=T.routeConfig?T.routeConfig.canActivate:null;if(!k||0===k.length)return(0,h.of)(!0);const Y=k.map(E=>(0,B.P)(()=>{const W=Nr(T)??A,H=ut(E,W);return kt(function z(b){return b&&ui(b.canActivate)}(H)?H.canActivate(T,b):W.runInContext(()=>H(T,b))).pipe((0,he.P)())}));return(0,h.of)(Y).pipe(xo())}(b,Y.route,A))),(0,he.P)(Y=>!0!==Y,!0))}(k,E,b,T):(0,h.of)(H)),(0,ae.U)(H=>({...A,guardsResult:H})))})}(this.ngModule.injector,H=>this.triggerEvent(H)),(0,de.b)(H=>{if(Y.guardsResult=H.guardsResult,oe(H.guardsResult))throw Jo(0,H.guardsResult);const Le=new Xr(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot,!!H.guardsResult);this.triggerEvent(Le)}),(0,ze.h)(H=>!!H.guardsResult||(this.restoreHistory(H),this.cancelNavigationTransition(H,"",3),!1)),xi(H=>{if(H.guards.canActivateChecks.length)return(0,h.of)(H).pipe((0,de.b)(Le=>{const Ct=new xr(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(Ct)}),(0,Ee.w)(Le=>{let Ct=!1;return(0,h.of)(Le).pipe(function Si(b,T){return(0,Ve.zg)(A=>{const{targetSnapshot:k,guards:{canActivateChecks:Y}}=A;if(!Y.length)return(0,h.of)(A);let E=0;return(0,e.D)(Y).pipe((0,ge.b)(W=>function wa(b,T,A,k){const Y=b.routeConfig,E=b._resolve;return void 0!==Y?.title&&!Ms(Y)&&(E[nn]=Y.title),function Ra(b,T,A,k){const Y=function Ts(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===Y.length)return(0,h.of)({});const E={};return(0,e.D)(Y).pipe((0,Ve.zg)(W=>function Pa(b,T,A,k){const Y=Nr(T)??k,E=ut(b,Y);return kt(E.resolve?E.resolve(T,A):Y.runInContext(()=>E(T,A)))}(b[W],T,A,k).pipe((0,he.P)(),(0,de.b)(H=>{E[W]=H}))),re(1),(0,lt.h)(E),(0,it.K)(W=>Ur(W)?J.E:(0,V._)(W)))}(E,b,T,k).pipe((0,ae.U)(W=>(b._resolvedData=W,b.data=Yo(b,A).resolve,Y&&Ms(Y)&&(b.data[nn]=Y.title),null)))}(W.route,k,b,T)),(0,de.b)(()=>E++),re(1),(0,Ve.zg)(W=>E===Y.length?(0,h.of)(A):J.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,de.b)({next:()=>Ct=!0,complete:()=>{Ct||(this.restoreHistory(Le),this.cancelNavigationTransition(Le,"",2))}}))}),(0,de.b)(Le=>{const Ct=new Be(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(Ct)}))}),xi(H=>{const Le=Ct=>{const fn=[];Ct.routeConfig?.loadComponent&&!Ct.routeConfig._loadedComponent&&fn.push(this.configLoader.loadComponent(Ct.routeConfig).pipe((0,de.b)(zt=>{Ct.component=zt}),(0,ae.U)(()=>{})));for(const zt of Ct.children)fn.push(...Le(zt));return fn};return(0,w.aj)(Le(H.targetSnapshot.root)).pipe((0,Ae.d)(),(0,Ye.q)(1))}),xi(()=>this.afterPreactivation()),(0,ae.U)(H=>{const Le=function br(b,T,A){const k=bo(b,T._root,A?A._root:void 0);return new eo(k,T)}(this.routeReuseStrategy,H.targetSnapshot,H.currentRouterState);return Y={...H,targetRouterState:Le}}),(0,de.b)(H=>{this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects)}),((b,T,A)=>(0,ae.U)(k=>(new Se(T,k.targetRouterState,k.currentRouterState,A).activate(b),k)))(this.rootContexts,this.routeReuseStrategy,H=>this.triggerEvent(H)),(0,de.b)({next(){E=!0},complete(){E=!0}}),(0,Ne.x)(()=>{E||W||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),(0,it.K)(H=>{if(W=!0,Tr(H)){ci(H)||(this.navigated=!0,this.restoreHistory(Y,!0));const Le=new Gn(Y.id,this.serializeUrl(Y.extractedUrl),H.message,H.cancellationCode);if(k.next(Le),ci(H)){const Ct=this.urlHandlingStrategy.merge(H.url,this.rawUrlTree),fn={skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zi(Y.source)};this.scheduleNavigation(Ct,"imperative",null,fn,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})}else Y.resolve(!1)}else{this.restoreHistory(Y,!0);const Le=new pr(Y.id,this.serializeUrl(Y.extractedUrl),H,Y.targetSnapshot??void 0);k.next(Le);try{Y.resolve(this.errorHandler(H))}catch(Ct){Y.reject(Ct)}}return J.E}))}))}resetRootComponentType(A){this.rootComponentType=A,this.routerState.root.component=this.rootComponentType}setTransition(A){this.transitions.next({...this.transitions.value,...A})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const k="popstate"===A.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{const Y={replaceUrl:!0},E=A.state?.navigationId?A.state:null;if(E){const H={...E};delete H.navigationId,delete H.\u0275routerPageId,0!==Object.keys(H).length&&(Y.state=H)}const W=this.parseUrl(A.url);this.scheduleNavigation(W,k,E,Y)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(A){this.events.next(A)}resetConfig(A){this.config=A.map(on),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(A,k={}){const{relativeTo:Y,queryParams:E,fragment:W,queryParamsHandling:H,preserveFragment:Le}=k,Ct=Y||this.routerState.root,fn=Le?this.currentUrlTree.fragment:W;let zt=null;switch(H){case"merge":zt={...this.currentUrlTree.queryParams,...E};break;case"preserve":zt=this.currentUrlTree.queryParams;break;default:zt=E||null}return null!==zt&&(zt=this.removeEmptyProps(zt)),qt(Ct,this.currentUrlTree,A,zt,fn??null)}navigateByUrl(A,k={skipLocationChange:!1}){const Y=oe(A)?A:this.parseUrl(A),E=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,k)}navigate(A,k={skipLocationChange:!1}){return function oa(b){for(let T=0;T<b.length;T++){if(null==b[T])throw new n.vHH(4008,false)}}(A),this.navigateByUrl(this.createUrlTree(A,k),k)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let k;try{k=this.urlSerializer.parse(A)}catch(Y){k=this.malformedUriErrorHandler(Y,this.urlSerializer,A)}return k}isActive(A,k){let Y;if(Y=!0===k?{...$c}:!1===k?{...sc}:k,oe(A))return un(this.currentUrlTree,A,Y);const E=this.parseUrl(A);return un(this.currentUrlTree,E,Y)}removeEmptyProps(A){return Object.keys(A).reduce((k,Y)=>{const E=A[Y];return null!=E&&(k[Y]=E),k},{})}processNavigations(){this.navigations.subscribe(A=>{this.navigated=!0,this.lastSuccessfulId=A.id,this.currentPageId=A.targetPageId,this.events.next(new Mr(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),A.resolve(!0)},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}scheduleNavigation(A,k,Y,E,W){if(this.disposed)return Promise.resolve(!1);let H,Le,Ct;W?(H=W.resolve,Le=W.reject,Ct=W.promise):Ct=new Promise((Mn,gr)=>{H=Mn,Le=gr});const fn=++this.navigationId;let zt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Y=this.location.getState()),zt=Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):zt=0,this.setTransition({id:fn,targetPageId:zt,source:k,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:A,extras:E,resolve:H,reject:Le,promise:Ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ct.catch(Mn=>Promise.reject(Mn))}setBrowserUrl(A,k){const Y=this.urlSerializer.serialize(A),E={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.isCurrentPathEqualTo(Y)||k.extras.replaceUrl?this.location.replaceState(Y,"",E):this.location.go(Y,"",E)}restoreHistory(A,k=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-A.targetPageId;"popstate"!==A.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Y?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Y&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(A,k,Y){const E=new Gn(A.id,this.serializeUrl(A.extractedUrl),k,Y);this.triggerEvent(E),A.resolve(!1)}generateNgRouterState(A,k){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:k}:{navigationId:A}}}return b.\u0275fac=function(A){n.$Z()},b.\u0275prov=n.Yz7({token:b,factory:function(){return Ri()},providedIn:"root"}),b})();function zi(b){return"imperative"!==b}let Is=(()=>{class b{constructor(A,k,Y,E,W){this.router=A,this.route=k,this.tabIndexAttribute=Y,this.renderer=E,this.el=W,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ne.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(A){this._preserveFragment=(0,n.D6c)(A)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(A){this._skipLocationChange=(0,n.D6c)(A)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(A){this._replaceUrl=(0,n.D6c)(A)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(A){if(null!=this.tabIndexAttribute)return;const k=this.renderer,Y=this.el.nativeElement;null!==A?k.setAttribute(Y,"tabindex",A):k.removeAttribute(Y,"tabindex")}ngOnChanges(A){this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return b.\u0275fac=function(A){return new(A||b)(n.Y36(Wr),n.Y36(Or),n.$8M("tabindex"),n.Y36(n.Qsj),n.Y36(n.SBq))},b.\u0275dir=n.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,k){1&A&&n.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[n.TTD]}),b})(),wo=(()=>{class b{constructor(A,k,Y){this.router=A,this.route=k,this.locationStrategy=Y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ne.xQ,this.subscription=A.events.subscribe(E=>{E instanceof Mr&&this.updateTargetUrlAndHref()})}set preserveFragment(A){this._preserveFragment=(0,n.D6c)(A)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(A){this._skipLocationChange=(0,n.D6c)(A)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(A){this._replaceUrl=(0,n.D6c)(A)}get replaceUrl(){return this._replaceUrl}set routerLink(A){this.commands=null!=A?Array.isArray(A)?A:[A]:null}ngOnChanges(A){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(A,k,Y,E,W){return!!(0!==A||k||Y||E||W||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return b.\u0275fac=function(A){return new(A||b)(n.Y36(Wr),n.Y36(Or),n.Y36(ue.S$))},b.\u0275dir=n.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(A,k){1&A&&n.NdJ("click",function(E){return k.onClick(E.button,E.ctrlKey,E.shiftKey,E.altKey,E.metaKey)}),2&A&&n.uIk("target",k.target)("href",k.href,n.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[n.TTD]}),b})(),ia=(()=>{class b{constructor(A,k,Y,E,W,H){this.router=A,this.element=k,this.renderer=Y,this.cdr=E,this.link=W,this.linkWithHref=H,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new n.vpe,this.routerEventsSubscription=A.events.subscribe(Le=>{Le instanceof Mr&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,this.linksWithHrefs.changes,(0,h.of)(null)).pipe((0,Gt.J)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,e.D)(A).pipe((0,Gt.J)()).subscribe(k=>{this.isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(A){const k=Array.isArray(A)?A:A.split(" ");this.classes=k.filter(Y=>!!Y)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const A=this.hasActiveLinks();this.isActive!==A&&(this.isActive=A,this.cdr.markForCheck(),this.classes.forEach(k=>{A?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const k=function ws(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Y=>!!Y.urlTree&&A.isActive(Y.urlTree,k)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.linkWithHref&&A(this.linkWithHref)||this.links.some(A)||this.linksWithHrefs.some(A)}}return b.\u0275fac=function(A){return new(A||b)(n.Y36(Wr),n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.sBO),n.Y36(Is,8),n.Y36(wo,8))},b.\u0275dir=n.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(A,k,Y){if(1&A&&(n.Suo(Y,Is,5),n.Suo(Y,wo,5)),2&A){let E;n.iGM(E=n.CRH())&&(k.links=E),n.iGM(E=n.CRH())&&(k.linksWithHrefs=E)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[n.TTD]}),b})();class jc{}let Ou=(()=>{class b{constructor(A,k,Y,E,W){this.router=A,this.injector=Y,this.preloadingStrategy=E,this.loader=W}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(A=>A instanceof Mr),(0,ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,k){const Y=[];for(const E of k){E.providers&&!E._injector&&(E._injector=(0,n.MMx)(E.providers,A,`Route: ${E.path}`));const W=E._injector??A,H=E._loadedInjector??W;E.loadChildren&&!E._loadedRoutes&&void 0===E.canLoad||E.loadComponent&&!E._loadedComponent?Y.push(this.preloadConfig(W,E)):(E.children||E._loadedRoutes)&&Y.push(this.processRoutes(H,E.children??E._loadedRoutes))}return(0,e.D)(Y).pipe((0,Gt.J)())}preloadConfig(A,k){return this.preloadingStrategy.preload(k,()=>{let Y;Y=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(A,k):(0,h.of)(null);const E=Y.pipe((0,Ve.zg)(W=>null===W?(0,h.of)(void 0):(k._loadedRoutes=W.routes,k._loadedInjector=W.injector,this.processRoutes(W.injector??A,W.routes))));if(k.loadComponent&&!k._loadedComponent){const W=this.loader.loadComponent(k);return(0,e.D)([E,W]).pipe((0,Gt.J)())}return E})}}return b.\u0275fac=function(A){return new(A||b)(n.LFG(Wr),n.LFG(n.Sil),n.LFG(n.lqb),n.LFG(jc),n.LFG(vo))},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Fa=new n.OlP("");let sa=(()=>{class b{constructor(A,k,Y={}){this.router=A,this.viewportScroller=k,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(A=>{A instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof Mr&&(this.lastId=A.id,this.scheduleScrollEvent(A,this.router.parseUrl(A.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(A=>{A instanceof Rt&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,k){this.router.triggerEvent(new Rt(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(A){n.$Z()},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac}),b})();function as(b,T){return{\u0275kind:b,\u0275providers:T}}function aa(b){return[{provide:ni,multi:!0,useValue:b}]}function cc(){const b=(0,n.f3M)(n.zs3);return T=>{const A=b.get(n.z2F);if(T!==A.components[0])return;const k=b.get(Wr),Y=b.get(Os);1===b.get(hr)&&k.initialNavigation(),b.get(Lu,null,n.XFs.Optional)?.setUpPreloading(),b.get(Fa,null,n.XFs.Optional)?.init(),k.resetRootComponentType(A.componentTypes[0]),Y.closed||(Y.next(),Y.unsubscribe())}}const Os=new n.OlP("",{factory:()=>new ne.xQ}),hr=new n.OlP("",{providedIn:"root",factory:()=>1});const Lu=new n.OlP("");function jl(b){return as(0,[{provide:Lu,useExisting:Ou},{provide:jc,useExisting:b}])}const Yl=new n.OlP("ROUTER_FORROOT_GUARD"),Yc=[ue.Ye,{provide:De,useClass:tt},{provide:Wr,useFactory:Ri},po,{provide:Or,useFactory:function Wi(b){return b.routerState.root},deps:[Wr]},vo];function Jr(){return new n.PXZ("Router",Wr)}let zc=(()=>{class b{constructor(A){}static forRoot(A,k){return{ngModule:b,providers:[Yc,[],aa(A),{provide:Yl,useFactory:jo,deps:[[Wr,new n.FiY,new n.tp0]]},{provide:so,useValue:k||{}},k?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:Fa,useFactory:()=>{const b=(0,n.f3M)(Wr),T=(0,n.f3M)(ue.EM),A=(0,n.f3M)(so);return A.scrollOffset&&T.setOffset(A.scrollOffset),new sa(b,T,A)}},k?.preloadingStrategy?jl(k.preloadingStrategy).\u0275providers:[],{provide:n.PXZ,multi:!0,useFactory:Jr},k?.initialNavigation?Ai(k):[],[{provide:Wc,useFactory:cc},{provide:n.tb,multi:!0,useExisting:Wc}]]}}static forChild(A){return{ngModule:b,providers:[aa(A)]}}}return b.\u0275fac=function(A){return new(A||b)(n.LFG(Yl,8))},b.\u0275mod=n.oAB({type:b}),b.\u0275inj=n.cJS({imports:[Bo]}),b})();function jo(b){return"guarded"}function Ai(b){return["disabled"===b.initialNavigation?as(3,[{provide:n.ip1,multi:!0,useFactory:()=>{const T=(0,n.f3M)(Wr);return()=>{T.setUpLocationChangeListener()}}},{provide:hr,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?as(2,[{provide:hr,useValue:0},{provide:n.ip1,multi:!0,deps:[n.zs3],useFactory:T=>{const A=T.get(ue.V_,Promise.resolve());let k=!1;return()=>A.then(()=>new Promise(E=>{const W=T.get(Wr),H=T.get(Os);(function Y(E){T.get(Wr).events.pipe((0,ze.h)(H=>H instanceof Mr||H instanceof Gn||H instanceof pr),(0,ae.U)(H=>H instanceof Mr||H instanceof Gn&&(0===H.code||1===H.code)&&null),(0,ze.h)(H=>null!==H),(0,Ye.q)(1)).subscribe(()=>{E()})})(()=>{E(!0),k=!0}),W.afterPreactivation=()=>(E(!0),k||H.closed?(0,h.of)(void 0):H),W.initialNavigation()}))}}]).\u0275providers:[]]}const Wc=new n.OlP("")},1848:(_e,ie,v)=>{"use strict";v.d(ie,{Wr:()=>Ae,JB:()=>Te});var n=v(6895),e=v(4650),h=v(8514),F=v(1737),S=v(3753),w=v(1086),P=v(1221),B=v(8929),Z=v(6498),V=v(7876);const G=new Z.y(V.Z);var q=v(6787),ne=v(4850),ue=v(2198),ae=v(7545),Ee=v(2536),at=v(2986),ze=v(2994),Ve=v(943);const he="Service workers are disabled or not supported by this browser";class de{constructor(ht){if(this.serviceWorker=ht,ht){const lt=(0,S.R)(ht,"controllerchange").pipe((0,ne.U)(()=>ht.controller)),Ne=(0,h.P)(()=>(0,w.of)(ht.controller)),an=(0,P.z)(Ne,lt);this.worker=an.pipe((0,ue.h)(Xt=>!!Xt)),this.registration=this.worker.pipe((0,ae.w)(()=>ht.getRegistration()));const nn=(0,S.R)(ht,"message").pipe((0,ne.U)(Xt=>Xt.data)).pipe((0,ue.h)(Xt=>Xt&&Xt.type)).pipe(function Ye(Ge){return Ge?(0,Ee.O)(()=>new B.xQ,Ge):(0,Ee.O)(new B.xQ)}());nn.connect(),this.events=nn}else this.worker=this.events=this.registration=function ge(Ge){return(0,h.P)(()=>(0,F._)(new Error(Ge)))}(he)}postMessage(ht,Je){return this.worker.pipe((0,at.q)(1),(0,ze.b)(lt=>{lt.postMessage({action:ht,...Je})})).toPromise().then(()=>{})}postMessageWithOperation(ht,Je,lt){const Ne=this.waitForOperationCompleted(lt),an=this.postMessage(ht,Je);return Promise.all([an,Ne]).then(([,Gt])=>Gt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(ht){let Je;return Je="string"==typeof ht?lt=>lt.type===ht:lt=>ht.includes(lt.type),this.events.pipe((0,ue.h)(Je))}nextEventOfType(ht){return this.eventsOfType(ht).pipe((0,at.q)(1))}waitForOperationCompleted(ht){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ue.h)(Je=>Je.nonce===ht),(0,at.q)(1),(0,ne.U)(Je=>{if(void 0!==Je.result)return Je.result;throw new Error(Je.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let it=(()=>{class Ge{constructor(Je){if(this.sw=Je,this.subscriptionChanges=new B.xQ,!Je.isEnabled)return this.messages=G,this.notificationClicks=G,void(this.subscription=G);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ne.U)(Ne=>Ne.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ne.U)(Ne=>Ne.data)),this.pushManager=this.sw.registration.pipe((0,ne.U)(Ne=>Ne.pushManager));const lt=this.pushManager.pipe((0,ae.w)(Ne=>Ne.getSubscription()));this.subscription=(0,q.T)(lt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Je){if(!this.sw.isEnabled)return Promise.reject(new Error(he));const lt={userVisibleOnly:!0};let Ne=this.decodeBase64(Je.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),an=new Uint8Array(new ArrayBuffer(Ne.length));for(let Gt=0;Gt<Ne.length;Gt++)an[Gt]=Ne.charCodeAt(Gt);return lt.applicationServerKey=an,this.pushManager.pipe((0,ae.w)(Gt=>Gt.subscribe(lt)),(0,at.q)(1)).toPromise().then(Gt=>(this.subscriptionChanges.next(Gt),Gt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,at.q)(1),(0,ae.w)(lt=>{if(null===lt)throw new Error("Not subscribed to push notifications.");return lt.unsubscribe().then(Ne=>{if(!Ne)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(he))}decodeBase64(Je){return atob(Je)}}return Ge.\u0275fac=function(Je){return new(Je||Ge)(e.LFG(de))},Ge.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),He=(()=>{class Ge{constructor(Je){if(this.sw=Je,!Je.isEnabled)return this.versionUpdates=G,this.available=G,this.activated=G,void(this.unrecoverable=G);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,ue.h)(lt=>"VERSION_READY"===lt.type),(0,ne.U)(lt=>({type:"UPDATE_AVAILABLE",current:lt.currentVersion,available:lt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(he));const Je=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Je},Je)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(he));const Je=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Je},Je)}}return Ge.\u0275fac=function(Je){return new(Je||Ge)(e.LFG(de))},Ge.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class Te{}const Me=new e.OlP("NGSW_REGISTER_SCRIPT");function re(Ge,ht,Je,lt){return()=>{if(!(0,n.NF)(lt)||!("serviceWorker"in navigator)||!1===Je.enabled)return;let Ne;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Je.registrationStrategy)Ne=Je.registrationStrategy();else{const[Gt,...Jt]=(Je.registrationStrategy||"registerWhenStable:30000").split(":");switch(Gt){case"registerImmediately":Ne=(0,w.of)(null);break;case"registerWithDelay":Ne=Ie(+Jt[0]||0);break;case"registerWhenStable":Ne=Jt[0]?(0,q.T)(Ce(Ge),Ie(+Jt[0])):Ce(Ge);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Je.registrationStrategy}`)}}Ge.get(e.R0b).runOutsideAngular(()=>Ne.pipe((0,at.q)(1)).subscribe(()=>navigator.serviceWorker.register(ht,{scope:Je.scope}).catch(Gt=>console.error("Service worker registration failed with:",Gt))))}}function Ie(Ge){return(0,w.of)(null).pipe((0,Ve.g)(Ge))}function Ce(Ge){return Ge.get(e.z2F).isStable.pipe((0,ue.h)(Je=>Je))}function we(Ge,ht){return new de((0,n.NF)(ht)&&!1!==Ge.enabled?navigator.serviceWorker:void 0)}let Ae=(()=>{class Ge{static register(Je,lt={}){return{ngModule:Ge,providers:[{provide:Me,useValue:Je},{provide:Te,useValue:lt},{provide:de,useFactory:we,deps:[Te,e.Lbi]},{provide:e.ip1,useFactory:re,deps:[e.zs3,Me,Te,e.Lbi],multi:!0}]}}}return Ge.\u0275fac=function(Je){return new(Je||Ge)},Ge.\u0275mod=e.oAB({type:Ge}),Ge.\u0275inj=e.cJS({providers:[it,He]}),Ge})()},7039:(_e,ie,v)=>{"use strict";v.d(ie,{jq:()=>On,w9:()=>nr,A0:()=>pe});var n=v(4650),e=v(4006),h=v(7625),F=v(7568),S=v(1059),w=v(2994),P=v(13),B=v(2198),Z=v(4850),V=v(6686),J=v(2268);const ne=new class q extends J.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:O}=this;let fe,et=-1,yt=O.length;oe=oe||O.shift();do{if(fe=oe.execute(oe.state,oe.delay))break}while(++et<yt&&(oe=O.shift()));if(this.active=!1,fe){for(;++et<yt&&(oe=O.shift());)oe.unsubscribe();throw fe}}}(class G extends V.o{constructor(oe,O){super(oe,O),this.scheduler=oe,this.work=O}requestAsyncId(oe,O,fe=0){return null!==fe&&fe>0?super.requestAsyncId(oe,O,fe):(oe.actions.push(this),oe.scheduled||(oe.scheduled=requestAnimationFrame(()=>oe.flush(null))))}recycleAsyncId(oe,O,fe=0){if(null!==fe&&fe>0||null===fe&&this.delay>0)return super.recycleAsyncId(oe,O,fe);0===oe.actions.length&&(cancelAnimationFrame(O),oe.scheduled=void 0)}});var ae=v(8139),Ee=v(8929),Ye=v(3753),at=v(6787),ze=v(6895);const Ve=["content"],he=["scroll"],ge=["padding"],de=function(X){return{searchTerm:X}};function it(X,oe){if(1&X&&(n.TgZ(0,"div",6),n.GkF(1,7),n.qZA()),2&X){const O=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",O.headerTemplate)("ngTemplateOutletContext",n.VKq(2,de,O.filterValue))}}function He(X,oe){if(1&X&&(n.TgZ(0,"div",8),n.GkF(1,7),n.qZA()),2&X){const O=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",O.footerTemplate)("ngTemplateOutletContext",n.VKq(2,de,O.filterValue))}}const Te=["*"],Me=["searchInput"];function re(X,oe){if(1&X){const O=n.EpF();n.TgZ(0,"span",15),n.NdJ("click",function(){n.CHM(O);const et=n.oxw().$implicit,yt=n.oxw(2);return n.KtG(yt.unselect(et))}),n._uU(1,"\xd7"),n.qZA(),n._UZ(2,"span",16)}if(2&X){const O=n.oxw().$implicit,fe=n.oxw(2);n.xp6(2),n.Q6J("ngItemLabel",O.label)("escape",fe.escapeHTML)}}function Ie(X,oe){}const Ce=function(X,oe,O){return{item:X,clear:oe,label:O}};function we(X,oe){if(1&X&&(n.TgZ(0,"div",12),n.YNc(1,re,3,2,"ng-template",null,13,n.W1O),n.YNc(3,Ie,0,0,"ng-template",14),n.qZA()),2&X){const O=oe.$implicit,fe=n.MAs(2),et=n.oxw(2);n.ekj("ng-value-disabled",O.disabled),n.xp6(3),n.Q6J("ngTemplateOutlet",et.labelTemplate||fe)("ngTemplateOutletContext",n.kEZ(4,Ce,O.value,et.clearItem,O.label))}}function Ae(X,oe){if(1&X&&(n.ynx(0),n.YNc(1,we,4,8,"div",11),n.BQk()),2&X){const O=n.oxw();n.xp6(1),n.Q6J("ngForOf",O.selectedItems)("ngForTrackBy",O.trackByOption)}}function Ge(X,oe){}const ht=function(X,oe){return{items:X,clear:oe}};function Je(X,oe){if(1&X&&n.YNc(0,Ge,0,0,"ng-template",14),2&X){const O=n.oxw();n.Q6J("ngTemplateOutlet",O.multiLabelTemplate)("ngTemplateOutletContext",n.WLB(2,ht,O.selectedValues,O.clearItem))}}function lt(X,oe){1&X&&n._UZ(0,"div",19)}function Ne(X,oe){}function an(X,oe){if(1&X&&(n.ynx(0),n.YNc(1,lt,1,0,"ng-template",null,17,n.W1O),n.YNc(3,Ne,0,0,"ng-template",18),n.BQk()),2&X){const O=n.MAs(2),fe=n.oxw();n.xp6(3),n.Q6J("ngTemplateOutlet",fe.loadingSpinnerTemplate||O)}}function Gt(X,oe){if(1&X&&(n.TgZ(0,"span",20)(1,"span",21),n._uU(2,"\xd7"),n.qZA()()),2&X){const O=n.oxw();n.s9C("title",O.clearAllText)}}function Jt(X,oe){if(1&X&&n._UZ(0,"span",27),2&X){const O=n.oxw().$implicit,fe=n.oxw(2);n.Q6J("ngItemLabel",O.label)("escape",fe.escapeHTML)}}function ft(X,oe){}const nn=function(X,oe,O,fe){return{item:X,item$:oe,index:O,searchTerm:fe}};function Xt(X,oe){if(1&X){const O=n.EpF();n.TgZ(0,"div",25),n.NdJ("click",function(){const yt=n.CHM(O).$implicit,qt=n.oxw(2);return n.KtG(qt.toggleItem(yt))})("mouseover",function(){const yt=n.CHM(O).$implicit,qt=n.oxw(2);return n.KtG(qt.onItemHover(yt))}),n.YNc(1,Jt,1,2,"ng-template",null,26,n.W1O),n.YNc(3,ft,0,0,"ng-template",14),n.qZA()}if(2&X){const O=oe.$implicit,fe=n.MAs(2),et=n.oxw(2);n.ekj("ng-option-disabled",O.disabled)("ng-option-selected",O.selected)("ng-optgroup",O.children)("ng-option",!O.children)("ng-option-child",!!O.parent)("ng-option-marked",O===et.itemsList.markedItem),n.uIk("role",O.children?"group":"option")("aria-selected",O.selected)("id",null==O?null:O.htmlId),n.xp6(3),n.Q6J("ngTemplateOutlet",O.children?et.optgroupTemplate||fe:et.optionTemplate||fe)("ngTemplateOutletContext",n.l5B(17,nn,O.value,O,O.index,et.searchTerm))}}function Vt(X,oe){if(1&X&&(n.TgZ(0,"span")(1,"span",30),n._uU(2),n.qZA(),n._uU(3),n.qZA()),2&X){const O=n.oxw(3);n.xp6(2),n.Oqu(O.addTagText),n.xp6(1),n.hij('"',O.searchTerm,'"')}}function qe(X,oe){}function rn(X,oe){if(1&X){const O=n.EpF();n.TgZ(0,"div",28),n.NdJ("mouseover",function(){n.CHM(O);const et=n.oxw(2);return n.KtG(et.itemsList.unmarkItem())})("click",function(){n.CHM(O);const et=n.oxw(2);return n.KtG(et.selectTag())}),n.YNc(1,Vt,4,2,"ng-template",null,29,n.W1O),n.YNc(3,qe,0,0,"ng-template",14),n.qZA()}if(2&X){const O=n.MAs(2),fe=n.oxw(2);n.ekj("ng-option-marked",!fe.itemsList.markedItem),n.xp6(3),n.Q6J("ngTemplateOutlet",fe.tagTemplate||O)("ngTemplateOutletContext",n.VKq(4,de,fe.searchTerm))}}function me(X,oe){if(1&X&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&X){const O=n.oxw(3);n.xp6(1),n.Oqu(O.notFoundText)}}function Et(X,oe){}function Ke(X,oe){if(1&X&&(n.ynx(0),n.YNc(1,me,2,1,"ng-template",null,31,n.W1O),n.YNc(3,Et,0,0,"ng-template",14),n.BQk()),2&X){const O=n.MAs(2),fe=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",fe.notFoundTemplate||O)("ngTemplateOutletContext",n.VKq(2,de,fe.searchTerm))}}function jt(X,oe){if(1&X&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&X){const O=n.oxw(3);n.xp6(1),n.Oqu(O.typeToSearchText)}}function wt(X,oe){}function dn(X,oe){if(1&X&&(n.ynx(0),n.YNc(1,jt,2,1,"ng-template",null,33,n.W1O),n.YNc(3,wt,0,0,"ng-template",18),n.BQk()),2&X){const O=n.MAs(2),fe=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",fe.typeToSearchTemplate||O)}}function kt(X,oe){if(1&X&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&X){const O=n.oxw(3);n.xp6(1),n.Oqu(O.loadingText)}}function We(X,oe){}function nt(X,oe){if(1&X&&(n.ynx(0),n.YNc(1,kt,2,1,"ng-template",null,34,n.W1O),n.YNc(3,We,0,0,"ng-template",14),n.BQk()),2&X){const O=n.MAs(2),fe=n.oxw(2);n.xp6(3),n.Q6J("ngTemplateOutlet",fe.loadingTextTemplate||O)("ngTemplateOutletContext",n.VKq(2,de,fe.searchTerm))}}function Nt(X,oe){if(1&X){const O=n.EpF();n.TgZ(0,"ng-dropdown-panel",22),n.NdJ("update",function(et){n.CHM(O);const yt=n.oxw();return n.KtG(yt.viewPortItems=et)})("scroll",function(et){n.CHM(O);const yt=n.oxw();return n.KtG(yt.scroll.emit(et))})("scrollToEnd",function(et){n.CHM(O);const yt=n.oxw();return n.KtG(yt.scrollToEnd.emit(et))})("outsideClick",function(){n.CHM(O);const et=n.oxw();return n.KtG(et.close())}),n.ynx(1),n.YNc(2,Xt,4,22,"div",23),n.YNc(3,rn,4,6,"div",24),n.BQk(),n.YNc(4,Ke,4,4,"ng-container",3),n.YNc(5,dn,4,1,"ng-container",3),n.YNc(6,nt,4,4,"ng-container",3),n.qZA()}if(2&X){const O=n.oxw();n.ekj("ng-select-multiple",O.multiple),n.Q6J("virtualScroll",O.virtualScroll)("bufferAmount",O.bufferAmount)("appendTo",O.appendTo)("position",O.dropdownPosition)("headerTemplate",O.headerTemplate)("footerTemplate",O.footerTemplate)("filterValue",O.searchTerm)("items",O.itemsList.filteredItems)("markedItem",O.itemsList.markedItem)("ngClass",O.appendTo?O.classes:null)("id",O.dropdownId),n.xp6(2),n.Q6J("ngForOf",O.viewPortItems)("ngForTrackBy",O.trackByOption),n.xp6(1),n.Q6J("ngIf",O.showAddTag),n.xp6(1),n.Q6J("ngIf",O.showNoItemsFound()),n.xp6(1),n.Q6J("ngIf",O.showTypeToSearch()),n.xp6(1),n.Q6J("ngIf",O.loading&&0===O.itemsList.filteredItems.length)}}const Pt=/[&<>"']/g,un=RegExp(Pt.source),bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ue(X){return null!=X}function ke(X){return"object"==typeof X&&Ue(X)}function vt(X){return X instanceof Function}let en=(()=>{class X{constructor(O){this.element=O,this.escape=!0}ngOnChanges(O){this.element.nativeElement.innerHTML=this.escape?function _t(X){return X&&un.test(X)?X.replace(Pt,oe=>bn[oe]):X}(this.ngItemLabel):this.ngItemLabel}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.SBq))},X.\u0275dir=n.lG2({type:X,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[n.TTD]}),X})(),Yt=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-option-tmp",""]]}),X})(),vn=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-optgroup-tmp",""]]}),X})(),Kt=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-label-tmp",""]]}),X})(),Re=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-multi-label-tmp",""]]}),X})(),Dt=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-header-tmp",""]]}),X})(),De=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-footer-tmp",""]]}),X})(),tt=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-notfound-tmp",""]]}),X})(),Ut=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-typetosearch-tmp",""]]}),X})(),Xe=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-loadingtext-tmp",""]]}),X})(),At=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-tag-tmp",""]]}),X})(),Tt=(()=>{class X{constructor(O){this.template=O}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Rgc))},X.\u0275dir=n.lG2({type:X,selectors:[["","ng-loadingspinner-tmp",""]]}),X})();function Ot(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const ln={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Ht(X){return X.replace(/[^\u0000-\u007E]/g,O=>ln[O]||O)}class dt{constructor(oe,O){this._ngSelect=oe,this._selectionModel=O,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let oe=this.selectedItems.length-1;for(;oe>=0;oe--){const O=this.selectedItems[oe];if(!O.disabled)return O}return null}setItems(oe){this._items=oe.map((O,fe)=>this.mapItem(O,fe)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(oe){if(oe.selected||this.maxItemsSelected)return;const O=this._ngSelect.multiple;O||this.clearSelected(),this._selectionModel.select(oe,O,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(oe)}unselect(oe){!oe.selected||(this._selectionModel.unselect(oe,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ue(oe.index)&&this._ngSelect.multiple&&this._showSelected(oe))}findItem(oe){let O;return O=this._ngSelect.compareWith?fe=>this._ngSelect.compareWith(fe.value,oe):this._ngSelect.bindValue?fe=>!fe.children&&this.resolveNested(fe.value,this._ngSelect.bindValue)===oe:fe=>fe.value===oe||!fe.children&&fe.label&&fe.label===this.resolveNested(oe,this._ngSelect.bindLabel),this._items.find(fe=>O(fe))}addItem(oe){const O=this.mapItem(oe,this._items.length);return this._items.push(O),this._filteredItems.push(O),O}clearSelected(oe=!1){this._selectionModel.clear(oe),this._items.forEach(O=>{O.selected=oe&&O.selected&&O.disabled,O.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(oe){return oe=Ht(oe).toLocaleLowerCase(),this.filteredItems.find(O=>Ht(O.label).toLocaleLowerCase().substr(0,oe.length)===oe)}filter(oe){if(!oe)return void this.resetFilteredItems();this._filteredItems=[],oe=this._ngSelect.searchFn?oe:Ht(oe).toLocaleLowerCase();const O=this._ngSelect.searchFn||this._defaultSearchFn,fe=this._ngSelect.hideSelected;for(const et of Array.from(this._groups.keys())){const yt=[];for(const qt of this._groups.get(et))fe&&(qt.parent&&qt.parent.selected||qt.selected)||O(oe,this._ngSelect.searchFn?qt.value:qt)&&yt.push(qt);if(yt.length>0){const[qt]=yt.slice(-1);if(qt.parent){const Qt=this._items.find(Bn=>Bn===qt.parent);this._filteredItems.push(Qt)}this._filteredItems.push(...yt)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(oe=>!oe.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(oe){this._markedIndex=this._filteredItems.indexOf(oe)}markSelectedOrDefault(oe){if(0===this._filteredItems.length)return;const O=this._getLastMarkedIndex();this._markedIndex=O>-1?O:oe?this.filteredItems.findIndex(fe=>!fe.disabled):-1}resolveNested(oe,O){if(!ke(oe))return oe;if(-1===O.indexOf("."))return oe[O];{const fe=O.split(".");let et=oe;for(let yt=0,qt=fe.length;yt<qt;++yt){if(null==et)return null;et=et[fe[yt]]}return et}}mapItem(oe,O){const fe=Ue(oe.$ngOptionLabel)?oe.$ngOptionLabel:this.resolveNested(oe,this._ngSelect.bindLabel),et=Ue(oe.$ngOptionValue)?oe.$ngOptionValue:oe;return{index:O,label:Ue(fe)?fe.toString():"",value:et,disabled:oe.disabled,htmlId:`${this._ngSelect.dropdownId}-${O}`}}mapSelectedItems(){const oe=this._ngSelect.multiple;for(const O of this.selectedItems){const fe=this._ngSelect.bindValue?this.resolveNested(O.value,this._ngSelect.bindValue):O.value,et=Ue(fe)?this.findItem(fe):null;this._selectionModel.unselect(O,oe),this._selectionModel.select(et||O,oe,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(O=>-1===this.selectedItems.indexOf(O)))}_showSelected(oe){if(this._filteredItems.push(oe),oe.parent){const O=oe.parent;this._filteredItems.find(et=>et===O)||this._filteredItems.push(O)}else if(oe.children)for(const O of oe.children)O.selected=!1,this._filteredItems.push(O);this._filteredItems=[...this._filteredItems.sort((O,fe)=>O.index-fe.index)]}_hideSelected(oe){this._filteredItems=this._filteredItems.filter(O=>O!==oe),oe.parent?oe.parent.children.every(fe=>fe.selected)&&(this._filteredItems=this._filteredItems.filter(fe=>fe!==oe.parent)):oe.children&&(this._filteredItems=this.filteredItems.filter(O=>O.parent!==oe))}_defaultSearchFn(oe,O){return Ht(O.label).toLocaleLowerCase().indexOf(oe)>-1}_getNextItemIndex(oe){return oe>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(oe){0===this._filteredItems.length||this._filteredItems.every(O=>O.disabled)||(this._markedIndex=this._getNextItemIndex(oe),this.markedItem.disabled&&this._stepToItem(oe))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const oe=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&oe<0?-1:Math.max(this.markedIndex,oe)}_groupBy(oe,O){const fe=new Map;if(0===oe.length)return fe;if(Array.isArray(oe[0].value[O])){for(const qt of oe){const Qt=(qt.value[O]||[]).map((Bn,Rn)=>this.mapItem(Bn,Rn));fe.set(qt,Qt)}return fe}const et=vt(this._ngSelect.groupBy),yt=qt=>{const Qt=et?O(qt.value):qt.value[O];return Ue(Qt)?Qt:void 0};for(const qt of oe){const Qt=yt(qt),Bn=fe.get(Qt);Bn?Bn.push(qt):fe.set(Qt,[qt])}return fe}_flatten(oe){const O=vt(this._ngSelect.groupBy),fe=[];for(const et of Array.from(oe.keys())){let yt=fe.length;if(void 0===et){const Hn=oe.get(void 0)||[];fe.push(...Hn.map(wn=>(wn.index=yt++,wn)));continue}const qt=ke(et),Qt={label:qt?"":String(et),children:void 0,parent:null,index:yt++,disabled:!this._ngSelect.selectableGroup,htmlId:Ot()},Bn=O?this._ngSelect.bindLabel:this._ngSelect.groupBy,Rn=this._ngSelect.groupValue||(()=>qt?et.value:{[Bn]:et}),yr=oe.get(et).map(Hn=>(Hn.parent=Qt,Hn.children=void 0,Hn.index=yt++,Hn));Qt.children=yr,Qt.value=Rn(et,yr.map(Hn=>Hn.value)),fe.push(Qt),fe.push(...yr)}return fe}}var In=(()=>{return(X=In||(In={}))[X.Tab=9]="Tab",X[X.Enter=13]="Enter",X[X.Esc=27]="Esc",X[X.Space=32]="Space",X[X.ArrowUp=38]="ArrowUp",X[X.ArrowDown=40]="ArrowDown",X[X.Backspace=8]="Backspace",In;var X})();let Vn=(()=>{class X{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(O,fe,et){const yt=this._dimensions,qt=yt.itemHeight*fe,Bn=Math.max(0,O)/qt*fe;let Rn=Math.min(fe,Math.ceil(Bn)+(yt.itemsPerViewport+1));const Hn=Math.max(0,Rn-yt.itemsPerViewport);let wn=Math.min(Hn,Math.floor(Bn)),Wn=yt.itemHeight*Math.ceil(wn)-yt.itemHeight*Math.min(wn,et);return Wn=isNaN(Wn)?0:Wn,wn=isNaN(wn)?-1:wn,Rn=isNaN(Rn)?-1:Rn,wn-=et,wn=Math.max(0,wn),Rn+=et,Rn=Math.min(fe,Rn),{topPadding:Wn,scrollHeight:qt,start:wn,end:Rn}}setDimensions(O,fe){const et=Math.max(1,Math.floor(fe/O));this._dimensions={itemHeight:O,panelHeight:fe,itemsPerViewport:et}}getScrollTo(O,fe,et){const{panelHeight:yt}=this.dimensions,qt=O+fe,Bn=et+yt;return yt>=qt&&et===O?null:qt>Bn?et+qt-Bn:O<=et?O:null}}return X.\u0275fac=function(O){return new(O||X)},X.\u0275prov=n.Yz7({token:X,factory:X.\u0275fac}),X})();const Nn=["top","right","bottom","left"],ur=typeof requestAnimationFrame<"u"?ne:ae.E;let yn=(()=>{class X{constructor(O,fe,et,yt,qt){this._renderer=O,this._zone=fe,this._panelService=et,this._document=qt,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new n.vpe,this.scroll=new n.vpe,this.scrollToEnd=new n.vpe,this.outsideClick=new n.vpe,this._destroy$=new Ee.xQ,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=yt.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(O){O!==this._itemsLength&&(this._itemsLength=O,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:O,panelHeight:fe}=this._panelService.dimensions,et=this.markedItem.index*O;return fe>et?0:et}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(O){if(O.items){const fe=O.items;this._onItemsChange(fe.currentValue,fe.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(O,fe=!1){if(!O)return;const et=this.items.indexOf(O);if(et<0||et>=this.itemsLength)return;let yt;if(this.virtualScroll){const qt=this._panelService.dimensions.itemHeight;yt=this._panelService.getScrollTo(et*qt,qt,this._lastScrollPosition)}else{const qt=this._dropdown.querySelector(`#${O.htmlId}`);yt=this._panelService.getScrollTo(qt.offsetTop,qt.clientHeight,fe?qt.offsetTop:this._lastScrollPosition)}Ue(yt)&&(this._scrollablePanel.scrollTop=yt)}scrollToTag(){const O=this._scrollablePanel;O.scrollTop=O.scrollHeight-O.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Nn.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(O){Nn.forEach(et=>{const yt=`ng-select-${et}`;this._renderer.removeClass(this._dropdown,yt),this._renderer.removeClass(this._select,yt)});const fe=`ng-select-${O}`;this._renderer.addClass(this._dropdown,fe),this._renderer.addClass(this._select,fe)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,Ye.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,h.R)(this._destroy$),(0,F.e)(0,ur)).subscribe(O=>{const fe=O.path||O.composedPath&&O.composedPath();this._onContentScrolled(fe&&0!==fe.length?fe[0].scrollTop:O.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,at.T)((0,Ye.R)(this._document,"touchstart",{capture:!0}),(0,Ye.R)(this._document,"mousedown",{capture:!0})).pipe((0,h.R)(this._destroy$)).subscribe(O=>this._checkToClose(O))})}_checkToClose(O){if(this._select.contains(O.target)||this._dropdown.contains(O.target))return;const fe=O.path||O.composedPath&&O.composedPath();O.target&&O.target.shadowRoot&&fe&&fe[0]&&this._select.contains(fe[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(O,fe){this.items=O||[],this._scrollToEndFired=!1,this.itemsLength=O.length,this.virtualScroll?this._updateItemsRange(fe):(this._setVirtualHeight(),this._updateItems(fe))}_updateItems(O){this.update.emit(this.items),!1!==O&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,O)})})}_updateItemsRange(O){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{O?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(O){this.virtualScroll&&this._renderItemsRange(O),this._lastScrollPosition=O,this._fireScrollToEnd(O)}_updateVirtualHeight(O){this._updateScrollHeight&&(this._virtualPadding.style.height=`${O}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(O=null){if(O&&this._lastScrollPosition===O)return;const fe=this._panelService.calculateItems(O=O||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(fe.scrollHeight),this._contentPanel.style.transform=`translateY(${fe.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(fe.start,fe.end)),this.scroll.emit({start:fe.start,end:fe.end})}),Ue(O)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=O,this._lastScrollPosition=O)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[O]=this.items;return this.update.emit([O]),Promise.resolve().then(()=>{const et=this._dropdown.querySelector(`#${O.htmlId}`).clientHeight;return this._virtualPadding.style.height=et*this.itemsLength+"px",this._panelService.setDimensions(et,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(O){this._scrollToEndFired||0===O||O+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(O){if("auto"!==this.position)return this.position;const fe=this._select.getBoundingClientRect(),et=document.documentElement.scrollTop||document.body.scrollTop;return fe.top+window.pageYOffset+fe.height+O.getBoundingClientRect().height>et+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const O=this._select.getBoundingClientRect(),fe=this._parent.getBoundingClientRect();this._dropdown.style.left=O.left-fe.left+"px",this._dropdown.style.width=O.width+"px",this._dropdown.style.minWidth=O.width+"px"}_updateYPosition(){const O=this._select.getBoundingClientRect(),fe=this._parent.getBoundingClientRect(),et=O.height;"top"===this._currentPosition?(this._dropdown.style.bottom=fe.bottom-O.bottom+et+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=O.top-fe.top+et+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,Ye.R)(this._dropdown,"mousedown").pipe((0,h.R)(this._destroy$)).subscribe(O=>{"INPUT"!==O.target.tagName&&O.preventDefault()})})}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.Qsj),n.Y36(n.R0b),n.Y36(Vn),n.Y36(n.SBq),n.Y36(ze.K0,8))},X.\u0275cmp=n.Xpm({type:X,selectors:[["ng-dropdown-panel"]],viewQuery:function(O,fe){if(1&O&&(n.Gf(Ve,7,n.SBq),n.Gf(he,7,n.SBq),n.Gf(ge,7,n.SBq)),2&O){let et;n.iGM(et=n.CRH())&&(fe.contentElementRef=et.first),n.iGM(et=n.CRH())&&(fe.scrollElementRef=et.first),n.iGM(et=n.CRH())&&(fe.paddingElementRef=et.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[n.TTD],ngContentSelectors:Te,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(O,fe){1&O&&(n.F$t(),n.YNc(0,it,2,4,"div",0),n.TgZ(1,"div",1,2),n._UZ(3,"div",null,3),n.TgZ(5,"div",null,4),n.Hsn(7),n.qZA()(),n.YNc(8,He,2,4,"div",5)),2&O&&(n.Q6J("ngIf",fe.headerTemplate),n.xp6(3),n.ekj("total-padding",fe.virtualScroll),n.xp6(2),n.ekj("scrollable-content",fe.virtualScroll&&fe.items.length),n.xp6(3),n.Q6J("ngIf",fe.footerTemplate))},dependencies:[ze.O5,ze.tP],encapsulation:2,changeDetection:0}),X})(),On=(()=>{class X{constructor(O){this.elementRef=O,this.stateChange$=new Ee.xQ,this._disabled=!1}get disabled(){return this._disabled}set disabled(O){this._disabled=this._isDisabled(O)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(O){O.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(O){return null!=O&&"false"!=`${O}`}}return X.\u0275fac=function(O){return new(O||X)(n.Y36(n.SBq))},X.\u0275cmp=n.Xpm({type:X,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[n.TTD],ngContentSelectors:Te,decls:1,vars:0,template:function(O,fe){1&O&&(n.F$t(),n.Hsn(0))},encapsulation:2,changeDetection:0}),X})(),Ln=(()=>{class X{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return X.\u0275fac=function(O){return new(O||X)},X.\u0275prov=n.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),Qn=(()=>{class X{warn(O){console.warn(O)}}return X.\u0275fac=function(O){return new(O||X)},X.\u0275prov=n.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const lr=new n.OlP("ng-select-selection-model");let nr=(()=>{class X{constructor(O,fe,et,yt,qt,Qt,Bn){this.classes=O,this.autoFocus=fe,this.config=et,this._cd=Qt,this._console=Bn,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=Rn=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new n.vpe,this.focusEvent=new n.vpe,this.changeEvent=new n.vpe,this.openEvent=new n.vpe,this.closeEvent=new n.vpe,this.searchEvent=new n.vpe,this.clearEvent=new n.vpe,this.addEvent=new n.vpe,this.removeEvent=new n.vpe,this.scroll=new n.vpe,this.scrollToEnd=new n.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Ot(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Ee.xQ,this._keyPress$=new Ee.xQ,this._onChange=Rn=>{},this._onTouched=()=>{},this.clearItem=Rn=>{const yr=this.selectedItems.find(Hn=>Hn.value===Rn);this.unselect(yr)},this.trackByOption=(Rn,yr)=>this.trackByFn?this.trackByFn(yr.value):yr,this._mergeGlobalConfig(et),this.itemsList=new dt(this,yt()),this.element=qt.nativeElement}get items(){return this._items}set items(O){null===O&&(O=[]),this._itemsAreUsed=!0,this._items=O}get compareWith(){return this._compareWith}set compareWith(O){if(null!=O&&!vt(O))throw Error("`compareWith` must be a function.");this._compareWith=O}get clearSearchOnAdd(){return Ue(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ue(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(O){this._clearSearchOnAdd=O}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(O=>O.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(O){O.multiple&&this.itemsList.clearSelected(),O.items&&this._setItems(O.items.currentValue||[]),O.isOpen&&(this._manualOpen=Ue(O.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ue(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(O){if(In[O.which]){if(!1===this.keyDownFn(O))return;this.handleKeyCode(O)}else O.key&&1===O.key.length&&this._keyPress$.next(O.key.toLocaleLowerCase())}handleKeyCode(O){switch(O.which){case In.ArrowDown:this._handleArrowDown(O);break;case In.ArrowUp:this._handleArrowUp(O);break;case In.Space:this._handleSpace(O);break;case In.Enter:this._handleEnter(O);break;case In.Tab:this._handleTab(O);break;case In.Esc:this.close(),O.preventDefault();break;case In.Backspace:this._handleBackspace()}}handleMousedown(O){const fe=O.target;"INPUT"!==fe.tagName&&O.preventDefault(),fe.classList.contains("ng-clear-wrapper")?this.handleClearClick():fe.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():fe.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(O){this.itemsList.clearSelected(),this._handleWriteValue(O),this._cd.markForCheck()}registerOnChange(O){this._onChange=O}registerOnTouched(O){this._onTouched=O}setDisabledState(O){this._disabled=O,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(O){!O||O.disabled||this.disabled||(this.multiple&&O.selected?this.unselect(O):this.select(O),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(O){O.selected||(this.itemsList.select(O),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(O.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(O){!O||(this.itemsList.unselect(O),this.focus(),this._updateNgModel(),this.removeEvent.emit(O))}selectTag(){let O;O=vt(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const fe=et=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(et,null):this.itemsList.addItem(et);!function mt(X){return X instanceof Promise}(O)?O&&this.select(fe(O)):O.then(et=>this.select(fe(et))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const O=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(fe=>fe.label.toLowerCase()===O)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(fe=>fe.label.toLowerCase()===O))&&!this.loading}showNoItemsFound(){const O=0===this.itemsList.filteredItems.length;return(O&&!this._isTypeahead&&!this.loading||O&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(O){this._isComposing=!1,!this.searchWhileComposing&&this.filter(O)}filter(O){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=O,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(O),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:O,items:this.itemsList.filteredItems.map(fe=>fe.value)}),this.open())}onInputFocus(O){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(O),this.focused=!0)}onInputBlur(O){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(O),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(O){O.disabled||this.itemsList.markItem(O)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const O=this.selectedItems&&this.selectedItems[0];this.searchTerm=O&&O.label||null}_setItems(O){const fe=O[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ue(fe)?!ke(fe):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(O),O.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ue(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const O=et=>{this.items=et.map(yt=>({$ngOptionValue:yt.value,$ngOptionLabel:yt.elementRef.nativeElement.innerHTML,disabled:yt.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},fe=()=>{const et=(0,at.T)(this.ngOptions.changes,this._destroy$);(0,at.T)(...this.ngOptions.map(yt=>yt.stateChange$)).pipe((0,h.R)(et)).subscribe(yt=>{const qt=this.itemsList.findItem(yt.value);qt.disabled=yt.disabled,qt.label=yt.label||qt.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,S.O)(this.ngOptions),(0,h.R)(this._destroy$)).subscribe(et=>{this.bindLabel=this._defaultLabel,O(et),fe()})}_isValidWriteValue(O){if(!Ue(O)||this.multiple&&""===O||Array.isArray(O)&&0===O.length)return!1;const fe=et=>!(!Ue(this.compareWith)&&ke(et)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(et)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(O)?O.every(et=>fe(et)):(this._console.warn("Multiple select ngModel should be array."),!1):fe(O)}_handleWriteValue(O){if(!this._isValidWriteValue(O))return;const fe=et=>{let yt=this.itemsList.findItem(et);if(yt)this.itemsList.select(yt);else{const qt=ke(et),Qt=!qt&&!this.bindValue;qt||Qt?this.itemsList.select(this.itemsList.mapItem(et,null)):this.bindValue&&(yt={[this.bindLabel]:null,[this.bindValue]:et},this.itemsList.select(this.itemsList.mapItem(yt,null)))}};this.multiple?O.forEach(et=>fe(et)):fe(O)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,h.R)(this._destroy$),(0,w.b)(O=>this._pressedKeys.push(O)),(0,P.b)(200),(0,B.h)(()=>this._pressedKeys.length>0),(0,Z.U)(()=>this._pressedKeys.join(""))).subscribe(O=>{const fe=this.itemsList.findByLabel(O);fe&&(this.isOpen?(this.itemsList.markItem(fe),this._scrollToMarked(),this._cd.markForCheck()):this.select(fe)),this._pressedKeys=[]})}_setInputAttributes(){const O=this.searchInput.nativeElement,fe={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const et of Object.keys(fe))O.setAttribute(et,fe[et])}_updateNgModel(){const O=[];for(const et of this.selectedItems)if(this.bindValue){let yt=null;yt=et.children?et.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(et.value,this.bindValue),O.push(yt)}else O.push(et.value);const fe=this.selectedItems.map(et=>et.value);this.multiple?(this._onChange(O),this.changeEvent.emit(fe)):(this._onChange(Ue(O[0])?O[0]:null),this.changeEvent.emit(fe[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(O){this.searchTerm=O,this._isTypeahead&&this.typeahead.next(O)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(O){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),O.preventDefault()):this.showAddTag?(this.selectTag(),O.preventDefault()):this.close():this.close())}_handleEnter(O){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}O.preventDefault()}_handleSpace(O){this.isOpen||this._manualOpen||(this.open(),O.preventDefault())}_handleArrowDown(O){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),O.preventDefault()}_handleArrowUp(O){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),O.preventDefault())}_nextItemIsTag(O){const fe=this.itemsList.markedIndex+O;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(fe<0||fe===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const O=this.searchTerm&&this.searchTerm.trim();return O&&O.length>=this.minTermLength}_mergeGlobalConfig(O){this.placeholder=this.placeholder||O.placeholder,this.notFoundText=this.notFoundText||O.notFoundText,this.typeToSearchText=this.typeToSearchText||O.typeToSearchText,this.addTagText=this.addTagText||O.addTagText,this.loadingText=this.loadingText||O.loadingText,this.clearAllText=this.clearAllText||O.clearAllText,this.virtualScroll=Ue(this.virtualScroll)?this.virtualScroll:!!Ue(O.disableVirtualScroll)&&!O.disableVirtualScroll,this.openOnEnter=Ue(this.openOnEnter)?this.openOnEnter:O.openOnEnter,this.appendTo=this.appendTo||O.appendTo,this.bindValue=this.bindValue||O.bindValue,this.bindLabel=this.bindLabel||O.bindLabel,this.appearance=this.appearance||O.appearance}}return X.\u0275fac=function(O){return new(O||X)(n.$8M("class"),n.$8M("autofocus"),n.Y36(Ln),n.Y36(lr),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(Qn))},X.\u0275cmp=n.Xpm({type:X,selectors:[["ng-select"]],contentQueries:function(O,fe,et){if(1&O&&(n.Suo(et,Yt,5,n.Rgc),n.Suo(et,vn,5,n.Rgc),n.Suo(et,Kt,5,n.Rgc),n.Suo(et,Re,5,n.Rgc),n.Suo(et,Dt,5,n.Rgc),n.Suo(et,De,5,n.Rgc),n.Suo(et,tt,5,n.Rgc),n.Suo(et,Ut,5,n.Rgc),n.Suo(et,Xe,5,n.Rgc),n.Suo(et,At,5,n.Rgc),n.Suo(et,Tt,5,n.Rgc),n.Suo(et,On,5)),2&O){let yt;n.iGM(yt=n.CRH())&&(fe.optionTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.optgroupTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.labelTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.multiLabelTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.headerTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.footerTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.notFoundTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.typeToSearchTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.loadingTextTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.tagTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.loadingSpinnerTemplate=yt.first),n.iGM(yt=n.CRH())&&(fe.ngOptions=yt)}},viewQuery:function(O,fe){if(1&O&&(n.Gf(yn,5),n.Gf(Me,7)),2&O){let et;n.iGM(et=n.CRH())&&(fe.dropdownPanel=et.first),n.iGM(et=n.CRH())&&(fe.searchInput=et.first)}},hostVars:20,hostBindings:function(O,fe){1&O&&n.NdJ("keydown",function(yt){return fe.handleKeyDown(yt)}),2&O&&n.ekj("ng-select-typeahead",fe.typeahead)("ng-select-multiple",fe.multiple)("ng-select-taggable",fe.addTag)("ng-select-searchable",fe.searchable)("ng-select-clearable",fe.clearable)("ng-select-opened",fe.isOpen)("ng-select",fe.useDefaultClass)("ng-select-disabled",fe.disabled)("ng-select-filtered",fe.filtered)("ng-select-single",fe.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[n._Bn([{provide:e.JU,useExisting:(0,n.Gpc)(()=>X),multi:!0},Vn]),n.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(O,fe){if(1&O){const et=n.EpF();n.TgZ(0,"div",0),n.NdJ("mousedown",function(qt){return fe.handleMousedown(qt)}),n.TgZ(1,"div",1)(2,"div",2),n._uU(3),n.qZA(),n.YNc(4,Ae,2,2,"ng-container",3),n.YNc(5,Je,1,5,null,3),n.TgZ(6,"div",4)(7,"input",5,6),n.NdJ("input",function(){n.CHM(et);const qt=n.MAs(8);return n.KtG(fe.filter(qt.value))})("compositionstart",function(){return fe.onCompositionStart()})("compositionend",function(){n.CHM(et);const qt=n.MAs(8);return n.KtG(fe.onCompositionEnd(qt.value))})("focus",function(qt){return fe.onInputFocus(qt)})("blur",function(qt){return fe.onInputBlur(qt)})("change",function(qt){return qt.stopPropagation()}),n.qZA()()(),n.YNc(9,an,4,1,"ng-container",3),n.YNc(10,Gt,3,1,"span",7),n.TgZ(11,"span",8),n._UZ(12,"span",9),n.qZA()(),n.YNc(13,Nt,7,19,"ng-dropdown-panel",10)}2&O&&(n.ekj("ng-appearance-outline","outline"===fe.appearance)("ng-has-value",fe.hasValue),n.xp6(3),n.Oqu(fe.placeholder),n.xp6(1),n.Q6J("ngIf",(!fe.multiLabelTemplate||!fe.multiple)&&fe.selectedItems.length>0),n.xp6(1),n.Q6J("ngIf",fe.multiple&&fe.multiLabelTemplate&&fe.selectedValues.length>0),n.xp6(1),n.uIk("aria-expanded",fe.isOpen)("aria-owns",fe.isOpen?fe.dropdownId:null),n.xp6(1),n.Q6J("readOnly",!fe.searchable||fe.itemsList.maxItemsSelected)("disabled",fe.disabled)("value",fe.searchTerm?fe.searchTerm:""),n.uIk("id",fe.labelForId)("tabindex",fe.tabIndex)("aria-activedescendant",fe.isOpen?null==fe.itemsList||null==fe.itemsList.markedItem?null:fe.itemsList.markedItem.htmlId:null)("aria-controls",fe.isOpen?fe.dropdownId:null),n.xp6(2),n.Q6J("ngIf",fe.loading),n.xp6(1),n.Q6J("ngIf",fe.showClear()),n.xp6(3),n.Q6J("ngIf",fe.isOpen))},dependencies:[ze.mk,ze.sg,ze.O5,ze.tP,yn,en],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),X})();function Oe(){return new Fe}class Fe{constructor(){this._selected=[]}get value(){return this._selected}select(oe,O,fe){if(oe.selected=!0,(!oe.children||!O&&fe)&&this._selected.push(oe),O)if(oe.parent){const et=oe.parent.children.length,yt=oe.parent.children.filter(qt=>qt.selected).length;oe.parent.selected=et===yt}else oe.children&&(this._setChildrenSelectedState(oe.children,!0),this._removeChildren(oe),this._selected=fe&&this._activeChildren(oe)?[...this._selected.filter(et=>et.parent!==oe),oe]:[...this._selected,...oe.children.filter(et=>!et.disabled)])}unselect(oe,O){if(this._selected=this._selected.filter(fe=>fe!==oe),oe.selected=!1,O)if(oe.parent&&oe.parent.selected){const fe=oe.parent.children;this._removeParent(oe.parent),this._removeChildren(oe.parent),this._selected.push(...fe.filter(et=>et!==oe&&!et.disabled)),oe.parent.selected=!1}else oe.children&&(this._setChildrenSelectedState(oe.children,!1),this._removeChildren(oe))}clear(oe){this._selected=oe?this._selected.filter(O=>O.disabled):[]}_setChildrenSelectedState(oe,O){for(const fe of oe)fe.disabled||(fe.selected=O)}_removeChildren(oe){this._selected=[...this._selected.filter(O=>O.parent!==oe),...oe.children.filter(O=>O.parent===oe&&O.disabled&&O.selected)]}_removeParent(oe){this._selected=this._selected.filter(O=>O!==oe)}_activeChildren(oe){return oe.children.every(O=>!O.disabled||O.selected)}}let pe=(()=>{class X{}return X.\u0275fac=function(O){return new(O||X)},X.\u0275mod=n.oAB({type:X}),X.\u0275inj=n.cJS({providers:[{provide:lr,useValue:Oe}],imports:[ze.ez]}),X})()},5024:(_e,ie,v)=>{"use strict";v.d(ie,{eX:()=>Gt,Qm:()=>Ie,sQ:()=>vn,GW:()=>He,l4:()=>Jt});var n=v(8555),e=v(6787),h=v(6498),F=v(8929),S=v(3489);class P{call(At,Tt){return Tt.subscribe(new B(At))}}class B extends S.L{_next(At){}}var Z=v(9312);class G{call(At,Tt){return Tt.subscribe(new J(At))}}class J extends S.L{constructor(At){super(At)}_next(At){this.destination.next(Z.P.createNext(At))}_error(At){const Tt=this.destination;Tt.next(Z.P.createError(At)),Tt.complete()}_complete(){const At=this.destination;At.next(Z.P.createComplete()),At.complete()}}var q=v(4850),ne=v(7221),ue=v(2198),ae=v(4002),Ee=v(1709),Ye=v(8807);class ze{call(At,Tt){return Tt.subscribe(new Ve(At))}}class Ve extends S.L{constructor(At){super(At)}_next(At){At.observe(this.destination)}}var he=v(2986),ge=v(4650);const de={dispatch:!0,useEffectsErrorHandler:!0},it="__@ngrx/effects_create__";function He(Xe,At){const Tt=Xe(),Ot={...de,...At};return Object.defineProperty(Tt,it,{value:Ot}),Tt}function Te(Xe){return Object.getOwnPropertyNames(Xe).filter(Ot=>!(!Xe[Ot]||!Xe[Ot].hasOwnProperty(it))&&Xe[Ot][it].hasOwnProperty("dispatch")).map(Ot=>({propertyName:Ot,...Xe[Ot][it]}))}function Me(Xe){return Object.getPrototypeOf(Xe)}const re="__@ngrx/effects__";function Ie(Xe={}){return function(At,Tt){!function Ae(Xe,At){we(Xe)?Xe.constructor[re].push(At):Object.defineProperty(Xe.constructor,re,{value:[At]})}(At,{...de,...Xe,propertyName:Tt})}}function Ce(Xe){return(0,n.qC)(Ge,Me)(Xe)}function we(Xe){return Xe.constructor.hasOwnProperty(re)}function Ge(Xe){return we(Xe)?Xe.constructor[re]:[]}function lt(Xe,At,Tt){const Ot=Me(Xe).constructor.name,ln=function Je(Xe){return[Ce,Te].reduce((Tt,Ot)=>Tt.concat(Ot(Xe)),[])}(Xe).map(({propertyName:Ht,dispatch:dt,useEffectsErrorHandler:In})=>{const Vn="function"==typeof Xe[Ht]?Xe[Ht]():Xe[Ht],Nn=In?Tt(Vn,At):Vn;return!1===dt?Nn.pipe(function w(){return function(At){return At.lift(new P)}}()):Nn.pipe(function V(){return function(At){return At.lift(new G)}}()).pipe((0,q.U)(yn=>({effect:Xe[Ht],notification:yn,propertyName:Ht,sourceName:Ot,sourceInstance:Xe})))});return(0,e.T)(...ln)}function an(Xe,At,Tt=10){return Xe.pipe((0,ne.K)(Ot=>(At&&At.handleError(Ot),Tt<=1?Xe:an(Xe,At,Tt-1))))}let Gt=(()=>{class Xe extends h.y{constructor(Tt){super(),Tt&&(this.source=Tt)}lift(Tt){const Ot=new Xe;return Ot.source=this,Ot.operator=Tt,Ot}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)(ge.LFG(n.Y$))},Xe.\u0275prov=ge.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();function Jt(...Xe){return(0,ue.h)(At=>Xe.some(Tt=>"string"==typeof Tt?Tt===At.type:Tt.type===At.type))}const ft=new ge.OlP("@ngrx/effects Internal Root Guard"),nn=new ge.OlP("@ngrx/effects User Provided Effects"),Xt=new ge.OlP("@ngrx/effects Internal Root Effects"),Vt=new ge.OlP("@ngrx/effects Root Effects"),qe=new ge.OlP("@ngrx/effects Internal Feature Effects"),rn=new ge.OlP("@ngrx/effects Feature Effects"),me=new ge.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>an}),Et="@ngrx/effects/init";function bn(Xe){return _t(Xe,"ngrxOnInitEffects")}function _t(Xe,At){return Xe&&At in Xe&&"function"==typeof Xe[At]}(0,n.PH)(Et);let Ue=(()=>{class Xe extends F.xQ{constructor(Tt,Ot){super(),this.errorHandler=Tt,this.effectsErrorHandler=Ot}addEffects(Tt){this.next(Tt)}toActions(){return this.pipe((0,ae.v)(Me),(0,Ee.zg)(Tt=>Tt.pipe((0,ae.v)(ke))),(0,Ee.zg)(Tt=>{const Ot=Tt.pipe((0,Ye.z)(Ht=>function mt(Xe,At){return Tt=>{const Ot=lt(Tt,Xe,At);return function Pt(Xe){return _t(Xe,"ngrxOnRunEffects")}(Tt)?Tt.ngrxOnRunEffects(Ot):Ot}}(this.errorHandler,this.effectsErrorHandler)(Ht)),(0,q.U)(Ht=>(function jt(Xe,At){if("N"===Xe.notification.kind){const Tt=Xe.notification.value;!function wt(Xe){return"function"!=typeof Xe&&Xe&&Xe.type&&"string"==typeof Xe.type}(Tt)&&At.handleError(new Error(`Effect ${function dn({propertyName:Xe,sourceInstance:At,sourceName:Tt}){const Ot="function"==typeof At[Xe];return`"${Tt}.${String(Xe)}${Ot?"()":""}"`}(Xe)} dispatched an invalid action: ${function kt(Xe){try{return JSON.stringify(Xe)}catch{return Xe}}(Tt)}`))}}(Ht,this.errorHandler),Ht.notification)),(0,ue.h)(Ht=>"N"===Ht.kind&&null!=Ht.value),function at(){return function(At){return At.lift(new ze)}}()),ln=Tt.pipe((0,he.q)(1),(0,ue.h)(bn),(0,q.U)(Ht=>Ht.ngrxOnInitEffects()));return(0,e.T)(Ot,ln)}))}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)(ge.LFG(ge.qLn),ge.LFG(me))},Xe.\u0275prov=ge.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})();function ke(Xe){return function nt(Xe){return _t(Xe,"ngrxOnIdentifyEffects")}(Xe)?Xe.ngrxOnIdentifyEffects():""}let vt=(()=>{class Xe{constructor(Tt,Ot){this.effectSources=Tt,this.store=Ot,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)(ge.LFG(Ue),ge.LFG(n.yh))},Xe.\u0275prov=ge.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})(),en=(()=>{class Xe{constructor(Tt,Ot,ln,Ht,dt,In,Vn){this.sources=Tt,Ot.start(),Ht.forEach(Nn=>Tt.addEffects(Nn)),ln.dispatch({type:Et})}addEffects(Tt){this.sources.addEffects(Tt)}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)(ge.LFG(Ue),ge.LFG(vt),ge.LFG(n.yh),ge.LFG(Vt),ge.LFG(n.cr,8),ge.LFG(n.CK,8),ge.LFG(ft,8))},Xe.\u0275mod=ge.oAB({type:Xe}),Xe.\u0275inj=ge.cJS({}),Xe})(),Yt=(()=>{class Xe{constructor(Tt,Ot,ln,Ht){Ot.forEach(dt=>dt.forEach(In=>Tt.addEffects(In)))}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)(ge.LFG(en),ge.LFG(rn),ge.LFG(n.cr,8),ge.LFG(n.CK,8))},Xe.\u0275mod=ge.oAB({type:Xe}),Xe.\u0275inj=ge.cJS({}),Xe})(),vn=(()=>{class Xe{static forFeature(Tt=[]){return{ngModule:Yt,providers:[Tt,{provide:qe,multi:!0,useValue:Tt},{provide:nn,multi:!0,useValue:[]},{provide:rn,multi:!0,useFactory:Kt,deps:[ge.zs3,qe,nn]}]}}static forRoot(Tt=[]){return{ngModule:en,providers:[Tt,{provide:Xt,useValue:[Tt]},{provide:ft,useFactory:Dt,deps:[[vt,new ge.FiY,new ge.tp0],[Xt,new ge.PiD]]},{provide:nn,multi:!0,useValue:[]},{provide:Vt,useFactory:Kt,deps:[ge.zs3,Xt,nn]}]}}}return Xe.\u0275fac=function(Tt){return new(Tt||Xe)},Xe.\u0275mod=ge.oAB({type:Xe}),Xe.\u0275inj=ge.cJS({}),Xe})();function Kt(Xe,At,Tt){const Ot=[];for(const ln of At)Ot.push(...ln);for(const ln of Tt)Ot.push(...ln);return function Re(Xe,At){return At.map(Tt=>Xe.get(Tt))}(Xe,Ot)}function Dt(Xe,At){if((1!==At.length||0!==At[0].length)&&Xe)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},6943:(_e,ie,v)=>{"use strict";v.d(ie,{CE:()=>q,GC:()=>ge,Qi:()=>re,eU:()=>G,fb:()=>Z,tE:()=>P});var n=v(8555),e=v(4650),h=v(610),F=v(7168);const S="@ngrx/router-store/request",P=((0,n.PH)(S,(0,n.Ky)()),"@ngrx/router-store/navigation"),Z=((0,n.PH)(P,(0,n.Ky)()),"@ngrx/router-store/cancel"),G=((0,n.PH)(Z,(0,n.Ky)()),"@ngrx/router-store/error"),q=((0,n.PH)(G,(0,n.Ky)()),"@ngrx/router-store/navigated");(0,n.PH)(q,(0,n.Ky)());class ae{serialize(Ae){return{root:this.serializeRoute(Ae.root),url:Ae.url}}serializeRoute(Ae){const Ge=Ae.children.map(ht=>this.serializeRoute(ht));return{params:Ae.params,data:Ae.data,url:Ae.url,outlet:Ae.outlet,routeConfig:Ae.routeConfig?{path:Ae.routeConfig.path,pathMatch:Ae.routeConfig.pathMatch,redirectTo:Ae.routeConfig.redirectTo,outlet:Ae.routeConfig.outlet,title:"string"==typeof Ae.routeConfig.title?Ae.routeConfig.title:void 0}:null,queryParams:Ae.queryParams,fragment:Ae.fragment,firstChild:Ge[0],children:Ge}}}var Ee=(()=>{return(we=Ee||(Ee={}))[we.PreActivation=1]="PreActivation",we[we.PostActivation=2]="PostActivation",Ee;var we})();const at=new e.OlP("@ngrx/router-store Internal Configuration"),ze=new e.OlP("@ngrx/router-store Configuration");function Ve(we){return{stateKey:"router",serializer:ae,navigationActionTiming:Ee.PreActivation,...we}}class he{serialize(Ae){return{root:this.serializeRoute(Ae.root),url:Ae.url}}serializeRoute(Ae){const Ge=Ae.children.map(ht=>this.serializeRoute(ht));return{params:Ae.params,paramMap:Ae.paramMap,data:Ae.data,url:Ae.url,outlet:Ae.outlet,routeConfig:Ae.routeConfig?{component:Ae.routeConfig.component,path:Ae.routeConfig.path,pathMatch:Ae.routeConfig.pathMatch,redirectTo:Ae.routeConfig.redirectTo,outlet:Ae.routeConfig.outlet,title:Ae.routeConfig.title}:null,queryParams:Ae.queryParams,queryParamMap:Ae.queryParamMap,fragment:Ae.fragment,component:Ae.routeConfig?Ae.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Ge[0],pathFromRoot:void 0,children:Ge}}}class ge{}var de=(()=>{return(we=de||(de={}))[we.NONE=1]="NONE",we[we.ROUTER=2]="ROUTER",we[we.STORE=3]="STORE",de;var we})();let it=(()=>{class we{constructor(Ge,ht,Je,lt,Ne,an){this.store=Ge,this.router=ht,this.serializer=Je,this.errorHandler=lt,this.config=Ne,this.activeRuntimeChecks=an,this.lastEvent=null,this.routerState=null,this.trigger=de.NONE,this.stateKey=this.config.stateKey,!(0,n.rM)()&&(0,e.X6Q)()&&(an?.strictActionSerializability||an?.strictStateSerializability)&&this.serializer instanceof he&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,n.Ys)(this.stateKey),(0,F.M)(this.store)).subscribe(([Ge,ht])=>{this.navigateIfNeeded(Ge,ht)})}navigateIfNeeded(Ge,ht){if(!Ge||!Ge.state||this.trigger===de.ROUTER||this.lastEvent instanceof h.OD)return;const Je=Ge.state.url;(function He(we,Ae){return Te(we)===Te(Ae)})(this.router.url,Je)||(this.storeState=ht,this.trigger=de.STORE,this.router.navigateByUrl(Je).catch(lt=>{this.errorHandler.handleError(lt)}))}setUpRouterEventsListener(){const Ge=this.config.navigationActionTiming===Ee.PostActivation;let ht;this.router.events.pipe((0,F.M)(this.store)).subscribe(([Je,lt])=>{this.lastEvent=Je,Je instanceof h.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==de.STORE&&(this.storeState=lt,this.dispatchRouterRequest(Je))):Je instanceof h.R9?(ht=Je,!Ge&&this.trigger!==de.STORE&&this.dispatchRouterNavigation(Je)):Je instanceof h.gk?(this.dispatchRouterCancel(Je),this.reset()):Je instanceof h.Q3?(this.dispatchRouterError(Je),this.reset()):Je instanceof h.m2&&(this.trigger!==de.STORE&&(Ge&&this.dispatchRouterNavigation(ht),this.dispatchRouterNavigated(Je)),this.reset())})}dispatchRouterRequest(Ge){this.dispatchRouterAction(S,{event:Ge})}dispatchRouterNavigation(Ge){const ht=this.serializer.serialize(Ge.state);this.dispatchRouterAction(P,{routerState:ht,event:new h.R9(Ge.id,Ge.url,Ge.urlAfterRedirects,ht)})}dispatchRouterCancel(Ge){this.dispatchRouterAction(Z,{storeState:this.storeState,event:Ge})}dispatchRouterError(Ge){this.dispatchRouterAction(G,{storeState:this.storeState,event:new h.Q3(Ge.id,Ge.url,`${Ge}`)})}dispatchRouterNavigated(Ge){const ht=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(q,{event:Ge,routerState:ht})}dispatchRouterAction(Ge,ht){this.trigger=de.ROUTER;try{this.store.dispatch({type:Ge,payload:{routerState:this.routerState,...ht,event:0===this.config.routerState?ht.event:{id:ht.event.id,url:ht.event.url,urlAfterRedirects:ht.event.urlAfterRedirects}}})}finally{this.trigger=de.NONE}}reset(){this.trigger=de.NONE,this.storeState=null,this.routerState=null}}return we.\u0275fac=function(Ge){return new(Ge||we)(e.LFG(n.yh),e.LFG(h.F0),e.LFG(ge),e.LFG(e.qLn),e.LFG(ze),e.LFG(n.hg))},we.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac}),we})();function Te(we){return we?.length>0&&"/"===we[we.length-1]?we.substring(0,we.length-1):we}function Me(we={}){return{\u0275providers:[{provide:at,useValue:we},{provide:ze,useFactory:Ve,deps:[at]},{provide:ge,useClass:we.serializer?we.serializer:0===we.routerState?he:ae},{provide:e.Xts,multi:!0,useFactory:()=>()=>(0,e.f3M)(it)},it]}}let re=(()=>{class we{static forRoot(Ge={}){return{ngModule:we,providers:[...Me(Ge).\u0275providers]}}}return we.\u0275fac=function(Ge){return new(Ge||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({}),we})()},8555:(_e,ie,v)=>{"use strict";v.d(ie,{Aw:()=>qr,CK:()=>Pr,Ky:()=>ue,P1:()=>Ln,PH:()=>ne,UO:()=>de,UY:()=>Et,Y$:()=>un,Ys:()=>Yt,ZF:()=>nr,cr:()=>pr,hg:()=>Vt,qC:()=>jt,qg:()=>ge,rM:()=>Vn,sr:()=>Jt,yh:()=>vt});var n=v(4650),e=v(591),h=v(6498),F=v(8929),S=v(341),w=v(7770),P=v(7168),B=v(2014),Z=v(373),V=v(4850),G=v(5778);const J={};function ne(Be,gt){if(J[Be]=(J[Be]||0)+1,"function"==typeof gt)return Ee(Be,(...be)=>({...gt(...be),type:Be}));switch(gt?gt._as:"empty"){case"empty":return Ee(Be,()=>({type:Be}));case"props":return Ee(Be,be=>({...be,type:Be}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function Ee(Be,gt){return Object.defineProperty(gt,"type",{value:Be,writable:!1})}const ge="@ngrx/store/init";let de=(()=>{class Be extends e.X{constructor(){super({type:ge})}next(N){if("function"==typeof N)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof N>"u")throw new TypeError("Actions must be objects");if(typeof N.type>"u")throw new TypeError("Actions must have a type property");super.next(N)}complete(){}ngOnDestroy(){super.complete()}}return Be.\u0275fac=function(N){return new(N||Be)},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const it=[de],He=new n.OlP("@ngrx/store Internal Root Guard"),Te=new n.OlP("@ngrx/store Internal Initial State"),Me=new n.OlP("@ngrx/store Initial State"),re=new n.OlP("@ngrx/store Reducer Factory"),Ie=new n.OlP("@ngrx/store Internal Reducer Factory Provider"),Ce=new n.OlP("@ngrx/store Initial Reducers"),we=new n.OlP("@ngrx/store Internal Initial Reducers"),Ae=new n.OlP("@ngrx/store Store Features"),Ge=new n.OlP("@ngrx/store Internal Store Reducers"),ht=new n.OlP("@ngrx/store Internal Feature Reducers"),Je=new n.OlP("@ngrx/store Internal Feature Configs"),lt=new n.OlP("@ngrx/store Internal Store Features"),Ne=new n.OlP("@ngrx/store Internal Feature Reducers Token"),an=new n.OlP("@ngrx/store Feature Reducers"),Gt=new n.OlP("@ngrx/store User Provided Meta Reducers"),Jt=new n.OlP("@ngrx/store Meta Reducers"),ft=new n.OlP("@ngrx/store Internal Resolved Meta Reducers"),nn=new n.OlP("@ngrx/store User Runtime Checks Config"),Xt=new n.OlP("@ngrx/store Internal User Runtime Checks Config"),Vt=new n.OlP("@ngrx/store Internal Runtime Checks"),qe=new n.OlP("@ngrx/store Check if Action types are unique");function Et(Be,gt={}){const N=Object.keys(Be),be={};for(let Q=0;Q<N.length;Q++){const je=N[Q];"function"==typeof Be[je]&&(be[je]=Be[je])}const I=Object.keys(be);return function(je,Rt){je=void 0===je?gt:je;let cn=!1;const hn={};for(let gn=0;gn<I.length;gn++){const ir=I[gn],Ir=je[ir],eo=(0,be[ir])(Ir,Rt);hn[ir]=eo,cn=cn||eo!==Ir}return cn?hn:je}}function jt(...Be){return function(gt){if(0===Be.length)return gt;const N=Be[Be.length-1];return Be.slice(0,-1).reduceRight((I,Q)=>Q(I),N(gt))}}function wt(Be,gt){return Array.isArray(gt)&&gt.length>0&&(Be=jt.apply(null,[...gt,Be])),(N,be)=>{const I=Be(N);return(Q,je)=>I(Q=void 0===Q?be:Q,je)}}new n.OlP("@ngrx/store Root Store Provider"),new n.OlP("@ngrx/store Feature State Provider");class kt extends h.y{}class We extends de{}let Nt=(()=>{class Be extends e.X{constructor(N,be,I,Q){super(Q(I,be)),this.dispatcher=N,this.initialState=be,this.reducers=I,this.reducerFactory=Q}get currentReducers(){return this.reducers}addFeature(N){this.addFeatures([N])}addFeatures(N){const be=N.reduce((I,{reducers:Q,reducerFactory:je,metaReducers:Rt,initialState:cn,key:hn})=>{const gn="function"==typeof Q?function dn(Be){const gt=Array.isArray(Be)&&Be.length>0?jt(...Be):N=>N;return(N,be)=>(N=gt(N),(I,Q)=>N(I=void 0===I?be:I,Q))}(Rt)(Q,cn):wt(je,Rt)(Q,cn);return I[hn]=gn,I},{});this.addReducers(be)}removeFeature(N){this.removeFeatures([N])}removeFeatures(N){this.removeReducers(N.map(be=>be.key))}addReducer(N,be){this.addReducers({[N]:be})}addReducers(N){this.reducers={...this.reducers,...N},this.updateReducers(Object.keys(N))}removeReducer(N){this.removeReducers([N])}removeReducers(N){N.forEach(be=>{this.reducers=function Ke(Be,gt){return Object.keys(Be).filter(N=>N!==gt).reduce((N,be)=>Object.assign(N,{[be]:Be[be]}),{})}(this.reducers,be)}),this.updateReducers(N)}updateReducers(N){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:N})}ngOnDestroy(){this.complete()}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(We),n.LFG(Me),n.LFG(Ce),n.LFG(re))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Pt=[Nt,{provide:kt,useExisting:Nt},{provide:We,useExisting:de}];let un=(()=>{class Be extends F.xQ{ngOnDestroy(){this.complete()}}return Be.\u0275fac=function(){let gt;return function(be){return(gt||(gt=n.n5z(Be)))(be||Be)}}(),Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const bn=[un];class _t extends h.y{}let Ue=(()=>{class Be extends e.X{constructor(N,be,I,Q){super(Q);const hn=N.pipe((0,w.QV)(S.N)).pipe((0,P.M)(be)).pipe((0,B.R)(ke,{state:Q}));this.stateSubscription=hn.subscribe(({state:gn,action:ir})=>{this.next(gn),I.next(ir)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Be.INIT=ge,Be.\u0275fac=function(N){return new(N||Be)(n.LFG(de),n.LFG(kt),n.LFG(un),n.LFG(Me))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();function ke(Be={state:void 0},[gt,N]){const{state:be}=Be;return{state:N(be,gt),action:gt}}const mt=[Ue,{provide:_t,useExisting:Ue}];let vt=(()=>{class Be extends h.y{constructor(N,be,I){super(),this.actionsObserver=be,this.reducerManager=I,this.source=N}select(N,...be){return Yt.call(null,N,...be)(this)}lift(N){const be=new Be(this,this.actionsObserver,this.reducerManager);return be.operator=N,be}dispatch(N){this.actionsObserver.next(N)}next(N){this.actionsObserver.next(N)}error(N){this.actionsObserver.error(N)}complete(){this.actionsObserver.complete()}addReducer(N,be){this.reducerManager.addReducer(N,be)}removeReducer(N){this.reducerManager.removeReducer(N)}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(_t),n.LFG(de),n.LFG(Nt))},Be.\u0275prov=n.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const en=[vt];function Yt(Be,gt,...N){return function(I){let Q;if("string"==typeof Be){const je=[gt,...N].filter(Boolean);Q=I.pipe((0,Z.j)(Be,...je))}else{if("function"!=typeof Be)throw new TypeError(`Unexpected type '${typeof Be}' in select operator, expected 'string' or 'function'`);Q=I.pipe((0,V.U)(je=>Be(je,gt)))}return Q.pipe((0,G.x)())}}const vn="https://ngrx.io/guide/store/configuration/runtime-checks";function Kt(Be){return void 0===Be}function Re(Be){return null===Be}function Dt(Be){return Array.isArray(Be)}function Xe(Be){return"object"==typeof Be&&null!==Be}function Ot(Be){return"function"==typeof Be}function Vn(){return false}function Nn(Be,gt){return Be===gt}function ur(Be,gt,N){for(let be=0;be<Be.length;be++)if(!N(Be[be],gt[be]))return!0;return!1}function On(Be,gt=Nn,N=Nn){let Q,be=null,I=null;return{memoized:function hn(){if(void 0!==Q)return Q.result;if(!be)return I=Be.apply(null,arguments),be=arguments,I;if(!ur(arguments,be,gt))return I;const gn=Be.apply(null,arguments);return be=arguments,N(I,gn)?I:(I=gn,gn)},reset:function je(){be=null,I=null},setResult:function Rt(gn){Q={result:gn}},clearResult:function cn(){Q=void 0}}}function Ln(...Be){return function lr(Be,gt={stateFn:Qn}){return function(...N){let be=N;if(Array.isArray(be[0])){const[gn,...ir]=be;be=[...gn,...ir]}const I=be.slice(0,be.length-1),Q=be[be.length-1],je=I.filter(gn=>gn.release&&"function"==typeof gn.release),Rt=Be(function(...gn){return Q.apply(null,gn)}),cn=On(function(gn,ir){return gt.stateFn.apply(null,[gn,I,ir,Rt])});return Object.assign(cn.memoized,{release:function hn(){cn.reset(),Rt.reset(),je.forEach(gn=>gn.release())},projector:Rt.memoized,setResult:cn.setResult,clearResult:cn.clearResult})}}(On)(...Be)}function Qn(Be,gt,N,be){if(void 0===N){const Q=gt.map(je=>je(Be));return be.memoized.apply(null,Q)}const I=gt.map(Q=>Q(Be,N));return be.memoized.apply(null,[...I,N])}function nr(Be){return Ln(gt=>{const N=gt[Be];return(0,n.X6Q)()&&!(Be in gt)&&console.warn(`@ngrx/store: The feature name "${Be}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Be}', ...) or StoreModule.forFeature('${Be}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),N},gt=>gt)}function X(Be,gt){return gt instanceof n.OlP?Be.get(gt):gt}function oe(Be,gt,N){return N.map((be,I)=>{if(gt[I]instanceof n.OlP){const Q=Be.get(gt[I]);return{key:be.key,reducerFactory:Q.reducerFactory?Q.reducerFactory:Et,metaReducers:Q.metaReducers?Q.metaReducers:[],initialState:Q.initialState}}return be})}function O(Be,gt){return gt.map(be=>be instanceof n.OlP?Be.get(be):be)}function fe(Be){return"function"==typeof Be?Be():Be}function et(Be,gt){return Be.concat(gt)}function yt(Be){if(Be)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Qt(Be){Object.freeze(Be);const gt=Ot(Be);return Object.getOwnPropertyNames(Be).forEach(N=>{if(!N.startsWith("\u0275")&&function Ht(Be,gt){return Object.prototype.hasOwnProperty.call(Be,gt)}(Be,N)&&(!gt||"caller"!==N&&"callee"!==N&&"arguments"!==N)){const be=Be[N];(Xe(be)||Ot(be))&&!Object.isFrozen(be)&&Qt(be)}}),Be}function Rn(Be,gt=[]){return(Kt(Be)||Re(Be))&&0===gt.length?{path:["root"],value:Be}:Object.keys(Be).reduce((be,I)=>{if(be)return be;const Q=Be[I];return function ln(Be){return Ot(Be)&&Be.hasOwnProperty("\u0275cmp")}(Q)?be:!(Kt(Q)||Re(Q)||function Ut(Be){return"number"==typeof Be}(Q)||function tt(Be){return"boolean"==typeof Be}(Q)||function De(Be){return"string"==typeof Be}(Q)||Dt(Q))&&(function Tt(Be){if(!function At(Be){return Xe(Be)&&!Dt(Be)}(Be))return!1;const gt=Object.getPrototypeOf(Be);return gt===Object.prototype||null===gt}(Q)?Rn(Q,[...gt,I]):{path:[...gt,I],value:Q})},!1)}function yr(Be,gt){if(!1===Be)return;const N=Be.path.join("."),be=new Error(`Detected unserializable ${gt} at "${N}". ${vn}#strict${gt}serializability`);throw be.value=Be.value,be.unserializablePath=N,be}function wn(Be){return(0,n.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Be}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Wn({strictActionSerializability:Be,strictStateSerializability:gt}){return N=>Be||gt?function Bn(Be,gt){return function(N,be){gt.action(be)&&yr(Rn(be),"action");const I=Be(N,be);return gt.state()&&yr(Rn(I),"state"),I}}(N,{action:be=>Be&&!Yn(be),state:()=>gt}):N}function vr({strictActionImmutability:Be,strictStateImmutability:gt}){return N=>Be||gt?function qt(Be,gt){return function(N,be){const I=gt.action(be)?Qt(be):be,Q=Be(N,I);return gt.state()?Qt(Q):Q}}(N,{action:be=>Be&&!Yn(be),state:()=>gt}):N}function Yn(Be){return Be.type.startsWith("@ngrx")}function rr({strictActionWithinNgZone:Be}){return gt=>Be?function Hn(Be,gt){return function(N,be){if(gt.action(be)&&!n.R0b.isInAngularZone())throw new Error(`Action '${be.type}' running outside NgZone. ${vn}#strictactionwithinngzone`);return Be(N,be)}}(gt,{action:N=>Be&&!Yn(N)}):gt}function Qr(Be){return[{provide:Xt,useValue:Be},{provide:nn,useFactory:_r,deps:[Xt]},{provide:Vt,deps:[nn],useFactory:wn},{provide:Jt,multi:!0,deps:[Vt],useFactory:vr},{provide:Jt,multi:!0,deps:[Vt],useFactory:Wn},{provide:Jt,multi:!0,deps:[Vt],useFactory:rr}]}function Dn(){return[{provide:qe,multi:!0,deps:[Vt],useFactory:Fr}]}function _r(Be){return Be}function Fr(Be){if(!Be.strictActionTypeUniqueness)return;const gt=Object.entries(J).filter(([,N])=>N>1).map(([N])=>N);if(gt.length)throw new Error(`Action types are registered more than once, ${gt.map(N=>`"${N}"`).join(", ")}. ${vn}#strictactiontypeuniqueness`)}function Rr(Be,gt){return[{provide:He,useFactory:yt,deps:[[vt,new n.FiY,new n.tp0]]},{provide:Te,useValue:gt.initialState},{provide:Me,useFactory:fe,deps:[Te]},{provide:we,useValue:Be},{provide:Ge,useExisting:Be instanceof n.OlP?Be:we},{provide:Ce,deps:[n.zs3,we,[new n.tBr(Ge)]],useFactory:X},{provide:Gt,useValue:gt.metaReducers?gt.metaReducers:[]},{provide:ft,deps:[Jt,Gt],useFactory:et},{provide:Ie,useValue:gt.reducerFactory?gt.reducerFactory:Et},{provide:re,deps:[Ie,ft],useFactory:wt},it,Pt,bn,mt,en,Qr(gt.runtimeChecks),Dn()]}function Gn(Be,gt,N={}){return[{provide:Je,multi:!0,useValue:Be instanceof Object?{}:N},{provide:Ae,multi:!0,useValue:{key:Be instanceof Object?Be.name:Be,reducerFactory:N instanceof n.OlP||!N.reducerFactory?Et:N.reducerFactory,metaReducers:N instanceof n.OlP||!N.metaReducers?[]:N.metaReducers,initialState:N instanceof n.OlP||!N.initialState?void 0:N.initialState}},{provide:lt,deps:[n.zs3,Je,Ae],useFactory:oe},{provide:ht,multi:!0,useValue:Be instanceof Object?Be.reducer:gt},{provide:Ne,multi:!0,useExisting:gt instanceof n.OlP?gt:ht},{provide:an,multi:!0,deps:[n.zs3,ht,[new n.tBr(Ne)]],useFactory:O},Dn()]}let pr=(()=>{class Be{constructor(N,be,I,Q,je,Rt){}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(de),n.LFG(kt),n.LFG(un),n.LFG(vt),n.LFG(He,8),n.LFG(qe,8))},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})(),Pr=(()=>{class Be{constructor(N,be,I,Q,je){this.features=N,this.featureReducers=be,this.reducerManager=I;const Rt=N.map((cn,hn)=>{const ir=be.shift()[hn];return{...cn,reducers:ir,initialState:fe(cn.initialState)}});I.addFeatures(Rt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Be.\u0275fac=function(N){return new(N||Be)(n.LFG(lt),n.LFG(an),n.LFG(Nt),n.LFG(pr),n.LFG(qe,8))},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})(),qr=(()=>{class Be{static forRoot(N,be={}){return{ngModule:pr,providers:[...Rr(N,be)]}}static forFeature(N,be,I={}){return{ngModule:Pr,providers:[...Gn(N,be,I)]}}}return Be.\u0275fac=function(N){return new(N||Be)},Be.\u0275mod=n.oAB({type:Be}),Be.\u0275inj=n.cJS({}),Be})()},5344:(_e,ie,v)=>{"use strict";v.d(ie,{AJ:()=>ue,FA:()=>Ve,HZ:()=>de,JW:()=>ze,Kj:()=>it});var n=v(5861),e=v(6895),h=v(4650),F=v(1446),S=v(9057),w=v(4850),P=v(2986),B=v(7545),Z=v(591),V=v(6053),G=v(1086),J=v(5254),q=v(8555),ne=v(6538);const ue="asm_enabled";let ae=(()=>{class He{constructor(Me,re,Ie,Ce){this.location=Me,this.winRef=re,this.launchDialogService=Ie,this.featureModules=Ce}load(){this.isEnabled()&&this.addUi()}isEnabled(){return this.isLaunched()&&!this.isUsedBefore()&&this.winRef.localStorage&&this.winRef.localStorage.setItem(ue,"true"),this.isLaunched()||this.isUsedBefore()}isLaunched(){const Me=this.location.path().split("?")[1];return!!Me&&Me.split("&").includes("asm=true")}isUsedBefore(){return!!this.winRef.localStorage&&"true"===this.winRef.localStorage.getItem(ue)}addUi(){this.featureModules.resolveFeature("asm").subscribe(()=>this.launchDialogService.launch("ASM"))}}return He.\u0275fac=function(Me){return new(Me||He)(h.LFG(e.Ye),h.LFG(S.X9E),h.LFG(F.Q3W),h.LFG(S.q2V))},He.\u0275prov=h.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),Ee=(()=>{class He{}return He.\u0275fac=function(Me){return new(Me||He)},He.\u0275mod=h.oAB({type:He}),He.\u0275inj=h.cJS({providers:[{provide:h.ip1,useFactory:Ye,deps:[ae],multi:!0}],imports:[e.ez,F._Gt]}),He})();function Ye(He){return()=>{He.load()}}var at=(()=>{return(He=at||(at={})).CSAgent="CSAgent",He.User="User",at;var He})();let ze=(()=>{class He extends S.jg0{constructor(){super(...arguments),this._tokenTarget$=new Z.X(at.User)}getTokenTarget(){return this._tokenTarget$}setTokenTarget(Me){this._tokenTarget$.next(Me)}getEmulatedUserToken(){return this.emulatedUserToken}setEmulatedUserToken(Me){this.emulatedUserToken=Me}switchTokenTargetToCSAgent(){this._tokenTarget$.next(at.CSAgent)}switchTokenTargetToUser(){this._tokenTarget$.next(at.User)}clearEmulatedUserToken(){this.emulatedUserToken=void 0}}return He.\u0275fac=function(){let Te;return function(re){return(Te||(Te=h.n5z(He)))(re||He)}}(),He.\u0275prov=h.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),Ve=(()=>{class He{constructor(Me,re,Ie,Ce,we,Ae){this.authService=Me,this.authStorageService=re,this.userIdService=Ie,this.oAuthLibWrapperService=Ce,this.store=we,this.userProfileFacade=Ae}authorizeCustomerSupportAgent(Me,re){var Ie=this;return(0,n.Z)(function*(){let Ce;Ie.authStorageService.getToken().subscribe(we=>Ce=we).unsubscribe(),Ie.authStorageService.switchTokenTargetToCSAgent();try{let we;yield Ie.oAuthLibWrapperService.authorizeWithPasswordFlow(Me,re),Ie.userProfileFacade.get().subscribe(Ae=>we=Ae?.customerId).unsubscribe(),Ie.store.dispatch(new S.uQL.Logout),void 0!==we&&void 0!==Ce?(Ie.userIdService.setUserId(we),Ie.authStorageService.setEmulatedUserToken(Ce),Ie.store.dispatch(new S.uQL.Login)):(Ie.userIdService.setUserId(S.Fds),Ie.authStorageService.clearEmulatedUserToken())}catch{Ie.authStorageService.switchTokenTargetToUser()}})()}startCustomerEmulationSession(Me){this.authStorageService.clearEmulatedUserToken(),this.store.dispatch(new S.uQL.Logout),this.userIdService.setUserId(Me),this.store.dispatch(new S.uQL.Login)}isCustomerSupportAgentLoggedIn(){return(0,V.aj)([this.authStorageService.getToken(),this.authStorageService.getTokenTarget()]).pipe((0,w.U)(([Me,re])=>Boolean(Me?.access_token&&re===at.CSAgent)))}isCustomerEmulated(){return this.userIdService.isEmulated()}getCustomerSupportAgentTokenLoading(){return(0,G.of)(!1)}logoutCustomerSupportAgent(){var Me=this;return(0,n.Z)(function*(){const re=Me.authStorageService.getEmulatedUserToken();let Ie;Me.userIdService.isEmulated().subscribe(Ce=>Ie=Ce).unsubscribe(),yield Me.oAuthLibWrapperService.revokeAndLogout(),Me.store.dispatch({type:"[Auth] Logout Customer Support Agent"}),Me.authStorageService.setTokenTarget(at.User),Ie&&re?(Me.store.dispatch(new S.uQL.Logout),Me.authStorageService.setToken(re),Me.userIdService.setUserId(S.zyp),Me.authStorageService.clearEmulatedUserToken(),Me.store.dispatch(new S.uQL.Login)):Me.authService.logout()})()}}return He.\u0275fac=function(Me){return new(Me||He)(h.LFG(S.e80),h.LFG(ze),h.LFG(S.XBV),h.LFG(S.DzN),h.LFG(q.yh),h.LFG(ne.aT))},He.\u0275prov=h.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),he=(()=>{class He extends S.i$2{constructor(Me,re,Ie,Ce,we,Ae,Ge,ht){super(Me,re,Ce,we,Ge,Ae,ht),this.authService=Me,this.authStorageService=re,this.csAgentAuthService=Ie,this.oAuthLibWrapperService=Ce,this.routingService=we,this.globalMessageService=Ae,this.occEndpointsService=Ge,this.authRedirectService=ht}shouldAddAuthorizationHeader(Me){return super.shouldAddAuthorizationHeader(Me)||this.isCSAgentTokenRequest(Me)}shouldCatchError(Me){return super.shouldCatchError(Me)||this.isCSAgentTokenRequest(Me)}alterRequest(Me,re){const Ie=!!this.getAuthorizationHeader(Me),Ce=this.isCSAgentTokenRequest(Me);let we=super.alterRequest(Me,re);return!Ie&&Ce?(we=Me.clone({setHeaders:{...this.createAuthorizationHeader(re)}}),S.Fox.removeHeader(S.OPk,we)):we}isCSAgentTokenRequest(Me){const re=S.Fox.getInterceptorParam(S.OPk,Me.headers);return Boolean(re)}handleExpiredRefreshToken(){this.csAgentAuthService.isCustomerSupportAgentLoggedIn().pipe((0,P.q)(1)).subscribe(Me=>{Me?(this.authService.setLogoutProgress(!0),this.csAgentAuthService.logoutCustomerSupportAgent(),this.globalMessageService.add({key:"asm.csagentTokenExpired"},S.xUg.MSG_TYPE_ERROR)):super.handleExpiredRefreshToken()})}}return He.\u0275fac=function(Me){return new(Me||He)(h.LFG(S.e80),h.LFG(S.jg0),h.LFG(Ve),h.LFG(S.DzN),h.LFG(S.Znh),h.LFG(S.IWp),h.LFG(S.Lz0),h.LFG(S.FUY))},He.\u0275prov=h.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),ge=(()=>{class He extends S.e80{constructor(Me,re,Ie,Ce,we,Ae,Ge){super(Me,re,Ie,Ce,we,Ge),this.store=Me,this.userIdService=re,this.oAuthLibWrapperService=Ie,this.authStorageService=Ce,this.authRedirectService=we,this.globalMessageService=Ae,this.routingService=Ge}canUserLogin(){let Me,re;return this.authStorageService.getToken().subscribe(Ie=>re=Ie).unsubscribe(),this.authStorageService.getTokenTarget().subscribe(Ie=>Me=Ie).unsubscribe(),!(Boolean(re?.access_token)&&Me===at.CSAgent)}warnAboutLoggedCSAgent(){this.globalMessageService.add({key:"asm.auth.agentLoggedInError"},S.xUg.MSG_TYPE_ERROR)}loginWithCredentials(Me,re){var Ie=()=>super.loginWithCredentials,Ce=this;return(0,n.Z)(function*(){Ce.canUserLogin()?yield Ie().call(Ce,Me,re):Ce.warnAboutLoggedCSAgent()})()}loginWithRedirect(){return this.canUserLogin()?(super.loginWithRedirect(),!0):(this.warnAboutLoggedCSAgent(),!1)}coreLogout(){return this.userIdService.isEmulated().pipe((0,P.q)(1),(0,B.w)(Me=>Me?(this.authStorageService.clearEmulatedUserToken(),this.userIdService.clearUserId(),this.store.dispatch(new S.uQL.Logout),(0,G.of)(!0)):(0,J.D)(super.coreLogout()))).toPromise()}isUserLoggedIn(){return(0,V.aj)([this.authStorageService.getToken(),this.userIdService.isEmulated(),this.authStorageService.getTokenTarget()]).pipe((0,w.U)(([Me,re,Ie])=>Boolean(Me?.access_token)&&(Ie===at.User||Ie===at.CSAgent&&re)))}}return He.\u0275fac=function(Me){return new(Me||He)(h.LFG(q.yh),h.LFG(S.XBV),h.LFG(S.DzN),h.LFG(ze),h.LFG(S.FUY),h.LFG(S.IWp),h.LFG(S.Znh))},He.\u0275prov=h.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),de=(()=>{class He{}return He.\u0275fac=function(Me){return new(Me||He)},He.\u0275mod=h.oAB({type:He}),He.\u0275inj=h.cJS({providers:[{provide:S.jg0,useExisting:ze},{provide:S.e80,useExisting:ge},{provide:S.i$2,useExisting:he}],imports:[Ee]}),He})();const it="asm"},8809:(_e,ie,v)=>{"use strict";v.d(ie,{$:()=>Ar,CQ:()=>Or,Eu:()=>$n,F5:()=>ai,F7:()=>pr,Jp:()=>on,N4:()=>Je,Qx:()=>Sn,T6:()=>Gn,YA:()=>An,YW:()=>Zo,i4:()=>Nr,n5:()=>To,r_:()=>$r,vI:()=>Rr,xb:()=>N,ym:()=>kn});var n=v(4650),e=v(9057),h=v(8555),F=v(3749),S=v(4850),w=v(1406),P=v(7221),B=v(1709),Z=v(4002),V=v(7545),G=v(7168),J=v(2198),q=v(9184),ne=v(2994),ue=v(2986),ae=v(2313),Ee=v(5778),Ye=v(5154),at=v(519),ze=v(8849),Ve=v(5254),he=v(1086),ge=v(2654),de=v(5409),it=v(6053),He=v(839),Te=v(8723),Me=v(8896),re=v(5024),Ie=v(655),Ce=v(1446),we=v(6538),Ae=v(6895),Ge=v(610);const Je="[Multi Cart] Multi Cart Data",lt="addVoucher",Ne="[Cart-entry] Add Entry",an="[Cart-entry] Add Entry Success",Gt="[Cart-entry] Add Entry Fail",Jt="[Cart-entry] Remove Entry",ft="[Cart-entry] Remove Entry Success",nn="[Cart-entry] Remove Entry Fail",Xt="[Cart-entry] Update Entry",Vt="[Cart-entry] Update Entry Success",qe="[Cart-entry] Update Entry Fail";class rn extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Ne}}class me extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=an}}class Et extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Gt}}class Ke extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Jt}}class jt extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=ft}}class wt extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=nn}}class dn extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Xt}}class kt extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Vt}}class We extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=qe}}const nt="[Cart-voucher] Add Cart Vouchers",Nt="[Cart-voucher] Add Cart Voucher Fail",Pt="[Cart-voucher] Add Cart Voucher Success",un="[Cart-voucher] Reset Add Cart Voucher",bn="[Cart-voucher] Remove Cart Voucher",_t="[Cart-voucher] Remove Cart Voucher Fail",Ue="[Cart-voucher] Remove Cart Voucher Success";class ke extends e.kPG.EntityLoadAction{constructor(st){super(e.BzF,lt),this.payload=st,this.type=nt}}class mt extends e.kPG.EntityFailAction{constructor(st){super(e.BzF,lt,st.error),this.payload=st,this.type=Nt}}class vt extends e.kPG.EntitySuccessAction{constructor(st){super(e.BzF,lt),this.payload=st,this.type=Pt}}class en extends e.kPG.EntityLoaderResetAction{constructor(){super(e.BzF,lt),this.type=un}}class Yt extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=bn}}class vn extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=_t}}class Kt extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Ue}}const Re="[Cart] Create Cart",Dt="[Cart] Create Cart Fail",De="[Cart] Create Cart Success",tt="[Cart] Load Cart",Ut="[Cart] Load Cart Fail",Xe="[Cart] Load Cart Success",At="[Cart] Load Carts Success",Tt="[Cart] Add Email to Cart",Ot="[Cart] Add Email to Cart Fail",ln="[Cart] Add Email to Cart Success",Ht="[Cart] Merge Cart",dt="[Cart] Merge Cart Success",In="[Cart] Reset Cart Details",Vn="[Cart] Remove Cart",Nn="[Cart] Delete Cart",ur="[Cart] Delete Cart Success",yn="[Cart] Delete Cart Fail";class On extends e.kPG.EntityLoadAction{constructor(st){super(Je,st.tempCartId),this.payload=st,this.type=Re}}class Ln extends e.kPG.EntityFailAction{constructor(st){super(Je,st.tempCartId),this.payload=st,this.type=Dt}}class Qn extends e.kPG.EntitySuccessAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=De}}class lr extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Tt}}class nr extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Ot}}class Oe extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=ln}}class Fe extends e.kPG.EntityLoadAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=tt}}class pe extends e.kPG.EntityFailAction{constructor(st){super(Je,st.cartId,st.error),this.payload=st,this.type=Ut}}class X extends e.kPG.EntitySuccessAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Xe}}class O{constructor(st){this.payload=st,this.type=Ht}}class fe extends e.kPG.EntityRemoveAction{constructor(st){super(Je,st.oldCartId),this.payload=st,this.type=dt}}class et extends e.kPG.ProcessesLoaderResetAction{constructor(){super(Je),this.type=In}}class yt extends e.kPG.EntityRemoveAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=Vn}}class qt{constructor(st){this.payload=st,this.type=Nn}}class Qt extends e.kPG.EntityRemoveAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=ur}}class Bn{constructor(st){this.payload=st,this.type=yn}}const Rn="[Cart] Cart Processes Increment",yr="[Cart] Cart Processes Decrement",Hn="[Cart] Set Active Cart Id",wn="[Cart] Clear Cart State",Wn="[Cart] Set cart type index",vr="[Cart] Set cart data";class Yn extends e.kPG.EntityProcessesIncrementAction{constructor(st){super(Je,st),this.payload=st,this.type=Rn}}class rr extends e.kPG.EntityProcessesDecrementAction{constructor(st){super(Je,st),this.payload=st,this.type=yr}}class Qr{constructor(st){this.payload=st,this.type=Hn}}class Dn extends e.kPG.EntityRemoveAllAction{constructor(){super(Je),this.type=wn}}class _r{constructor(st){this.payload=st,this.type=Wn}}var Ar=Object.freeze({__proto__:null,CART_ADD_ENTRY:Ne,CART_ADD_ENTRY_SUCCESS:an,CART_ADD_ENTRY_FAIL:Gt,CART_REMOVE_ENTRY:Jt,CART_REMOVE_ENTRY_SUCCESS:ft,CART_REMOVE_ENTRY_FAIL:nn,CART_UPDATE_ENTRY:Xt,CART_UPDATE_ENTRY_SUCCESS:Vt,CART_UPDATE_ENTRY_FAIL:qe,CartAddEntry:rn,CartAddEntrySuccess:me,CartAddEntryFail:Et,CartRemoveEntry:Ke,CartRemoveEntrySuccess:jt,CartRemoveEntryFail:wt,CartUpdateEntry:dn,CartUpdateEntrySuccess:kt,CartUpdateEntryFail:We,CART_ADD_VOUCHER:nt,CART_ADD_VOUCHER_FAIL:Nt,CART_ADD_VOUCHER_SUCCESS:Pt,CART_RESET_ADD_VOUCHER:un,CART_REMOVE_VOUCHER:bn,CART_REMOVE_VOUCHER_FAIL:_t,CART_REMOVE_VOUCHER_SUCCESS:Ue,CartAddVoucher:ke,CartAddVoucherFail:mt,CartAddVoucherSuccess:vt,CartResetAddVoucher:en,CartRemoveVoucher:Yt,CartRemoveVoucherFail:vn,CartRemoveVoucherSuccess:Kt,CREATE_CART:Re,CREATE_CART_FAIL:Dt,CREATE_CART_SUCCESS:De,LOAD_CART:tt,LOAD_CART_FAIL:Ut,LOAD_CART_SUCCESS:Xe,LOAD_CARTS_SUCCESS:At,ADD_EMAIL_TO_CART:Tt,ADD_EMAIL_TO_CART_FAIL:Ot,ADD_EMAIL_TO_CART_SUCCESS:ln,MERGE_CART:Ht,MERGE_CART_SUCCESS:dt,RESET_CART_DETAILS:In,REMOVE_CART:Vn,DELETE_CART:Nn,DELETE_CART_SUCCESS:ur,DELETE_CART_FAIL:yn,CreateCart:On,CreateCartFail:Ln,CreateCartSuccess:Qn,AddEmailToCart:lr,AddEmailToCartFail:nr,AddEmailToCartSuccess:Oe,LoadCart:Fe,LoadCartFail:pe,LoadCartSuccess:X,LoadCartsSuccess:class oe extends e.kPG.EntitySuccessAction{constructor(st){super(Je,st.map(ve=>ve?.code??"")),this.payload=st,this.type=At}},MergeCart:O,MergeCartSuccess:fe,ResetCartDetails:et,RemoveCart:yt,DeleteCart:qt,DeleteCartSuccess:Qt,DeleteCartFail:Bn,CART_PROCESSES_INCREMENT:Rn,CART_PROCESSES_DECREMENT:yr,SET_ACTIVE_CART_ID:Hn,CLEAR_CART_STATE:wn,SET_CART_TYPE_INDEX:Wn,SET_CART_DATA:vr,CartProcessesIncrement:Yn,CartProcessesDecrement:rr,SetActiveCartId:Qr,ClearCartState:Dn,SetCartTypeIndex:_r,SetCartData:class Fr extends e.kPG.EntitySuccessAction{constructor(st){super(Je,st.cartId),this.payload=st,this.type=vr}}});class Rr{}let dr=(()=>{class Se{constructor(ve){this.adapter=ve}add(ve,ct,ot,ut){return this.adapter.add(ve,ct,ot,ut)}update(ve,ct,ot,ut,pn){return this.adapter.update(ve,ct,ot,ut,pn)}remove(ve,ct,ot){return this.adapter.remove(ve,ct,ot)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(Rr))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Cr=(()=>{class Se{constructor(ve,ct){this.actions$=ve,this.cartEntryConnector=ct,this.contextChange$=this.actions$.pipe((0,re.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.addEntry$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Ne),(0,S.U)(ot=>ot.payload),(0,w.b)(ot=>this.cartEntryConnector.add(ot.userId,ot.cartId,ot.productCode,ot.quantity).pipe((0,S.U)(ut=>new me({...ot,...ut})),(0,P.K)(ut=>(0,Ve.D)([new Et({...ot,error:(0,e.cxH)(ut)}),new Fe({cartId:ot.cartId,userId:ot.userId})])))),(0,e.FM_)(this.contextChange$))),this.removeEntry$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Jt),(0,S.U)(ot=>ot.payload),(0,w.b)(ot=>this.cartEntryConnector.remove(ot.userId,ot.cartId,ot.entryNumber).pipe((0,S.U)(()=>new jt({...ot})),(0,P.K)(ut=>(0,Ve.D)([new wt({...ot,error:(0,e.cxH)(ut)}),new Fe({cartId:ot.cartId,userId:ot.userId})])))),(0,e.FM_)(this.contextChange$))),this.updateEntry$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Xt),(0,S.U)(ot=>ot.payload),(0,w.b)(ot=>this.cartEntryConnector.update(ot.userId,ot.cartId,ot.entryNumber,ot.quantity).pipe((0,S.U)(()=>new kt({...ot})),(0,P.K)(ut=>(0,Ve.D)([new We({...ot,error:(0,e.cxH)(ut)}),new Fe({cartId:ot.cartId,userId:ot.userId})])))),(0,e.FM_)(this.contextChange$)))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(re.eX),n.LFG(dr))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})();class $n{}let Jn=(()=>{class Se{constructor(ve){this.adapter=ve}add(ve,ct,ot){return this.adapter.add(ve,ct,ot)}remove(ve,ct,ot){return this.adapter.remove(ve,ct,ot)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG($n))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Mr=(()=>{class Se{constructor(ve,ct,ot){this.actions$=ve,this.cartVoucherConnector=ct,this.messageService=ot,this.addCartVoucher$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(nt),(0,S.U)(ut=>ut.payload),(0,B.zg)(ut=>this.cartVoucherConnector.add(ut.userId,ut.cartId,ut.voucherId).pipe((0,S.U)(()=>(this.showGlobalMessage("voucher.applyVoucherSuccess",ut.voucherId,e.xUg.MSG_TYPE_CONFIRMATION),new vt({...ut}))),(0,P.K)(pn=>(0,Ve.D)([new mt({...ut,error:(0,e.cxH)(pn)}),new rr(ut.cartId),new Fe({userId:ut.userId,cartId:ut.cartId})])))))),this.removeCartVoucher$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(bn),(0,S.U)(ut=>ut.payload),(0,B.zg)(ut=>this.cartVoucherConnector.remove(ut.userId,ut.cartId,ut.voucherId).pipe((0,S.U)(()=>(this.showGlobalMessage("voucher.removeVoucherSuccess",ut.voucherId,e.xUg.MSG_TYPE_INFO),new Kt({userId:ut.userId,cartId:ut.cartId,voucherId:ut.voucherId}))),(0,P.K)(pn=>(0,Ve.D)([new vn({error:(0,e.cxH)(pn),cartId:ut.cartId,userId:ut.userId,voucherId:ut.voucherId}),new Fe({userId:ut.userId,cartId:ut.cartId})]))))))}showGlobalMessage(ve,ct,ot){this.messageService.add({key:ve,params:{voucherCode:ct}},ot)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(re.eX),n.LFG(Jn),n.LFG(e.IWp))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function Gn(Se,st){return st===e.Fds?Se?.guid??"":Se?.code??""}function pr(Se=""){return Se.startsWith("selectivecart")}function Pr(Se){return"notFound"===Se.reason&&"cart"===Se.subjectType&&!pr(Se.subject)}function xr(Se){return"VoucherOperationError"===Se.type}function Be(Se){return"CartError"===Se.type||"CartAddressError"===Se.type||"CartEntryError"===Se.type||"CartEntryGroupError"===Se.type}function gt(Se){return Se.startsWith("temp-")}function N(Se){return!Se||"object"==typeof Se&&0===Object.keys(Se).length}const Q=(0,h.ZF)("cart"),je=(0,h.P1)(Q,Se=>Se.carts),Rt=Se=>(0,h.P1)(je,st=>e.kPG.entityProcessesLoaderStateSelector(st,Se)),cn=Se=>(0,h.P1)(je,st=>e.kPG.entityValueSelector(st,Se)),hn=Se=>(0,h.P1)(je,st=>e.kPG.entityIsStableSelector(st,Se)),gn=Se=>(0,h.P1)(je,st=>e.kPG.entityHasPendingProcessesSelector(st,Se)),ir=Se=>(0,h.P1)(cn(Se),st=>st&&st.entries?st.entries:[]),sr=(Se,st)=>(0,h.P1)(ir(Se),ve=>ve.find(ct=>ct.product?.code===st)),Ir=(0,h.P1)(je,Se=>Object.keys(Se.entities).map(st=>e.kPG.entityValueSelector(Se,st))),eo=(0,h.P1)(Q,Se=>Se.index),Oo=Se=>(0,h.P1)(eo,st=>st&&st[Se]);class Zo{}let Or=(()=>{class Se{constructor(ve){this.adapter=ve}loadAll(ve){return this.adapter.loadAll(ve)}load(ve,ct){return this.adapter.load(ve,ct)}create(ve,ct,ot){return this.adapter.create(ve,ct,ot)}delete(ve,ct){return this.adapter.delete(ve,ct)}save(ve,ct,ot,ut){return this.adapter.save(ve,ct,ot,ut)}addEmail(ve,ct,ot){return this.adapter.addEmail(ve,ct,ot)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(Zo))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();const zo=[Cr,Mr,(()=>{class Se{constructor(ve,ct,ot){this.actions$=ve,this.cartConnector=ct,this.store=ot,this.contextChange$=this.actions$.pipe((0,re.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.loadCart$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(tt),(0,S.U)(ut=>ut.payload),(0,Z.v)(ut=>ut.cartId),(0,B.zg)(ut=>ut.pipe((0,V.w)(pn=>(0,he.of)(pn).pipe((0,G.M)(this.store.pipe((0,h.Ys)(gn(pn.cartId)))))),(0,J.h)(([pn,qn])=>!qn),(0,S.U)(([pn])=>pn),(0,V.w)(pn=>this.cartConnector.load(pn.userId,pn.cartId).pipe((0,B.zg)(qn=>{let Ft=[];return qn?(Ft.push(new X({...pn,cart:qn,cartId:Gn(qn,pn.userId)})),pn.cartId===e.gSv&&Ft.push(new yt({cartId:e.gSv}))):Ft=[new pe({...pn,error:{}})],Ft}),(0,P.K)(qn=>{if(qn?.error?.errors){if(qn.error.errors.filter(ui=>"invalid"===ui.reason).length>0)return(0,he.of)(new Fe({...pn}));if(qn.error.errors.filter(ui=>Pr(ui)||"UnknownResourceError"===ui.reason).length>0)return(0,he.of)(new yt({cartId:pn.cartId}))}return(0,he.of)(new pe({...pn,error:(0,e.cxH)(qn)}))}))))),(0,e.FM_)(this.contextChange$))),this.createCart$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Re),(0,S.U)(ut=>ut.payload),(0,B.zg)(ut=>this.cartConnector.create(ut.userId,ut.oldCartId,ut.toMergeCartGuid).pipe((0,V.w)(pn=>{const qn=[];return ut.oldCartId&&qn.push(new fe({extraData:ut.extraData,userId:ut.userId,tempCartId:ut.tempCartId,cartId:Gn(pn,ut.userId),oldCartId:ut.oldCartId})),[new Qn({...ut,cart:pn,cartId:Gn(pn,ut.userId)}),new yt({cartId:ut.tempCartId}),...qn]}),(0,P.K)(pn=>(0,he.of)(new Ln({...ut,error:(0,e.cxH)(pn)}))))),(0,e.FM_)(this.contextChange$))),this.mergeCart$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Ht),(0,S.U)(ut=>ut.payload),(0,V.w)(ut=>this.cartConnector.load(ut.userId,e.gSv).pipe((0,S.U)(pn=>{if(pn?.code!==ut.cartId)return new On({userId:ut.userId,oldCartId:ut.cartId,toMergeCartGuid:pn?pn.guid:void 0,extraData:ut.extraData,tempCartId:ut.tempCartId})}),(0,J.h)(e.pTN))),(0,e.FM_)(this.contextChange$))),this.refresh$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Pt),(0,S.U)(ut=>ut.payload),(0,w.b)(ut=>(0,Ve.D)([new rr(ut.cartId),new Fe({userId:ut.userId,cartId:ut.cartId})])))),this.refreshWithoutProcesses$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(an,ft,Vt,Ue),(0,S.U)(ut=>ut.payload),(0,S.U)(ut=>new Fe({userId:ut.userId,cartId:ut.cartId})))),this.resetCartDetailsOnSiteContextChange$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(e.dO9.LANGUAGE_CHANGE,e.dO9.CURRENCY_CHANGE),(0,B.zg)(()=>[new et]))),this.addEmail$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Tt),(0,S.U)(ut=>ut.payload),(0,B.zg)(ut=>this.cartConnector.addEmail(ut.userId,ut.cartId,ut.email).pipe((0,B.zg)(()=>[new Oe({...ut}),new Fe({userId:ut.userId,cartId:ut.cartId})]),(0,P.K)(pn=>(0,Ve.D)([new nr({...ut,error:(0,e.cxH)(pn)}),new Fe({userId:ut.userId,cartId:ut.cartId})])))),(0,e.FM_)(this.contextChange$))),this.deleteCart$=(0,re.GW)(()=>this.actions$.pipe((0,re.l4)(Nn),(0,S.U)(ut=>ut.payload),(0,B.zg)(ut=>this.cartConnector.delete(ut.userId,ut.cartId).pipe((0,S.U)(()=>new Qt({...ut})),(0,P.K)(pn=>(0,Ve.D)([new Bn({...ut,error:(0,e.cxH)(pn)}),new Fe({...ut})]))))))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(re.eX),n.LFG(Or),n.LFG(h.yh))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),(()=>{class Se{constructor(ve){this.actions$=ve,this.processesIncrement$=this.actions$.pipe((0,re.l4)(nt),(0,S.U)(ct=>ct.payload),(0,S.U)(ct=>new Yn(ct.cartId))),this.setSelectiveId$=this.actions$.pipe((0,re.l4)(Xe),(0,S.U)(ct=>{switch(ct.type){case Xe:{const ot=ct.payload;if(pr(ot.cartId))return new _r({cartType:F.EI.SELECTIVE,cartId:ot.cartId});break}}}),(0,J.h)(e.pTN)),this.setActiveCartId$=this.actions$.pipe((0,re.l4)(Xe,tt,De,Re,Hn),(0,S.U)(ct=>{switch(ct.type){case tt:if(ct?.payload?.cartId===e.gSv)return new _r({cartType:F.EI.ACTIVE,cartId:""});break;case Xe:case Re:if(ct?.payload?.extraData?.active)return new _r({cartType:F.EI.ACTIVE,cartId:ct.meta.entityId});break;case De:return new _r({cartType:ct?.payload?.extraData?.active?F.EI.ACTIVE:F.EI.NEW_CREATED,cartId:ct.meta.entityId});case Hn:return new _r({cartType:F.EI.ACTIVE,cartId:ct.payload})}}),(0,J.h)(e.pTN))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(re.eX))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),(0,Ie.gn)([(0,re.Qm)()],Se.prototype,"processesIncrement$",void 0),(0,Ie.gn)([(0,re.Qm)()],Se.prototype,"setSelectiveId$",void 0),(0,Ie.gn)([(0,re.Qm)()],Se.prototype,"setActiveCartId$",void 0),Se})()],Lo={[F.EI.ACTIVE]:""};function Xo(Se=Lo,st){switch(st.type){case Wn:return{...Se,[st.payload.cartType]:st.payload.cartId};case Vn:case ur:return st.payload?.cartId===Se[F.EI.ACTIVE]?{...Se,[F.EI.ACTIVE]:""}:Se;case wn:return Lo}return Se}function Fo(Se,st){switch(st.type){case At:return st.payload;case Xe:case De:case vr:return st.payload.cart}return Se}const br=[function Wo(Se){return function(st,ve){return ve.type===e.uQL.LOGOUT&&(st=void 0),Se(st,ve)}}],bo=new n.OlP("MultiCartReducers"),No={provide:bo,useFactory:function ko(){return{carts:e.kPG.entityProcessesLoaderReducer(Je,Fo),index:Xo}}};var ai=Object.freeze({__proto__:null,getMultiCartState:Q,getMultiCartEntities:je,getCartEntitySelectorFactory:Rt,getCartSelectorFactory:cn,getCartIsStableSelectorFactory:hn,getCartHasPendingProcessesSelectorFactory:gn,getCartEntriesSelectorFactory:ir,getCartEntrySelectorFactory:sr,getCartsSelectorFactory:Ir,getCartTypeIndex:eo,getCartIdByTypeFactory:Oo});let Jo=(()=>{class Se{constructor(ve,ct,ot){this.statePersistenceService=ve,this.store=ct,this.siteContextParamsService=ot,this.subscription=new ge.w}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:"cart",state$:this.getCartState(),context$:this.siteContextParamsService.getValues([e.iEg]),storageType:e.iHd.LOCAL_STORAGE,onRead:ve=>this.onRead(ve)}))}getCartState(){return this.store.pipe((0,J.h)(ve=>!!ve.cart),(0,h.Ys)(Q),(0,J.h)(ve=>!!ve),(0,S.U)(ve=>ve.index),(0,q.g)("Active"),(0,S.U)(ve=>({active:ve[F.EI.ACTIVE]??""})))}onRead(ve){this.store.dispatch(new Dn),this.store.dispatch(new Qr(ve?ve.active:""))}ngOnDestroy(){this.subscription.unsubscribe()}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(e.WBb),n.LFG(h.yh),n.LFG(e.Qnj))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();function Uo(Se,st){return()=>st.getStable("context").pipe((0,ne.b)(()=>{Se.initSync()})).toPromise()}function ci(){return st=>(ve,ct)=>{const ot={...ve};return"@ngrx/store/init"===ct.type&&(ot.cart={...ot.cart,index:{[F.EI.ACTIVE]:void 0}}),st(ot,ct)}}let Tr=(()=>{class Se{}return Se.\u0275fac=function(ve){return new(ve||Se)},Se.\u0275mod=n.oAB({type:Se}),Se.\u0275inj=n.cJS({providers:[{provide:e.z4I,useFactory:Uo,deps:[Jo,e.yUt],multi:!0},{provide:h.sr,useFactory:ci,multi:!0}]}),Se})();class To{}let po=(()=>{class Se{constructor(ve){this.adapter=ve}validate(ve,ct){return this.adapter.validate(ve,ct)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(To))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),no=(()=>{class Se{constructor(ve,ct,ot,ut){this.actionsSubject=ve,this.event=ct,this.activeCartService=ot,this.stateEventService=ut,this.register()}register(){this.registerCreateCart(),this.registerAddEntry(),this.registerRemoveEntry(),this.registerUpdateEntry(),this.registerDeleteCart()}registerAddEntry(){this.registerMapped({action:Ne,event:F.uP}),this.registerMapped({action:an,event:F.VD}),this.registerMapped({action:Gt,event:F.K$})}registerRemoveEntry(){this.registerMapped({action:ft,event:F.A7}),this.registerMapped({action:nn,event:F.dC})}registerUpdateEntry(){this.registerMapped({action:Vt,event:F.X}),this.registerMapped({action:qe,event:F.gI})}registerCreateCart(){this.stateEventService.register({action:Re,event:F.su}),this.stateEventService.register({action:De,event:F.cA}),this.stateEventService.register({action:Dt,event:F.Cj})}registerDeleteCart(){this.stateEventService.register({action:Nn,event:F.aY,factory:ve=>(0,e.PjU)(F.aY,{...ve.payload,cartCode:ve.payload.cartId})}),this.stateEventService.register({action:ur,event:F.N0,factory:ve=>(0,e.PjU)(F.N0,{...ve.payload,cartCode:ve.payload.cartId})}),this.stateEventService.register({action:yn,event:F.Ks,factory:ve=>(0,e.PjU)(F.Ks,{...ve.payload,cartCode:ve.payload.cartId})})}registerMapped(ve){const ct=this.getAction(ve.action).pipe((0,V.w)(ot=>(0,he.of)(ot).pipe((0,G.M)(this.activeCartService.getActive(),this.activeCartService.getActiveCartId()))),(0,J.h)(([ot,ut,pn])=>ot.payload.cartId===pn),(0,S.U)(([ot,ut])=>(0,e.PjU)(ve.event,{...ot.payload,cartCode:ut.code,entry:ot.payload.entry?ot.payload.entry:ut.entries?.[Number(ot.payload.entryNumber)]})));return this.event.register(ve.event,ct)}getAction(ve){return this.actionsSubject.pipe((0,re.l4)(...[].concat(ve)))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(h.UO),n.LFG(e.POd),n.LFG(F.bu),n.LFG(e.vL$))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),ro=(()=>{class Se{constructor(ve){}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(no))},Se.\u0275mod=n.oAB({type:Se}),Se.\u0275inj=n.cJS({}),Se})(),_i=(()=>{class Se{constructor(ve){this.eventService=ve,this.register()}register(){this.eventService.register(F.uB,this.buildCartPageEvent())}buildCartPageEvent(){return this.eventService.get(Ce.z4w).pipe((0,J.h)(ve=>"cart"===ve.semanticRoute),(0,S.U)(ve=>(0,e.PjU)(F.uB,{navigation:ve})))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(e.POd))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),kn=(()=>{class Se{constructor(ve){}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(_i))},Se.\u0275mod=n.oAB({type:Se}),Se.\u0275inj=n.cJS({}),Se})(),Bo=(()=>{class Se{constructor(ve,ct){this.multiCartFacade=ve,this.userIdService=ct,this.subscription=new ge.w,this.activeCartId$=this.userIdService.getUserId().pipe((0,ue.q)(1),(0,ae.c)(this.multiCartFacade.getCartIdByType(F.EI.ACTIVE)),(0,J.h)(ot=>void 0!==ot),(0,S.U)(ot=>""===ot?e.gSv:ot)),this.cartEntity$=this.activeCartId$.pipe((0,V.w)(ot=>this.multiCartFacade.getCartEntity(ot))),this.checkInitLoad=void 0,this.initActiveCart(),this.detectUserChange()}initActiveCart(){const ve=this.cartEntity$.pipe((0,S.U)(ot=>({cart:ot.value,isStable:!ot.loading&&0===ot.processesCount,loaded:Boolean((ot.error||ot.success)&&!ot.loading)})),(0,J.h)(({isStable:ot,cart:ut})=>ot||N(ut))),ct=ve.pipe((0,G.M)(this.activeCartId$,this.userIdService.getUserId()),(0,ne.b)(([{cart:ot,loaded:ut,isStable:pn},qn,Ft])=>{pn&&N(ot)&&!ut&&!gt(qn)&&this.load(qn,Ft)}));this.activeCart$=(0,de.g)(()=>ct.subscribe(),()=>ve).pipe((0,S.U)(({cart:ot})=>ot||{}),(0,Ee.x)(),(0,Ye.d)({bufferSize:1,refCount:!0}))}detectUserChange(){this.subscription.add(this.userIdService.getUserId().pipe((0,at.G)(),(0,G.M)(this.activeCartId$)).subscribe(([[ve,ct],ot])=>{(function I(Se,st){return Se!==e.Fds&&st!==Se})(ct,ve)&&this.loadOrMerge(ot,ct,ve)}))}getActive(){return this.activeCart$}takeActive(){return this.isStable().pipe((0,J.h)(ve=>ve),(0,V.w)(()=>this.getActive()),(0,J.h)(ve=>!!ve),(0,ue.q)(1))}getActiveCartId(){return this.activeCart$.pipe((0,G.M)(this.userIdService.getUserId()),(0,S.U)(([ve,ct])=>Gn(ve,ct)),(0,Ee.x)())}takeActiveCartId(){return this.isStable().pipe((0,J.h)(ve=>ve),(0,V.w)(()=>this.getActiveCartId()),(0,J.h)(ve=>!!ve),(0,ue.q)(1))}getEntries(){return this.activeCartId$.pipe((0,V.w)(ve=>this.multiCartFacade.getEntries(ve)),(0,Ee.x)())}getLastEntry(ve){return this.activeCartId$.pipe((0,V.w)(ct=>this.multiCartFacade.getLastEntry(ct,ve)),(0,Ee.x)())}getLoading(){return this.cartEntity$.pipe((0,S.U)(ve=>Boolean(ve.loading)),(0,Ee.x)())}isStable(){return this.activeCartId$.pipe((0,V.w)(ve=>this.multiCartFacade.isStable(ve)))}load(ve,ct){ct===e.Fds&&ve===e.gSv||this.multiCartFacade.loadCart({userId:ct,cartId:ve,extraData:{active:!0}})}loadOrMerge(ve,ct,ot){ve===e.gSv||ot!==e.Fds?this.multiCartFacade.loadCart({userId:ct,cartId:ve,extraData:{active:!0}}):Boolean((0,e.P51)(this.isGuestCart()))?this.guestCartMerge(ve):this.multiCartFacade.mergeToCurrentCart({userId:ct,cartId:ve,extraData:{active:!0}})}guestCartMerge(ve){this.getEntries().pipe((0,ue.q)(1)).subscribe(ct=>{this.multiCartFacade.deleteCart(ve,e.Fds),this.addEntriesGuestMerge(ct)})}addEntriesGuestMerge(ve){const ct=ve.map(ot=>({productCode:ot.product?.code??"",quantity:ot.quantity??0}));this.requireLoadedCart(!0).pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([ot,ut])=>{this.multiCartFacade.addEntries(ut,Gn(ot,ut),ct)})}isCartCreating(ve,ct){return gt(ct)&&(ve.loading||ve.success||ve.error)}requireLoadedCart(ve=!1){this.checkInitLoad=void 0===this.checkInitLoad;const ct=(ve?this.cartEntity$.pipe((0,J.h)(()=>!Boolean((0,e.P51)(this.isGuestCart())))):this.cartEntity$).pipe((0,J.h)(ot=>!ot.loading||!!this.checkInitLoad));return this.activeCartId$.pipe((0,G.M)(ct),(0,J.h)(([ot,ut])=>!this.isCartCreating(ut,ot)),(0,S.U)(([,ot])=>ot),(0,ue.q)(1),(0,G.M)(this.userIdService.getUserId()),(0,ne.b)(([ot,ut])=>{N(ot.value)&&ut!==e.Fds&&!ot.loading&&this.load(e.gSv,ut),this.checkInitLoad=!1}),(0,ae.c)(ct),(0,G.M)(this.userIdService.getUserId()),(0,J.h)(([ot,ut])=>Boolean(ut===e.Fds||ot.success||ot.error)),(0,ue.q)(1),(0,ne.b)(([ot,ut])=>{N(ot.value)&&this.multiCartFacade.createCart({userId:ut,extraData:{active:!0}})}),(0,ae.c)(ct),(0,J.h)(ot=>ot.success||ot.error),(0,G.M)(this.activeCartId$),(0,J.h)(([ot,ut])=>!this.isCartCreating(ot,ut)),(0,S.U)(([ot])=>ot.value),(0,J.h)(ot=>!N(ot)),(0,ue.q)(1))}addEntry(ve,ct){this.requireLoadedCart().pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([ot,ut])=>{this.multiCartFacade.addEntry(ut,Gn(ot,ut),ve,ct)})}removeEntry(ve){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([ct,ot])=>{this.multiCartFacade.removeEntry(ot,ct,ve.entryNumber)})}updateEntry(ve,ct){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([ot,ut])=>{this.multiCartFacade.updateEntry(ut,ot,ve,ct)})}getEntry(ve){return this.activeCartId$.pipe((0,V.w)(ct=>this.multiCartFacade.getEntry(ct,ve)),(0,Ee.x)())}addEmail(ve){this.activeCartId$.pipe((0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1)).subscribe(([ct,ot])=>{this.multiCartFacade.assignEmail(ct,ot,ve)})}getAssignedUser(){return this.activeCart$.pipe((0,S.U)(ve=>ve.user))}isGuestCart(ve){return ve?(0,he.of)(this.isCartUserGuest(ve)):this.activeCart$.pipe((0,S.U)(ct=>this.isCartUserGuest(ct)),(0,Ee.x)())}isCartUserGuest(ve){const ct=ve.user;return Boolean(ct&&(ct.name===e.YI5||function be(Se){return!!Se&&!!Se.match(e.QIJ)}(ct.uid?.split("|").slice(1).join("|"))))}addEntries(ve){const ct=ve.map(ot=>({productCode:ot.product?.code??"",quantity:ot.quantity??0}));this.requireLoadedCart().pipe((0,G.M)(this.userIdService.getUserId())).subscribe(([ot,ut])=>{ot&&this.multiCartFacade.addEntries(ut,Gn(ot,ut),ct)})}reloadActiveCart(){(0,it.aj)([this.getActiveCartId(),this.userIdService.takeUserId()]).pipe((0,ue.q)(1),(0,S.U)(([ve,ct])=>{this.multiCartFacade.loadCart({cartId:ve,userId:ct,extraData:{active:!0}})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(F.WT),n.LFG(e.XBV))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Mo=(()=>{class Se{constructor(ve){this.routingService=ve,this.NAVIGATION_SKIPS=2,this.navigationIdCount=0,this.subscription=new ge.w,this.cartValidationResult$=new He.t(1),this.checkForValidationResultClear$=this.routingService.getRouterState().pipe((0,G.M)(this.cartValidationResult$),(0,ne.b)(([ct,ot])=>{this.navigationIdCount+this.NAVIGATION_SKIPS<=ct.navigationId&&ot.length&&(this.cartValidationResult$.next([]),this.navigationIdCount=ct.navigationId)})),this.setInitialState()}ngOnDestroy(){this.subscription.unsubscribe()}setInitialState(){this.setNavigationIdStep(),this.subscription.add(this.checkForValidationResultClear$.subscribe())}updateValidationResultAndRoutingId(ve){this.cartValidationResult$.next(ve),this.setNavigationIdStep()}setNavigationIdStep(){this.routingService.getRouterState().pipe((0,ue.q)(1)).subscribe(ve=>this.navigationIdCount=ve.navigationId)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(e.Znh))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Hr=(()=>{class Se{constructor(ve,ct,ot,ut,pn){this.cartValidationConnector=ve,this.command=ct,this.userIdService=ot,this.activeCartFacade=ut,this.cartValidationStateService=pn,this.validateCartCommand=this.command.create(()=>(0,it.aj)([this.activeCartFacade.getActiveCartId(),this.userIdService.takeUserId(),this.activeCartFacade.isStable()]).pipe((0,J.h)(([qn,Ft,Fn])=>Fn),(0,ue.q)(1),(0,V.w)(([qn,Ft])=>this.cartValidationConnector.validate(qn,Ft))),{strategy:e.flE.CancelPrevious})}validateCart(){return this.validateCartCommand.execute()}getValidationResults(){return this.cartValidationStateService.cartValidationResult$}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(po),n.LFG(e.VDr),n.LFG(e.XBV),n.LFG(F.bu),n.LFG(Mo))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),kr=(()=>{class Se{constructor(ve,ct,ot){this.store=ve,this.activeCartFacade=ct,this.userIdService=ot}addVoucher(ve,ct){this.combineUserAndCartId(ct).subscribe(([ot,ut])=>this.store.dispatch(new ke({userId:ot,cartId:ut,voucherId:ve})))}removeVoucher(ve,ct){this.combineUserAndCartId(ct).subscribe(([ot,ut])=>this.store.dispatch(new Yt({userId:ot,cartId:ut,voucherId:ve})))}getAddVoucherResultError(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessErrorFactory(lt)))}getAddVoucherResultSuccess(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessSuccessFactory(lt)))}getAddVoucherResultLoading(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessLoadingFactory(lt)))}resetAddVoucherProcessingState(){this.store.dispatch(new en)}combineUserAndCartId(ve){return ve?this.userIdService.getUserId().pipe((0,ue.q)(1),(0,S.U)(ct=>[ct,ve])):(0,it.aj)([this.userIdService.getUserId(),this.activeCartFacade.getActiveCartId()]).pipe((0,ue.q)(1))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(h.yh),n.LFG(F.bu),n.LFG(e.XBV))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),fo=(()=>{class Se{constructor(ve,ct){this.store=ve,this.userIdService=ct}getCart(ve){return this.store.pipe((0,h.Ys)(cn(ve)))}getCarts(){return this.store.pipe((0,h.Ys)(Ir))}getCartEntity(ve){return this.store.pipe((0,h.Ys)(Rt(ve)))}isStable(ve){return this.store.pipe((0,h.Ys)(hn(ve)),(0,ze.D)(ct=>ct?(0,Te.H)(0):Me.E),(0,Ee.x)())}generateTempCartId(){return`temp-${Math.random().toString(36).substr(2,9)}`}createCart({userId:ve,oldCartId:ct,toMergeCartGuid:ot,extraData:ut}){const pn=this.generateTempCartId();return this.store.dispatch(new On({extraData:ut,userId:ve,oldCartId:ct,toMergeCartGuid:ot,tempCartId:pn})),this.getCartIdByType(ut?.active?F.EI.ACTIVE:F.EI.NEW_CREATED).pipe((0,V.w)(qn=>this.getCart(qn)),(0,J.h)(e.pTN))}mergeToCurrentCart({userId:ve,cartId:ct,extraData:ot}){const ut=this.generateTempCartId();this.store.dispatch(new O({userId:ve,cartId:ct,extraData:ot,tempCartId:ut}))}loadCart({cartId:ve,userId:ct,extraData:ot}){this.store.dispatch(new Fe({userId:ct,cartId:ve,extraData:ot}))}getEntries(ve){return this.store.pipe((0,h.Ys)(ir(ve)))}getLastEntry(ve,ct){return this.store.pipe((0,h.Ys)(ir(ve)),(0,S.U)(ot=>{const ut=ot.filter(pn=>pn.product?.code===ct);return ut?ut[ut.length-1]:void 0}))}addEntry(ve,ct,ot,ut){this.store.dispatch(new rn({userId:ve,cartId:ct,productCode:ot,quantity:ut}))}addEntries(ve,ct,ot){ot.forEach(ut=>{this.store.dispatch(new rn({userId:ve,cartId:ct,productCode:ut.productCode,quantity:ut.quantity}))})}removeEntry(ve,ct,ot){this.store.dispatch(new Ke({userId:ve,cartId:ct,entryNumber:`${ot}`}))}updateEntry(ve,ct,ot,ut){ut>0?this.store.dispatch(new dn({userId:ve,cartId:ct,entryNumber:`${ot}`,quantity:ut})):this.removeEntry(ve,ct,ot)}getEntry(ve,ct){return this.store.pipe((0,h.Ys)(sr(ve,ct)))}assignEmail(ve,ct,ot){this.store.dispatch(new lr({userId:ct,cartId:ve,email:ot}))}removeCart(ve){this.store.dispatch(new yt({cartId:ve}))}deleteCart(ve,ct){this.store.dispatch(new qt({userId:ct,cartId:ve}))}reloadCart(ve,ct){this.userIdService.takeUserId().subscribe(ot=>this.store.dispatch(new Fe({userId:ot,cartId:ve,extraData:ct})))}getCartIdByType(ve){return this.store.pipe((0,h.Ys)(Oo(ve)),(0,Ee.x)())}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(h.yh),n.LFG(e.XBV))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Ze=(()=>{class Se{constructor(ve,ct,ot,ut){this.userProfileFacade=ve,this.multiCartFacade=ct,this.baseSiteService=ot,this.userIdService=ut}getCart(){return this.selectiveCart$||(this.selectiveCart$=(0,it.aj)([this.getSelectiveCartId(),this.userProfileFacade.get(),this.userIdService.getUserId(),this.baseSiteService.getActive()]).pipe((0,Ee.x)(),(0,ne.b)(([ve,ct,ot,ut])=>{!Boolean(ve)&&ot!==e.Fds&&ct?.customerId&&this.multiCartFacade.loadCart({userId:ot,cartId:`selectivecart${ut}${ct.customerId}`})}),(0,J.h)(([ve])=>Boolean(ve)),(0,V.w)(([ve])=>this.multiCartFacade.getCart(ve)),(0,Ye.d)({bufferSize:1,refCount:!0}))),this.selectiveCart$}getEntries(){return this.getSelectiveCartId().pipe((0,V.w)(ve=>this.multiCartFacade.getEntries(ve)))}isStable(){return this.getSelectiveCartId().pipe((0,V.w)(ve=>this.multiCartFacade.isStable(ve)))}addEntry(ve,ct){this.getSelectiveIdWithUserId().subscribe(([ot,ut])=>{this.multiCartFacade.addEntry(ut,ot,ve,ct)})}removeEntry(ve){this.getSelectiveIdWithUserId().subscribe(([ct,ot])=>{this.multiCartFacade.removeEntry(ot,ct,ve.entryNumber)})}updateEntry(ve,ct){this.getSelectiveIdWithUserId().subscribe(([ot,ut])=>{this.multiCartFacade.updateEntry(ut,ot,ve,ct)})}getEntry(ve){return this.getSelectiveCartId().pipe((0,V.w)(ct=>this.multiCartFacade.getEntry(ct,ve)))}getSelectiveCartId(){return this.multiCartFacade.getCartIdByType(F.EI.SELECTIVE)}getSelectiveIdWithUserId(){return this.getSelectiveCartId().pipe((0,Ee.x)(),(0,G.M)(this.userIdService.getUserId()),(0,ue.q)(1))}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(we.aT),n.LFG(F.WT),n.LFG(e.Do$),n.LFG(e.XBV))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Mt=[Bo,{provide:F.bu,useExisting:Bo},kr,{provide:F.LN,useExisting:kr},fo,{provide:F.WT,useExisting:fo},Ze,{provide:F.Oo,useExisting:Ze},Hr,{provide:F.mU,useExisting:Hr}];let pt=(()=>{class Se extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(ve){return super.hasMatch(ve)&&this.getErrors(ve).some(Be)}handleError(ve,ct){this.handleCartNotFoundError(ve,ct),this.handleOtherCartErrors(ve,ct)}handleCartNotFoundError(ve,ct){this.getErrors(ct).filter(ot=>Pr(ot)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.cartNotFound"},e.xUg.MSG_TYPE_ERROR)})}handleOtherCartErrors(ve,ct){this.getErrors(ct).filter(ot=>"notFound"!==ot.reason||"cart"!==ot.subjectType).forEach(ot=>{this.globalMessageService.add(ot.message?ot.message:{key:"httpHandlers.otherCartErrors"},e.xUg.MSG_TYPE_ERROR)})}getErrors(ve){return(ve.error?.errors||[]).filter(ct=>"JaloObjectNoLongerValidError"!==ct.type)}}return Se.\u0275fac=function(){let st;return function(ct){return(st||(st=n.n5z(Se)))(ct||Se)}}(),Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Zt=(()=>{class Se extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(ve){return super.hasMatch(ve)&&this.getErrors(ve).some(xr)}handleError(ve,ct){this.handleVoucherExceededError(ve,ct),this.handleVoucherInvalidError(ve,ct)}handleVoucherExceededError(ve,ct){this.getErrors(ct).filter(ot=>function qr(Se){return"coupon.already.redeemed"===Se.message}(ot)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.voucherExceeded"},e.xUg.MSG_TYPE_ERROR)})}handleVoucherInvalidError(ve,ct){this.getErrors(ct).filter(ot=>function Xr(Se){return"coupon.invalid.code.provided"===Se.message}(ot)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.invalidCodeProvided"},e.xUg.MSG_TYPE_ERROR)})}getErrors(ve){return(ve.error?.errors||[]).filter(ct=>"JaloObjectNoLongerValidError"!==ct.type)}}return Se.\u0275fac=function(){let st;return function(ct){return(st||(st=n.n5z(Se)))(ct||Se)}}(),Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Wt=(()=>{class Se{}return Se.\u0275fac=function(ve){return new(ve||Se)},Se.\u0275mod=n.oAB({type:Se}),Se.\u0275inj=n.cJS({providers:[No],imports:[Ae.ez,e.vUS,h.Aw.forFeature("cart",bo,{metaReducers:br}),re.sQ.forFeature(zo)]}),Se})(),on=(()=>{class Se{}return Se.\u0275fac=function(ve){return new(ve||Se)},Se.\u0275mod=n.oAB({type:Se}),Se.\u0275inj=n.cJS({providers:[Or,dr,Jn,po,...Mt,{provide:e.kck,useExisting:pt,multi:!0},{provide:e.kck,useExisting:Zt,multi:!0}],imports:[ro,Wt,Tr,kn]}),Se})();const An=new n.OlP("CartValidationNormalizer");let $r=(()=>{class Se{constructor(ve){this.config=ve}isSelectiveCartEnabled(){return Boolean(this.config?.cart?.selectiveCart?.enabled)}isCartValidationEnabled(){return Boolean(this.config?.cart?.validation?.enabled)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(F.qB))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Nr=(()=>{class Se{constructor(ve,ct,ot,ut,pn,qn,Ft){this.cartValidationService=ve,this.semanticPathService=ct,this.router=ot,this.globalMessageService=ut,this.activeCartService=pn,this.cartValidationStateService=qn,this.cartConfigService=Ft,this.GLOBAL_MESSAGE_TIMEOUT=1e4}canActivate(){return this.cartConfigService.isCartValidationEnabled()?this.cartValidationService.validateCart().pipe((0,G.M)(this.activeCartService.getEntries()),(0,S.U)(([ve,ct])=>{if(this.cartValidationStateService.updateValidationResultAndRoutingId(ve.cartModifications??[]),void 0!==ve.cartModifications&&0!==ve.cartModifications.length){let ot;const ut=ve.cartModifications[0];return ot=1===ct.length&&ct[0].product?.code===ut.entry?.product?.code&&ut.statusCode===F.v$.NO_STOCK?{key:"validation.cartEntryRemoved",params:{name:ut.entry?.product?.name}}:{key:"validation.cartEntriesChangeDuringCheckout"},this.globalMessageService.add(ot,e.xUg.MSG_TYPE_ERROR,this.GLOBAL_MESSAGE_TIMEOUT),this.activeCartService.reloadActiveCart(),this.router.parseUrl(this.semanticPathService.get("cart")??"")}return!0})):(0,he.of)(!0)}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(F.mU),n.LFG(e.hCH),n.LFG(Ge.F0),n.LFG(e.IWp),n.LFG(F.bu),n.LFG(Mo),n.LFG($r))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Sn=(()=>{class Se{constructor(ve){this.actionsSubject=ve}getResults(ve){return this.actionsSubject.pipe((0,re.l4)(an,Gt),(0,J.h)(ct=>ct.payload.cartId===ve),(0,S.U)(ct=>this.mapMessages(ct)))}mapMessages(ve){const{productCode:ct}=ve.payload;if(ve instanceof me){const{quantity:ot,quantityAdded:ut,entry:pn,statusCode:qn}=ve.payload;if(qn===F.QX.LOW_STOCK)return{productCode:ct,statusCode:qn,productName:pn?.product?.name,quantity:ot,quantityAdded:ut};if(qn===F.QX.SUCCESS||qn===F.QX.NO_STOCK)return{productCode:ct,statusCode:qn,productName:pn?.product?.name}}else if(ve instanceof Et){const{error:ot}=ve.payload;if("UnknownIdentifierError"===ot?.details[0]?.type)return{productCode:ct,statusCode:F.QX.UNKNOWN_IDENTIFIER}}return(0,n.X6Q)()&&console.warn("Unrecognized cart add entry action type while mapping messages",ve),{productCode:ct,statusCode:F.QX.UNKNOWN_ERROR}}}return Se.\u0275fac=function(ve){return new(ve||Se)(n.LFG(h.UO))},Se.\u0275prov=n.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},7828:(_e,ie,v)=>{"use strict";v.d(ie,{Tp:()=>Ye});var n=v(4650),e=v(3749),h=v(9057),F=v(529),S=v(1737),w=v(7221),P=v(373),B=v(4850),Z=v(8809),V=v(6895);let G=(()=>{class at{constructor(Ve){this.converter=Ve}convert(Ve,he){return void 0===he&&(he={...Ve}),this.removeDuplicatePromotions(Ve,he),Ve.entries&&(he.entries=Ve.entries.map(ge=>({...ge,product:this.converter.convert(ge.product,h.jrf),promotions:this.converter.convert({item:ge,promotions:he?.appliedProductPromotions},e.Cx)}))),he}removeDuplicatePromotions(Ve,he){Ve&&Ve.potentialOrderPromotions&&(he.potentialOrderPromotions=this.removeDuplicateItems(Ve.potentialOrderPromotions)),Ve&&Ve.potentialProductPromotions&&(he.potentialProductPromotions=this.removeDuplicateItems(Ve.potentialProductPromotions)),Ve&&Ve.appliedOrderPromotions&&(he.appliedOrderPromotions=this.removeDuplicateItems(Ve.appliedOrderPromotions)),Ve&&Ve.appliedProductPromotions&&(he.appliedProductPromotions=this.removeDuplicateItems(Ve.appliedProductPromotions))}removeDuplicateItems(Ve){return Ve.filter((he,ge,de)=>ge===de.map(He=>JSON.stringify(He)).indexOf(JSON.stringify(he)))}}return at.\u0275fac=function(Ve){return new(Ve||at)(n.LFG(h.IXI))},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),J=(()=>{class at{convert(Ve,he){return this.getProductPromotion(Ve.item,Ve.promotions)}getProductPromotion(Ve,he){const ge=[];if(he&&he.length>0)for(const de of he)if(de.description&&de.consumedEntries&&de.consumedEntries.length>0)for(const it of de.consumedEntries)this.isConsumedByEntry(it,Ve)&&ge.push(de);return ge}isConsumedByEntry(Ve,he){const ge=Ve.orderEntryNumber;if(he&&he.entries&&he.entries.length>0){for(const de of he.entries)if(de.entryNumber===ge)return!0;return!1}return ge===he?.entryNumber}}return at.\u0275fac=function(Ve){return new(Ve||at)},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),q=(()=>{class at{constructor(Ve,he,ge){this.http=Ve,this.occEndpointsService=he,this.converterService=ge}add(Ve,he,ge,de=1){const it=this.occEndpointsService.buildUrl("addEntries",{urlParams:{userId:Ve,cartId:he,quantity:de}});if(it.includes(`quantity=${de}`)){const Me=new F.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(it,{},{headers:Me,params:{code:ge}}).pipe(this.converterService.pipeable(e.Ke))}const He={quantity:de,product:{code:ge}},Te=new F.WM({"Content-Type":"application/json"});return this.http.post(it,He,{headers:Te}).pipe(this.converterService.pipeable(e.Ke))}update(Ve,he,ge,de,it){let He={};it&&(He={deliveryPointOfService:{name:it}});const Te=new F.WM({"Content-Type":"application/json"}),Me=this.occEndpointsService.buildUrl("updateEntries",{urlParams:{userId:Ve,cartId:he,entryNumber:ge}});return this.http.patch(Me,{quantity:de,...He},{headers:Te}).pipe(this.converterService.pipeable(e.Ke))}remove(Ve,he,ge){const de=new F.WM({"Content-Type":"application/x-www-form-urlencoded"}),it=this.occEndpointsService.buildUrl("removeEntries",{urlParams:{userId:Ve,cartId:he,entryNumber:ge}});return this.http.delete(it,{headers:de})}}return at.\u0275fac=function(Ve){return new(Ve||at)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac}),at})(),ne=(()=>{class at{constructor(Ve,he,ge){this.http=Ve,this.occEndpoints=he,this.converter=ge}getCartVoucherEndpoint(Ve,he){return this.occEndpoints.buildUrl("cartVoucher",{urlParams:{userId:Ve,cartId:he}})}getHeaders(Ve){let he=new F.WM({"Content-Type":"application/json"});return Ve===h.Fds&&(he=h.Fox.createHeader(h._Re,!0,he)),he}add(Ve,he,ge){const de=this.getCartVoucherEndpoint(Ve,he),it=JSON.stringify({}),He=(new F.LE).set("voucherId",ge),Te=this.getHeaders(Ve);return this.http.post(de,it,{headers:Te,params:He}).pipe((0,w.K)(Me=>(0,S._)(Me)),this.converter.pipeable(e.ij))}remove(Ve,he,ge){const de=this.getCartVoucherEndpoint(Ve,he)+"/"+encodeURIComponent(ge),it=this.getHeaders(Ve);return this.http.delete(de,{headers:it}).pipe((0,w.K)(He=>(0,S._)(He)))}}return at.\u0275fac=function(Ve){return new(Ve||at)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac}),at})(),ue=(()=>{class at{constructor(Ve,he,ge){this.http=Ve,this.occEndpointsService=he,this.converterService=ge}loadAll(Ve){return this.http.get(this.occEndpointsService.buildUrl("carts",{urlParams:{userId:Ve}})).pipe((0,P.j)("carts"),(0,B.U)(he=>he??[]),this.converterService.pipeableMany(e.jK))}load(Ve,he){return he===h.gSv?this.loadAll(Ve).pipe((0,B.U)(ge=>ge.find(de=>void 0===de.saveTime))):this.http.get(this.occEndpointsService.buildUrl("cart",{urlParams:{userId:Ve,cartId:he}})).pipe(this.converterService.pipeable(e.jK))}create(Ve,he,ge){const de=JSON.stringify({});let it={};return he&&(it.oldCartId=he),ge&&(it.toMergeCartGuid=ge),this.http.post(this.occEndpointsService.buildUrl("createCart",{urlParams:{userId:Ve},queryParams:it}),de).pipe(this.converterService.pipeable(e.jK))}delete(Ve,he){let ge=new F.WM;return Ve===h.Fds&&(ge=h.Fox.createHeader(h._Re,!0,ge)),this.http.delete(this.occEndpointsService.buildUrl("deleteCart",{urlParams:{userId:Ve,cartId:he}}),{headers:ge})}save(Ve,he,ge,de){const it=this.occEndpointsService.buildUrl("saveCart",{urlParams:{userId:Ve,cartId:he,saveCartName:ge,saveCartDescription:de}});return this.http.patch(it,he).pipe((0,P.j)("savedCartData"),this.converterService.pipeable(e.jK))}addEmail(Ve,he,ge){let de=new F.WM({"Content-Type":"application/x-www-form-urlencoded"});de=h.Fox.createHeader(h._Re,!0,de);const it=(new F.LE).set("email",ge),He=this.occEndpointsService.buildUrl("addEmail",{urlParams:{userId:Ve,cartId:he}});return this.http.put(He,it,{headers:de})}}return at.\u0275fac=function(Ve){return new(Ve||at)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac}),at})(),ae=(()=>{class at{constructor(Ve,he,ge){this.http=Ve,this.occEndpoints=he,this.converter=ge}validate(Ve,he){const ge=this.occEndpoints.buildUrl("validate",{urlParams:{cartId:Ve,userId:he}});return this.http.post(ge,null).pipe((0,w.K)(de=>(0,S._)((0,h.cxH)(de))),this.converter.pipeable(Z.YA))}}return at.\u0275fac=function(Ve){return new(Ve||at)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},at.\u0275prov=n.Yz7({token:at,factory:at.\u0275fac}),at})();const Ee={backend:{occ:{endpoints:{carts:"users/${userId}/carts?fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description)",cart:"users/${userId}/carts/${cartId}?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description",createCart:"users/${userId}/carts?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user",addEntries:"users/${userId}/carts/${cartId}/entries",updateEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",removeEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",addEmail:"users/${userId}/carts/${cartId}/email",deleteCart:"users/${userId}/carts/${cartId}",cartVoucher:"users/${userId}/carts/${cartId}/vouchers",saveCart:"/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}",validate:"users/${userId}/carts/${cartId}/validate?fields=DEFAULT"}}}};let Ye=(()=>{class at{}return at.\u0275fac=function(Ve){return new(Ve||at)},at.\u0275mod=n.oAB({type:at}),at.\u0275inj=n.cJS({providers:[(0,h.i51)(Ee),{provide:Z.YW,useClass:ue},{provide:e.jK,useExisting:G,multi:!0},{provide:e.Cx,useExisting:J,multi:!0},{provide:Z.vI,useClass:q},{provide:Z.Eu,useClass:ne},{provide:Z.n5,useClass:ae}],imports:[V.ez]}),at})()},3749:(_e,ie,v)=>{"use strict";v.d(ie,{A7:()=>Ee,Bx:()=>Vt,Cj:()=>J,Cx:()=>jt,EI:()=>qe,JP:()=>Je,K$:()=>ue,Ke:()=>wt,Ks:()=>He,LN:()=>Jt,N0:()=>it,O0:()=>Te,Oo:()=>ft,QX:()=>Et,SJ:()=>Z,Tc:()=>he,VD:()=>ne,WT:()=>Ce,X:()=>Ye,aY:()=>de,bu:()=>an,c7:()=>ge,cA:()=>G,dC:()=>ae,eE:()=>B,gI:()=>at,ij:()=>kt,jK:()=>Ke,lM:()=>me,mU:()=>Gt,nw:()=>re,oC:()=>Xt,pA:()=>Ve,pl:()=>Ie,qB:()=>lt,su:()=>V,uB:()=>Ne,uP:()=>q,uf:()=>Ge,v$:()=>rn,wj:()=>ze,yj:()=>nn});var n=v(4650),e=v(610),h=v(9057),F=v(1446),S=v(2654);const w={cart:{validation:{enabled:!1},selectiveCart:{enabled:!1}}},P={routing:{routes:{cart:{paths:["cart"]}}}},B=Symbol("ORDER_ENTRIES_CONTEXT");class Z extends h.W8x{}let V=(()=>{class We extends Z{}return We.type="CreateCartEvent",We})(),G=(()=>{class We extends Z{}return We.type="CreateCartSuccessEvent",We})(),J=(()=>{class We extends Z{}return We.type="CreateCartFailEvent",We})(),q=(()=>{class We extends Z{}return We.type="CartAddEntryEvent",We})(),ne=(()=>{class We extends Z{}return We.type="CartAddEntrySuccessEvent",We})(),ue=(()=>{class We extends Z{}return We.type="CartAddEntryFailEvent",We})(),ae=(()=>{class We extends Z{}return We.type="CartRemoveEntryFailEvent",We})(),Ee=(()=>{class We extends Z{}return We.type="CartRemoveEntrySuccessEvent",We})(),Ye=(()=>{class We extends Z{}return We.type="CartUpdateEntrySuccessEvent",We})(),at=(()=>{class We extends Z{}return We.type="CartUpdateEntryFailEvent",We})(),ze=(()=>{class We extends h.W8x{}return We.type="CartUiEventAddToCart",We})(),Ve=(()=>{class We extends Z{}return We.type="MergeCartSuccessEvent",We})(),he=(()=>{class We extends Z{}return We.type="LoadCartEvent",We})(),ge=(()=>{class We extends Z{}return We.type="RemoveCartEvent",We})(),de=(()=>{class We extends Z{}return We.type="DeleteCartEvent",We})(),it=(()=>{class We extends Z{}return We.type="DeleteCartSuccessEvent",We})(),He=(()=>{class We extends Z{}return We.type="DeleteCartFailEvent",We})();const Te="cartBase",Me="cartBaseCore",re="miniCart",Ie="addToCart";let Ce=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(){return(0,h.wvQ)({facade:We,feature:Me,methods:["getCart","getCarts","getCartEntity","isStable","createCart","mergeToCurrentCart","loadCart","getEntries","getLastEntry","addEntry","addEntries","removeEntry","updateEntry","getEntry","assignEmail","removeCart","deleteCart","reloadCart","getCartIdByType"],async:!0})},providedIn:"root"}),We})(),we=(()=>{class We{constructor(Nt,Pt){this.eventService=Nt,this.multiCartFacade=Pt,this.subscriptions=new S.w,this.onCartBaseAction()}onCartBaseAction(){this.subscriptions.add(this.eventService.get(he).subscribe(({userId:Nt,cartId:Pt})=>{Nt&&Pt&&this.multiCartFacade.loadCart({userId:Nt,cartId:Pt})})),this.subscriptions.add(this.eventService.get(ge).subscribe(({cartId:Nt})=>{this.multiCartFacade.removeCart(Nt)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return We.\u0275fac=function(Nt){return new(Nt||We)(n.LFG(h.POd),n.LFG(Ce))},We.\u0275prov=n.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),Ae=(()=>{class We{constructor(Nt){}}return We.\u0275fac=function(Nt){return new(Nt||We)(n.LFG(we))},We.\u0275mod=n.oAB({type:We}),We.\u0275inj=n.cJS({}),We})();const Ge=new n.OlP("ActiveCartOrderEntriesContext");function ht(){return{featureModules:{[Te]:{cmsComponents:["CartApplyCouponComponent","CartComponent","CartProceedToCheckoutComponent","CartTotalsComponent","SaveForLaterComponent","ClearCartComponent"]},[re]:{cmsComponents:["MiniCartComponent"]},[Ie]:{cmsComponents:["ProductAddToCartComponent"]},[Me]:Te}}}let Je=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275mod=n.oAB({type:We}),We.\u0275inj=n.cJS({providers:[(0,h.x2j)(ht),(0,h.i51)(w),(0,h.i51)(P)],imports:[Ae,e.Bz.forChild([{path:null,canActivate:[F.al$],component:F.wAB,data:{cxRoute:"cart",cxContext:{[B]:Ge}}}])]}),We})(),lt=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(Nt){let Pt=null;return Pt=Nt?new(Nt||We):n.LFG(h.DeH),Pt},providedIn:"root"}),We})(),Ne=(()=>{class We extends F.kl2{}return We.type="CartPageEvent",We})(),an=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(){return(0,h.wvQ)({facade:We,feature:Me,methods:["getActive","takeActive","getActiveCartId","takeActiveCartId","getEntries","getLastEntry","getLoading","isStable","addEntry","removeEntry","updateEntry","getEntry","addEmail","getAssignedUser","isGuestCart","addEntries","requireLoadedCart","reloadActiveCart"],async:!0})},providedIn:"root"}),We})(),Gt=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(){return(0,h.wvQ)({facade:We,feature:Me,methods:["validateCart","getValidationResults"]})},providedIn:"root"}),We})(),Jt=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(){return(0,h.wvQ)({facade:We,feature:Me,methods:["addVoucher","removeVoucher","getAddVoucherResultError","getAddVoucherResultSuccess","getAddVoucherResultLoading","resetAddVoucherProcessingState"],async:!0})},providedIn:"root"}),We})(),ft=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:function(){return(0,h.wvQ)({facade:We,feature:Me,methods:["getCart","getEntries","isStable","addEntry","removeEntry","updateEntry","getEntry"],async:!0})},providedIn:"root"}),We})(),nn=(()=>{class We{}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275prov=n.Yz7({token:We,factory:We.\u0275fac}),We})();var Xt=(()=>{return(We=Xt||(Xt={})).ITEM="cx-cart-item",We.LIST_ITEM="cx-cart-item-list-row",We.ITEM_DETAILS="cx-cart-item.details",We.ITEM_CONFIGURATOR_ISSUES="cx-configurator-issues-notification",We.ITEM_BUNDLE_DETAILS="cx-cart-item.bundle-details",We.ORDER_SUMMARY="cx-order-summary",We.CART_ITEM_LIST="cx-cart-item-list",Xt;var We})(),Vt=(()=>{return(We=Vt||(Vt={})).ActiveCart="CART",We.Checkout="CHECKOUT",We.Order="ORDER",We.SaveForLater="SAVE_FOR_LATER",We.SavedCart="SAVED_CART",Vt;var We})(),qe=(()=>{return(We=qe||(qe={})).ACTIVE="Active",We.WISH_LIST="WishList",We.SELECTIVE="Selective",We.NEW_CREATED="NewCreated",qe;var We})(),rn=(()=>{return(We=rn||(rn={})).NO_STOCK="noStock",We.LOW_STOCK="lowStock",We.REVIEW_CONFIGURATION="reviewConfiguration",We.PRICING_ERROR="pricingError",We.UNRESOLVABLE_ISSUES="unresolvableIssues",rn;var We})(),me=(()=>{return(We=me||(me={})).ACTIVE_CART="ACTIVE_CART",We.NEW_SAVED_CART="NEW_SAVED_CART",We.QUICK_ORDER="QUICK_ORDER",We.SAVED_CART="SAVED_CART",We.ORDER_CONFIRMATION="ORDER_CONFIRMATION",We.ORDER_DETAILS="ORDER_DETAILS",me;var We})(),Et=(()=>{return(We=Et||(Et={})).SUCCESS="success",We.LOW_STOCK="lowStock",We.NO_STOCK="noStock",We.UNKNOWN_IDENTIFIER="unknownIdentifier",We.UNKNOWN_ERROR="unknownError",We.LIMIT_EXCEEDED="limitExceeded",Et;var We})();const Ke=new n.OlP("CartNormalizer"),jt=new n.OlP("OrderEntryPromotionsNormalizer"),wt=new n.OlP("CartModificationNormalizer"),kt=(new n.OlP("SaveCartNormalizer"),new n.OlP("CartVoucherNormalizer"))},8581:(_e,ie,v)=>{"use strict";v.d(ie,{Jb:()=>w,Jx:()=>B,KI:()=>J,be:()=>G,e$:()=>ue});var n=v(4650),e=v(9057),h=v(610),F=v(3749),S=v(1446);const w={quickOrder:{searchForm:{displayProductImages:!0,maxProducts:5,minCharactersBeforeRequest:3},list:{hardDeleteTimeout:7e3}}},B="cartQuickOrder",Z="cartQuickOrderCore";let G=(()=>{class ae{}return ae.\u0275fac=function(Ye){return new(Ye||ae)},ae.\u0275prov=n.Yz7({token:ae,factory:function(){return function V(){return(0,e.wvQ)({facade:G,feature:Z,methods:["addProduct","addToCart","clearList","canAdd","setListLimit","getEntries","getProductAdded","loadEntries","softDeleteEntry","searchProducts","setProductAdded","updateEntryQuantity","getSoftDeletedEntries","restoreSoftDeletedEntry","hardDeleteEntry","clearDeletedEntries","getNonPurchasableProductError","setNonPurchasableProductError","clearNonPurchasableProductError"]})}()},providedIn:"root"}),ae})();const J=new n.OlP("QuickOrderOrderEntriesContext");function q(){return{featureModules:{[B]:{cmsComponents:["QuickOrderComponent","CartQuickOrderFormComponent"]},[Z]:B}}}const ne={routing:{routes:{quickOrder:{paths:["my-account/quick-order"]}}}};let ue=(()=>{class ae{}return ae.\u0275fac=function(Ye){return new(Ye||ae)},ae.\u0275mod=n.oAB({type:ae}),ae.\u0275inj=n.cJS({providers:[(0,e.x2j)(q),(0,e.i51)(ne),(0,e.i51)(w)],imports:[h.Bz.forChild([{path:null,canActivate:[S.al$],component:S.wAB,data:{cxRoute:"quickOrder",cxContext:{[F.eE]:J}}}])]}),ae})()},950:(_e,ie,v)=>{"use strict";v.d(ie,{$O:()=>He,$Q:()=>V,AE:()=>he,Bi:()=>q,Fd:()=>ge,Lr:()=>J,PN:()=>B,UQ:()=>at,aD:()=>Ve,dE:()=>P,eV:()=>Z,fT:()=>Ee,gl:()=>Ye,j$:()=>ne,j4:()=>ae,jk:()=>de,sY:()=>G,yt:()=>ue});var n=v(3749),e=v(4650),h=v(9057),F=v(1446),S=v(610);class w extends n.SJ{}let P=(()=>{class Te extends w{}return Te.type="SaveCartEvent",Te})(),B=(()=>{class Te extends w{}return Te.type="SaveCartSuccessEvent",Te})(),Z=(()=>{class Te extends w{}return Te.type="SaveCartEvent",Te})(),V=(()=>{class Te extends w{}return Te.type="RestoreSavedCartEvent",Te})(),G=(()=>{class Te extends w{}return Te.type="RestoreSavedCartSuccessEvent",Te})(),J=(()=>{class Te extends w{}return Te.type="RestoreSavedCartFailEvent",Te})(),q=(()=>{class Te extends w{}return Te.type="EditSavedCartEvent",Te})(),ne=(()=>{class Te extends w{}return Te.type="EditSavedCartSuccessEvent",Te})(),ue=(()=>{class Te extends w{}return Te.type="EditSavedCartFailEvent",Te})(),ae=(()=>{class Te extends w{}return Te.type="CloneSavedCartEvent",Te})(),Ee=(()=>{class Te extends w{}return Te.type="CloneSavedCartSuccessEvent",Te})(),Ye=(()=>{class Te extends w{}return Te.type="CloneSavedCartFailEvent",Te})();const at="cartSavedCart",ze="cartSavedCartCore";let Ve=(()=>{class Te{}return Te.\u0275fac=function(re){return new(re||Te)},Te.\u0275prov=e.Yz7({token:Te,factory:function(){return(0,h.wvQ)({facade:Te,feature:ze,methods:["editSavedCart","deleteSavedCart","getSavedCart","getSavedCartList","loadSavedCart","clearCloneSavedCart","clearRestoreSavedCart","clearSaveCart","clearSavedCarts","get","getList","getCloneSavedCartProcessError","getCloneSavedCartProcessLoading","getCloneSavedCartProcessSuccess","getRestoreSavedCartProcessError","getRestoreSavedCartProcessLoading","getRestoreSavedCartProcessSuccess","getSaveCartProcessError","getSaveCartProcessLoading","getSaveCartProcessSuccess","getSavedCartListProcess","getSavedCartListProcessLoading","isStable","cloneSavedCart","loadSavedCarts","restoreSavedCart","saveCart"],async:!0})},providedIn:"root"}),Te})();var he=(()=>{return(Te=he||(he={})).EDIT="edit",Te.DELETE="delete",Te.SAVE="save",Te.RESTORE="restore",he;var Te})();const ge=new e.OlP("SavedCartOrderEntriesContext"),de=new e.OlP("NewSavedCartOrderEntriesContext");function it(){return{featureModules:{[at]:{cmsComponents:["AddToSavedCartsComponent","AccountSavedCartHistoryComponent","SavedCartDetailsOverviewComponent","SavedCartDetailsItemsComponent","SavedCartDetailsActionComponent"],dependencies:[n.O0]},[ze]:at}}}let He=(()=>{class Te{}return Te.\u0275fac=function(re){return new(re||Te)},Te.\u0275mod=e.oAB({type:Te}),Te.\u0275inj=e.cJS({providers:[(0,h.x2j)(it),(0,h.i51)({routing:{routes:{savedCarts:{paths:["my-account/saved-carts"]},savedCartsDetails:{paths:["my-account/saved-cart/:savedCartId"],paramsMapping:{savedCartId:"savedCartId"}}}}})],imports:[S.Bz.forChild([{path:null,canActivate:[h.a1M,F.al$],component:F.wAB,data:{cxRoute:"savedCartsDetails",cxContext:{[n.eE]:ge}}},{path:null,canActivate:[h.a1M,F.al$],component:F.wAB,data:{cxRoute:"savedCarts",cxContext:{[n.eE]:de}}}])]}),Te})()},1487:(_e,ie,v)=>{"use strict";v.d(ie,{CN:()=>at,Go:()=>Ve,H0:()=>J,JO:()=>G,Rx:()=>Z,hA:()=>q,uj:()=>he,vs:()=>ze});var n=v(4650),e=v(7935),h=v(9057),F=v(2654),S=v(6787);const w={checkout:{steps:[{id:"paymentType",name:"checkoutB2B.progress.methodOfPayment",routeName:"checkoutPaymentType",type:["paymentType"]},{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[e.u0.FREE],guest:!1}},P={routing:{routes:{checkoutPaymentType:{paths:["checkout/payment-type"]}}}};class B extends e.iJ{}let Z=(()=>{class ge extends B{}return ge.type="CheckoutCostCenterSetEvent",ge})();class V extends e.iJ{}let G=(()=>{class ge extends V{}return ge.type="CheckoutPaymentTypesQueryReloadEvent",ge})(),J=(()=>{class ge extends V{}return ge.type="CheckoutPaymentTypesQueryResetEvent",ge})(),q=(()=>{class ge extends V{}return ge.type="CheckoutPaymentTypeSetEvent",ge})(),ne=(()=>{class ge{constructor(it){this.eventService=it,this.subscriptions=new F.w,this.onCostCenterSet()}onCostCenterSet(){this.subscriptions.add(this.eventService.get(Z).subscribe(({cartId:it,userId:He})=>{this.eventService.dispatch({cartId:it,userId:He},e.Nw),this.eventService.dispatch({},e.$M)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ge.\u0275fac=function(it){return new(it||ge)(n.LFG(h.POd))},ge.\u0275prov=n.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),ue=(()=>{class ge{constructor(it){this.eventService=it,this.subscriptions=new F.w,this.onPaymentTypeSet(),this.onGetPaymentTypesQueryReload(),this.onGetPaymentTypesQueryReset()}onPaymentTypeSet(){this.subscriptions.add(this.eventService.get(q).subscribe(({userId:it,cartId:He})=>{this.eventService.dispatch({userId:it,cartId:He},e.Nw),this.eventService.dispatch({},e.$M)}))}onGetPaymentTypesQueryReload(){this.subscriptions.add((0,S.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},G)}))}onGetPaymentTypesQueryReset(){this.subscriptions.add((0,S.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},J)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ge.\u0275fac=function(it){return new(it||ge)(n.LFG(h.POd))},ge.\u0275prov=n.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),ae=(()=>{class ge{constructor(it,He){}}return ge.\u0275fac=function(it){return new(it||ge)(n.LFG(ne),n.LFG(ue))},ge.\u0275mod=n.oAB({type:ge}),ge.\u0275inj=n.cJS({}),ge})();const Ee=[...e.r2,"CheckoutCostCenterComponent","CheckoutPaymentType"];function Ye(){return{featureModules:{[e.W$]:{cmsComponents:Ee}}}}let at=(()=>{class ge{}return ge.\u0275fac=function(it){return new(it||ge)},ge.\u0275mod=n.oAB({type:ge}),ge.\u0275inj=n.cJS({providers:[(0,h.i51)(w),(0,h.i51)(P),(0,h.x2j)(Ye)],imports:[ae]}),ge})(),ze=(()=>{class ge{}return ge.\u0275fac=function(it){return new(it||ge)},ge.\u0275prov=n.Yz7({token:ge,factory:function(){return(0,h.wvQ)({facade:ge,feature:e.VR,methods:["setCostCenter","getCostCenterState"]})},providedIn:"root"}),ge})(),Ve=(()=>{class ge{}return ge.\u0275fac=function(it){return new(it||ge)},ge.\u0275prov=n.Yz7({token:ge,factory:function(){return(0,h.wvQ)({facade:ge,feature:e.VR,methods:["getPaymentTypes","getPaymentTypesState","setPaymentType","getSelectedPaymentTypeState","isAccountPayment","getPurchaseOrderNumberState"]})},providedIn:"root"}),ge})();var he=(()=>{return(ge=he||(he={})).ACCOUNT_PAYMENT="ACCOUNT",ge.CARD_PAYMENT="CARD",he;var ge})()},3966:(_e,ie,v)=>{"use strict";v.d(ie,{B2:()=>yt,BG:()=>xr,D6:()=>gt,IF:()=>Ar,QY:()=>O,UN:()=>Fr,Up:()=>$n,hF:()=>et,k4:()=>oe,o7:()=>fe});var n=v(4650),e=v(6895),h=v(610),F=v(8809),S=v(9057),w=v(1446),P=v(4850),B=v(2198),Z=v(7545),V=v(5778),G=v(2994),J=v(7168),q=v(13),ne=v(2986),ue=v(7221),ae=v(3749),Ee=v(6053),Ye=v(591),at=v(2654),ze=v(1086),Ve=v(7935),he=v(4006),ge=v(7039),de=v(4129);function it(N,be){1&N&&n.GkF(0)}function He(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"div",17)(1,"div",18),n.NdJ("click",function(){const Rt=n.CHM(I).$implicit,cn=n.oxw(4);return n.KtG(cn.selectAddress(Rt.address))}),n.TgZ(2,"cx-card",19),n.NdJ("sendCard",function(){const Rt=n.CHM(I).$implicit,cn=n.oxw(4);return n.KtG(cn.selectAddress(Rt.address))}),n.qZA()()()}if(2&N){const I=be.$implicit,Q=be.index;n.xp6(2),n.Q6J("border",!0)("index",Q)("fitToContainer",!0)("content",I.card)}}function Te(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"p",8),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.TgZ(3,"div",9)(4,"div",10)(5,"button",11),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(3);return n.KtG(je.showNewAddressForm())}),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()(),n.TgZ(8,"div",12),n.YNc(9,He,3,4,"div",13),n.qZA(),n.TgZ(10,"div",9)(11,"div",14)(12,"button",15),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(3);return n.KtG(je.back())}),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()(),n.TgZ(15,"div",14)(16,"button",16),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(3);return n.KtG(je.next())}),n.ALo(17,"async"),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()()}if(2&N){const I=n.oxw(2).ngIf,Q=n.oxw();let je;n.xp6(1),n.hij(" ",n.lcZ(2,6,"checkoutAddress.selectYourDeliveryAddress")," "),n.xp6(5),n.hij(" ",n.lcZ(7,8,"checkoutAddress.addNewAddress")," "),n.xp6(3),n.Q6J("ngForOf",I),n.xp6(4),n.hij(" ",n.lcZ(14,10,Q.backBtnText)," "),n.xp6(3),n.Q6J("disabled",!(null!=(je=n.lcZ(17,12,Q.selectedAddress$))&&je.id)),n.xp6(2),n.hij(" ",n.lcZ(19,14,"common.continue")," ")}}function Me(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"cx-address-form",22),n.NdJ("backToAddress",function(){n.CHM(I);const je=n.oxw(4);return n.KtG(je.hideNewAddressForm(!1))})("submitAddress",function(je){n.CHM(I);const Rt=n.oxw(4);return n.KtG(Rt.addAddress(je))}),n.qZA()}2&N&&n.Q6J("showTitleCode",!0)}function re(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"cx-address-form",23),n.NdJ("backToAddress",function(){n.CHM(I);const je=n.oxw(4);return n.KtG(je.hideNewAddressForm(!0))})("submitAddress",function(je){n.CHM(I);const Rt=n.oxw(4);return n.KtG(Rt.addAddress(je))}),n.ALo(1,"cxTranslate"),n.qZA()}if(2&N){const I=n.oxw(4);n.s9C("cancelBtnLabel",n.lcZ(1,3,I.backBtnText)),n.Q6J("showTitleCode",!0)("setAsDefaultField",!I.isGuestCheckout)}}function Ie(N,be){if(1&N&&(n.YNc(0,Me,1,1,"cx-address-form",20),n.YNc(1,re,2,5,"ng-template",null,21,n.W1O)),2&N){const I=n.MAs(2),Q=n.oxw(2).ngIf;n.Q6J("ngIf",Q.length)("ngIfElse",I)}}function Ce(N,be){if(1&N&&(n.ynx(0),n._UZ(1,"div",4),n.ALo(2,"cxTranslate"),n.YNc(3,it,1,0,"ng-container",5),n.YNc(4,Te,20,16,"ng-template",null,6,n.W1O),n.YNc(6,Ie,3,2,"ng-template",null,7,n.W1O),n.BQk()),2&N){const I=n.MAs(5),Q=n.MAs(7),je=n.oxw().ngIf,Rt=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,4,"common.loaded")),n.xp6(2),n.Q6J("ngIf",(null==je?null:je.length)&&!Rt.addressFormOpened)("ngIfThen",I)("ngIfElse",Q)}}function we(N,be){if(1&N&&(n.ynx(0),n.YNc(1,Ce,8,6,"ng-container",3),n.ALo(2,"async"),n.BQk()),2&N){const I=n.oxw(),Q=n.MAs(6);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,I.isUpdating$))("ngIfElse",Q)}}function Ae(N,be){1&N&&(n.TgZ(0,"div",24),n._UZ(1,"cx-spinner"),n.qZA())}function Ge(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"div",12)(1,"input",13),n.NdJ("change",function(){const Rt=n.CHM(I).$implicit,cn=n.oxw(2);return n.KtG(cn.changeMode(Rt.code))}),n.qZA(),n.TgZ(2,"label",14)(3,"div",15),n._uU(4),n.qZA(),n.TgZ(5,"div",16),n._uU(6),n.qZA(),n.TgZ(7,"div",17),n._uU(8),n.qZA()()()}if(2&N){const I=be.$implicit,Q=n.oxw(2);n.xp6(1),n.MGl("id","deliveryMode-",I.code,""),n.Q6J("value",I.code),n.uIk("aria-checked",Q.getAriaChecked(I.code)),n.xp6(1),n.MGl("for","deliveryMode-",I.code,""),n.xp6(2),n.Oqu(I.name),n.xp6(2),n.hij(" ",I.deliveryCost.formattedValue," "),n.xp6(2),n.Oqu(I.description)}}function ht(N,be){if(1&N){const I=n.EpF();n.ynx(0),n._UZ(1,"div",3),n.ALo(2,"cxTranslate"),n.TgZ(3,"div",4)(4,"div",5)(5,"div",6),n.YNc(6,Ge,9,7,"div",7),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",8)(9,"div",9)(10,"button",10),n.NdJ("click",function(){n.CHM(I);const je=n.oxw();return n.KtG(je.back())}),n._uU(11),n.ALo(12,"cxTranslate"),n.qZA()(),n.TgZ(13,"div",9)(14,"button",11),n.NdJ("click",function(){n.CHM(I);const je=n.oxw();return n.KtG(je.next())}),n._uU(15),n.ALo(16,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const I=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,6,"common.loaded")),n.xp6(2),n.Q6J("formGroup",I.mode),n.xp6(3),n.Q6J("ngForOf",n.lcZ(7,8,I.supportedDeliveryModes$)),n.xp6(5),n.hij(" ",n.lcZ(12,10,I.backBtnText)," "),n.xp6(3),n.Q6J("disabled",I.deliveryModeInvalid),n.xp6(1),n.hij(" ",n.lcZ(16,12,"common.continue")," ")}}function Je(N,be){1&N&&(n.TgZ(0,"div",18),n._UZ(1,"cx-spinner"),n.qZA())}function lt(N,be){}const Ne=function(){return{required:"true"}},an=function(N){return{ariaLabel:N}};function Gt(N,be){if(1&N&&(n.TgZ(0,"div")(1,"label")(2,"span",29),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n._UZ(5,"ng-select",30),n.ALo(6,"cxTranslate"),n.ALo(7,"cxTranslate"),n._UZ(8,"cx-form-errors",11),n.qZA()()),2&N){const I=n.oxw().ngIf,Q=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,8,"paymentForm.paymentType")),n.xp6(2),n.s9C("placeholder",n.lcZ(6,10,"paymentForm.selectOne")),n.Q6J("inputAttrs",n.DdM(14,Ne))("searchable",!0)("clearable",!1)("items",I)("cxNgSelectA11y",n.VKq(15,an,n.lcZ(7,12,"paymentForm.paymentType"))),n.xp6(3),n.Q6J("control",Q.paymentForm.get("cardType.code"))}}function Jt(N,be){if(1&N&&(n.ynx(0),n.YNc(1,Gt,9,17,"div",7),n.BQk()),2&N){const I=be.ngIf;n.xp6(1),n.Q6J("ngIf",0!==I.length)}}function ft(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"div",8)(1,"div",31)(2,"label")(3,"input",32),n.NdJ("change",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.toggleDefaultPaymentMethod())}),n.qZA(),n.TgZ(4,"span",33),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA()()()()}2&N&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"paymentForm.setAsDefault")))}function nn(N,be){if(1&N){const I=n.EpF();n.ynx(0),n.TgZ(1,"div",8)(2,"div",31)(3,"label")(4,"input",34),n.NdJ("change",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.toggleSameAsDeliveryAddress())}),n.ALo(5,"cxTranslate"),n.qZA(),n.TgZ(6,"span",33),n._uU(7),n.ALo(8,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const I=n.oxw(2);n.xp6(4),n.Q6J("checked",I.sameAsDeliveryAddress),n.uIk("aria-label",n.lcZ(5,3,"paymentForm.billingAddressSameAsShipping")),n.xp6(3),n.Oqu(n.lcZ(8,5,"paymentForm.sameAsDeliveryAddress"))}}function Xt(N,be){if(1&N&&(n.ynx(0),n._UZ(1,"cx-card",35),n.BQk()),2&N){const I=be.ngIf,Q=n.oxw(2);n.xp6(1),n.Q6J("content",Q.getAddressCardContent(I))}}function Vt(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"div")(1,"label")(2,"span",29),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.TgZ(5,"ng-select",46),n.NdJ("change",function(je){n.CHM(I);const Rt=n.oxw(4);return n.KtG(Rt.countrySelected(je))}),n.ALo(6,"cxTranslate"),n.ALo(7,"cxTranslate"),n.qZA(),n._UZ(8,"cx-form-errors",11),n.qZA()()}if(2&N){const I=n.oxw().ngIf,Q=n.oxw(3);n.xp6(3),n.Oqu(n.lcZ(4,8,"addressForm.country")),n.xp6(2),n.s9C("placeholder",n.lcZ(6,10,"addressForm.selectOne")),n.Q6J("inputAttrs",n.DdM(14,Ne))("searchable",!0)("clearable",!1)("items",I)("cxNgSelectA11y",n.VKq(15,an,n.lcZ(7,12,"addressForm.country"))),n.xp6(3),n.Q6J("control",Q.billingAddressForm.get("country.isocode"))}}function qe(N,be){if(1&N&&(n.ynx(0),n.YNc(1,Vt,9,17,"div",7),n.BQk()),2&N){const I=be.ngIf;n.xp6(1),n.Q6J("ngIf",0!==I.length)}}function rn(N,be){if(1&N&&(n.ynx(0),n.TgZ(1,"div",42)(2,"label")(3,"span",29),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n._UZ(6,"ng-select",48),n.ALo(7,"cxTranslate"),n.ALo(8,"cxTranslate"),n._UZ(9,"cx-form-errors",11),n.qZA()(),n.BQk()),2&N){const I=n.oxw().ngIf,Q=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,10,"addressForm.state")),n.xp6(2),n.s9C("bindLabel",I[0].name?"name":"isocodeShort"),n.s9C("bindValue",I[0].name?"isocodeShort":"region"),n.s9C("placeholder",n.lcZ(7,12,"addressForm.selectOne")),n.Q6J("inputAttrs",n.DdM(16,Ne))("searchable",!0)("clearable",!1)("items",I)("cxNgSelectA11y",n.VKq(17,an,n.lcZ(8,14,"addressForm.state"))),n.xp6(3),n.Q6J("control",Q.billingAddressForm.get("region.isocodeShort"))}}function me(N,be){if(1&N&&(n.ynx(0,47),n.YNc(1,rn,10,19,"ng-container",7),n.BQk()),2&N){const I=be.ngIf;n.xp6(1),n.Q6J("ngIf",0!==I.length)}}function Et(N,be){if(1&N&&(n.TgZ(0,"div",36)(1,"div",37),n.YNc(2,qe,2,1,"ng-container",7),n.ALo(3,"async"),n.qZA(),n.TgZ(4,"div",8)(5,"label")(6,"span",29),n._uU(7),n.ALo(8,"cxTranslate"),n.qZA(),n._UZ(9,"input",38),n.ALo(10,"cxTranslate"),n._UZ(11,"cx-form-errors",11),n.qZA()(),n.TgZ(12,"div",8)(13,"label")(14,"span",29),n._uU(15),n.ALo(16,"cxTranslate"),n.qZA(),n._UZ(17,"input",39),n.ALo(18,"cxTranslate"),n._UZ(19,"cx-form-errors",11),n.qZA()(),n.TgZ(20,"div",8)(21,"label")(22,"span",29),n._uU(23),n.ALo(24,"cxTranslate"),n.qZA(),n._UZ(25,"input",40),n.ALo(26,"cxTranslate"),n._UZ(27,"cx-form-errors",11),n.qZA()(),n.TgZ(28,"div",8)(29,"label")(30,"span",9),n._uU(31),n.ALo(32,"cxTranslate"),n.qZA(),n._UZ(33,"input",41),n.ALo(34,"cxTranslate"),n.qZA()(),n.TgZ(35,"div",4)(36,"div",42)(37,"label")(38,"span",29),n._uU(39),n.ALo(40,"cxTranslate"),n.qZA(),n._UZ(41,"input",43),n.ALo(42,"cxTranslate"),n._UZ(43,"cx-form-errors",11),n.qZA()(),n.TgZ(44,"div",42)(45,"label")(46,"span",29),n._uU(47),n.ALo(48,"cxTranslate"),n.qZA(),n._UZ(49,"input",44),n.ALo(50,"cxTranslate"),n._UZ(51,"cx-form-errors",11),n.qZA()(),n.YNc(52,me,2,1,"ng-container",45),n.ALo(53,"async"),n.qZA()()),2&N){const I=n.oxw(2);n.Q6J("formGroup",I.billingAddressForm),n.xp6(2),n.Q6J("ngIf",n.lcZ(3,20,I.countries$)),n.xp6(5),n.Oqu(n.lcZ(8,22,"addressForm.firstName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(10,24,"addressForm.firstName.placeholder")),n.xp6(2),n.Q6J("control",I.billingAddressForm.get("firstName")),n.xp6(4),n.Oqu(n.lcZ(16,26,"addressForm.lastName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(18,28,"addressForm.lastName.placeholder")),n.xp6(2),n.Q6J("control",I.billingAddressForm.get("lastName")),n.xp6(4),n.Oqu(n.lcZ(24,30,"addressForm.address1")),n.xp6(2),n.s9C("placeholder",n.lcZ(26,32,"addressForm.streetAddress")),n.xp6(2),n.Q6J("control",I.billingAddressForm.get("line1")),n.xp6(4),n.Oqu(n.lcZ(32,34,"addressForm.address2")),n.xp6(2),n.s9C("placeholder",n.lcZ(34,36,"addressForm.aptSuite")),n.xp6(6),n.Oqu(n.lcZ(40,38,"addressForm.city.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(42,40,"addressForm.city.placeholder")),n.xp6(2),n.Q6J("control",I.billingAddressForm.get("town")),n.xp6(4),n.Oqu(n.lcZ(48,42,"addressForm.zipCode.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(50,44,"addressForm.zipCode.placeholder")),n.xp6(2),n.Q6J("control",I.billingAddressForm.get("postalCode")),n.xp6(1),n.Q6J("ngIf",n.lcZ(53,46,I.regions$))}}function Ke(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.back())}),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()}2&N&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"common.back")," "))}function jt(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.close())}),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()}2&N&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"paymentForm.changePayment")," "))}const wt=function(N){return{selected:N}};function dn(N,be){if(1&N){const I=n.EpF();n.ynx(0),n._UZ(1,"div",2),n.ALo(2,"cxTranslate"),n.TgZ(3,"form",3),n.NdJ("ngSubmit",function(){n.CHM(I);const je=n.oxw();return n.KtG(je.next())}),n.TgZ(4,"div",4)(5,"div",5)(6,"div",6),n.YNc(7,Jt,2,1,"ng-container",7),n.ALo(8,"async"),n.qZA(),n.TgZ(9,"div",8)(10,"label")(11,"span",9),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",10),n.ALo(15,"cxTranslate"),n._UZ(16,"cx-form-errors",11),n.qZA()(),n.TgZ(17,"div",8)(18,"label")(19,"span",9),n._uU(20),n.ALo(21,"cxTranslate"),n.qZA(),n._UZ(22,"input",12)(23,"cx-form-errors",11),n.qZA()(),n.TgZ(24,"div",4)(25,"div",13)(26,"fieldset",14)(27,"legend",9),n._uU(28),n.ALo(29,"cxTranslate"),n.qZA(),n.TgZ(30,"label",15),n._UZ(31,"ng-select",16),n.ALo(32,"cxTranslate"),n.ALo(33,"cxTranslate"),n._UZ(34,"cx-form-errors",11),n.qZA(),n.TgZ(35,"label",15),n._UZ(36,"ng-select",17),n.ALo(37,"cxTranslate"),n.ALo(38,"cxTranslate"),n._UZ(39,"cx-form-errors",11),n.qZA()()(),n.TgZ(40,"div",18)(41,"label")(42,"span",9),n._uU(43),n.ALo(44,"cxTranslate"),n._UZ(45,"cx-icon",19),n.ALo(46,"cxTranslate"),n.qZA(),n._UZ(47,"input",20)(48,"cx-form-errors",11),n.qZA()()(),n.YNc(49,ft,7,3,"div",21),n.TgZ(50,"div",22)(51,"div",23),n._uU(52),n.ALo(53,"cxTranslate"),n.qZA(),n.YNc(54,nn,9,7,"ng-container",7),n.ALo(55,"async"),n.YNc(56,Xt,2,1,"ng-container",0),n.ALo(57,"async"),n.YNc(58,Et,54,48,"ng-template",null,24,n.W1O),n.qZA()()(),n.TgZ(60,"div",25)(61,"div",26),n.YNc(62,Ke,3,3,"button",27),n.YNc(63,jt,3,3,"button",27),n.qZA(),n.TgZ(64,"div",26)(65,"button",28),n._uU(66),n.ALo(67,"cxTranslate"),n.qZA()()()(),n.BQk()}if(2&N){const I=n.MAs(59),Q=n.oxw();let je,Rt;n.xp6(1),n.uIk("aria-label",n.lcZ(2,35,"common.loaded")),n.xp6(2),n.Q6J("formGroup",Q.paymentForm),n.xp6(4),n.Q6J("ngIf",n.lcZ(8,37,Q.cardTypes$)),n.xp6(5),n.Oqu(n.lcZ(13,39,"paymentForm.accountHolderName.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,41,"paymentForm.accountHolderName.placeholder")),n.xp6(2),n.Q6J("control",Q.paymentForm.get("accountHolderName")),n.xp6(4),n.Oqu(n.lcZ(21,43,"paymentForm.cardNumber")),n.xp6(3),n.Q6J("control",Q.paymentForm.get("cardNumber")),n.xp6(5),n.hij(" ",n.lcZ(29,45,"paymentForm.expirationDate")," "),n.xp6(3),n.s9C("placeholder",n.lcZ(32,47,"paymentForm.monthMask")),n.Q6J("inputAttrs",n.DdM(69,Ne))("searchable",!0)("clearable",!1)("items",Q.months)("cxNgSelectA11y",n.VKq(72,an,n.xi3(33,49,"paymentForm.expirationMonth",n.VKq(70,wt,null==(je=Q.paymentForm.get("expiryMonth"))?null:je.value)))),n.xp6(3),n.Q6J("control",Q.paymentForm.get("expiryMonth")),n.xp6(2),n.s9C("placeholder",n.lcZ(37,52,"paymentForm.yearMask")),n.Q6J("inputAttrs",n.DdM(74,Ne))("searchable",!0)("clearable",!1)("items",Q.years)("cxNgSelectA11y",n.VKq(77,an,n.xi3(38,54,"paymentForm.expirationYear",n.VKq(75,wt,null==(Rt=Q.paymentForm.get("expiryYear"))?null:Rt.value)))),n.xp6(3),n.Q6J("control",Q.paymentForm.get("expiryYear")),n.xp6(4),n.hij(" ",n.lcZ(44,57,"paymentForm.securityCode")," "),n.xp6(2),n.s9C("title",n.lcZ(46,59,"paymentForm.securityCodeTitle")),n.Q6J("type",Q.iconTypes.INFO),n.xp6(3),n.Q6J("control",Q.paymentForm.get("cvn")),n.xp6(1),n.Q6J("ngIf",Q.setAsDefaultField),n.xp6(3),n.hij(" ",n.lcZ(53,61,"paymentForm.billingAddress")," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(55,63,Q.showSameAsDeliveryAddressCheckbox$)),n.xp6(2),n.Q6J("ngIf",Q.sameAsDeliveryAddress&&n.lcZ(57,65,Q.deliveryAddress$))("ngIfElse",I),n.xp6(6),n.Q6J("ngIf",0===Q.paymentMethodsCount),n.xp6(1),n.Q6J("ngIf",Q.paymentMethodsCount>0),n.xp6(3),n.hij(" ",n.lcZ(67,67,"common.continue")," ")}}function kt(N,be){1&N&&n._UZ(0,"cx-spinner")}function We(N,be){1&N&&n.GkF(0)}function nt(N,be){if(1&N&&(n.ynx(0),n._UZ(1,"div",6),n.ALo(2,"cxTranslate"),n.YNc(3,We,1,0,"ng-container",7),n.BQk()),2&N){const I=n.oxw().ngIf,Q=n.MAs(4),je=n.MAs(6),Rt=n.oxw();n.xp6(1),n.uIk("aria-label",n.lcZ(2,4,"common.loaded")),n.xp6(2),n.Q6J("ngIf",(null==I?null:I.length)&&!Rt.newPaymentFormManuallyOpened)("ngIfThen",Q)("ngIfElse",je)}}function Nt(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"div",16)(1,"div",17),n.NdJ("click",function(){const Rt=n.CHM(I).$implicit,cn=n.oxw(3);return n.KtG(cn.selectPaymentMethod(Rt.paymentMethod))}),n.TgZ(2,"cx-card",18),n.NdJ("sendCard",function(){const Rt=n.CHM(I).$implicit,cn=n.oxw(3);return n.KtG(cn.selectPaymentMethod(Rt.paymentMethod))}),n.qZA()()()}if(2&N){const I=be.$implicit,Q=be.index;n.xp6(2),n.Q6J("border",!0)("fitToContainer",!0)("content",I.content)("index",Q)}}function Pt(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"p",8),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.TgZ(3,"div",9)(4,"div",10)(5,"button",11),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.showNewPaymentForm())}),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()(),n.TgZ(8,"div",12),n.YNc(9,Nt,3,4,"div",13),n.qZA(),n.TgZ(10,"div",14)(11,"div",10)(12,"button",11),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.back())}),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()(),n.TgZ(15,"div",10)(16,"button",15),n.NdJ("click",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.next())}),n.ALo(17,"async"),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()()}if(2&N){const I=n.oxw().ngIf,Q=n.oxw();let je;n.xp6(1),n.hij(" ",n.lcZ(2,6,"paymentForm.choosePaymentMethod")," "),n.xp6(5),n.hij(" ",n.lcZ(7,8,"paymentForm.addNewPayment")," "),n.xp6(3),n.Q6J("ngForOf",I),n.xp6(4),n.hij(" ",n.lcZ(14,10,Q.backBtnText)," "),n.xp6(3),n.Q6J("disabled",!(null!=(je=n.lcZ(17,12,Q.selectedMethod$))&&je.id)),n.xp6(2),n.hij(" ",n.lcZ(19,14,"common.continue")," ")}}function un(N,be){if(1&N){const I=n.EpF();n.TgZ(0,"cx-payment-form",19),n.NdJ("setPaymentDetails",function(je){n.CHM(I);const Rt=n.oxw(2);return n.KtG(Rt.setPaymentDetails(je))})("closeForm",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.hideNewPaymentForm())})("goBack",function(){n.CHM(I);const je=n.oxw(2);return n.KtG(je.back())}),n.ALo(1,"async"),n.qZA()}if(2&N){const I=n.oxw().ngIf,Q=n.oxw();n.Q6J("paymentMethodsCount",(null==I?null:I.length)||0)("setAsDefaultField",!Q.isGuestCheckout&&!(null==I||!I.length))("loading",n.lcZ(1,4,Q.isUpdating$))("paymentDetails",Q.paymentDetails)}}function bn(N,be){if(1&N&&(n.ynx(0),n.YNc(1,nt,4,6,"ng-container",3),n.ALo(2,"async"),n.YNc(3,Pt,20,16,"ng-template",null,4,n.W1O),n.YNc(5,un,2,6,"ng-template",null,5,n.W1O),n.BQk()),2&N){const I=n.oxw(),Q=n.MAs(6);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,I.isUpdating$))("ngIfElse",Q)}}function _t(N,be){1&N&&(n.TgZ(0,"div",20),n._UZ(1,"cx-spinner"),n.qZA())}const Ue=function(){return{cxRoute:"termsAndConditions"}};function ke(N,be){if(1&N&&(n.TgZ(0,"div",4)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()()),2&N){const I=n.oxw(),Q=I.index,je=I.$implicit;n.xp6(2),n.AsE("",Q+1,". ",n.lcZ(3,2,je.name),"")}}function mt(N,be){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,ke,4,4,"div",3),n.qZA()),2&N){const I=be.index,Q=n.oxw(2);n.xp6(1),n.Q6J("ngIf",I>Q.activeStepIndex)}}function vt(N,be){if(1&N&&(n.TgZ(0,"div")(1,"div",1),n.YNc(2,mt,2,1,"div",2),n.ALo(3,"async"),n.qZA()()),2&N){const I=n.oxw();n.xp6(2),n.Q6J("ngForOf",n.lcZ(3,1,I.steps$))}}const en=function(N){return{count:N}};function Yt(N,be){if(1&N&&(n.TgZ(0,"div",4),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()),2&N){const I=n.oxw().ngIf;n.xp6(1),n.AsE(" ",n.xi3(2,2,"cartItems.cartTotal",n.VKq(5,en,I.totalItems)),": ",I.subTotal.formattedValue," ")}}const vn=function(N){return{cxRoute:N}};function Kt(N,be){if(1&N&&(n.TgZ(0,"div",4)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"button",6),n.ALo(5,"cxUrl"),n._uU(6),n.ALo(7,"cxTranslate"),n.qZA()()),2&N){const I=n.oxw(),Q=I.index,je=I.$implicit;n.xp6(2),n.AsE("",Q+1,". ",n.lcZ(3,4,je.name),""),n.xp6(2),n.Q6J("routerLink",n.lcZ(5,6,n.VKq(10,vn,je.routeName))),n.xp6(2),n.hij(" ",n.lcZ(7,8,"common.edit")," ")}}function Re(N,be){if(1&N&&(n.TgZ(0,"div",7)(1,"div"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()()),2&N){const I=n.oxw(),Q=I.index,je=I.$implicit;n.xp6(2),n.AsE("",Q+1,". ",n.lcZ(3,2,je.name),"")}}function Dt(N,be){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,Kt,8,12,"div",2),n.YNc(2,Re,4,4,"div",5),n.qZA()),2&N){const I=be.index,Q=n.oxw(3);n.xp6(1),n.Q6J("ngIf",I<Q.activeStepIndex),n.xp6(1),n.Q6J("ngIf",I===Q.activeStepIndex)}}function De(N,be){if(1&N&&(n.TgZ(0,"div")(1,"div",1),n.YNc(2,Yt,3,7,"div",2),n.YNc(3,Dt,3,2,"div",3),n.ALo(4,"async"),n.qZA()()),2&N){const I=be.ngIf,Q=n.oxw(2);n.xp6(2),n.Q6J("ngIf",(null==I?null:I.totalItems)&&(null==I?null:I.subTotal)),n.xp6(1),n.Q6J("ngForOf",n.lcZ(4,2,Q.steps$))}}function tt(N,be){if(1&N&&(n.TgZ(0,"div"),n.YNc(1,De,5,4,"div",0),n.ALo(2,"async"),n.qZA()),2&N){const I=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,I.cart$))}}function Ut(N,be){if(1&N&&(n.ynx(0),n.TgZ(1,"li",4),n._UZ(2,"a",5),n.ALo(3,"cxUrl"),n.ALo(4,"cxMultiLine"),n.ALo(5,"cxTranslate"),n.qZA(),n.BQk()),2&N){const I=be.$implicit,Q=be.index,je=n.oxw(2);n.xp6(1),n.ekj("active",je.isActive(Q))("disabled",je.isDisabled(Q)),n.xp6(1),n.ekj("active",je.isActive(Q))("disabled",je.isDisabled(Q)),n.Q6J("routerLink",n.lcZ(3,11,n.VKq(17,vn,I.routeName)))("tabindex",je.getTabIndex(Q))("innerHTML",n.lcZ(4,13,n.lcZ(5,15,I.name)),n.oJD)}}function Xe(N,be){if(1&N&&(n.TgZ(0,"nav"),n.ALo(1,"cxTranslate"),n.TgZ(2,"div",1)(3,"ul",2),n.YNc(4,Ut,6,19,"ng-container",3),n.ALo(5,"async"),n.qZA()()()),2&N){const I=n.oxw();n.uIk("aria-label",n.lcZ(1,2,"checkoutProgress.label")),n.xp6(4),n.Q6J("ngForOf",n.lcZ(5,4,I.steps$))}}function At(N,be){1&N&&n.GkF(0)}function Tt(N,be){if(1&N&&(n.ynx(0),n.YNc(1,At,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const I=n.MAs(12);n.xp6(1),n.Q6J("ngTemplateOutlet",I)}}function Ot(N,be){if(1&N&&(n.ynx(0)(1,10),n.YNc(2,Tt,2,1,"ng-container",11),n.BQk()()),2&N){const I=be.$implicit,Q=n.oxw(2);n.xp6(1),n.Q6J("ngSwitch",I.type[0]),n.xp6(1),n.Q6J("ngSwitchCase",Q.checkoutStepTypePaymentDetails)}}function ln(N,be){1&N&&n.GkF(0)}function Ht(N,be){if(1&N&&(n.ynx(0),n.YNc(1,ln,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const I=n.MAs(8);n.xp6(1),n.Q6J("ngTemplateOutlet",I)}}function dt(N,be){1&N&&n.GkF(0)}function In(N,be){if(1&N&&(n.ynx(0),n.YNc(1,dt,1,0,"ng-container",12),n.BQk()),2&N){n.oxw(3);const I=n.MAs(10);n.xp6(1),n.Q6J("ngTemplateOutlet",I)}}function Vn(N,be){if(1&N&&(n.ynx(0)(1,10),n.YNc(2,Ht,2,1,"ng-container",11),n.YNc(3,In,2,1,"ng-container",11),n.BQk()()),2&N){const I=be.$implicit,Q=n.oxw(2);n.xp6(1),n.Q6J("ngSwitch",I.type[0]),n.xp6(1),n.Q6J("ngSwitchCase",Q.checkoutStepTypeDeliveryAddress),n.xp6(1),n.Q6J("ngSwitchCase",Q.checkoutStepTypeDeliveryMode)}}function Nn(N,be){if(1&N&&(n.ynx(0),n.TgZ(1,"div",7),n.YNc(2,Ot,3,2,"ng-container",8),n.qZA(),n.TgZ(3,"div",9),n.YNc(4,Vn,4,3,"ng-container",8),n.qZA(),n.BQk()),2&N){const I=be.ngIf,Q=n.oxw();n.xp6(2),n.Q6J("ngForOf",Q.paymentSteps(I)),n.xp6(2),n.Q6J("ngForOf",Q.deliverySteps(I))}}function ur(N,be){if(1&N&&(n.TgZ(0,"div",14),n._UZ(1,"cx-card",15),n.ALo(2,"async"),n.TgZ(3,"div",16)(4,"a",17),n.ALo(5,"cxTranslate"),n.ALo(6,"cxUrl"),n._UZ(7,"cx-icon",18),n.qZA()()()),2&N){const I=be.ngIf,Q=n.oxw(2);n.xp6(1),n.Q6J("content",n.lcZ(2,4,Q.getDeliveryAddressCard(I))),n.xp6(3),n.Q6J("routerLink",n.lcZ(6,8,n.VKq(10,vn,Q.getCheckoutStepUrl(Q.checkoutStepTypeDeliveryAddress)))),n.uIk("aria-label",n.lcZ(5,6,"checkoutReview.editDeliveryAddressDetails")),n.xp6(3),n.Q6J("type",Q.iconTypes.PENCIL)}}function yn(N,be){if(1&N&&(n.YNc(0,ur,8,12,"div",13),n.ALo(1,"async")),2&N){const I=n.oxw();n.Q6J("ngIf",n.lcZ(1,1,I.deliveryAddress$))}}function On(N,be){if(1&N&&(n._UZ(0,"cx-card",15),n.ALo(1,"async")),2&N){const I=be.ngIf,Q=n.oxw(2);n.Q6J("content",n.lcZ(1,1,Q.getDeliveryModeCard(I)))}}function Ln(N,be){if(1&N&&(n.TgZ(0,"div",19),n.YNc(1,On,2,3,"cx-card",20),n.ALo(2,"async"),n.TgZ(3,"div",16)(4,"a",17),n.ALo(5,"cxTranslate"),n.ALo(6,"cxUrl"),n._UZ(7,"cx-icon",18),n.qZA()()()),2&N){const I=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,4,I.deliveryMode$)),n.xp6(3),n.Q6J("routerLink",n.lcZ(6,8,n.VKq(10,vn,I.getCheckoutStepUrl(I.checkoutStepTypeDeliveryMode)))),n.uIk("aria-label",n.lcZ(5,6,"checkoutReview.editDeliveryMode")),n.xp6(3),n.Q6J("type",I.iconTypes.PENCIL)}}function Qn(N,be){if(1&N&&(n._UZ(0,"cx-card",15),n.ALo(1,"async")),2&N){const I=be.ngIf,Q=n.oxw(2);n.Q6J("content",n.lcZ(1,1,Q.getPaymentMethodCard(I)))}}function lr(N,be){if(1&N&&(n.TgZ(0,"div",21)(1,"div"),n.YNc(2,Qn,2,3,"cx-card",20),n.ALo(3,"async"),n.qZA(),n.TgZ(4,"div",16)(5,"a",17),n.ALo(6,"cxTranslate"),n.ALo(7,"cxUrl"),n._UZ(8,"cx-icon",18),n.qZA()()()),2&N){const I=n.oxw();n.xp6(2),n.Q6J("ngIf",n.lcZ(3,4,I.paymentDetails$)),n.xp6(3),n.Q6J("routerLink",n.lcZ(7,8,n.VKq(10,vn,I.getCheckoutStepUrl(I.checkoutStepTypePaymentDetails)))),n.uIk("aria-label",n.lcZ(6,6,"checkoutReview.editPaymentDetails")),n.xp6(3),n.Q6J("type",I.iconTypes.PENCIL)}}function nr(N,be){}const Oe=function(){return[]},Fe=function(N,be){return{items:N,readonly:!0,promotionLocation:be}};function pe(N,be){if(1&N&&(n.TgZ(0,"div",25),n._UZ(1,"cx-promotions",26),n.YNc(2,nr,0,0,"ng-template",27),n.qZA()),2&N){const I=be.ngIf,Q=n.oxw().ngIf,je=n.oxw();n.xp6(1),n.Q6J("promotions",(Q.appliedOrderPromotions||n.DdM(4,Oe)).concat(Q.potentialOrderPromotions||n.DdM(3,Oe))),n.xp6(1),n.Q6J("cxOutlet",je.cartOutlets.CART_ITEM_LIST)("cxOutletContext",n.WLB(5,Fe,I,je.promotionLocation))}}function X(N,be){if(1&N&&(n.ynx(0),n.TgZ(1,"div",22),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",23),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA(),n.YNc(7,pe,3,8,"div",24),n.ALo(8,"async"),n.BQk()),2&N){const I=be.ngIf,Q=n.oxw();n.xp6(2),n.AsE(" ",n.xi3(3,4,"cartItems.cartTotal",n.VKq(11,en,I.deliveryItemsQuantity)),": ",null==I.totalPrice?null:I.totalPrice.formattedValue," "),n.xp6(3),n.hij(" ",n.lcZ(6,7,"checkoutReview.placeOrder")," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(8,9,Q.entries$))}}let oe=(()=>{class N{constructor(I,Q,je){this.activeCartFacade=I,this.semanticPathService=Q,this.router=je}canActivate(){return this.activeCartFacade.takeActive().pipe((0,P.U)(I=>!this.isEmpty(I)||this.router.parseUrl(this.semanticPathService.get("home")??"")))}isEmpty(I){return I&&!I.totalItems}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(ae.bu),n.LFG(S.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),O=(()=>{class N{constructor(I){this.checkoutConfig=I,this.express=this.checkoutConfig.checkout?.express??!1,this.guest=this.checkoutConfig.checkout?.guest??!1,this.defaultDeliveryMode=this.checkoutConfig.checkout?.defaultDeliveryMode||[]}compareDeliveryCost(I,Q){if(I.deliveryCost?.value&&Q.deliveryCost?.value){if(I.deliveryCost.value>Q.deliveryCost.value)return 1;if(I.deliveryCost.value<Q.deliveryCost.value)return-1}return 0}findMatchingDeliveryMode(I,Q=0){switch(this.defaultDeliveryMode[Q]){case Ve.u0.FREE:if(0===I[0].deliveryCost?.value)return I[0].code;break;case Ve.u0.LEAST_EXPENSIVE:const Rt=I.find(hn=>0!==hn.deliveryCost?.value);if(Rt)return Rt.code;break;case Ve.u0.MOST_EXPENSIVE:return I[I.length-1].code;default:const cn=I.find(hn=>hn.code===this.defaultDeliveryMode[Q]);if(cn)return cn.code}return this.defaultDeliveryMode.length-1<=Q?I[0].code:this.findMatchingDeliveryMode(I,Q+1)}getPreferredDeliveryMode(I){return I.sort(this.compareDeliveryCost),this.findMatchingDeliveryMode(I)}isExpressCheckout(){return this.express}isGuestCheckout(){return this.guest}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(Ve.CZ))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),fe=(()=>{class N{constructor(I,Q,je,Rt,cn,hn){this.authService=I,this.authRedirectService=Q,this.checkoutConfigService=je,this.activeCartFacade=Rt,this.semanticPathService=cn,this.router=hn}canActivate(){return(0,Ee.aj)([this.authService.isUserLoggedIn(),this.activeCartFacade.isGuestCart(),this.activeCartFacade.isStable()]).pipe((0,P.U)(([I,Q,je])=>({isLoggedIn:I,isGuestCart:Q,isStable:je})),(0,B.h)(I=>I.isStable),(0,P.U)(I=>I.isLoggedIn?I.isLoggedIn:!!I.isGuestCart||this.handleAnonymousUser()))}handleAnonymousUser(){return this.authRedirectService.saveCurrentNavigationUrl(),this.checkoutConfigService.isGuestCheckout()?this.router.createUrlTree([this.semanticPathService.get("login")],{queryParams:{forced:!0}}):this.router.parseUrl(this.semanticPathService.get("login")??"")}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(S.e80),n.LFG(S.FUY),n.LFG(O),n.LFG(ae.bu),n.LFG(S.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),et=(()=>{class N{constructor(I,Q,je){this.routingService=I,this.checkoutConfig=Q,this.routingConfigService=je,this.steps$=new Ye.X([]),this.activeStepIndex$=this.routingService.getRouterState().pipe((0,Z.w)(Rt=>{const cn=Rt.state.context.id;return this.steps$.pipe((0,P.U)(hn=>{let gn=0;return hn.forEach((ir,sr)=>{`/${this.routingConfigService.getRouteConfig(ir.routeName)?.paths?.[0]}`===cn&&(gn=sr)}),gn}))})),this.resetSteps()}back(I){const Q=this.getPreviousCheckoutStepUrl(I);this.routingService.go(null===Q?"cart":Q)}next(I){const Q=this.getNextCheckoutStepUrl(I);this.routingService.go(Q)}goToStepWithIndex(I){this.routingService.go(this.getStepUrlFromStepRoute(this.allSteps[I].routeName))}getBackBntText(I){return null===this.getPreviousCheckoutStepUrl(I)?"checkout.backToCart":"common.back"}resetSteps(){this.allSteps=(this.checkoutConfig.checkout?.steps??[]).filter(I=>!I.disabled).map(I=>Object.assign({},I)),this.steps$.next(this.allSteps)}disableEnableStep(I,Q){const je=this.allSteps.find(Rt=>Rt.type.includes(I));je&&je.disabled!==Q&&(je.disabled=Q,this.steps$.next(this.allSteps.filter(Rt=>!Rt.disabled)))}getCheckoutStep(I){const Q=this.getCheckoutStepIndex("type",I);if(null!==Q)return this.allSteps[Q]}getCheckoutStepRoute(I){return this.getCheckoutStep(I)?.routeName}getFirstCheckoutStepRoute(){return this.allSteps[0].routeName}getNextCheckoutStepUrl(I){const Q=this.getCurrentStepIndex(I);if(null!==Q&&Q>=0){let je=1;for(;this.allSteps[Q+je]&&this.allSteps[Q+je].disabled;)je++;const Rt=this.allSteps[Q+je];if(Rt)return this.getStepUrlFromStepRoute(Rt.routeName)}return null}getPreviousCheckoutStepUrl(I){const Q=this.getCurrentStepIndex(I);if(null!==Q&&Q>=0){let je=1;for(;this.allSteps[Q-je]&&this.allSteps[Q-je].disabled;)je++;const Rt=this.allSteps[Q-je];if(Rt)return this.getStepUrlFromStepRoute(Rt.routeName)}return null}getCurrentStepIndex(I){const Q=this.getStepUrlFromActivatedRoute(I),je=this.allSteps.findIndex(Rt=>Q===`/${this.getStepUrlFromStepRoute(Rt.routeName)}`);return-1===je?null:je}getStepUrlFromActivatedRoute(I){return I&&I.snapshot&&I.snapshot.url?`/${I.snapshot.url.join("/")}`:null}getStepUrlFromStepRoute(I){return this.routingConfigService.getRouteConfig(I)?.paths?.[0]??null}getCheckoutStepIndex(I,Q){return I&&Q?this.allSteps.findIndex(je=>{const Rt=je[I];return Rt instanceof Array?Rt.includes(Q):Rt===Q}):null}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(S.Znh),n.LFG(Ve.CZ),n.LFG(S.gGW))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),yt=(()=>{class N{constructor(I,Q,je,Rt,cn,hn,gn,ir){this.userAddressService=I,this.checkoutDeliveryAddressFacade=Q,this.activatedRoute=je,this.translationService=Rt,this.activeCartFacade=cn,this.checkoutStepService=hn,this.checkoutDeliveryModesFacade=gn,this.globalMessageService=ir,this.busy$=new Ye.X(!1),this.addressFormOpened=!1,this.doneAutoSelect=!1}get isGuestCheckout(){return!!(0,S.P51)(this.activeCartFacade.isGuestCart())}get backBtnText(){return this.checkoutStepService.getBackBntText(this.activatedRoute)}get selectedAddress$(){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,B.h)(I=>!I.loading),(0,P.U)(I=>I.data),(0,V.x)((I,Q)=>I?.id===Q?.id))}ngOnInit(){this.loadAddresses(),this.cards$=this.createCards(),this.isUpdating$=this.createIsUpdating()}getCardContent(I,Q,je,Rt,cn){let hn="";return I.region&&I.region.isocode&&(hn=I.region.isocode+", "),{role:"region",title:I.defaultAddress?je:"",textBold:I.firstName+" "+I.lastName,text:[I.line1,I.line2,I.town+", "+hn+I.country?.isocode,I.postalCode,I.phone],actions:[{name:Rt,event:"send"}],header:Q&&Q.id===I.id?cn:"",label:I.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}selectAddress(I){I?.id!==(0,S.P51)(this.selectedAddress$)?.id&&(this.globalMessageService.add({key:"checkoutAddress.deliveryAddressSelected"},S.xUg.MSG_TYPE_INFO),this.setAddress(I))}addAddress(I){!I||(this.busy$.next(!0),this.checkoutDeliveryAddressFacade.createAndSetAddress(I).pipe((0,Z.w)(()=>this.checkoutDeliveryModesFacade.clearCheckoutDeliveryMode())).subscribe({complete:()=>{this.next()},error:()=>{this.onError()}}))}showNewAddressForm(){this.addressFormOpened=!0}hideNewAddressForm(I=!1){this.addressFormOpened=!1,I&&this.back()}next(){this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}loadAddresses(){this.isGuestCheckout||this.userAddressService.loadAddresses()}createCards(){return(0,Ee.aj)([this.getSupportedAddresses(),this.selectedAddress$,this.translationService.translate("checkoutAddress.defaultDeliveryAddress"),this.translationService.translate("checkoutAddress.shipToThisAddress"),this.translationService.translate("addressCard.selected")]).pipe((0,G.b)(([I,Q])=>this.selectDefaultAddress(I,Q)),(0,P.U)(([I,Q,je,Rt,cn])=>I.map(hn=>({address:hn,card:this.getCardContent(hn,Q,je,Rt,cn)}))))}selectDefaultAddress(I,Q){!this.doneAutoSelect&&I?.length&&(!Q||0===Object.keys(Q).length)&&((Q=I.find(je=>je.defaultAddress))&&this.setAddress(Q),this.doneAutoSelect=!0)}getSupportedAddresses(){return this.userAddressService.getAddresses()}createIsUpdating(){return(0,Ee.aj)([this.busy$,this.userAddressService.getAddressesLoading(),this.getAddressLoading()]).pipe((0,P.U)(([I,Q,je])=>I||Q||je),(0,V.x)())}getAddressLoading(){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,P.U)(I=>I.loading),(0,V.x)())}setAddress(I){this.busy$.next(!0),this.checkoutDeliveryAddressFacade.setDeliveryAddress(I).pipe((0,Z.w)(()=>this.checkoutDeliveryModesFacade.clearCheckoutDeliveryMode())).subscribe({complete:()=>{this.onSuccess()},error:()=>{this.onError()}})}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(S.kFJ),n.Y36(Ve.ys),n.Y36(h.gz),n.Y36(S.D7D),n.Y36(ae.bu),n.Y36(et),n.Y36(Ve.BG),n.Y36(S.IWp))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-delivery-address"]],decls:7,vars:6,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[4,"ngIf","ngIfThen","ngIfElse"],["showExistingAddresses",""],["newAddressForm",""],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-sm-12","col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-delivery-address-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-6"],[1,"cx-btn","btn","btn-block","btn-action",3,"click"],[1,"cx-btn","btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-delivery-address-card","col-md-12","col-lg-6"],[1,"cx-delivery-address-card-inner",3,"click"],[3,"border","index","fitToContainer","content","sendCard"],[3,"showTitleCode","backToAddress","submitAddress",4,"ngIf","ngIfElse"],["initialAddressForm",""],[3,"showTitleCode","backToAddress","submitAddress"],[3,"showTitleCode","setAsDefaultField","cancelBtnLabel","backToAddress","submitAddress"],[1,"cx-spinner"]],template:function(I,Q){1&I&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,we,3,4,"ng-container",1),n.ALo(4,"async"),n.YNc(5,Ae,2,0,"ng-template",null,2,n.W1O)),2&I&&(n.xp6(1),n.hij(" ",n.lcZ(2,2,"checkoutAddress.deliveryAddress"),"\n"),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,Q.cards$)))},dependencies:[e.sg,e.O5,w.CY4,w.AkF,w.ORR,e.Ov,S.X$D],encapsulation:2,changeDetection:0}),N})(),qt=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutDeliveryAddress:{component:yt,guards:[fe,oe,F.i4]}}})],imports:[e.ez,h.Bz,w.qUU,w.dTQ,w.Fme,S.LUR]}),N})(),Qt=(()=>{class N{constructor(I,Q,je,Rt,cn){this.fb=I,this.checkoutConfigService=Q,this.activatedRoute=je,this.checkoutStepService=Rt,this.checkoutDeliveryModesFacade=cn,this.subscriptions=new at.w,this.busy$=new Ye.X(!1),this.backBtnText=this.checkoutStepService.getBackBntText(this.activatedRoute),this.mode=this.fb.group({deliveryModeId:["",he.kI.required]}),this.isUpdating$=(0,Ee.aj)([this.busy$,this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,P.U)(hn=>hn.loading))]).pipe((0,P.U)(([hn,gn])=>hn||gn),(0,V.x)())}get deliveryModeInvalid(){return this.mode.controls.deliveryModeId.invalid}ngOnInit(){this.supportedDeliveryModes$=this.checkoutDeliveryModesFacade.getSupportedDeliveryModes().pipe((0,B.h)(I=>!!I?.length),(0,V.x)((I,Q)=>JSON.stringify(I)===JSON.stringify(Q))),this.selectedDeliveryModeCode$=this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,B.h)(I=>!I.loading),(0,P.U)(I=>I.data),(0,P.U)(I=>I?.code)),this.subscriptions.add(this.supportedDeliveryModes$.pipe((0,J.M)(this.selectedDeliveryModeCode$)).subscribe(([I,Q])=>{Q&&!!I.find(je=>je.code===Q)||(Q=this.checkoutConfigService.getPreferredDeliveryMode(I)),Q&&(this.mode.controls.deliveryModeId.setValue(Q),this.changeMode(Q))}))}changeMode(I){this.busy$.next(!0),this.checkoutDeliveryModesFacade.setDeliveryMode(I).subscribe({complete:()=>this.onSuccess(),error:()=>this.onError()})}next(){this.mode.valid&&this.mode.value&&this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}getAriaChecked(I){return I===this.mode.controls.deliveryModeId.value}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(he.QS),n.Y36(O),n.Y36(h.gz),n.Y36(et),n.Y36(Ve.BG))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-delivery-mode"]],decls:8,vars:9,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[3,"formGroup"],[1,"row"],["role","radiogroup",1,"col-md-12","col-lg-9"],["class","form-check",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"form-check"],["role","radio","type","radio","formControlName","deliveryModeId",1,"form-check-input",3,"id","value","change"],[1,"cx-delivery-label","form-check-label","form-radio-label",3,"for"],[1,"cx-delivery-mode"],[1,"cx-delivery-price"],[1,"cx-delivery-details"],[1,"cx-spinner"]],template:function(I,Q){if(1&I&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,ht,17,14,"ng-container",1),n.ALo(4,"async"),n.ALo(5,"async"),n.YNc(6,Je,2,0,"ng-template",null,2,n.W1O)),2&I){const je=n.MAs(7);let Rt;n.xp6(1),n.hij(" ",n.lcZ(2,3,"checkoutMode.deliveryMethod"),"\n"),n.xp6(2),n.Q6J("ngIf",(null==(Rt=n.lcZ(4,5,Q.supportedDeliveryModes$))?null:Rt.length)&&!n.lcZ(5,7,Q.isUpdating$))("ngIfElse",je)}},dependencies:[e.sg,e.O5,he.Fj,he._,he.JJ,he.JL,he.sg,he.u,w.ORR,e.Ov,S.X$D],encapsulation:2,changeDetection:0}),N})(),Bn=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutDeliveryMode:{component:Qt,guards:[fe,oe]}}})],imports:[e.ez,he.UX,S.LUR,w.Fme]}),N})(),Rn=(()=>{class N{constructor(I,Q,je,Rt){this.authService=I,this.activeCartFacade=Q,this.semanticPathService=je,this.router=Rt}canActivate(){return this.authService.isUserLoggedIn().pipe((0,P.U)(I=>I?this.router.parseUrl(this.semanticPathService.get("home")??""):(0,S.P51)(this.activeCartFacade.isGuestCart())?this.router.parseUrl(this.semanticPathService.get("cart")??""):!I))}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(S.e80),n.LFG(ae.bu),n.LFG(S.hCH),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),yr=(()=>{class N{constructor(I,Q,je){this.formBuilder=I,this.authRedirectService=Q,this.activeCartFacade=je,this.checkoutLoginForm=this.formBuilder.group({email:["",[he.kI.required,w.kal.emailValidator]],emailConfirmation:["",[he.kI.required]]},{validators:w.kal.emailsMustMatch("email","emailConfirmation")})}onSubmit(){if(this.checkoutLoginForm.valid){const I=this.checkoutLoginForm.get("email")?.value;this.activeCartFacade.addEmail(I),this.sub||(this.sub=this.activeCartFacade.isGuestCart().subscribe(Q=>{Q&&this.authRedirectService.redirect()}))}else this.checkoutLoginForm.markAllAsTouched()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(he.QS),n.Y36(S.FUY),n.Y36(ae.bu))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-login"]],decls:20,vars:18,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-content"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","email","name","emailConfirmation","formControlName","emailConfirmation",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(I,Q){1&I&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return Q.onSubmit()}),n.TgZ(1,"div",1)(2,"label")(3,"span",2),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n._UZ(6,"input",3),n.ALo(7,"cxTranslate"),n._UZ(8,"cx-form-errors",4),n.qZA()(),n.TgZ(9,"div",1)(10,"label")(11,"span",2),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",5),n.ALo(15,"cxTranslate"),n._UZ(16,"cx-form-errors",4),n.qZA()(),n.TgZ(17,"button",6),n._uU(18),n.ALo(19,"cxTranslate"),n.qZA()()),2&I&&(n.Q6J("formGroup",Q.checkoutLoginForm),n.xp6(4),n.Oqu(n.lcZ(5,8,"checkoutLogin.emailAddress.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(7,10,"checkoutLogin.emailAddress.placeholder")),n.xp6(2),n.Q6J("control",Q.checkoutLoginForm.get("email")),n.xp6(4),n.Oqu(n.lcZ(13,12,"checkoutLogin.confirmEmail.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,14,"checkoutLogin.confirmEmail.placeholder")),n.xp6(2),n.Q6J("control",Q.checkoutLoginForm.get("emailConfirmation")),n.xp6(2),n.hij(" ",n.lcZ(19,16,"checkoutLogin.continue")," "))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.Q7,he.sg,he.u,w.Ahv,S.X$D],encapsulation:2}),N})(),Hn=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{GuestCheckoutLoginComponent:{component:yr,guards:[Rn]}}})],imports:[e.ez,S.LUR,he.u5,he.UX,he.u5,he.UX,w.Fym]}),N})(),wn=(()=>{class N{constructor(I,Q,je,Rt,cn,hn){this.userAddressService=I,this.userPaymentService=Q,this.checkoutDeliveryAddressFacade=je,this.checkoutPaymentFacade=Rt,this.checkoutConfigService=cn,this.checkoutDeliveryModesFacade=hn,this.setDeliveryAddress(),this.setDeliveryMode(),this.setPaymentMethod()}setDeliveryAddress(){this.deliveryAddressSet$=(0,Ee.aj)([this.userAddressService.getAddresses(),this.userAddressService.getAddressesLoadedSuccess()]).pipe((0,q.b)(0),(0,G.b)(([,I])=>{I||this.userAddressService.loadAddresses()}),(0,B.h)(([,I])=>I),(0,ne.q)(1),(0,Z.w)(([I])=>{const Q=I.find(je=>je.defaultAddress)||I[0];return Q&&Object.keys(Q).length?this.checkoutDeliveryAddressFacade.setDeliveryAddress(Q).pipe((0,Z.w)(()=>this.checkoutDeliveryAddressFacade.getDeliveryAddressState()),(0,B.h)(je=>!je.error&&!je.loading),(0,P.U)(je=>je.data),(0,P.U)(je=>!(!je||!Object.keys(je).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)}),(0,V.x)())}setDeliveryMode(){this.deliveryModeSet$=(0,Ee.aj)([this.deliveryAddressSet$,this.checkoutDeliveryModesFacade.getSupportedDeliveryModesState()]).pipe((0,q.b)(0),(0,Z.w)(([I,Q])=>I?(0,ze.of)([Q]).pipe((0,B.h)(([je])=>!je.loading&&!!je.data?.length),(0,Z.w)(([je])=>{if(!je.data)return(0,ze.of)(!1);const Rt=this.checkoutConfigService.getPreferredDeliveryMode(je.data);return(0,ze.of)([Rt]).pipe((0,Z.w)(([cn])=>cn?this.checkoutDeliveryModesFacade.setDeliveryMode(cn).pipe((0,Z.w)(()=>this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState()),(0,B.h)(hn=>!hn.error&&!hn.loading),(0,P.U)(hn=>hn.data),(0,P.U)(hn=>!(!hn||!Object.keys(hn).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)))})):(0,ze.of)(!1)),(0,V.x)())}setPaymentMethod(){this.paymentMethodSet$=(0,Ee.aj)([this.deliveryModeSet$,this.userPaymentService.getPaymentMethods(),this.userPaymentService.getPaymentMethodsLoadedSuccess()]).pipe((0,q.b)(0),(0,G.b)(([,,I])=>{I||this.userPaymentService.loadPaymentMethods()}),(0,B.h)(([,,I])=>I),(0,Z.w)(([I,Q])=>{if(!I)return(0,ze.of)(!1);const je=Q.find(Rt=>Rt.defaultPayment)||Q[0];return je&&0!==Object.keys(je).length?this.checkoutPaymentFacade.setPaymentDetails(je).pipe((0,Z.w)(()=>this.checkoutPaymentFacade.getPaymentDetailsState()),(0,B.h)(Rt=>!Rt.error&&!Rt.loading),(0,P.U)(Rt=>Rt.data),(0,P.U)(Rt=>!(!Rt||!Object.keys(Rt).length)),(0,ue.K)(()=>(0,ze.of)(!1))):(0,ze.of)(!1)}),(0,V.x)())}trySetDefaultCheckoutDetails(){return this.paymentMethodSet$.pipe((0,P.U)(I=>!!I))}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(S.kFJ),n.LFG(S.TWG),n.LFG(Ve.ys),n.LFG(Ve.Tx),n.LFG(O),n.LFG(Ve.BG))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Wn=(()=>{class N{constructor(I,Q,je,Rt,cn,hn){this.router=I,this.routingConfigService=Q,this.checkoutConfigService=je,this.expressCheckoutService=Rt,this.activeCartFacade=cn,this.checkoutStepService=hn,this.firstStep$=(0,ze.of)(this.router.parseUrl(this.routingConfigService.getRouteConfig(this.checkoutStepService.getFirstCheckoutStepRoute())?.paths?.[0]))}canActivate(){const I=this.expressCheckoutService.trySetDefaultCheckoutDetails().pipe((0,Z.w)(Q=>{const je=this.checkoutStepService.getCheckoutStepRoute("reviewOrder");return Q&&je?(0,ze.of)(this.router.parseUrl(this.routingConfigService.getRouteConfig(je)?.paths?.[0])):this.firstStep$}));return this.activeCartFacade.isGuestCart().pipe((0,Z.w)(Q=>this.checkoutConfigService.isExpressCheckout()&&!Q?I:this.firstStep$))}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(h.F0),n.LFG(S.gGW),n.LFG(O),n.LFG(wn),n.LFG(ae.bu),n.LFG(et))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),vr=(()=>{class N{constructor(){}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-orchestrator"]],decls:0,vars:0,template:function(I,Q){},encapsulation:2,changeDetection:0}),N})(),Yn=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutOrchestrator:{component:vr,guards:[fe,oe,Wn]}}})],imports:[e.ez]}),N})(),rr=(()=>{class N{constructor(I){this.activeCartFacade=I,this.cartOutlets=ae.oC,this.cart$=this.activeCartFacade.getActive()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(ae.bu))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-order-summary"]],decls:2,vars:4,consts:[[3,"cxOutlet","cxOutletContext"]],template:function(I,Q){1&I&&(n.YNc(0,lt,0,0,"ng-template",0),n.ALo(1,"async")),2&I&&n.Q6J("cxOutlet",Q.cartOutlets.ORDER_SUMMARY)("cxOutletContext",n.lcZ(1,2,Q.cart$))},dependencies:[w.$3S,e.Ov],encapsulation:2,changeDetection:0}),N})(),Qr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutOrderSummary:{component:rr}}})],imports:[e.ez,w.f5$]}),N})(),Dn=(()=>{class N{constructor(I,Q,je,Rt,cn,hn,gn){this.checkoutPaymentFacade=I,this.checkoutDeliveryAddressFacade=Q,this.userPaymentService=je,this.globalMessageService=Rt,this.fb=cn,this.userAddressService=hn,this.launchDialogService=gn,this.iconTypes=w.e1G,this.months=[],this.years=[],this.sameAsDeliveryAddress=!0,this.selectedCountry$=new Ye.X(""),this.goBack=new n.vpe,this.closeForm=new n.vpe,this.setPaymentDetails=new n.vpe,this.paymentForm=this.fb.group({cardType:this.fb.group({code:[null,he.kI.required]}),accountHolderName:["",he.kI.required],cardNumber:["",he.kI.required],expiryMonth:[null,he.kI.required],expiryYear:[null,he.kI.required],cvn:["",he.kI.required],defaultPayment:[!1]}),this.billingAddressForm=this.fb.group({firstName:["",he.kI.required],lastName:["",he.kI.required],line1:["",he.kI.required],line2:[""],town:["",he.kI.required],region:this.fb.group({isocodeShort:[null,he.kI.required]}),country:this.fb.group({isocode:[null,he.kI.required]}),postalCode:["",he.kI.required]})}ngOnInit(){this.paymentDetails&&this.paymentForm.patchValue(this.paymentDetails),this.expMonthAndYear(),this.countries$=this.userPaymentService.getAllBillingCountries().pipe((0,G.b)(I=>{0===Object.keys(I).length&&this.userPaymentService.loadBillingCountries()})),this.cardTypes$=this.checkoutPaymentFacade.getPaymentCardTypes(),this.deliveryAddress$=this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,B.h)(I=>!I.loading),(0,P.U)(I=>I.data)),this.showSameAsDeliveryAddressCheckbox$=(0,Ee.aj)([this.countries$,this.deliveryAddress$]).pipe((0,P.U)(([I,Q])=>(Q?.country&&!!I.filter(je=>je.isocode===Q.country?.isocode).length)??!1),(0,G.b)(I=>{this.sameAsDeliveryAddress=I})),this.regions$=this.selectedCountry$.pipe((0,Z.w)(I=>this.userAddressService.getRegions(I)),(0,G.b)(I=>{const Q=this.billingAddressForm.get("region.isocodeShort");I.length>0?Q?.enable():Q?.disable()}))}expMonthAndYear(){const I=(new Date).getFullYear();for(let Q=0;Q<10;Q++)this.years.push(I+Q);for(let Q=1;Q<=12;Q++)this.months.push(Q<10?`0${Q}`:Q.toString())}toggleDefaultPaymentMethod(){this.paymentForm.value.defaultPayment=!this.paymentForm.value.defaultPayment}toggleSameAsDeliveryAddress(){this.sameAsDeliveryAddress=!this.sameAsDeliveryAddress}getAddressCardContent(I){let Q="";return I.region&&I.region.isocode&&(Q=I.region.isocode+", "),{textBold:I.firstName+" "+I.lastName,text:[I.line1,I.line2,I.town+", "+Q+I.country?.isocode,I.postalCode,I.phone]}}openSuggestedAddress(I){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",void 0,{enteredAddress:this.billingAddressForm.value,suggestedAddresses:I.suggestedAddresses})}close(){this.closeForm.emit()}back(){this.goBack.emit()}verifyAddress(){this.sameAsDeliveryAddress?this.next():this.userAddressService.verifyAddress(this.billingAddressForm.value).subscribe(I=>{this.handleAddressVerificationResults(I)})}handleAddressVerificationResults(I){"ACCEPT"===I.decision?this.next():"REJECT"===I.decision?this.globalMessageService.add({key:"addressForm.invalidAddress"},S.xUg.MSG_TYPE_ERROR):"REVIEW"===I.decision&&this.openSuggestedAddress(I)}countrySelected(I){this.billingAddressForm.get("country.isocode")?.setValue(I.isocode),this.selectedCountry$.next(I.isocode)}next(){this.paymentForm.valid?this.sameAsDeliveryAddress?this.setPaymentDetails.emit({paymentDetails:this.paymentForm.value,billingAddress:null}):this.billingAddressForm.valid?this.setPaymentDetails.emit({paymentDetails:this.paymentForm.value,billingAddress:this.billingAddressForm.value}):this.billingAddressForm.markAllAsTouched():(this.paymentForm.markAllAsTouched(),this.sameAsDeliveryAddress||this.billingAddressForm.markAllAsTouched())}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(Ve.Tx),n.Y36(Ve.ys),n.Y36(S.TWG),n.Y36(S.IWp),n.Y36(he.QS),n.Y36(S.kFJ),n.Y36(w.Q3W))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-payment-form"]],inputs:{loading:"loading",setAsDefaultField:"setAsDefaultField",paymentMethodsCount:"paymentMethodsCount",paymentDetails:"paymentDetails"},outputs:{goBack:"goBack",closeForm:"closeForm",setPaymentDetails:"setPaymentDetails"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["spinner",""],["role","status"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],["formGroupName","cardType",1,"form-group"],[4,"ngIf"],[1,"form-group"],[1,"label-content"],["required","true","type","text","formControlName","accountHolderName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","cardNumber",1,"form-control"],[1,"form-group","col-md-8"],[1,"cx-payment-form-exp-date"],[1,"cx-payment-form-exp-date-wrapper"],["formControlName","expiryMonth","id","month-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],["id","year-select","formControlName","expiryYear",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"form-group","col-md-4"],["placement","right","alt","",1,"cx-payment-form-tooltip",3,"type","title"],["required","true","type","text","id","cVVNumber","formControlName","cvn",1,"form-control"],["class","form-group",4,"ngIf"],[1,"cx-payment-form-billing"],[1,"cx-payment-form-billing-address"],["billingAddress",""],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],["class","btn btn-block btn-action",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-block","btn-primary"],[1,"label-content","required"],["bindLabel","name","bindValue","code","formControlName","code","id","card-type-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change"],[3,"content"],[3,"formGroup"],["formGroupName","country",1,"form-group"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["bindLabel","name","bindValue","isocode","formControlName","isocode","id","country-payment-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y","change"],["formGroupName","region"],["formControlName","isocodeShort","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(I,Q){if(1&I&&(n.YNc(0,dn,68,79,"ng-container",0),n.YNc(1,kt,1,0,"ng-template",null,1,n.W1O)),2&I){const je=n.MAs(2);n.Q6J("ngIf",!Q.loading)("ngIfElse",je)}},dependencies:[w.VnX,e.O5,he._Y,he.Fj,he.JJ,he.JL,he.Q7,he.sg,he.u,he.x0,ge.w9,w.AkF,w.oJW,w.ORR,w.Ahv,e.Ov,S.X$D],encapsulation:2,changeDetection:0}),N})(),_r=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({imports:[w.LcC,e.ez,he.UX,ge.A0,w.dTQ,S.LUR,w.QX1,w.Fme,w.Fym]}),N})(),Fr=(()=>{class N{constructor(I,Q,je,Rt,cn,hn,gn,ir){this.userPaymentService=I,this.checkoutDeliveryAddressFacade=Q,this.checkoutPaymentFacade=je,this.activatedRoute=Rt,this.translationService=cn,this.activeCartFacade=hn,this.checkoutStepService=gn,this.globalMessageService=ir,this.subscriptions=new at.w,this.busy$=new Ye.X(!1),this.iconTypes=w.e1G,this.isGuestCheckout=!1,this.newPaymentFormManuallyOpened=!1,this.doneAutoSelect=!1,this.isUpdating$=(0,Ee.aj)([this.busy$,this.userPaymentService.getPaymentMethodsLoading(),this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,P.U)(sr=>sr.loading))]).pipe((0,P.U)(([sr,Ir,eo])=>sr||Ir||eo),(0,V.x)())}get backBtnText(){return this.checkoutStepService.getBackBntText(this.activatedRoute)}get existingPaymentMethods$(){return this.userPaymentService.getPaymentMethods()}get selectedMethod$(){return this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,B.h)(I=>!I.loading),(0,P.U)(I=>I.data),(0,V.x)((I,Q)=>I?.id===Q?.id))}ngOnInit(){(0,S.P51)(this.activeCartFacade.isGuestCart())?this.isGuestCheckout=!0:this.userPaymentService.loadPaymentMethods(),this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,B.h)(I=>!I.loading),(0,ne.q)(1),(0,P.U)(I=>I.data)).subscribe(I=>{this.deliveryAddress=I}),this.cards$=(0,Ee.aj)([this.existingPaymentMethods$.pipe((0,Z.w)(I=>I?.length?(0,Ee.aj)(I.map(Q=>(0,Ee.aj)([(0,ze.of)(Q),this.translationService.translate("paymentCard.expires",{month:Q.expiryMonth,year:Q.expiryYear})]).pipe((0,P.U)(([je,Rt])=>({payment:je,expiryTranslation:Rt}))))):(0,ze.of)([]))),this.selectedMethod$,this.translationService.translate("paymentForm.useThisPayment"),this.translationService.translate("paymentCard.defaultPaymentMethod"),this.translationService.translate("paymentCard.selected")]).pipe((0,G.b)(([I,Q])=>this.selectDefaultPaymentMethod(I,Q)),(0,P.U)(([I,Q,je,Rt,cn])=>I.map(hn=>({content:this.createCard(hn.payment,{textExpires:hn.expiryTranslation,textUseThisPayment:je,textDefaultPaymentMethod:Rt,textSelected:cn},Q),paymentMethod:hn.payment}))))}selectDefaultPaymentMethod(I,Q){if(!this.doneAutoSelect&&I?.length&&(!Q||0===Object.keys(Q).length)){const je=I.find(Rt=>Rt.payment.defaultPayment);je&&this.savePaymentMethod(Q=je.payment),this.doneAutoSelect=!0}}selectPaymentMethod(I){I?.id!==(0,S.P51)(this.selectedMethod$)?.id&&(this.globalMessageService.add({key:"paymentMethods.paymentMethodSelected"},S.xUg.MSG_TYPE_INFO),this.savePaymentMethod(I))}showNewPaymentForm(){this.newPaymentFormManuallyOpened=!0}hideNewPaymentForm(){this.newPaymentFormManuallyOpened=!1}setPaymentDetails({paymentDetails:I,billingAddress:Q}){this.paymentDetails=I;const je={...I};je.billingAddress=Q??this.deliveryAddress,this.busy$.next(!0),this.subscriptions.add(this.checkoutPaymentFacade.createPaymentDetails(je).subscribe({complete:()=>{this.next()},error:()=>{this.onError()}}))}next(){this.checkoutStepService.next(this.activatedRoute)}back(){this.checkoutStepService.back(this.activatedRoute)}savePaymentMethod(I){this.busy$.next(!0),this.subscriptions.add(this.checkoutPaymentFacade.setPaymentDetails(I).subscribe({complete:()=>this.onSuccess(),error:()=>this.onError()}))}getCardIcon(I){let Q;return Q="visa"===I?this.iconTypes.VISA:"master"===I||"mastercard_eurocard"===I?this.iconTypes.MASTER_CARD:"diners"===I?this.iconTypes.DINERS_CLUB:"amex"===I?this.iconTypes.AMEX:this.iconTypes.CREDIT_CARD,Q}createCard(I,Q,je){return{role:"region",title:I.defaultPayment?Q.textDefaultPaymentMethod:"",textBold:I.accountHolderName,text:[I.cardNumber??"",Q.textExpires],img:this.getCardIcon(I.cardType?.code),actions:[{name:Q.textUseThisPayment,event:"send"}],header:je?.id===I.id?Q.textSelected:void 0,label:I.defaultPayment?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"}}onSuccess(){this.busy$.next(!1)}onError(){this.busy$.next(!1)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(S.TWG),n.Y36(Ve.ys),n.Y36(Ve.Tx),n.Y36(h.gz),n.Y36(S.D7D),n.Y36(ae.bu),n.Y36(et),n.Y36(S.IWp))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-payment-method"]],decls:7,vars:6,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["hasExistingPaymentMethods",""],["newPaymentForm",""],["role","status"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-payment-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"row","cx-checkout-btns"],[1,"btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-payment-card","col-md-12","col-lg-6"],[1,"cx-payment-card-inner",3,"click"],[3,"border","fitToContainer","content","index","sendCard"],[3,"paymentMethodsCount","setAsDefaultField","loading","paymentDetails","setPaymentDetails","closeForm","goBack"],[1,"cx-spinner"]],template:function(I,Q){1&I&&(n.TgZ(0,"h2",0),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA(),n.YNc(3,bn,7,4,"ng-container",1),n.ALo(4,"async"),n.YNc(5,_t,2,0,"ng-template",null,2,n.W1O)),2&I&&(n.xp6(1),n.hij(" ",n.lcZ(2,2,"paymentForm.payment"),"\n"),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,Q.cards$)))},dependencies:[e.sg,e.O5,Dn,w.AkF,w.ORR,e.Ov,S.X$D],encapsulation:2,changeDetection:0}),N})(),Ar=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutPaymentDetails:{component:Fr,guards:[fe,oe]}}})],imports:[e.ez,h.Bz,_r,w.dTQ,w.Fme,S.LUR]}),N})(),Rr=(()=>{class N{constructor(I,Q,je,Rt,cn){this.orderFacade=I,this.routingService=Q,this.fb=je,this.launchDialogService=Rt,this.vcr=cn,this.checkoutSubmitForm=this.fb.group({termsAndConditions:[!1,he.kI.requiredTrue]})}get termsAndConditionInvalid(){return this.checkoutSubmitForm.invalid}submitForm(){this.checkoutSubmitForm.valid?(this.placedOrder=this.launchDialogService.launch("PLACE_ORDER_SPINNER",this.vcr),this.orderFacade.placeOrder(this.checkoutSubmitForm.valid).subscribe({error:()=>{!this.placedOrder||this.placedOrder.subscribe(I=>{this.launchDialogService.clear("PLACE_ORDER_SPINNER"),I&&I.destroy()}).unsubscribe()},next:()=>this.onSuccess()})):this.checkoutSubmitForm.markAllAsTouched()}onSuccess(){this.routingService.go({cxRoute:"orderConfirmation"})}ngOnDestroy(){this.launchDialogService.clear("PLACE_ORDER_SPINNER")}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(de.Vh),n.Y36(S.Znh),n.Y36(he.QS),n.Y36(w.Q3W),n.Y36(n.s_b))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-place-order"]],decls:15,vars:18,consts:[[1,"cx-place-order-form","form-check",3,"formGroup"],[1,"form-group"],["formControlName","termsAndConditions","type","checkbox",1,"scaled-input","form-check-input"],[1,"form-check-label"],["target","_blank","rel","noopener noreferrer",1,"cx-tc-link",3,"routerLink"],[1,"btn","btn-primary","btn-block",3,"disabled","cxAtMessage","click"]],template:function(I,Q){1&I&&(n.TgZ(0,"form",0)(1,"div",1)(2,"label"),n._UZ(3,"input",2),n.TgZ(4,"span",3),n._uU(5),n.ALo(6,"cxTranslate"),n.TgZ(7,"a",4),n.ALo(8,"cxUrl"),n._uU(9),n.ALo(10,"cxTranslate"),n.qZA()()()(),n.TgZ(11,"button",5),n.NdJ("click",function(){return Q.submitForm()}),n.ALo(12,"cxTranslate"),n._uU(13),n.ALo(14,"cxTranslate"),n.qZA()()),2&I&&(n.Q6J("formGroup",Q.checkoutSubmitForm),n.xp6(5),n.hij(" ",n.lcZ(6,7,"checkoutReview.confirmThatRead")," "),n.xp6(2),n.Q6J("routerLink",n.lcZ(8,9,n.DdM(17,Ue))),n.xp6(2),n.hij(" ",n.lcZ(10,11,"checkoutReview.termsAndConditions")," "),n.xp6(2),n.Q6J("disabled",Q.termsAndConditionInvalid)("cxAtMessage",n.lcZ(12,13,"checkoutReview.orderInProcess")),n.xp6(2),n.hij(" ",n.lcZ(14,15,"checkoutReview.placeOrder")," "))},dependencies:[w.cgP,h.yS,he._Y,he.Wl,he.JJ,he.JL,he.sg,he.u,S.l2T,S.X$D],encapsulation:2,changeDetection:0}),N})();const dr={launch:{PLACE_ORDER_SPINNER:{inline:!0,component:w.ORR,dialogType:w.Myk.POPOVER_CENTER_BACKDROP}}};let Cr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)(dr),(0,S.i51)({cmsComponents:{CheckoutPlaceOrder:{component:Rr,guards:[fe,oe]}}})],imports:[w.p$5,e.ez,h.Bz,S.bhT,S.LUR,he.UX]}),N})(),$n=(()=>{class N{constructor(I,Q,je,Rt,cn,hn){this.checkoutStepService=I,this.routingConfigService=Q,this.checkoutDeliveryAddressFacade=je,this.checkoutPaymentFacade=Rt,this.checkoutDeliveryModesFacade=cn,this.router=hn}canActivate(I){let Q=-1;const je="/"+I.url.join("/");return this.checkoutStepService.steps$.pipe((0,ne.q)(1),(0,Z.w)(Rt=>{let cn;return Q=Rt.findIndex(hn=>`/${this.routingConfigService.getRouteConfig(hn.routeName)?.paths?.[0]}`===je),Q>=0&&(cn=Rt[Q]),Boolean(cn)?this.isStepSet(Rt[Q-1]):((0,n.X6Q)()&&console.warn(`Missing step with route '${je}' in checkout configuration or this step is disabled.`),(0,ze.of)(this.getUrl("checkout")))}))}isStepSet(I){if(I&&!I.disabled)switch(I.type[0]){case"deliveryAddress":return this.isDeliveryAddress(I);case"deliveryMode":return this.isDeliveryModeSet(I);case"paymentDetails":return this.isPaymentDetailsSet(I)}return(0,ze.of)(!0)}isDeliveryAddress(I){return this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,B.h)(Q=>!Q.loading),(0,P.U)(Q=>Q.data),(0,P.U)(Q=>!(!Q||!Object.keys(Q).length)||this.getUrl(I.routeName)))}isDeliveryModeSet(I){return this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,B.h)(Q=>!Q.loading),(0,P.U)(Q=>Q.data),(0,P.U)(Q=>!!Q||this.getUrl(I.routeName)))}isPaymentDetailsSet(I){return this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,B.h)(Q=>!Q.loading),(0,P.U)(Q=>Q.data),(0,P.U)(Q=>!(!Q||0===Object.keys(Q).length)||this.getUrl(I.routeName)))}getUrl(I){return this.router.parseUrl(this.routingConfigService.getRouteConfig(I)?.paths?.[0])}}return N.\u0275fac=function(I){return new(I||N)(n.LFG(et),n.LFG(S.gGW),n.LFG(Ve.ys),n.LFG(Ve.Tx),n.LFG(Ve.BG),n.LFG(h.F0))},N.\u0275prov=n.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Jn=(()=>{class N{constructor(I){this.checkoutStepService=I,this._steps$=this.checkoutStepService.steps$,this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(Q=>this.activeStepIndex=Q))}get steps$(){return this._steps$.asObservable()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(et))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress-mobile-bottom"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-media"],[4,"ngFor","ngForOf"],["class","cx-list-media",4,"ngIf"],[1,"cx-list-media"]],template:function(I,Q){1&I&&(n.YNc(0,vt,4,3,"div",0),n.ALo(1,"async")),2&I&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,Q.activeStepIndex$))},dependencies:[e.sg,e.O5,e.Ov,S.X$D],encapsulation:2,changeDetection:0}),N})(),Mr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutProgressMobileBottom:{component:Jn,guards:[fe,oe,$n]}}})],imports:[e.ez,S.bhT,S.LUR,h.Bz]}),N})(),Gn=(()=>{class N{constructor(I,Q){this.activeCartFacade=I,this.checkoutStepService=Q,this._steps$=this.checkoutStepService.steps$,this.cart$=this.activeCartFacade.getActive(),this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(je=>this.activeStepIndex=je))}get steps$(){return this._steps$.asObservable()}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(ae.bu),n.Y36(et))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress-mobile-top"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-media"],["class","cx-list-media",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cx-list-media"],["class","cx-list-media is-active",4,"ngIf"],[1,"btn","btn-link",3,"routerLink"],[1,"cx-list-media","is-active"]],template:function(I,Q){1&I&&(n.YNc(0,tt,3,3,"div",0),n.ALo(1,"async")),2&I&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,Q.activeStepIndex$))},dependencies:[e.sg,e.O5,h.rH,e.Ov,S.l2T,S.X$D],encapsulation:2,changeDetection:0}),N})(),pr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutProgressMobileTop:{component:Gn,guards:[fe,oe,$n]}}})],imports:[e.ez,S.bhT,S.LUR,h.Bz]}),N})(),Pr=(()=>{class N{transform(I){const Q=I.lastIndexOf(" ");return-1===Q?I:I.substring(0,Q)+"<br />"+I.substring(Q,I.length).trim()}}return N.\u0275fac=function(I){return new(I||N)},N.\u0275pipe=n.Yjl({name:"cxMultiLine",type:N,pure:!0}),N})(),qr=(()=>{class N{constructor(I){this.checkoutStepService=I,this._steps$=this.checkoutStepService.steps$,this.activeStepIndex$=this.checkoutStepService.activeStepIndex$.pipe((0,G.b)(Q=>this.activeStepIndex=Q))}get steps$(){return this._steps$.asObservable()}getTabIndex(I){return this.isActive(I)||this.isDisabled(I)?-1:0}isActive(I){return I===this.activeStepIndex}isDisabled(I){return I>this.activeStepIndex}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(et))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-checkout-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-nav","d-none","d-lg-block","d-xl-block"],[1,"cx-list"],[4,"ngFor","ngForOf"],[1,"cx-item"],[1,"cx-link",3,"routerLink","tabindex","innerHTML"]],template:function(I,Q){1&I&&(n.YNc(0,Xe,6,6,"nav",0),n.ALo(1,"async")),2&I&&n.Q6J("ngIf",void 0!==n.lcZ(1,1,Q.activeStepIndex$))},dependencies:[e.sg,e.O5,h.yS,e.Ov,S.l2T,S.X$D,Pr],encapsulation:2,changeDetection:0}),N})(),Xr=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutProgress:{component:qr,guards:[fe,oe,$n]}}})],imports:[e.ez,S.bhT,S.LUR,h.Bz]}),N})(),xr=(()=>{class N{constructor(I,Q,je,Rt,cn,hn){this.checkoutDeliveryAddressFacade=I,this.checkoutPaymentFacade=Q,this.activeCartFacade=je,this.translationService=Rt,this.checkoutStepService=cn,this.checkoutDeliveryModesFacade=hn,this.cartOutlets=ae.oC,this.iconTypes=w.e1G,this.checkoutStepTypeDeliveryAddress="deliveryAddress",this.checkoutStepTypePaymentDetails="paymentDetails",this.checkoutStepTypeDeliveryMode="deliveryMode",this.promotionLocation=ae.Bx.ActiveCart,this.steps$=this.checkoutStepService.steps$,this.deliveryAddress$=this.checkoutDeliveryAddressFacade.getDeliveryAddressState().pipe((0,B.h)(gn=>!gn.loading&&!gn.error),(0,P.U)(gn=>gn.data)),this.deliveryMode$=this.checkoutDeliveryModesFacade.getSelectedDeliveryModeState().pipe((0,B.h)(gn=>!gn.loading&&!gn.error),(0,P.U)(gn=>gn.data)),this.paymentDetails$=this.checkoutPaymentFacade.getPaymentDetailsState().pipe((0,B.h)(gn=>!gn.loading&&!gn.error),(0,P.U)(gn=>gn.data))}get cart$(){return this.activeCartFacade.getActive()}get entries$(){return this.activeCartFacade.getEntries()}getCheckoutDeliverySteps(){return["deliveryAddress","deliveryMode"]}getCheckoutPaymentSteps(){return["paymentDetails","deliveryAddress"]}getDeliveryAddressCard(I,Q){return this.translationService.translate("addressCard.shipTo").pipe((0,P.U)(je=>{Q||(Q=I?.country?.name);let Rt="";return I&&I.region&&I.region.isocode&&(Rt=I.region.isocode+", "),{title:je,textBold:I.firstName+" "+I.lastName,text:[I.line1,I.line2,I.town+", "+Rt+Q,I.postalCode,I.phone]}}))}getDeliveryModeCard(I){return(0,Ee.aj)([this.translationService.translate("checkoutMode.deliveryMethod")]).pipe((0,P.U)(([Q])=>({title:Q,textBold:I.name,text:[I.description,I.deliveryCost?.formattedValue?I.deliveryCost?.formattedValue:""]})))}getPaymentMethodCard(I){return(0,Ee.aj)([this.translationService.translate("paymentForm.payment"),this.translationService.translate("paymentCard.expires",{month:I.expiryMonth,year:I.expiryYear}),this.translationService.translate("paymentForm.billingAddress")]).pipe((0,P.U)(([Q,je,Rt])=>({title:Q,textBold:I.accountHolderName,text:[I.cardNumber,je],paragraphs:[{title:Rt+":",text:[I.billingAddress?.firstName+" "+I.billingAddress?.lastName,I.billingAddress?.line1,I.billingAddress?.town+", "+(I.billingAddress?.region?.isocode?I.billingAddress?.region?.isocode+", ":"")+I.billingAddress?.country?.isocode,I.billingAddress?.postalCode]}]})))}getCheckoutStepUrl(I){return this.checkoutStepService.getCheckoutStep(I)?.routeName}deliverySteps(I){return I.filter(Q=>this.getCheckoutDeliverySteps().includes(Q.type[0]))}paymentSteps(I){return I.filter(Q=>this.getCheckoutPaymentSteps().includes(Q.type[0]))}}return N.\u0275fac=function(I){return new(I||N)(n.Y36(Ve.ys),n.Y36(Ve.Tx),n.Y36(ae.bu),n.Y36(S.D7D),n.Y36(et),n.Y36(Ve.BG))},N.\u0275cmp=n.Xpm({type:N,selectors:[["cx-review-submit"]],decls:15,vars:9,consts:[[1,"cx-review"],[1,"cx-review-title","d-none","d-lg-block","d-xl-block"],[1,"cx-review-summary","row"],[4,"ngIf"],["deliveryAddress",""],["deliveryMode",""],["paymentMethod",""],[1,"col-md-12","col-lg-6","col-xl-6","cx-review-payment-col"],[4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-6","col-xl-6","cx-review-shipping-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["class","cx-review-summary-card cx-review-card-address",4,"ngIf"],[1,"cx-review-summary-card","cx-review-card-address"],[3,"content"],[1,"cx-review-summary-edit-step"],[3,"routerLink"],["aria-hidden","true",3,"type"],[1,"cx-review-summary-card","cx-review-card-shipping"],[3,"content",4,"ngIf"],[1,"cx-review-summary-card","cx-review-card-payment"],[1,"cx-review-cart-total","d-none","d-lg-block","d-xl-block"],[1,"cx-review-cart-heading","d-block","d-lg-none","d-xl-none"],["class","cx-review-cart-item col-md-12",4,"ngIf"],[1,"cx-review-cart-item","col-md-12"],[3,"promotions"],[3,"cxOutlet","cxOutletContext"]],template:function(I,Q){if(1&I&&(n.TgZ(0,"div",0)(1,"h2",1),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",2),n.YNc(5,Nn,5,2,"ng-container",3),n.ALo(6,"async"),n.qZA(),n.YNc(7,yn,2,3,"ng-template",null,4,n.W1O),n.YNc(9,Ln,8,12,"ng-template",null,5,n.W1O),n.YNc(11,lr,9,12,"ng-template",null,6,n.W1O),n.YNc(13,X,9,13,"ng-container",3),n.ALo(14,"async"),n.qZA()),2&I){let je;n.xp6(2),n.hij(" ",n.lcZ(3,3,"checkoutReview.review")," "),n.xp6(3),n.Q6J("ngIf",null==(je=n.lcZ(6,5,Q.steps$))?null:je.slice(0,-1)),n.xp6(8),n.Q6J("ngIf",n.lcZ(14,7,Q.cart$))}},dependencies:[e.sg,e.O5,e.tP,e.RF,e.n9,w.AkF,h.yS,w.fVH,w.oJW,w.$3S,e.Ov,S.X$D,S.l2T],encapsulation:2,changeDetection:0}),N})(),Be=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({providers:[(0,S.i51)({cmsComponents:{CheckoutReviewOrder:{component:xr,guards:[fe,oe]}}})],imports:[e.ez,w.dTQ,S.LUR,S.bhT,h.Bz,w.k$G,w.QX1,w.f5$]}),N})(),gt=(()=>{class N{}return N.\u0275fac=function(I){return new(I||N)},N.\u0275mod=n.oAB({type:N}),N.\u0275inj=n.cJS({imports:[Yn,Qr,Xr,pr,Mr,Bn,Ar,Cr,Be,qt,Hn]}),N})()},2453:(_e,ie,v)=>{"use strict";v.d(ie,{CQ:()=>Ye,CZ:()=>Me,E8:()=>ze,IQ:()=>Ie,OW:()=>ae,Vm:()=>Te,Z_:()=>He,hX:()=>ne,iI:()=>re,oH:()=>J,zQ:()=>he});var n=v(4650),e=v(9057),h=v(7935),F=v(6053),S=v(1737),w=v(7545),P=v(4850),B=v(2994),Z=v(2986),V=v(7221),G=v(3749);class J{}let q=(()=>{class Ce{constructor(Ae){this.adapter=Ae}createAddress(Ae,Ge,ht){return this.adapter.createAddress(Ae,Ge,ht)}setAddress(Ae,Ge,ht){return this.adapter.setAddress(Ae,Ge,ht)}clearCheckoutDeliveryAddress(Ae,Ge){return this.adapter.clearCheckoutDeliveryAddress(Ae,Ge)}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(J))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class ne{}let ue=(()=>{class Ce{constructor(Ae){this.adapter=Ae}setMode(Ae,Ge,ht){return this.adapter.setMode(Ae,Ge,ht)}getSupportedModes(Ae,Ge){return this.adapter.getSupportedModes(Ae,Ge)}clearCheckoutDeliveryMode(Ae,Ge){return this.adapter.clearCheckoutDeliveryMode(Ae,Ge)}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(ne))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class ae{}let Ee=(()=>{class Ce{constructor(Ae){this.adapter=Ae}createPaymentDetails(Ae,Ge,ht){return this.adapter.createPaymentDetails(Ae,Ge,ht)}setPaymentDetails(Ae,Ge,ht){return this.adapter.setPaymentDetails(Ae,Ge,ht)}getPaymentCardTypes(){return this.adapter.getPaymentCardTypes()}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(ae))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Ye{}let at=(()=>{class Ce{constructor(Ae){this.adapter=Ae}getCheckoutDetails(Ae,Ge){return this.adapter.getCheckoutDetails(Ae,Ge)}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(Ye))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),ze=(()=>{class Ce{constructor(Ae,Ge,ht,Je,lt,Ne){this.activeCartFacade=Ae,this.userIdService=Ge,this.eventService=ht,this.commandService=Je,this.checkoutDeliveryAddressConnector=lt,this.checkoutQueryFacade=Ne,this.createDeliveryAddressCommand=this.commandService.create(an=>this.checkoutPreconditions().pipe((0,w.w)(([Gt,Jt])=>this.checkoutDeliveryAddressConnector.createAddress(Gt,Jt,an).pipe((0,P.U)(ft=>(ft.titleCode=an.titleCode,an.region?.isocodeShort&&(ft.region={...ft.region,isocodeShort:an.region.isocodeShort}),ft)),(0,B.b)(ft=>this.eventService.dispatch({userId:Gt,cartId:Jt,address:ft},h.vz))))),{strategy:e.flE.CancelPrevious}),this.setDeliveryAddressCommand=this.commandService.create(an=>this.checkoutPreconditions().pipe((0,w.w)(([Gt,Jt])=>{const ft=an.id;if(!ft)throw new Error("Checkout conditions not met");return this.checkoutDeliveryAddressConnector.setAddress(Gt,Jt,ft).pipe((0,B.b)(()=>{this.eventService.dispatch({userId:Gt,cartId:Jt,address:an},h.oz)}))})),{strategy:e.flE.CancelPrevious}),this.clearDeliveryAddressCommand=this.commandService.create(()=>this.checkoutPreconditions().pipe((0,w.w)(([an,Gt])=>this.checkoutDeliveryAddressConnector.clearCheckoutDeliveryAddress(an,Gt).pipe((0,B.b)(()=>{this.eventService.dispatch({userId:an,cartId:Gt},h.eb)})))),{strategy:e.flE.CancelPrevious})}checkoutPreconditions(){return(0,F.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,Z.q)(1),(0,P.U)(([Ae,Ge,ht])=>{if(!Ae||!Ge||Ae===e.Fds&&!ht)throw new Error("Checkout conditions not met");return[Ae,Ge]}))}getDeliveryAddressState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,P.U)(Ae=>({...Ae,data:Ae.data?.deliveryAddress})))}createAndSetAddress(Ae){return this.createDeliveryAddressCommand.execute(Ae)}setDeliveryAddress(Ae){return this.setDeliveryAddressCommand.execute(Ae)}clearCheckoutDeliveryAddress(){return this.clearDeliveryAddressCommand.execute()}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e.POd),n.LFG(e.VDr),n.LFG(q),n.LFG(h.nh))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),Ve=(()=>{class Ce{constructor(Ae,Ge,ht,Je,lt,Ne,an){this.activeCartFacade=Ae,this.userIdService=Ge,this.eventService=ht,this.queryService=Je,this.commandService=lt,this.checkoutDeliveryModesConnector=Ne,this.checkoutQueryFacade=an,this.supportedDeliveryModesQuery=this.queryService.create(()=>this.checkoutPreconditions().pipe((0,w.w)(([Gt,Jt])=>this.checkoutDeliveryModesConnector.getSupportedModes(Gt,Jt))),{reloadOn:this.getCheckoutSupportedDeliveryModesQueryReloadEvents(),resetOn:this.getCheckoutSupportedDeliveryModesQueryResetEvents()}),this.setDeliveryModeCommand=this.commandService.create(Gt=>this.checkoutPreconditions().pipe((0,w.w)(([Jt,ft])=>this.checkoutDeliveryModesConnector.setMode(Jt,ft,Gt).pipe((0,B.b)(()=>{this.eventService.dispatch({userId:Jt,cartId:ft,cartCode:ft,deliveryModeCode:Gt},h.VG)})))),{strategy:e.flE.CancelPrevious}),this.clearDeliveryModeCommand=this.commandService.create(()=>this.checkoutPreconditions().pipe((0,w.w)(([Gt,Jt])=>this.checkoutDeliveryModesConnector.clearCheckoutDeliveryMode(Gt,Jt).pipe((0,B.b)(()=>{this.eventService.dispatch({userId:Gt,cartId:Jt,cartCode:Jt},h.Yy)}),(0,V.K)(ft=>(this.eventService.dispatch({userId:Gt,cartId:Jt,cartCode:Jt},h.s7),(0,S._)(ft)))))),{strategy:e.flE.CancelPrevious})}getCheckoutSupportedDeliveryModesQueryReloadEvents(){return[h.f2]}getCheckoutSupportedDeliveryModesQueryResetEvents(){return[h.Nw]}checkoutPreconditions(){return(0,F.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,Z.q)(1),(0,P.U)(([Ae,Ge,ht])=>{if(!Ae||!Ge||Ae===e.Fds&&!ht)throw new Error("Checkout conditions not met");return[Ae,Ge]}))}getSupportedDeliveryModesState(){return this.supportedDeliveryModesQuery.getState()}getSupportedDeliveryModes(){return this.getSupportedDeliveryModesState().pipe((0,P.U)(Ae=>Ae.data??[]))}getSelectedDeliveryModeState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,P.U)(Ae=>({...Ae,data:Ae.data?.deliveryMode})))}setDeliveryMode(Ae){return this.setDeliveryModeCommand.execute(Ae)}clearCheckoutDeliveryMode(){return this.clearDeliveryModeCommand.execute()}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e.POd),n.LFG(e._7J),n.LFG(e.VDr),n.LFG(ue),n.LFG(h.nh))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),he=(()=>{class Ce{constructor(Ae,Ge,ht,Je,lt,Ne,an){this.activeCartFacade=Ae,this.userIdService=Ge,this.queryService=ht,this.commandService=Je,this.eventService=lt,this.checkoutPaymentConnector=Ne,this.checkoutQueryFacade=an,this.paymentCardTypesQuery=this.queryService.create(()=>this.checkoutPaymentConnector.getPaymentCardTypes(),{reloadOn:this.getCheckoutPaymentCardTypesQueryReloadEvents(),resetOn:this.getCheckoutPaymentCardTypesQueryResetEvents()}),this.createPaymentMethodCommand=this.commandService.create(Gt=>this.checkoutPreconditions().pipe((0,w.w)(([Jt,ft])=>this.checkoutPaymentConnector.createPaymentDetails(Jt,ft,Gt).pipe((0,B.b)(nn=>this.eventService.dispatch({userId:Jt,cartId:ft,paymentDetails:nn},h.y6))))),{strategy:e.flE.CancelPrevious}),this.setPaymentMethodCommand=this.commandService.create(Gt=>this.checkoutPreconditions().pipe((0,w.w)(([Jt,ft])=>{const nn=Gt?.id;if(!nn)throw new Error("Checkout conditions not met");return this.checkoutPaymentConnector.setPaymentDetails(Jt,ft,nn).pipe((0,B.b)(()=>this.eventService.dispatch({userId:Jt,cartId:ft,paymentDetailsId:nn},h.WB)))})),{strategy:e.flE.CancelPrevious})}getCheckoutPaymentCardTypesQueryReloadEvents(){return[h.vk]}getCheckoutPaymentCardTypesQueryResetEvents(){return[h.B7]}checkoutPreconditions(){return(0,F.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,Z.q)(1),(0,P.U)(([Ae,Ge,ht])=>{if(!Ae||!Ge||Ae===e.Fds&&!ht)throw new Error("Checkout conditions not met");return[Ae,Ge]}))}getPaymentCardTypesState(){return this.paymentCardTypesQuery.getState()}getPaymentCardTypes(){return this.getPaymentCardTypesState().pipe((0,P.U)(Ae=>Ae.data??[]))}getPaymentDetailsState(){return this.checkoutQueryFacade.getCheckoutDetailsState().pipe((0,P.U)(Ae=>({...Ae,data:Ae.data?.paymentInfo})))}createPaymentDetails(Ae){return this.createPaymentMethodCommand.execute(Ae)}setPaymentDetails(Ae){return this.setPaymentMethodCommand.execute(Ae)}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e._7J),n.LFG(e.VDr),n.LFG(e.POd),n.LFG(Ee),n.LFG(h.nh))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),ge=(()=>{class Ce{constructor(Ae,Ge,ht,Je){this.activeCartFacade=Ae,this.userIdService=Ge,this.queryService=ht,this.checkoutConnector=Je,this.checkoutQuery$=this.queryService.create(()=>this.checkoutPreconditions().pipe((0,w.w)(([lt,Ne])=>this.checkoutConnector.getCheckoutDetails(lt,Ne))),{reloadOn:this.getCheckoutQueryReloadEvents(),resetOn:this.getCheckoutQueryResetEvents()})}getCheckoutQueryReloadEvents(){return[h.xs]}getCheckoutQueryResetEvents(){return[h.$M]}checkoutPreconditions(){return(0,F.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,Z.q)(1),(0,P.U)(([Ae,Ge,ht])=>{if(!Ae||!Ge||Ae===e.Fds&&!ht)throw new Error("Checkout conditions not met");return[Ae,Ge]}))}getCheckoutDetailsState(){return this.checkoutQuery$.getState()}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(G.bu),n.LFG(e.XBV),n.LFG(e._7J),n.LFG(at))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const de=[ze,{provide:h.ys,useExisting:ze},Ve,{provide:h.BG,useExisting:Ve},he,{provide:h.Tx,useExisting:he},ge,{provide:h.nh,useExisting:ge}];let it=(()=>{class Ce extends e.FRf{constructor(Ae,Ge,ht){super(),this.translationService=Ae,this.activeCartFacade=Ge,this.basePageMetaResolver=ht,this.pageType=e.GV4.CONTENT_PAGE,this.pageTemplate="MultiStepCheckoutSummaryPageTemplate"}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveHeading(){return this.translationService.translate("pageMetaResolver.checkout.title")}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)(n.LFG(e.D7D),n.LFG(G.bu),n.LFG(e.MkU))},Ce.\u0275prov=n.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),He=(()=>{class Ce{}return Ce.\u0275fac=function(Ae){return new(Ae||Ce)},Ce.\u0275mod=n.oAB({type:Ce}),Ce.\u0275inj=n.cJS({providers:[...de,q,ue,Ee,at,it,{provide:e.FRf,useExisting:it,multi:!0}]}),Ce})();const Te=new n.OlP("DeliveryModeNormalizer"),Me=new n.OlP("PaymentDetailsSerializer"),re=new n.OlP("PaymentCardTypeNormalizer"),Ie=new n.OlP("CheckoutNormalizer")},7935:(_e,ie,v)=>{"use strict";v.d(ie,{$M:()=>Ve,B7:()=>lt,BG:()=>dn,CZ:()=>Ee,Nw:()=>we,Rv:()=>wt,Tx:()=>kt,VG:()=>Me,VR:()=>Gt,W$:()=>an,WB:()=>ht,Yy:()=>re,eb:()=>He,f2:()=>Ce,iJ:()=>he,nh:()=>We,oz:()=>it,r2:()=>Ke,s7:()=>Ie,u0:()=>ae,vk:()=>Je,vz:()=>de,xs:()=>ze,y6:()=>Ge,ys:()=>Jt});var n=v(4650),e=v(3749),h=v(9057),F=v(950),S=v(4129),w=v(2654),P=v(6787),B=v(1737),Z=v(2198),V=v(7545),G=v(4850),J=v(2986),q=v(7221),ne=v(8555),ue=v(529),ae=(()=>{return(nt=ae||(ae={})).FREE="FREE",nt.LEAST_EXPENSIVE="LEAST_EXPENSIVE",nt.MOST_EXPENSIVE="MOST_EXPENSIVE",ae;var nt})();let Ee=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:function(Pt){let un=null;return un=Pt?new(Pt||nt):n.LFG(h.DeH),un},providedIn:"root"}),nt})();const Ye={checkout:{steps:[{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[ae.FREE],guest:!1}},at={routing:{routes:{checkoutLogin:{paths:["checkout-login"],authFlow:!0},checkout:{paths:["checkout"]},checkoutDeliveryAddress:{paths:["checkout/delivery-address"]},checkoutDeliveryMode:{paths:["checkout/delivery-mode"]},checkoutPaymentDetails:{paths:["checkout/payment-details"]},checkoutReviewOrder:{paths:["checkout/review-order"]}}}};let ze=(()=>{class nt extends h.W8x{}return nt.type="CheckoutQueryReloadEvent",nt})(),Ve=(()=>{class nt extends h.W8x{}return nt.type="CheckoutQueryResetEvent",nt})();class he extends h.W8x{}class ge extends he{}let de=(()=>{class nt extends ge{}return nt.type="CheckoutDeliveryAddressCreatedEvent",nt})(),it=(()=>{class nt extends ge{}return nt.type="CheckoutDeliveryAddressSetEvent",nt})(),He=(()=>{class nt extends ge{}return nt.type="CheckoutDeliveryAddressClearedEvent",nt})();class Te extends he{}let Me=(()=>{class nt extends Te{}return nt.type="CheckoutDeliveryModeSetEvent",nt})(),re=(()=>{class nt extends Te{}return nt.type="CheckoutDeliveryModeClearedEvent",nt})(),Ie=(()=>{class nt extends Te{}return nt.type="CheckoutDeliveryModeClearedErrorEvent",nt})(),Ce=(()=>{class nt extends Te{}return nt.type="CheckoutSupportedDeliveryModesQueryReloadEvent",nt})(),we=(()=>{class nt extends Te{}return nt.type="CheckoutSupportedDeliveryModesQueryResetEvent",nt})();class Ae extends he{}let Ge=(()=>{class nt extends Ae{}return nt.type="CheckoutPaymentDetailsCreatedEvent",nt})(),ht=(()=>{class nt extends Ae{}return nt.type="CheckoutPaymentDetailsSetEvent",nt})(),Je=(()=>{class nt extends Ae{}return nt.type="CheckoutPaymentCardTypesQueryReloadEvent",nt})(),lt=(()=>{class nt extends Ae{}return nt.type="CheckoutPaymentCardTypesQueryResetEvent",nt})(),Ne=(()=>{class nt{constructor(Pt){this.eventService=Pt,this.subscriptions=new w.w,this.onCheckoutQueryReload(),this.onCheckoutQueryReset()}onCheckoutQueryReload(){this.subscriptions.add((0,P.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},ze)}))}onCheckoutQueryReset(){this.subscriptions.add((0,P.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J),this.eventService.get(F.PN),this.eventService.get(F.sY),this.eventService.get(e.pA),this.eventService.get(S.uZ)).subscribe(()=>{this.eventService.dispatch({},Ve)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.POd))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();const an="checkout",Gt="checkoutCore";let Jt=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:function(){return(0,h.wvQ)({facade:nt,feature:Gt,methods:["getDeliveryAddressState","createAndSetAddress","setDeliveryAddress","clearCheckoutDeliveryAddress"],async:!0})},providedIn:"root"}),nt})(),ft=(()=>{class nt{constructor(Pt,un,bn,_t){this.checkoutDeliveryAddressFacade=Pt,this.eventService=un,this.globalMessageService=bn,this.activeCartFacade=_t,this.subscriptions=new w.w,this.onDeliveryAddressCreated(),this.onDeliveryAddressSet(),this.onDeliveryAddressCleared(),this.onUserAddressChange()}onUserAddressChange(){this.subscriptions.add(this.eventService.get(h.yDL).pipe((0,Z.h)(Pt=>Pt instanceof h.ZTc||Pt instanceof h.c$T),(0,V.w)(({userId:Pt})=>this.activeCartFacade.takeActiveCartId().pipe((0,G.U)(un=>({cartId:un,userId:Pt}))))).subscribe(({cartId:Pt,userId:un})=>{this.checkoutDeliveryAddressFacade.clearCheckoutDeliveryAddress(),this.eventService.dispatch({cartId:Pt,userId:un},we)}))}onDeliveryAddressCreated(){this.subscriptions.add(this.eventService.get(de).subscribe(({cartId:Pt,userId:un})=>{un!==h.Fds&&this.eventService.dispatch({userId:un},h.UQd),this.globalMessageService.add({key:"addressForm.userAddressAddSuccess"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({userId:un,cartId:Pt},we),this.eventService.dispatch({},Ve)}))}onDeliveryAddressSet(){this.subscriptions.add(this.eventService.get(it).subscribe(({userId:Pt,cartId:un})=>{this.eventService.dispatch({userId:Pt,cartId:un},we),this.eventService.dispatch({},Ve)}))}onDeliveryAddressCleared(){this.subscriptions.add(this.eventService.get(He).subscribe(()=>this.eventService.dispatch({},Ve)))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(Jt),n.LFG(h.POd),n.LFG(h.IWp),n.LFG(e.bu))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),nn=(()=>{class nt{constructor(Pt){this.eventService=Pt,this.subscriptions=new w.w,this.onDeliveryModeSet(),this.onDeliveryModeCleared(),this.onDeliveryModeClearedError(),this.onDeliveryModeReset(),this.onGetSupportedDeliveryModesQueryReload(),this.onGetSupportedDeliveryModesQueryReset()}onDeliveryModeSet(){this.subscriptions.add(this.eventService.get(Me).subscribe(({userId:Pt,cartId:un,cartCode:bn})=>{this.eventService.dispatch({},Ve),this.eventService.dispatch({userId:Pt,cartId:un,cartCode:bn},e.Tc)}))}onDeliveryModeCleared(){this.subscriptions.add(this.eventService.get(re).subscribe(({userId:Pt,cartId:un,cartCode:bn})=>{this.eventService.dispatch({},Ve),this.eventService.dispatch({userId:Pt,cartId:un,cartCode:bn},e.Tc)}))}onDeliveryModeClearedError(){this.subscriptions.add(this.eventService.get(Ie).subscribe(({userId:Pt,cartId:un,cartCode:bn})=>{this.eventService.dispatch({},Ve),this.eventService.dispatch({userId:Pt,cartId:un,cartCode:bn},e.Tc)}))}onDeliveryModeReset(){this.subscriptions.add(this.eventService.get(we).subscribe(({userId:Pt,cartId:un})=>this.eventService.dispatch({userId:Pt,cartId:un,cartCode:un},e.Tc)))}onGetSupportedDeliveryModesQueryReload(){this.subscriptions.add((0,P.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},Ce)}))}onGetSupportedDeliveryModesQueryReset(){this.subscriptions.add((0,P.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},we)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.POd))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Xt=(()=>{class nt{constructor(Pt,un){this.eventService=Pt,this.globalMessageService=un,this.subscriptions=new w.w,this.onPaymentCreated(),this.onPaymentSet(),this.onGetCardTypesQueryReload()}onPaymentCreated(){this.subscriptions.add(this.eventService.get(Ge).subscribe(({userId:Pt})=>{Pt!==h.Fds&&this.eventService.dispatch({userId:Pt},h.kmg),this.globalMessageService.add({key:"paymentForm.paymentAddedSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({},Ve)}))}onPaymentSet(){this.subscriptions.add(this.eventService.get(ht).subscribe(()=>{this.eventService.dispatch({},Ve)}))}onGetCardTypesQueryReload(){this.subscriptions.add((0,P.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},Je)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.POd),n.LFG(h.IWp))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Vt=(()=>{class nt{constructor(Pt){this.eventService=Pt,this.subscriptions=new w.w,this.onOrderPlaced()}onOrderPlaced(){this.subscriptions.add(this.eventService.get(S.uZ).subscribe(({userId:Pt,cartId:un,cartCode:bn})=>{this.eventService.dispatch({},Ve),this.eventService.dispatch({userId:Pt,cartId:un,cartCode:bn},e.c7)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.POd))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),qe=(()=>{class nt{constructor(Pt,un){this.eventService=Pt,this.store=un,this.subscriptions=new w.w,this.onUserAddressAction(),this.onUserPaymentAction()}onUserAddressAction(){this.subscriptions.add(this.eventService.get(h.UQd).subscribe(({userId:Pt})=>{this.store.dispatch(new h.EJN.LoadUserAddresses(Pt))}))}onUserPaymentAction(){this.subscriptions.add(this.eventService.get(h.kmg).subscribe(({userId:Pt})=>{this.store.dispatch(new h.EJN.LoadUserPaymentMethods(Pt))}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.POd),n.LFG(ne.yh))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),rn=(()=>{class nt{constructor(Pt,un,bn,_t,Ue,ke){}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(Ne),n.LFG(ft),n.LFG(nn),n.LFG(Xt),n.LFG(Vt),n.LFG(qe))},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({}),nt})();const Et=[{provide:ue.TP,useExisting:(()=>{class nt{constructor(Pt,un){this.routingService=Pt,this.multiCartFacade=un}intercept(Pt,un){return this.routingService.getRouterState().pipe((0,J.q)(1),(0,V.w)(bn=>un.handle(Pt).pipe((0,q.K)(_t=>{if(_t instanceof ue.UA&&this.isUserInCheckoutRoute(bn.state?.semanticRoute)&&this.isCartNotFoundError(_t)){this.routingService.go({cxRoute:"cart"});const Ue=this.getCartIdFromError(_t);Ue&&this.multiCartFacade.reloadCart(Ue)}return(0,B._)(_t)}))))}isUserInCheckoutRoute(Pt){return Pt?.toLowerCase().startsWith("checkout")??!1}isCartNotFoundError(Pt){return 400===Pt.status&&"CartError"===Pt.error?.errors?.[0]?.type&&"notFound"===Pt.error?.errors?.[0]?.reason}getCartIdFromError(Pt){return Pt.error?.errors?.[0]?.subject}}return nt.\u0275fac=function(Pt){return new(Pt||nt)(n.LFG(h.Znh),n.LFG(e.WT))},nt.\u0275prov=n.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),multi:!0}],Ke=["CheckoutOrchestrator","CheckoutOrderSummary","CheckoutProgress","CheckoutProgressMobileBottom","CheckoutProgressMobileTop","CheckoutDeliveryMode","CheckoutPaymentDetails","CheckoutPlaceOrder","CheckoutReviewOrder","CheckoutDeliveryAddress","GuestCheckoutLoginComponent"];function jt(){return{featureModules:{[an]:{cmsComponents:Ke,dependencies:[e.O0]},[Gt]:an}}}let wt=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275mod=n.oAB({type:nt}),nt.\u0275inj=n.cJS({providers:[...Et,(0,h.i51)(at),(0,h.i51)(Ye),(0,h.x2j)(jt)],imports:[rn]}),nt})(),dn=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:function(){return(0,h.wvQ)({facade:nt,feature:Gt,methods:["getSupportedDeliveryModesState","getSupportedDeliveryModes","setDeliveryMode","getSelectedDeliveryModeState","clearCheckoutDeliveryMode"],async:!0})},providedIn:"root"}),nt})(),kt=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:function(){return(0,h.wvQ)({facade:nt,feature:Gt,methods:["getPaymentCardTypesState","getPaymentCardTypes","getPaymentDetailsState","createPaymentDetails","setPaymentDetails"],async:!0})},providedIn:"root"}),nt})(),We=(()=>{class nt{}return nt.\u0275fac=function(Pt){return new(Pt||nt)},nt.\u0275prov=n.Yz7({token:nt,factory:function(){return(0,h.wvQ)({facade:nt,feature:Gt,methods:["getCheckoutDetailsState"]})},providedIn:"root"}),nt})()},9057:(_e,ie,v)=>{"use strict";v.d(ie,{RzO:()=>OS,jo8:()=>Fl,O9k:()=>cp,w3G:()=>U,ZWZ:()=>ed,k0m:()=>mg,cNt:()=>KC,NpW:()=>ou,uQL:()=>bp,dSP:()=>Xc,a1M:()=>af,i$2:()=>hg,nyr:()=>sf,FUY:()=>Li,e80:()=>Qi,jg0:()=>eu,KOx:()=>It,iEg:()=>da,pz3:()=>JD,MkU:()=>vh,Do$:()=>Kn,M$E:()=>B_,m2B:()=>U_,XwO:()=>Pm,IkA:()=>Ga,Dcy:()=>Mm,ctt:()=>op,VDr:()=>Rh,flE:()=>Qs,ryK:()=>E0,DeH:()=>Br,XZr:()=>ta,yUt:()=>es,pEA:()=>xl,vc1:()=>hy,Zu_:()=>oh,IXI:()=>Do,nWM:()=>V_,ieQ:()=>Su,Y1I:()=>Lc,KZK:()=>UA,dgE:()=>F0,W8x:()=>_a,bOD:()=>k0,peS:()=>f0,Mvl:()=>Ci,OK4:()=>dy,cXr:()=>Tm,c$T:()=>CC,uvI:()=>zy,QIJ:()=>OE,POd:()=>$a,gLQ:()=>xn,Ru9:()=>sh,EY6:()=>zv,EJv:()=>Ml,q2V:()=>QA,GSh:()=>fm,IWp:()=>fu,xUg:()=>tr,kck:()=>si,YPQ:()=>St,qug:()=>id,sdw:()=>Js,LUR:()=>iS,Fox:()=>iu,ORv:()=>la,TSl:()=>Ka,QRE:()=>rh,UQd:()=>yC,kmg:()=>IE,p1J:()=>Qp,rX_:()=>dg,z4I:()=>Du,aOY:()=>cf,k$E:()=>mn,C8C:()=>Oi,DzN:()=>Tp,gSv:()=>Xm,Fds:()=>Ua,zyp:()=>Na,YI5:()=>ku,Vri:()=>Ns,Lz0:()=>co,mS3:()=>LE,EM5:()=>l_,YB0:()=>QC,BzF:()=>ar,jrf:()=>Nc,u3W:()=>gy,FRf:()=>Ss,deh:()=>Rm,GV4:()=>Xn,VkE:()=>UC,GCj:()=>KS,scg:()=>xD,bPT:()=>TS,FxR:()=>IA,x0A:()=>SE,tyF:()=>Q_,ji5:()=>hp,M52:()=>AE,Fa4:()=>d0,Cvs:()=>Pl,_7J:()=>PE,gGW:()=>Xl,TSP:()=>Ly,Znh:()=>Us,Wrh:()=>RD,qI3:()=>DE,hCH:()=>ru,dO9:()=>Xi,zQk:()=>ks,R$7:()=>n_,Qnj:()=>Lt,mR0:()=>A0,vL$:()=>qp,vUS:()=>Vs,WBb:()=>hd,kPG:()=>ka,iHd:()=>ps,leO:()=>tg,F3r:()=>od,IMh:()=>Oh,X$D:()=>oS,Wml:()=>rS,D7D:()=>nc,_Re:()=>td,OPk:()=>Kh,W5u:()=>qa,ZTc:()=>xE,gyx:()=>xm,bhT:()=>I_,l2T:()=>rD,EJN:()=>Fv,yDL:()=>Bl,kFJ:()=>FE,ZZY:()=>eh,mjM:()=>BA,XBV:()=>Ki,GO$:()=>PD,zht:()=>KA,xd:()=>OD,Y2r:()=>W_,TWG:()=>LD,Tie:()=>GA,KDu:()=>FD,zYO:()=>or,JyF:()=>er,X9E:()=>pc,twT:()=>NA,PjU:()=>hs,RH2:()=>Er,wvQ:()=>zD,P51:()=>Sh,Pzz:()=>kA,jWE:()=>su,pTN:()=>Fi,Kn2:()=>Sr,cxH:()=>Zn,A2H:()=>Es,k9r:()=>Ha,i51:()=>ho,x2j:()=>Yi,ARM:()=>Yy,FM_:()=>bm});var n=v(5861),e=v(4650),h=v(8555),F=v(839),S=v(1086),w=v(3753),P=v(591),B=v(8514),Z=v(8896);function V(i,p=Z.E,s=Z.E){return(0,B.P)(()=>i()?p:s)}var G=v(6053),J=v(341),q=v(1737),ne=v(2654),ue=v(6498),ae=v(8929),Ee=v(5409),Ye=v(5254),at=v(3009),ze=v(6688),Ve=v(3489),he=v(5430),ge=v(1177);function de(...i){const p=i[i.length-1];return"function"==typeof p&&i.pop(),(0,at.n)(i,void 0).lift(new it(p))}class it{constructor(p){this.resultSelector=p}call(p,s){return s.subscribe(new He(p,this.resultSelector))}}class He extends Ve.L{constructor(p,s,d=Object.create(null)){super(p),this.resultSelector=s,this.iterators=[],this.active=0,this.resultSelector="function"==typeof s?s:void 0}_next(p){const s=this.iterators;(0,ze.k)(p)?s.push(new Me(p)):s.push("function"==typeof p[he.hZ]?new Te(p[he.hZ]()):new re(this.destination,this,p))}_complete(){const p=this.iterators,s=p.length;if(this.unsubscribe(),0!==s){this.active=s;for(let d=0;d<s;d++){let g=p[d];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const p=this.iterators,s=p.length,d=this.destination;for(let o=0;o<s;o++){let c=p[o];if("function"==typeof c.hasValue&&!c.hasValue())return}let g=!1;const t=[];for(let o=0;o<s;o++){let c=p[o],u=c.next();if(c.hasCompleted()&&(g=!0),u.done)return void d.complete();t.push(u.value)}this.resultSelector?this._tryresultSelector(t):d.next(t),g&&d.complete()}_tryresultSelector(p){let s;try{s=this.resultSelector.apply(this,p)}catch(d){return void this.destination.error(d)}this.destination.next(s)}}class Te{constructor(p){this.iterator=p,this.nextResult=p.next()}hasValue(){return!0}next(){const p=this.nextResult;return this.nextResult=this.iterator.next(),p}hasCompleted(){const p=this.nextResult;return Boolean(p&&p.done)}}class Me{constructor(p){this.array=p,this.index=0,this.length=0,this.length=p.length}[he.hZ](){return this}next(p){const s=this.index++;return s<this.length?{value:this.array[s],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class re extends ge.Ds{constructor(p,s,d){super(p),this.parent=s,this.observable=d,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[he.hZ](){return this}next(){const p=this.buffer;return 0===p.length&&this.isComplete?{value:null,done:!0}:{value:p.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(p){this.buffer.push(p),this.parent.checkIterators()}subscribe(){return(0,ge.ft)(this.observable,new ge.IY(this))}}var Ie=v(8139),Ce=v(567),we=v(6787),Ae=v(4715);function ht(i){const{start:p,index:s,count:d,subscriber:g}=i;s>=d?g.complete():(g.next(p),!g.closed&&(i.index=s+1,i.start=p+1,this.schedule(i)))}var Je=v(8723),lt=v(2986),Ne=v(4850),an=v(13),Gt=v(1059),Jt=v(5778),ft=v(2198),nn=v(5154),Xt=v(7168),Vt=v(2994),qe=v(7545),rn=v(7770),me=v(7221),Et=v(8807),Ke=v(7604),jt=v(8117),wt=v(519),dn=v(9403),kt=v(1406),We=v(1709),nt=v(2536);function Nt(i,p,s,d){s&&"function"!=typeof s&&(d=s);const g="function"==typeof s?s:void 0,t=new F.t(i,p,d);return o=>(0,nt.O)(()=>t,g)(o)}var Pt=v(2313),un=v(2014),bn=v(1307);function _t(i,p=null){return function(d){return d.lift(new Ue(i,p))}}class Ue{constructor(p,s){this.bufferSize=p,this.startBufferEvery=s,this.subscriberClass=s&&p!==s?mt:ke}call(p,s){return s.subscribe(new this.subscriberClass(p,this.bufferSize,this.startBufferEvery))}}class ke extends Ve.L{constructor(p,s){super(p),this.bufferSize=s,this.buffer=[]}_next(p){const s=this.buffer;s.push(p),s.length==this.bufferSize&&(this.destination.next(s),this.buffer=[])}_complete(){const p=this.buffer;p.length>0&&this.destination.next(p),super._complete()}}class mt extends Ve.L{constructor(p,s,d){super(p),this.bufferSize=s,this.startBufferEvery=d,this.buffers=[],this.count=0}_next(p){const{bufferSize:s,startBufferEvery:d,buffers:g,count:t}=this;this.count++,t%d==0&&g.push([]);for(let o=g.length;o--;){const c=g[o];c.push(p),c.length===s&&(g.splice(o,1),this.destination.next(c))}}_complete(){const{buffers:p,destination:s}=this;for(;p.length>0;){let d=p.shift();d.length>0&&s.next(d)}super._complete()}}var vt=v(373),en=v(4002),Yt=v(384),vn=v(943),Kt=v(537);function Re(i=-1){return p=>p.lift(new Dt(i,p))}class Dt{constructor(p,s){this.count=p,this.source=s}call(p,s){return s.subscribe(new De(p,this.count,this.source))}}class De extends Ve.L{constructor(p,s,d){super(p),this.count=s,this.source=d}error(p){if(!this.isStopped){const{source:s,count:d}=this;if(0===d)return super.error(p);d>-1&&(this.count=d-1),s.subscribe(this._unsubscribeAndRecycle())}}}var tt=v(7625);class Xe{constructor(p,s){this.notifier=p,this.source=s}call(p,s){return s.subscribe(new At(p,this.notifier,this.source))}}class At extends ge.Ds{constructor(p,s,d){super(p),this.notifier=s,this.source=d}error(p){if(!this.isStopped){let s=this.errors,d=this.retries,g=this.retriesSubscription;if(d)this.errors=void 0,this.retriesSubscription=void 0;else{s=new ae.xQ;try{const{notifier:t}=this;d=t(s)}catch(t){return super.error(t)}g=(0,ge.ft)(d,new ge.IY(this))}this._unsubscribeAndRecycle(),this.errors=s,this.retries=d,this.retriesSubscription=g,s.next(p)}}_unsubscribe(){const{errors:p,retriesSubscription:s}=this;p&&(p.unsubscribe(),this.errors=void 0),s&&(s.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:p}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=p,this.source.subscribe(this)}}var Tt=v(1214),Ot=v(6895),ln=v(610),Ht=v(529),dt=v(5024),In=v(1481),Vn=v(6943);function Nn(i){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(i)}var ur=[],yn=ur.forEach,On=ur.slice;function Ln(i){return yn.call(On.call(arguments,1),function(p){if(p)for(var s in p)void 0===i[s]&&(i[s]=p[s])}),i}function Qn(){return"function"==typeof XMLHttpRequest||"object"===(typeof XMLHttpRequest>"u"?"undefined":Nn(XMLHttpRequest))}var X,oe,O,Oe=v(2136),Fe=v.t(Oe,2);function pe(i){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(i)}"function"==typeof fetch&&(typeof global<"u"&&global.fetch?X=global.fetch:typeof window<"u"&&window.fetch&&(X=window.fetch)),Qn()&&(typeof global<"u"&&global.XMLHttpRequest?oe=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(oe=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(typeof global<"u"&&global.ActiveXObject?O=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(O=window.ActiveXObject)),!X&&Fe&&!oe&&!O&&(X=Oe||Fe),"function"!=typeof X&&(X=void 0);var fe=function(p,s){if(s&&"object"===pe(s)){var d="";for(var g in s)d+="&"+encodeURIComponent(g)+"="+encodeURIComponent(s[g]);if(!d)return p;p=p+(-1!==p.indexOf("?")?"&":"?")+d.slice(1)}return p};const Qt=function(p,s,d,g){return"function"==typeof d&&(g=d,d=void 0),g=g||function(){},X?function(p,s,d,g){p.queryStringParams&&(s=fe(s,p.queryStringParams));var t=Ln({},"function"==typeof p.customHeaders?p.customHeaders():p.customHeaders);d&&(t["Content-Type"]="application/json"),X(s,Ln({method:d?"POST":"GET",body:d?p.stringify(d):void 0,headers:t},"function"==typeof p.requestOptions?p.requestOptions(d):p.requestOptions)).then(function(o){if(!o.ok)return g(o.statusText||"Error",{status:o.status});o.text().then(function(c){g(null,{status:o.status,data:c})}).catch(g)}).catch(g)}(p,s,d,g):Qn()||"function"==typeof ActiveXObject?function(p,s,d,g){d&&"object"===pe(d)&&(d=fe("",d).slice(1)),p.queryStringParams&&(s=fe(s,p.queryStringParams));try{var t;(t=oe?new oe:new O("MSXML2.XMLHTTP.3.0")).open(d?"POST":"GET",s,1),p.crossDomain||t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.withCredentials=!!p.withCredentials,d&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.overrideMimeType&&t.overrideMimeType("application/json");var o=p.customHeaders;if(o="function"==typeof o?o():o)for(var c in o)t.setRequestHeader(c,o[c]);t.onreadystatechange=function(){t.readyState>3&&g(t.status>=400?t.statusText:null,{status:t.status,data:t.responseText})},t.send(d)}catch(u){console&&console.log(u)}}(p,s,d,g):void 0};function Bn(i,p){if(!(i instanceof p))throw new TypeError("Cannot call a class as a function")}function Rn(i,p){for(var s=0;s<p.length;s++){var d=p[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}var wn=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,d,g){return function Hn(i,p,s){return p in i?Object.defineProperty(i,p,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[p]=s,i}({},d,g||"")},request:Qt,reloadInterval:!(typeof window<"u")&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Wn=function(){function i(p){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bn(this,i),this.services=p,this.options=s,this.allOptions=d,this.type="backend",this.init(p,s,d)}return function yr(i,p,s){p&&Rn(i.prototype,p),s&&Rn(i,s),Object.defineProperty(i,"prototype",{writable:!1})}(i,[{key:"init",value:function(s){var d=this,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=s,this.options=Ln(g,this.options||{},wn()),this.allOptions=t,this.services&&this.options.reloadInterval&&setInterval(function(){return d.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(s,d,g){this._readAny(s,s,d,d,g)}},{key:"read",value:function(s,d,g){this._readAny([s],s,[d],d,g)}},{key:"_readAny",value:function(s,d,g,t,o){var c=this,u=this.options.loadPath;"function"==typeof this.options.loadPath&&(u=this.options.loadPath(s,g)),u=function nr(i){return function lr(i){return!!i&&"function"==typeof i.then}(i)?i:Promise.resolve(i)}(u),u.then(function(f){if(!f)return o(null,{});var m=c.services.interpolator.interpolate(f,{lng:s.join("+"),ns:g.join("+")});c.loadUrl(m,o,d,t)})}},{key:"loadUrl",value:function(s,d,g,t){var o=this;this.options.request(this.options,s,void 0,function(c,u){if(u&&(u.status>=500&&u.status<600||!u.status))return d("failed loading "+s+"; status code: "+u.status,!0);if(u&&u.status>=400&&u.status<500)return d("failed loading "+s+"; status code: "+u.status,!1);if(!u&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return d("failed loading "+s+": "+c.message,!0);if(c)return d(c,!1);var f,m;try{f="string"==typeof u.data?o.options.parse(u.data,g,t):u.data}catch{m="failed parsing "+s+" to json"}if(m)return d(m,!1);d(null,f)})}},{key:"create",value:function(s,d,g,t,o){var c=this;if(this.options.addPath){"string"==typeof s&&(s=[s]);var u=this.options.parsePayload(d,g,t),f=0,m=[],y=[];s.forEach(function(D){var x=c.options.addPath;"function"==typeof c.options.addPath&&(x=c.options.addPath(D,d));var j=c.services.interpolator.interpolate(x,{lng:D,ns:d});c.options.request(c.options,j,u,function(te,ye){f+=1,m.push(te),y.push(ye),f===s.length&&o&&o(m,y)})})}}},{key:"reload",value:function(){var s=this,d=this.services,g=d.backendConnector,t=d.languageUtils,o=d.logger,c=g.language;if(!c||"cimode"!==c.toLowerCase()){var u=[],f=function(y){t.toResolveHierarchy(y).forEach(function(x){u.indexOf(x)<0&&u.push(x)})};f(c),this.allOptions.preload&&this.allOptions.preload.forEach(function(m){return f(m)}),u.forEach(function(m){s.allOptions.ns.forEach(function(y){g.read(m,y,"read",null,null,function(D,x){D&&o.warn("loading namespace ".concat(y," for language ").concat(m," failed"),D),!D&&x&&o.log("loaded namespace ".concat(y," for language ").concat(m),x),g.loaded("".concat(m,"|").concat(y),D,x)})})})}}}]),i}();Wn.type="backend";const vr=Wn;function Yn(i){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(i)}function rr(i,p){if(!(i instanceof p))throw new TypeError("Cannot call a class as a function")}function Qr(i,p){for(var s=0;s<p.length;s++){var d=p[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,d.key,d)}}function Dn(i,p,s){return p&&Qr(i.prototype,p),s&&Qr(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function _r(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Fr(i,p){return(Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,g){return d.__proto__=g,d})(i,p)}function Ar(i,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(p&&p.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),p&&Fr(i,p)}function Rr(i,p){if(p&&("object"===Yn(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return _r(i)}function dr(i){return(dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)})(i)}function Cr(i,p,s){return p in i?Object.defineProperty(i,p,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[p]=s,i}function Mr(i,p){(null==p||p>i.length)&&(p=i.length);for(var s=0,d=new Array(p);s<p;s++)d[s]=i[s];return d}function qr(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function Xr(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?qr(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):qr(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}var xr={type:"logger",log:function(p){this.output("log",p)},warn:function(p){this.output("warn",p)},error:function(p){this.output("error",p)},output:function(p,s){console&&console[p]&&console[p].apply(console,s)}},gt=new(function(){function i(p){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rr(this,i),this.init(p,s)}return Dn(i,[{key:"init",value:function(s){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=d.prefix||"i18next:",this.logger=s||xr,this.options=d,this.debug=d.debug}},{key:"setDebug",value:function(s){this.debug=s}},{key:"log",value:function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return this.forward(d,"log","",!0)}},{key:"warn",value:function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return this.forward(d,"warn","",!0)}},{key:"error",value:function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return this.forward(d,"error","")}},{key:"deprecate",value:function(){for(var s=arguments.length,d=new Array(s),g=0;g<s;g++)d[g]=arguments[g];return this.forward(d,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(s,d,g,t){return t&&!this.debug?null:("string"==typeof s[0]&&(s[0]="".concat(g).concat(this.prefix," ").concat(s[0])),this.logger[d](s))}},{key:"create",value:function(s){return new i(this.logger,Xr(Xr({},{prefix:"".concat(this.prefix,":").concat(s,":")}),this.options))}},{key:"clone",value:function(s){return(s=s||this.options).prefix=s.prefix||this.prefix,new i(this.logger,s)}}]),i}()),N=function(){function i(){rr(this,i),this.observers={}}return Dn(i,[{key:"on",value:function(s,d){var g=this;return s.split(" ").forEach(function(t){g.observers[t]=g.observers[t]||[],g.observers[t].push(d)}),this}},{key:"off",value:function(s,d){if(this.observers[s]){if(!d)return void delete this.observers[s];this.observers[s]=this.observers[s].filter(function(g){return g!==d})}}},{key:"emit",value:function(s){for(var d=arguments.length,g=new Array(d>1?d-1:0),t=1;t<d;t++)g[t-1]=arguments[t];if(this.observers[s]){var o=[].concat(this.observers[s]);o.forEach(function(u){u.apply(void 0,g)})}if(this.observers["*"]){var c=[].concat(this.observers["*"]);c.forEach(function(u){u.apply(u,[s].concat(g))})}}}]),i}();function be(){var i,p,s=new Promise(function(d,g){i=d,p=g});return s.resolve=i,s.reject=p,s}function I(i){return null==i?"":""+i}function Q(i,p,s){i.forEach(function(d){p[d]&&(s[d]=p[d])})}function je(i,p,s){function d(c){return c&&c.indexOf("###")>-1?c.replace(/###/g,"."):c}function g(){return!i||"string"==typeof i}for(var t="string"!=typeof p?[].concat(p):p.split(".");t.length>1;){if(g())return{};var o=d(t.shift());!i[o]&&s&&(i[o]=new s),i=Object.prototype.hasOwnProperty.call(i,o)?i[o]:{}}return g()?{}:{obj:i,k:d(t.shift())}}function Rt(i,p,s){var d=je(i,p,Object);d.obj[d.k]=s}function hn(i,p){var s=je(i,p),d=s.obj;if(d)return d[s.k]}function gn(i,p,s){var d=hn(i,s);return void 0!==d?d:hn(p,s)}function ir(i,p,s){for(var d in p)"__proto__"!==d&&"constructor"!==d&&(d in i?"string"==typeof i[d]||i[d]instanceof String||"string"==typeof p[d]||p[d]instanceof String?s&&(i[d]=p[d]):ir(i[d],p[d],s):i[d]=p[d]);return i}function sr(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ir={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function eo(i){return"string"==typeof i?i.replace(/[&<>"'\/]/g,function(p){return Ir[p]}):i}var Oo=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Zo=[" ",",","?","!",";"];function Yo(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function to(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?Yo(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Yo(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}function Xo(i,p){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(i){if(i[p])return i[p];for(var d=p.split(s),g=i,t=0;t<d.length;++t){if(!g||"string"==typeof g[d[t]]&&t+1<d.length)return;if(void 0===g[d[t]]){for(var o=2,c=d.slice(t,t+o).join(s),u=g[c];void 0===u&&d.length>t+o;)o++,u=g[c=d.slice(t,t+o).join(s)];if(void 0===u)return;if(null===u)return null;if(p.endsWith(c)){if("string"==typeof u)return u;if(c&&"string"==typeof u[c])return u[c]}var f=d.slice(t+o).join(s);return f?Xo(u,f,s):void 0}g=g[d[t]]}return g}}var lo=function(i){Ar(s,i);var p=function zo(i){var p=function Lo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,d=dr(i);if(p){var t=dr(this).constructor;g=Reflect.construct(d,arguments,t)}else g=d.apply(this,arguments);return Rr(this,g)}}(s);function s(d){var g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return rr(this,s),g=p.call(this),Oo&&N.call(_r(g)),g.data=d||{},g.options=t,void 0===g.options.keySeparator&&(g.options.keySeparator="."),void 0===g.options.ignoreJSONStructure&&(g.options.ignoreJSONStructure=!0),g}return Dn(s,[{key:"addNamespaces",value:function(g){this.options.ns.indexOf(g)<0&&this.options.ns.push(g)}},{key:"removeNamespaces",value:function(g){var t=this.options.ns.indexOf(g);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(g,t,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=void 0!==c.keySeparator?c.keySeparator:this.options.keySeparator,f=void 0!==c.ignoreJSONStructure?c.ignoreJSONStructure:this.options.ignoreJSONStructure,m=[g,t];o&&"string"!=typeof o&&(m=m.concat(o)),o&&"string"==typeof o&&(m=m.concat(u?o.split(u):o)),g.indexOf(".")>-1&&(m=g.split("."));var y=hn(this.data,m);return y||!f||"string"!=typeof o?y:Xo(this.data&&this.data[g]&&this.data[g][t],o,u)}},{key:"addResource",value:function(g,t,o,c){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},f=this.options.keySeparator;void 0===f&&(f=".");var m=[g,t];o&&(m=m.concat(f?o.split(f):o)),g.indexOf(".")>-1&&(c=t,t=(m=g.split("."))[1]),this.addNamespaces(t),Rt(this.data,m,c),u.silent||this.emit("added",g,t,o,c)}},{key:"addResources",value:function(g,t,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var u in o)("string"==typeof o[u]||"[object Array]"===Object.prototype.toString.apply(o[u]))&&this.addResource(g,t,u,o[u],{silent:!0});c.silent||this.emit("added",g,t,o)}},{key:"addResourceBundle",value:function(g,t,o,c,u){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},m=[g,t];g.indexOf(".")>-1&&(c=o,o=t,t=(m=g.split("."))[1]),this.addNamespaces(t);var y=hn(this.data,m)||{};c?ir(y,o,u):y=to(to({},y),o),Rt(this.data,m,y),f.silent||this.emit("added",g,t,o)}},{key:"removeResourceBundle",value:function(g,t){this.hasResourceBundle(g,t)&&delete this.data[g][t],this.removeNamespaces(t),this.emit("removed",g,t)}},{key:"hasResourceBundle",value:function(g,t){return void 0!==this.getResource(g,t)}},{key:"getResourceBundle",value:function(g,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?to(to({},{}),this.getResource(g,t)):this.getResource(g,t)}},{key:"getDataByLanguage",value:function(g){return this.data[g]}},{key:"hasLanguageSomeTranslations",value:function(g){var t=this.getDataByLanguage(g);return!!(t&&Object.keys(t)||[]).find(function(c){return t[c]&&Object.keys(t[c]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),s}(N),Fo={processors:{},addPostProcessor:function(p){this.processors[p.name]=p},handle:function(p,s,d,g,t){var o=this;return p.forEach(function(c){o.processors[c]&&(s=o.processors[c].process(s,d,g,t))}),s}};function Wo(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function br(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?Wo(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Wo(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}var No={},ai=function(i){Ar(s,i);var p=function bo(i){var p=function ko(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,d=dr(i);if(p){var t=dr(this).constructor;g=Reflect.construct(d,arguments,t)}else g=d.apply(this,arguments);return Rr(this,g)}}(s);function s(d){var g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rr(this,s),g=p.call(this),Oo&&N.call(_r(g)),Q(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],d,_r(g)),g.options=t,void 0===g.options.keySeparator&&(g.options.keySeparator="."),g.logger=gt.create("translator"),g}return Dn(s,[{key:"changeLanguage",value:function(g){g&&(this.language=g)}},{key:"exists",value:function(g){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==g)return!1;var o=this.resolve(g,t);return o&&void 0!==o.res}},{key:"extractFromKey",value:function(g,t){var o=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===o&&(o=":");var c=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,u=t.ns||this.options.defaultNS||[],f=o&&g.indexOf(o)>-1,m=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function Or(i,p,s){p=p||"",s=s||"";var d=Zo.filter(function(c){return p.indexOf(c)<0&&s.indexOf(c)<0});if(0===d.length)return!0;var g=new RegExp("(".concat(d.map(function(c){return"?"===c?"\\?":c}).join("|"),")")),t=!g.test(i);if(!t){var o=i.indexOf(s);o>0&&!g.test(i.substring(0,o))&&(t=!0)}return t}(g,o,c));if(f&&!m){var y=g.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:g,namespaces:u};var D=g.split(o);(o!==c||o===c&&this.options.ns.indexOf(D[0])>-1)&&(u=D.shift()),g=D.join(c)}return"string"==typeof u&&(u=[u]),{key:g,namespaces:u}}},{key:"translate",value:function(g,t,o){var c=this;if("object"!==Yn(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==g)return"";Array.isArray(g)||(g=[String(g)]);var u=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,f=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,m=this.extractFromKey(g[g.length-1],t),y=m.key,D=m.namespaces,x=D[D.length-1],j=t.lng||this.language,te=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(j&&"cimode"===j.toLowerCase()){if(te){var ye=t.nsSeparator||this.options.nsSeparator;return u?(Pe.res="".concat(x).concat(ye).concat(y),Pe):"".concat(x).concat(ye).concat(y)}return u?(Pe.res=y,Pe):y}var Pe=this.resolve(g,t),Qe=Pe&&Pe.res,bt=Pe&&Pe.usedKey||y,Bt=Pe&&Pe.exactUsedKey||y,tn=Object.prototype.toString.apply(Qe),_n=["[object Number]","[object Function]","[object RegExp]"],En=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,$t=!this.i18nFormat||this.i18nFormat.handleAsObject,Tn="string"!=typeof Qe&&"boolean"!=typeof Qe&&"number"!=typeof Qe;if($t&&Qe&&Tn&&_n.indexOf(tn)<0&&("string"!=typeof En||"[object Array]"!==tn)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var cr=this.options.returnedObjectHandler?this.options.returnedObjectHandler(bt,Qe,br(br({},t),{},{ns:D})):"key '".concat(y," (").concat(this.language,")' returned an object instead of string.");return u?(Pe.res=cr,Pe):cr}if(f){var Vr="[object Array]"===tn,qs=Vr?[]:{},Fh=Vr?Bt:bt;for(var oc in Qe)if(Object.prototype.hasOwnProperty.call(Qe,oc)){var mp="".concat(Fh).concat(f).concat(oc);qs[oc]=this.translate(mp,br(br({},t),{joinArrays:!1,ns:D})),qs[oc]===mp&&(qs[oc]=Qe[oc])}Qe=qs}}else if($t&&"string"==typeof En&&"[object Array]"===tn)(Qe=Qe.join(En))&&(Qe=this.extendTranslation(Qe,g,t,o));else{var Iu=!1,Bc=!1,vp=void 0!==t.count&&"string"!=typeof t.count,Gl=s.hasDefaultValue(t),kh=vp?this.pluralResolver.getSuffix(j,t.count,t):"",Gc=t["defaultValue".concat(kh)]||t.defaultValue;!this.isValidLookup(Qe)&&Gl&&(Iu=!0,Qe=Gc),this.isValidLookup(Qe)||(Bc=!0,Qe=y);var eD=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,tD=eD&&Bc?void 0:Qe,Nh=Gl&&Gc!==Qe&&this.options.updateMissing;if(Bc||Iu||Nh){if(this.logger.log(Nh?"updateKey":"missingKey",j,x,y,Nh?Gc:Qe),f){var $E=this.resolve(y,br(br({},t),{},{keySeparator:!1}));$E&&$E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Uh=[],Qm=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&Qm&&Qm[0])for(var IC=0;IC<Qm.length;IC++)Uh.push(Qm[IC]);else"all"===this.options.saveMissingTo?Uh=this.languageUtils.toResolveHierarchy(t.lng||this.language):Uh.push(t.lng||this.language);var jE=function(_p,RC,ZE){var YE=Gl&&ZE!==Qe?ZE:tD;c.options.missingKeyHandler?c.options.missingKeyHandler(_p,x,RC,YE,Nh,t):c.backendConnector&&c.backendConnector.saveMissing&&c.backendConnector.saveMissing(_p,x,RC,YE,Nh,t),c.emit("missingKey",_p,x,RC,Qe)};this.options.saveMissing&&(this.options.saveMissingPlurals&&vp?Uh.forEach(function(wC){c.pluralResolver.getSuffixes(wC,t).forEach(function(_p){jE([wC],y+_p,t["defaultValue".concat(_p)]||Gc)})}):jE(Uh,y,Gc))}Qe=this.extendTranslation(Qe,g,t,Pe,o),Bc&&Qe===y&&this.options.appendNamespaceToMissingKey&&(Qe="".concat(x,":").concat(y)),(Bc||Iu)&&this.options.parseMissingKeyHandler&&(Qe="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(x,":").concat(y):y,Iu?Qe:void 0):this.options.parseMissingKeyHandler(Qe))}return u?(Pe.res=Qe,Pe):Qe}},{key:"extendTranslation",value:function(g,t,o,c,u){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)g=this.i18nFormat.parse(g,br(br({},this.options.interpolation.defaultVariables),o),c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(br(br({},o),{interpolation:br(br({},this.options.interpolation),o.interpolation)}));var y,m="string"==typeof g&&(o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(m){var D=g.match(this.interpolator.nestingRegexp);y=D&&D.length}var x=o.replace&&"string"!=typeof o.replace?o.replace:o;if(this.options.interpolation.defaultVariables&&(x=br(br({},this.options.interpolation.defaultVariables),x)),g=this.interpolator.interpolate(g,x,o.lng||this.language,o),m){var j=g.match(this.interpolator.nestingRegexp);y<(j&&j.length)&&(o.nest=!1)}!1!==o.nest&&(g=this.interpolator.nest(g,function(){for(var Qe=arguments.length,bt=new Array(Qe),Bt=0;Bt<Qe;Bt++)bt[Bt]=arguments[Bt];return u&&u[0]===bt[0]&&!o.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(bt[0]," in key: ").concat(t[0])),null):f.translate.apply(f,bt.concat([t]))},o)),o.interpolation&&this.interpolator.reset()}var ye=o.postProcess||this.options.postProcess,Pe="string"==typeof ye?[ye]:ye;return null!=g&&Pe&&Pe.length&&!1!==o.applyPostProcessor&&(g=Fo.handle(Pe,g,t,this.options&&this.options.postProcessPassResolved?br({i18nResolved:c},o):o,this)),g}},{key:"resolve",value:function(g){var c,u,f,m,y,t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof g&&(g=[g]),g.forEach(function(D){if(!t.isValidLookup(c)){var x=t.extractFromKey(D,o),j=x.key;u=j;var te=x.namespaces;t.options.fallbackNS&&(te=te.concat(t.options.fallbackNS));var ye=void 0!==o.count&&"string"!=typeof o.count,Pe=ye&&!o.ordinal&&0===o.count&&t.pluralResolver.shouldUseIntlApi(),Qe=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,bt=o.lngs?o.lngs:t.languageUtils.toResolveHierarchy(o.lng||t.language,o.fallbackLng);te.forEach(function(Bt){t.isValidLookup(c)||(y=Bt,!No["".concat(bt[0],"-").concat(Bt)]&&t.utils&&t.utils.hasLoadedNamespace&&!t.utils.hasLoadedNamespace(y)&&(No["".concat(bt[0],"-").concat(Bt)]=!0,t.logger.warn('key "'.concat(u,'" for languages "').concat(bt.join(", "),'" won\'t get resolved as namespace "').concat(y,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),bt.forEach(function(tn){if(!t.isValidLookup(c)){m=tn;var cr,_n=[j];if(t.i18nFormat&&t.i18nFormat.addLookupKeys)t.i18nFormat.addLookupKeys(_n,j,tn,Bt,o);else{var En;ye&&(En=t.pluralResolver.getSuffix(tn,o.count,o));var $t="".concat(t.options.pluralSeparator,"zero");if(ye&&(_n.push(j+En),Pe&&_n.push(j+$t)),Qe){var Tn="".concat(j).concat(t.options.contextSeparator).concat(o.context);_n.push(Tn),ye&&(_n.push(Tn+En),Pe&&_n.push(Tn+$t))}}for(;cr=_n.pop();)t.isValidLookup(c)||(f=cr,c=t.getResource(tn,Bt,cr,o))}}))})}}),{res:c,usedKey:u,exactUsedKey:f,usedLng:m,usedNS:y}}},{key:"isValidLookup",value:function(g){return!(void 0===g||!this.options.returnNull&&null===g||!this.options.returnEmptyString&&""===g)}},{key:"getResource",value:function(g,t,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(g,t,o,c):this.resourceStore.getResource(g,t,o,c)}}],[{key:"hasDefaultValue",value:function(g){var t="defaultValue";for(var o in g)if(Object.prototype.hasOwnProperty.call(g,o)&&t===o.substring(0,t.length)&&void 0!==g[o])return!0;return!1}}]),s}(N);function Jo(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Uo=function(){function i(p){rr(this,i),this.options=p,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gt.create("languageUtils")}return Dn(i,[{key:"getScriptPartFromCode",value:function(s){if(!s||s.indexOf("-")<0)return null;var d=s.split("-");return 2===d.length||(d.pop(),"x"===d[d.length-1].toLowerCase())?null:this.formatLanguageCode(d.join("-"))}},{key:"getLanguagePartFromCode",value:function(s){if(!s||s.indexOf("-")<0)return s;var d=s.split("-");return this.formatLanguageCode(d[0])}},{key:"formatLanguageCode",value:function(s){if("string"==typeof s&&s.indexOf("-")>-1){var d=["hans","hant","latn","cyrl","cans","mong","arab"],g=s.split("-");return this.options.lowerCaseLng?g=g.map(function(t){return t.toLowerCase()}):2===g.length?(g[0]=g[0].toLowerCase(),g[1]=g[1].toUpperCase(),d.indexOf(g[1].toLowerCase())>-1&&(g[1]=Jo(g[1].toLowerCase()))):3===g.length&&(g[0]=g[0].toLowerCase(),2===g[1].length&&(g[1]=g[1].toUpperCase()),"sgn"!==g[0]&&2===g[2].length&&(g[2]=g[2].toUpperCase()),d.indexOf(g[1].toLowerCase())>-1&&(g[1]=Jo(g[1].toLowerCase())),d.indexOf(g[2].toLowerCase())>-1&&(g[2]=Jo(g[2].toLowerCase()))),g.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}},{key:"isSupportedCode",value:function(s){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}},{key:"getBestMatchFromCodes",value:function(s){var g,d=this;return s?(s.forEach(function(t){if(!g){var o=d.formatLanguageCode(t);(!d.options.supportedLngs||d.isSupportedCode(o))&&(g=o)}}),!g&&this.options.supportedLngs&&s.forEach(function(t){if(!g){var o=d.getLanguagePartFromCode(t);if(d.isSupportedCode(o))return g=o;g=d.options.supportedLngs.find(function(c){if(0===c.indexOf(o))return c})}}),g||(g=this.getFallbackCodes(this.options.fallbackLng)[0]),g):null}},{key:"getFallbackCodes",value:function(s,d){if(!s)return[];if("function"==typeof s&&(s=s(d)),"string"==typeof s&&(s=[s]),"[object Array]"===Object.prototype.toString.apply(s))return s;if(!d)return s.default||[];var g=s[d];return g||(g=s[this.getScriptPartFromCode(d)]),g||(g=s[this.formatLanguageCode(d)]),g||(g=s[this.getLanguagePartFromCode(d)]),g||(g=s.default),g||[]}},{key:"toResolveHierarchy",value:function(s,d){var g=this,t=this.getFallbackCodes(d||this.options.fallbackLng||[],s),o=[],c=function(f){!f||(g.isSupportedCode(f)?o.push(f):g.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return"string"==typeof s&&s.indexOf("-")>-1?("languageOnly"!==this.options.load&&c(this.formatLanguageCode(s)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&c(this.getScriptPartFromCode(s)),"currentOnly"!==this.options.load&&c(this.getLanguagePartFromCode(s))):"string"==typeof s&&c(this.formatLanguageCode(s)),t.forEach(function(u){o.indexOf(u)<0&&c(g.formatLanguageCode(u))}),o}}]),i}(),ci=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tr={1:function(p){return Number(p>1)},2:function(p){return Number(1!=p)},3:function(p){return 0},4:function(p){return Number(p%10==1&&p%100!=11?0:p%10>=2&&p%10<=4&&(p%100<10||p%100>=20)?1:2)},5:function(p){return Number(0==p?0:1==p?1:2==p?2:p%100>=3&&p%100<=10?3:p%100>=11?4:5)},6:function(p){return Number(1==p?0:p>=2&&p<=4?1:2)},7:function(p){return Number(1==p?0:p%10>=2&&p%10<=4&&(p%100<10||p%100>=20)?1:2)},8:function(p){return Number(1==p?0:2==p?1:8!=p&&11!=p?2:3)},9:function(p){return Number(p>=2)},10:function(p){return Number(1==p?0:2==p?1:p<7?2:p<11?3:4)},11:function(p){return Number(1==p||11==p?0:2==p||12==p?1:p>2&&p<20?2:3)},12:function(p){return Number(p%10!=1||p%100==11)},13:function(p){return Number(0!==p)},14:function(p){return Number(1==p?0:2==p?1:3==p?2:3)},15:function(p){return Number(p%10==1&&p%100!=11?0:p%10>=2&&(p%100<10||p%100>=20)?1:2)},16:function(p){return Number(p%10==1&&p%100!=11?0:0!==p?1:2)},17:function(p){return Number(1==p||p%10==1&&p%100!=11?0:1)},18:function(p){return Number(0==p?0:1==p?1:2)},19:function(p){return Number(1==p?0:0==p||p%100>1&&p%100<11?1:p%100>10&&p%100<20?2:3)},20:function(p){return Number(1==p?0:0==p||p%100>0&&p%100<20?1:2)},21:function(p){return Number(p%100==1?1:p%100==2?2:p%100==3||p%100==4?3:0)},22:function(p){return Number(1==p?0:2==p?1:(p<0||p>10)&&p%10==0?2:3)}},To=["v1","v2","v3"],po={zero:0,one:1,two:2,few:3,many:4,other:5};function no(){var i={};return ci.forEach(function(p){p.lngs.forEach(function(s){i[s]={numbers:p.nr,plurals:Tr[p.fc]}})}),i}var ro=function(){function i(p){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rr(this,i),this.languageUtils=p,this.options=s,this.logger=gt.create("pluralResolver"),(!this.options.compatibilityJSON||"v4"===this.options.compatibilityJSON)&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=no()}return Dn(i,[{key:"addRule",value:function(s,d){this.rules[s]=d}},{key:"getRule",value:function(s){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(s,{type:d.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[s]||this.rules[this.languageUtils.getLanguagePartFromCode(s)]}},{key:"needsPlural",value:function(s){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=this.getRule(s,d);return this.shouldUseIntlApi()?g&&g.resolvedOptions().pluralCategories.length>1:g&&g.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(s,d){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(s,g).map(function(t){return"".concat(d).concat(t)})}},{key:"getSuffixes",value:function(s){var d=this,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=this.getRule(s,g);return t?this.shouldUseIntlApi()?t.resolvedOptions().pluralCategories.sort(function(o,c){return po[o]-po[c]}).map(function(o){return"".concat(d.options.prepend).concat(o)}):t.numbers.map(function(o){return d.getSuffix(s,o,g)}):[]}},{key:"getSuffix",value:function(s,d){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=this.getRule(s,g);return t?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(t.select(d)):this.getSuffixRetroCompatible(t,d):(this.logger.warn("no plural rule found for: ".concat(s)),"")}},{key:"getSuffixRetroCompatible",value:function(s,d){var g=this,t=s.plurals(s.noAbs?d:Math.abs(d)),o=s.numbers[t];this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var c=function(){return g.options.prepend&&o.toString()?g.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):c():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]?c():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!To.includes(this.options.compatibilityJSON)}}]),i}();function _i(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function kn(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?_i(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):_i(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}var Bo=function(){function i(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rr(this,i),this.logger=gt.create("interpolator"),this.options=p,this.format=p.interpolation&&p.interpolation.format||function(s){return s},this.init(p)}return Dn(i,[{key:"init",value:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.interpolation||(s.interpolation={escapeValue:!0});var d=s.interpolation;this.escape=void 0!==d.escape?d.escape:eo,this.escapeValue=void 0===d.escapeValue||d.escapeValue,this.useRawValueToEscape=void 0!==d.useRawValueToEscape&&d.useRawValueToEscape,this.prefix=d.prefix?sr(d.prefix):d.prefixEscaped||"{{",this.suffix=d.suffix?sr(d.suffix):d.suffixEscaped||"}}",this.formatSeparator=d.formatSeparator?d.formatSeparator:d.formatSeparator||",",this.unescapePrefix=d.unescapeSuffix?"":d.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":d.unescapeSuffix||"",this.nestingPrefix=d.nestingPrefix?sr(d.nestingPrefix):d.nestingPrefixEscaped||sr("$t("),this.nestingSuffix=d.nestingSuffix?sr(d.nestingSuffix):d.nestingSuffixEscaped||sr(")"),this.nestingOptionsSeparator=d.nestingOptionsSeparator?d.nestingOptionsSeparator:d.nestingOptionsSeparator||",",this.maxReplaces=d.maxReplaces?d.maxReplaces:1e3,this.alwaysFormat=void 0!==d.alwaysFormat&&d.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var s="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(s,"g");var d="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(d,"g");var g="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(g,"g")}},{key:"interpolate",value:function(s,d,g,t){var c,u,f,o=this,m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function y(ye){return ye.replace(/\$/g,"$$$$")}var D=function(Pe){if(Pe.indexOf(o.formatSeparator)<0){var Qe=gn(d,m,Pe);return o.alwaysFormat?o.format(Qe,void 0,g,kn(kn(kn({},t),d),{},{interpolationkey:Pe})):Qe}var bt=Pe.split(o.formatSeparator),Bt=bt.shift().trim(),tn=bt.join(o.formatSeparator).trim();return o.format(gn(d,m,Bt),tn,g,kn(kn(kn({},t),d),{},{interpolationkey:Bt}))};this.resetRegExp();var x=t&&t.missingInterpolationHandler||this.options.missingInterpolationHandler,j=t&&t.interpolation&&void 0!==t.interpolation.skipOnVariables?t.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(Pe){return y(Pe)}},{regex:this.regexp,safeValue:function(Pe){return y(o.escapeValue?o.escape(Pe):Pe)}}].forEach(function(ye){for(f=0;c=ye.regex.exec(s);){var Pe=c[1].trim();if(void 0===(u=D(Pe)))if("function"==typeof x){var Qe=x(s,c,t);u="string"==typeof Qe?Qe:""}else if(t&&t.hasOwnProperty(Pe))u="";else{if(j){u=c[0];continue}o.logger.warn("missed to pass in variable ".concat(Pe," for interpolating ").concat(s)),u=""}else"string"!=typeof u&&!o.useRawValueToEscape&&(u=I(u));var bt=ye.safeValue(u);if(s=s.replace(c[0],bt),j?(ye.regex.lastIndex+=u.length,ye.regex.lastIndex-=c[0].length):ye.regex.lastIndex=0,++f>=o.maxReplaces)break}}),s}},{key:"nest",value:function(s,d){var o,c,g=this,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=kn({},t);function f(x,j){var te=this.nestingOptionsSeparator;if(x.indexOf(te)<0)return x;var ye=x.split(new RegExp("".concat(te,"[ ]*{"))),Pe="{".concat(ye[1]);x=ye[0];var Qe=(Pe=this.interpolate(Pe,u)).match(/'/g),bt=Pe.match(/"/g);(Qe&&Qe.length%2==0&&!bt||bt.length%2!=0)&&(Pe=Pe.replace(/'/g,'"'));try{u=JSON.parse(Pe),j&&(u=kn(kn({},j),u))}catch(Bt){return this.logger.warn("failed parsing options string in nesting for key ".concat(x),Bt),"".concat(x).concat(te).concat(Pe)}return delete u.defaultValue,x}for(u.applyPostProcessor=!1,delete u.defaultValue;o=this.nestingRegexp.exec(s);){var m=[],y=!1;if(-1!==o[0].indexOf(this.formatSeparator)&&!/{.*}/.test(o[1])){var D=o[1].split(this.formatSeparator).map(function(x){return x.trim()});o[1]=D.shift(),m=D,y=!0}if((c=d(f.call(this,o[1].trim(),u),u))&&o[0]===s&&"string"!=typeof c)return c;"string"!=typeof c&&(c=I(c)),c||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(s)),c=""),y&&(c=m.reduce(function(x,j){return g.format(x,j,t.lng,kn(kn({},t),{},{interpolationkey:o[1].trim()}))},c.trim())),s=s.replace(o[0],c),this.regexp.lastIndex=0}return s}}]),i}();function Mo(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function Hr(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?Mo(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Mo(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}function fo(i){var p={};return function(d,g,t){var o=g+JSON.stringify(t),c=p[o];return c||(c=i(g,t),p[o]=c),c(d)}}var Ze=function(){function i(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rr(this,i),this.logger=gt.create("formatter"),this.options=p,this.formats={number:fo(function(s,d){var g=new Intl.NumberFormat(s,d);return function(t){return g.format(t)}}),currency:fo(function(s,d){var g=new Intl.NumberFormat(s,Hr(Hr({},d),{},{style:"currency"}));return function(t){return g.format(t)}}),datetime:fo(function(s,d){var g=new Intl.DateTimeFormat(s,Hr({},d));return function(t){return g.format(t)}}),relativetime:fo(function(s,d){var g=new Intl.RelativeTimeFormat(s,Hr({},d));return function(t){return g.format(t,d.range||"day")}}),list:fo(function(s,d){var g=new Intl.ListFormat(s,Hr({},d));return function(t){return g.format(t)}})},this.init(p)}return Dn(i,[{key:"init",value:function(s){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},g=d.interpolation;this.formatSeparator=g.formatSeparator?g.formatSeparator:g.formatSeparator||","}},{key:"add",value:function(s,d){this.formats[s.toLowerCase().trim()]=d}},{key:"addCached",value:function(s,d){this.formats[s.toLowerCase().trim()]=fo(d)}},{key:"format",value:function(s,d,g,t){var o=this,u=d.split(this.formatSeparator).reduce(function(f,m){var y=function kr(i){var p=i.toLowerCase().trim(),s={};if(i.indexOf("(")>-1){var d=i.split("(");p=d[0].toLowerCase().trim();var g=d[1].substring(0,d[1].length-1);"currency"===p&&g.indexOf(":")<0?s.currency||(s.currency=g.trim()):"relativetime"===p&&g.indexOf(":")<0?s.range||(s.range=g.trim()):g.split(";").forEach(function(o){if(o){var u=function Pr(i){return function $n(i){if(Array.isArray(i))return i}(i)||function Jn(i){if(typeof Symbol<"u"&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}(i)||function Gn(i,p){if(i){if("string"==typeof i)return Mr(i,p);var s=Object.prototype.toString.call(i).slice(8,-1);if("Object"===s&&i.constructor&&(s=i.constructor.name),"Map"===s||"Set"===s)return Array.from(i);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Mr(i,p)}}(i)||function pr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o.split(":")),f=u[0],y=u.slice(1).join(":").trim().replace(/^'+|'+$/g,"");s[f.trim()]||(s[f.trim()]=y),"false"===y&&(s[f.trim()]=!1),"true"===y&&(s[f.trim()]=!0),isNaN(y)||(s[f.trim()]=parseInt(y,10))}})}return{formatName:p,formatOptions:s}}(m),D=y.formatName,x=y.formatOptions;if(o.formats[D]){var j=f;try{var te=t&&t.formatParams&&t.formatParams[t.interpolationkey]||{};j=o.formats[D](f,te.locale||te.lng||t.locale||t.lng||g,Hr(Hr(Hr({},x),t),te))}catch(Pe){o.logger.warn(Pe)}return j}return o.logger.warn("there was no format function for ".concat(D)),f},s);return u}}]),i}();function Mt(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function pt(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?Mt(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Mt(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}var An=function(i){Ar(s,i);var p=function Zt(i){var p=function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,d=dr(i);if(p){var t=dr(this).constructor;g=Reflect.construct(d,arguments,t)}else g=d.apply(this,arguments);return Rr(this,g)}}(s);function s(d,g,t){var o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rr(this,s),o=p.call(this),Oo&&N.call(_r(o)),o.backend=d,o.store=g,o.services=t,o.languageUtils=t.languageUtils,o.options=c,o.logger=gt.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=c.maxParallelReads||10,o.readingCalls=0,o.maxRetries=c.maxRetries>=0?c.maxRetries:5,o.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(t,c.backend,c),o}return Dn(s,[{key:"queueLoad",value:function(g,t,o,c){var u=this,f={},m={},y={},D={};return g.forEach(function(x){var j=!0;t.forEach(function(te){var ye="".concat(x,"|").concat(te);!o.reload&&u.store.hasResourceBundle(x,te)?u.state[ye]=2:u.state[ye]<0||(1===u.state[ye]?void 0===m[ye]&&(m[ye]=!0):(u.state[ye]=1,j=!1,void 0===m[ye]&&(m[ye]=!0),void 0===f[ye]&&(f[ye]=!0),void 0===D[te]&&(D[te]=!0)))}),j||(y[x]=!0)}),(Object.keys(f).length||Object.keys(m).length)&&this.queue.push({pending:m,pendingCount:Object.keys(m).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(f),pending:Object.keys(m),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(D)}}},{key:"loaded",value:function(g,t,o){var c=g.split("|"),u=c[0],f=c[1];t&&this.emit("failedLoading",u,f,t),o&&this.store.addResourceBundle(u,f,o),this.state[g]=t?-1:2;var m={};this.queue.forEach(function(y){(function cn(i,p,s,d){var g=je(i,p,Object),t=g.obj,o=g.k;t[o]=t[o]||[],d&&(t[o]=t[o].concat(s)),d||t[o].push(s)})(y.loaded,[u],f),function on(i,p){void 0!==i.pending[p]&&(delete i.pending[p],i.pendingCount--)}(y,g),t&&y.errors.push(t),0===y.pendingCount&&!y.done&&(Object.keys(y.loaded).forEach(function(D){m[D]||(m[D]={});var x=y.loaded[D];x.length&&x.forEach(function(j){void 0===m[D][j]&&(m[D][j]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(function(y){return!y.done})}},{key:"read",value:function(g,t,o){var c=this,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,m=arguments.length>5?arguments[5]:void 0;return g.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:g,ns:t,fcName:o,tried:u,wait:f,callback:m}):(this.readingCalls++,this.backend[o](g,t,function(y,D){if(c.readingCalls--,c.waitingReads.length>0){var x=c.waitingReads.shift();c.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}y&&D&&u<c.maxRetries?setTimeout(function(){c.read.call(c,g,t,o,u+1,2*f,m)},f):m(y,D)})):m(null,{})}},{key:"prepareLoading",value:function(g,t){var o=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();"string"==typeof g&&(g=this.languageUtils.toResolveHierarchy(g)),"string"==typeof t&&(t=[t]);var f=this.queueLoad(g,t,c,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(function(m){o.loadOne(m)})}},{key:"load",value:function(g,t,o){this.prepareLoading(g,t,{},o)}},{key:"reload",value:function(g,t,o){this.prepareLoading(g,t,{reload:!0},o)}},{key:"loadOne",value:function(g){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=g.split("|"),u=c[0],f=c[1];this.read(u,f,"read",void 0,void 0,function(m,y){m&&t.logger.warn("".concat(o,"loading namespace ").concat(f," for language ").concat(u," failed"),m),!m&&y&&t.logger.log("".concat(o,"loaded namespace ").concat(f," for language ").concat(u),y),t.loaded(g,m,y)})}},{key:"saveMissing",value:function(g,t,o,c,u){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null==o||""===o||(this.backend&&this.backend.create&&this.backend.create(g,t,o,c,null,pt(pt({},f),{},{isUpdate:u})),g&&g[0]&&this.store.addResource(g[0],t,o,c))}}]),s}(N);function $r(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(p){var s={};if("object"===Yn(p[1])&&(s=p[1]),"string"==typeof p[1]&&(s.defaultValue=p[1]),"string"==typeof p[2]&&(s.tDescription=p[2]),"object"===Yn(p[2])||"object"===Yn(p[3])){var d=p[3]||p[2];Object.keys(d).forEach(function(g){s[g]=d[g]})}return s},interpolation:{escapeValue:!0,format:function(p,s,d,g){return p},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Nr(i){return"string"==typeof i.ns&&(i.ns=[i.ns]),"string"==typeof i.fallbackLng&&(i.fallbackLng=[i.fallbackLng]),"string"==typeof i.fallbackNS&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function Sn(i,p){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);p&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(i,g).enumerable})),s.push.apply(s,d)}return s}function Se(i){for(var p=1;p<arguments.length;p++){var s=null!=arguments[p]?arguments[p]:{};p%2?Sn(Object(s),!0).forEach(function(d){Cr(i,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Sn(Object(s)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(s,d))})}return i}function ct(){}function ot(i){Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(function(s){"function"==typeof i[s]&&(i[s]=i[s].bind(i))})}var ut=function(i){Ar(s,i);var p=function st(i){var p=function ve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,d=dr(i);if(p){var t=dr(this).constructor;g=Reflect.construct(d,arguments,t)}else g=d.apply(this,arguments);return Rr(this,g)}}(s);function s(){var d,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(rr(this,s),d=p.call(this),Oo&&N.call(_r(d)),d.options=Nr(g),d.services={},d.logger=gt,d.modules={external:[]},ot(_r(d)),t&&!d.isInitialized&&!g.isClone){if(!d.options.initImmediate)return d.init(g,t),Rr(d,_r(d));setTimeout(function(){d.init(g,t)},0)}return d}return Dn(s,[{key:"init",value:function(){var g=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(o=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var c=$r();function u(Pe){return Pe?"function"==typeof Pe?new Pe:Pe:null}if(this.options=Se(Se(Se({},c),this.options),Nr(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Se(Se({},c.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var f;gt.init(this.modules.logger?u(this.modules.logger):null,this.options),this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Ze);var m=new Uo(this.options);this.store=new lo(this.options.resources,this.options);var y=this.services;y.logger=gt,y.resourceStore=this.store,y.languageUtils=m,y.pluralResolver=new ro(m,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(y.formatter=u(f),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new Bo(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new An(u(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(Pe){for(var Qe=arguments.length,bt=new Array(Qe>1?Qe-1:0),Bt=1;Bt<Qe;Bt++)bt[Bt-1]=arguments[Bt];g.emit.apply(g,[Pe].concat(bt))}),this.modules.languageDetector&&(y.languageDetector=u(this.modules.languageDetector),y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=u(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new ai(this.services,this.options),this.translator.on("*",function(Pe){for(var Qe=arguments.length,bt=new Array(Qe>1?Qe-1:0),Bt=1;Bt<Qe;Bt++)bt[Bt-1]=arguments[Bt];g.emit.apply(g,[Pe].concat(bt))}),this.modules.external.forEach(function(Pe){Pe.init&&Pe.init(g)})}if(this.format=this.options.interpolation.format,o||(o=ct),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var D=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);D.length>0&&"dev"!==D[0]&&(this.options.lng=D[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var x=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];x.forEach(function(Pe){g[Pe]=function(){var Qe;return(Qe=g.store)[Pe].apply(Qe,arguments)}});var j=["addResource","addResources","addResourceBundle","removeResourceBundle"];j.forEach(function(Pe){g[Pe]=function(){var Qe;return(Qe=g.store)[Pe].apply(Qe,arguments),g}});var te=be(),ye=function(){var Qe=function(Bt,tn){g.isInitialized&&!g.initializedStoreOnce&&g.logger.warn("init: i18next is already initialized. You should call init just once!"),g.isInitialized=!0,g.options.isClone||g.logger.log("initialized",g.options),g.emit("initialized",g.options),te.resolve(tn),o(Bt,tn)};if(g.languages&&"v1"!==g.options.compatibilityAPI&&!g.isInitialized)return Qe(null,g.t.bind(g));g.changeLanguage(g.options.lng,Qe)};return this.options.resources||!this.options.initImmediate?ye():setTimeout(ye,0),te}},{key:"loadResources",value:function(g){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,c=o,u="string"==typeof g?g:this.language;if("function"==typeof g&&(c=g),!this.options.resources||this.options.partialBundledLanguages){if(u&&"cimode"===u.toLowerCase())return c();var f=[],m=function(x){x&&t.services.languageUtils.toResolveHierarchy(x).forEach(function(te){f.indexOf(te)<0&&f.push(te)})};if(u)m(u);else{var y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.forEach(function(D){return m(D)})}this.options.preload&&this.options.preload.forEach(function(D){return m(D)}),this.services.backendConnector.load(f,this.options.ns,function(D){!D&&!t.resolvedLanguage&&t.language&&t.setResolvedLanguage(t.language),c(D)})}else c(null)}},{key:"reloadResources",value:function(g,t,o){var c=be();return g||(g=this.languages),t||(t=this.options.ns),o||(o=ct),this.services.backendConnector.reload(g,t,function(u){c.resolve(),o(u)}),c}},{key:"use",value:function(g){if(!g)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!g.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===g.type&&(this.modules.backend=g),("logger"===g.type||g.log&&g.warn&&g.error)&&(this.modules.logger=g),"languageDetector"===g.type&&(this.modules.languageDetector=g),"i18nFormat"===g.type&&(this.modules.i18nFormat=g),"postProcessor"===g.type&&Fo.addPostProcessor(g),"formatter"===g.type&&(this.modules.formatter=g),"3rdParty"===g.type&&this.modules.external.push(g),this}},{key:"setResolvedLanguage",value:function(g){if(g&&this.languages&&!(["cimode","dev"].indexOf(g)>-1))for(var t=0;t<this.languages.length;t++){var o=this.languages[t];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(g,t){var o=this;this.isLanguageChangingTo=g;var c=be();this.emit("languageChanging",g);var u=function(D){o.language=D,o.languages=o.services.languageUtils.toResolveHierarchy(D),o.resolvedLanguage=void 0,o.setResolvedLanguage(D)},m=function(D){!g&&!D&&o.services.languageDetector&&(D=[]);var x="string"==typeof D?D:o.services.languageUtils.getBestMatchFromCodes(D);x&&(o.language||u(x),o.translator.language||o.translator.changeLanguage(x),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(x)),o.loadResources(x,function(j){!function(D,x){x?(u(x),o.translator.changeLanguage(x),o.isLanguageChangingTo=void 0,o.emit("languageChanged",x),o.logger.log("languageChanged",x)):o.isLanguageChangingTo=void 0,c.resolve(function(){return o.t.apply(o,arguments)}),t&&t(D,function(){return o.t.apply(o,arguments)})}(j,x)})};return g||!this.services.languageDetector||this.services.languageDetector.async?!g&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(m):m(g):m(this.services.languageDetector.detect()),c}},{key:"getFixedT",value:function(g,t,o){var c=this,u=function f(m,y){var D;if("object"!==Yn(y)){for(var x=arguments.length,j=new Array(x>2?x-2:0),te=2;te<x;te++)j[te-2]=arguments[te];D=c.options.overloadTranslationOptionHandler([m,y].concat(j))}else D=Se({},y);D.lng=D.lng||f.lng,D.lngs=D.lngs||f.lngs,D.ns=D.ns||f.ns,D.keyPrefix=D.keyPrefix||o||f.keyPrefix;var ye=c.options.keySeparator||".",Pe=D.keyPrefix?"".concat(D.keyPrefix).concat(ye).concat(m):m;return c.t(Pe,D)};return"string"==typeof g?u.lng=g:u.lngs=g,u.ns=t,u.keyPrefix=o,u}},{key:"t",value:function(){var g;return this.translator&&(g=this.translator).translate.apply(g,arguments)}},{key:"exists",value:function(){var g;return this.translator&&(g=this.translator).exists.apply(g,arguments)}},{key:"setDefaultNamespace",value:function(g){this.options.defaultNS=g}},{key:"hasLoadedNamespace",value:function(g){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var c=this.resolvedLanguage||this.languages[0],u=!!this.options&&this.options.fallbackLng,f=this.languages[this.languages.length-1];if("cimode"===c.toLowerCase())return!0;var m=function(x,j){var te=t.services.backendConnector.state["".concat(x,"|").concat(j)];return-1===te||2===te};if(o.precheck){var y=o.precheck(this,m);if(void 0!==y)return y}return!!(this.hasResourceBundle(c,g)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||m(c,g)&&(!u||m(f,g)))}},{key:"loadNamespaces",value:function(g,t){var o=this,c=be();return this.options.ns?("string"==typeof g&&(g=[g]),g.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){c.resolve(),t&&t(u)}),c):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(g,t){var o=be();"string"==typeof g&&(g=[g]);var c=this.options.preload||[],u=g.filter(function(f){return c.indexOf(f)<0});return u.length?(this.options.preload=c.concat(u),this.loadResources(function(f){o.resolve(),t&&t(f)}),o):(t&&t(),Promise.resolve())}},{key:"dir",value:function(g){return g||(g=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),g?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(g))>-1||g.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var g=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,c=Se(Se(Se({},this.options),t),{isClone:!0}),u=new s(c);(void 0!==t.debug||void 0!==t.prefix)&&(u.logger=u.logger.clone(t));var f=["store","services","language"];return f.forEach(function(m){u[m]=g[m]}),u.services=Se({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new ai(u.services,u.options),u.translator.on("*",function(m){for(var y=arguments.length,D=new Array(y>1?y-1:0),x=1;x<y;x++)D[x-1]=arguments[x];u.emit.apply(u,[m].concat(D))}),u.init(c,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),s}(N);Cr(ut,"createInstance",function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;return new ut(i,p)});var pn=ut.createInstance();pn.createInstance=ut.createInstance;const ei=pn;var xo=v(655);function Sr(i){return i&&"object"==typeof i&&!Array.isArray(i)}function Er(i={},...p){if(!p.length)return i;const s=p.shift()||{};if(Sr(s))for(const d in s)s[d]instanceof Date?i[d]=s[d]:Sr(s[d])?((!i[d]||!Sr(i[d]))&&(i[d]={}),Er(i[d],s[d])):i[d]=s[d];return Er(i,...p)}let Br=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(){return function Ia(){return Er({},(0,e.f3M)(Vc),(0,e.f3M)(ea))}()},providedIn:"root"}),i})();const Vc=new e.OlP("DefaultConfiguration",{providedIn:"root",factory:function Ti(){return Er({},...(0,e.f3M)(Ci,e.XFs.Optional)??[])}}),ea=new e.OlP("RootConfiguration",{providedIn:"root",factory:function Hc(){return Er({},...(0,e.f3M)(ta,e.XFs.Optional)??[])}}),ta=new e.OlP("ConfigurationChunk"),Ci=new e.OlP("DefaultConfigurationChunk");function Es(i={},p=!1){return{provide:p?Ci:ta,useValue:i,multi:!0}}function As(i,p,s=!1){return{provide:s?Ci:ta,useFactory:i,multi:!0,deps:p}}function ho(i={}){return{provide:Ci,useValue:i,multi:!0}}function Yi(i,p){return{provide:Ci,useFactory:i,multi:!0,deps:p}}const na={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}};var is=(()=>{return(i=is||(is={})).BILLING="BILLING",i.SHIPPING="SHIPPING",is;var i})(),Xn=(()=>{return(i=Xn||(Xn={})).CONTENT_PAGE="ContentPage",i.PRODUCT_PAGE="ProductPage",i.CATEGORY_PAGE="CategoryPage",i.CATALOG_PAGE="CatalogPage",Xn;var i})(),U=(()=>{return(i=U||(U={})).GIVEN="GIVEN",i.WITHDRAWN="WITHDRAWN",U;var i})();const ce="X-Anonymous-Consents";class St{}var It=(()=>{return(i=It||(It={})).ADMIN="b2badmingroup",i.CUSTOMER="b2bcustomergroup",i.MANAGER="b2bmanagergroup",i.APPROVER="b2bapprovergroup",It;var i})(),mn=(()=>((mn||(mn={})).BACK_IN_STOCK="BACK_IN_STOCK",mn))(),er=(()=>{return(i=er||(er={})).SIZE="ApparelSizeVariantProduct",i.STYLE="ApparelStyleVariantProduct",i.COLOR="ElectronicsColorVariantProduct",er;var i})(),or=(()=>{return(i=or||(or={})).SIZE="size",i.STYLE="style",i.COLOR="color",i.THUMBNAIL="thumbnail",i.PRODUCT="product",i.ROLLUP_PROPERTY="rollupProperty",or;var i})();const jn="[ENTITY] REMOVE",Gr="[ENTITY] REMOVE ALL";function Un(i,p){return{entityType:i,entityId:p}}function Lr(i,p){return{entityId:p,entityType:i,entityRemove:!0}}function Go(i){return{entityId:null,entityType:i,entityRemove:!0}}const li="[LOADER] LOAD",Ko="[LOADER] FAIL",Mi="[LOADER] SUCCESS",Ds="[LOADER] RESET";function ic(i){return{entityType:i,loader:{load:!0}}}function yi(i,p){return{entityType:i,loader:{error:p||!0}}}function ra(i){return{entityType:i,loader:{success:!0}}}function bs(i){return{entityType:i,loader:{}}}class oo{constructor(p){this.type=li,this.meta=ic(p)}}class go{constructor(p,s){this.type=Ko,this.meta=yi(p,s)}}class io{constructor(p){this.type=Mi,this.meta=ra(p)}}class Si{constructor(p){this.type=Ds,this.meta=bs(p)}}const wa="[ENTITY] LOAD",Ra="[ENTITY] LOAD FAIL",Ts="[ENTITY] LOAD SUCCESS",Pa="[ENTITY] RESET";function Ms(i,p){return{...ic(i),...Un(i,p)}}function xi(i,p,s){return{...yi(i,s),...Un(i,p)}}function Oa(i,p){return{...ra(i),...Un(i,p)}}function Ii(i,p){return{...bs(i),...Un(i,p)}}class Ho{constructor(p,s){this.type=wa,this.meta=Ms(p,s)}}class mo{constructor(p,s,d){this.type=Ra,this.meta=xi(p,s,d)}}class $o{constructor(p,s,d){this.payload=d,this.type=Ts,this.meta=Oa(p,s)}}class wi{constructor(p,s){this.type=Pa,this.meta=Ii(p,s)}}function zr(i){return i.value}function so(i){return i.loading??!1}function Io(i){return i.error??!1}function ni(i){return i.success??!1}const vo={loading:!1,error:!1,success:!1,value:void 0};function Zr(i,p){return(s=vo,d)=>{if(d.meta&&d.meta.loader&&d.meta.entityType===i){const g=d.meta.loader;return g.load?{...s,loading:!0,value:p?p(s.value,d):s.value}:g.error?{...s,loading:!1,error:!0,success:!1,value:p?p(s.value,d):void 0}:g.success?{...s,value:p?p(s.value,d):d.payload,loading:!1,error:!1,success:!0}:{...vo,value:p?p(vo.value,d):vo.value}}if(p){const g=p(s.value,d);if(g!==s.value)return{...s,value:g}}return s}}function _o(i,p){return i.entities[p]||vo}const sc={entities:{}};function xs(i,p){return(s=sc,d)=>{let g=[],t=!1;if(d.meta&&d.meta.entityType===i&&void 0!==d.meta.entityId){if(null!==d.meta.entityId&&(g=[].concat(d.meta.entityId)),d.meta.entityRemove){if(null===d.meta.entityId)return sc;{let c=!1;const u=Object.keys(s.entities).reduce((f,m)=>(g.includes(m)?c=!0:f[m]=s.entities[m],f),{});return c?{entities:u}:s}}t=Array.isArray(d.meta.entityId)&&Array.isArray(d.payload)}else g=Object.keys(s.entities);const o={};for(let c=0;c<g.length;c++){const u=g[c],f=t?{...d,payload:d.payload[c]}:d,m=p(s.entities[u],f);m&&(o[u]=m)}return Object.keys(o).length>0?{...s,entities:{...s.entities,...o}}:s}}function Ri(i,p){return xs(i,Zr(i,p))}const Wr="[PROCESSES LOADER] INCREMENT",oa="[PROCESSES LOADER] DECREMENT",zi="[PROCESSES LOADER] RESET";function Is(i){return{entityType:i,loader:void 0,processesCountDiff:1}}function wo(i){return{entityType:i,loader:void 0,processesCountDiff:-1}}function ia(i){return{...bs(i),processesCountDiff:null}}const ac="[ENTITY] PROCESSES LOADER RESET",Ou="[ENTITY] PROCESSES INCREMENT",Fa="[ENTITY] PROCESSES DECREMENT";function sa(i,p){return{...ia(i),...Un(i,p)}}function Ei(i,p){return{...Is(i),...Un(i,p)}}function Rs(i,p){return{...wo(i),...Un(i,p)}}function Ps(i){return!i.processesCount&&!i.loading}function cc(i){return void 0!==i.processesCount&&i.processesCount>0}const Os={processesCount:0};function hr(i,p){return(s={...Os,...vo},d)=>{const g=Zr(i,p)(s,d);if(d.meta&&d.meta.entityType===i){const t=d.meta.processesCountDiff;if((0,e.X6Q)()&&s.processesCount&&t&&s.processesCount+t<0&&console.error(`Action '${d.type}' sets processesCount to value < 0!\nMake sure to keep processesCount in sync.\nThere should always be only one decrement action for each increment action.\nMake sure that you don't reset state in between those actions.\n`,d),t)return{...g,processesCount:s.processesCount?s.processesCount+t:t};if(null===t)return{...g,...Os}}return g}}const Vl={...vo,...Os};function Zl(i,p){return i.entities[p]||void 0}function uc(i,p){return i.split(".").reduce((d,g)=>d?d[g]:void 0,p)}function Yl(i,p,s){if(!i||!s||0===Object.keys(s).length)return{};const d=i.split(".").reduceRight((g,t)=>({[t]:g}),s);return function Jr(i,p,s){const d=function zc(i,p){if(!i||!p)return[];const s=[];for(const d of p)d.includes(i)&&s.push(d);return s}(i,p);if(0===d.length)return s;const g=Er({},s);for(const t of d){const o=t.split(".");let c=g;for(let u=0;u<o.length;u++){const f=o[u];u===o.length-1?c&&c[f]&&delete c[f]:c=c[f]}}return g}(i,p,d)}function Yc(i,p,s){if(i&&0===i.length)return{};let d={};for(const g of i)d=Er(d,Yl(g,p,uc(g,s)));return d}function ua(i,p){return i?Object.keys(i).filter(s=>i[s]===p):[]}function lc(i,p){return`${p??""}?pageSize=${i.pageSize??""}&currentPage=${i.currentPage??""}&sort=${i.sort??""}`}function Ai(i,p,s,d){const g=_o(i,s?lc(s,d):d??"all");if(!g.value||!g.value.ids)return g;const t=Object.assign({},g,{value:{values:g.value.ids.map(o=>_o(p,o).value)}});return s&&t.value&&(t.value.pagination=g.value.pagination,t.value.sorts=g.value.sorts),t}var ka=Object.freeze({__proto__:null,getStateSlice:Yc,ENTITY_LOAD_ACTION:wa,ENTITY_FAIL_ACTION:Ra,ENTITY_SUCCESS_ACTION:Ts,ENTITY_RESET_ACTION:Pa,entityLoadMeta:Ms,entityFailMeta:xi,entitySuccessMeta:Oa,entityResetMeta:Ii,EntityLoadAction:Ho,EntityFailAction:mo,EntitySuccessAction:$o,EntityLoaderResetAction:wi,entityLoaderStateSelector:_o,entityValueSelector:function ss(i,p){return zr(_o(i,p))},entityLoadingSelector:function La(i,p){return so(_o(i,p))},entityErrorSelector:function Pu(i,p){return Io(_o(i,p))},entitySuccessSelector:function $c(i,p){return ni(_o(i,p))},entityLoaderReducer:Ri,ENTITY_PROCESSES_LOADER_RESET_ACTION:ac,ENTITY_PROCESSES_INCREMENT_ACTION:Ou,ENTITY_PROCESSES_DECREMENT_ACTION:Fa,entityProcessesLoaderResetMeta:sa,entityProcessesIncrementMeta:Ei,entityProcessesDecrementMeta:Rs,EntityProcessesLoaderResetAction:class Wi{constructor(p,s){this.type=ac,this.meta=sa(p,s)}},EntityProcessesIncrementAction:class as{constructor(p,s){this.type=Ou,this.meta=Ei(p,s)}},EntityProcessesDecrementAction:class aa{constructor(p,s){this.type=Fa,this.meta=Rs(p,s)}},entityHasPendingProcessesSelector:function Hl(i,p){return cc(_o(i,p))},entityIsStableSelector:function $l(i,p){return Ps(_o(i,p))},entityProcessesLoaderStateSelector:function Lu(i,p){return i.entities[p]||Vl},entityProcessesLoaderReducer:function jl(i,p){return xs(i,hr(i,p))},ENTITY_REMOVE_ACTION:jn,ENTITY_REMOVE_ALL_ACTION:Gr,entityMeta:Un,entityRemoveMeta:Lr,entityRemoveAllMeta:Go,EntityRemoveAction:class Vo{constructor(p,s){this.type=jn,this.meta=Lr(p,s)}},EntityRemoveAllAction:class ti{constructor(p){this.type=Gr,this.meta=Go(p)}},entitySelector:Zl,initialEntityState:sc,entityReducer:xs,LOADER_LOAD_ACTION:li,LOADER_FAIL_ACTION:Ko,LOADER_SUCCESS_ACTION:Mi,LOADER_RESET_ACTION:Ds,loadMeta:ic,failMeta:yi,successMeta:ra,resetMeta:bs,LoaderLoadAction:oo,LoaderFailAction:go,LoaderSuccessAction:io,LoaderResetAction:Si,loaderValueSelector:zr,loaderLoadingSelector:so,loaderErrorSelector:Io,loaderSuccessSelector:ni,initialLoaderState:vo,loaderReducer:Zr,PROCESSES_INCREMENT_ACTION:Wr,PROCESSES_DECREMENT_ACTION:oa,PROCESSES_LOADER_RESET_ACTION:zi,processesIncrementMeta:Is,processesDecrementMeta:wo,processesLoaderResetMeta:ia,ProcessesLoaderResetAction:class ws{constructor(p){this.type=zi,this.meta=ia(p)}},ProcessesIncrementAction:class jc{constructor(p){this.type=Wr,this.meta=Is(p)}},ProcessesDecrementAction:class Zc{constructor(p){this.type=oa,this.meta=wo(p)}},isStableSelector:Ps,hasPendingProcessesSelector:cc,initialProcessesState:Os,processesLoaderReducer:hr,serializeSearchConfig:lc,denormalizeSearch:function jo(i,p){return Ai(i.list,i.entities,p)},denormalizeCustomB2BSearch:Ai,normalizeListPage:function Wc(i,p){const s=i.values||[],d={ids:s.map(g=>g[p])};return i.pagination&&(d.pagination=i.pagination),i.sorts&&(d.sorts=i.sorts),{values:s,page:d}},serializeParams:function dc(i,p){return[i,lc(p)].toString()}});const b="anonymous-consents",T="[Anonymous Consents] Anonymous Consents",A="[Anonymous Consents] Load Anonymous Consent Templates",Le="[Anonymous Consents] Set Anonymous Consents",Ct="[Anonymous Consents] Give Anonymous Consent",fn="[Anonymous Consents] Withdraw Anonymous Consent",zt="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",Mn="[Anonymous Consents] Anonymous Consent Templates Updated",gr="[Anonymous Consents] Check Updated Versions";class Co extends oo{constructor(){super(T),this.type=A}}class di extends io{constructor(p){super(T),this.payload=p,this.type="[Anonymous Consents] Load Anonymous Consent Templates Success"}}class Ro extends go{constructor(p){super(T,p),this.type="[Anonymous Consents] Load Anonymous Consent Templates Fail"}}class cs extends Si{constructor(){super(T),this.type="[Anonymous Consents] Reset Load Anonymous Consent Templates"}}class Jc{constructor(p){this.payload=p,this.type=Le}}class Kc{constructor(p){this.templateCode=p,this.type=Ct}}class Fu{constructor(p){this.templateCode=p,this.type=fn}}class Gh{constructor(p){this.dismissed=p,this.type=zt}}class Cp{constructor(p){this.updated=p,this.type=Mn}}class Vh{constructor(){this.type=gr}}const Ls=(0,h.ZF)(b),Fs=(0,h.P1)(Ls,i=>i.templates),Wl=(0,h.P1)(Fs,i=>zr(i)),ao=(0,h.P1)(Fs,so),yp=(0,h.P1)(Fs,ni),Sp=(0,h.P1)(Fs,Io),Qc=(0,h.P1)(Ls,i=>i.ui.updated),Hh=(0,h.P1)(Ls,i=>i.ui.bannerDismissed),Ep=(0,h.P1)(Ls,i=>i.consents),Na="current",Ua="anonymous",ku="guest",Xm="current",us="[Auth] Login",Pi="[Auth] Logout";class qc{constructor(){this.type=us}}class Dp{constructor(){this.type=Pi}}var bp=Object.freeze({__proto__:null,LOGIN:us,LOGOUT:Pi,Login:qc,Logout:Dp});let Ki=(()=>{class i{constructor(){this._userId=new F.t(1)}setUserId(s){this._userId.next(s)}getUserId(){return this._userId}takeUserId(s=!1){return this.getUserId().pipe((0,lt.q)(1),(0,Ne.U)(d=>{if(s&&d===Ua)throw new Error("Requested user id for logged user while user is not logged in.");return d}))}clearUserId(){this.setUserId(Ua)}isEmulated(){return this.getUserId().pipe((0,Ne.U)(s=>s!==Ua&&s!==Na))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Oi=(()=>{return(i=Oi||(Oi={}))[i.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",i[i.ImplicitFlow=1]="ImplicitFlow",i[i.AuthorizationCode=2]="AuthorizationCode",Oi;var i})();let Nu=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),ks=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),Ns=(()=>{class i extends ks{}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),Xc=(()=>{class i{constructor(s,d){this.authConfig=s,this.occConfig=d}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){return this.prefixEndpoint(this.config?.tokenEndpoint??"")}getLoginUrl(){return this.prefixEndpoint(this.config?.loginUrl??"")}getRevokeEndpoint(){return this.prefixEndpoint(this.config?.revokeEndpoint??"")}getLogoutUrl(){return this.prefixEndpoint(this.config?.logoutUrl??"")}getUserinfoEndpoint(){return this.prefixEndpoint(this.config?.userinfoEndpoint??"")}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(s){let d=s;return d.startsWith("/")||(d="/"+d),`${this.getBaseUrl()}${d}`}getOAuthFlow(){const s=this.config?.OAuthLibConfig?.responseType;if(s){const d=s.split(" ");return d.includes("code")?Oi.AuthorizationCode:d.includes("token")?Oi.ImplicitFlow:Oi.ResourceOwnerPasswordFlow}return Oi.ResourceOwnerPasswordFlow}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Nu),e.LFG(Ns))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ev=new e.OlP("SERVER_REQUEST_URL"),jh=new e.OlP("SERVER_REQUEST_ORIGIN");let pc=(()=>{class i{constructor(s,d,g,t){this.platformId=d,this.serverUrl=g,this.serverOrigin=t,this.document=s}isBrowser(){return(0,Ot.NF)(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?(0,w.R)(this.nativeWindow,"resize").pipe((0,an.b)(300),(0,Gt.O)({target:this.nativeWindow}),(0,Jt.x)()):(0,S.of)(null)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ot.K0),e.LFG(e.Lbi),e.LFG(ev,8),e.LFG(jh,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Tp=(()=>{class i{constructor(s,d,g,t){this.oAuthService=s,this.authConfigService=d,this.platformId=g,this.winRef=t,this.events$=this.oAuthService.events,this.initialize()}initialize(){const s=!this.winRef.isBrowser();this.oAuthService.configure({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(s?"":this.winRef.nativeWindow.location.origin),...this.authConfigService.getOAuthLibConfig()})}authorizeWithPasswordFlow(s,d){return this.oAuthService.fetchTokenUsingPasswordFlow(s,d)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(s=>{this.oAuthService.revokeTokenAndLogout().catch(()=>{this.oAuthService.logOut()}).finally(()=>{s()})})}logout(){this.oAuthService.logOut()}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(s=>{let d;const g=this.events$.pipe((0,ft.h)(t=>"token_received"===t.type),(0,lt.q)(1)).subscribe(t=>d=t);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(t=>{s({result:t,tokenReceived:!!d})}).finally(()=>{g.unsubscribe()})})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.Ct),e.LFG(Xc),e.LFG(e.Lbi),e.LFG(pc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),eu=(()=>{class i extends Tt.Hy{constructor(){super(...arguments),this._token$=new P.X({})}decode(s,d){return i.nonStringifiedOAuthLibKeys.includes(s)?d:JSON.stringify(d)}encode(s,d){if(i.nonStringifiedOAuthLibKeys.includes(s))return d;try{return JSON.parse(d)}catch{return d}}getToken(){return this._token$}setToken(s){this._token$.next(s)}getItem(s){let d;return this.getToken().subscribe(g=>d=g).unsubscribe(),this.decode(s,d?.[s])}removeItem(s){const d={...this._token$.value};delete d[s],this._token$.next({...d})}setItem(s,d){s&&this._token$.next({...this._token$.value,[s]:this.encode(s,d)})}}return i.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tu="[Router] Change Next PageContext";class Mp{constructor(p){this.payload=p,this.type=tu}}const Kl="router",tv=(0,h.ZF)(Kl),nu=(0,h.P1)(tv,i=>i.router),Zh=((0,h.P1)(nu,i=>i.state&&i.state.semanticRoute||""),(0,h.P1)(nu,i=>i.state&&i.state.context||{id:""})),xp=(0,h.P1)(nu,i=>i.nextState&&i.nextState.context),Ql=(0,h.P1)(xp,i=>!!i),Yh=i=>i.startsWith(":"),ql=i=>i.slice(1);let zh=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),Xl=(()=>{class i{constructor(s){this.config=s}getRouteConfig(s){const d=this.config?.routing?.routes,g=d&&d[s];return(!d||void 0===g)&&this.warn(`No path was configured for the named route '${s}'!`),g}warn(...s){(0,e.X6Q)()&&console.warn(...s)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(s){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[s]}initRouteNamesByPath(){this.routeNamesByPath={};for(const[s,d]of Object.entries(this.config?.routing?.routes??{}))d?.paths?.forEach(g=>{(0,e.X6Q)()&&this.routeNamesByPath[g]&&console.error(`The same path '${g}' is configured for two different route names: '${this.routeNamesByPath[g]}' and '${s}`),this.routeNamesByPath[g]=s})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(zh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wh=(()=>{class i{constructor(s){this.router=s}getPrimarySegments(s){const d=this.router.parseUrl(s);return this._getPrimarySegmentsFromUrlTree(d.root)}_getPrimarySegmentsFromUrlTree(s){const d=s.segments.map(t=>t.path),g=s.children[ln.eC]?this._getPrimarySegmentsFromUrlTree(s.children[ln.eC]):[];return d.concat(g)}matchPath(s,d){if(s=Array.isArray(s)?s:this.getPrimarySegments(s),d=Array.isArray(d)?d:this.getPrimarySegments(d),s.length!==d.length)return!1;for(let g=0;g<d.length;g++){const t=d[g],o=s[g];if(!Yh(t)&&t!==o)return!1}return!0}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ln.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ru=(()=>{class i{constructor(s,d){this.routingConfigService=s,this.urlParser=d,this.ROOT_URL=["/"]}get(s){const d=this.routingConfigService.getRouteConfig(s);return d&&Array.isArray(d.paths)?"/"+d.paths[0]:void 0}transform(s){Array.isArray(s)||(s=[s]);const d=[];for(const g of s)if(this.isRouteCommand(g)){const t=this.generateUrlPart(g);if(null===t)return this.ROOT_URL;d.push(...t)}else d.push(g);return this.shouldOutputAbsolute(s)&&d.unshift("/"),d}isRouteCommand(s){return s&&Boolean(s.cxRoute)}shouldOutputAbsolute(s){return this.isRouteCommand(s[0])}generateUrlPart(s){if(this.standarizeRouteCommand(s),!s.cxRoute)return null;const d=this.routingConfigService.getRouteConfig(s.cxRoute);if(!d||!d.paths)return null;const g=this.findPathWithFillableParams(d,s.params);return g?this.provideParamsValues(g,s.params,d.paramsMapping):null}standarizeRouteCommand(s){s.params=s.params||{}}provideParamsValues(s,d,g){return this.urlParser.getPrimarySegments(s).map(t=>{if(Yh(t)){const o=ql(t),c=this.getMappedParamName(o,g);return d?.[c]}return t})}findPathWithFillableParams(s,d){const g=s.paths?.find(t=>this.getParams(t).every(o=>{const c=this.getMappedParamName(o,s.paramsMapping);return void 0!==d?.[c]}));return g??null}getParams(s){return this.urlParser.getPrimarySegments(s).filter(Yh).map(ql)}getMappedParamName(s,d){return d&&d[s]||s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Xl),e.LFG(Wh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ed=(()=>{class i{constructor(s){this.router=s,this.routes$=this.router.events.pipe((0,ft.h)(d=>d instanceof ln.m2),(0,Gt.O)(void 0),(0,Ne.U)(()=>{let d=this.router.routerState.snapshot.root;const g=[d];for(;d=d.firstChild;)g.push(d);return g}),(0,nn.d)({bufferSize:1,refCount:!0}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ln.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ip=(()=>{class i{constructor(s,d){this.router=s,this.activatedRoutesService=d,this.params$=this.activatedRoutesService.routes$.pipe((0,Ne.U)(g=>this.findAllParam(g)),(0,nn.d)({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(s){return Object.assign({},...s.map(d=>d.params))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ln.F0),e.LFG(ed))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Us=(()=>{class i{constructor(s,d,g,t,o,c){this.store=s,this.winRef=d,this.semanticPathService=g,this.routingParamsService=t,this.router=o,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe((0,h.Ys)(nu))}getPageContext(){return this.store.pipe((0,h.Ys)(Zh))}getNextPageContext(){return this.store.pipe((0,h.Ys)(xp))}changeNextPageContext(s){this.store.dispatch(new Mp(s))}isNavigating(){return this.store.pipe((0,h.Ys)(Ql))}go(s,d){const g=this.semanticPathService.transform(s);return this.navigate(g,d)}getUrl(s,d){let g=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(s),d));return g.startsWith("/")||(g=`/${g}`),g}getFullUrl(s,d){return`${this.winRef.document.location.origin}${this.getUrl(s,d)}`}goByUrl(s,d){return this.router.navigateByUrl(s,d)}back(){this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)?this.location.back():this.go(["/"])}forward(){this.location.forward()}navigate(s,d){return this.router.navigate(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(pc),e.LFG(ru),e.LFG(Ip),e.LFG(ln.F0),e.LFG(Ot.Ye))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wp=(()=>{class i{constructor(){this.redirectUrl$=new P.X(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(s){this.redirectUrl$.next(s)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jh=(()=>{class i{constructor(s,d){this.config=s,this.urlParsingService=d}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((s,d)=>!0===d.authFlow&&d.paths?.length?s.concat(d?.paths):s,[])),this._authFlowPaths}isAuthFlow(s){return this.authFlowPaths.some(d=>this.urlParsingService.matchPath(s,d))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(zh),e.LFG(Wh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Li=(()=>{class i{constructor(s,d,g,t){this.routing=s,this.router=d,this.authRedirectStorageService=g,this.authFlowRoutesService=t,this.init()}init(){this.subscription=this.router.events.subscribe(s=>{s instanceof ln.m2&&this.setRedirectUrl(s.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe((0,lt.q)(1)).subscribe(s=>{void 0===s?this.routing.go("/"):this.routing.goByUrl(s),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){const s=this.router.getCurrentNavigation();if(!s?.finalUrl)return;const d=this.router.serializeUrl(s.finalUrl);this.setRedirectUrl(d)}setRedirectUrl(s){this.authFlowRoutesService.isAuthFlow(s)||this.authRedirectStorageService.setRedirectUrl(s)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Us),e.LFG(ln.F0),e.LFG(wp),e.LFG(Jh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Qi=(()=>{class i{constructor(s,d,g,t,o,c){this.store=s,this.userIdService=d,this.oAuthLibWrapperService=g,this.authStorageService=t,this.authRedirectService=o,this.routingService=c,this.refreshInProgress$=new P.X(!1),this.logoutInProgress$=new P.X(!1)}checkOAuthParamsInUrl(){var s=this;return(0,n.Z)(function*(){try{const d=yield s.oAuthLibWrapperService.tryLogin(),g=s.authStorageService.getItem("access_token");d.result&&g&&(s.userIdService.setUserId(Na),s.store.dispatch(new qc),d.tokenReceived&&s.authRedirectService.redirect())}catch{}})()}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(s,d){var g=this;return(0,n.Z)(function*(){try{yield g.oAuthLibWrapperService.authorizeWithPasswordFlow(s,d),g.userIdService.setUserId(Na),g.store.dispatch(new qc),g.authRedirectService.redirect()}catch{}})()}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(s=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Dp),this.setLogoutProgress(!1),s()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe((0,Ne.U)(s=>Boolean(s?.access_token)),(0,Jt.x)())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(s){this.refreshInProgress$.next(s)}setLogoutProgress(s){this.logoutInProgress$.next(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki),e.LFG(Tp),e.LFG(eu),e.LFG(Li),e.LFG(Us))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ou=(()=>{class i{constructor(s,d){this.store=s,this.authService=d}loadTemplates(){this.store.dispatch(new Co)}getTemplates(s=!1){return V(()=>s,this.store.pipe((0,h.Ys)(Wl),(0,Xt.M)(this.getLoadTemplatesLoading()),(0,ft.h)(([d,g])=>!g),(0,Vt.b)(([d,g])=>{Boolean(d)||this.loadTemplates()}),(0,ft.h)(([d,g])=>Boolean(d)),(0,Ne.U)(([d,g])=>d)),this.store.pipe((0,h.Ys)(Wl)))}getTemplate(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(Wl,p=>p?p.find(s=>s.id===i):void 0))(s)))}getLoadTemplatesLoading(){return this.store.pipe((0,h.Ys)(ao))}getLoadTemplatesSuccess(){return this.store.pipe((0,h.Ys)(yp))}getLoadTemplatesError(){return this.store.pipe((0,h.Ys)(Sp))}resetLoadTemplatesState(){this.store.dispatch(new cs)}getConsents(){return this.store.pipe((0,h.Ys)(Ep))}setConsents(s){return this.store.dispatch(new Jc(s))}getConsent(s){return this.authService.isUserLoggedIn().pipe((0,ft.h)(d=>!d),(0,Vt.b)(()=>this.getTemplates(!0)),(0,qe.w)(()=>this.store.pipe((0,h.Ys)((i=>(0,h.P1)(Ep,p=>p.find(s=>s.templateCode===i)))(s)))))}giveConsent(s){this.store.dispatch(new Kc(s))}giveAllConsents(){return this.getTemplates(!0).pipe((0,Vt.b)(s=>s.forEach(d=>{d.id&&this.giveConsent(d.id)})))}isConsentGiven(s){return(s&&s.consentState===U.GIVEN)??!1}withdrawConsent(s){this.store.dispatch(new Fu(s))}withdrawAllConsents(){return this.getTemplates(!0).pipe((0,Vt.b)(s=>s.forEach(d=>{d.id&&this.withdrawConsent(d.id)})))}isConsentWithdrawn(s){return s&&s.consentState===U.WITHDRAWN}toggleBannerDismissed(s){this.store.dispatch(new Gh(s)),s&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe((0,h.Ys)(Hh))}getTemplatesUpdated(){return this.getTemplates(!0).pipe((0,qe.w)(()=>this.store.pipe((0,h.Ys)(Qc))))}toggleTemplatesUpdated(s){this.store.dispatch(new Cp(s))}isBannerVisible(){return(0,G.aj)([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe((0,Vt.b)(()=>this.checkConsentVersions()),(0,Ne.U)(([s,d])=>!s||d))}checkConsentVersions(){this.store.dispatch(new Vh)}detectUpdatedTemplates(s,d){if(d.length!==s.length)return!0;for(let g=0;g<d.length;g++)if(d[g].version!==s[g].version)return!0;return!1}serializeAndEncode(s){if(!s)return"";const d=JSON.stringify(s);return encodeURIComponent(d)}decodeAndDeserialize(s){const d=decodeURIComponent(s);return d.length>0?JSON.parse(d):[]}consentsUpdated(s,d){return this.serializeAndEncode(s)!==this.serializeAndEncode(d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Qi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const td="cx-use-client-token",Kh="cx-use-csagent-token";class iu{static createHeader(p,s,d){return d?d.append(p,JSON.stringify(s)):d=(new Ht.WM).set(p,JSON.stringify(s))}static removeHeader(p,s){const d=s.headers.delete(p);return s.clone({headers:d})}static getInterceptorParam(p,s){const d=s.get(p);if(d)return JSON.parse(d)}}function Fi(i){return typeof i<"u"}function su(i){return Fi(i)&&null!==i}const Qh="client-auth",Uu="[Client auth] Client Token Data",Rp="[Token] Load Client Token";class Bu extends oo{constructor(){super(Uu),this.type=Rp}}class Pp extends go{constructor(p){super(Uu,p),this.payload=p,this.type="[Token] Load Client Token Fail"}}class nd extends io{constructor(p){super(Uu),this.payload=p,this.type="[Token] Load Client Token Success"}}const au=(0,h.ZF)(Qh),rd=(0,h.P1)(au,i=>i.clientToken);let Xh=(()=>{class i{constructor(s){this.store=s}getClientToken(){return this.store.pipe((0,h.Ys)(rd),(0,rn.QV)(J.N),(0,ft.h)(s=>!!this.isClientTokenLoaded(s)||(s.loading||this.store.dispatch(new Bu),!1)),(0,Ne.U)(s=>s.value))}refreshClientToken(){return this.store.dispatch(new Bu),this.store.pipe((0,h.Ys)(rd),(0,ft.h)(s=>this.isClientTokenLoaded(s)),(0,Ne.U)(s=>s.value),(0,ft.h)(Fi))}isClientTokenLoaded(s){return Boolean((s.success||s.error)&&!s.loading)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),eg=(()=>{class i{constructor(s){this.clientTokenService=s}handleExpiredClientToken(s,d){return this.clientTokenService.refreshClientToken().pipe((0,lt.q)(1),(0,qe.w)(g=>d.handle(this.createNewRequestWithNewToken(s,g))))}createNewRequestWithNewToken(s,d){return s.clone({setHeaders:{Authorization:`${d.token_type||"Bearer"} ${d.access_token}`}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Xh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class tg{static resolve(p,s,d){for(const g of Object.keys(s)){const t=new RegExp("\\${"+g+"}","g");p=p.replace(t,d?encodeURIComponent(s[g]):s[g])}return p}}function fc(i,p){return i.context&&i.context[p]||[]}function Ba(i,p){const s=fc(i,p);return s&&s.length?s[0]:void 0}const la="language",Ga="currency",da="baseSite",od="theme";class id{encodeKey(p){return encodeURIComponent(p)}encodeValue(p){return encodeURIComponent(p)}decodeKey(p){return decodeURIComponent(p)}decodeValue(p){return decodeURIComponent(p)}}const Gu="default";function Op(...i){const p=[];i=i.filter(s=>Boolean(s));for(const s of i)p.push(nv(s));return i[0]?.startsWith("/")&&(p[0]="/"+p[0]),i[i.length-1]?.endsWith("/")&&(p[p.length-1]=p[p.length-1]+"/"),p.join("/")}function nv(i){return(i=i.startsWith("/")?i.slice(1):i).endsWith("/")?i.slice(0,-1):i}const hc="[Site-context] Load BaseSite",ng="[Site-context] Load BaseSite Fail",Lp="[Site-context] Load BaseSite Success",Vu="[Site-context] Load BaseSites",sd="[Site-context] Load BaseSites Fail",Hu="[Site-context] Load BaseSites Success",gc="[Site-context] Set Active BaseSite",pa="[Site-context] BaseSite Change";class kp{constructor(p){this.payload=p,this.type=ng}}class rg{constructor(p){this.payload=p,this.type=Lp}}class cu{constructor(){this.type=Vu}}class Np{constructor(p){this.payload=p,this.type=sd}}class og{constructor(p){this.payload=p,this.type=Hu}}class ig{constructor(p){this.payload=p,this.type=gc}}const Up="[Site-context] Load Currencies",Bp="[Site-context] Load Currencies Fail",ad="[Site-context] Load Currencies Success",mc="[Site-context] Set Active Currency",uu="[Site-context] Currency Change";class $u{constructor(){this.type=Up}}class ag{constructor(p){this.payload=p,this.type=Bp}}class Gp{constructor(p){this.payload=p,this.type=ad}}class Vp{constructor(p){this.payload=p,this.type=mc}}class Hp{constructor(p){this.payload=p,this.type=uu}}const qi="[Site-context] Load Languages",oi="[Site-context] Load Languages Fail",$p="[Site-context] Load Languages Success",Qo="[Site-context] Set Active Language",fa="[Site-context] Language Change";class cd{constructor(){this.type=qi}}class ii{constructor(p){this.payload=p,this.type=oi}}class ls{constructor(p){this.payload=p,this.type=$p}}class lu{constructor(p){this.payload=p,this.type=Qo}}class ha{constructor(p){this.payload=p,this.type=fa}}var Xi=Object.freeze({__proto__:null,LOAD_BASE_SITE:hc,LOAD_BASE_SITE_FAIL:ng,LOAD_BASE_SITE_SUCCESS:Lp,LOAD_BASE_SITES:Vu,LOAD_BASE_SITES_FAIL:sd,LOAD_BASE_SITES_SUCCESS:Hu,SET_ACTIVE_BASE_SITE:gc,BASE_SITE_CHANGE:pa,LoadBaseSite:class Fp{constructor(){this.type=hc}},LoadBaseSiteFail:kp,LoadBaseSiteSuccess:rg,LoadBaseSites:cu,LoadBaseSitesFail:Np,LoadBaseSitesSuccess:og,SetActiveBaseSite:ig,BaseSiteChange:class sg{constructor(){this.type=pa}},LOAD_CURRENCIES:Up,LOAD_CURRENCIES_FAIL:Bp,LOAD_CURRENCIES_SUCCESS:ad,SET_ACTIVE_CURRENCY:mc,CURRENCY_CHANGE:uu,LoadCurrencies:$u,LoadCurrenciesFail:ag,LoadCurrenciesSuccess:Gp,SetActiveCurrency:Vp,CurrencyChange:Hp,LOAD_LANGUAGES:qi,LOAD_LANGUAGES_FAIL:oi,LOAD_LANGUAGES_SUCCESS:$p,SET_ACTIVE_LANGUAGE:Qo,LANGUAGE_CHANGE:fa,LoadLanguages:cd,LoadLanguagesFail:ii,LoadLanguagesSuccess:ls,SetActiveLanguage:lu,LanguageChange:ha});const ud="siteContext",ga=(0,h.ZF)(ud),Kr=(0,h.P1)(ga,i=>i.baseSite),ju=(0,h.P1)(ga,i=>i&&i.baseSite&&i.baseSite.activeSite),vc=((0,h.P1)(ga,i=>i&&i.baseSite&&i.baseSite.details),(0,h.P1)(Kr,i=>i.entities)),ds=(0,h.P1)(vc,i=>i?Object.keys(i).map(p=>i[p]):null),dd=(0,h.P1)(ga,i=>i.currencies),Zp=(0,h.P1)(dd,i=>i.entities),Yu=(0,h.P1)(dd,i=>i.activeCurrency),ki=(0,h.P1)(Zp,i=>i?Object.keys(i).map(p=>i[p]):null),Bs=(0,h.P1)(ga,i=>i.languages),Ni=(0,h.P1)(Bs,i=>i.entities),pd=(0,h.P1)(Bs,i=>i.activeLanguage),rv=(0,h.P1)(Ni,i=>i?Object.keys(i).map(p=>i[p]):null);let Kn=(()=>{class i{constructor(s,d){this.store=s,this.config=d}getActive(){return this.store.pipe((0,h.Ys)(ju),(0,ft.h)(s=>Boolean(s)))}getAll(){return this.store.pipe((0,h.Ys)(ds),(0,Vt.b)(s=>{s||this.store.dispatch(new cu)}),(0,ft.h)(su))}get(s){return s?this.getAll().pipe((0,Ne.U)(d=>d.find(g=>g.uid===s))):this.getActive().pipe((0,qe.w)(d=>this.getAll().pipe((0,Ne.U)(g=>g.find(t=>t.uid===d)))))}setActive(s){this.store.pipe((0,h.Ys)(ju),(0,lt.q)(1)).subscribe(d=>{s&&d!==s&&this.store.dispatch(new ig(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&fc(this.config,da).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),co=(()=>{class i{constructor(s,d){this.config=s,this.baseSiteService=d,this.baseSiteService&&this.baseSiteService.getActive().subscribe(g=>this._activeBaseSite=g)}get activeBaseSite(){return this._activeBaseSite??Ba(this.config,da)}getRawEndpointValue(s,d){return this.getEndpointForScope(s,d)}isConfigured(s,d){return!(typeof this.getEndpointFromConfig(s,d)>"u")}getBaseUrl(s={baseUrl:!0,prefix:!0,baseSite:!0}){return Op(!1===s.baseUrl?"":this.config?.backend?.occ?.baseUrl??"",!1===s.prefix?"":this.getPrefix(),!1===s.baseSite?"":this.activeBaseSite)}buildUrl(s,d,g){let t=this.getEndpointForScope(s,d?.scope);if(d){const{urlParams:o,queryParams:c}=d;if(o&&(t=tg.resolve(t,o,!0)),c){let u={encoder:new id};if(t.includes("?")){let y;[t,y]=t.split("?"),u={...u,fromString:y}}let f=new Ht.LE(u);Object.keys(c).forEach(y=>{const D=c[y];void 0!==D&&(f=null===D?f.delete(y):f.set(y,D))});const m=f.toString();m.length&&(t+="?"+m)}}return this.buildUrlFromEndpointString(t,g)}getEndpointFromConfig(s,d){const g=this.config.backend?.occ?.endpoints;if(!g)return;const t=g[s];return d?d===Gu&&"string"==typeof t?t:t?.[d]:"string"==typeof t?t:t?.[Gu]}getEndpointForScope(s,d){const g=this.config.backend?.occ?.endpoints;if(!g)return"";const t=g[s];if(d){if(t?.[d])return t?.[d];if(d===Gu&&"string"==typeof t)return t;(0,e.X6Q)()&&console.warn(`${s} endpoint configuration missing for scope "${d}"`)}return("string"==typeof t?t:t?.[Gu])||s}buildUrlFromEndpointString(s,d){return Op(this.getBaseUrl(d),s)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ns),e.LFG(Kn,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fd=[{provide:Ht.TP,useExisting:(()=>{class i{constructor(s,d,g){this.clientTokenService=s,this.clientErrorHandlingService=d,this.occEndpoints=g}intercept(s,d){const g=this.isClientTokenRequest(s);return g&&(s=iu.removeHeader(td,s)),this.getClientToken(g).pipe((0,lt.q)(1),(0,qe.w)(t=>(t?.access_token&&s.url.includes(this.occEndpoints.getBaseUrl())&&(s=s.clone({setHeaders:{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`}})),d.handle(s).pipe((0,me.K)(o=>o instanceof Ht.UA&&401===o.status&&g&&this.isExpiredToken(o)?this.clientErrorHandlingService.handleExpiredClientToken(s,d):(0,q._)(o))))))}getClientToken(s){return s?this.clientTokenService.getClientToken():(0,S.of)(void 0)}isClientTokenRequest(s){const d=iu.getInterceptorParam(td,s.headers);return Boolean(d)}isExpiredToken(s){return"InvalidTokenError"===s.error?.errors?.[0]?.type}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Xh),e.LFG(eg),e.LFG(co))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}];var ps=(()=>{return(i=ps||(ps={})).NO_STORAGE="NO_STORAGE",i.LOCAL_STORAGE="LOCAL_STORAGE",i.SESSION_STORAGE="SESSION_STORAGE",ps;var i})(),Po=(()=>((Po||(Po={})).TRANSFER_STATE="SSR",Po))();function zp(i,p){let s;switch(i){case ps.LOCAL_STORAGE:s=p.localStorage;break;case ps.SESSION_STORAGE:s=p.sessionStorage;break;case ps.NO_STORAGE:s=void 0;break;default:s=p.sessionStorage}return s}function ov(i,p){if(iv(i))return;const s=i.getItem(p);return s?JSON.parse(s):void 0}function iv(i){return!Boolean(i)}let hd=(()=>{class i{constructor(s){this.winRef=s}syncWithStorage({key:s,state$:d,context$:g=(0,S.of)(""),storageType:t=ps.LOCAL_STORAGE,onRead:o=(()=>{})}){const c=zp(t,this.winRef),u=new ne.w;return u.add(g.pipe((0,Ne.U)(f=>c?ov(c,this.generateKeyWithContext(f,s)):void 0),(0,Vt.b)(f=>o(f))).subscribe()),c&&u.add(d.pipe((0,Xt.M)(g)).subscribe(([f,m])=>{!function wr(i,p,s){!iv(s)&&p&&s.setItem(i,JSON.stringify(p))}(this.generateKeyWithContext(m,s),f,c)})),u}readStateFromStorage({key:s,context:d="",storageType:g=ps.LOCAL_STORAGE}){const t=zp(g,this.winRef);if(t)return ov(t,this.generateKeyWithContext(d,s))}generateKeyWithContext(s,d){return`spartacus\u26bf${[].concat(s).join("\u26bf")}\u26bf${d}`}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(pc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sv=(()=>{class i{constructor(s,d,g,t){this.statePersistenceService=s,this.userIdService=d,this.authStorageService=g,this.authRedirectStorageService=t,this.subscription=new ne.w,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:s=>this.onRead(s)}))}getAuthState(){return(0,G.aj)([this.authStorageService.getToken().pipe((0,ft.h)(s=>!!s),(0,Ne.U)(s=>({...s}))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe((0,Ne.U)(([s,d,g])=>{let t=s;return t&&(t={...t},delete t.refresh_token),{token:t,userId:d,redirectUrl:g}}))}onRead(s){s?.token&&this.authStorageService.setToken(s.token),s?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(s.redirectUrl),s?.userId?this.userIdService.setUserId(s.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return Boolean(this.readStateFromStorage()?.token?.access_token)}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hd),e.LFG(Ki),e.LFG(eu),e.LFG(wp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ui=(0,In.Cb)("cx-state"),cg=new e.OlP("TransferStateMetaReducer"),cv=[{provide:cg,useFactory:function Gs(i,p,s,d){if(p&&s?.state?.ssrTransfer?.keys){if((0,Ot.NF)(i))return function av(i,p,s){const d=ua(p,Po.TRANSFER_STATE);return function(g){return function(t,o){if(o.type===h.qg){if(t||(t=g(t,o)),!s&&i.hasKey(Ui)){const c=i.get(Ui,{});t=Er({},t,Yc(d,[],c))}return t}return g(t,o)}}}(p,s.state.ssrTransfer.keys,Boolean(d?.isUserLoggedIn()));if((0,Ot.PM)(i))return function zu(i,p){const s=ua(p,Po.TRANSFER_STATE);return function(d){return function(g,t){const o=d(g,t);if(o){const c=Yc(s,[],o);i.set(Ui,c)}return o}}}(p,s.state.ssrTransfer.keys)}return g=>g},deps:[e.Lbi,[new e.FiY,In.ki],[new e.FiY,Br],[new e.FiY,sv]]},{provide:h.sr,useExisting:cg,multi:!0}];let Vs=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...cv]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function Zn(i){if(i instanceof St)return i;if(i instanceof Ht.UA){const p=new St;return p.message=i.message,p.status=i.status,p.statusText=i.statusText,p.url=i.url,Array.isArray(i.error.errors)?p.details=i.error.errors:"string"==typeof i.error.error&&(p.details=[{type:i.error.error,message:i.error.error_description}]),p}(0,e.X6Q)()&&console.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",i)}let Wp=(()=>{class i{constructor(s,d){this.http=s,this.authConfigService=d}loadClientAuthenticationToken(){const s=this.authConfigService.getTokenEndpoint(),d=(new Ht.LE).set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),g=new Ht.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(s,d,{headers:g})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(Xc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const va=[(()=>{class i{constructor(s,d){this.actions$=s,this.clientAuthenticationTokenService=d,this.loadClientToken$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Rp),(0,Et.z)(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe((0,Ne.U)(g=>new nd(g)),(0,me.K)(g=>(0,S.of)(new Pp(Zn(g))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Wp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],Jp=new e.OlP("ClientAuthReducers"),Kp={provide:Jp,useFactory:function ug(){return{clientToken:Zr(Uu)}}};let Wu=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Kp],imports:[Ot.ez,Ht.JF,Vs,h.Aw.forFeature(Qh,Jp),dt.sQ.forFeature(va)]}),i})(),fs=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...fd]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ot.ez,Wu]}),i})();const Va=new e.OlP("ConfigInitializer"),uo=new e.OlP("CONFIG_INITIALIZER_FORROOT_GUARD");let es=(()=>{class i{constructor(s,d,g){this.config=s,this.initializerGuard=d,this.rootConfig=g,this.ongoingScopes$=new P.X(void 0)}get isStable(){return!this.initializerGuard||0===this.ongoingScopes$.value?.length}getStable(...s){return this.isStable?(0,S.of)(this.config):this.ongoingScopes$.pipe((0,ft.h)(d=>!!d&&this.areReady(s,d)),(0,lt.q)(1),(0,Ke.h)(this.config))}finishScopes(s){const d=[...this.ongoingScopes$.value??[]];for(const g of s)d.splice(d.indexOf(g),1);this.ongoingScopes$.next(d)}areReady(s,d){if(!s.length)return!d.length;for(const g of s)for(const t of d)if(this.scopesOverlap(g,t))return!1;return!0}scopesOverlap(s,d){return d.length>s.length&&([s,d]=[d,s]),s.startsWith(d)&&"."===(s[d.length]||".")}initialize(s){var d=this;return(0,n.Z)(function*(){if(d.ongoingScopes$.value)return;const g=[],t=[];for(const o of s||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");(0,e.X6Q)()&&!d.areReady(o.scopes,g)&&console.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),g.push(...o.scopes),t.push((0,n.Z)(function*(){const c=yield o.configFactory();Er(d.rootConfig,c),Er(d.config,c),d.finishScopes(o.scopes)})())}d.ongoingScopes$.next(g),t.length&&(yield Promise.all(t))})()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Br),e.LFG(uo,8),e.LFG(ea))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gd=new e.OlP("ConfigurationValidator");function Ha(i){return{provide:gd,useValue:i,multi:!0}}function lv(i){if(typeof i?.authentication?.baseUrl>"u"&&typeof i?.backend?.occ?.baseUrl>"u"&&!1!==i?.authentication?.OAuthLibConfig?.requireHttps)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}const fi={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function hs(i,p){return Object.assign(new i,p)}let _a=(()=>{class i{}return i.type="CxEvent",i})(),dg=(()=>{class i extends _a{}return i.type="LogoutEvent",i})(),Qp=(()=>{class i extends _a{}return i.type="LoginEvent",i})();class dv{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new ue.y(p=>(this.consumer=p,this.bindAllSourcesToConsumer(p),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe((0,jt.B)()),this.consumer=null}add(p){this.has(p)||(this.consumer&&this.bindSourceToConsumer(p,this.consumer),this.sources.push(p))}bindAllSourcesToConsumer(p){this.sources.forEach(s=>this.bindSourceToConsumer(s,p))}unbindAllSourcesFromConsumer(){this.sources.forEach(p=>this.unbindSourceFromConsumer(p))}bindSourceToConsumer(p,s){const d=p.subscribe(g=>s.next(g));this.subscriptionsToSources.set(p,d)}unbindSourceFromConsumer(p){const s=this.subscriptionsToSources.get(p);void 0!==s&&(s.unsubscribe(),this.subscriptionsToSources.delete(p))}remove(p){let s;this.unbindSourceFromConsumer(p),-1!==(s=this.sources.findIndex(d=>d===p))&&this.sources.splice(s,1)}has(p){return this.sources.includes(p)}}let $a=(()=>{class i{constructor(){this.eventsMeta=new Map}register(s,d){const g=this.getEventMeta(s);return g.mergingSubject.has(d)?(0,e.X6Q)()&&console.warn("EventService: the event source",d,"has been already registered for the type",s):g.mergingSubject.add(d),()=>g.mergingSubject.remove(d)}get(s){let d=this.getEventMeta(s).mergingSubject.output$;return(0,e.X6Q)()&&(d=this.getValidatedEventStream(d,s)),d}dispatch(s,d){d?s instanceof d||(s=hs(d,s)):d=s.constructor,this.getInputSubject(d).next(s)}getInputSubject(s){const d=this.getEventMeta(s);return d.inputSubject$||(d.inputSubject$=new ae.xQ,this.register(s,d.inputSubject$)),d.inputSubject$}getEventMeta(s){return this.eventsMeta.get(s)||((0,e.X6Q)()&&this.validateEventType(s),this.createEventMeta(s)),this.eventsMeta.get(s)}createEventMeta(s){const d={inputSubject$:null,mergingSubject:new dv};this.eventsMeta.set(s,d);let g=Object.getPrototypeOf(s);for(;null!==g&&Object.getPrototypeOf(g)!==Object.getPrototypeOf({});)this.register(g,d.mergingSubject.output$),g=Object.getPrototypeOf(g)}validateEventType(s){if(!s?.constructor)throw new Error(`EventService:  ${s} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(s)}validateCxEvent(s){let d=s;for(;null!==d&&Object.getPrototypeOf(d)!==Object.getPrototypeOf({});){if(d.type===_a.type)return;d=Object.getPrototypeOf(d)}console.warn(`The ${s.name} (or one of its parent classes) does not inherit from the ${_a.type}`)}getValidatedEventStream(s,d){return s.pipe((0,Vt.b)(g=>{g instanceof d||console.warn("EventService: The stream",s,"emitted the event",g,"that is not an instance of the declared type",d.name)}))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qp=(()=>{class i{constructor(s,d){this.actionsSubject=s,this.eventService=d}register(s){return this.eventService.register(s.event,this.getFromAction(s))}getFromAction(s){return this.actionsSubject.pipe((0,dt.l4)(...[].concat(s.action))).pipe((0,Ne.U)(d=>this.createEvent(d,s.event,s.factory)))}createEvent(s,d,g){return g?g(s):hs(d,s.payload??{})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.UO),e.LFG($a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pv=(()=>{class i{constructor(s,d,g){this.stateEventService=s,this.eventService=d,this.authService=g,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:us,event:Qp})}registerLogoutEvent(){this.eventService.register(dg,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe((0,wt.G)(),(0,ft.h)(([s,d])=>s&&!d),(0,Ne.U)(()=>hs(dg,{})))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qp),e.LFG($a),e.LFG(Qi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pg=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(pv))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var tr=(()=>{return(i=tr||(tr={})).MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",i.MSG_TYPE_ERROR="[GlobalMessage] Error",i.MSG_TYPE_INFO="[GlobalMessage] Information",i.MSG_TYPE_WARNING="[GlobalMessage] Warning",i.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",tr;var i})();const _c="[Global-message] Add a Message",Ju="[Global-message] Remove a Message",pu="[Global-message] Remove messages by type";class Dr{constructor(p){this.payload=p,this.type=_c}}class ja{constructor(p){this.payload=p,this.type=Ju}}class Cc{constructor(p){this.payload=p,this.type=pu}}const Xp="global-message",md=(0,h.ZF)(Xp),ef=(0,h.P1)(md,i=>i.entities),tf=i=>(0,h.P1)(ef,p=>p&&p[i]);let fu=(()=>{class i{constructor(s){this.store=s}get(){return this.store.pipe((0,h.Ys)(ef),(0,ft.h)(Fi))}add(s,d,g){this.store.dispatch(new Dr({text:"string"==typeof s?{raw:s}:s,type:d,timeout:g}))}remove(s,d){this.store.dispatch(void 0!==d?new ja({type:s,index:d}):new Cc(s))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hg=(()=>{class i{constructor(s,d,g,t,o,c,u){this.authService=s,this.authStorageService=d,this.oAuthLibWrapperService=g,this.routingService=t,this.occEndpoints=o,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new ae.xQ,this.token$=this.authStorageService.getToken().pipe((0,Ne.U)(f=>f?.access_token?f:void 0)),this.stopProgress$=this.token$.pipe((0,wt.G)(),(0,Vt.b)(([f,m])=>{f?.access_token!==m?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe((0,Xt.M)(this.authService.refreshInProgress$,this.authService.logoutInProgress$),(0,ft.h)(([,f,m])=>!f&&!m),(0,Vt.b)(([f])=>{f?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=(0,Ee.g)(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe((0,nn.d)({refCount:!0,bufferSize:1})),this.subscriptions=new ne.w,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(s){return this.isOccUrl(s.url)}shouldAddAuthorizationHeader(s){const d=!!this.getAuthorizationHeader(s),g=this.isOccUrl(s.url);return!d&&g}alterRequest(s,d){const g=!!this.getAuthorizationHeader(s),t=this.isOccUrl(s.url);return!g&&t?s.clone({setHeaders:{...this.createAuthorizationHeader(d)}}):s}isOccUrl(s){return s.includes(this.occEndpoints.getBaseUrl())}getAuthorizationHeader(s){return s.headers.get("Authorization")}createAuthorizationHeader(s){if(s?.access_token)return{Authorization:`${s.token_type||"Bearer"} ${s.access_token}`};let d;return this.authStorageService.getToken().subscribe(g=>d=g).unsubscribe(),d?.access_token?{Authorization:`${d.token_type||"Bearer"} ${d.access_token}`}:{}}handleExpiredAccessToken(s,d,g){return this.getValidToken(g).pipe((0,qe.w)(t=>t?d.handle(this.createNewRequestWithNewToken(s,t)):Z.E))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},tr.MSG_TYPE_ERROR)})}getStableToken(){return(0,G.aj)([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe((0,rn.QV)(J.N),(0,ft.h)(([s,d,g])=>!d&&!g),(0,qe.w)(()=>this.token$))}getValidToken(s){return(0,B.P)(()=>{let d=!1;return this.tokenToRetryRequest$.pipe((0,Vt.b)(g=>{g?.access_token===s?.access_token&&!d&&this.refreshTokenTrigger$.next(g),d=!0}),(0,dn.n)(g=>g?.access_token===s?.access_token),(0,lt.q)(1))})}createNewRequestWithNewToken(s,d){return s.clone({setHeaders:{Authorization:`${d.token_type||"Bearer"} ${d.access_token}`}})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Qi),e.LFG(eu),e.LFG(Tp),e.LFG(Us),e.LFG(co),e.LFG(fu),e.LFG(Li))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rf=[{provide:Ht.TP,useExisting:(()=>{class i{constructor(s,d){this.authHttpHeaderService=s,this.authConfigService=d}intercept(s,d){const g=this.authHttpHeaderService.shouldCatchError(s);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(s)?this.authHttpHeaderService.getStableToken().pipe((0,lt.q)(1)):(0,S.of)(void 0)).pipe((0,Ne.U)(u=>({token:u,request:this.authHttpHeaderService.alterRequest(s,u)}))).pipe((0,qe.w)(({request:u,token:f})=>d.handle(u).pipe((0,me.K)(m=>{if(m instanceof Ht.UA)switch(m.status){case 401:if(this.isExpiredToken(m)&&g)return this.authHttpHeaderService.handleExpiredAccessToken(u,d,f);if(m.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_token"===m.error.error)return this.authHttpHeaderService.handleExpiredRefreshToken(),(0,S.of)();break;case 400:m.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_grant"===m.error.error&&"refresh_token"===u.body.get("grant_type")&&this.authHttpHeaderService.handleExpiredRefreshToken()}return(0,q._)(m)}))))}isExpiredToken(s){return"InvalidTokenError"===s.error?.errors?.[0]?.type}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hg),e.LFG(Xc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0},{provide:Ht.TP,useExisting:(()=>{class i{constructor(s,d){this.authStorageService=s,this.authConfigService=d}intercept(s,d){const g=this.isTokenRevocationRequest(s);return this.authStorageService.getToken().pipe((0,lt.q)(1),(0,qe.w)(t=>(g&&(s=s.clone({setHeaders:{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`}})),d.handle(s))))}isTokenRevocationRequest(s){return s.url===this.authConfigService.getRevokeEndpoint()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(eu),e.LFG(Xc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}];function hv(i,p){return()=>p.getStable().pipe((0,qe.w)(()=>i.checkOAuthParamsInUrl())).toPromise()}function gg(i){return()=>i.initSync()}let gv=(()=>{class i{static forRoot(){return{ngModule:i,providers:[ho(fi),Ha(lv),...rf,{provide:Tt.Hy,useExisting:eu},{provide:e.ip1,useFactory:gg,deps:[sv],multi:!0},{provide:e.ip1,useFactory:hv,deps:[Qi,es],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ot.ez,Tt.zr.forRoot(),pg]}),i})(),sf=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ot.ez,gv.forRoot(),fs.forRoot()]}),i})(),af=(()=>{class i{constructor(s,d,g,t){this.authService=s,this.authRedirectService=d,this.router=g,this.semanticPathService=t}canActivate(){return this.authService.isUserLoggedIn().pipe((0,Ne.U)(s=>s||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Qi),e.LFG(Li),e.LFG(ln.F0),e.LFG(ru))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cf=(()=>{class i{constructor(s,d,g){this.authService=s,this.semanticPathService=d,this.router=g}canActivate(){return this.authService.isUserLoggedIn().pipe((0,Ne.U)(s=>s?this.router.parseUrl(this.semanticPathService.get("home")??""):!s))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Qi),e.LFG(ru),e.LFG(ln.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mg=(()=>{class i extends Ns{}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})();const uf=[{provide:Ht.TP,useExisting:(()=>{class i{constructor(s,d,g,t){this.anonymousConsentsService=s,this.authService=d,this.occEndpoints=g,this.config=t}intercept(s,d){return(0,G.aj)([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe((0,lt.q)(1),(0,qe.w)(([g,t])=>{if(!this.isOccUrl(s.url))return d.handle(s);const o=this.handleRequest(g,s);return d.handle(o).pipe((0,Vt.b)(c=>{c instanceof Ht.Zn&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(t,c.headers.get(ce),g)}))}))}handleResponse(s,d,g){if(!s&&d){let t=[];t=this.anonymousConsentsService.decodeAndDeserialize(d),t=this.giveRequiredConsents(t),this.anonymousConsentsService.consentsUpdated(t,g)&&this.anonymousConsentsService.setConsents(t)}}handleRequest(s,d){if(!s)return d;const g=this.anonymousConsentsService.serializeAndEncode(s);return d.clone({setHeaders:{[ce]:g}})}isOccUrl(s){return s.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(s){const d=[...s];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(const g of d)g.templateCode&&this.config.anonymousConsents.requiredConsents.includes(g.templateCode)&&(g.consentState=U.GIVEN);return d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ou),e.LFG(Qi),e.LFG(co),e.LFG(mg))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}],vd="[User] Load Billing Countries",lf="[User] Load Billing Countries Fail",Ca="[User] Load Billing Countries Success";class vv{constructor(){this.type=vd}}class _d{constructor(p){this.payload=p,this.type=lf}}class Cd{constructor(p){this.payload=p,this.type=Ca}}const ar="process";function yc(i){return(0,h.P1)(function df(){return(0,h.ZF)(ar)}(),p=>_o(p,i))}function Di(i){return(0,h.P1)(yc(i),p=>so(p))}function ya(i){return(0,h.P1)(yc(i),p=>ni(p))}function Sc(i){return(0,h.P1)(yc(i),p=>Io(p))}var UC=Object.freeze({__proto__:null,getProcessStateFactory:yc,getProcessLoadingFactory:Di,getProcessSuccessFactory:ya,getProcessErrorFactory:Sc});const So="giveConsent",hu="withdrawConsent",yd="updateNotificationPreferences",Qu="addProductInterests",Ec="removeProductInterests",Ac="[User] User Consents",Hs="[User] User Payment Methods",hi="[User] User Addresses",Za="[User] User Cost Centers",gu="[User] Regions",Bi="[User] Customer Coupons",Dc="subscribeCustomerCoupon",ts="unsubscribeCustomerCoupon",qu="claimCustomerCoupon",Gi="[User] Notification Preferences",mr="[User] Product Interests",pf="[User] Load Customer Coupons",yv="[User] Load Customer Coupons Fail",Sd="[User] Load Customer Coupons Success",ff="[User] Reset Load Customer Coupons",hf="[User] Subscribe Customer Notification Coupon",vg="[User] Subscribe Customer Coupon Notification Fail",Ed="[User] Subscribe Customer Coupon Notification Success",Ad="[User] Reset Subscribe Customer Coupon Process",mu="[User] Unsubscribe Customer Notification Coupon",Dd="[User] Unsubscribe Customer Coupon Notification Fail",bc="[User] Unsubscribe Customer Coupon Notification Success",Tc="[User] Reset Unsubscribe Customer Coupon Process",ns="[User] Claim Customer",_g="[User] Claim Customer Fail",$s="[User] Claim Customer Success";class rs extends oo{constructor(p){super(Bi),this.payload=p,this.type=pf}}class vu extends go{constructor(p){super(Bi,p),this.payload=p,this.type=yv}}class bd extends io{constructor(p){super(Bi),this.payload=p,this.type=Sd}}class Cg extends Ho{constructor(p){super(ar,Dc),this.payload=p,this.type=hf}}class gs extends mo{constructor(p){super(ar,Dc,p),this.payload=p,this.type=vg}}class js extends $o{constructor(p){super(ar,Dc,p),this.payload=p,this.type=Ed}}class yg extends Ho{constructor(p){super(ar,ts),this.payload=p,this.type=mu}}class Ev extends mo{constructor(p){super(ar,ts,p),this.payload=p,this.type=Dd}}class Av extends $o{constructor(p){super(ar,ts,p),this.payload=p,this.type=bc}}class Dv extends Ho{constructor(p){super(ar,qu),this.payload=p,this.type=ns}}class gf extends mo{constructor(p){super(ar,qu,p),this.payload=p,this.type=_g}}class bv extends $o{constructor(p){super(ar,qu,p),this.payload=p,this.type=$s}}const _u="[User] Load Delivery Countries",el="[User] Load Delivery Countries Fail",Td="[User] Load Delivery Countries Success";class mf{constructor(){this.type=_u}}class Md{constructor(p){this.payload=p,this.type=el}}class gi{constructor(p){this.payload=p,this.type=Td}}const tl="[User] Load Notification Preferences",xd="[User] Load Notification Preferences Fail",vf="[User] Load Notification Preferences Success",_f="[User] Update Notification Preferences",Yr="[User] Update Notification Preferences Fail",Ya="[User] Update Notification Preferences Success",Cf="[User] Reset Notification Preferences",Eg="[User] Clear Notification Preferences";class nl extends oo{constructor(p){super(Gi),this.payload=p,this.type=tl}}class yf extends go{constructor(p){super(Gi,p),this.payload=p,this.type=xd}}class Pn extends io{constructor(p){super(Gi),this.payload=p,this.type=vf}}class Ag extends Ho{constructor(p){super(ar,yd),this.payload=p,this.type=_f}}class Sf extends mo{constructor(p){super(ar,yd,p),this.payload=p,this.type=Yr}}class Ef extends $o{constructor(p){super(ar,yd),this.payload=p,this.type=Ya}}class Id extends wi{constructor(){super(ar,yd),this.type=Cf}}class Dg extends Si{constructor(){super(Gi),this.type=Eg}}const wd="[User] Load User Payment Methods",Af="[User] Load User Payment Methods Fail",Rd="[User] Load User Payment Methods Success",Pd="[User] Set Default User Payment Method",bg="[User] Set Default User Payment Method Fail",Tv="[User] Set Default User Payment Method Success",Od="[User] Delete User Payment Method",Df="[User] Delete User Payment Method Fail",Vi="[User] Delete User  Payment Method Success";class Ld extends oo{constructor(p){super(Hs),this.payload=p,this.type=wd}}class Mc extends go{constructor(p){super(Hs,p),this.payload=p,this.type=Af}}class rl extends io{constructor(p){super(Hs),this.payload=p,this.type=Rd}}class Tg extends oo{constructor(p){super(Hs),this.payload=p,this.type=Pd}}class Mv extends go{constructor(p){super(Hs,p),this.payload=p,this.type=bg}}class Fd extends io{constructor(p){super(Hs),this.payload=p,this.type=Tv}}class kd extends oo{constructor(p){super(Hs),this.payload=p,this.type=Od}}class xv extends go{constructor(p){super(Hs,p),this.payload=p,this.type=Df}}class Mg extends io{constructor(p){super(Hs),this.payload=p,this.type=Vi}}const xg="Load Product Interests",Nd="Load Product Interests Fail",za="Load Product Interests Success",bf="Remove Product Interest",Tf="Remove Product Interest Success",ms="Remove Product Interest Fail",Mf="Add Product Interest",xf="Add Product Interest Fail",Ig="Add Product Interest Success",wg="Add Product Interest Reset",Ud="Remove Product Interest Reset",Rg="Clear Product Interests";class Bd extends oo{constructor(p){super(mr),this.payload=p,this.type=xg}}class If extends go{constructor(p){super(mr,p),this.payload=p,this.type=Nd}}class Pg extends io{constructor(p){super(mr),this.payload=p,this.type=za}}class Gd extends Ho{constructor(p){super(ar,Ec),this.payload=p,this.type=bf}}class wf extends $o{constructor(p){super(ar,Ec),this.payload=p,this.type=Tf}}class Vd extends mo{constructor(p){super(ar,Ec,p),this.payload=p,this.type=ms}}class BC extends Ho{constructor(p){super(ar,Qu),this.payload=p,this.type=Mf}}class Rf extends $o{constructor(p){super(ar,Qu),this.payload=p,this.type=Ig}}class Og extends mo{constructor(p){super(ar,Qu,p),this.payload=p,this.type=xf}}class Iv extends wi{constructor(){super(ar,Qu),this.type=wg}}class Cu extends wi{constructor(){super(ar,Ec),this.type=Ud}}class Lg extends Si{constructor(){super(mr),this.type=Rg}}const Hd="[User] Load Regions",Sa="[User] Load Regions Success",Hi="[User] Load Regions Fail",$d="[User] Clear Regions";class wv extends oo{constructor(p){super(gu),this.payload=p,this.type=Hd}}class Pf extends go{constructor(p){super(gu,p),this.payload=p,this.type=Hi}}class vs extends io{constructor(p){super(gu),this.payload=p,this.type=Sa}}class ol{constructor(){this.type=$d}}const il="[User] Load User Addresses",sl="[User] Load User Addresses Fail",Of="[User] Load User Addresses Success",al="[User] Add User Address",Rv="[User] Add User Address Fail",cl="[User] Add User Address Success",xc="[User] Update User Address",ul="[User] Update User Address Fail",ll="[User] Update User Address Success",yu="[User] Delete User Address",jd="[User] Delete User Address Fail",Lf="[User] Delete User Address Success";class Ff extends oo{constructor(p){super(hi),this.payload=p,this.type=il}}class Fg extends go{constructor(p){super(hi,p),this.payload=p,this.type=sl}}class kg extends io{constructor(p){super(hi),this.payload=p,this.type=Of}}class kf extends oo{constructor(p){super(hi),this.payload=p,this.type=al}}class Ng extends go{constructor(p){super(hi,p),this.payload=p,this.type=Rv}}class dl extends io{constructor(p){super(hi),this.payload=p,this.type=cl}}class Ug extends oo{constructor(p){super(hi),this.payload=p,this.type=xc}}class Zd extends go{constructor(p){super(hi,p),this.payload=p,this.type=ul}}class Yd extends io{constructor(p){super(hi),this.payload=p,this.type=ll}}class Bg extends oo{constructor(p){super(hi),this.payload=p,this.type=yu}}class pl extends go{constructor(p){super(hi,p),this.payload=p,this.type=jd}}class Pv extends io{constructor(p){super(hi),this.payload=p,this.type=Lf}}const Gg="[User] Load User Consents",Vg="[User] Load User Consents Success",Ov="[User] Load User Consents Fail",Lv="[User] Reset Load User Consents",Nf="[User] Give User Consent",Hg="[User] Give User Consent Fail",$g="[User] Give User Consent Success",jg="[User] Reset Give User Consent Process",Uf="[User] Transfer Anonymous Consent",Zs="[User] Withdraw User Consent",fl="[User] Withdraw User Consent Fail",Zg="[User] Withdraw User Consent Success",Bf="[User] Reset Withdraw User Consent Process";class zd extends oo{constructor(p){super(Ac),this.payload=p,this.type=Gg}}class Gf extends go{constructor(p){super(Ac,p),this.payload=p,this.type=Ov}}class Wd extends io{constructor(p){super(Ac),this.payload=p,this.type=Vg}}class Vf extends Si{constructor(){super(Ac),this.type=Lv}}class Ys extends Ho{constructor(p){super(ar,So),this.payload=p,this.type=Nf}}class Hf extends mo{constructor(p){super(ar,So,p),this.type=Hg}}class Yg extends $o{constructor(p){super(ar,So),this.consentTemplate=p,this.type=$g}}class zg extends wi{constructor(){super(ar,So),this.type=jg}}class $f{constructor(p){this.payload=p,this.type=Uf}}class Wg extends Ho{constructor(p){super(ar,hu),this.payload=p,this.type=Zs}}class Jg extends mo{constructor(p){super(ar,hu,p),this.type=fl}}class hl extends $o{constructor(){super(ar,hu),this.type=Zg}}class Ic extends wi{constructor(){super(ar,hu),this.type=Bf}}const wc="[User] Load Active CostCenters",zs="[User] Load Active CostCenters Fail",gl="[User] Load Active CostCenters Success";class ml extends oo{constructor(p){super(Za),this.payload=p,this.type=wc}}class vl extends go{constructor(p){super(Za,p),this.payload=p,this.type=zs}}class jf extends io{constructor(p){super(Za),this.payload=p,this.type=gl}}const Rc="[User] Clear User Misc Data";class Jd{constructor(){this.type=Rc}}const Zf="[User] Register User Success";var Fv=Object.freeze({__proto__:null,LOAD_BILLING_COUNTRIES:vd,LOAD_BILLING_COUNTRIES_FAIL:lf,LOAD_BILLING_COUNTRIES_SUCCESS:Ca,LoadBillingCountries:vv,LoadBillingCountriesFail:_d,LoadBillingCountriesSuccess:Cd,LOAD_CUSTOMER_COUPONS:pf,LOAD_CUSTOMER_COUPONS_FAIL:yv,LOAD_CUSTOMER_COUPONS_SUCCESS:Sd,RESET_LOAD_CUSTOMER_COUPONS:ff,SUBSCRIBE_CUSTOMER_COUPON:hf,SUBSCRIBE_CUSTOMER_COUPON_FAIL:vg,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:Ed,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:Ad,UNSUBSCRIBE_CUSTOMER_COUPON:mu,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:Dd,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:bc,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:Tc,CLAIM_CUSTOMER_COUPON:ns,CLAIM_CUSTOMER_COUPON_FAIL:_g,CLAIM_CUSTOMER_COUPON_SUCCESS:$s,LoadCustomerCoupons:rs,LoadCustomerCouponsFail:vu,LoadCustomerCouponsSuccess:bd,ResetLoadCustomerCoupons:class Xu extends Si{constructor(){super(Bi),this.type=ff}},SubscribeCustomerCoupon:Cg,SubscribeCustomerCouponFail:gs,SubscribeCustomerCouponSuccess:js,ResetSubscribeCustomerCouponProcess:class Sv extends wi{constructor(){super(ar,Dc),this.type=Ad}},UnsubscribeCustomerCoupon:yg,UnsubscribeCustomerCouponFail:Ev,UnsubscribeCustomerCouponSuccess:Av,ResetUnsubscribeCustomerCouponProcess:class Sg extends wi{constructor(){super(ar,ts),this.type=Tc}},ClaimCustomerCoupon:Dv,ClaimCustomerCouponFail:gf,ClaimCustomerCouponSuccess:bv,LOAD_DELIVERY_COUNTRIES:_u,LOAD_DELIVERY_COUNTRIES_FAIL:el,LOAD_DELIVERY_COUNTRIES_SUCCESS:Td,LoadDeliveryCountries:mf,LoadDeliveryCountriesFail:Md,LoadDeliveryCountriesSuccess:gi,LOAD_NOTIFICATION_PREFERENCES:tl,LOAD_NOTIFICATION_PREFERENCES_FAIL:xd,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:vf,UPDATE_NOTIFICATION_PREFERENCES:_f,UPDATE_NOTIFICATION_PREFERENCES_FAIL:Yr,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:Ya,RESET_NOTIFICATION_PREFERENCES:Cf,CLEAR_NOTIFICATION_PREFERENCES:Eg,LoadNotificationPreferences:nl,LoadNotificationPreferencesFail:yf,LoadNotificationPreferencesSuccess:Pn,UpdateNotificationPreferences:Ag,UpdateNotificationPreferencesFail:Sf,UpdateNotificationPreferencesSuccess:Ef,ResetNotificationPreferences:Id,ClearNotificationPreferences:Dg,LOAD_USER_PAYMENT_METHODS:wd,LOAD_USER_PAYMENT_METHODS_FAIL:Af,LOAD_USER_PAYMENT_METHODS_SUCCESS:Rd,SET_DEFAULT_USER_PAYMENT_METHOD:Pd,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:bg,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:Tv,DELETE_USER_PAYMENT_METHOD:Od,DELETE_USER_PAYMENT_METHOD_FAIL:Df,DELETE_USER_PAYMENT_METHOD_SUCCESS:Vi,LoadUserPaymentMethods:Ld,LoadUserPaymentMethodsFail:Mc,LoadUserPaymentMethodsSuccess:rl,SetDefaultUserPaymentMethod:Tg,SetDefaultUserPaymentMethodFail:Mv,SetDefaultUserPaymentMethodSuccess:Fd,DeleteUserPaymentMethod:kd,DeleteUserPaymentMethodFail:xv,DeleteUserPaymentMethodSuccess:Mg,LOAD_PRODUCT_INTERESTS:xg,LOAD_PRODUCT_INTERESTS_FAIL:Nd,LOAD_PRODUCT_INTERESTS_SUCCESS:za,REMOVE_PRODUCT_INTEREST:bf,REMOVE_PRODUCT_INTEREST_SUCCESS:Tf,REMOVE_PRODUCT_INTEREST_FAIL:ms,ADD_PRODUCT_INTEREST:Mf,ADD_PRODUCT_INTEREST_FAIL:xf,ADD_PRODUCT_INTEREST_SUCCESS:Ig,ADD_PRODUCT_INTEREST_RESET:wg,REMOVE_PRODUCT_INTEREST_RESET:Ud,CLEAR_PRODUCT_INTERESTS:Rg,LoadProductInterests:Bd,LoadProductInterestsFail:If,LoadProductInterestsSuccess:Pg,RemoveProductInterest:Gd,RemoveProductInterestSuccess:wf,RemoveProductInterestFail:Vd,AddProductInterest:BC,AddProductInterestSuccess:Rf,AddProductInterestFail:Og,ResetAddInterestState:Iv,ResetRemoveInterestState:Cu,ClearProductInterests:Lg,LOAD_REGIONS:Hd,LOAD_REGIONS_SUCCESS:Sa,LOAD_REGIONS_FAIL:Hi,CLEAR_REGIONS:$d,LoadRegions:wv,LoadRegionsFail:Pf,LoadRegionsSuccess:vs,ClearRegions:ol,LOAD_USER_ADDRESSES:il,LOAD_USER_ADDRESSES_FAIL:sl,LOAD_USER_ADDRESSES_SUCCESS:Of,ADD_USER_ADDRESS:al,ADD_USER_ADDRESS_FAIL:Rv,ADD_USER_ADDRESS_SUCCESS:cl,UPDATE_USER_ADDRESS:xc,UPDATE_USER_ADDRESS_FAIL:ul,UPDATE_USER_ADDRESS_SUCCESS:ll,DELETE_USER_ADDRESS:yu,DELETE_USER_ADDRESS_FAIL:jd,DELETE_USER_ADDRESS_SUCCESS:Lf,LoadUserAddresses:Ff,LoadUserAddressesFail:Fg,LoadUserAddressesSuccess:kg,AddUserAddress:kf,AddUserAddressFail:Ng,AddUserAddressSuccess:dl,UpdateUserAddress:Ug,UpdateUserAddressFail:Zd,UpdateUserAddressSuccess:Yd,DeleteUserAddress:Bg,DeleteUserAddressFail:pl,DeleteUserAddressSuccess:Pv,LOAD_USER_CONSENTS:Gg,LOAD_USER_CONSENTS_SUCCESS:Vg,LOAD_USER_CONSENTS_FAIL:Ov,RESET_LOAD_USER_CONSENTS:Lv,GIVE_USER_CONSENT:Nf,GIVE_USER_CONSENT_FAIL:Hg,GIVE_USER_CONSENT_SUCCESS:$g,RESET_GIVE_USER_CONSENT_PROCESS:jg,TRANSFER_ANONYMOUS_CONSENT:Uf,WITHDRAW_USER_CONSENT:Zs,WITHDRAW_USER_CONSENT_FAIL:fl,WITHDRAW_USER_CONSENT_SUCCESS:Zg,RESET_WITHDRAW_USER_CONSENT_PROCESS:Bf,LoadUserConsents:zd,LoadUserConsentsFail:Gf,LoadUserConsentsSuccess:Wd,ResetLoadUserConsents:Vf,GiveUserConsent:Ys,GiveUserConsentFail:Hf,GiveUserConsentSuccess:Yg,ResetGiveUserConsentProcess:zg,TransferAnonymousConsent:$f,WithdrawUserConsent:Wg,WithdrawUserConsentFail:Jg,WithdrawUserConsentSuccess:hl,ResetWithdrawUserConsentProcess:Ic,LOAD_ACTIVE_COST_CENTERS:wc,LOAD_ACTIVE_COST_CENTERS_FAIL:zs,LOAD_ACTIVE_COST_CENTERS_SUCCESS:gl,LoadActiveCostCenters:ml,LoadActiveCostCentersFail:vl,LoadActiveCostCentersSuccess:jf,CLEAR_USER_MISCS_DATA:Rc,ClearUserMiscsData:Jd,REGISTER_USER_SUCCESS:Zf,RegisterUserSuccess:class Yf extends $o{constructor(){super(ar,"registerUser"),this.type=Zf}}});class kv{}let Kg=(()=>{class i{constructor(s){this.adapter=s}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(kv))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const os=(0,h.ZF)("user"),Qg=(0,h.P1)(os,i=>i.billingCountries),zf=(0,h.P1)(Qg,i=>i.entities),Wf=(0,h.P1)(zf,i=>Object.keys(i).map(p=>i[p])),Kd=(0,h.P1)(os,i=>i.customerCoupons),$i=(0,h.P1)(Kd,i=>ni(i)),qg=(0,h.P1)(Kd,i=>so(i)),_s=((0,h.P1)(Kd,i=>zr(i)),(0,h.P1)(os,i=>i.countries)),Kf=(0,h.P1)(_s,i=>i.entities),Pc=(0,h.P1)(Kf,i=>Object.keys(i).map(p=>i[p])),Ja=(0,h.P1)(os,i=>i.notificationPreferences),Cs=(0,h.P1)(Ja,i=>zr(i)),Qf=(0,h.P1)(Ja,i=>zr(i).filter(p=>p.enabled)),Qd=(0,h.P1)(Ja,i=>so(i)),qd=(0,h.P1)(os,i=>i.payments),_l=(0,h.P1)(qd,i=>zr(i)),Ea=(0,h.P1)(qd,i=>so(i)),Xg=(0,h.P1)(qd,i=>ni(i)&&!so(i)),Oc=(0,h.P1)(os,i=>i.productInterests),qf=(0,h.P1)(Oc,i=>zr(i)),em=(0,h.P1)(Oc,i=>so(i)),mi=(0,h.P1)(os,i=>i.regions),tm=((0,h.P1)(mi,i=>zr(i).entities),(0,h.P1)(mi,i=>({loaded:ni(i),loading:so(i),regions:zr(i).entities,country:zr(i).country}))),Xd=((0,h.P1)(mi,i=>zr(i).country),(0,h.P1)(mi,i=>so(i)),(0,h.P1)(mi,i=>ni(i)),(0,h.P1)(os,i=>i.addresses)),rm=(0,h.P1)(Xd,i=>zr(i)),om=(0,h.P1)(Xd,i=>so(i)),ep=(0,h.P1)(Xd,i=>ni(i)&&!so(i)),Cl=(0,h.P1)(os,i=>i.consents),tp=(0,h.P1)(Cl,i=>zr(i)),Sl=(0,h.P1)(Cl,so),El=(0,h.P1)(Cl,ni),Uv=(0,h.P1)(Cl,Io),Al=(0,h.P1)(os,i=>i.costCenters);(0,h.P1)(Al,i=>zr(i));let eh=(()=>{class i{constructor(s,d,g){this.store=s,this.authService=d,this.userIdService=g}loadConsents(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new zd(s))})}getConsents(s=!1){return V(()=>s,this.store.pipe((0,h.Ys)(tp),(0,Xt.M)(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),(0,ft.h)(([d,g,t])=>!g),(0,Vt.b)(([d,g,t])=>{(!d||0===d.length)&&(t||this.loadConsents())}),(0,ft.h)(([d,g])=>Boolean(d)),(0,Ne.U)(([d,g])=>d)),this.store.pipe((0,h.Ys)(tp)))}getConsentsResultLoading(){return this.store.pipe((0,h.Ys)(Sl))}getConsentsResultSuccess(){return this.store.pipe((0,h.Ys)(El))}getConsentsResultError(){return this.store.pipe((0,h.Ys)(Uv))}resetConsentsProcessState(){this.store.dispatch(new Vf)}getConsent(s){return this.authService.isUserLoggedIn().pipe((0,ft.h)(Boolean),(0,qe.w)(()=>this.getConsents(!0)),(0,qe.w)(()=>this.store.pipe((0,h.Ys)((i=>(0,h.P1)(tp,p=>p.find(s=>s.id===i)))(s)))),(0,ft.h)(Fi),(0,Ne.U)(d=>d.currentConsent))}isConsentGiven(s){return Boolean(s)&&Boolean(s.consentGivenDate)&&!Boolean(s.consentWithdrawnDate)}isConsentWithdrawn(s){return!Boolean(s)||Boolean(s?.consentWithdrawnDate)}giveConsent(s,d){this.userIdService.takeUserId().subscribe(g=>{this.store.dispatch(new Ys({userId:g,consentTemplateId:s,consentTemplateVersion:d}))})}getGiveConsentResultLoading(){return this.store.pipe((0,h.Ys)(Di(So)))}getGiveConsentResultSuccess(){return this.store.pipe((0,h.Ys)(ya(So)))}getGiveConsentResultError(){return this.store.pipe((0,h.Ys)(Sc(So)))}resetGiveConsentProcessState(){return this.store.dispatch(new zg)}withdrawConsent(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Wg({userId:d,consentCode:s}))})}getWithdrawConsentResultLoading(){return this.store.pipe((0,h.Ys)(Di(hu)))}getWithdrawConsentResultSuccess(){return this.store.pipe((0,h.Ys)(ya(hu)))}getWithdrawConsentResultError(){return this.store.pipe((0,h.Ys)(Sc(hu)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new Ic)}filterConsentTemplates(s,d=[]){if(0===d.length)return s;const g=[];for(const t of s)t.id&&!d.includes(t.id)&&g.push(t);return g}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Qi),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const im=[(()=>{class i{constructor(s,d,g,t,o,c,u){this.actions$=s,this.anonymousConsentTemplatesConnector=d,this.authService=g,this.anonymousConsentsConfig=t,this.anonymousConsentService=o,this.userConsentService=c,this.userIdService=u,this.checkConsentVersions$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(gr),(0,Xt.M)(this.anonymousConsentService.getConsents()),(0,kt.b)(([f,m])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe((0,Ne.U)(y=>{if(!y)return(0,e.X6Q)()&&console.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;const D=m.map(j=>j.templateVersion),x=y.map(j=>j.templateVersion);return this.detectUpdatedVersion(D,x)}),(0,qe.w)(y=>y?(0,S.of)(new Co):Z.E),(0,me.K)(y=>(0,S.of)(new Ro(Zn(y)))))))),this.loadAnonymousConsentTemplates$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(A),(0,Xt.M)(this.anonymousConsentService.getTemplates()),(0,kt.b)(([f,m])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe((0,We.zg)(y=>{let D=!1;return m&&0!==m.length&&(D=this.anonymousConsentService.detectUpdatedTemplates(m,y)),[new di(y),new Cp(D)]}),(0,me.K)(y=>(0,S.of)(new Ro(Zn(y)))))))),this.transferAnonymousConsentsToUser$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(us),(0,ft.h)(()=>Boolean(this.anonymousConsentsConfig.anonymousConsents)),(0,Xt.M)(this.actions$.pipe((0,dt.l4)(Zf))),(0,ft.h)(([,f])=>Boolean(f)),(0,qe.w)(()=>this.anonymousConsentService.getConsents().pipe((0,Xt.M)(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),(0,ft.h)(([,,,f])=>f),(0,kt.b)(([f,m,y,D])=>{const x=[];for(const j of f)if(this.anonymousConsentService.isConsentGiven(j)&&!this.isRequiredConsent(j.templateCode))for(const te of y)if(te.id===j.templateCode){x.push(new $f({userId:m,consentTemplateId:te.id,consentTemplateVersion:te.version}));break}return x.length>0?x:Z.E}))))),this.giveRequiredConsentsToUser$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(us),(0,ft.h)(f=>Boolean(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&f)),(0,kt.b)(()=>this.userConsentService.getConsentsResultSuccess().pipe((0,Xt.M)(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),(0,ft.h)(([,,,f])=>f),(0,Vt.b)(([f,m,y,D])=>{f||this.userConsentService.loadConsents()}),(0,Ne.U)(([f,m,y,D])=>({userId:m,templates:y})),(0,kt.b)(({userId:f,templates:m})=>{const y=[];for(const D of m)this.userConsentService.isConsentWithdrawn(D.currentConsent)&&this.isRequiredConsent(D.id)&&y.push(new Ys({userId:f,consentTemplateId:D.id,consentTemplateVersion:D.version}));return y.length>0?y:Z.E})))))}isRequiredConsent(s){return Boolean(s&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(s))}detectUpdatedVersion(s,d){if(s.length!==d.length)return!0;for(let g=0;g<d.length;g++)if(s[g]!==d[g])return!0;return!1}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Kg),e.LFG(Qi),e.LFG(mg),e.LFG(ou),e.LFG(eh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()];let th=(()=>{class i{constructor(){this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(s){const d=s.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!d)return null;const[,,g,t]=d;try{return new RegExp(t,g)}catch(o){return(0,e.X6Q)()&&console.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${s} \nMessage: ${o}`),null}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Aa=(()=>{class i{constructor(s,d,g){this.baseSiteService=s,this.javaRegExpConverter=d,this.winRef=g,this.scopes=["context"],this.configFactory=()=>this.resolveConfig().toPromise()}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe((0,Ne.U)(s=>s?.find(d=>this.isCurrentBaseSite(d))),(0,ft.h)(s=>{if(!s)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return Boolean(s)}),(0,Ne.U)(s=>this.getConfig(s)),(0,lt.q)(1))}getConfig(s){return{context:{urlParameters:this.getUrlParams(s.urlEncodingAttributes),[da]:[s.uid],[la]:this.getIsoCodes(s.baseStore?.languages,s.defaultLanguage||s.baseStore?.defaultLanguage),[Ga]:this.getIsoCodes(s.baseStore?.currencies,s.baseStore?.defaultCurrency),[od]:[s.theme]}}}isCurrentBaseSite(s){return-1!==(s.urlPatterns||[]).findIndex(g=>{const t=this.javaRegExpConverter.toJsRegExp(g);if(t)return t.test(this.currentUrl)})}getUrlParams(s){return(s||[]).map(g=>"storefront"===g?da:g)}getIsoCodes(s,d){if(s&&d)return this.moveToFirst(s,t=>t.isocode===d.isocode).map(t=>t.isocode)}moveToFirst(s,d){const g=(s=[...s]).findIndex(d);if(-1!==g){const[t]=s.splice(g,1);s.unshift(t)}return s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Kn),e.LFG(th),e.LFG(pc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Dl{}let Da=(()=>{class i{constructor(s){this.adapter=s}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(s){return this.adapter.loadCountries(s)}getRegions(s){return this.adapter.loadRegions(s)}getBaseSite(s){return this.adapter.loadBaseSite(s)}getBaseSites(){return this.adapter.loadBaseSites()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Dl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bl=new e.OlP("LanguageNormalizer"),Vv=new e.OlP("CurrencyNormalizer"),nh=new e.OlP("CountryNormalizer"),sm=new e.OlP("RegionNormalizer"),am=new e.OlP("BaseSiteNormalizer");let rh=(()=>{class i extends _a{}return i.type="LanguageSetEvent",i})(),Lc=(()=>{class i extends _a{}return i.type="CurrencySetEvent",i})(),Hv=(()=>{class i{constructor(s,d){this.actionsSubject=s,this.eventService=d,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){const s=this.actionsSubject.pipe((0,dt.l4)(Qo),(0,Ne.U)(d=>hs(rh,{activeLanguage:d.payload})));this.eventService.register(rh,s)}registerSetCurrency(){const s=this.actionsSubject.pipe((0,dt.l4)(mc),(0,Ne.U)(d=>hs(Lc,{activeCurrency:d.payload})));this.eventService.register(Lc,s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.UO),e.LFG($a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),KE=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Hv))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Su=(()=>{class i{constructor(s,d){this.store=s,this.config=d}getAll(){return this.store.pipe((0,h.Ys)(ki),(0,Vt.b)(s=>{s||this.store.dispatch(new $u)}),(0,ft.h)(su))}getActive(){return this.store.pipe((0,h.Ys)(Yu),(0,ft.h)(su))}setActive(s){this.store.pipe((0,h.Ys)(Yu),(0,lt.q)(1)).subscribe(d=>{d!==s&&this.isValid(s)&&this.store.dispatch(new Vp(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&fc(this.config,Ga).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Ka=(()=>{class i{constructor(s,d){this.store=s,this.config=d}getAll(){return this.store.pipe((0,h.Ys)(rv),(0,Vt.b)(s=>{s||this.store.dispatch(new cd)}),(0,ft.h)(su))}getActive(){return this.store.pipe((0,h.Ys)(pd),(0,ft.h)(su))}setActive(s){this.store.pipe((0,h.Ys)(pd),(0,lt.q)(1)).subscribe(d=>{d!==s&&this.isValid(s)&&this.store.dispatch(new lu(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&fc(this.config,la).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class oh{}const jv={provide:oh,useFactory:function $v(){return{[la]:Ka,[Ga]:Su,[da]:Kn}}};let cm=(()=>{class i{constructor(s,d){this.baseSiteService=s,this.configInit=d}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,qe.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Vt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const d=Ba(s,da);!this.baseSiteService.isInitialized()&&d&&this.baseSiteService.setActive(d)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Kn),e.LFG(es))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ih=(()=>{class i{constructor(s,d,g){this.statePersistenceService=s,this.currencyService=d,this.config=g,this.initialized$=new F.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Ga,state$:this.currencyService.getActive(),onRead:s=>this.onRead(s)}),this.initialized$}onRead(s){!this.currencyService.isInitialized()&&s&&this.currencyService.setActive(s),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hd),e.LFG(Su),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Zv(i,p){return()=>i.initialize(p)}function ba(i){return i.getStable().toPromise()}let Tl=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:uo,useValue:!0},{provide:e.ip1,multi:!0,useFactory:Zv,deps:[es,[new e.FiY,Va]]},{provide:Ot.V_,useFactory:ba,deps:[es]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function um(i,p){return()=>{(0,e.X6Q)()&&i.getStable().subscribe(d=>function lg(i,p){for(const s of p){const d=s(i);d&&console.warn(d)}}(d,p||[]))}}let Yv=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,multi:!0,useFactory:um,deps:[es,[new e.FiY,gd]]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function lm(i){return"object"==typeof i&&!!i.features}function dm(i,p){if("*"===i)return!0;const s=i.split("."),d=p.split(".");for(let g=0;g<d.length;g++){const t=Number(d[g]),o=Number(s[g])||0;if(t!==o)return o>t}return!0}function pm(i,p){return!(!lm(i)||!i.features.level)&&(p.startsWith("!")?!dm(i.features.level,p.substr(1,p.length)):dm(i.features.level,p))}function Eu(i,p){if(lm(i)){const s="!"===p[0]?i.features[p.substr(1,p.length)]:i.features[p],d="string"==typeof s?pm(i,s):s;return p.startsWith("!")?!d:!!d}return!1}let Qa=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),sh=(()=>{class i{constructor(s){this.config=s}isLevel(s){return pm(this.config,s)}isEnabled(s){return Eu(this.config,s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Qa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ml=(()=>{class i{constructor(s,d,g){this.templateRef=s,this.viewContainer=d,this.featureConfig=g,this.hasView=!1}set cxFeatureLevel(s){this.featureConfig.isLevel(s.toString())&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isLevel(s.toString())&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(sh))},i.\u0275dir=e.lG2({type:i,selectors:[["","cxFeatureLevel",""]],inputs:{cxFeatureLevel:"cxFeatureLevel"}}),i})(),zv=(()=>{class i{constructor(s,d,g){this.templateRef=s,this.viewContainer=d,this.featureConfig=g,this.hasView=!1}set cxFeature(s){this.featureConfig.isEnabled(s)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(s)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(sh))},i.\u0275dir=e.lG2({type:i,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}}),i})(),fm=(()=>{class i{static forRoot(s="3.0"){return{ngModule:i,providers:[ho({features:{level:s||"*"}})]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const Au={};class Wv{constructor(p,s){this.mainInjector=p,this.complementaryInjectors=s}get(p,s,d){if(d&&d&e.XFs.Self){if(void 0!==s)return s;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(const g of this.complementaryInjectors){const t=g.get(p,Au,e.XFs.Self);if(t!==Au)return t}for(const g of this.complementaryInjectors){const t=g.get(p,Au);if(t!==Au)return t}return this.mainInjector.get(p,s)}}let ys=(()=>{class i extends _a{}return i.type="ModuleInitializedEvent",i})();const Du=new e.OlP("MODULE_INITIALIZER");let qo=(()=>{class i{constructor(s,d,g){this.compiler=s,this.injector=d,this.events=g,this.modules$=this.events.get(ys).pipe((0,Ne.U)(t=>t.moduleRef),Nt()),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(s,d,g=[]){let t;return t=g.length?1===g.length?g[0].injector:new Wv(this.injector,g.map(o=>o.injector)):this.injector,this.resolveModuleFactory(s).pipe((0,Ne.U)(([o])=>o.create(t)),(0,kt.b)(o=>this.runModuleInitializersForModule(o)),(0,Vt.b)(o=>this.events.dispatch(hs(ys,{feature:d,moduleRef:o}))))}resolveDependencyModuleInstance(s){return this.resolveModuleFactory(s).pipe((0,Ne.U)(([d,g])=>{if(!this.dependencyModules.has(g)){const t=d.create(this.injector);this.dependencyModules.set(g,t)}return this.dependencyModules.get(g)}),(0,kt.b)(d=>this.runModuleInitializersForModule(d)),(0,Vt.b)(d=>this.events.dispatch(hs(ys,{moduleRef:d}))))}runModuleInitializersForModule(s){const d=s.injector.get(Du,[],e.XFs.Self),g=this.runModuleInitializerFunctions(d);return g.length?(0,Ye.D)(Promise.all(g)).pipe((0,me.K)(t=>(console.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",t),(0,q._)(t))),(0,Pt.c)((0,S.of)(s))):(0,S.of)(s)}runModuleInitializerFunctions(s){const d=[];try{if(s)for(let g=0;g<s.length;g++){const t=s[g]();this.isObjectPromise(t)&&d.push(t)}return d}catch(g){throw console.error("MODULE_INITIALIZER init function throwed an error. ",g),g}}isObjectPromise(s){return!!s&&"function"==typeof s.then}resolveModuleFactory(s){return(0,Ye.D)(s()).pipe((0,qe.w)(d=>d instanceof e.YKP?(0,S.of)([d,d]):(0,G.aj)([(0,Ye.D)(this.compiler.compileModuleAsync(d)),(0,S.of)(d)])),(0,rn.QV)(J.N))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(s=>s.destroy())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.Sil),e.LFG(e.zs3),e.LFG($a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fc={};let qa=(()=>{class i{constructor(s,d){this.rootInjector=s,this.lazyModules=d,this.injectors$=this.lazyModules.modules$.pipe((0,Ne.U)(g=>g.injector),(0,Gt.O)(this.rootInjector))}get(s,d){return this.injectors$.pipe((0,Ne.U)((g,t)=>g.get(s,d??Fc,t?e.XFs.Self:void 0)),(0,ft.h)(g=>g!==Fc))}getMulti(s){return this.get(s,[]).pipe((0,ft.h)(d=>{if(!Array.isArray(d))throw new Error(`Multi-providers mixed with single providers for ${s.toString()}!`);return d.length>0}),(0,un.R)((d,g)=>[...d,...g],[]))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.zs3),e.LFG(qo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bi=(()=>{class i{constructor(s,d,g,t){this.rootConfig=s,this.defaultConfig=d,this.unifiedInjector=g,this.ambientDefaultConfig={},this.ambientConfig={},this.config=t,this.unifiedConfig$=new P.X(t),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){return de(this.unifiedInjector.get(ta,[]),this.unifiedInjector.get(Ci,[])).pipe((0,bn.T)(1),(0,Vt.b)(([g,t])=>this.processConfig(g,t)))}processConfig(s,d){d?.length&&Er(this.ambientDefaultConfig,...d),s.length&&Er(this.ambientConfig,...s),(s.length||d.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){const s=Er({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(s),Eu(this.config,"disableConfigUpdates")||Er(this.config,s)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ea),e.LFG(Vc),e.LFG(qa),e.LFG(Br))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xl=(()=>{class i{constructor(s){}static withConfig(s){return{ngModule:i,providers:[Es(s)]}}static withConfigFactory(s,d){return{ngModule:i,providers:[As(s,d)]}}static forRoot(s={}){return{ngModule:i,providers:[Es(s)]}}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(bi))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();new e.OlP("TEST_CONFIG_COOKIE_NAME");let M=(()=>{class i{constructor(s,d,g){this.currencyService=s,this.currencyStatePersistenceService=d,this.configInit=g}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,qe.w)(()=>this.currencyStatePersistenceService.initSync()),(0,qe.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Vt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const d=Ba(s,Ga);!this.currencyService.isInitialized()&&d&&this.currencyService.setActive(d)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Su),e.LFG(ih),e.LFG(es))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),se=(()=>{class i{constructor(s,d,g){this.statePersistenceService=s,this.languageService=d,this.config=g,this.initialized$=new F.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:la,state$:this.languageService.getActive(),onRead:s=>this.onRead(s)}),this.initialized$}onRead(s){!this.languageService.isInitialized()&&s&&this.languageService.setActive(s),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hd),e.LFG(Ka),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rt=(()=>{class i{constructor(s,d,g){this.languageService=s,this.languageStatePersistenceService=d,this.configInit=g}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,qe.w)(()=>this.languageStatePersistenceService.initSync()),(0,qe.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Vt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const d=Ba(s,la);!this.languageService.isInitialized()&&d&&this.languageService.setActive(d)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ka),e.LFG(se),e.LFG(es))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Lt=(()=>{class i{constructor(s,d,g){this.config=s,this.injector=d,this.serviceMap=g}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(s=>"urlParameters"!==s):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(s){return fc(this.config,s)}getParamDefaultValue(s){return Ba(this.config,s)}getSiteContextService(s){if(this.serviceMap[s])try{return this.injector.get(this.serviceMap[s])}catch{return void((0,e.X6Q)()&&console.warn(`Couldn't find site context service for '${s}'.`))}}getValue(s){let d;const g=this.getSiteContextService(s);return g&&g.getActive().subscribe(t=>d=t).unsubscribe(),void 0!==d?d:this.getParamDefaultValue(s)}setValue(s,d){const g=this.getSiteContextService(s);g&&g.setActive(d)}getValues(s){return 0===s.length?(0,S.of)([]):(0,G.aj)(s.map(d=>{const g=this.getSiteContextService(d);return g?g.getActive().pipe((0,Jt.x)()):(0,S.of)("")})).pipe((0,ft.h)(d=>d.every(g=>!!g)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ks),e.LFG(e.zs3),e.LFG(oh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),sn=(()=>{class i extends ln.sz{constructor(s){super(),this.siteContextParams=s,this.URL_SPLIT=/(^[^#?]*)(.*)/}get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}parse(s){if(this.hasContextInRoutes){const d=this.urlExtractContextParameters(s),g=super.parse(d.url);return this.urlTreeIncludeContextParameters(g,d.params),g}return super.parse(s)}urlExtractContextParameters(s){const[,d,g]=s.match(this.URL_SPLIT)??[,"",""],t=d?.split("/")??[];""===t[0]&&t.shift();const o={};let c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<t.length;){const f=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(f).includes(t[u])&&(o[f]=t[u],u++),c++}return{url:s=t.slice(u).join("/")+g,params:o}}urlTreeIncludeContextParameters(s,d){s.siteContext=d}serialize(s){const d=this.urlTreeExtractContextParameters(s),g=super.serialize(s);return this.urlIncludeContextParameters(g,d)}urlTreeExtractContextParameters(s){return s.siteContext?s.siteContext:{}}urlIncludeContextParameters(s,d){return this.urlEncodingParameters.map(t=>d[t]?d[t]:this.siteContextParams.getValue(t)).join("/")+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Lt))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function zn(i){if(void 0===Ba(i,da))return"Please configure context.parameters.baseSite before using storefront library!"}function vi(){return{context:{[la]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Ga]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}const kc=[{provide:e.ip1,useFactory:function Tu(i){return()=>{i.initialize()}},deps:[rt],multi:!0},{provide:e.ip1,useFactory:function bu(i){return()=>{i.initialize()}},deps:[M],multi:!0},{provide:e.ip1,useFactory:function Xa(i){return()=>{i.initialize()}},deps:[cm],multi:!0}];let Il=(()=>{class i{constructor(s,d,g){this.siteContextParams=s,this.serializer=d,this.injector=g,this.subscription=new ne.w,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(ln.F0),this.location=this.injector.get(Ot.Ye);const s=this.siteContextParams.getUrlEncodingParameters();s.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(s),this.subscribeRouting())}subscribeChanges(s){s.forEach(d=>{const g=this.siteContextParams.getSiteContextService(d);g&&this.subscription.add(g.getActive().subscribe(t=>{if(!this.isNavigating&&this.contextValues[d]&&this.contextValues[d]!==t){const o=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(o);this.location.replaceState(c)}this.contextValues[d]=t}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe((0,ft.h)(s=>s instanceof ln.OD||s instanceof ln.m2||s instanceof ln.Q3||s instanceof ln.gk)).subscribe(s=>{this.isNavigating=s instanceof ln.OD,this.isNavigating&&this.setContextParamsFromRoute(s.url)}))}setContextParamsFromRoute(s){const{params:d}=this.serializer.urlExtractContextParameters(s);Object.keys(d).forEach(g=>this.siteContextParams.setValue(g,d[g]))}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Lt),e.LFG(sn),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Jv=[Kn,Ka,Su,{provide:e.ip1,useFactory:function ah(i,p){return()=>i.getStable("context").pipe((0,Vt.b)(()=>{p.init()})).toPromise()},deps:[es,Il],multi:!0}],Kv=[Lt,sn,{provide:ln.Hx,useExisting:sn}],Qv=[(()=>{class i{constructor(s,d,g){this.actions$=s,this.siteConnector=d,this.state=g,this.loadLanguages$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(qi),(0,Et.z)(()=>this.siteConnector.getLanguages().pipe((0,Ne.U)(t=>new ls(t)),(0,me.K)(t=>(0,S.of)(new ii(Zn(t)))))))),this.activateLanguage$=(0,dt.GW)(()=>this.state.select(pd).pipe(_t(2,1),(0,ft.h)(([t])=>!!t),(0,Ne.U)(([t,o])=>new ha({previous:t,current:o}))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da),e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d,g){this.actions$=s,this.siteConnector=d,this.state=g,this.loadCurrencies$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Up),(0,Et.z)(()=>this.siteConnector.getCurrencies().pipe((0,Ne.U)(t=>new Gp(t)),(0,me.K)(t=>(0,S.of)(new ag(Zn(t)))))))),this.activateCurrency$=(0,dt.GW)(()=>this.state.select(Yu).pipe(_t(2,1),(0,ft.h)(([t])=>!!t),(0,Ne.U)(([t,o])=>new Hp({previous:t,current:o}))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da),e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.siteConnector=d,this.loadBaseSite$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(hc),(0,Et.z)(()=>this.siteConnector.getBaseSite().pipe((0,Ne.U)(g=>{if(g)return new rg(g);throw new Error("BaseSite is not found")}),(0,me.K)(g=>(0,S.of)(new kp(Zn(g)))))))),this.loadBaseSites$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Vu),(0,Et.z)(()=>this.siteConnector.getBaseSites().pipe((0,Ne.U)(g=>new og(g)),(0,me.K)(g=>(0,S.of)(new Np(Zn(g))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],qv={entities:null,details:{},activeSite:""};function XE(i=qv,p){switch(p.type){case Lp:return{...i,details:p.payload};case gc:{let s={};return i.entities&&(s=i.entities[p.payload]),{...i,details:s,activeSite:p.payload}}case Hu:{const d=p.payload.reduce((t,o)=>({...t,[o.uid??""]:o}),{...i.entities}),g=d[i.activeSite];return{...i,details:g,entities:d}}}return i}const hm={entities:null,activeCurrency:null};function gm(i=hm,p){switch(p.type){case ad:{const d=p.payload.reduce((g,t)=>({...g,[t.isocode??""]:t}),{...i.entities});return{...i,entities:d}}case mc:{const s=p.payload;return{...i,activeCurrency:s}}}return i}const Xv={entities:null,activeLanguage:null};function e0(i=Xv,p){switch(p.type){case $p:{const d=p.payload.reduce((g,t)=>({...g,[t.isocode??""]:t}),{...i.entities});return{...i,entities:d}}case Qo:{const s=p.payload;return{...i,activeLanguage:s}}}return i}const ch=new e.OlP("SiteContextReducers"),e_={provide:ch,useFactory:function mm(){return{languages:e0,currencies:gm,baseSite:XE}}};function HC(){return{state:{ssrTransfer:{keys:{[ud]:Po.TRANSFER_STATE}}}}}let t_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Yi(HC),e_],imports:[Ot.ez,h.Aw.forFeature(ud,ch),dt.sQ.forFeature(Qv)]}),i})();function $C(i,p){return p.context&&p.context[da]?null:i}let n_=(()=>{class i{static forRoot(){return{ngModule:i,providers:[Yi(vi),jv,...Jv,...Kv,Ha(zn),{provide:Va,useFactory:$C,deps:[Aa,ks],multi:!0},...kc]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Vs,t_,KE]}),i})();function jC(i=!1,p){return p.type===zt?p.dismissed:i}function ZC(i=!1,p){return p.type===Mn?p.updated:i}const YC=[];function o_(i,p,s){return i?i.map(d=>(d.templateCode===p&&(d={...d,consentState:s}),d)):[]}function zC(i=YC,p){switch(p.type){case Ct:return o_(i,p.templateCode,U.GIVEN);case fn:return o_(i,p.templateCode,U.WITHDRAWN);case Le:return p.payload}return i}const i_=new e.OlP("AnonymousConsentsReducers"),WC={provide:i_,useFactory:function n0(){return{templates:Zr(T),consents:zC,ui:(0,h.UY)({bannerDismissed:jC,updated:ZC})}}},vm=[function s_(i){return function(p,s){return void 0!==p&&(s.type===Pi||s.type===fa)&&(p={...p,templates:{}}),i(p,s)}}];let a_=(()=>{class i{constructor(s,d,g){this.statePersistenceService=s,this.store=d,this.anonymousConsentsService=g,this.subscription=new ne.w,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:s=>this.onRead(s)}))}getAuthState(){return this.store.select(Ls)}onRead(s){const d=s?.templates,g=s?.consents,t=s?.ui;d?.success&&this.store.dispatch(new di(d.value??[])),g&&this.anonymousConsentsService.setConsents(g),t&&(this.anonymousConsentsService.toggleBannerDismissed(t?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(t?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hd),e.LFG(h.yh),e.LFG(ou))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function c_(i){return()=>i.initSync()}let JC=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[WC,{provide:e.ip1,useFactory:c_,deps:[a_],multi:!0}],imports:[Ot.ez,Vs,h.Aw.forFeature(b,i_,{metaReducers:vm}),dt.sQ.forFeature(im)]}),i})(),KC=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...uf,ou,ho(na)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[JC]}),i})();const u_=new e.OlP("AnonymousConsentNormalizer"),QC=new e.OlP("PointOfServiceNormalizer"),l_=new e.OlP("PaymentDetailsNormalizer"),qC={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},_m="[Cms] Navigation Entity",uh="[Cms] Component Entity",lh="[Cms] Load Component",Cm="[Cms] Load Component Fail",Eo="[Cms] Load Component Success",dh="[Cms] Get Component from Page";class d_ extends Ho{constructor(p){super(uh,p.uid),this.payload=p,this.type=lh}}class p_ extends mo{constructor(p){super(uh,p.uid,p.error),this.payload=p,this.type=Cm}}class f_ extends $o{constructor(p){super(uh,p.uid||p.component.uid||""),this.payload=p,this.type=Eo}}class ey extends $o{constructor(p){super(uh,[].concat(p).map(s=>s.component.uid)),this.payload=p,this.type=dh}}const ym="[Cms] Load NavigationEntry items",Mu="[Cms] Load NavigationEntry items Success";class ty extends Ho{constructor(p){super(_m,p.nodeId),this.payload=p,this.type=ym}}class g_ extends mo{constructor(p,s){super(_m,p,s),this.payload=s,this.type="[Cms] Load NavigationEntry items Fail"}}class m_ extends $o{constructor(p){super(_m,p.nodeId),this.payload=p,this.type=Mu}}const v_="[Cms] Load Page Data",Sm="[Cms] Load Page Data Fail",__="[Cms] Load Page Data Success",ph="[Cms] Set Page Success Index",fh="[Cms] Set Page Fail Index";class ji extends Ho{constructor(p){super(p.type??"",p.id),this.payload=p,this.type=v_}}class ny extends mo{constructor(p,s){super(p.type??"",p.id,s),this.type=Sm}}class C_ extends $o{constructor(p,s){super(p.type??"",p.id,s),this.type=__}}class Ta extends $o{constructor(p,s){super(p.type??"",p.id,s),this.type=ph}}class Ws extends mo{constructor(p,s){super(p.type??"",p.id),this.payload=s,this.type=fh}}const hh=(0,h.ZF)("cms"),y_=(0,h.P1)(hh,i=>i.components),S_=i=>(0,h.P1)(y_,p=>Zl(p,i)),E_=(i,p)=>(0,h.P1)(S_(i),s=>s&&s.pageContext&&s.pageContext[p]||vo),Em=(i,p)=>(0,h.P1)((i=>(0,h.P1)(S_(i),p=>p?p.component:void 0))(i),((i,p)=>(0,h.P1)(E_(i,p),s=>zr(s)))(i,p),(s,d)=>{switch(d){case!0:return s;case!1:return null;case void 0:return}}),np=(0,h.P1)(hh,i=>i.navigation),A_=i=>(0,h.P1)((i=>(0,h.P1)(np,p=>_o(p,i)))(i),p=>zr(p)),rp=(0,h.P1)(hh,i=>i.page),cy=(0,h.P1)(rp,i=>i.index),Am=i=>(0,h.P1)((i=>(0,h.P1)(cy,p=>((i,p)=>{switch(p){case Xn.CONTENT_PAGE:return i.content;case Xn.PRODUCT_PAGE:return i.product;case Xn.CATEGORY_PAGE:return i.category;case Xn.CATALOG_PAGE:return i.catalog;default:return{entities:{}}}})(p,i.type)))(i),p=>_o(p,i.id)),gh=i=>(0,h.P1)(Am(i),p=>zr(p)),mh=(0,h.P1)(rp,i=>i.pageData.entities),wl=i=>(0,h.P1)(mh,gh(i),(p,s)=>p[s]);function tc(i,p){return i?p&&i.type===Xn.CONTENT_PAGE?`${i.type}`:`${i.type}-${i.id}`:"current"}let op=(()=>{class i{constructor(s,d){this.store=s,this.routingService=d,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe((0,qe.w)(s=>this.store.select(wl(s))))}getComponentData(s,d){const g=tc(d,!0);this.components[s]||(this.components[s]={});const t=this.components[s];return t[g]||(t[g]=this.createComponentData(s,d)),t[g]}createComponentData(s,d){if(!d)return this.routingService.getPageContext().pipe((0,ft.h)(c=>!!c),(0,qe.w)(c=>this.getComponentData(s,c)));const g=tc(d,!0),t=(0,G.aj)([this.routingService.getNextPageContext(),this.store.pipe((0,h.Ys)(E_(s,g)))]).pipe((0,rn.QV)(J.N),(0,Vt.b)(([c,u])=>{const f=u.loading||u.success||u.error,m=!!c&&tc(c,!0)===g;!f&&!m&&this.store.dispatch(new d_({uid:s,pageContext:d}))})),o=this.store.pipe((0,h.Ys)(Em(s,g)),(0,ft.h)(Fi));return(0,Ee.g)(()=>t.subscribe(),()=>o).pipe((0,nn.d)({bufferSize:1,refCount:!0}))}getContentSlot(s){return this.routingService.getPageContext().pipe((0,qe.w)(d=>this.store.pipe((0,h.Ys)(((i,p)=>(0,h.P1)(wl(i),s=>{if(s)return s.slots?.[p]||{components:[]}}))(d,s)),(0,ft.h)(Fi))))}getNavigationEntryItems(s){return this.store.pipe((0,h.Ys)(A_(s)))}loadNavigationItems(s,d){this.store.dispatch(new ty({nodeId:s,items:d}))}refreshLatestPage(){this.routingService.getPageContext().pipe((0,lt.q)(1)).subscribe(s=>this.store.dispatch(new ji(s)))}refreshPageById(s){this.store.dispatch(new ji({id:s}))}refreshComponent(s,d){this.store.dispatch(new d_({uid:s,pageContext:d}))}getPageState(s){return this.store.pipe((0,h.Ys)(wl(s)))}getPageComponentTypes(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(wl(i),p=>(i=>{const p=new Set;if(i&&i.slots)for(const s of Object.keys(i.slots))for(const d of i.slots[s].components||[])p.add(d.flexType??"");return Array.from(p)})(p)))(s)))}hasPage(s,d=!1){return this.store.pipe((0,h.Ys)(Am(s)),(0,Vt.b)(g=>{(!(g.loading||g.success||g.error)||d&&!g.loading)&&(this.store.dispatch(new ji(s)),d=!1)}),(0,ft.h)(g=>!!g.hasOwnProperty("value")&&Boolean(g.success||g.error&&!g.loading)),(0,vt.j)("success"),(0,Ne.U)(g=>!!g),(0,me.K)(()=>(0,S.of)(!1)))}getPage(s,d=!1){return this.hasPage(s,d).pipe((0,qe.w)(g=>g?this.getPageState(s):(0,S.of)(null)))}getPageIndex(s){return this.store.pipe((0,h.Ys)(gh(s)))}setPageFailIndex(s,d){this.store.dispatch(new Ws(s,d))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Us))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ly={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}};class Ss{getScore(p){let s=0;return this.pageType&&(s+=p.type===this.pageType?1:-1),this.pageTemplate&&(s+=p.template===this.pageTemplate?1:-1),s}hasMatch(p){return this.getScore(p)>0}getPriority(p){return this.getScore(p)}}class nc{}let dy=(()=>{class i{constructor(s){this.translation=s}resolveBreadcrumbs({url:s,pageMetaConfig:d}){const g=d?.breadcrumb;return g?"string"!=typeof g&&g.raw?(0,S.of)([{link:s,label:g.raw}]):this.translateBreadcrumbLabel(g).pipe((0,Ne.U)(t=>[{label:t,link:s}])):(0,S.of)([])}translateBreadcrumbLabel(s){const d="string"==typeof s?s:s.i18n;return this.getParams().pipe((0,qe.w)(g=>this.translation.translate(d??"",g??{})))}getParams(){return(0,S.of)({})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(nc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),s0=(()=>{class i{constructor(s,d){this.activatedRoutesService=s,this.injector=d,this.routes$=this.activatedRoutesService.routes$.pipe((0,Ne.U)(g=>g.slice(1,g.length))),this.routesWithExtras$=this.routes$.pipe((0,Ne.U)(g=>g.reduce((t,o)=>{const c=t.length?t[t.length-1]:{route:null,resolver:this.injector.get(dy),url:""},u=this.getResolver(o)??c.resolver,f=this.getUrlPart(o);return t.concat({route:o,resolver:u,url:c.url+(f?`/${f}`:"")})},[])),(0,nn.d)({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(s){return this.routesWithExtras$.pipe((0,Ne.U)(d=>s?.includeCurrentRoute?d:this.trimCurrentRoute(d)),(0,qe.w)(d=>d.length?(0,G.aj)(d.map(g=>this.resolveRouteBreadcrumb(g))):(0,S.of)([])),(0,Ne.U)(d=>d.flat()))}getResolver(s){const d=this.getPageMetaConfig(s);return"string"!=typeof d&&d?.resolver?this.injector.get(d.resolver,null):null}resolveRouteBreadcrumb({route:s,resolver:d,url:g}){return"function"==typeof d.resolveBreadcrumbs?d.resolveBreadcrumbs({route:s,url:g,pageMetaConfig:this.getPageMetaConfig(s)}):(0,S.of)([])}trimCurrentRoute(s){let d=s.length-1;for(;0===s[d]?.route?.url.length&&d>=0;)d--;return s.slice(0,d)}getUrlPart(s){return s.url.map(d=>d.path).join("/")}getPageMetaConfig(s){return s?.routeConfig?.data?.cxPageMeta}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ed),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),py=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),fy=(()=>{class i{constructor(s,d){this.pageMetaConfig=s,this.winRef=d}getCanonicalUrl(s,d){const g={...this.pageMetaConfig?.pageMeta?.canonicalUrl,...s};return this.buildCanonicalUrl(d??this.winRef.location.href??"",g)}buildCanonicalUrl(s,d){return d.forceHttps&&(s=s.replace(/^http(?!s):/i,"https:")),d.forceWww&&(s=s.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),d.removeQueryParams&&(s=this.removeQueryParams(s,d)),d.forceTrailingSlash&&(s=s.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),s}removeQueryParams(s,d){const g=s.indexOf("?");if(g>-1){const t=s.substr(0,g),o=new URLSearchParams(s.substr(g));s=t,Array.isArray(d.removeQueryParams)&&(d.removeQueryParams.forEach(c=>{o.delete(c)}),o.toString().length>0&&(s=`${t}?${o.toString()}`))}return s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(py),e.LFG(pc))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vh=(()=>{class i{constructor(s,d,g,t,o){this.cmsService=s,this.translation=d,this.routingPageMetaResolver=g,this.router=t,this.pageLinkService=o,this.page$=(0,B.P)(()=>this.cmsService.getCurrentPage()).pipe((0,ft.h)(c=>Boolean(c))),this.title$=this.page$.pipe((0,Ne.U)(c=>c.title)),this.description$=this.page$.pipe((0,Ne.U)(c=>c.description)),this.robots$=this.page$.pipe((0,Ne.U)(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe((0,Ne.U)(c=>[{label:c,link:"/"}])),this.breadcrumb$=(0,G.aj)([this.homeBreadcrumb$,(0,B.P)(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe((0,Ne.U)(c=>c.flat()),(0,nn.d)({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(s){return this.router.events.pipe((0,ft.h)(d=>d instanceof ln.m2),(0,Gt.O)(null),(0,Ne.U)(()=>this.pageLinkService.getCanonicalUrl(s)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(op),e.LFG(nc),e.LFG(s0),e.LFG(ln.F0),e.LFG(fy))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hy=(()=>{class i extends Ss{constructor(s){super(),this.basePageMetaResolver=s,this.pageType=Xn.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gy=(()=>{class i{static forRoot(){return{ngModule:i,providers:[ho(ly)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:Ss,useExisting:hy,multi:!0}]}),i})();function my(i=0,p){return s=>{let d=[];return s.pipe((0,Vt.b)(g=>d.push(g)),(0,an.b)(i,p),(0,Ne.U)(()=>d),(0,Vt.b)(()=>d=[]))}}function bm(i){return p=>i.pipe((0,Gt.O)(void 0),(0,Pt.c)(p))}var Tm=(()=>{return(i=Tm||(Tm={})).DEFER="DEFERRED-LOADING",i.INSTANT="INSTANT-LOADING",Tm;var i})();let Mm=(()=>{class i extends Ns{}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),u0=(()=>{class i extends Mm{}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),vy=(()=>{class i{constructor(s){this.cmsDataConfig=s}mergePageStructure(s,d){return this.mergePage(s,d).pipe((0,qe.w)(g=>this.mergeSlots(g)))}shouldIgnoreBackend(s){return this.getPageFromConfig(s).pipe((0,Ne.U)(d=>!!d&&!!d.ignoreBackend))}getComponentFromConfig(s){return(0,S.of)(this.getComponentById(s))}getComponentsFromConfig(s){return(0,S.of)(s.map(d=>this.getComponentById(d)))}getPageFromConfig(s){return(0,S.of)(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(d=>d.pageId===s):void 0)}mergePage(s,d){return this.getPageFromConfig(s).pipe((0,qe.w)(g=>g?(d.page||(d.page={...g},d.page.slots={}),d.page.slots||(d.page.slots={}),this.mergeSlots(d,g.slots)):(0,S.of)(d)))}mergeSlots(s,d){if(!d&&this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.slots&&(d=this.cmsDataConfig.cmsStructure.slots),!d)return(0,S.of)(s);for(const g of Object.keys(d))if(s.page?.slots&&!Object.keys(s.page.slots).includes(g)){s.page.slots[g]={};for(const t of this.getComponentsByPosition(d,g))s.page.slots[g].components||(s.page.slots[g].components=[]),s.page.slots[g].components?.push({uid:t.uid,flexType:t.flexType,typeCode:t.typeCode}),s.components||(s.components=[]),s.components.push(t)}return(0,S.of)(s)}getComponentsByPosition(s,d){const g=[];if(s[d]&&s[d].componentIds)for(const t of s[d].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){const o=this.cmsDataConfig.cmsStructure.components[t];o&&g.push({uid:t,...o})}return g}getComponentById(s){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[s]:void 0}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(u0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class _y{}let T_=(()=>{class i{constructor(s,d,g){this.cmsStructureConfigService=s,this.cmsComponentAdapter=d,this.config=g}get(s,d){return this.cmsStructureConfigService.getComponentFromConfig(s).pipe((0,qe.w)(g=>g?(0,S.of)(g):this.cmsComponentAdapter.load(s,d)))}getList(s,d){return this.cmsStructureConfigService.getComponentsFromConfig(s).pipe((0,qe.w)(g=>{const t=g.reduce((o,c,u)=>(void 0===c&&o.push(s[u]),o),[]);if(t.length>0){const o=this.config.componentsLoading?.pageSize||t.length,c=Math.ceil(t.length/o),u=[];let f=0;for(;f<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(t.slice(f*o,(f+1)*o),d)),f++;return de(...u).pipe((0,Ne.U)(m=>[...g.filter(Boolean)].concat(...m)))}return(0,S.of)(g)}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vy),e.LFG(_y),e.LFG(Mm))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cy=(()=>{class i{constructor(s,d){this.actions$=s,this.cmsComponentConnector=d,this.contextChange$=this.actions$.pipe((0,dt.l4)(fa,Pi,us)),this.loadComponent$=(0,dt.GW)(()=>({scheduler:g,debounce:t=0}={})=>this.actions$.pipe((0,dt.l4)(lh),(0,en.v)(o=>tc(o.payload.pageContext)),(0,We.zg)(o=>o.pipe(my(t,g),(0,We.zg)(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),bm(this.contextChange$)))}loadComponentsEffect(s,d){return this.cmsComponentConnector.getList(s,d).pipe((0,qe.w)(g=>{const t=[],o=new Set(s);for(const c of g)t.push(new f_({component:c,uid:c.uid,pageContext:d})),o.delete(c.uid??"");return o.forEach(c=>{t.push(new p_({uid:c,pageContext:d}))}),(0,Ye.D)(t)}),(0,me.K)(g=>(0,Ye.D)(s.map(t=>new p_({uid:t,error:Zn(g),pageContext:d})))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(T_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const M_=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:"[^/]*"}],Ay=[...M_,{replace:/\?/g,with:"[^/]"}],Dy=[...M_,{replace:/\?/g,with:"\\?"}];function by(i,p=!1){const s=p?Dy:Ay,d=i.split("/").reverse();let g="";for(;d.length>0;){const t=d.pop();"**"===t?g+=d.length>0?"(?:.+\\/)?":".*":(g+=s.reduce((c,u)=>c?.replace(u.replace,u.with),t),d.length>0&&(g+="\\/"))}return g}let Rl=(()=>{class i{getValidator(s){const d=function x_(i){return i.map(p=>{const s=!p.startsWith("!");return{positive:s,regex:`^${by(p=s?p:p.substr(1))}$`}})}(s).map(({positive:o,regex:c})=>({positive:o,regex:new RegExp(c)})),g=d.filter(o=>o.positive),t=d.filter(o=>!o.positive);return o=>g.some(c=>c.regex.test(o))&&!t.some(c=>c.regex.test(o))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xm=(()=>{class i{constructor(s){this.globService=s}getFalsy(){return function(){return null}}getFromPaths(s){const d=s.map(t=>this.getFromPath(t)),g=this.getCombined(d);return(0,e.X6Q)()&&(g._paths=s),g}getCombined(s){const d=function(t,o,c){for(let u=0;u<s.length;u++){const f=s[u](t,o,c);if(f)return f}return null};return(0,e.X6Q)()&&(d._matchers=s),d}getFromPath(s=""){const d=function(t,o,c){if(""===s)return"full"===c.pathMatch&&(o.hasChildren()||t.length>0)?null:{consumed:[],posParams:{}};const u=s.split("/");if(u.length>t.length||"full"===c.pathMatch&&(o.hasChildren()||u.length<t.length))return null;const f={};for(let m=0;m<u.length;m++){const y=u[m],D=t[m];if(y.startsWith(":"))f[y.substring(1)]=D;else if(y!==D.path)return null}return{consumed:t.slice(0,u.length),posParams:f}};return(0,e.X6Q)()&&(d._path=s),d}getOpposite(s){const d=function(t,o,c){return s(t,o,c)?null:{consumed:t,posParams:{}}};return(0,e.X6Q)()&&(d._originalMatcher=s),d}getFromGlob(s){const d=this.globService.getValidator(s),g=function(o){const c=`/${o.map(u=>u.path).join("/")}`;return d(c)?{consumed:o,posParams:{}}:null};return(0,e.X6Q)()&&(g._globPatterns=s),g}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Rl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),l0=(()=>{class i{constructor(s,d,g){this.injector=s,this.routingConfigService=d,this.urlMatcherService=g,this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){const s=this.injector.get(ln.F0);s.resetConfig(this.configureRoutes(s.config))}configureRoutes(s){return s.map(d=>{const g=this.configureRoute(d);return d.children&&d.children.length&&(g.children=this.configureRoutes(d.children)),g})}configureRoute(s){const d=this.getRouteName(s);if(d){const g=this.routingConfigService.getRouteConfig(d);return this.validateRouteConfig(g,d,s),g?.disabled?(delete s.path,{...s,matcher:this.urlMatcherService.getFalsy()}):g?.matchers?(delete s.path,{...s,matcher:this.resolveUrlMatchers(s,g?.matchers)}):1===g?.paths?.length?(delete s.matcher,{...s,path:g?.paths[0]}):(delete s.path,{...s,matcher:this.urlMatcherService.getFromPaths(g?.paths||[])})}return s}resolveUrlMatchers(s,d){const g=d?.map(t=>"function"==typeof t?t:this.resolveUrlMatcherFactory(s,t))??[];return this.urlMatcherService.getCombined(g)}resolveUrlMatcherFactory(s,d){return this.injector.get(d)(s)}getRouteName(s){return s.data&&s.data.cxRoute}validateRouteConfig(s,d,g){if((0,e.X6Q)()){if(null===s||null===s?.paths||s?.matchers)return;if(!s?.paths)return void this.warn(`Could not configure the named route '${d}'`,g,"due to undefined config or undefined 'paths' property for this route")}}warn(...s){(0,e.X6Q)()&&console.warn(...s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.zs3),e.LFG(Xl),e.LFG(xm))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rD=(()=>{class i{constructor(s){this.urlService=s}transform(s){return this.urlService.transform(s)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(ru,16))},i.\u0275pipe=e.Yjl({name:"cxUrl",type:i,pure:!0}),i})(),I_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ot.ez]}),i})(),oD=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),My=(()=>{class i{constructor(s,d){this.winRef=s,this.platformId=d}canActivate(s,d){return(0,Ot.NF)(this.platformId)&&this.redirect(s,d),!1}redirect(s,d){const g=this.winRef.nativeWindow;g&&g.location&&(g.location.href=d.url)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(pc),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function xy(i){return()=>{i.addRoutes()}}let iD=(()=>{class i{constructor(s,d,g){this.config=s,this.urlMatcherService=d,this.injector=g}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){const s=this.injector.get(ln.F0),d=this.getRoutes();d.length&&s.resetConfig([...d,...s.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];const s=[];return s.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[My],component:{}}),s}getUrlMatcher(){const s=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(oD),e.LFG(xm),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xn=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,multi:!0,useFactory:xy,deps:[iD]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const Iy="__HOMEPAGE__",wy="smartedit-preview";let Pl=(()=>{class i{constructor(s,d){this.config=s,this.urlParsingService=d,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(g=>this.getSegments(g)))}get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}isUrlProtected(s){return this.shouldProtect&&!this.matchAnyPath(s,this.nonProtectedPaths)}matchAnyPath(s,d){return d.some(g=>this.matchPath(s,g))}matchPath(s,d){return this.urlParsingService.matchPath(s,d)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((s,d)=>!1===d.protected&&d.paths&&d.paths.length?s.concat(d?.paths??[]):s,[])}getSegments(s){return(s||"").split("/")}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(zh),e.LFG(Wh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),d0=(()=>{class i{constructor(s,d){this.service=s,this.authGuard=d}canActivate(s){let d=s.url.map(g=>g.path);return d=d.length?d:[""],this.service.isUrlProtected(d)?this.authGuard.canActivate():(0,S.of)(!0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Pl),e.LFG(af))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Im=[(()=>{class i{constructor(s,d){this.actions$=s,this.router=d,this.clearCmsRoutes$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(fa,Pi,us),(0,Vt.b)(()=>{const g=this.router.config.filter(t=>!(t.data&&t.data.cxCmsRouteContext));g.length!==this.router.config.length&&this.router.resetConfig(g)})),{dispatch:!1})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(ln.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],Ao={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function Ry(i=Ao,p){switch(p.type){case Vn.tE:return{...i,nextState:p.payload.routerState,navigationId:p.payload.event.id};case Vn.eU:case Vn.fb:return{...i,nextState:void 0};case tu:return i.nextState?{...i,nextState:{...i.nextState,context:p.payload}}:i;case Vn.CE:return{state:{...p.payload.routerState,context:i.nextState?.context??p.payload.routerState.context},navigationId:p.payload.event.id,nextState:void 0};default:return i}}const R_=new e.OlP("RouterReducers"),p0={provide:R_,useFactory:function aD(){return{router:Ry}}};let Py=(()=>{class i{constructor(s){this.routingConfig=s}serialize(s){let t,o,d=s.root,g=!1,c="";for(;d.firstChild;)d=d.firstChild,c+="/"+d.url.map(f=>f.path).join("/"),d.data?.cxRoute&&(o=d.data?.cxRoute),d.data&&d.data.cxCmsRouteContext&&(t=d.data.cxCmsRouteContext),!g&&(t||d.routeConfig&&d.routeConfig.canActivate&&d.routeConfig.canActivate.find(f=>f&&"CmsPageGuard"===f.guardName))&&(g=!0);o=o||this.lookupSemanticRoute(c);const{params:u}=d;return d.url.length>0&&"cx-preview"===d.url[0].path?t={id:wy,type:Xn.CONTENT_PAGE}:u.productCode?t={id:u.productCode,type:Xn.PRODUCT_PAGE}:u.categoryCode?t={id:u.categoryCode,type:Xn.CATEGORY_PAGE}:u.brandCode?t={id:u.brandCode,type:Xn.CATEGORY_PAGE}:void 0!==d.data.pageLabel?t={id:d.data.pageLabel,type:Xn.CONTENT_PAGE}:t||(t=d.url.length>0?{id:"/"+d.url.map(m=>m.path).join("/"),type:Xn.CONTENT_PAGE}:{id:Iy,type:Xn.CONTENT_PAGE}),{url:s.url,queryParams:s.root.queryParams,params:u,context:t,cmsRequired:g,semanticRoute:o}}lookupSemanticRoute(s){return this.routingConfig.getRouteName(s.substr(1))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Xl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function Oy(i){return()=>i.init()}let Ly=(()=>{class i{static forRoot(){return{ngModule:i,providers:[p0,{provide:Vn.GC,useClass:Py},{provide:e.ip1,useFactory:Oy,deps:[l0],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Aw.forFeature(Kl,R_),dt.sQ.forFeature(Im),Vn.Qi.forRoot({routerState:1,stateKey:Kl})]}),i})();const f0=new e.OlP("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>function Fy(i,p){return d=>{const t=i.getRouteConfig(d.data&&d.data.cxRoute);return p.getFromPaths(t&&t.paths||[])}}((0,e.f3M)(Xl),(0,e.f3M)(xm))});let h0=(()=>{class i{constructor(s,d,g){this.actions$=s,this.cmsComponentConnector=d,this.routingService=g,this.loadNavigationItems$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(ym),(0,Ne.U)(t=>t.payload),(0,Ne.U)(t=>({ids:this.getIdListByItemType(t.items),nodeId:t.nodeId})),(0,We.zg)(t=>t.ids.componentIds.length>0?this.routingService.getRouterState().pipe((0,ft.h)(Fi),(0,Ne.U)(o=>o.state.context),(0,lt.q)(1),(0,We.zg)(o=>this.cmsComponentConnector.getList(t.ids.componentIds,o).pipe((0,Ne.U)(c=>new m_({nodeId:t.nodeId,components:c})),(0,me.K)(c=>(0,S.of)(new g_(t.nodeId,Zn(c))))))):(0,S.of)(new g_(t.nodeId,"navigation nodes are empty")))))}getIdListByItemType(s){const d=[],g=[],t=[];return s.forEach(o=>{"AbstractCMSComponent"===o.superType?g.push(o.id):"AbstractPage"===o.superType?d.push(o.id):"AbstractMedia"===o.superType&&t.push(o.id)}),{pageIds:d,componentIds:g,mediaIds:t}}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(T_),e.LFG(Us))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class ky{}let Ch=(()=>{class i{constructor(s,d){this.cmsPageAdapter=s,this.cmsStructureConfigService=d}get(s){return this.cmsStructureConfigService.shouldIgnoreBackend(s.id).pipe((0,qe.w)(d=>d?(0,S.of)({}):this.cmsPageAdapter.load(s).pipe((0,me.K)(g=>g instanceof Ht.UA&&400===g.status?(0,S.of)({}):(0,q._)(g)))),(0,qe.w)(d=>this.mergeDefaultPageStructure(s,d)))}mergeDefaultPageStructure(s,d){return this.cmsStructureConfigService.mergePageStructure(s.id,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ky),e.LFG(vy))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const g0=[(()=>{class i{constructor(s,d,g){this.actions$=s,this.cmsPageConnector=d,this.routingService=g,this.refreshPage$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(fa,Pi,us),(0,qe.w)(()=>this.routingService.getRouterState().pipe((0,ft.h)(t=>t&&t.state&&t.state.cmsRequired&&!t.nextState),(0,lt.q)(1),(0,Ne.U)(t=>t.state.context),(0,We.zg)(t=>(0,S.of)(new ji(t))))))),this.loadPageData$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(v_),(0,Ne.U)(t=>t.payload),(0,en.v)(t=>tc(t)),(0,We.zg)(t=>t.pipe((0,qe.w)(o=>this.cmsPageConnector.get(o).pipe((0,We.zg)(c=>{const u=[new ey((c.components??[]).map(m=>({component:m,pageContext:o}))),new C_(o,c.page??{})],f=c.page?.label;return f&&f!==o.id&&u.unshift(new Ta({id:f,type:o.type},c.page??{})),u}),(0,me.K)(c=>(0,S.of)(new ny(o,Zn(c))))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Ch),e.LFG(Us))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Cy,h0],m0={component:void 0,pageContext:{}};function Ol(i,p){switch(p.type){case Cm:return!1;case dh:case Eo:return!0}return i}function Ny(i=m0,p){switch(p.type){case lh:{const s=Zr(p.meta.entityType,Ol),d=tc(p.payload.pageContext,!0);return{...i,pageContext:{...i.pageContext,[d]:s(i.pageContext[d],p)}}}case Cm:{const s=Zr(p.meta.entityType,Ol),d=tc(p.payload.pageContext,!0);return{...i,pageContext:{...i.pageContext,[d]:s(i.pageContext[d],p)}}}case Eo:{const s=Zr(p.meta.entityType,Ol),d=tc(p.payload.pageContext,!0);return{...i,component:p.payload.component,pageContext:{...i.pageContext,[d]:s(i.pageContext[d],p)}}}case dh:{const s=Zr(p.meta.entityType,Ol);if(!Array.isArray(p.payload)){const d=tc(p.payload.pageContext,!0);return{...i,component:p.payload.component,pageContext:{...i.pageContext,[d]:s(i.pageContext[d],p)}}}}}return i}function By(i,p){if(p.type===Mu&&p.payload.components){const d=p.payload.components.reduce((g,t)=>({...g,[`${t.uid}_AbstractCMSComponent`]:t}),{});return{...i,...d}}return i}const v0={entities:{}};function yh(i=v0,p){if(p.type===__){const s=p.payload;return{...i,entities:{...i.entities,[s.pageId??""]:s}}}return i}function wm(i){return(p,s)=>{if(s.meta&&s.meta.entityType===i)switch(s.type){case __:return s.payload.pageId;case Sm:return;case fh:return s.payload;case ph:return s.payload.pageId}return p}}const Gy=new e.OlP("CmsReducers"),Vy={provide:Gy,useFactory:function _0(){return{page:(0,h.UY)({pageData:yh,index:(0,h.UY)({content:Ri(Xn.CONTENT_PAGE,wm(Xn.CONTENT_PAGE)),product:Ri(Xn.PRODUCT_PAGE,wm(Xn.PRODUCT_PAGE)),category:Ri(Xn.CATEGORY_PAGE,wm(Xn.CATEGORY_PAGE)),catalog:Ri(Xn.CATALOG_PAGE,wm(Xn.CATALOG_PAGE))})}),components:xs(uh,Ny),navigation:Ri(_m,By)}}},$y=[function Hy(i){return function(p,s){return(s.type===fa||s.type===Pi||s.type===us)&&(p=void 0),i(p,s)}}];function C0(){return{state:{ssrTransfer:{keys:{cms:Po.TRANSFER_STATE}}}}}let jy=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Yi(C0),Vy],imports:[Ot.ez,Vs,h.Aw.forFeature("cms",Gy,{metaReducers:$y}),dt.sQ.forFeature(g0)]}),i})(),y0=(()=>{class i{static forRoot(){return{ngModule:i,providers:[op,ho(qC)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[jy,gy.forRoot()]}),i})();const Zy=new e.OlP("CmsPageNormalizer"),S0=new e.OlP("CmsComponentNormalizer");let E0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),A0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function Yy(i,p=[],s=[]){const d=(i??[]).filter(t=>!t.hasMatch||t.hasMatch(...p));if(d.length<2)return d[0];let g=-1/0;return d.reduce((t,o)=>{const c=o.getPriority?o.getPriority(...s):0;return g>c?t:(g=c,o)},void 0)}function P_(i){return(0,B.P)(()=>{let p=0;const s=new ue.y(d=>{const g=()=>{d.next(),d.complete()};p?Ie.E.schedule(g):g(),p++});return(0,G.aj)(i).pipe((0,Yt.U)(()=>s))})}let Rm=(()=>{class i{constructor(s,d,g,t){this.cms=s,this.unifiedInjector=d,this.pageMetaConfig=g,this.platformId=t,this.resolvers$=this.unifiedInjector.getMulti(Ss).pipe((0,nn.d)({bufferSize:1,refCount:!0})),this.meta$=(0,B.P)(()=>this.cms.getCurrentPage()).pipe((0,ft.h)(o=>Boolean(o)),(0,qe.w)(o=>this.getMetaResolver(o)),(0,qe.w)(o=>o?this.resolve(o):(0,S.of)(null)),(0,nn.d)({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(s){const d=this.getResolverMethods(),g=Object.keys(d).filter(t=>s[d[t]]).map(t=>s[d[t]]().pipe((0,Ne.U)(o=>({[t]:o}))));return 0===g.length?(0,S.of)({}):P_(g).pipe((0,Ne.U)(t=>Object.assign({},...t)))}getResolverMethods(){let s={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(d=>!(0,Ot.NF)(this.platformId??"")||!d.disabledInCsr||(0,e.X6Q)()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(d=>s[d.property]=d.method),s}getMetaResolver(s){return this.resolvers$.pipe((0,Ne.U)(d=>Yy(d,[s],[s])))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(op),e.LFG(qa),e.LFG(py),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ma=(()=>{return(i=Ma||(Ma={})).INDEX="INDEX",i.NOINDEX="NOINDEX",i.FOLLOW="FOLLOW",i.NOFOLLOW="NOFOLLOW",Ma;var i})();function Sh(i){let p;return i.subscribe(s=>p=s).unsubscribe(),p}let zy=(()=>{class i{constructor(s){this.unifiedInjector=s,this.componentDecorators$=this.unifiedInjector.getMulti(E0).pipe((0,nn.d)(1)),this.slotDecorators$=this.unifiedInjector.getMulti(A0).pipe((0,nn.d)(1))}addAttributesToComponent(s,d,g){(Sh(this.componentDecorators$)||[]).forEach(t=>t.decorate(s,d,g))}addAttributesToSlot(s,d,g){(Sh(this.slotDecorators$)||[]).forEach(t=>t.decorate(s,d,g))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Eh=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})();var Js=(()=>{return(i=Js||(Js={}))[i.UNKNOWN=-1]="UNKNOWN",i[i.BAD_REQUEST=400]="BAD_REQUEST",i[i.UNAUTHORIZED=401]="UNAUTHORIZED",i[i.FORBIDDEN=403]="FORBIDDEN",i[i.NOT_FOUND=404]="NOT_FOUND",i[i.CONFLICT=409]="CONFLICT",i[i.BAD_GATEWAY=502]="BAD_GATEWAY",i[i.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",i[i.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",Js;var i})();let si=(()=>{class i{constructor(s,d){this.globalMessageService=s,this.platformId=d}hasMatch(s){return s.status===this.responseStatus}isSsr(){return!!this.platformId&&!(0,Ot.NF)(this.platformId)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(fu),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),D0=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},tr.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T0=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.BAD_REQUEST}handleError(s,d){this.handleBadPassword(s,d),this.handleBadLoginResponse(s,d),this.handleValidationError(s,d),this.handleGuestDuplicateEmail(s,d),this.handleUnknownIdentifierError(s,d)}handleBadPassword(s,d){d.url?.includes("/authorizationserver/oauth/token")&&"invalid_grant"===d.error?.error&&"password"===s.body?.get("grant_type")&&(this.globalMessageService.add({key:"httpHandlers.badRequestPleaseLoginAgain",params:{errorMessage:d.error.error_description||d.message||""}},tr.MSG_TYPE_ERROR),this.globalMessageService.remove(tr.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(s,d){this.getErrors(d).filter(g=>"PasswordMismatchError"===g.type).forEach(()=>{const t=new URL(s.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:t},tr.MSG_TYPE_ERROR)})}handleValidationError(s,d){this.getErrors(d).filter(g=>"ValidationError"===g.type).forEach(g=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${g.reason}.${g.subject}`},tr.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(s,d){this.getErrors(d).filter(g=>"DuplicateUidError"===g.type).forEach(g=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:g.message||""}},tr.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(s,d){this.getErrors(d).filter(g=>"UnknownIdentifierError"===g.type).forEach(g=>{this.globalMessageService.add(g.message?g.message:{key:"httpHandlers.unknownIdentifier"},tr.MSG_TYPE_ERROR)})}getErrors(s){return(s.error?.errors||[]).filter(d=>"JaloObjectNoLongerValidError"!==d.type)}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wy=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},tr.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),M0=(()=>{class i extends si{constructor(s,d,g){super(s),this.globalMessageService=s,this.authService=d,this.occEndpoints=g,this.responseStatus=Js.FORBIDDEN}handleError(s){s.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},tr.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(fu),e.LFG(Qi),e.LFG(co))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),x0=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},tr.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ah=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},tr.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),I0=(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.NOT_FOUND}handleError(){}getPriority(){return-10}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ky=[{provide:si,useExisting:(()=>{class i extends si{constructor(){super(...arguments),this.responseStatus=Js.UNKNOWN}hasMatch(s){return!0}handleError(s,d){((0,e.X6Q)()||this.isSsr())&&console.warn("An unknown http error occurred\n",d.message)}getPriority(){return-50}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0},{provide:si,useExisting:D0,multi:!0},{provide:si,useExisting:T0,multi:!0},{provide:si,useExisting:Wy,multi:!0},{provide:si,useExisting:M0,multi:!0},{provide:si,useExisting:x0,multi:!0},{provide:si,useExisting:Ah,multi:!0},{provide:si,useExisting:I0,multi:!0}],R0=[{provide:Ht.TP,useExisting:(()=>{class i{constructor(s){this.unifiedInjector=s,this.handlers$=this.unifiedInjector.getMulti(si).pipe((0,nn.d)(1))}intercept(s,d){return d.handle(s).pipe((0,me.K)(g=>(g instanceof Ht.UA&&this.handleErrorResponse(s,g),(0,q._)(g))))}handleErrorResponse(s,d){const g=this.getResponseHandler(d);g&&g.handleError(s,d)}getResponseHandler(s){return Yy(Sh(this.handlers$)??[],[s])}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}],Qy={entities:{}};function P0(i=Qy,p){switch(p.type){case _c:{const s=p.payload;if(void 0===i.entities[s.type])return{...i,entities:{...i.entities,[s.type]:[s.text]}};{const d=i.entities[s.type];return{...i,entities:{...i.entities,[s.type]:[...d,s.text]}}}}case Ju:{const s=p.payload.type,d=p.payload.index;if(0===Object.keys(i.entities).length||!i.entities[s])return i;const g=[...i.entities[s]];return g.splice(d,1),{...i,entities:{...i.entities,[s]:g}}}case pu:{const s={...i.entities,[p.payload]:[]};return{...i,entities:s}}}return i}const qy=new e.OlP("GlobalMessageReducers"),Xy={provide:qy,useFactory:function O_(){return P0}};let eS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Xy],imports:[Vs,h.Aw.forFeature(Xp,qy)]}),i})();class L_{static shallowEqualObjects(p,s){if(p===s)return!0;if(!p||!s)return!1;const d=Object.keys(p),g=Object.keys(s),t=d.length;if(t!==g.length)return!1;for(let c=0;c<t;c++){const u=d[c];if(p[u]!==s[u])return!1}return!0}static deepEqualObjects(p,s){if(p===s)return!0;if(!(p instanceof Object&&s instanceof Object))return!1;if(p.constructor!==s.constructor)return!1;for(const d in p)if(p.hasOwnProperty(d)){if(!s.hasOwnProperty(d))return!1;if(p[d]!==s[d]&&("object"!=typeof p[d]||!this.deepEqualObjects(p[d],s[d])))return!1}for(const d in s)if(s.hasOwnProperty(d)&&!p.hasOwnProperty(d))return!1;return!0}static countOfDeepEqualObjects(p,s){return s.reduce((d,g)=>(this.deepEqualObjects(p,g)&&d++,d),0)}static indexOfFirstOccurrence(p,s){for(let d=0;d<s.length;d++)if(this.deepEqualObjects(s[d],p))return d}}let O0=(()=>{class i{constructor(s,d,g,t){this.actions$=s,this.store=d,this.config=g,this.platformId=t,this.removeDuplicated$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(_c),(0,vt.j)("payload"),(0,qe.w)(o=>(0,S.of)(o.text).pipe((0,Xt.M)(this.store.pipe((0,h.Ys)(tf(o.type)))),(0,ft.h)(([c,u])=>L_.countOfDeepEqualObjects(c,u)>1),(0,Ne.U)(([c,u])=>{const f=L_.indexOfFirstOccurrence(c,u);if(void 0!==f)return new ja({type:o.type,index:f})}),(0,ft.h)(Fi))))),this.hideAfterDelay$=(0,dt.GW)(()=>(0,Ot.NF)(this.platformId)?this.actions$.pipe((0,dt.l4)(_c),(0,vt.j)("payload"),(0,kt.b)(o=>{const c=this.config.globalMessages?.[o.type];return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(tf(i),p=>p&&p.length))(o.type)),(0,lt.q)(1),(0,ft.h)(u=>(c&&void 0!==c.timeout||void 0!==o.timeout)&&u>0),(0,vn.g)(o.timeout||c?.timeout),(0,qe.w)(()=>(0,S.of)(new ja({type:o.type,index:0}))))})):()=>Z.E)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(h.yh),e.LFG(Eh),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const L0={globalMessages:{[tr.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[tr.MSG_TYPE_INFO]:{timeout:3e3},[tr.MSG_TYPE_ERROR]:{timeout:7e3},[tr.MSG_TYPE_WARNING]:{timeout:7e3},[tr.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}};let F_=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...Ky,...R0]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ho(L0)],imports:[eS,dt.sQ.forFeature([O0])]}),i})(),k_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let d=null;return d=s?new(s||i):e.LFG(Br),d},providedIn:"root"}),i})(),tS=(()=>{class i{constructor(s){this.configInit=s,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>this.resolveConfig().toPromise()}resolveConfig(){return this.configInit.getStable("context.language").pipe((0,Ne.U)(s=>({i18n:{fallbackLang:s?.context?.language?.[0]}})))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(es))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),F0=(()=>{class i extends Ot.uU{constructor(s){super(""),this.language=s}transform(s,d,g){return super.transform(s,d,g,this.getLang())}getLang(){const s=this.getActiveLang();try{return(0,Ot.wM)(s),s}catch{return this.reportMissingLocaleData(s),"en"}}getActiveLang(){let s="";return this.language.getActive().subscribe(d=>s=d).unsubscribe(),s}reportMissingLocaleData(s){(0,e.X6Q)()&&console.warn(`cxDate pipe: No locale data registered for '${s}' (see https://angular.io/api/common/registerLocaleData).`)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(Ka,16))},i.\u0275pipe=e.Yjl({name:"cxDate",type:i,pure:!0}),i})(),k0=(()=>{class i extends Ot.JJ{constructor(s){super(""),this.language=s}transform(s,d){return super.transform(s,d,this.getLang())}getLang(){const s=this.getActiveLang();try{return(0,Ot.wM)(s),s}catch{return this.reportMissingLocaleData(s),"en"}}getActiveLang(){let s="";return this.language.getActive().subscribe(d=>s=d).unsubscribe(),s}reportMissingLocaleData(s){(0,e.X6Q)()&&console.warn(`cxNumeric pipe: No locale data registered for '${s}' (see https://angular.io/api/common/registerLocaleData).`)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(Ka,16))},i.\u0275pipe=e.Yjl({name:"cxNumeric",type:i,pure:!0}),i})();const N0={i18n:{fallbackLang:void 0,debug:!1}};let G0=(()=>{class i{init(s,d){this.sub=this.sub??d.getActive().subscribe(g=>s.changeLanguage(g))}ngOnDestroy(){this.sub?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function V0(i){return(p,s,d,g)=>{i.get(s,{responseType:"text"}).subscribe(t=>g(null,{status:200,data:t}),t=>g(t,{data:null,status:t.status}))}}function H0(i,p){return p&&!i.match(/^http(s)?:\/\//)?(i.startsWith("/")&&(i=i.slice(1)),i.startsWith("./")&&(i=i.slice(2)),`${p}/${i}`):i}const N_=new e.OlP("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>ei.createInstance()}),nS=[{provide:e.ip1,useFactory:function U0(i,p,s,d,g,t){return()=>p.getStable("i18n").pipe((0,Vt.b)(o=>{let c={ns:[],fallbackLng:o.i18n?.fallbackLang,debug:o.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};if(o.i18n?.backend?.loadPath){i=i.use(vr);const f={loadPath:H0(o.i18n.backend.loadPath,g),request:V0(d),reloadInterval:!1};c={...c,backend:f}}return i.init(c,()=>{(function B0(i,p={}){Object.keys(p).forEach(s=>{Object.keys(p[s]).forEach(d=>{i.addResourceBundle(s,d,p[s][d],!0,!0)})})})(i,o.i18n?.resources),t.init(i,s)})})).toPromise()},deps:[N_,es,Ka,Ht.eN,[new e.FiY,jh],G0],multi:!0}];let rS=(()=>{class i{constructor(s){this.config=s,this.duplicates={},this.chunks={},this.KEY_SEPARATOR=".";const d=s.i18n&&s.i18n.chunks||{};Object.keys(d).forEach(g=>{d[g].forEach(t=>{this.chunks.hasOwnProperty(t)?(this.duplicates[t]||(this.duplicates[t]=[this.chunks[t]]),this.duplicates[t].push(g)):this.chunks[t]=g})}),Object.keys(this.duplicates).length>0&&(0,e.X6Q)()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(s){const d=(s||"").split(this.KEY_SEPARATOR)[0];return this.chunks&&this.chunks[d]||d}warnDuplicates(s){const d=[];Object.keys(s).forEach(g=>{d.push(`* '${g}' found in chunks: ${s[g].join(", ")}. Used '${this.chunks[g]}.${g}'.`)}),console.warn(`Duplicated keys has been found in the config of i18n chunks:\n${d.join("\n")}`)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(k_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$0=(()=>{class i{constructor(s,d,g){this.config=s,this.translationChunk=d,this.i18next=g,this.NON_BREAKING_SPACE=String.fromCharCode(160),this.NAMESPACE_SEPARATOR=":"}translate(s,d={},g=!1){const t=this.translationChunk.getChunkNameForKey(s),o=this.getNamespacedKey(s,t);return new ue.y(c=>{const u=()=>{!this.i18next.isInitialized||(this.i18next.exists(o,d)?c.next(this.i18next.t(o,d)):(g&&c.next(this.NON_BREAKING_SPACE),this.i18next.loadNamespaces(t,()=>{this.i18next.exists(o,d)?c.next(this.i18next.t(o,d)):(this.reportMissingKey(s,t),c.next(this.getFallbackValue(o)))})))};return u(),this.i18next.on("languageChanged",u),()=>this.i18next.off("languageChanged",u)})}loadChunks(s){return this.i18next.loadNamespaces(s)}getFallbackValue(s){return(0,e.X6Q)()?`[${s}]`:this.NON_BREAKING_SPACE}reportMissingKey(s,d){(0,e.X6Q)()&&console.warn(`Translation key missing '${s}' in the chunk '${d}'`)}getNamespacedKey(s,d){return d+this.NAMESPACE_SEPARATOR+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(k_),e.LFG(rS),e.LFG(N_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oS=(()=>{class i{constructor(s,d){this.service=s,this.cd=d}transform(s,d={}){if(!s)return(0,e.X6Q)()&&console.error(`The given input for the cxTranslate pipe (${s}) is invalid and cannot be translated`),"";if(s.raw)return s.raw??"";const g="string"==typeof s?s:s.key;return"string"!=typeof s&&(d={...d,...s.params}),this.translate(g,d),this.translatedValue}translate(s,d){(s!==this.lastKey||!L_.shallowEqualObjects(d,this.lastOptions))&&(this.lastKey=s,this.lastOptions=d,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(s,d,!0).subscribe(g=>this.markForCheck(g)))}markForCheck(s){this.translatedValue=s,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(nc,16),e.Y36(e.sBO,16))},i.\u0275pipe=e.Yjl({name:"cxTranslate",type:i,pure:!1}),i})();function j0(i,p){return void 0!==p?.i18n?.fallbackLang?null:i}let iS=(()=>{class i{static forRoot(){return{ngModule:i,providers:[ho(N0),{provide:nc,useExisting:$0},...nS,{provide:Va,useFactory:j0,deps:[tS,k_],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const U_=new e.OlP("CostCenterNormalizer"),B_=new e.OlP("CostCentersListNormalizer"),Pm=new e.OlP("CostCenterSerializer");var Ll;!function(i){let p;var xe;let s,d,g,t,o,c,u,f,m,y,D,x,j,te,ye,Pe,Qe,bt,Bt,tn,_n,En,$t,Tn,cr,Vr,qs,Fh,oc,mp,Iu,Bc,vp,Gl,kh,Gc,eD,tD,Nh,$E,Uh,Qm,IC,jE,wC,_p,RC,ZE,YE,XD,eb,tb,nb,rb,ob,ib,sb,ab,cb,ub,lb,db,pb,fb,hb,gb,mb,vb,_b,Cb,yb,Sb,Eb;(xe=p=i.PageRobots||(i.PageRobots={})).INDEX_FOLLOW="INDEX_FOLLOW",xe.NOINDEX_FOLLOW="NOINDEX_FOLLOW",xe.INDEX_NOFOLLOW="INDEX_NOFOLLOW",xe.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW",function(xe){xe.Success="SUCCESS",xe.Info="INFO",xe.Warning="WARNING",xe.Error="ERROR"}(s=i.OrderEntryStatus||(i.OrderEntryStatus={})),function(xe){xe.BUY="BUY",xe.FROM="FROM"}(d=i.PriceType||(i.PriceType={})),function(xe){xe.PRIMARY="PRIMARY",xe.GALLERY="GALLERY"}(g=i.ImageType||(i.ImageType={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(t=i.Fields||(i.Fields={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(o=i.Fields1||(i.Fields1={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(c=i.Fields2||(i.Fields2={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(u=i.Fields3||(i.Fields3={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(f=i.Fields4||(i.Fields4={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(m=i.Fields5||(i.Fields5={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(y=i.Fields6||(i.Fields6={})),function(xe){xe.CONTENT_PAGE="ContentPage",xe.PRODUCT_PAGE="ProductPage",xe.CATEGORY_PAGE="CategoryPage",xe.CATALOG_PAGE="CatalogPage"}(D=i.PageType||(i.PageType={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(x=i.Fields7||(i.Fields7={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(j=i.Fields8||(i.Fields8={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(te=i.Fields9||(i.Fields9={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ye=i.Fields10||(i.Fields10={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Pe=i.Fields11||(i.Fields11={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Qe=i.Fields12||(i.Fields12={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(bt=i.Fields13||(i.Fields13={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Bt=i.Fields14||(i.Fields14={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(tn=i.Fields15||(i.Fields15={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(_n=i.Fields16||(i.Fields16={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(En=i.SortEnum||(i.SortEnum={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}($t=i.Fields17||(i.Fields17={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Tn=i.Fields18||(i.Fields18={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(cr=i.Fields19||(i.Fields19={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Vr=i.Fields20||(i.Fields20={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(qs=i.Fields21||(i.Fields21={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Fh=i.Fields22||(i.Fields22={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(oc=i.Fields23||(i.Fields23={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(mp=i.Fields24||(i.Fields24={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Iu=i.Fields25||(i.Fields25={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Bc=i.Fields26||(i.Fields26={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(vp=i.Fields27||(i.Fields27={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Gl=i.Fields28||(i.Fields28={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(kh=i.Fields29||(i.Fields29={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Gc=i.Fields30||(i.Fields30={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(eD=i.Fields31||(i.Fields31={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(tD=i.Fields32||(i.Fields32={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Nh=i.Fields33||(i.Fields33={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}($E=i.Fields34||(i.Fields34={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Uh=i.Fields35||(i.Fields35={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(Qm=i.Fields36||(i.Fields36={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(IC=i.Fields37||(i.Fields37={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(jE=i.Fields38||(i.Fields38={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(wC=i.Fields39||(i.Fields39={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(_p=i.Fields40||(i.Fields40={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(RC=i.Fields41||(i.Fields41={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ZE=i.Fields42||(i.Fields42={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(YE=i.Fields43||(i.Fields43={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(XD=i.Fields44||(i.Fields44={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(eb=i.Fields45||(i.Fields45={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(tb=i.Fields46||(i.Fields46={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(nb=i.Fields47||(i.Fields47={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(rb=i.Fields48||(i.Fields48={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ob=i.Fields49||(i.Fields49={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ib=i.Fields50||(i.Fields50={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(sb=i.Fields51||(i.Fields51={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ab=i.Fields52||(i.Fields52={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(cb=i.Fields53||(i.Fields53={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(ub=i.Fields54||(i.Fields54={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(lb=i.Fields55||(i.Fields55={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(db=i.Fields56||(i.Fields56={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(pb=i.Fields57||(i.Fields57={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(fb=i.Fields58||(i.Fields58={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(hb=i.Fields59||(i.Fields59={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(gb=i.Fields60||(i.Fields60={})),function(xe){xe.BASIC="BASIC",xe.DEFAULT="DEFAULT",xe.FULL="FULL"}(mb=i.Fields61||(i.Fields61={})),function(xe){xe.All="all",xe.Product="product",xe.Order="order"}(vb=i.Type||(i.Type={})),function(xe){xe.ANONYMOUS_CONSENT_GIVEN="GIVEN",xe.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"}(_b=i.CONSENT_STATUS||(i.CONSENT_STATUS={})),function(xe){xe.BACK_IN_STOCK="BACK_IN_STOCK"}(Cb=i.NotificationType||(i.NotificationType={})),function(xe){xe.DAY="DAY",xe.WEEK="WEEK",xe.MONTH="MONTH",xe.QUARTER="QUARTER",xe.YEAR="YEAR"}(yb=i.Period||(i.Period={})),function(xe){xe.MONDAY="MONDAY",xe.TUESDAY="TUESDAY",xe.WEDNESDAY="WEDNESDAY",xe.THURSDAY="THURSDAY",xe.FRIDAY="FRIDAY",xe.SATURDAY="SATURDAY",xe.SUNDAY="SUNDAY"}(Sb=i.DaysOfWeek||(i.DaysOfWeek={})),function(xe){xe.APPROVE="APPROVE",xe.REJECT="REJECT"}(Eb=i.OrderApprovalDecisionValue||(i.OrderApprovalDecisionValue={}))}(Ll||(Ll={}));let sp=(()=>{class i{convert(s,d={}){return this.normalizePageData(s,d),this.normalizePageSlotData(s,d),this.normalizePageComponentData(s,d),this.normalizeComponentData(s,d),d}normalizePageData(s,d){if(!s)return;const g={};s.name&&(g.name=s.name),s.typeCode&&(g.type=s.typeCode),s.label&&(g.label=s.label),s.template&&(g.template=s.template),s.uid&&(g.pageId=s.uid),s.title&&(g.title=s.title),s.description&&(g.description=s.description),s.properties&&(g.properties=s.properties),this.normalizeRobots(s,g),d.page=g}normalizePageSlotData(s,d){if(s?.contentSlots){s.contentSlots.contentSlot&&!Array.isArray(s.contentSlots.contentSlot)&&(s.contentSlots.contentSlot=[s.contentSlots.contentSlot]),d.page=d.page??{},d.page.slots={};for(const g of s.contentSlots.contentSlot??[])g.position&&(d.page.slots[g.position]={},g.properties&&(d.page.slots[g.position].properties=g.properties))}}normalizePageComponentData(s,d){if(s?.contentSlots?.contentSlot)for(const g of s.contentSlots.contentSlot)if(Array.isArray(g.components?.component))for(const t of g.components?.component??[]){const o={uid:t.uid,typeCode:t.typeCode};if(t.properties&&(o.properties=t.properties),o.flexType="CMSFlexComponent"===t.typeCode?t.flexType:"JspIncludeComponent"===t.typeCode?t.uid:t.typeCode,g.position){let c=d.page?.slots?.[g.position];c&&(c.components||(c.components=[]),c.components.push(o))}}}normalizeComponentData(s,d){if(s?.contentSlots?.contentSlot)for(const g of s.contentSlots.contentSlot)if(Array.isArray(g.components?.component))for(const t of g.components?.component??[])t.modifiedtime&&(t.modifiedTime=t.modifiedtime,delete t.modifiedtime),t.properties&&(t.properties=void 0),d.components||(d.components=[]),d.components.push(t)}normalizeRobots(s,d){const g=[];if(s.robotTag)switch(s.robotTag){case Ll.PageRobots.INDEX_FOLLOW:g.push(Ma.INDEX),g.push(Ma.FOLLOW);break;case Ll.PageRobots.NOINDEX_FOLLOW:g.push(Ma.NOINDEX),g.push(Ma.FOLLOW);break;case Ll.PageRobots.INDEX_NOFOLLOW:g.push(Ma.INDEX),g.push(Ma.NOFOLLOW);break;case Ll.PageRobots.NOINDEX_NOFOLLOW:g.push(Ma.NOINDEX),g.push(Ma.NOFOLLOW)}d.robots=g}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Do=(()=>{class i{constructor(s){this.unifiedInjector=s,this.subscriptions=new ne.w,this.converters=new Map;const d=this.unifiedInjector.injectors$.pipe((0,Vt.b)(()=>this.converters.clear()));this.subscriptions.add(d.subscribe())}getConverters(s){if(!this.converters.has(s)){const d=Sh(this.unifiedInjector.getMulti(s));d&&this.converters.set(s,d)}return this.converters.get(s)}hasConverters(s){const d=this.getConverters(s);return Array.isArray(d)&&d.length>0}pipeable(s){return this.hasConverters(s)?(0,Ne.U)(d=>this.convertSource(d,s)):d=>d}pipeableMany(s){return this.hasConverters(s)?(0,Ne.U)(d=>this.convertMany(d,s)):d=>d}convert(s,d){return this.hasConverters(d)?this.convertSource(s,d):s}convertMany(s,d){return this.hasConverters(d)&&Array.isArray(s)?s.map(g=>this.convertSource(g,d)):s}convertSource(s,d){return this.getConverters(d)?.reduce((g,t)=>t.convert(s,g),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Y0=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g,this.headers=(new Ht.WM).set("Content-Type","application/json")}load(s,d){return this.http.get(this.getComponentEndPoint(s,d),{headers:this.headers}).pipe(this.converter.pipeable(S0))}findComponentsByIds(s,d,g="DEFAULT",t=0,o=s.length,c){const u={...this.getContextParams(d),...this.getPaginationParams(t,o,c)};return u.componentIds=s.toString(),this.http.get(this.getComponentsEndpoint(u,g),{headers:this.headers}).pipe((0,vt.j)("component"),(0,Ne.U)(f=>f??[]),this.converter.pipeableMany(S0))}getComponentEndPoint(s,d){return this.occEndpoints.buildUrl("component",{urlParams:{id:s},queryParams:this.getContextParams(d)})}getComponentsEndpoint(s,d){return this.occEndpoints.buildUrl("components",{queryParams:{fields:d,...s}})}getPaginationParams(s,d,g){const t={};return void 0!==s&&(t.currentPage=s.toString()),void 0!==d&&(t.pageSize=d.toString()),void 0!==g&&(t.sort=g),t}getContextParams(s){let d={};switch(s.type){case Xn.PRODUCT_PAGE:d={productCode:s.id};break;case Xn.CATEGORY_PAGE:d={categoryCode:s.id};break;case Xn.CATALOG_PAGE:d={catalogCode:s.id}}return d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dD=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g,this.headers=(new Ht.WM).set("Content-Type","application/json")}load(s){const d=this.getPagesRequestParams(s),g=s.type?this.occEndpoints.buildUrl("pages",{queryParams:d}):this.occEndpoints.buildUrl("page",{urlParams:{id:s.id}});return this.http.get(g,{headers:this.headers}).pipe(this.converter.pipeable(Zy))}getPagesRequestParams(s){if(s.id===Iy||s.id===wy)return{};const d={};return s.type&&(d.pageType=s.type),s.type===Xn.CONTENT_PAGE?d.pageLabelOrId=s.id:d.code=s.id,d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:ky,useExisting:dD},{provide:Zy,useExisting:sp,multi:!0},{provide:_y,useExisting:Y0}],imports:[Ot.ez]}),i})(),z0=(()=>{class i{convert(s,d){return void 0===d&&(d={...s}),d.active=this.normalizeBoolean(s.active),d}normalizeBoolean(s){return void 0!==s&&("string"==typeof s?"true"===s:s)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G_=(()=>{class i{convert(s,d){return void 0===d&&(d={...s}),d.activeFlag=s.active,delete d.active,d}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),W0=(()=>{class i{constructor(s){this.converter=s}convert(s,d){return void 0===d&&(d={...s}),d.values=s.costCenters.map(g=>({...this.converter.convert(g,U_)})),d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const dS={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}};let V_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:B_,useExisting:W0,multi:!0},{provide:U_,useExisting:z0,multi:!0},{provide:Pm,useExisting:G_,multi:!0}],imports:[Ot.ez,xl.withConfig(dS)]}),i})(),pS=(()=>{class i{constructor(s){this.config=s}convert(s,d){return void 0===d&&(d={...s}),s.images&&(d.images=this.normalize(s.images)),d}normalize(s){const d={};if(s)for(const g of s){const t=g.hasOwnProperty("galleryIndex");if(g.imageType){let o;if(d.hasOwnProperty(g.imageType)||(d[g.imageType]=t?[]:{}),t){const u=d[g.imageType];u[g.galleryIndex]||(u[g.galleryIndex]={}),o=u[g.galleryIndex]}else o=d[g.imageType];const c={...g};c.url=this.normalizeImageUrl(c.url??""),g.format&&(o[g.format]=c)}}return d}normalizeImageUrl(s){return new RegExp(/^(http|data:image|\/\/)/i).test(s)?s:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ns))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Nc=new e.OlP("ProductNormalizer");let fS=(()=>{class i{constructor(s){this.converterService=s,this.DEFAULT_TOP_VALUES=6}convert(s,d={}){return d={...d,...s},this.normalizeFacets(d),s.products&&(d.products=s.products.map(g=>this.converterService.convert(g,Nc))),d}normalizeFacets(s){this.normalizeFacetValues(s),this.normalizeUselessFacets(s)}normalizeUselessFacets(s){s.facets&&(s.facets=s.facets.filter(d=>!s.pagination||!s.pagination.totalResults||(!d.hasOwnProperty("visible")||d.visible)&&d.values&&d.values.find(g=>g.selected||(g.count??0)<(s.pagination?.totalResults??0))))}normalizeFacetValues(s){s.facets&&(s.facets=s.facets.map(d=>{const{topValues:g,...t}=d;return t.topValueCount=g&&g.length>0?g.length:this.DEFAULT_TOP_VALUES,t}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),K0=(()=>{class i{constructor(s){this.converter=s}convert(s,d=[]){return void 0===d&&(d={...s}),s&&s.references?d=s.references.map(g=>({...g,target:this.converter.convert(g.target,Nc)})):[]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Q0=(()=>{class i{constructor(s){this.config=s,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(s,d){return d=d??{...s},s.name&&(d.name=this.normalize(s.name),d.slug=this.normalizeSlug(s.name),d.nameHtml=s.name),d}normalize(s){return s.replace(/<[^>]*>/g,"")}normalizeSlug(s){return this.normalize(s).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ns))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hS=new e.OlP("ProductReferencesListNormalizer");let q0=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}load(s,d,g){return this.http.get(this.getEndpoint(s,d,g)).pipe(this.converter.pipeable(hS))}getEndpoint(s,d,g){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:s},queryParams:{referenceType:d,pageSize:g}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const gS=new e.OlP("ProductReviewNormalizer"),pD=new e.OlP("ProductReviewSerializer");let mS=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}load(s,d){return this.http.get(this.getEndpoint(s,d)).pipe((0,vt.j)("reviews"),(0,Ne.U)(g=>g??[]),this.converter.pipeableMany(gS))}post(s,d){d=this.converter.convert(d,pD);const g=new Ht.WM({"Content-Type":"application/x-www-form-urlencoded"}),t=new URLSearchParams;return t.append("headline",d.headline),t.append("comment",d.comment),t.append("rating",d.rating.toString()),t.append("alias",d.alias),this.http.post(this.getEndpoint(s),t.toString(),{headers:g})}getEndpoint(s,d){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:s},queryParams:{maxCount:d}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const vS=new e.OlP("ProductSearchPageNormalizer"),X0=new e.OlP("ProductSuggestionNormalizer"),fD={pageSize:20};let hD=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}search(s,d=fD){return this.http.get(this.getSearchEndpoint(s,d)).pipe(this.converter.pipeable(vS))}loadSuggestions(s,d=3){return this.http.get(this.getSuggestionEndpoint(s,d.toString())).pipe((0,vt.j)("suggestions"),(0,Ne.U)(g=>g??[]),this.converter.pipeableMany(X0))}getSearchEndpoint(s,d){return this.occEndpoints.buildUrl("productSearch",{queryParams:{query:s,...d}})}getSuggestionEndpoint(s,d){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:s,max:d}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function eA(i){return H_(_S(Er({},...i.map(d=>"string"==typeof d?Dh(d):d))))}function _S(i={}){const p=Object.keys(i);return p.includes("FULL")?(delete i.DEFAULT,delete i.BASIC):p.includes("DEFAULT")&&delete i.BASIC,Object.keys(i).forEach(s=>{i[s]=_S(i[s])}),i}function Dh(i,p=0){const s={};let d=p;for(;d<i.length;){if(","===i[d])d>p&&(s[i.substr(p,d-p)]={}),p=d+1;else if("("===i[d]){const g=Dh(i,d+1);if(!Array.isArray(g))return s;s[i.substr(p,d-p)]=g[0],d=(p=g[1])-1}else if(")"===i[d])return d>p&&(s[i.substr(p,d-p)]={}),[s,d+1];d++}return p<i.length&&(s[i.substr(p,d-p)]={}),s}function H_(i){return Object.keys(i).map(p=>{const s=H_(i[p]);return s?`${p}(${s})`:p}).join(",")}function CS(i,p){return $_(i,"string"==typeof p?Dh(p):p)}function $_(i,p){if(!Sr(i))return i;const s=Object.keys(p);if(0===s.length||s.find(g=>"BASIC"===g||"DEFAULT"===g||"FULL"===g))return i;const d={};return s.forEach(g=>{i.hasOwnProperty(g)&&(d[g]=$_(i[g],p[g]))}),d}let yS=(()=>{class i{constructor(s){this.http=s,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(s){const d={};for(const t of s){const[o,c]=this.splitFields(t.url??"");d[o]||(d[o]={}),t.fields=c?Dh(c):{},void 0!==t.scopedData.scope&&(d[o][t.scopedData.scope]=t)}const g={};for(const[t,o]of Object.entries(d))g[this.getUrlWithFields(t,Object.values(o).map(u=>u.fields))]=o;return g}splitFields(s){const[d,g]=s.split("?"),t={};g&&g.split("&").forEach(u=>{const f=u.split("=");t[f[0]]=f[1]});const c=Object.keys(t).sort().reduce((u,f)=>(f!==this.FIELDS_PARAM&&u.push(t[f]?`${f}=${t[f]}`:f),u),[]).join("&");return[c?`${d}?${c}`:d,t[this.FIELDS_PARAM]]}getUrlWithFields(s,d){const g=eA(d);return g&&(s+=s.includes("?")?"&":"?",s+=`${this.FIELDS_PARAM}=${g}`),s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SS=(()=>{class i{constructor(s,d){this.http=s,this.occFields=d}scopedDataLoad(s,d){const g=[];d||(d=o=>this.http.get(o));const t=this.occFields.getOptimalUrlGroups(s);return Object.entries(t).forEach(([o,c])=>{const u=Object.values(c);if(1===u.length)g.push({...u[0].scopedData,data$:d?.(o)});else{const f=d?.(o).pipe((0,nn.d)(1));u.forEach(m=>{g.push({...m.scopedData,data$:f?.pipe((0,Ne.U)(y=>CS(y,m.fields)))})})}}),g}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(yS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tA=(()=>{class i{constructor(s,d,g,t){this.http=s,this.occEndpoints=d,this.converter=g,this.requestsOptimizer=t}load(s,d){return this.http.get(this.getEndpoint(s,d)).pipe(this.converter.pipeable(Nc))}loadMany(s){const d=s.map(g=>({scopedData:g,url:this.getEndpoint(g.code,g.scope)}));return this.requestsOptimizer.scopedDataLoad(d).map(g=>({...g,data$:g.data$?.pipe(this.converter.pipeable(Nc))}))}getEndpoint(s,d){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:s},scope:d})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do),e.LFG(SS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class ES{}class AS{}class DS{}class ap{}const bS={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}};let TS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ho(bS),{provide:ES,useClass:tA},{provide:Nc,useExisting:pS,multi:!0},{provide:Nc,useExisting:Q0,multi:!0},{provide:AS,useClass:q0},{provide:hS,useExisting:K0,multi:!0},{provide:ap,useClass:hD},{provide:vS,useExisting:fS,multi:!0},{provide:DS,useClass:mS}],imports:[Ot.ez]}),i})(),MS=(()=>{class i{constructor(){}convert(s,d){return void 0===d&&(d={...s}),d.baseStore=s.stores?.[0],delete d.stores,d}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xS=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpointsService=d,this.converterService=g}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe((0,Ne.U)(s=>s.languages??[]),this.converterService.pipeableMany(bl))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe((0,Ne.U)(s=>s.currencies??[]),this.converterService.pipeableMany(Vv))}loadCountries(s){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:s?{type:s}:void 0})).pipe((0,Ne.U)(d=>d.countries??[]),this.converterService.pipeableMany(nh))}loadRegions(s){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:s}})).pipe((0,Ne.U)(d=>d.regions??[]),this.converterService.pipeableMany(sm))}loadBaseSite(s){return s||(s=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,Ne.U)(d=>d.baseSites.find(g=>g.uid===s)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,Ne.U)(s=>s.baseSites),this.converterService.pipeableMany(am))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const IS={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=baseSites(uid,defaultLanguage(isocode),urlEncodingAttributes,urlPatterns,stores(currencies(isocode),defaultCurrency(isocode),languages(isocode),defaultLanguage(isocode)),theme,defaultPreviewCatalogId,defaultPreviewCategoryCode,defaultPreviewProductCode)"}}}};let wS=(()=>{class i{constructor(s,d,g,t){this.languageService=s,this.currencyService=d,this.occEndpoints=g,this.config=t,this.activeLang=Ba(this.config,la),this.activeCurr=Ba(this.config,Ga),this.languageService.getActive().subscribe(o=>this.activeLang=o),this.currencyService.getActive().subscribe(o=>{this.activeCurr=o})}intercept(s,d){return s.url.includes(this.occEndpoints.getBaseUrl())&&(s=s.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),d.handle(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ka),e.LFG(Su),e.LFG(co),e.LFG(ks))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nA=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ho(IS),{provide:Dl,useClass:xS},{provide:Ht.TP,useExisting:wS,multi:!0},{provide:am,useExisting:MS,multi:!0}],imports:[Ot.ez]}),i})(),gD=(()=>{class i{constructor(s){this.anonymousConsentsService=s}convert(s){return this.anonymousConsentsService.decodeAndDeserialize(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ou))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),RS=(()=>{class i{constructor(s){this.converter=s}convert(s,d){return void 0===d&&(d={...s}),s&&s.results&&(d.results=s.results.map(g=>({...g,product:this.converter.convert(g.product,Nc)}))),d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Om=new e.OlP("ConsentTemplateNormalizer");let PS=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}loadAnonymousConsentTemplates(){const s=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(s).pipe((0,me.K)(d=>(0,q._)(d)),(0,Ne.U)(d=>d.consentTemplates??[]),this.converter.pipeableMany(Om))}loadAnonymousConsents(){const s=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(s,{observe:"response"}).pipe((0,me.K)(d=>(0,q._)(d)),(0,Ne.U)(d=>d.headers.get(ce)??""),this.converter.pipeable(u_))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const rA=new e.OlP("CustomerCouponSearchResultNormalizer");let oA=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}getCustomerCoupons(s,d,g,t){if(s===Ua)return(0,S.of)({});const o=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:s}});let c=(new Ht.LE).set("sort",t||"startDate:asc");d&&(c=c.set("pageSize",d.toString())),g&&(c=c.set("currentPage",g.toString()));const u=this.newHttpHeader();return this.http.get(o,{headers:u,params:c}).pipe(this.converter.pipeable(rA))}turnOffNotification(s,d){const g=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:s,couponCode:d}}),t=this.newHttpHeader();return this.http.delete(g,{headers:t})}turnOnNotification(s,d){const g=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:s,couponCode:d}}),t=this.newHttpHeader();return this.http.post(g,{headers:t})}claimCustomerCoupon(s,d){const g=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:s,couponCode:d}}),t=this.newHttpHeader();return this.http.post(g,{headers:t})}newHttpHeader(){return new Ht.WM({"Content-Type":"application/json"})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const Fl=new e.OlP("AddressNormalizer"),OS=new e.OlP("AddressesNormalizer"),cp=new e.OlP("AddressSerializer"),rc=new e.OlP("AddressValidationNormalizer");let iA=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}loadAll(s){const d=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:s}}),g=new Ht.WM({"Content-Type":"application/json"});return this.http.get(d,{headers:g}).pipe((0,me.K)(t=>(0,q._)(t)),(0,Ne.U)(t=>t.addresses??[]),this.converter.pipeableMany(Fl))}add(s,d){const g=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:s}}),t=new Ht.WM({"Content-Type":"application/json"});return d=this.converter.convert(d,cp),this.http.post(g,d,{headers:t}).pipe((0,me.K)(o=>(0,q._)(o)))}update(s,d,g){const t=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:s,addressId:d}}),o=new Ht.WM({"Content-Type":"application/json"});return g=this.converter.convert(g,cp),this.http.patch(t,g,{headers:o}).pipe((0,me.K)(c=>(0,q._)(c)))}verify(s,d){const g=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:s}});let t=new Ht.WM({"Content-Type":"application/json"});return s===Ua&&(t=iu.createHeader(td,!0,t)),d=this.converter.convert(d,cp),this.http.post(g,d,{headers:t}).pipe((0,me.K)(o=>(0,q._)(o)),this.converter.pipeable(rc))}delete(s,d){const g=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:s,addressId:d}}),t=new Ht.WM({"Content-Type":"application/json"});return this.http.delete(g,{headers:t}).pipe((0,me.K)(o=>(0,q._)(o)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),j_=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}loadConsents(s){const d=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:s}}),g=new Ht.WM({"Cache-Control":"no-cache"});return this.http.get(d,{headers:g}).pipe((0,me.K)(t=>(0,q._)(t)),(0,Ne.U)(t=>t.consentTemplates??[]),this.converter.pipeableMany(Om))}giveConsent(s,d,g){const t=this.occEndpoints.buildUrl("consents",{urlParams:{userId:s}}),o=(new Ht.LE).set("consentTemplateId",d).set("consentTemplateVersion",g.toString()),c=new Ht.WM({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(t,o,{headers:c}).pipe((0,me.K)(u=>(0,q._)(u)),this.converter.pipeable(Om))}withdrawConsent(s,d){const g=new Ht.WM({"Cache-Control":"no-cache"}),t=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:s,consentId:d}});return this.http.delete(t,{headers:g})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const up=new e.OlP("ProductInterestsNormalizer"),LS=new Ht.WM({"Content-Type":"application/json"});let sA=(()=>{class i{constructor(s,d,g,t){this.http=s,this.occEndpoints=d,this.config=g,this.converter=t}getInterests(s,d,g,t,o,c){let u=(new Ht.LE).set("sort",t||"name:asc");return d&&(u=u.set("pageSize",d.toString())),g&&(u=u.set("currentPage",g.toString())),o&&(u=u.set("productCode",o)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:s}}),{headers:LS,params:u}).pipe(this.converter.pipeable(up),(0,me.K)(f=>(0,q._)(f)))}removeInterest(s,d){const g=[];return d.productInterestEntry?.forEach(t=>{const o=(new Ht.LE).set("productCode",d.product?.code??"").set("notificationType",t.interestType);g.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:s}}),{params:o}).pipe((0,me.K)(c=>(0,q._)(c))))}),(0,Ce.D)(g)}addInterest(s,d,g){const t=(new Ht.LE).set("productCode",d).set("notificationType",g.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:s}}),{},{headers:LS,params:t}).pipe((0,me.K)(o=>(0,q._)(o)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Ns),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const aA=new e.OlP("NotificationPreferenceSerializer"),Lm=new e.OlP("NotificationPreferenceNormalizer");class bh{}let cA=(()=>{class i{constructor(s){this.adapter=s}loadAll(s){return this.adapter.loadAll(s)}update(s,d){return this.adapter.update(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(bh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FS=new Ht.WM({"Content-Type":"application/json"});let kS=(()=>{class i{constructor(s,d,g){this.http=s,this.converter=d,this.occEndpoints=g}loadAll(s){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:s}}),{headers:FS}).pipe((0,Ne.U)(d=>d.preferences??[]),this.converter.pipeableMany(Lm),(0,me.K)(d=>(0,q._)(d)))}update(s,d){return d=this.converter.convert(d,aA),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:s}}),{preferences:d},{headers:FS}).pipe((0,me.K)(g=>(0,q._)(g)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(Do),e.LFG(co))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),NS=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}loadAll(s){const d=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:s}})+"?saved=true",g=new Ht.WM({"Content-Type":"application/json"});return this.http.get(d,{headers:g}).pipe((0,me.K)(t=>(0,q._)(t)),(0,Ne.U)(t=>t.payments??[]),this.converter.pipeableMany(l_))}delete(s,d){const g=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:s,paymentDetailId:d}}),t=new Ht.WM({"Content-Type":"application/json"});return this.http.delete(g,{headers:t}).pipe((0,me.K)(o=>(0,q._)(o)))}setDefault(s,d){const g=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:s,paymentDetailId:d}}),t=new Ht.WM({"Content-Type":"application/json"});return this.http.patch(g,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:t}).pipe((0,me.K)(o=>(0,q._)(o)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class Fm{}class Z_{}class US{}class BS{}class uA{}class km{}let Y_=(()=>{class i{constructor(s){this.converter=s}convert(s,d){return void 0===d&&(d={...s}),d.values=s.addresses?.map(g=>({...this.converter.convert(g,Fl)}))??[],d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const GS={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}};let z_=(()=>{class i{constructor(s,d,g){this.http=s,this.occEndpoints=d,this.converter=g}loadActiveList(s){return this.http.get(this.getCostCentersEndpoint(s)).pipe(this.converter.pipeable(B_))}getCostCentersEndpoint(s,d){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:s},queryParams:d})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ht.eN),e.LFG(co),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),W_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ho(GS),{provide:Fm,useClass:iA},{provide:Z_,useClass:j_},{provide:kv,useClass:PS},{provide:km,useClass:NS},{provide:BS,useClass:oA},{provide:bh,useClass:kS},{provide:uA,useClass:sA},{provide:US,useClass:z_},{provide:up,useExisting:RS,multi:!0},{provide:u_,useExisting:gD,multi:!0},{provide:OS,useExisting:Y_,multi:!0}],imports:[Ot.ez]}),i})();const lA={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function dA(i){if(void 0===i.backend||void 0===i.backend.occ||void 0===i.backend.occ.baseUrl)return"Please configure backend.occ.baseUrl before using storefront library!"}let pA=(()=>{class i{constructor(s){this.config=s}intercept(s,d){return this.requiresWithCredentials(s)&&(s=s.clone({withCredentials:!0})),d.handle(s)}requiresWithCredentials(s){return void 0!==this.occConfig?.useWithCredentials&&s.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ns))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:Ht.TP,useExisting:pA,multi:!0},ho(lA),Ha(dA)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[uS,nA]}),i})();function jS(i){const p=YS("occ-backend-base-url",i);return p&&"OCC_BACKEND_BASE_URL_VALUE"!==p?{backend:{occ:{baseUrl:p}}}:{}}function ZS(i){const p=YS("media-backend-base-url",i);return p&&"MEDIA_BACKEND_BASE_URL_VALUE"!==p?{backend:{media:{baseUrl:p}}}:{}}function YS(i,p){const s=p.getTag(`name="${i}"`);return s&&s.content}let WS=(()=>{class i{static forRoot(){return{ngModule:i,providers:[As(jS,[In.h_]),As(ZS,[In.h_])]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),hA=(()=>{class i{constructor(s){this.config=s}expand(s,d){const g=this.config?.backend?.loadingScopes?.[s];if(g){const t=[...d];let o=t.length;for(;o>0;){o--;const c=g[t[o]]?.include;if(c)for(const u of c)t.includes(u)||(t.splice(o,0,u),o++)}return t}return d}getMaxAge(s,d){return 1e3*(this.config.backend?.loadingScopes?.[s]?.[d]?.maxAge??0)}getReloadTriggers(s,d){return this.config.backend?.loadingScopes?.[s]?.[d]?.reloadOn??[]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ns))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const K_=new e.OlP("ProcessReducers"),Zi={provide:K_,useFactory:function JS(){return Ri(ar)}};let lp=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Zi],imports:[Vs,h.Aw.forFeature(ar,K_)]}),i})(),gA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[lp]}),i})(),KS=(()=>{class i{constructor(s){this.adapter=s}get(s,d=""){return this.adapter.load(s,d)}getMany(s){return this.adapter.loadMany?this.adapter.loadMany(s):s.map(d=>({...d,data$:this.adapter.load(d.code,d.scope)}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ES))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mD=(()=>{class i{constructor(s){this.adapter=s}get(s,d,g){return this.adapter.load(s,d,g)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(AS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vD=(()=>{class i{constructor(s){this.adapter=s}get(s,d){return this.adapter.load(s,d)}add(s,d){return this.adapter.post(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(DS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Q_=(()=>{class i{constructor(s){this.adapter=s}search(s,d){return this.adapter.search(s,d)}getSuggestions(s,d){return this.adapter.loadSuggestions(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ap))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),q_=(()=>{class i extends _a{}return i.type="FacetChangedEvent",i})();const kl="[Product] Load Product References Data",Th="[Product] Load Product References Data Success",X_="[Product] Clean Product References";class eC{constructor(p){this.payload=p,this.type=kl}}class qS{constructor(p){this.payload=p,this.type="[Product] Load Product References Data Fail"}}class XS{constructor(p){this.payload=p,this.type=Th}}class eE{constructor(){this.type=X_}}const Mh="[Product] Load Product Reviews Data",Nm="[Product] Load Product Reviews Data Success",dp="[Product] Post Product Review",tE="[Product] Post Product Review Success";class nC{constructor(p){this.payload=p,this.type=Mh}}class nE{constructor(p){this.payload=p,this.type="[Product] Load Product Reviews Data Fail"}}class rC{constructor(p){this.payload=p,this.type=Nm}}class Nl{constructor(p){this.payload=p,this.type=dp}}class rE{constructor(p){this.payload=p,this.type="[Product] Post Product Review Fail"}}class oC{constructor(p){this.payload=p,this.type=tE}}const xh="[Product] Search Products",iC="[Product] Search Products Success",oE="[Product] Get Product Suggestions",sC="[Product] Get Product Suggestions Success",aC="[Product] Clear Product Search Result";class Bm{constructor(p,s){this.payload=p,this.auxiliary=s,this.type=xh}}class cC{constructor(p,s){this.payload=p,this.auxiliary=s,this.type="[Product] Search Products Fail"}}class sE{constructor(p,s){this.payload=p,this.auxiliary=s,this.type=iC}}class uC{constructor(p){this.payload=p,this.type=oE}}class Gm{constructor(p){this.payload=p,this.type=sC}}class aE{constructor(p){this.payload=p,this.type="[Product] Get Product Suggestions Fail"}}class lC{constructor(p={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=p,this.type=aC}}var Ul;!function(i){function p(f,m,y){return{...Ms(f,m),scope:y}}function s(f,m,y,D){return{...xi(f,m,D),scope:y}}function d(f,m,y){return{...Oa(f,m),scope:y}}function g(f,m,y){return{...Ii(f,m),scope:y}}i.entityScopedLoadMeta=p,i.entityScopedFailMeta=s,i.entityScopedSuccessMeta=d,i.entityScopedResetMeta=g,i.EntityScopedLoadAction=class t{constructor(m,y,D){this.type=wa,this.meta=p(m,y,D)}},i.EntityScopedFailAction=class o{constructor(m,y,D,x){this.type=Ra,this.meta=s(m,y,D,x)}},i.EntityScopedSuccessAction=class c{constructor(m,y,D,x){this.payload=x,this.type=Ts,this.meta=d(m,y,D)}},i.EntityScopedResetAction=class u{constructor(m,y,D){this.type=Pa,this.meta=g(m,y,D)}}}(Ul||(Ul={}));const dC="product",pp="[Product] Detail Entity",Ih="[Product] Load Product Data",Vm="[Product] Load Product Data Fail",Hm="[Product] Load Product Data Success";class uE extends Ul.EntityScopedLoadAction{constructor(p,s=""){super(pp,p,s),this.payload=p,this.type=Ih}}class lE extends Ul.EntityScopedFailAction{constructor(p,s,d=""){super(pp,p,d,s),this.payload=s,this.type=Vm}}class pC extends Ul.EntityScopedSuccessAction{constructor(p,s=""){super(pp,p.code??"",s),this.payload=p,this.type=Hm}}class vA extends Ul.EntityScopedResetAction{constructor(){super(pp,void 0,"price"),this.type="[Product] Clear Product PRICE"}}const $m=(0,h.ZF)(dC),_A=(0,h.P1)($m,i=>i.references),yA=(0,h.P1)($m,i=>i.reviews),_D={results:{},suggestions:[],auxResults:{}};function jm(i=_D,p){switch(p.type){case iC:{const s=p.payload,d=p.auxiliary?{auxResults:s}:{results:s};return{...i,...d}}case sC:{const s=p.payload;return{...i,suggestions:s}}case aC:return{...i,results:p.payload.clearPageResults?{}:i.results,suggestions:p.payload.clearSearchboxResults?[]:i.suggestions,auxResults:p.payload.clearSearchboxResults?{}:i.auxResults}}return i}const wh=(0,h.P1)($m,i=>i.search),fC=(0,h.P1)(wh,i=>i.results),EA=(0,h.P1)(wh,i=>i.auxResults),Ym=(0,h.P1)(wh,i=>i.suggestions),zm=(0,h.P1)($m,i=>i.details),fp=(i,p="")=>(0,h.P1)(zm,s=>_o(s,i)[p]||vo),pE=(i,p="")=>(0,h.P1)(fp(i,p),s=>so(s));(0,h.P1)(zm,i=>Object.keys(i.entities));let hp=(()=>{class i{constructor(s){this.store=s}search(s,d){s&&this.store.dispatch(new Bm({queryText:s,searchConfig:d}))}getResults(){return this.store.pipe((0,h.Ys)(fC))}clearResults(){this.store.dispatch(new lC({clearPageResults:!0}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yD=(()=>{class i{constructor(s,d){this.eventService=s,this.productSearchService=d,this.register()}register(){this.eventService.register(q_,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe((0,wt.G)(),(0,ft.h)(([s,d])=>this.compareSearchResults(s,d)),(0,Ne.U)(([s,d])=>{const g=this.getToggledBreadcrumb(d.breadcrumbs,s.breadcrumbs)||this.getToggledBreadcrumb(s.breadcrumbs,d.breadcrumbs);if(g)return hs(q_,{code:g.facetCode,name:g.facetName,valueCode:g.facetValueCode,valueName:g.facetValueName,selected:d.breadcrumbs&&s.breadcrumbs&&d.breadcrumbs.length>s.breadcrumbs.length})}))}compareSearchResults(s,d){if(s&&0!==Object.keys(s).length){const t="allCategories"===d.breadcrumbs?.[0]?.facetCode&&s.breadcrumbs?.[0]?.facetCode===d.breadcrumbs[0]?.facetCode&&s.breadcrumbs[0].facetValueCode===d.breadcrumbs[0].facetValueCode;return""!==s.freeTextSearch&&s.freeTextSearch===d.freeTextSearch||t}return!1}getToggledBreadcrumb(s,d){if(s&&d&&s.length-d.length==1)return s.find(g=>!d.find(t=>t.facetCode===g.facetCode&&t.facetValueCode===g.facetValueCode))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($a),e.LFG(hp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SD=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(yD))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const bD=[(()=>{class i{constructor(s,d){this.actions$=s,this.productSearchConnector=d,this.searchProducts$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(xh),(0,en.v)(g=>g.auxiliary),(0,We.zg)(g=>g.pipe((0,qe.w)(t=>this.productSearchConnector.search(t.payload.queryText,t.payload.searchConfig).pipe((0,Ne.U)(o=>new sE(o,t.auxiliary)),(0,me.K)(o=>(0,S.of)(new cC(Zn(o),t.auxiliary))))))))),this.getProductSuggestions$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(oE),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.productSearchConnector.getSuggestions(g.term,g.searchConfig?.pageSize).pipe((0,Ne.U)(t=>new Gm(void 0===t?[]:t)),(0,me.K)(t=>(0,S.of)(new aE(Zn(t))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Q_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.productConnector=d,this.contextChange$=this.actions$.pipe((0,dt.l4)(uu,fa)),this.loadProduct$=(0,dt.GW)(()=>({scheduler:g,debounce:t=0}={})=>this.actions$.pipe((0,dt.l4)(Ih),(0,Ne.U)(o=>({code:o.payload,scope:o.meta.scope})),my(t,g),(0,We.zg)(o=>(0,we.T)(...this.productConnector.getMany(o).map(this.productLoadEffect))),bm(this.contextChange$))),this.clearProductPrice$=this.actions$.pipe((0,dt.l4)(Pi,us),(0,Ne.U)(()=>new vA))}productLoadEffect(s){return s.data$?.pipe((0,Ne.U)(d=>new pC({code:s.code,...d},s.scope)),(0,me.K)(d=>(0,S.of)(new lE(s.code,Zn(d),s.scope))))??(0,S.of)(new lE(s.code,"Scoped product data does not exist",s.scope))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(KS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),(0,xo.gn)([(0,dt.Qm)()],i.prototype,"clearProductPrice$",void 0),i})(),(()=>{class i{constructor(s,d,g){this.actions$=s,this.productReviewsConnector=d,this.globalMessageService=g,this.loadProductReviews$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Mh),(0,Ne.U)(t=>t.payload),(0,We.zg)(t=>this.productReviewsConnector.get(t).pipe((0,Ne.U)(o=>new rC({productCode:t,list:o})),(0,me.K)(o=>(0,S.of)(new nE({message:t}))))))),this.postProductReview=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(dp),(0,Ne.U)(t=>t.payload),(0,We.zg)(t=>this.productReviewsConnector.add(t.productCode,t.review).pipe((0,Ne.U)(o=>new oC(o)),(0,me.K)(o=>(0,S.of)(new rE(t.productCode))))))),this.showGlobalMessageOnPostProductReviewSuccess$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(tE),(0,Vt.b)(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},tr.MSG_TYPE_CONFIRMATION)})),{dispatch:!1})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(vD),e.LFG(fu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.productReferencesConnector=d,this.loadProductReferences$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(kl),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.productReferencesConnector.get(g.productCode,g.referenceType,g.pageSize).pipe((0,Ne.U)(t=>new XS({productCode:g.productCode,list:t})),(0,me.K)(t=>(0,S.of)(new qS({message:g.productCode})))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(mD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],bA={};const TA={productCode:"",list:[]};function xa(i=TA,p){switch(p.type){case Th:{const s=p.payload.productCode,d=p.payload.list;return{...i,list:[...i.list,...d||[]].reduce((g,t)=>(g.some(o=>o.referenceType===t.referenceType&&o.target?.code===t.target?.code)||g.push(t),g),[]),productCode:s}}case X_:return TA}return i}const MA={productCode:"",list:[]};function Ks(i=MA,p){if(p.type===Nm){const s=p.payload.productCode,d=p.payload.list;return{...i,productCode:s,list:d}}return i}const _E=new e.OlP("ProductReducers"),mC={provide:_E,useFactory:function xA(){return{search:jm,details:(i=pp,xs(i,function hE(i,p){const s=Zr(i,p);return(d=bA,g)=>g&&g.meta&&g.meta.entityType===i?{...d,[g.meta.scope??""]:s(d[g.meta.scope??""],g)}:d}(i,p))),reviews:Ks,references:xa};var i,p}},yE=[function CE(i){return function(p,s){return(s.type===uu||s.type===fa)&&(p=void 0),i(p,s)}}];let IA=(()=>{class i{constructor(s){this.store=s}loadProductReferences(s,d,g){this.store.dispatch(new eC({productCode:s,referenceType:d,pageSize:g}))}getProductReferences(s,d){return this.store.pipe((0,h.Ys)(((i,p)=>(0,h.P1)(_A,s=>s.productCode===i&&s.list?p?s.list.filter(d=>d.referenceType===p):s.list:[]))(s,d)))}cleanReferences(){this.store.dispatch(new eE)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SE=(()=>{class i{constructor(s){this.store=s}getByProductCode(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(yA,p=>{if(p.productCode===i)return p.list}))(s)),(0,Vt.b)(d=>{void 0===d&&void 0!==s&&this.store.dispatch(new nC(s))}),(0,Ne.U)(d=>d??[]))}add(s,d){this.store.dispatch(new Nl({productCode:s,review:d}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),EE=(()=>{class i{constructor(s,d,g,t,o){this.store=s,this.loadingScopes=d,this.actions$=g,this.platformId=t,this.eventService=o,this.products={}}get(s,d){return d=this.loadingScopes.expand("product",d),this.initProductScopes(s,d),this.products[s][this.getScopesIndex(d)]}initProductScopes(s,d){this.products[s]||(this.products[s]={});for(const g of d)this.products[s][g]||(this.products[s][g]=this.getProductForScope(s,g));d.length>1&&(this.products[s][this.getScopesIndex(d)]=P_(d.map(g=>this.products[s][g])).pipe((0,Ne.U)(g=>g.every(Boolean)?Er({},...g):void 0),(0,Jt.x)()))}getScopesIndex(s){return s.join("\u0275")}getProductForScope(s,d){const g=this.store.pipe((0,h.Ys)(fp(s,d)),(0,Ne.U)(u=>!u.loading&&!u.success&&!u.error),(0,Jt.x)(),(0,ft.h)(u=>u)),t=this.store.pipe((0,h.Ys)(pE(s,d))),o=(0,we.T)(g,...this.getProductReloadTriggers(s,d)).pipe((0,an.b)(0),(0,Xt.M)(t),(0,Vt.b)(([,u])=>{u||this.store.dispatch(new uE(s,d))})),c=this.store.pipe((0,h.Ys)(((i,p="")=>(0,h.P1)(fp(i,p),s=>zr(s)))(s,d)));return(0,Ee.g)(()=>o.subscribe(),()=>c).pipe((0,nn.d)({bufferSize:1,refCount:!0}))}getProductReloadTriggers(s,d){const g=[],t=this.loadingScopes.getMaxAge("product",d);if(t&&(0,Ot.NF)(this.platformId)){const c=this.actions$.pipe((0,dt.l4)(Hm,Vm),(0,ft.h)(f=>f.meta.entityId===s&&f.meta.scope===d)),u=this.actions$.pipe((0,dt.l4)(Ih),(0,ft.h)(f=>f.payload===s&&f.meta.scope===d));g.push(this.getMaxAgeTrigger(u,c,t))}const o=this.loadingScopes.getReloadTriggers("product",d).map(c=>this.eventService.get(c));return g.concat(o)}getMaxAgeTrigger(s,d,g,t){let o=0;const c=()=>t?t.now():Date.now(),u=d.pipe((0,Vt.b)(()=>o=c()));return(0,B.P)(()=>{const m=c()-o,y=u.pipe((0,vn.g)(g,t),(0,Ke.h)(!0),bm(s));return m>g?(0,we.T)((0,S.of)(!0),y):0===m?y:(0,we.T)((0,S.of)(!0).pipe((0,vn.g)(g-m,t)),y)})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(hA),e.LFG(dt.eX),e.LFG(e.Lbi),e.LFG($a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AE=(()=>{class i{constructor(s,d){this.store=s,this.productLoading=d}get(s,d=Gu){return s?this.productLoading.get(s,[].concat(d)):(0,S.of)(void 0)}isLoading(s,d=""){return this.store.pipe((0,h.Ys)(pE(s,d)))}isSuccess(s,d=""){return this.store.pipe((0,h.Ys)(((i,p="")=>(0,h.P1)(fp(i,p),s=>ni(s)))(s,d)))}hasError(s,d=""){return this.store.pipe((0,h.Ys)(((i,p="")=>(0,h.P1)(fp(i,p),s=>Io(s)))(s,d)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(EE))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),DE=(()=>{class i extends hp{search(s,d){this.store.dispatch(new Bm({queryText:s,searchConfig:d},!0))}getResults(){return this.store.pipe((0,h.Ys)(EA))}clearResults(){this.store.dispatch(new lC({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe((0,h.Ys)(Ym))}searchSuggestions(s,d){this.store.dispatch(new uC({term:s,searchConfig:d}))}}return i.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(i)))(d||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wA=(()=>{class i extends Ss{constructor(s,d,g,t){super(),this.productSearchService=s,this.cms=d,this.translation=g,this.basePageMetaResolver=t,this.searchPage$=this.cms.getCurrentPage().pipe((0,ft.h)(o=>Boolean(o)),(0,qe.w)(o=>this.hasProductListComponent(o)?this.productSearchService.getResults().pipe((0,ft.h)(c=>Boolean(c))):(0,S.of)(o))),this.pageType=Xn.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe((0,ft.h)(s=>!!s.pagination),(0,qe.w)(s=>this.translation.translate("pageMetaResolver.category.title",{count:s.pagination?.totalResults,query:s.breadcrumbs?.length?s.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return(0,G.aj)([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe((0,Ne.U)(([s,d])=>s.breadcrumbs?this.resolveBreadcrumbData(s,d):[]))}resolveBreadcrumbData(s,d){const g=[];g.push({label:d,link:"/"});for(const t of s.breadcrumbs??[])t.facetValueName&&(("category"===t.facetCode||"allCategories"===t.facetCode)&&g.push({label:t.facetValueName,link:`/c/${t.facetValueCode}`}),"brand"===t.facetCode&&g.push({label:t.facetValueName,link:`/Brands/${t.facetValueName}/c/${t.facetValueCode}`}));return g}hasProductListComponent(s){return!!Object.keys(s.slots||{}).find(d=>!!s.slots?.[d].components?.find(g=>"CMSProductListComponent"===g.typeCode||"ProductGridComponent"===g.typeCode))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hp),e.LFG(op),e.LFG(nc),e.LFG(vh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vC=(()=>{class i extends Ss{constructor(s,d,g,t,o){super(),this.productSearchService=s,this.translation=d,this.authService=g,this.route=t,this.semanticPathService=o,this.total$=this.productSearchService.getResults().pipe((0,ft.h)(c=>!!c?.pagination),(0,Ne.U)(c=>c.pagination?.totalResults??0)),this.pageType=Xn.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return(0,G.aj)([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe((0,Ne.U)(([s,d,g])=>{const t=[];return t.push({label:s,link:"/"}),g&&t.push({label:d,link:this.semanticPathService.transform({cxRoute:"coupons"})}),t}))}resolveTitle(){return this.total$.pipe((0,qe.w)(s=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:s,coupon:this.couponCode})))}getScore(s){return super.getScore(s)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hp),e.LFG(nc),e.LFG(Qi),e.LFG(ln.gz),e.LFG(ru))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xu=(()=>{class i extends Ss{constructor(s,d,g,t,o){super(),this.routingService=s,this.productService=d,this.translation=g,this.basePageMetaResolver=t,this.pageLinkService=o,this.product$=this.routingService.getRouterState().pipe((0,Ne.U)(c=>c.state.params.productCode),(0,ft.h)(c=>!!c),(0,qe.w)(c=>this.productService.get(c,"details")),(0,ft.h)(Fi)),this.pageType=Xn.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe((0,qe.w)(s=>this.translation.translate("pageMetaResolver.product.heading",{heading:s.name})))}resolveTitle(){return this.product$.pipe((0,qe.w)(s=>{let d=s.name;return d+=this.resolveFirstCategory(s),d+=this.resolveManufacturer(s),this.translation.translate("pageMetaResolver.product.title",{title:d})}))}resolveDescription(){return this.product$.pipe((0,qe.w)(s=>this.translation.translate("pageMetaResolver.product.description",{description:s.summary})))}resolveBreadcrumbs(){return(0,G.aj)([this.product$.pipe(),this.translation.translate("common.home")]).pipe((0,Ne.U)(([s,d])=>{const g=[];g.push({label:d,link:"/"});for(const{name:t,code:o,url:c}of s.categories||[])g.push({label:t||o,link:c});return g}))}resolveImage(){return this.product$.pipe((0,Ne.U)(s=>s.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(s){const d=s?.categories?.[0];return d?` | ${d.name||d.code}`:""}resolveManufacturer(s){return s.manufacturer?` | ${s.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe((0,qe.w)(s=>this.findBaseProduct(s)),(0,Ne.U)(s=>{const d=this.routingService.getFullUrl({cxRoute:"product",params:s});return this.pageLinkService.getCanonicalUrl({},d)}))}findBaseProduct(s){return s?.baseProduct?this.productService.get(s.baseProduct,"list").pipe((0,ft.h)(Fi),(0,qe.w)(d=>this.findBaseProduct(d))):(0,S.of)(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Us),e.LFG(AE),e.LFG(nc),e.LFG(vh),e.LFG(fy))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bE=(()=>{class i extends Ss{constructor(s,d,g,t){super(),this.routingService=s,this.productSearchService=d,this.translation=g,this.basePageMetaResolver=t,this.total$=this.productSearchService.getResults().pipe((0,ft.h)(o=>!!o?.pagination),(0,Ne.U)(o=>o.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe((0,Ne.U)(o=>o.state.params.query)),this.pageType=Xn.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){return(0,G.aj)([this.total$,this.query$]).pipe((0,qe.w)(([d,g])=>this.translation.translate("pageMetaResolver.search.default_title").pipe((0,We.zg)(t=>this.translation.translate("pageMetaResolver.search.title",{count:d,query:g||t})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Us),e.LFG(hp),e.LFG(nc),e.LFG(vh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _C(){return{state:{ssrTransfer:{keys:{[dC]:Po.TRANSFER_STATE}}}}}let Uc=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Yi(_C),mC],imports:[Ot.ez,h.Aw.forFeature(dC,_E,{metaReducers:yE}),dt.sQ.forFeature(bD)]}),i})();const RA=[{provide:Ss,useExisting:xu,multi:!0},{provide:Ss,useExisting:wA,multi:!0},{provide:Ss,useExisting:bE,multi:!0},{provide:Ss,useExisting:vC,multi:!0}];let xD=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...RA]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Uc,SD]}),i})(),TE=(()=>{class i{constructor(s){this.adapter=s}getAll(s){return this.adapter.loadAll(s)}add(s,d){return this.adapter.add(s,d)}update(s,d,g){return this.adapter.update(s,d,g)}verify(s,d){return this.adapter.verify(s,d)}delete(s,d){return this.adapter.delete(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Fm))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PA=(()=>{class i{constructor(s){this.adapter=s}loadConsents(s){return this.adapter.loadConsents(s)}giveConsent(s,d,g){return this.adapter.giveConsent(s,d,g)}withdrawConsent(s,d){return this.adapter.withdrawConsent(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Z_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),OA=(()=>{class i{constructor(s){this.adapter=s}getActiveList(s){return this.adapter.loadActiveList(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(US))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LA=(()=>{class i{constructor(s){this.adapter=s}getCustomerCoupons(s,d,g,t){return this.adapter.getCustomerCoupons(s,d,g,t)}turnOnNotification(s,d){return this.adapter.turnOnNotification(s,d)}turnOffNotification(s,d){return this.adapter.turnOffNotification(s,d)}claimCustomerCoupon(s,d){return this.adapter.claimCustomerCoupon(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(BS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ME=(()=>{class i{constructor(s){this.adapter=s}getInterests(s,d,g,t,o,c){return this.adapter.getInterests(s,d,g,t,o,c)}removeInterest(s,d){return this.adapter.removeInterest(s,d)}addInterest(s,d,g){return this.adapter.addInterest(s,d,g)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(uA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ID=(()=>{class i{constructor(s){this.adapter=s}getAll(s){return this.adapter.loadAll(s)}delete(s,d){return this.adapter.delete(s,d)}setDefault(s,d){return this.adapter.setDefault(s,d)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(km))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Bl extends _a{}let xE=(()=>{class i extends Bl{}return i.type="UpdateUserAddressEvent",i})(),CC=(()=>{class i extends Bl{}return i.type="DeleteUserAddressEvent",i})(),wD=(()=>{class i extends Bl{}return i.type="AddUserAddressEvent",i})(),yC=(()=>{class i extends Bl{}return i.type="LoadUserAddressesEvent",i})(),IE=(()=>{class i extends Bl{}return i.type="LoadUserPaymentMethodsEvent",i})(),SC=(()=>{class i{constructor(s){this.stateEventService=s,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:xc,event:xE})}addUserAddressEvent(){this.stateEventService.register({action:al,event:wD})}deleteUserAddressEvent(){this.stateEventService.register({action:yu,event:CC})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),wE=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(SC))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var Qs=(()=>{return(i=Qs||(Qs={}))[i.Parallel=0]="Parallel",i[i.Queue=1]="Queue",i[i.CancelPrevious=2]="CancelPrevious",i[i.ErrorPrevious=3]="ErrorPrevious",Qs;var i})();let Rh=(()=>{class i{constructor(){this.subscriptions=new ne.w}create(s,d){const g=new ae.xQ,t=new ae.xQ;let o;switch(d?.strategy){case Qs.CancelPrevious:case Qs.ErrorPrevious:o=de(g,t).pipe((0,qe.w)(([u,f])=>s(u).pipe((0,Vt.b)(f),(0,Kt.x)(()=>d.strategy===Qs.CancelPrevious?f.complete():f.error(new Error("Canceled by next command"))))),Re());break;case Qs.Parallel:o=de(g,t).pipe((0,We.zg)(([u,f])=>s(u).pipe((0,Vt.b)(f))),Re());break;default:o=de(g,t).pipe((0,kt.b)(([u,f])=>s(u).pipe((0,Vt.b)(f))),Re())}return this.subscriptions.add(o.subscribe()),new class extends class RE{}{constructor(){super(...arguments),this.execute=u=>{const f=new F.t;return t.next(f),g.next(u),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PE=(()=>{class i{constructor(s){this.eventService=s,this.subscriptions=new ne.w}create(s,d){const g={data:void 0,error:!1,loading:!0},t=new P.X(g),o=V(()=>t.value.loading,(0,S.of)(void 0)),c=this.getTriggersStream([o,...d?.reloadOn??[],...d?.resetOn??[]]),u=this.getTriggersStream(d?.resetOn??[]),f=this.getTriggersStream(d?.reloadOn??[]),m=c.pipe((0,Vt.b)(()=>{t.value.loading||t.next({...t.value,loading:!0})}),(0,Pt.c)(s().pipe((0,tt.R)(u))),(0,Vt.b)(x=>{t.next({loading:!1,error:!1,data:x})}),(0,me.K)((x,j)=>(t.next({loading:!1,error:x,data:void 0}),j)),(0,jt.B)());d?.reloadOn?.length&&this.subscriptions.add(f.subscribe(()=>{t.value.loading||t.next({...t.value,loading:!0})})),d?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(void 0!==t.value.data||!1!==t.value.error||!1!==t.value.loading)&&t.next(g)}));const y=(0,Ee.g)(()=>m.subscribe(),()=>t),D=y.pipe((0,vt.j)("data"),(0,Jt.x)());return{get:()=>D,getState:()=>y}}getTriggersStream(s){if(!s.length)return Z.E;const d=s.map(g=>(0,Ae.b)(g)?g:this.eventService.get(g));return(0,we.T)(...d)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kA(i){return"JaloObjectNoLongerValidError"===i.details?.[0]?.type}const OE=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,LE=/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/;function NA(i){const p=i?.shouldRetry??(()=>!0),s=i?.maxTries??3,d=i?.delay??300,g=function Ge(i=0,p,s){return new ue.y(d=>{void 0===p&&(p=i,i=0);let g=0,t=i;if(s)return s.schedule(ht,0,{index:g,count:p,start:i,subscriber:d});for(;;){if(g++>=p){d.complete();break}if(d.next(t++),d.closed)break}})}(1,s+1);return t=>t.pipe(function Ut(i){return p=>p.lift(new Xe(i,p))}(o=>de(o,g).pipe((0,We.zg)(([c,u])=>u>s||!p(c)?(0,q._)(c):(0,S.of)(u)),(0,Ne.U)(c=>c*c),(0,We.zg)(c=>(0,Je.H)(c*d)))))}var Ph=(()=>{return(i=Ph||(Ph={})).HEAD="head",i.BODY="body",Ph;var i})();let RD=(()=>{class i{constructor(s,d){this.document=s,this.platformId=d}embedScript(s){const{src:d,params:g,attributes:t,callback:o,errorCallback:c,placement:u=Ph.HEAD}=s,f=(0,Ot.PM)(this.platformId);if((o||c)&&f)return;const m=g?d+this.parseParams(g):d;if(!f&&this.hasScript(m))return;const y=this.document.createElement("script");y.src=m,y.async=!0,y.defer=!0,t&&Object.keys(t).forEach(D=>{D.startsWith("data-")?y.setAttribute(D,t[D]):y[D]=t[D]}),o&&y.addEventListener("load",o),c&&y.addEventListener("error",c),u===Ph.HEAD?this.document.head.appendChild(y):this.document.body.appendChild(y)}hasScript(s){return!!this.document.querySelector(`script[src="${s}"]`)}parseParams(s){let d="";const g=Object.keys(s);return g.length>0&&(d="?"+g.map(t=>encodeURI(t)+"="+encodeURI(s[t])).join("&")),d}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ot.K0),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Oh{static getLocalTimezoneOffset(p){const s=-1*(new Date).getTimezoneOffset();return`${s>=0?p?"-":"+":p?"+":"-"}${Math.abs(Math.floor(s/60)).toString().padStart(2,"0")}:${(s%60).toString().padStart(2,"0")}`}static convertDateToDatetime(p,s){return`${p}T${s?"23:59:59":"00:00:00"}${Oh.getLocalTimezoneOffset()}`}static convertDatetimeToDate(p){return new Date(`${p.substring(0,19)}${Oh.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}}let UA=(()=>{class i{constructor(s,d){this.store=s,this.userIdService=d}loadCustomerCoupons(s,d,g){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new rs({userId:t,pageSize:s,currentPage:d,sort:g}))})}getCustomerCoupons(s){return(0,G.aj)([this.store.pipe((0,h.Ys)(Kd)),this.getClaimCustomerCouponResultLoading()]).pipe((0,ft.h)(([,d])=>!d),(0,Vt.b)(([d])=>{d.loading||d.success||d.error||this.loadCustomerCoupons(s)}),(0,Ne.U)(([d])=>d.value),(0,ft.h)(Fi))}getCustomerCouponsLoaded(){return this.store.pipe((0,h.Ys)($i))}getCustomerCouponsLoading(){return this.store.pipe((0,h.Ys)(qg))}subscribeCustomerCoupon(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Cg({userId:d,couponCode:s}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Di(Dc)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(ya(Dc)))}getSubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(Sc(Dc)))}unsubscribeCustomerCoupon(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new yg({userId:d,couponCode:s}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Di(ts)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(ya(ts)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(Sc(ts)))}claimCustomerCoupon(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Dv({userId:d,couponCode:s}))})}getClaimCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(ya(qu)))}getClaimCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Di(qu)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FE=(()=>{class i{constructor(s,d,g,t){this.store=s,this.userIdService=d,this.userAddressConnector=g,this.command=t,this.userAddressVerificationCommand=this.command.create(o=>this.userIdService.takeUserId(!1).pipe((0,qe.w)(c=>this.userAddressConnector.verify(c,o.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Ff(s))})}addUserAddress(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new kf({userId:d,address:s}))})}setAddressAsDefault(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Ug({userId:d,addressId:s,address:{defaultAddress:!0}}))})}updateUserAddress(s,d){this.userIdService.takeUserId().subscribe(g=>{this.store.dispatch(new Ug({userId:g,addressId:s,address:d}))})}deleteUserAddress(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Bg({userId:d,addressId:s}))})}getAddresses(){return this.store.pipe((0,h.Ys)(rm))}getAddressesLoading(){return this.store.pipe((0,h.Ys)(om))}getAddressesLoadedSuccess(){return this.store.pipe((0,h.Ys)(ep))}loadDeliveryCountries(){this.store.dispatch(new mf)}getDeliveryCountries(){return this.store.pipe((0,h.Ys)(Pc))}getCountry(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(Kf,p=>0!==Object.keys(p).length?p[i]:null))(s)))}loadRegions(s){this.store.dispatch(new wv(s))}clearRegions(){this.store.dispatch(new ol)}getRegions(s){return this.store.pipe((0,h.Ys)(tm),(0,Ne.U)(({regions:d,country:g,loading:t,loaded:o})=>s||!t&&!o?t&&!o?[]:!t&&s!==g&&s?(g&&this.clearRegions(),this.loadRegions(s),[]):d:(this.clearRegions(),[])))}verifyAddress(s){return this.userAddressVerificationCommand.execute({address:s})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki),e.LFG(TE),e.LFG(Rh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BA=(()=>{class i{constructor(s,d){this.store=s,this.userIdService=d}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe(s=>{this.store.dispatch(new ml(s))},()=>{})}getCostCentersState(){return this.store.select(Al)}getActiveCostCenters(){return this.getCostCentersState().pipe((0,rn.QV)(J.N),(0,Vt.b)(s=>{s.loading||s.success||s.error||this.loadActiveCostCenters()}),(0,ft.h)(s=>Boolean(s.success||s.error)),(0,Ne.U)(s=>s.value??[]))}getCostCenterAddresses(s){return this.getActiveCostCenters().pipe((0,Ne.U)(d=>{const g=d.find(t=>t.code===s);return g&&g.unit?g.unit.addresses??[]:[]}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),PD=(()=>{class i{constructor(s,d){this.store=s,this.userIdService=d}loadProductInterests(s,d,g,t,o){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new Bd({userId:c,pageSize:s,currentPage:d,sort:g,productCode:t,notificationType:o}))})}getProductInterests(){return this.store.pipe((0,h.Ys)(qf))}getAndLoadProductInterests(s){return this.store.pipe((0,h.Ys)(Oc),(0,Vt.b)(d=>{d.loading||d.success||d.error||this.loadProductInterests(s)}),(0,Ne.U)(d=>d.value),(0,ft.h)(Fi))}getProdutInterestsLoading(){return this.store.pipe((0,h.Ys)(em))}removeProdutInterest(s,d){this.userIdService.takeUserId().subscribe(g=>{this.store.dispatch(new Gd({userId:g,item:s,singleDelete:d}))})}getRemoveProdutInterestLoading(){return this.store.pipe((0,h.Ys)(Di(Ec)))}getRemoveProdutInterestSuccess(){return this.store.pipe((0,h.Ys)(ya(Ec)))}addProductInterest(s,d){this.userIdService.takeUserId().subscribe(g=>{this.store.dispatch(new BC({userId:g,productCode:s,notificationType:d}))})}getAddProductInterestSuccess(){return this.store.pipe((0,h.Ys)(ya(Qu)))}getAddProductInterestError(){return this.store.pipe((0,h.Ys)(Sc(Qu)))}resetAddInterestState(){this.store.dispatch(new Iv)}resetRemoveInterestState(){this.store.dispatch(new Cu)}clearProductInterests(){this.store.dispatch(new Lg)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),OD=(()=>{class i{constructor(s,d){this.store=s,this.userIdService=d}getPreferences(){return this.store.pipe((0,h.Ys)(Cs))}getEnabledPreferences(){return this.store.pipe((0,h.Ys)(Qf))}loadPreferences(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new nl(s))})}clearPreferences(){this.store.dispatch(new Dg)}getPreferencesLoading(){return this.store.pipe((0,h.Ys)(Qd))}updatePreferences(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Ag({userId:d,preferences:s}))})}getUpdatePreferencesResultLoading(){return this.store.select(Di(yd))}resetNotificationPreferences(){this.store.dispatch(new Id)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LD=(()=>{class i{constructor(s,d){this.store=s,this.userIdService=d}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Ld(s))})}getPaymentMethods(){return this.store.pipe((0,h.Ys)(_l))}getPaymentMethodsLoading(){return this.store.pipe((0,h.Ys)(Ea))}getPaymentMethodsLoadedSuccess(){return this.store.pipe((0,h.Ys)(Xg))}setPaymentMethodAsDefault(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Tg({userId:d,paymentMethodId:s}))})}deletePaymentMethod(s){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new kd({userId:d,paymentMethodId:s}))})}getAllBillingCountries(){return this.store.pipe((0,h.Ys)(Wf))}loadBillingCountries(){this.store.dispatch(new vv)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class GA{}let FD=(()=>{class i{constructor(s,d,g){this.store=s,this.userIdService=d,this.userProfileFacade=g}getTitles(){if(this.userProfileFacade)return this.userProfileFacade.getTitles();throw Error("Cannot get a titles. Install `@spartacus/user` library which provides required services.")}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ki),e.LFG(GA,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const AC=[(()=>{class i{constructor(s){this.actions$=s,this.clearMiscsData$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(fa,uu),(0,Ne.U)(()=>new Jd)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.siteConnector=d,this.loadDeliveryCountries$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(_u),(0,qe.w)(()=>this.siteConnector.getCountries(is.SHIPPING).pipe((0,Ne.U)(g=>new gi(g)),(0,me.K)(g=>(0,S.of)(new Md(Zn(g))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.siteConnector=d,this.loadRegions$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Hd),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.siteConnector.getRegions(g).pipe((0,Ne.U)(t=>new vs({entities:t,country:g})),(0,me.K)(t=>(0,S.of)(new Pf(Zn(t)))))))),this.resetRegions$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Rc,$d),(0,Ne.U)(()=>new Si(gu))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d,g,t){this.actions$=s,this.userAddressConnector=d,this.userAddressService=g,this.messageService=t,this.loadUserAddresses$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(il),(0,Ne.U)(o=>o.payload),(0,We.zg)(o=>this.userAddressConnector.getAll(o).pipe((0,Ne.U)(c=>new kg(c)),(0,me.K)(c=>(0,S.of)(new Fg(Zn(c)))))))),this.addUserAddress$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(al),(0,Ne.U)(o=>o.payload),(0,We.zg)(o=>this.userAddressConnector.add(o.userId,o.address).pipe((0,Ne.U)(c=>new dl(c)),(0,me.K)(c=>(0,S.of)(new Ng(Zn(c)))))))),this.updateUserAddress$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(xc),(0,Ne.U)(o=>o.payload),(0,We.zg)(o=>this.userAddressConnector.update(o.userId,o.addressId,o.address).pipe((0,Ne.U)(c=>o.address&&1===Object.keys(o.address).length&&o.address.defaultAddress?new Ff(o.userId):new Yd(c)),(0,me.K)(c=>(0,S.of)(new Zd(Zn(c)))))))),this.deleteUserAddress$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(yu),(0,Ne.U)(o=>o.payload),(0,We.zg)(o=>this.userAddressConnector.delete(o.userId,o.addressId).pipe((0,Ne.U)(c=>new Pv(c)),(0,me.K)(c=>(0,S.of)(new pl(Zn(c)))))))),this.showGlobalMessageOnAddSuccess$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(cl),(0,Vt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(ll),(0,Vt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Lf),(0,Vt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(s){this.messageService.add({key:s},tr.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(TE),e.LFG(FE),e.LFG(fu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d,g){this.actions$=s,this.userPaymentMethodConnector=d,this.globalMessageService=g,this.loadUserPaymentMethods$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(wd),(0,Ne.U)(t=>t.payload),(0,We.zg)(t=>this.userPaymentMethodConnector.getAll(t).pipe((0,Ne.U)(o=>new rl(o)),(0,me.K)(o=>(0,S.of)(new Mc(Zn(o)))))))),this.setDefaultUserPaymentMethod$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Pd),(0,Ne.U)(t=>t.payload),(0,We.zg)(t=>this.userPaymentMethodConnector.setDefault(t.userId,t.paymentMethodId).pipe((0,qe.w)(o=>[new Fd(o),new Ld(t.userId)]),(0,me.K)(o=>(0,S.of)(new Mv(Zn(o)))))))),this.deleteUserPaymentMethod$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Od),(0,Ne.U)(t=>t.payload),(0,We.zg)(t=>this.userPaymentMethodConnector.delete(t.userId,t.paymentMethodId).pipe((0,qe.w)(o=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},tr.MSG_TYPE_CONFIRMATION),[new Mg(o),new Ld(t.userId)])),(0,me.K)(o=>(0,S.of)(new xv(Zn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(ID),e.LFG(fu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.siteConnector=d,this.loadBillingCountries$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(vd),(0,qe.w)(()=>this.siteConnector.getCountries(is.BILLING).pipe((0,Ne.U)(g=>new Cd(g)),(0,me.K)(g=>(0,S.of)(new _d(Zn(g))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(Da))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.userConsentConnector=d,this.resetConsents$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(fa),(0,Ne.U)(()=>new Vf))),this.getConsents$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Gg),(0,Ne.U)(g=>g.payload),(0,kt.b)(g=>this.userConsentConnector.loadConsents(g).pipe((0,Ne.U)(t=>new Wd(t)),(0,me.K)(t=>(0,S.of)(new Gf(Zn(t)))))))),this.giveConsent$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Nf,Uf),(0,kt.b)(g=>this.userConsentConnector.giveConsent(g.payload.userId,g.payload.consentTemplateId??"",g.payload.consentTemplateVersion??0).pipe((0,Ne.U)(t=>new Yg(t)),(0,me.K)(t=>{const o=[new Hf(Zn(t))];return g.type===Uf&&409===t.status&&o.push(new Cc(tr.MSG_TYPE_ERROR)),(0,S.of)(...o)}))))),this.withdrawConsent$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Zs),(0,Ne.U)(g=>g.payload),(0,kt.b)(({userId:g,consentCode:t})=>this.userConsentConnector.withdrawConsent(g,t).pipe((0,Ne.U)(()=>new hl),(0,me.K)(o=>(0,S.of)(new Jg(Zn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(PA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.customerCouponConnector=d,this.loadCustomerCoupons$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(pf),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.customerCouponConnector.getCustomerCoupons(g.userId,g.pageSize,g.currentPage,g.sort).pipe((0,Ne.U)(t=>new bd(t)),(0,me.K)(t=>(0,S.of)(new vu(Zn(t)))))))),this.subscribeCustomerCoupon$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(hf),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.customerCouponConnector.turnOnNotification(g.userId,g.couponCode).pipe((0,Ne.U)(t=>new js(t)),(0,me.K)(t=>(0,S.of)(new gs(Zn(t)))))))),this.unsubscribeCustomerCoupon$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(mu),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.customerCouponConnector.turnOffNotification(g.userId,g.couponCode).pipe((0,Ne.U)(()=>new Av(g.couponCode)),(0,me.K)(t=>(0,S.of)(new Ev(Zn(t)))))))),this.claimCustomerCoupon$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(ns),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.customerCouponConnector.claimCustomerCoupon(g.userId,g.couponCode).pipe((0,Ne.U)(t=>new bv(t)),(0,me.K)(t=>(0,S.of)(new gf(Zn(t))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(LA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.connector=d,this.loadPreferences$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(tl),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.connector.loadAll(g).pipe((0,Ne.U)(t=>new Pn(t)),(0,me.K)(t=>(0,S.of)(new yf(Zn(t)))))))),this.updatePreferences$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(_f),(0,Ne.U)(g=>g.payload),(0,We.zg)(g=>this.connector.update(g.userId,g.preferences).pipe((0,Ne.U)(()=>new Ef(g.preferences)),(0,me.K)(t=>(0,S.of)(new Sf(Zn(t))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(cA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.userInterestsConnector=d,this.loadProductInteres$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(xg),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.userInterestsConnector.getInterests(g.userId,g.pageSize,g.currentPage,g.sort,g.productCode,g.notificationType).pipe((0,Ne.U)(t=>new Pg(t)),(0,me.K)(t=>(0,S.of)(new If(Zn(t)))))))),this.removeProductInterest$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(bf),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.userInterestsConnector.removeInterest(g.userId,g.item).pipe((0,qe.w)(t=>[new Bd(g.singleDelete?{userId:g.userId,productCode:g.item.product?.code,notificationType:g.item.productInterestEntry?.[0].interestType}:{userId:g.userId}),new wf(t)]),(0,me.K)(t=>(0,S.of)(new Vd(Zn(t)))))))),this.addProductInterest$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(Mf),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.userInterestsConnector.addInterest(g.userId,g.productCode,g.notificationType).pipe((0,qe.w)(t=>[new Bd({userId:g.userId,productCode:g.productCode,notificationType:g.notificationType}),new Rf(t)]),(0,me.K)(t=>(0,S.of)(new Og(Zn(t))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(ME))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,d){this.actions$=s,this.userCostCenterConnector=d,this.loadActiveCostCenters$=(0,dt.GW)(()=>this.actions$.pipe((0,dt.l4)(wc),(0,Ne.U)(g=>g.payload),(0,qe.w)(g=>this.userCostCenterConnector.getActiveList(g).pipe((0,Ne.U)(t=>new jf(t.values)),(0,me.K)(t=>(0,S.of)(new vl(Zn(t))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dt.eX),e.LFG(OA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],Lh={entities:{}};function GD(i=Lh,p){switch(p.type){case Ca:{const d=p.payload.reduce((g,t)=>({...g,[t.isocode]:t}),{...i.entities});return{...i,entities:d}}case Rc:return Lh}return i}const VD={coupons:[],sorts:[],pagination:{}};function HD(i=VD,p){switch(p.type){case Sd:return p.payload;case Ed:{const s=p.payload.coupon,d=new Array(i.coupons?.length??0);return i.coupons?.forEach((g,t)=>d[t]=s&&g.couponId===s.couponId?s:g),{...i,coupons:d}}case bc:{const s=p.payload,d=new Array(i.coupons?.length??0);return i.coupons?.forEach((g,t)=>d[t]=g.couponId===s?{...g,notificationOn:!1}:g),{...i,coupons:d}}}return i}const $A={entities:{}};function BE(i=$A,p){switch(p.type){case Td:{const d=p.payload.reduce((g,t)=>({...g,[t.isocode??""]:t}),{...i.entities});return{...i,entities:d}}case Rc:return $A}return i}const DC=[];function jA(i=DC,p){switch(p.type){case xd:return DC;case vf:case Ya:return p.payload?p.payload:DC}return i}const bC=[];function ZA(i=bC,p){switch(p.type){case Rd:return p.payload?p.payload:bC;case Af:return bC}return i}const Wm={results:[],pagination:{},sorts:[]};function GE(i=Wm,p){switch(p.type){case za:return p.payload?p.payload:Wm;case Nd:return Wm}return i}const TC={entities:[],country:null};function YA(i=TC,p){if(p.type===Sa){const s=p.payload.entities,d=p.payload.country;return s||d?{...i,entities:s,country:d}:TC}return i}const MC=[];function VE(i=MC,p){switch(p.type){case sl:return MC;case Of:return p.payload?p.payload:MC}return i}const Jm=[];function $D(i=Jm,p){switch(p.type){case Vg:return p.payload||Jm;case $g:{const s=p.consentTemplate;return i.map(d=>d.id===s.id?s:d)}}return i}const Km=[];function xC(i=Km,p){switch(p.type){case zs:return Km;case gl:return p.payload?p.payload:Km}return i}const HE=new e.OlP("UserReducers"),jD={provide:HE,useFactory:function zA(){return{addresses:Zr(hi,VE),billingCountries:GD,consents:Zr(Ac,$D),payments:Zr(Hs,ZA),countries:BE,regions:Zr(gu,YA),customerCoupons:Zr(Bi,HD),notificationPreferences:Zr(Gi,jA),productInterests:Zr(mr,GE),costCenters:Zr(Za,xC)}}},WA=[function ZD(i){return function(p,s){return s.type===Pi&&(p=void 0),i(p,s)}}];let JA=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[jD],imports:[Ot.ez,Vs,h.Aw.forFeature("user",HE,{metaReducers:WA}),dt.sQ.forFeature(AC),ln.Bz]}),i})(),KA=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[SC],imports:[JA,wE]}),i})(),QA=(()=>{class i{constructor(s,d){this.cmsConfig=s,this.lazyModules=d,this.features=new Map}isConfigured(s){return!!this.getFeatureConfig(s)?.module}resolveFeature(s){return s=this.resolveFeatureAlias(s),(0,B.P)(()=>{if(!this.features.has(s)){if(!this.isConfigured(s))return(0,q._)(new Error("No module defined for Feature Module "+s));const d=this.getFeatureConfig(s);this.features.set(s,this.resolveDependencies(d?.dependencies).pipe((0,qe.w)(g=>this.lazyModules.resolveModuleInstance(d?.module,s,g)),(0,nn.d)()))}return this.features.get(s)})}getFeatureConfig(s){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(s)]}resolveFeatureAlias(s){for(;"string"==typeof this.cmsConfig.featureModules?.[s];)s=this.cmsConfig.featureModules?.[s];return s}resolveDependencies(s=[]){return s?.length?(0,Ce.D)(s.map(d=>"string"==typeof d?this.resolveFeature(d):this.lazyModules.resolveDependencyModuleInstance(d))):(0,S.of)(void 0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Mm),e.LFG(qo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qA="proxyFacadeInstance";let YD=(()=>{class i{constructor(s,d){this.featureModules=s,this.injector=d}getResolver(s,d,g=!1){if(!this.featureModules.isConfigured(s))return(0,q._)(new Error(`Feature ${s} is not configured properly`));let t=this.featureModules.resolveFeature(s).pipe((0,Ne.U)(o=>o.injector),(0,Ne.U)(o=>o.get(d)));return g&&(t=t.pipe((0,vn.g)(0))),t.pipe((0,nn.d)())}call(s,d,g){const t=s.pipe((0,Ne.U)(o=>o[d](...g)),Nt());return t.connect(),t.pipe((0,qe.w)(o=>(0,Ae.b)(o)?o:Z.E))}get(s,d){return s.pipe((0,qe.w)(g=>g[d]))}create({facade:s,feature:d,methods:g,properties:t,async:o}){const c=this.getResolver(d,s,o),u=new class extends s{};return(g??[]).forEach(f=>{u[f]=(...m)=>this.call(c,f,m)}),(t??[]).forEach(f=>{u[f]=this.get(c,f)}),u[qA]=!0,u}isProxyFacadeInstance(s){return!!s?.[qA]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(QA),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function zD(i){return(0,e.f3M)(YD).create(i)}function WD(i,p){return()=>Promise.all(i.runModuleInitializerFunctions(p)).catch(d=>{throw console.error("MODULE_INITIALIZER promise was rejected during app initialization.",d),d})}let XA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,useFactory:WD,deps:[qo,[new e.FiY,Du]],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),JD=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Vs.forRoot(),xl.forRoot(),Tl.forRoot(),Yv.forRoot(),iS.forRoot(),y0.forRoot(),F_.forRoot(),gA.forRoot(),fm.forRoot(),n_.forRoot(),WS.forRoot(),fA.forRoot(),XA.forRoot()]}),i})()},339:(_e,ie,v)=>{"use strict";v.d(ie,{$q:()=>G,_v:()=>h,qN:()=>ue,xk:()=>q,zc:()=>ne});var n=v(4650),e=v(9057);let h=(()=>{class ae{}return ae.\u0275fac=function(Ye){return new(Ye||ae)},ae.\u0275prov=n.Yz7({token:ae,factory:function(Ye){let at=null;return at=Ye?new(Ye||ae):n.LFG(e.DeH),at},providedIn:"root"}),ae})();function F(ae){try{return new URL(ae)}catch{return null}}function S(ae){return"http:"===ae.protocol||"https:"===ae.protocol}function w(ae){const Ee=ae.epdVisualization;if(!Ee)return P("epdVisualization");if(!Ee.apis)return P("epdVisualization.apis");const Ye="epdVisualization.apis.baseUrl";if(!Ee.apis.baseUrl)return P(Ye);const at=F(Ee.apis.baseUrl);if(!at)return B(Ye,Ee.apis.baseUrl);if(!S(at))return Z(Ye);if(!Ee.ui5)return P("epdVisualization.ui5");const ze="epdVisualization.ui5.bootstrapUrl";if(!Ee.ui5.bootstrapUrl)return P(ze);const Ve=F(Ee.ui5.bootstrapUrl);if(!Ve)return B(ze,Ee.ui5.bootstrapUrl);if(!S(Ve))return Z(ze);if(!Ee.usageIds)return P("epdVisualization.usageIds");if(!Ee.usageIds.folderUsageId.name)return P("epdVisualization.usageIds.folderUsageId.name");if(!Ee.usageIds.folderUsageId.keys||!Ee.usageIds.folderUsageId.keys.length)return P("epdVisualization.usageIds.folderUsageId.keys");for(let he=0;he<Ee.usageIds.folderUsageId.keys.length;he++){if(!Ee.usageIds.folderUsageId.keys[he].name)return P(`epdVisualization.usageIds.folderUsageId.keys[${he}].name`);if(!Ee.usageIds.folderUsageId.keys[he].value)return P(`epdVisualization.usageIds.folderUsageId.keys[${he}].value`)}return Ee.usageIds.productUsageId.source?Ee.usageIds.productUsageId.category?Ee.usageIds.productUsageId.keyName?Ee.visualPicking?Ee.visualPicking.productReferenceType?void 0:P("epdVisualization.visualPicking.productReferenceType"):P("epdVisualization.visualPicking"):P("epdVisualization.usageIds.productUsageId.keyName"):P("epdVisualization.usageIds.productUsageId.category"):P("epdVisualization.usageIds.productUsageId.source")}function P(ae){return`No value configured for ${ae} in the EPD Visualization library configuration.`}function B(ae,Ee){return`URL value '${Ee}' configured for ${ae} in the EPD Visualization library configuration is not valid.`}function Z(ae){return`URL for ${ae} must use HTTPS or HTTP protocol.`}function V(){return{epdVisualization:{usageIds:{folderUsageId:{name:"CommerceCloud-Folder",keys:[{name:"Function",value:"Online"}]},productUsageId:{name:"CommerceCloud-SparePart",source:"CommerceCloud",category:"SpareParts",keyName:"ProductCode"}},visualPicking:{productReferenceType:"SPAREPART"}}}}const G="epd-visualization";function J(){return{featureModules:{[G]:{cmsComponents:["VisualPickingTabComponent"]}}}}let q=(()=>{class ae{}return ae.\u0275fac=function(Ye){return new(Ye||ae)},ae.\u0275mod=n.oAB({type:ae}),ae.\u0275inj=n.cJS({providers:[(0,e.x2j)(J),(0,e.x2j)(V),(0,e.k9r)(w)]}),ae})();var ne=(()=>{return(ae=ne||(ne={})).Model3D="3DModel",ae.Drawing2D="2DDrawing",ne;var ae})();class ue{constructor(){this.listeners=[]}initialize(Ee){this.renderer=Ee}attachEventListener(Ee,Ye,at){const ze={nativeElement:Ee,eventName:Ye,endListener:this.renderer.listen(Ee,Ye,at)};this.listeners.push(ze)}detachEventListeners(Ee,Ye){this._detachEventListeners(this.listeners.filter(at=>at.nativeElement===Ee&&at.eventName===Ye))}detachAllEventListeners(Ee){this._detachEventListeners(this.listeners.filter(Ye=>Ye.nativeElement===Ee))}_detachEventListeners(Ee){const Ye=new Set(Ee);Ee.forEach(at=>{at.endListener()}),this.listeners=this.listeners.filter(at=>!Ye.has(at))}}},2732:(_e,ie,v)=>{"use strict";v.d(ie,{Ru:()=>Ee,gV:()=>ue,ir:()=>at,t1:()=>fo,yN:()=>Ve});var n=v(4650),e=v(8555),h=v(9057),F=v(2994),S=v(4850),w=v(2986),P=v(7545),B=v(7221),Z=v(4129),V=v(591),G=v(6053),J=v(1086),q=v(3749),ne=v(5024);class ue{}let ae=(()=>{class Ze{constructor(pt){this.adapter=pt}get(pt,Zt){return this.adapter.load(pt,Zt)}getHistory(pt,Zt,Wt,on){return this.adapter.loadHistory(pt,Zt,Wt,on)}getConsignmentTracking(pt,Zt,Wt){return this.adapter.getConsignmentTracking(pt,Zt,Wt)}cancel(pt,Zt,Wt){return this.adapter.cancel(pt,Zt,Wt)}return(pt,Zt){return this.adapter.createReturnRequest(pt,Zt)}getReturnRequestDetail(pt,Zt){return this.adapter.loadReturnRequestDetail(pt,Zt)}getReturnRequestList(pt,Zt,Wt,on){return this.adapter.loadReturnRequestList(pt,Zt,Wt,on)}cancelReturnRequest(pt,Zt,Wt){return this.adapter.cancelReturnRequest(pt,Zt,Wt)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ue))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Ee{}let Ye=(()=>{class Ze{constructor(pt){this.adapter=pt}placeOrder(pt,Zt,Wt){return this.adapter.placeOrder(pt,Zt,Wt)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(Ee))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class at{}let ze=(()=>{class Ze{constructor(pt){this.adapter=pt}load(pt,Zt){return this.adapter.load(pt,Zt)}loadReplenishmentDetailsHistory(pt,Zt,Wt,on,An){return this.adapter.loadReplenishmentDetailsHistory(pt,Zt,Wt,on,An)}cancelReplenishmentOrder(pt,Zt){return this.adapter.cancelReplenishmentOrder(pt,Zt)}loadHistory(pt,Zt,Wt,on){return this.adapter.loadHistory(pt,Zt,Wt,on)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(at))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Ve{}let he=(()=>{class Ze{constructor(pt){this.adapter=pt}scheduleReplenishmentOrder(pt,Zt,Wt,on){return this.adapter.scheduleReplenishmentOrder(pt,Zt,Wt,on)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(Ve))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const ge="[Order] Load Consignment Tracking",it="[Order] Load Consignment Tracking Success",He="[Order] Clear Consignment Tracking";class Te{constructor(Mt){this.payload=Mt,this.type=ge}}class Me{constructor(Mt){this.payload=Mt,this.type="[Order] Load Consignment Tracking Fail"}}class re{constructor(Mt){this.payload=Mt,this.type=it}}class Ie{constructor(){this.type=He}}const we="cancelOrder",Ae="cancelReturn",Ge="cancelReplenishmentOrder",ht="[Order] User Orders",Je="[Order] Order Return Requests",lt="[Order] Return Request Details",Ne="[Order] User Order Details",an="[Order] User Replenishment Orders",Gt="[Order] User Replenishment Order Details",Jt="[Order] Load Order Details",nn="[Order] Load Order Details Success",Vt="[Order] Cancel Order";class Et extends h.kPG.LoaderLoadAction{constructor(Mt){super(Ne),this.payload=Mt,this.type=Jt}}class Ke extends h.kPG.LoaderFailAction{constructor(Mt){super(Ne,Mt),this.payload=Mt,this.type="[Order] Load Order Details Fail"}}class jt extends h.kPG.LoaderSuccessAction{constructor(Mt){super(Ne),this.payload=Mt,this.type=nn}}class wt extends h.kPG.LoaderResetAction{constructor(){super(Ne),this.type="[Order] Clear Order Details"}}class dn extends h.kPG.EntityLoadAction{constructor(Mt){super(h.BzF,we),this.payload=Mt,this.type=Vt}}class kt extends h.kPG.EntityFailAction{constructor(Mt){super(h.BzF,we,Mt),this.payload=Mt,this.type="[Order] Cancel Order Fail"}}class We extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,we),this.type="[Order] Cancel Order Success"}}class nt extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,we),this.type="[Order] Reset Cancel Order Process"}}const Nt="[Order] Create Order Return Request",bn="[Order] Load Order Return Request details",ke="[Order] Cancel Order Return Request",en="[Order] Load User Order Return Request List",vn="[Order] Load User Order Return Request List Success";class De extends h.kPG.LoaderLoadAction{constructor(Mt){super(lt),this.payload=Mt,this.type=Nt}}class tt extends h.kPG.LoaderFailAction{constructor(Mt){super(lt,Mt),this.payload=Mt,this.type="[Order] Create Order Return Request Fail"}}class Ut extends h.kPG.LoaderSuccessAction{constructor(Mt){super(lt),this.payload=Mt,this.type="[Order] Create Order Return Request Success"}}class Xe extends h.kPG.LoaderLoadAction{constructor(Mt){super(lt),this.payload=Mt,this.type=bn}}class At extends h.kPG.LoaderFailAction{constructor(Mt){super(lt,Mt),this.payload=Mt,this.type="[Order] Load Order Return Request details Fail"}}class Tt extends h.kPG.LoaderSuccessAction{constructor(Mt){super(lt),this.payload=Mt,this.type="[Order] Load Order Return Request details Success"}}class Ot extends h.kPG.EntityLoadAction{constructor(Mt){super(h.BzF,Ae),this.payload=Mt,this.type=ke}}class ln extends h.kPG.EntityFailAction{constructor(Mt){super(h.BzF,Ae,Mt),this.payload=Mt,this.type="[Order] Cancel Order Return Request Fail"}}class Ht extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,Ae),this.type="[Order] Cancel Order Return Request Success"}}class dt extends h.kPG.LoaderLoadAction{constructor(Mt){super(Je),this.payload=Mt,this.type=en}}class In extends h.kPG.LoaderFailAction{constructor(Mt){super(Je,Mt),this.payload=Mt,this.type="[Order] Load User Order Return Request List Fail"}}class Vn extends h.kPG.LoaderSuccessAction{constructor(Mt){super(Je),this.payload=Mt,this.type=vn}}class Nn extends h.kPG.LoaderResetAction{constructor(){super(lt),this.type="[Order] Clear Order Return Request Details"}}class ur extends h.kPG.LoaderResetAction{constructor(){super(Je),this.type="[Order] Clear Order Return Request List"}}class yn extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,Ae),this.type="[Order] Reset Cancel Return Request Process"}}const On="[Order] Load User Orders",Ln="[Order] Load User Orders Fail",Qn="[Order] Load User Orders Success";class nr extends h.kPG.LoaderLoadAction{constructor(Mt){super(ht),this.payload=Mt,this.type=On}}class Oe extends h.kPG.LoaderFailAction{constructor(Mt){super(ht,Mt),this.payload=Mt,this.type=Ln}}class Fe extends h.kPG.LoaderSuccessAction{constructor(Mt){super(ht),this.payload=Mt,this.type=Qn}}class pe extends h.kPG.LoaderResetAction{constructor(){super(ht),this.type="[Order] Clear User Orders"}}const X="[Order] Load Replenishment Order Details",oe="[Order] Load Replenishment Order Details Success",et="[Order] Cancel Replenishment Order",yt="[Order] Cancel Replenishment Order Success";class Bn extends h.kPG.LoaderLoadAction{constructor(Mt){super(Gt),this.payload=Mt,this.type=X}}class Rn extends h.kPG.LoaderSuccessAction{constructor(Mt){super(Gt),this.payload=Mt,this.type=oe}}class yr extends h.kPG.LoaderFailAction{constructor(Mt){super(Gt,Mt),this.payload=Mt,this.type="[Order] Load Replenishment Order Details Fail"}}class Hn extends h.kPG.LoaderResetAction{constructor(){super(Gt),this.type="[Order] Clear Replenishment Order Details"}}class wn extends h.kPG.EntityLoadAction{constructor(Mt){super(h.BzF,Ge),this.payload=Mt,this.type=et}}class Wn extends h.kPG.EntitySuccessAction{constructor(Mt){super(h.BzF,Ge),this.payload=Mt,this.type=yt}}class vr extends h.kPG.EntityFailAction{constructor(Mt){super(h.BzF,Ge,Mt),this.payload=Mt,this.type="[Order] Cancel Replenishment Order Fail"}}class Yn extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,Ge),this.type="[Order] Clear Cancel Replenishment Order"}}const rr="[Order] Load User Replenishment Orders",Dn="[Order] Load User Replenishment Orders Success";class Fr extends h.kPG.LoaderLoadAction{constructor(Mt){super(an),this.payload=Mt,this.type=rr}}class Ar extends h.kPG.LoaderFailAction{constructor(Mt){super(an,Mt),this.payload=Mt,this.type="[Order] Load User Replenishment Orders Fail"}}class Rr extends h.kPG.LoaderSuccessAction{constructor(Mt){super(an),this.payload=Mt,this.type=Dn}}class dr extends h.kPG.LoaderResetAction{constructor(){super(an),this.type="[Order] Clear User Replenishment Orders"}}const $n=(0,e.ZF)("order"),Jn=(0,e.P1)($n,Ze=>Ze.consignmentTracking),Mr=(0,e.P1)(Jn,Ze=>Ze.tracking),Gn=(0,e.P1)($n,Ze=>Ze.orderDetail),pr=(0,e.P1)(Gn,Ze=>h.kPG.loaderValueSelector(Ze)),Pr=(0,e.P1)($n,Ze=>Ze.orderReturn),qr=(0,e.P1)(Pr,Ze=>h.kPG.loaderValueSelector(Ze)),Xr=(0,e.P1)(Pr,Ze=>h.kPG.loaderLoadingSelector(Ze)),xr=(0,e.P1)(Pr,Ze=>h.kPG.loaderSuccessSelector(Ze)&&!h.kPG.loaderLoadingSelector(Ze)),Be=(0,e.P1)($n,Ze=>Ze.orderReturnList),N=((0,e.P1)(Be,Ze=>h.kPG.loaderValueSelector(Ze)),(0,e.P1)($n,Ze=>Ze.orders)),be=(0,e.P1)(N,Ze=>h.kPG.loaderSuccessSelector(Ze)),Q=((0,e.P1)(N,Ze=>h.kPG.loaderValueSelector(Ze)),(0,e.P1)($n,Ze=>Ze.replenishmentOrder)),je=(0,e.P1)(Q,Ze=>h.kPG.loaderValueSelector(Ze)),Rt=(0,e.P1)(Q,Ze=>h.kPG.loaderLoadingSelector(Ze)),cn=(0,e.P1)(Q,Ze=>h.kPG.loaderSuccessSelector(Ze)),hn=(0,e.P1)(Q,Ze=>h.kPG.loaderErrorSelector(Ze)),gn=(0,e.P1)($n,Ze=>Ze.replenishmentOrders),sr=((0,e.P1)(gn,Ze=>h.kPG.loaderValueSelector(Ze)),(0,e.P1)(gn,Ze=>h.kPG.loaderLoadingSelector(Ze))),Ir=(0,e.P1)(gn,Ze=>h.kPG.loaderErrorSelector(Ze)),eo=(0,e.P1)(gn,Ze=>h.kPG.loaderSuccessSelector(Ze));let Zo=(()=>{class Ze{constructor(pt,Zt,Wt,on){this.store=pt,this.processStateStore=Zt,this.userIdService=Wt,this.routingService=on}getOrderDetails(){return this.store.pipe((0,e.Ys)(pr))}loadOrderDetails(pt){this.userIdService.takeUserId().subscribe(Zt=>{this.store.dispatch(new Et({userId:Zt,orderCode:pt}))})}clearOrderDetails(){this.store.dispatch(new wt)}getOrderHistoryList(pt){return this.store.pipe((0,e.Ys)(N),(0,F.b)(Zt=>{Zt.loading||Zt.success||Zt.error||this.loadOrderList(pt)}),(0,S.U)(Zt=>Zt.value))}getOrderHistoryListLoaded(){return this.store.pipe((0,e.Ys)(be))}loadOrderList(pt,Zt,Wt){this.userIdService.takeUserId(!0).subscribe(on=>{let An;this.routingService.getRouterState().pipe((0,w.q)(1)).subscribe($r=>{An=$r?.state?.params?.replenishmentOrderCode}).unsubscribe(),this.store.dispatch(new nr({userId:on,pageSize:pt,currentPage:Zt,sort:Wt,replenishmentOrderCode:An}))},()=>{})}clearOrderList(){this.store.dispatch(new pe)}getConsignmentTracking(){return this.store.pipe((0,e.Ys)(Mr))}loadConsignmentTracking(pt,Zt){this.userIdService.takeUserId().subscribe(Wt=>{this.store.dispatch(new Te({userId:Wt,orderCode:pt,consignmentCode:Zt}))})}clearConsignmentTracking(){this.store.dispatch(new Ie)}cancelOrder(pt,Zt){this.userIdService.takeUserId().subscribe(Wt=>{this.store.dispatch(new dn({userId:Wt,orderCode:pt,cancelRequestInput:Zt}))})}getCancelOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(we)))}getCancelOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(we)))}resetCancelOrderProcessState(){return this.store.dispatch(new nt)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV),n.LFG(h.Znh))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Or=(()=>{class Ze{constructor(pt,Zt,Wt){this.store=pt,this.processStateStore=Zt,this.userIdService=Wt}createOrderReturnRequest(pt){this.userIdService.takeUserId().subscribe(Zt=>{this.store.dispatch(new De({userId:Zt,returnRequestInput:pt}))})}getOrderReturnRequest(){return this.store.pipe((0,e.Ys)(qr))}getOrderReturnRequestList(pt){return this.store.pipe((0,e.Ys)(Be),(0,F.b)(Zt=>{Zt.loading||Zt.success||Zt.error||this.loadOrderReturnRequestList(pt)}),(0,S.U)(Zt=>Zt.value))}loadOrderReturnRequestDetail(pt){this.userIdService.takeUserId().subscribe(Zt=>{this.store.dispatch(new Xe({userId:Zt,returnRequestCode:pt}))})}loadOrderReturnRequestList(pt,Zt,Wt){this.userIdService.takeUserId(!0).subscribe(on=>{this.store.dispatch(new dt({userId:on,pageSize:pt,currentPage:Zt,sort:Wt}))},()=>{})}clearOrderReturnRequestList(){this.store.dispatch(new ur)}getReturnRequestLoading(){return this.store.pipe((0,e.Ys)(Xr))}getReturnRequestSuccess(){return this.store.pipe((0,e.Ys)(xr))}clearOrderReturnRequestDetail(){this.store.dispatch(new Nn)}cancelOrderReturnRequest(pt,Zt){this.userIdService.takeUserId().subscribe(Wt=>{this.store.dispatch(new Ot({userId:Wt,returnRequestCode:pt,returnRequestModification:Zt}))})}getCancelReturnRequestLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(Ae)))}getCancelReturnRequestSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(Ae)))}resetCancelReturnRequestProcessState(){return this.store.dispatch(new yn)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Yo=(()=>{class Ze{constructor(pt,Zt,Wt,on,An){this.activeCartFacade=pt,this.userIdService=Zt,this.commandService=Wt,this.orderConnector=on,this.eventService=An,this.placedOrder$=new V.X(void 0),this.placeOrderCommand=this.commandService.create($r=>this.checkoutPreconditions().pipe((0,P.w)(([Nr,Sn])=>this.orderConnector.placeOrder(Nr,Sn,$r).pipe((0,F.b)(Se=>{this.placedOrder$.next(Se),this.eventService.dispatch({userId:Nr,cartId:Sn,cartCode:Sn,order:Se},Z.uZ)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,G.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,w.q)(1),(0,S.U)(([pt,Zt,Wt])=>{if(!pt||!Zt||pt===h.Fds&&!Wt)throw new Error("Checkout conditions not met");return[pt,Zt]}))}placeOrder(pt){return this.placeOrderCommand.execute(pt)}getOrderDetails(){return this.placedOrder$.asObservable()}clearPlacedOrder(){this.placedOrder$.next(void 0)}setPlacedOrder(pt){this.placedOrder$.next(pt)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(q.bu),n.LFG(h.XBV),n.LFG(h.VDr),n.LFG(Ye),n.LFG(h.POd))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),to=(()=>{class Ze{constructor(pt,Zt,Wt){this.store=pt,this.processStateStore=Zt,this.userIdService=Wt}loadReplenishmentOrderDetails(pt){this.userIdService.takeUserId(!0).subscribe(Zt=>{this.store.dispatch(new Bn({userId:Zt,replenishmentOrderCode:pt}))},()=>{})}getReplenishmentOrderDetails(){return this.store.pipe((0,e.Ys)(je))}getReplenishmentOrderDetailsLoading(){return this.store.pipe((0,e.Ys)(Rt))}getReplenishmentOrderDetailsSuccess(){return this.store.pipe((0,e.Ys)(cn))}getReplenishmentOrderDetailsError(){return this.store.pipe((0,e.Ys)(hn))}clearReplenishmentOrderDetails(){this.store.dispatch(new Hn)}cancelReplenishmentOrder(pt){this.userIdService.takeUserId(!0).subscribe(Zt=>{this.store.dispatch(new wn({userId:Zt,replenishmentOrderCode:pt}))},()=>{})}getCancelReplenishmentOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(Ge)))}getCancelReplenishmentOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(Ge)))}getCancelReplenishmentOrderError(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessErrorFactory(Ge)))}clearCancelReplenishmentOrderProcessState(){this.store.dispatch(new Yn)}getReplenishmentOrderHistoryList(pt){return this.store.pipe((0,e.Ys)(gn),(0,F.b)(Zt=>{Zt.loading||Zt.success||Zt.error||this.loadReplenishmentOrderList(pt)}),(0,S.U)(Zt=>Zt.value))}getReplenishmentOrderHistoryListLoading(){return this.store.pipe((0,e.Ys)(sr))}getReplenishmentOrderHistoryListError(){return this.store.pipe((0,e.Ys)(Ir))}getReplenishmentOrderHistoryListSuccess(){return this.store.pipe((0,e.Ys)(eo))}loadReplenishmentOrderList(pt,Zt,Wt){this.userIdService.takeUserId(!0).subscribe(on=>{this.store.dispatch(new Fr({userId:on,pageSize:pt,currentPage:Zt,sort:Wt}))},()=>{})}clearReplenishmentOrderList(){this.store.dispatch(new dr)}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(e.yh),n.LFG(e.yh),n.LFG(h.XBV))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),zo=(()=>{class Ze{constructor(pt,Zt,Wt,on,An,$r){this.activeCartFacade=pt,this.userIdService=Zt,this.commandService=Wt,this.scheduledReplenishmentOrderConnector=on,this.eventService=An,this.orderFacade=$r,this.scheduleReplenishmentOrderCommand=this.commandService.create(({form:Nr,termsChecked:Sn})=>this.checkoutPreconditions().pipe((0,P.w)(([Se,st])=>this.scheduledReplenishmentOrderConnector.scheduleReplenishmentOrder(st,Nr,Sn,Se).pipe((0,F.b)(ve=>{this.orderFacade.setPlacedOrder(ve),this.eventService.dispatch({userId:Se,cartId:st,cartCode:st,replenishmentOrder:ve},Z.oL)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,G.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,w.q)(1),(0,S.U)(([pt,Zt,Wt])=>{if(!pt||!Zt||pt===h.Fds&&!Wt)throw new Error("Order conditions not met");return[pt,Zt]}))}scheduleReplenishmentOrder(pt,Zt){return this.scheduleReplenishmentOrderCommand.execute({termsChecked:Zt,form:pt})}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(q.bu),n.LFG(h.XBV),n.LFG(h.VDr),n.LFG(he),n.LFG(h.POd),n.LFG(Z.Vh))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Lo=[Or,{provide:Z.U1,useExisting:Or},Zo,{provide:Z.Kr,useExisting:Zo},to,{provide:Z.kp,useExisting:to},zo,{provide:Z.wT,useExisting:zo},Yo,{provide:Z.Vh,useExisting:Yo}],ko=[(()=>{class Ze{constructor(pt,Zt,Wt){this.actions$=pt,this.orderConnector=Zt,this.replenishmentOrderConnector=Wt,this.loadUserOrders$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(On),(0,S.U)(on=>on.payload),(0,P.w)(on=>(Boolean(on.replenishmentOrderCode)?this.replenishmentOrderConnector.loadReplenishmentDetailsHistory(on.userId,on.replenishmentOrderCode??"",on.pageSize,on.currentPage,on.sort):this.orderConnector.getHistory(on.userId,on.pageSize,on.currentPage,on.sort)).pipe((0,S.U)(An=>new Fe(An)),(0,B.K)(An=>(0,J.of)(new Oe((0,h.cxH)(An)))))))),this.resetUserOrders$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(h.dO9.LANGUAGE_CHANGE),(0,S.U)(()=>new pe)))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ae),n.LFG(ze))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),(()=>{class Ze{constructor(pt,Zt,Wt){this.actions$=pt,this.orderConnector=Zt,this.globalMessageService=Wt,this.loadOrderDetails$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(Jt),(0,S.U)(on=>on.payload),(0,P.w)(on=>this.orderConnector.get(on.userId,on.orderCode).pipe((0,S.U)(An=>new jt(An)),(0,B.K)(An=>(0,J.of)(new Ke((0,h.cxH)(An)))))))),this.cancelOrder$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(Vt),(0,S.U)(on=>on.payload),(0,P.w)(on=>this.orderConnector.cancel(on.userId,on.orderCode,on.cancelRequestInput).pipe((0,S.U)(()=>new We),(0,B.K)(An=>(An.error?.errors.forEach($r=>this.globalMessageService.add($r.message,h.xUg.MSG_TYPE_ERROR)),(0,J.of)(new kt((0,h.cxH)(An)))))))))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ae),n.LFG(h.IWp))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),(()=>{class Ze{constructor(pt,Zt){this.actions$=pt,this.orderConnector=Zt,this.loadConsignmentTracking$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(ge),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.orderConnector.getConsignmentTracking(Wt.orderCode,Wt.consignmentCode,Wt.userId).pipe((0,S.U)(on=>new re(on)),(0,B.K)(on=>(0,J.of)(new Me((0,h.cxH)(on))))))))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ae))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),(()=>{class Ze{constructor(pt,Zt){this.actions$=pt,this.orderConnector=Zt,this.createReturnRequest$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(Nt),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.orderConnector.return(Wt.userId,Wt.returnRequestInput).pipe((0,S.U)(on=>new Ut(on)),(0,B.K)(on=>(0,J.of)(new tt((0,h.cxH)(on)))))))),this.loadReturnRequest$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(bn),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.orderConnector.getReturnRequestDetail(Wt.userId,Wt.returnRequestCode).pipe((0,S.U)(on=>new Tt(on)),(0,B.K)(on=>(0,J.of)(new At((0,h.cxH)(on)))))))),this.cancelReturnRequest$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(ke),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.orderConnector.cancelReturnRequest(Wt.userId,Wt.returnRequestCode,Wt.returnRequestModification).pipe((0,S.U)(()=>new Ht),(0,B.K)(on=>(0,J.of)(new ln((0,h.cxH)(on)))))))),this.loadReturnRequestList$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(en),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.orderConnector.getReturnRequestList(Wt.userId,Wt.pageSize,Wt.currentPage,Wt.sort).pipe((0,S.U)(on=>new Vn(on)),(0,B.K)(on=>(0,J.of)(new In((0,h.cxH)(on))))))))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ae))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),(()=>{class Ze{constructor(pt,Zt,Wt){this.actions$=pt,this.replenishmentOrderConnector=Zt,this.globalMessageService=Wt,this.loadReplenishmentOrderDetails$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(X),(0,S.U)(on=>on.payload),(0,P.w)(on=>this.replenishmentOrderConnector.load(on.userId,on.replenishmentOrderCode).pipe((0,S.U)(An=>new Rn(An)),(0,B.K)(An=>(0,J.of)(new yr((0,h.cxH)(An)))))))),this.cancelReplenishmentOrder$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(et),(0,S.U)(on=>on.payload),(0,P.w)(on=>this.replenishmentOrderConnector.cancelReplenishmentOrder(on.userId,on.replenishmentOrderCode).pipe((0,S.U)(An=>new Wn(An)),(0,B.K)(An=>(An?.error?.errors.forEach($r=>this.globalMessageService.add($r.message,h.xUg.MSG_TYPE_ERROR)),(0,J.of)(new vr((0,h.cxH)(An)))))))))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ze),n.LFG(h.IWp))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),(()=>{class Ze{constructor(pt,Zt){this.actions$=pt,this.replenishmentOrderConnector=Zt,this.loadUserReplenishmentOrders$=(0,ne.GW)(()=>this.actions$.pipe((0,ne.l4)(rr),(0,S.U)(Wt=>Wt.payload),(0,P.w)(Wt=>this.replenishmentOrderConnector.loadHistory(Wt.userId,Wt.pageSize,Wt.currentPage,Wt.sort).pipe((0,S.U)(on=>new Rr(on)),(0,B.K)(on=>(0,J.of)(new Ar((0,h.cxH)(on))))))))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(n.LFG(ne.eX),n.LFG(ze))},Ze.\u0275prov=n.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})()],No={tracking:{}};function ai(Ze=No,Mt){switch(Mt.type){case it:return{tracking:Mt.payload};case He:return No}return Ze}const Jo={};function Uo(Ze=Jo,Mt){return Mt.type===nn?Mt.payload:Ze}const ci={returnRequests:[],pagination:{},sorts:[]};function Tr(Ze=ci,Mt){return Mt.type===vn?Mt.payload?Mt.payload:ci:Ze}const To={orders:[],pagination:{},sorts:[]};function po(Ze=To,Mt){switch(Mt.type){case Qn:return Mt.payload?Mt.payload:To;case Ln:return To}return Ze}const no={};function ro(Ze=no,Mt){switch(Mt.type){case oe:case yt:return Mt.payload?Mt.payload:no;default:return Ze}}const _i={replenishmentOrders:[],pagination:{},sorts:[]};function kn(Ze=_i,Mt){switch(Mt.type){case Dn:return Mt.payload?Mt.payload:_i;case yt:{const pt=Mt.payload,Zt=[...Ze.replenishmentOrders??[]],Wt=Zt.findIndex(on=>on.replenishmentOrderCode===pt.replenishmentOrderCode);return-1===Wt?_i:(Zt[Wt]={...pt},{...Ze,replenishmentOrders:Zt})}}return Ze}const Mo=new n.OlP("OrderReducers"),Hr={provide:Mo,useFactory:function Bo(){return{orders:h.kPG.loaderReducer(ht,po),orderDetail:h.kPG.loaderReducer(Ne,Uo),replenishmentOrders:h.kPG.loaderReducer(an,kn),orderReturn:h.kPG.loaderReducer(lt),orderReturnList:h.kPG.loaderReducer(Je,Tr),consignmentTracking:ai,replenishmentOrder:h.kPG.loaderReducer(Gt,ro)}}};let kr=(()=>{class Ze{}return Ze.\u0275fac=function(pt){return new(pt||Ze)},Ze.\u0275mod=n.oAB({type:Ze}),Ze.\u0275inj=n.cJS({providers:[Hr],imports:[ne.sQ.forFeature(ko),e.Aw.forFeature("order",Mo)]}),Ze})(),fo=(()=>{class Ze{}return Ze.\u0275fac=function(pt){return new(pt||Ze)},Ze.\u0275mod=n.oAB({type:Ze}),Ze.\u0275inj=n.cJS({providers:[...Lo,ae,ze,Ye,he],imports:[kr]}),Ze})()},679:(_e,ie,v)=>{"use strict";v.d(ie,{FV:()=>at});var n=v(4650),e=v(3749),h=v(9057),F=v(529),S=v(4129),w=v(1737),P=v(7221),B=v(6895),Z=v(2732);let V=(()=>{class ze{constructor(he){this.converter=he}convert(he,ge){return void 0===ge&&(ge={...he}),he.entries&&(ge.entries=he.entries.map(de=>this.convertOrderEntry(de,he.code,he.appliedProductPromotions))),he.consignments&&(ge.consignments=he.consignments.map(de=>({...de,entries:de.entries?.map(it=>({...it,orderEntry:this.convertOrderEntry(it.orderEntry,he.code,he.appliedProductPromotions)}))}))),he.unconsignedEntries&&(ge.unconsignedEntries=he.unconsignedEntries.map(de=>this.convertOrderEntry(de,he.code,he.appliedProductPromotions))),ge}convertOrderEntry(he,ge,de){return{...he,product:this.converter.convert(he?.product,h.jrf),orderCode:ge,promotions:this.converter.convert({item:he,promotions:de},e.Cx)}}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),G=(()=>{class ze{constructor(he){this.converter=he}convert(he,ge){return void 0===ge&&(ge={...he}),he.entries&&(ge.entries=he.entries.map(de=>({...de,product:this.converter.convert(de.product,h.jrf),promotions:this.converter.convert({item:de,promotions:he.appliedProductPromotions},e.Cx)}))),ge}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),J=(()=>{class ze{constructor(he){this.converter=he}convert(he,ge){return void 0===ge&&(ge={...he}),he.returnEntries&&(ge.returnEntries=he.returnEntries.map(de=>({...de,orderEntry:this.convertOrderEntry(de.orderEntry)}))),ge}convertOrderEntry(he){return{...he,product:this.converter.convert(he?.product,h.jrf)}}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),q=(()=>{class ze{convert(he,ge){return void 0===ge&&(ge={...he}),he.replenishmentStartDate&&(ge.replenishmentStartDate=this.convertDate(he.replenishmentStartDate)),ge}convertDate(he){return`${he}T${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})}:00${h.IMh.getLocalTimezoneOffset()}`}}return ze.\u0275fac=function(he){return new(he||ze)},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})(),ne=(()=>{class ze{constructor(he,ge,de){this.http=he,this.occEndpoints=ge,this.converter=de}load(he,ge){const de=this.occEndpoints.buildUrl("orderDetail",{urlParams:{userId:he,orderId:ge}});let it=new F.WM;return he===h.Fds&&(it=h.Fox.createHeader(h._Re,!0,it)),this.http.get(de,{headers:it}).pipe(this.converter.pipeable(S.YA))}loadHistory(he,ge,de,it){const He={};ge&&(He.pageSize=ge.toString()),de&&(He.currentPage=de.toString()),it&&(He.sort=it.toString());const Te=this.occEndpoints.buildUrl("orderHistory",{urlParams:{userId:he},queryParams:He});return this.http.get(Te).pipe(this.converter.pipeable(S.Rc))}getConsignmentTracking(he,ge,de=h.zyp){const it=this.occEndpoints.buildUrl("consignmentTracking",{urlParams:{userId:de,orderCode:he,consignmentCode:ge}});return this.http.get(it).pipe(this.converter.pipeable(S.m1))}cancel(he,ge,de){const it=this.occEndpoints.buildUrl("cancelOrder",{urlParams:{userId:he,orderId:ge}}),He=new F.WM({"Content-Type":"application/json"});return this.http.post(it,de,{headers:He}).pipe((0,P.K)(Te=>(0,w._)(Te)))}createReturnRequest(he,ge){const de=this.occEndpoints.buildUrl("returnOrder",{urlParams:{userId:he}}),it=new F.WM({"Content-Type":"application/json"});return ge=this.converter.convert(ge,S.Nz),this.http.post(de,ge,{headers:it}).pipe((0,P.K)(He=>(0,w._)(He)),this.converter.pipeable(S.Ge))}loadReturnRequestList(he,ge,de,it){const He={};ge&&(He.pageSize=ge.toString()),de&&(He.currentPage=de.toString()),it&&(He.sort=it.toString());const Te=this.occEndpoints.buildUrl("orderReturns",{urlParams:{userId:he},queryParams:He});return this.http.get(Te).pipe(this.converter.pipeable(S.SL))}loadReturnRequestDetail(he,ge){const de=this.occEndpoints.buildUrl("orderReturnDetail",{urlParams:{userId:he,returnRequestCode:ge}});return this.http.get(de).pipe(this.converter.pipeable(S.Ge))}cancelReturnRequest(he,ge,de){const it=this.occEndpoints.buildUrl("cancelReturn",{urlParams:{userId:he,returnRequestCode:ge}}),He=new F.WM({"Content-Type":"application/json"});return this.http.patch(it,de,{headers:He}).pipe((0,P.K)(Te=>(0,w._)(Te)))}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),ue=(()=>{class ze{constructor(he,ge,de){this.http=he,this.occEndpoints=ge,this.converter=de}placeOrder(he,ge,de){let it=new F.WM({"Content-Type":"application/x-www-form-urlencoded"});return he===h.Fds&&(it=h.Fox.createHeader(h._Re,!0,it)),this.http.post(this.getPlaceOrderEndpoint(he,ge,de.toString()),{},{headers:it}).pipe((0,P.K)(He=>(0,w._)((0,h.cxH)(He))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(S.YA))}getPlaceOrderEndpoint(he,ge,de){return this.occEndpoints.buildUrl("placeOrder",{urlParams:{userId:he},queryParams:{cartId:ge,termsChecked:de}})}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),ae=(()=>{class ze{constructor(he,ge,de){this.http=he,this.occEndpoints=ge,this.converter=de}load(he,ge){return this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetails",{urlParams:{userId:he,replenishmentOrderCode:ge}})).pipe(this.converter.pipeable(S.JD))}loadReplenishmentDetailsHistory(he,ge,de,it,He){const Te={};return de&&(Te.pageSize=de.toString()),it&&(Te.currentPage=it.toString()),He&&(Te.sort=He.toString()),this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetailsHistory",{urlParams:{userId:he,replenishmentOrderCode:ge},queryParams:Te})).pipe(this.converter.pipeable(S.Rc))}cancelReplenishmentOrder(he,ge){const de=(new F.WM).set("Content-Type","application/json");return this.http.patch(this.occEndpoints.buildUrl("cancelReplenishmentOrder",{urlParams:{userId:he,replenishmentOrderCode:ge}}),{},{headers:de}).pipe(this.converter.pipeable(S.JD))}loadHistory(he,ge,de,it){const He={};ge&&(He.pageSize=ge.toString()),de&&(He.currentPage=de.toString()),it&&(He.sort=it.toString());const Te=this.occEndpoints.buildUrl("replenishmentOrderHistory",{urlParams:{userId:he},queryParams:He});return this.http.get(Te).pipe(this.converter.pipeable(S.HN))}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})(),Ee=(()=>{class ze{constructor(he,ge,de){this.http=he,this.occEndpoints=ge,this.converter=de}scheduleReplenishmentOrder(he,ge,de,it){ge=this.converter.convert(ge,S.dC);const He=(new F.WM).set("Content-Type","application/json");return this.http.post(this.getScheduleReplenishmentOrderEndpoint(it,he,de.toString()),ge,{headers:He}).pipe((0,P.K)(Te=>(0,w._)((0,h.cxH)(Te))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(S.JD))}getScheduleReplenishmentOrderEndpoint(he,ge,de){return this.occEndpoints.buildUrl("scheduleReplenishmentOrder",{urlParams:{userId:he},queryParams:{cartId:ge,termsChecked:de}})}}return ze.\u0275fac=function(he){return new(he||ze)(n.LFG(F.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},ze.\u0275prov=n.Yz7({token:ze,factory:ze.\u0275fac}),ze})();const Ye={backend:{occ:{endpoints:{orderHistory:"users/${userId}/orders",orderDetail:"users/${userId}/orders/${orderId}?fields=FULL",consignmentTracking:"users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking",cancelOrder:"users/${userId}/orders/${orderId}/cancellation",returnOrder:"users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",orderReturns:"users/${userId}/orderReturns?fields=BASIC",orderReturnDetail:"users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",cancelReturn:"users/${userId}/orderReturns/${returnRequestCode}",replenishmentOrderDetails:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderDetailsHistory:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}/orders",cancelReplenishmentOrder:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderHistory:"users/${userId}/replenishmentOrders?fields=FULL,replenishmentOrders(FULL, purchaseOrderNumber)",placeOrder:"users/${userId}/orders?fields=FULL"}}}};let at=(()=>{class ze{}return ze.\u0275fac=function(he){return new(he||ze)},ze.\u0275mod=n.oAB({type:ze}),ze.\u0275inj=n.cJS({providers:[(0,h.i51)(Ye),{provide:Z.gV,useClass:ne},{provide:Z.ir,useClass:ae},{provide:Z.Ru,useClass:ue},{provide:Z.yN,useClass:Ee},{provide:S.Ge,useExisting:J,multi:!0},{provide:S.YA,useExisting:V,multi:!0},{provide:S.JD,useExisting:G,multi:!0},{provide:S.dC,useExisting:q,multi:!0}],imports:[B.ez]}),ze})()},4129:(_e,ie,v)=>{"use strict";v.d(ie,{GH:()=>Z,Ge:()=>Ce,HN:()=>Ge,JD:()=>Me,Kr:()=>J,Nz:()=>we,Rc:()=>re,SL:()=>Ae,U1:()=>ne,Vh:()=>ue,WI:()=>ge,YA:()=>Te,_w:()=>de,dC:()=>ht,kp:()=>Ee,m1:()=>Ie,oL:()=>B,pF:()=>He,uZ:()=>P,wT:()=>Ye});var n=v(9057),e=v(4650),h=v(1446),F=v(610),S=v(3749);class w extends n.W8x{}let P=(()=>{class Je extends w{}return Je.type="OrderPlacedEvent",Je})(),B=(()=>{class Je extends w{}return Je.type="ReplenishmentOrderScheduledEvent",Je})();const Z="order",V="orderCore";let J=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(){return function G(){return(0,n.wvQ)({facade:J,feature:V,methods:["getOrderDetails","loadOrderDetails","clearOrderDetails","getOrderHistoryList","getOrderHistoryListLoaded","loadOrderList","clearOrderList","getConsignmentTracking","loadConsignmentTracking","clearConsignmentTracking","cancelOrder","getCancelOrderLoading","getCancelOrderSuccess","resetCancelOrderProcessState"],async:!0})}()},providedIn:"root"}),Je})(),ne=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(){return function q(){return(0,n.wvQ)({facade:ne,feature:V,methods:["createOrderReturnRequest","getOrderReturnRequest","getOrderReturnRequestList","loadOrderReturnRequestDetail","loadOrderReturnRequestList","clearOrderReturnRequestList","getReturnRequestLoading","getReturnRequestSuccess","clearOrderReturnRequestDetail","cancelOrderReturnRequest","getCancelReturnRequestLoading","getCancelReturnRequestSuccess","resetCancelReturnRequestProcessState"],async:!0})}()},providedIn:"root"}),Je})(),ue=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(){return(0,n.wvQ)({facade:Je,feature:V,methods:["getOrderDetails","clearPlacedOrder","setPlacedOrder","placeOrder"]})},providedIn:"root"}),Je})(),Ee=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(){return function ae(){return(0,n.wvQ)({facade:Ee,feature:V,methods:["loadReplenishmentOrderDetails","getReplenishmentOrderDetails","getReplenishmentOrderDetailsLoading","getReplenishmentOrderDetailsSuccess","getReplenishmentOrderDetailsError","clearReplenishmentOrderDetails","cancelReplenishmentOrder","getCancelReplenishmentOrderLoading","getCancelReplenishmentOrderSuccess","getCancelReplenishmentOrderError","clearCancelReplenishmentOrderProcessState","getReplenishmentOrderHistoryList","getReplenishmentOrderHistoryListLoading","getReplenishmentOrderHistoryListError","getReplenishmentOrderHistoryListSuccess","loadReplenishmentOrderList","clearReplenishmentOrderList"],async:!0})}()},providedIn:"root"}),Je})(),Ye=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(){return(0,n.wvQ)({facade:Je,feature:V,methods:["scheduleReplenishmentOrder"]})},providedIn:"root"}),Je})();const he={routing:{routes:{orders:{paths:["my-account/orders"]},orderDetails:{paths:["my-account/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderGuest:{paths:["guest/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturn:{paths:["my-account/order/return/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturnConfirmation:{paths:["my-account/order/return/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancel:{paths:["my-account/order/cancel/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancelConfirmation:{paths:["my-account/order/cancel/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},returnRequestDetails:{paths:["my-account/return-request/:returnCode"],paramsMapping:{returnCode:"rma"}},replenishmentOrders:{paths:["my-account/my-replenishments"]},replenishmentDetails:{paths:["my-account/my-replenishment/:replenishmentOrderCode"],paramsMapping:{replenishmentOrderCode:"replenishmentOrderCode"}},replenishmentConfirmation:{paths:["replenishment/confirmation"]},orderConfirmation:{paths:["order-confirmation"]}}}},ge=new e.OlP("OrderDetailsOrderEntriesContext"),de=new e.OlP("OrderConfirmationOrderEntriesContext");function it(){return{featureModules:{[Z]:{cmsComponents:["CancelOrderComponent","CancelOrderConfirmationComponent","ReturnOrderComponent","ReturnOrderConfirmationComponent","AccountOrderDetailsActionsComponent","AccountOrderDetailsItemsComponent","AccountOrderDetailsTotalsComponent","AccountOrderDetailsShippingComponent","AccountOrderHistoryComponent","ReplenishmentDetailItemsComponent","ReplenishmentDetailTotalsComponent","ReplenishmentDetailShippingComponent","ReplenishmentDetailActionsComponent","ReplenishmentDetailOrderHistoryComponent","AccountReplenishmentHistoryComponent","ReturnRequestOverviewComponent","ReturnRequestItemsComponent","ReturnRequestTotalsComponent","OrderReturnRequestListComponent","OrderConfirmationThankMessageComponent","OrderConfirmationItemsComponent","OrderConfirmationTotalsComponent","OrderConfirmationOverviewComponent","ReplenishmentConfirmationMessageComponent","ReplenishmentConfirmationOverviewComponent","ReplenishmentConfirmationItemsComponent","ReplenishmentConfirmationTotalsComponent"],dependencies:[S.O0]},[V]:Z}}}let He=(()=>{class Je{}return Je.\u0275fac=function(Ne){return new(Ne||Je)},Je.\u0275mod=e.oAB({type:Je}),Je.\u0275inj=e.cJS({providers:[(0,n.x2j)(it),(0,n.i51)(he)],imports:[F.Bz.forChild([{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{pageLabel:"order",cxRoute:"orderGuest"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"orderDetails",cxContext:{[S.eE]:ge}}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancel"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancelConfirmation"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturn"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturnConfirmation"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"orders"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentDetails"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentOrders"}},{path:null,canActivate:[n.a1M,h.al$],component:h.wAB,data:{cxRoute:"returnRequestDetails"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderConfirmation",cxContext:{[S.eE]:de}}}])]}),Je})();const Te=new e.OlP("OrderNormalizer"),Me=new e.OlP("ReplenishmentOrderNormalizer"),re=new e.OlP("OrderHistoryNormalizer"),Ie=new e.OlP("ConsignmentTrackingNormalizer"),Ce=new e.OlP("OrderReturnRequestNormalizer"),we=new e.OlP("OrderReturnRequestInputSerializer"),Ae=new e.OlP("OrderReturnsNormalizer"),Ge=new e.OlP("ReplenishmentOrderHistoryNormalizer"),ht=new e.OlP("ReplenishmentOrderFormSerializer")},5883:(_e,ie,v)=>{"use strict";v.d(ie,{E1:()=>ge,UY:()=>h,al:()=>it});var n=v(4650),e=v(9057);const h={budgetCode:"budgetCode",unitCode:"unitCode",costCenterCode:"costCenterCode",userCode:"userCode",userGroupCode:"userGroupCode",permissionCode:"permissionCode",addressCode:"addressId"},F=`organization/budgets/:${h.budgetCode}`,S={budgetCode:"code"},w={routing:{routes:{orgBudget:{paths:["organization/budgets"]},orgBudgetCreate:{paths:["organization/budgets/create"]},orgBudgetDetails:{paths:[`${F}`],paramsMapping:S},orgBudgetCostCenters:{paths:[`${F}/cost-centers`],paramsMapping:S},orgBudgetEdit:{paths:[`${F}/edit`],paramsMapping:S}}}},P=`organization/cost-centers/:${h.costCenterCode}`,B={costCenterCode:"code"},Z={routing:{routes:{orgCostCenter:{paths:["organization/cost-centers"]},orgCostCenterCreate:{paths:["organization/cost-centers/create"]},orgCostCenterDetails:{paths:[`${P}`],paramsMapping:B},orgCostCenterBudgets:{paths:[`${P}/budgets`],paramsMapping:B},orgCostCenterAssignBudgets:{paths:[`${P}/budgets/assign`],paramsMapping:B},orgCostCenterEdit:{paths:[`${P}/edit`],paramsMapping:B}}}},V={layoutSlots:{CompanyPageTemplate:{slots:["BodyContent"]}}},G=`organization/purchase-limits/:${h.permissionCode}`,J={permissionCode:"code"},q={routing:{routes:{orgPurchaseLimit:{paths:["organization/purchase-limits"]},orgPurchaseLimitCreate:{paths:["organization/purchase-limits/create"]},orgPurchaseLimitDetails:{paths:[G],paramsMapping:J},orgPurchaseLimitEdit:{paths:[`${G}/edit`],paramsMapping:J}}}},ne=`organization/units/:${h.unitCode}`,ue={unitCode:"uid",addressId:"id",userCode:"customerId"},ae={routing:{routes:{orgUnits:{paths:["organization/units"]},orgUnitCreate:{paths:["organization/units/create"]},orgUnitDetails:{paths:[ne],paramsMapping:ue},orgUnitEdit:{paths:[`${ne}/edit`],paramsMapping:ue},orgUnitChildren:{paths:[`${ne}/children`],paramsMapping:ue},orgUnitCreateChild:{paths:[`${ne}/children/create`],paramsMapping:ue},orgUnitUserList:{paths:[`${ne}/users`],paramsMapping:ue},orgUnitCreateUser:{paths:[`${ne}/users/create`],paramsMapping:ue},orgUnitUserRoles:{paths:[`${ne}/users/:userCode/roles`],paramsMapping:ue},orgUnitApprovers:{paths:[`${ne}/approvers`],paramsMapping:ue},orgUnitAssignApprovers:{paths:[`${ne}/approvers/assign`],paramsMapping:ue},orgUnitAddressList:{paths:[`${ne}/addresses`],paramsMapping:ue},orgUnitAddressCreate:{paths:[`${ne}/addresses/create`],paramsMapping:ue},orgUnitAddressDetails:{paths:[`${ne}/addresses/:addressId`],paramsMapping:ue},orgUnitAddressEdit:{paths:[`${ne}/addresses/:addressId/edit`],paramsMapping:ue},orgUnitCostCenters:{paths:[`${ne}/cost-centers`],paramsMapping:ue},orgUnitCreateCostCenter:{paths:[`${ne}/cost-centers/create`],paramsMapping:ue}}}},Ee=`organization/user-groups/:${h.userGroupCode}`,Ye={userGroupCode:"uid"},at={routing:{routes:{orgUserGroup:{paths:["organization/user-groups"]},orgUserGroupCreate:{paths:["organization/user-groups/create"]},orgUserGroupDetails:{paths:[Ee],paramsMapping:Ye},orgUserGroupEdit:{paths:[`${Ee}/edit`],paramsMapping:Ye},orgUserGroupUsers:{paths:[`${Ee}/users`],paramsMapping:Ye},orgUserGroupAssignUsers:{paths:[`${Ee}/users/assign`],paramsMapping:Ye},orgUserGroupPermissions:{paths:[`${Ee}/purchase-limits`],paramsMapping:Ye},orgUserGroupAssignPermissions:{paths:[`${Ee}/purchase-limits/assign`],paramsMapping:Ye}}}},ze=`organization/users/:${h.userCode}`,Ve={userCode:"customerId"},he={routing:{routes:{orgUser:{paths:["organization/users"]},orgUserCreate:{paths:["organization/users/create"]},orgUserDetails:{paths:[ze],paramsMapping:Ve},orgUserEdit:{paths:[`${ze}/edit`],paramsMapping:Ve},orgUserChangePassword:{paths:[`${ze}/change-password`],paramsMapping:Ve},orgUserApprovers:{paths:[`${ze}/approvers`],paramsMapping:Ve},orgUserAssignApprovers:{paths:[`${ze}/approvers/assign`],paramsMapping:Ve},orgUserPermissions:{paths:[`${ze}/purchase-limits`],paramsMapping:Ve},orgUserAssignPermissions:{paths:[`${ze}/purchase-limits/assign`],paramsMapping:Ve},orgUserUserGroups:{paths:[`${ze}/user-groups`],paramsMapping:Ve},orgUserAssignUserGroups:{paths:[`${ze}/user-groups/assign`],paramsMapping:Ve}}}},ge="organizationAdministration";function de(){return{featureModules:{[ge]:{cmsComponents:["ManageBudgetsListComponent","ManageCostCentersListComponent","ManagePermissionsListComponent","ManageUnitsListComponent","ManageUsersListComponent","ManageUserGroupsListComponent"]}}}}let it=(()=>{class He{}return He.\u0275fac=function(Me){return new(Me||He)},He.\u0275mod=n.oAB({type:He}),He.\u0275inj=n.cJS({providers:[(0,e.i51)(V),(0,e.i51)({routing:{routes:{organization:{paths:["organization"]}}}}),(0,e.i51)(w),(0,e.i51)(Z),(0,e.i51)(q),(0,e.i51)(ae),(0,e.i51)(he),(0,e.i51)(at),(0,e.x2j)(de)]}),He})()},6506:(_e,ie,v)=>{"use strict";v.d(ie,{$g:()=>Vt,NU:()=>jt,iB:()=>vn,mR:()=>Ke,ns:()=>Pt,r3:()=>Yt,u6:()=>Kt});var n=v(4650),e=v(6895),h=v(3749),F=v(9057),S=v(1446),w=v(610),P=v(8896),B=v(1086),Z=v(4850),V=v(2986),G=v(2198);function J(Re,Dt){1&Re&&n.GkF(0)}function q(Re,Dt){if(1&Re&&(n.TgZ(0,"label",4),n.YNc(1,J,1,0,"ng-container",5),n.qZA()),2&Re){const De=n.oxw(2),tt=n.MAs(2);n.xp6(1),n.Q6J("ngIf",De.isDisabled())("ngIfThen",tt)}}function ne(Re,Dt){1&Re&&n.GkF(0)}const ue=function(Re,Dt,De){return{ownerType:Re,entityKey:Dt,displayOnly:De}},ae=function(Re,Dt){return{cxRoute:Re,params:Dt}},Ee=function(Re){return{forceReload:!0,resolveIssues:Re}};function Ye(Re,Dt){if(1&Re&&(n.TgZ(0,"a",6),n.ALo(1,"cxUrl"),n.YNc(2,ne,1,0,"ng-container",5),n.qZA()),2&Re){const De=n.oxw(2),tt=n.MAs(2);n.Q6J("routerLink",n.lcZ(1,5,n.WLB(11,ae,De.getRoute(),n.kEZ(7,ue,De.getOwnerType(),De.getEntityKey(),De.getDisplayOnly()))))("queryParams",n.VKq(14,Ee,De.hasIssues())),n.uIk("aria-describedby",De.getResolveIssuesA11yDescription()),n.xp6(2),n.Q6J("ngIf",!De.isDisabled())("ngIfThen",tt)}}function at(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,q,2,2,"label",2),n.YNc(2,Ye,3,16,"a",3),n.BQk()),2&Re){const De=n.oxw();n.xp6(1),n.Q6J("ngIf",De.isDisabled()),n.xp6(1),n.Q6J("ngIf",!De.isDisabled())}}function ze(Re,Dt){1&Re&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Re&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.displayConfiguration"),""))}function Ve(Re,Dt){1&Re&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Re&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.editConfiguration")," "))}function he(Re,Dt){1&Re&&(n.ynx(0),n._uU(1),n.ALo(2,"cxTranslate"),n.BQk()),2&Re&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.header.resolveIssues")," "))}function ge(Re,Dt){if(1&Re&&(n.YNc(0,ze,3,3,"ng-container",0),n.YNc(1,Ve,3,3,"ng-container",0),n.YNc(2,he,3,3,"ng-container",0)),2&Re){const De=n.oxw();n.Q6J("ngIf",De.readOnly),n.xp6(1),n.Q6J("ngIf",!De.readOnly&&!De.msgBanner),n.xp6(1),n.Q6J("ngIf",!De.readOnly&&De.msgBanner)}}function de(Re,Dt){if(1&Re&&(n._UZ(0,"cx-configure-cart-entry",4),n.ALo(1,"async")),2&Re){const De=Dt.ngIf,tt=n.oxw(2).ngIf,Ut=n.oxw();n.Q6J("cartEntry",tt)("readOnly",n.lcZ(1,4,Ut.readonly$))("msgBanner",!0)("disabled",De.disabled)}}const it=function(Re){return{count:Re}};function He(Re,Dt){if(1&Re&&(n.ynx(0),n._UZ(1,"cx-icon",1),n.TgZ(2,"div",2),n._uU(3),n.ALo(4,"cxTranslate"),n.YNc(5,de,2,6,"cx-configure-cart-entry",3),n.ALo(6,"async"),n.ALo(7,"async"),n.qZA(),n.BQk()),2&Re){const De=n.oxw().ngIf,tt=n.oxw();n.xp6(1),n.Q6J("type",tt.iconTypes.ERROR),n.xp6(1),n.s9C("id",tt.getErrorMessageId(De)),n.xp6(1),n.hij(" ",n.xi3(4,4,"configurator.notificationBanner.numberOfIssues",n.VKq(11,it,tt.getNumberOfIssues(De)))," "),n.xp6(2),n.Q6J("ngIf",n.lcZ(6,7,n.lcZ(7,9,tt.shouldShowButton$)&&(null==De||null==De.product?null:De.product.configurable)&&tt.quantityControl$))}}function Te(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,He,8,13,"ng-container",0),n.ALo(2,"async"),n.BQk()),2&Re){const De=Dt.ngIf,tt=n.oxw();n.xp6(1),n.Q6J("ngIf",tt.hasIssues(De)&&!n.lcZ(2,1,tt.readonly$))}}function Me(Re,Dt){1&Re&&(n.TgZ(0,"span",4),n._uU(1),n.ALo(2,"cxTranslate"),n.qZA()),2&Re&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"configurator.a11y.cartEntryInfoIntro")," "))}const re=function(Re,Dt){return{attribute:Re,value:Dt}};function Ie(Re,Dt){if(1&Re&&(n.TgZ(0,"div",5)(1,"span",6),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"div",7),n._uU(5),n.qZA(),n.TgZ(6,"div",8),n._uU(7),n.qZA()()),2&Re){const De=Dt.$implicit,tt=Dt.index,Ut=n.oxw(4);n.uIk("aria-describedby",Ut.getHiddenConfigurationInfoId(tt)),n.xp6(1),n.s9C("id",Ut.getHiddenConfigurationInfoId(tt)),n.xp6(1),n.hij(" ",n.xi3(3,5,"configurator.a11y.cartEntryInfo",n.WLB(8,re,De.configurationLabel,De.configurationValue))," "),n.xp6(3),n.hij(" ",null==De?null:De.configurationLabel,": "),n.xp6(2),n.hij(" ",null==De?null:De.configurationValue," ")}}function Ce(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,Me,3,3,"span",2),n.YNc(2,Ie,8,11,"div",3),n.BQk()),2&Re){const De=n.oxw(2).ngIf;n.xp6(1),n.Q6J("ngIf",De.configurationInfos.length>0),n.xp6(1),n.Q6J("ngForOf",De.configurationInfos)}}function we(Re,Dt){if(1&Re&&(n._UZ(0,"cx-configure-cart-entry",9),n.ALo(1,"async")),2&Re){const De=Dt.ngIf,tt=n.oxw(2).ngIf,Ut=n.oxw();n.Q6J("cartEntry",tt)("readOnly",n.lcZ(1,4,Ut.readonly$))("msgBanner",!1)("disabled",De.disabled)}}function Ae(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,Ce,3,2,"ng-container",0),n.YNc(2,we,2,6,"cx-configure-cart-entry",1),n.ALo(3,"async"),n.ALo(4,"async"),n.BQk()),2&Re){const De=n.oxw().ngIf,tt=n.oxw();n.xp6(1),n.Q6J("ngIf",tt.hasStatus(De)),n.xp6(1),n.Q6J("ngIf",n.lcZ(3,2,n.lcZ(4,4,tt.shouldShowButton$)&&(null==De||null==De.product?null:De.product.configurable)&&tt.quantityControl$))}}function Ge(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,Ae,5,6,"ng-container",0),n.BQk()),2&Re){const De=Dt.ngIf,tt=n.oxw();n.xp6(1),n.Q6J("ngIf",tt.isAttributeBasedConfigurator(De))}}const ht=function(Re,Dt){return{ownerType:Re,entityKey:Dt}};function Je(Re,Dt){if(1&Re&&(n.ynx(0),n.TgZ(1,"a",1),n.ALo(2,"cxUrl"),n.ALo(3,"cxTranslate"),n._uU(4),n.ALo(5,"cxTranslate"),n.qZA(),n.BQk()),2&Re){const De=n.oxw().ngIf,tt=n.oxw();n.xp6(1),n.Q6J("routerLink",n.lcZ(2,3,n.WLB(12,ae,"configure"+De.configuratorType,n.WLB(9,ht,tt.ownerTypeProduct,De.code)))),n.uIk("aria-label",n.lcZ(3,5,"configurator.a11y.configureProduct")),n.xp6(3),n.Oqu(n.lcZ(5,7,"configurator.header.toconfig"))}}function lt(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,Je,6,15,"ng-container",0),n.BQk()),2&Re){const De=Dt.ngIf;n.xp6(1),n.Q6J("ngIf",De.configurable)}}function Ne(Re,Dt){if(1&Re&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"span",13),n._uU(5),n.ALo(6,"cxNumeric"),n.qZA(),n.BQk()),2&Re){const De=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"configurator.attribute.quantity")),n.xp6(3),n.Oqu(n.lcZ(6,4,null==De?null:De.formattedQuantity))}}function an(Re,Dt){if(1&Re&&(n.ynx(0),n.TgZ(1,"span",12),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"span",13),n._uU(5),n.qZA(),n.BQk()),2&Re){const De=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"configurator.overviewForm.itemPrice")),n.xp6(3),n.Oqu(null==De?null:De.formattedPrice)}}function Gt(Re,Dt){if(1&Re&&(n.TgZ(0,"div",7)(1,"span",8),n._uU(2),n.qZA(),n.TgZ(3,"div",9),n._uU(4),n.qZA(),n.TgZ(5,"div",10),n.YNc(6,Ne,7,6,"ng-container",0),n.qZA(),n.TgZ(7,"div",11),n.YNc(8,an,6,4,"ng-container",0),n.qZA()()),2&Re){const De=Dt.$implicit,tt=Dt.index,Ut=n.oxw(4);n.uIk("aria-describedby",Ut.getHiddenItemInfoId(tt)),n.xp6(1),n.s9C("id",Ut.getHiddenItemInfoId(tt)),n.xp6(1),n.hij(" ",Ut.getHiddenItemInfo(De)," "),n.xp6(2),n.hij(" ",null==De?null:De.name," "),n.xp6(2),n.Q6J("ngIf",null==De?null:De.formattedQuantity),n.xp6(2),n.Q6J("ngIf",null==De?null:De.formattedPrice)}}function Jt(Re,Dt){if(1&Re){const De=n.EpF();n.ynx(0),n.TgZ(1,"div",2),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.TgZ(4,"button",3),n.NdJ("click",function(){n.CHM(De);const Ut=n.oxw(3);return n.KtG(Ut.toggleItems())}),n.TgZ(5,"div",4),n._uU(6),n.qZA()(),n.TgZ(7,"div",5),n.YNc(8,Gt,9,6,"div",6),n.ALo(9,"async"),n.qZA(),n.BQk()}if(2&Re){const De=Dt.ngIf,tt=n.oxw(3);n.xp6(2),n.hij(" ",n.xi3(3,7,"configurator.header.items",n.VKq(12,it,De))," "),n.xp6(2),n.uIk("aria-expanded",!tt.hideItems)("aria-label",tt.getItemsMsg(De)),n.xp6(2),n.hij(" ",tt.getButtonText()," "),n.xp6(1),n.ekj("open",!tt.hideItems),n.xp6(1),n.Q6J("ngForOf",n.lcZ(9,10,tt.lineItems$))}}function ft(Re,Dt){if(1&Re&&(n._UZ(0,"cx-configure-cart-entry",14),n.ALo(1,"async")),2&Re){const De=Dt.ngIf,tt=n.oxw(2).ngIf,Ut=n.oxw();n.Q6J("cartEntry",tt)("readOnly",n.lcZ(1,4,Ut.readonly$))("msgBanner",!1)("disabled",De.disabled)}}function nn(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,Jt,10,14,"ng-container",0),n.ALo(2,"async"),n.YNc(3,ft,2,6,"cx-configure-cart-entry",1),n.ALo(4,"async"),n.ALo(5,"async"),n.BQk()),2&Re){const De=n.oxw().ngIf,tt=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,tt.numberOfLineItems$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,4,n.lcZ(5,6,tt.shouldShowButton$)&&(null==De||null==De.product?null:De.product.configurable)&&tt.quantityControl$))}}function Xt(Re,Dt){if(1&Re&&(n.ynx(0),n.YNc(1,nn,6,8,"ng-container",0),n.BQk()),2&Re){const De=Dt.ngIf,tt=n.oxw();n.xp6(1),n.Q6J("ngIf",tt.isBundleBasedConfigurator(De))}}var Vt;!function(Re){let Dt;var De;(De=Dt=Re.OwnerType||(Re.OwnerType={})).PRODUCT="product",De.CART_ENTRY="cartEntry",De.ORDER_ENTRY="orderEntry"}(Vt||(Vt={}));var qe=(()=>{return(Re=qe||(qe={})).Success="SUCCESS",Re.Info="INFO",Re.Warning="WARNING",Re.Error="ERROR",qe;var Re})(),rn=(()=>{return(Re=rn||(rn={})).KEY="KEY",Re.NAME="NAME",Re.QTY="QTY",Re.FORMATTED_PRICE="FORMATTED_PRICE",Re.PRICE_VALUE="PRICE_VALUE",rn;var Re})(),me=(()=>{return(Re=me||(me={})).VERSION="CI#@#VERSION",Re.CURRENCY="CI#@#CURRENCY",Re.LINE_ITEM="LI",Re.LINE_ITEM_DELIMITER="#",me;var Re})();const Et="INITIAL";class Ke{static getOwnerKey(Dt,De){if(!De||!Dt)throw new Error("We expect an owner ID and an owner type");return Dt+"/"+De}static createInitialOwner(){return{key:Et,configuratorType:Et,id:Et,type:Vt.OwnerType.PRODUCT}}static isInitialOwner(Dt){return Dt.configuratorType===Et}static createOwner(Dt,De,tt="CPQCONFIGURATOR"){return{type:Dt,id:De,configuratorType:tt,key:Ke.getOwnerKey(Dt,De)}}}let jt=(()=>{class Re{constructor(De){this.userIdService=De}setOwnerKey(De){De.key=Ke.getOwnerKey(De.type,De.id)}getComposedOwnerId(De,tt){return De+"+"+tt}decomposeOwnerId(De){const tt=De.split("+");if(2!==tt.length)throw new Error("We only expect 2 parts in ownerId, separated by +, but was: "+De);return{documentId:tt[0],entryNumber:tt[1]}}getCartId(De){const tt=De?.user?.uid===F.Fds?De.guid:De?.code;if(!tt)throw new Error("Cart ID is not defined");return tt}hasIssues(De){return this.getNumberOfIssues(De)>0}getNumberOfIssues(De){let tt=0;return De?.statusSummaryList?.forEach(Ut=>{Ut.status===qe.Error&&(tt=Ut.numberOfIssues||0)}),tt}isAttributeBasedConfigurator(De){return!!De&&("CPQCONFIGURATOR"===De||"TEXTFIELD"===De)}isBundleBasedConfigurator(De){return!!De&&"CLOUDCPQCONFIGURATOR"===De}isActiveCartContext(De){return(De?.location$??P.E).pipe((0,Z.U)(tt=>tt!==h.Bx.SaveForLater&&tt!==h.Bx.SavedCart))}getSlotsFromLayoutConfiguration(De,tt,Ut,Xe){const At=De.layoutSlots;return At?At[tt][Ut][Xe].slots:[]}}return Re.\u0275fac=function(De){return new(De||Re)(n.LFG(F.XBV))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),wt=(()=>{class Re{constructor(De){this.commonConfigUtilsService=De}hasIssues(){return this.commonConfigUtilsService.hasIssues(this.cartEntry)}getOwnerType(){return void 0!==this.cartEntry.orderCode?Vt.OwnerType.ORDER_ENTRY:Vt.OwnerType.CART_ENTRY}getEntityKey(){const De=this.cartEntry.entryNumber;if(void 0===De)throw new Error("No entryNumber present in entry");return this.cartEntry.orderCode?this.commonConfigUtilsService.getComposedOwnerId(this.cartEntry.orderCode,De):De.toString()}getRoute(){const De=this.cartEntry.product?.configuratorType;return this.readOnly?"configureOverview"+De:"configure"+De}getDisplayOnly(){return this.readOnly}isDisabled(){return!this.readOnly&&this.disabled}getResolveIssuesA11yDescription(){return!this.readOnly&&this.msgBanner?"cx-error-msg-"+this.cartEntry.entryNumber:void 0}}return Re.\u0275fac=function(De){return new(De||Re)(n.Y36(jt))},Re.\u0275cmp=n.Xpm({type:Re,selectors:[["cx-configure-cart-entry"]],inputs:{cartEntry:"cartEntry",readOnly:"readOnly",msgBanner:"msgBanner",disabled:"disabled"},decls:3,vars:1,consts:[[4,"ngIf"],["configureText",""],["class","disabled-link",4,"ngIf"],["class","link cx-action-link","cxAutoFocus","",3,"routerLink","queryParams",4,"ngIf"],[1,"disabled-link"],[4,"ngIf","ngIfThen"],["cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"]],template:function(De,tt){1&De&&(n.YNc(0,at,3,2,"ng-container",0),n.YNc(1,ge,3,3,"ng-template",null,1,n.W1O)),2&De&&n.Q6J("ngIf",tt.cartEntry)},dependencies:[e.O5,w.yS,F.l2T,F.X$D],encapsulation:2,changeDetection:0}),Re})(),dn=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({imports:[e.ez,F.bhT,F.LUR,S.QX1,w.Bz]}),Re})(),kt=(()=>{class Re{constructor(De,tt){this.commonConfigUtilsService=De,this.cartItemContext=tt,this.iconTypes=S.e1G,this.orderEntry$=this.cartItemContext?.item$??P.E,this.quantityControl$=this.cartItemContext?.quantityControl$??P.E,this.readonly$=this.cartItemContext?.readonly$??P.E,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasIssues(De){return this.commonConfigUtilsService.hasIssues(De)}getNumberOfIssues(De){return this.commonConfigUtilsService.getNumberOfIssues(De)}getErrorMessageId(De){return"cx-error-msg-"+De.entryNumber}}return Re.\u0275fac=function(De){return new(De||Re)(n.Y36(jt),n.Y36(h.yj,8))},Re.\u0275cmp=n.Xpm({type:Re,selectors:[["cx-configurator-issues-notification"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"],[3,"id"],["class","cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[1,"cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(De,tt){1&De&&(n.YNc(0,Te,3,3,"ng-container",0),n.ALo(1,"async")),2&De&&n.Q6J("ngIf",n.lcZ(1,1,tt.orderEntry$))},dependencies:[e.O5,S.oJW,wt,e.Ov,F.X$D],encapsulation:2}),Re})(),We=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[(0,S.qCb)({id:h.oC.ITEM_CONFIGURATOR_ISSUES,position:S.otu.REPLACE,component:kt})],imports:[e.ez,F.bhT,F.LUR,S.QX1,dn]}),Re})(),nt=(()=>{class Re{constructor(De,tt){this.cartItemContext=De,this.commonConfigUtilsService=tt,this.orderEntry$=this.cartItemContext?.item$??P.E,this.quantityControl$=this.cartItemContext?.quantityControl$??P.E,this.readonly$=this.cartItemContext?.readonly$??P.E,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasStatus(De){const tt=De.configurationInfos;return!!tt&&tt.length>0&&"NONE"!==tt[0].status}isAttributeBasedConfigurator(De){const tt=De.configurationInfos;return!!tt&&this.commonConfigUtilsService.isAttributeBasedConfigurator(tt[0]?.configuratorType)}getHiddenConfigurationInfoId(De){return"cx-configuration-hidden-info-"+De.toString()}}return Re.\u0275fac=function(De){return new(De||Re)(n.Y36(h.yj,8),n.Y36(jt))},Re.\u0275cmp=n.Xpm({type:Re,selectors:[["cx-configurator-cart-entry-info"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],["class","cx-intro cx-visually-hidden",4,"ngIf"],["class","cx-configuration-info",4,"ngFor","ngForOf"],[1,"cx-intro","cx-visually-hidden"],[1,"cx-configuration-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-label"],["aria-hidden","true",1,"cx-value"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(De,tt){1&De&&(n.YNc(0,Ge,2,1,"ng-container",0),n.ALo(1,"async")),2&De&&n.Q6J("ngIf",n.lcZ(1,1,tt.orderEntry$))},dependencies:[e.sg,e.O5,wt,e.Ov,F.X$D],encapsulation:2}),Re})(),Nt=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[(0,S.qCb)({id:h.oC.ITEM_DETAILS,position:S.otu.AFTER,component:nt})],imports:[e.ez,F.bhT,F.LUR,S.QX1,We,dn]}),Re})();var Pt=(()=>{return(Re=Pt||(Pt={})).CONFIGURATOR="configurator",Re.CONFIGURATOR_PRODUCT_CARD="configuratorProductCard",Pt;var Re})();let un=(()=>{class Re{constructor(De,tt){this.productListItemContext=De,this.currentProductService=tt,this.nonConfigurable={configurable:!1},this.product$=(this.productListItemContext?this.productListItemContext.product$:this.currentProductService?this.currentProductService.getProduct(Pt.CONFIGURATOR):(0,B.of)(null)).pipe((0,Z.U)(Ut=>Ut||this.nonConfigurable)),this.ownerTypeProduct=Vt.OwnerType.PRODUCT}}return Re.\u0275fac=function(De){return new(De||Re)(n.Y36(S.Z6X,8),n.Y36(S.pHG,8))},Re.\u0275cmp=n.Xpm({type:Re,selectors:[["cx-configure-product"]],decls:2,vars:3,consts:[[4,"ngIf"],["cxAutoFocus","",1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(De,tt){1&De&&(n.YNc(0,lt,2,1,"ng-container",0),n.ALo(1,"async")),2&De&&n.Q6J("ngIf",n.lcZ(1,1,tt.product$))},dependencies:[e.O5,w.yS,e.Ov,F.l2T,F.X$D],encapsulation:2,changeDetection:0}),Re})(),bn=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[(0,S.qCb)({id:S.RVA.ITEM_ACTIONS,position:S.otu.AFTER,component:un})],imports:[e.ez,w.Bz,F.pEA.withConfig({cmsComponents:{ConfigureProductComponent:{component:un}}}),F.bhT,F.LUR,S.QX1]}),Re})(),_t=(()=>{class Re{retrieveLineItems(De){let tt=[];if(De.configurationInfos){const Ut=De.configurationInfos.filter(Tt=>Tt&&(Tt.configurationLabel||Tt.configurationValue)),Xe=Ut[0]?.configurationLabel,At=Ut[0]?.configurationValue;Xe!==me.VERSION?Ut.forEach(Tt=>tt.push(this.prepareLineItem(Tt))):Xe===me.VERSION&&Number(At)>=2?tt=this.processConfigurationInfos(Ut):this.logWarning("Wrong ConfigurationInfo version")}return tt}prepareLineItem(De){const tt=De.configurationValue?De.configurationValue.split("x"):[];return{name:De.configurationLabel?this.removeDelimiter(De.configurationLabel):"",formattedQuantity:tt.length>=1?tt[0].trim():"",formattedPrice:tt.length>=2?tt[1].trim():""}}removeDelimiter(De){let tt=De.trim();return":"===tt.charAt(tt.length-1)&&(tt=tt.substr(0,tt.length-1)),tt}processConfigurationInfos(De){const tt=new Map;De.forEach(At=>this.processConfigurationInfoEntry(tt,At));const Ut=new Map(Array.from(tt).sort((At,Tt)=>At[0]-Tt[0]));return Array.from(Ut.values())}processConfigurationInfoEntry(De,tt){if(tt.configurationLabel){const Ut=tt.configurationLabel.split(me.LINE_ITEM_DELIMITER);Ut[0]===me.LINE_ITEM&&this.addLineItemData(De,Ut,tt.configurationValue?tt.configurationValue:"")}}addLineItemData(De,tt,Ut){if(3===tt.length){const Xe=Number(tt[1]);let At;switch(tt[2]){case rn.NAME:At=this.getOrCreateLineItem(De,Xe),At.name=Ut;break;case rn.QTY:At=this.getOrCreateLineItem(De,Xe),At.formattedQuantity=Ut;break;case rn.FORMATTED_PRICE:At=this.getOrCreateLineItem(De,Xe),At.formattedPrice=Ut;break;case rn.KEY:case rn.PRICE_VALUE:break;default:this.logWarning("Wrong LineItem format")}}else this.logWarning("Wrong LineItem format")}getOrCreateLineItem(De,tt){const Ut=De.get(tt)??{name:"",formattedQuantity:"",formattedPrice:""};return De.get(tt)||De.set(tt,Ut),Ut}logWarning(De){(0,n.X6Q)()&&console.warn(De)}}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})(),Ue=(()=>{class Re{constructor(De,tt,Ut,Xe,At){this.commonConfigUtilsService=De,this.configCartEntryBundleInfoService=tt,this.breakpointService=Ut,this.translation=Xe,this.cartItemContext=At,this.orderEntry$=this.cartItemContext?.item$??P.E,this.quantityControl$=this.cartItemContext?.quantityControl$??P.E,this.readonly$=this.cartItemContext?.readonly$??P.E,this.hideItems=!0,this.lineItems$=this.orderEntry$.pipe((0,Z.U)(Tt=>this.configCartEntryBundleInfoService.retrieveLineItems(Tt))),this.numberOfLineItems$=this.lineItems$.pipe((0,Z.U)(Tt=>Tt.length)),this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}toggleItems(){this.hideItems=!this.hideItems}isBundleBasedConfigurator(De){const tt=De.configurationInfos;return!!tt&&this.commonConfigUtilsService.isBundleBasedConfigurator(tt[0]?.configuratorType)}isDesktop(){return this.breakpointService.isUp(S.Bst.md)}getButtonText(De){return De||(De=""),this.hideItems?this.translation.translate("configurator.header.show").pipe((0,V.q)(1)).subscribe(tt=>De+=tt):this.translation.translate("configurator.header.hide").pipe((0,V.q)(1)).subscribe(tt=>De+=tt),De}getItemsMsg(De){let tt="";return this.translation.translate("configurator.a11y.cartEntryBundleInfo",{items:De}).pipe((0,V.q)(1)).subscribe(Ut=>tt=Ut),this.getButtonText(tt)}getHiddenItemInfo(De){let tt="";return De.name&&De.formattedPrice&&De.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundle",{name:De.name,price:De.formattedPrice,quantity:De.formattedQuantity}).pipe((0,V.q)(1)).subscribe(Ut=>tt=Ut):De.name&&De.formattedPrice?this.translation.translate("configurator.a11y.cartEntryBundleNameWithPrice",{name:De.name,price:De.formattedPrice}).pipe((0,V.q)(1)).subscribe(Ut=>tt=Ut):De.name&&De.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundleNameWithQuantity",{name:De.name,quantity:De.formattedQuantity}).pipe((0,V.q)(1)).subscribe(Ut=>tt=Ut):this.translation.translate("configurator.a11y.cartEntryBundleName",{name:De.name}).pipe((0,V.q)(1)).subscribe(Ut=>tt=Ut),tt}getHiddenItemInfoId(De){return"cx-item-hidden-info-"+De.toString()}}return Re.\u0275fac=function(De){return new(De||Re)(n.Y36(jt),n.Y36(_t),n.Y36(S.r),n.Y36(F.D7D),n.Y36(h.yj,8))},Re.\u0275cmp=n.Xpm({type:Re,selectors:[["cx-configurator-cart-entry-bundle-info"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[1,"cx-number-items"],[3,"click"],[1,"cx-toggle-hide-items"],[1,"cx-item-infos"],["class","cx-item-info",4,"ngFor","ngForOf"],[1,"cx-item-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-item-name"],["aria-hidden","true",1,"cx-item-quantity"],["aria-hidden","true",1,"cx-item-price"],[1,"cx-identifier"],[1,"cx-item"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(De,tt){1&De&&(n.YNc(0,Xt,2,1,"ng-container",0),n.ALo(1,"async")),2&De&&n.Q6J("ngIf",n.lcZ(1,1,tt.orderEntry$))},dependencies:[e.sg,e.O5,wt,e.Ov,F.X$D,F.bOD],encapsulation:2}),Re})(),ke=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[(0,S.qCb)({id:h.oC.ITEM_BUNDLE_DETAILS,position:S.otu.AFTER,component:Ue})],imports:[e.ez,F.LUR,dn]}),Re})(),mt=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({imports:[We,Nt,ke,dn,bn]}),Re})();const vt={backend:{occ:{endpoints:{product:{configurator:"products/${productCode}?fields=code,configurable,configuratorType",configuratorProductCard:"products/${productCode}?fields=code,description,images(DEFAULT)"}}},loadingScopes:{product:{list:{include:[Pt.CONFIGURATOR]}}}}};let en=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({providers:[(0,F.i51)(vt)]}),Re})(),Yt=(()=>{class Re{}return Re.\u0275fac=function(De){return new(De||Re)},Re.\u0275mod=n.oAB({type:Re}),Re.\u0275inj=n.cJS({imports:[en,mt]}),Re})();var vn;!function(Re){let Dt;var De;(De=Dt=Re.PageType||(Re.PageType={})).CONFIGURATION="configuration",De.OVERVIEW="overview"}(vn||(vn={}));let Kt=(()=>{class Re{constructor(De,tt){this.configUtilsService=De,this.routingService=tt,this.ROUTE_FRAGMENT_CONFIGURE="configure",this.ROUTE_FRAGMENT_OVERVIEW="configureOverview"}extractRouterData(){return this.routingService.getRouterState().pipe((0,G.h)(De=>De.state.params.entityKey),(0,G.h)(De=>void 0===De.nextState),(0,Z.U)(De=>{const tt=this.createOwnerFromRouterState(De),Ut=De.state.semanticRoute;return{owner:tt,isOwnerCartEntry:tt.type===Vt.OwnerType.CART_ENTRY,displayOnly:De.state.params.displayOnly,resolveIssues:"true"===De.state.queryParams?.resolveIssues,skipConflicts:"true"===De.state.queryParams?.skipConflicts,forceReload:"true"===De.state.queryParams?.forceReload,pageType:Ut&&Ut.includes(this.ROUTE_FRAGMENT_OVERVIEW)?vn.PageType.OVERVIEW:vn.PageType.CONFIGURATION}}))}createOwnerFromRouterState(De){const tt=Ke.createInitialOwner(),Ut=De.state.params;if(Ut.ownerType){const At=Ut.entityKey;tt.type=Ut.ownerType,tt.id=At}else tt.type=Vt.OwnerType.PRODUCT,tt.id=Ut.rootProduct;const Xe=De.state.semanticRoute;if(Xe){const At=this.getConfiguratorTypeFromSemanticRoute(Xe);tt.configuratorType=At}return this.configUtilsService.setOwnerKey(tt),tt}getConfiguratorTypeFromSemanticRoute(De){if(De.startsWith(this.ROUTE_FRAGMENT_OVERVIEW))return De.split(this.ROUTE_FRAGMENT_OVERVIEW)[1];if(De.startsWith(this.ROUTE_FRAGMENT_CONFIGURE))return De.split(this.ROUTE_FRAGMENT_CONFIGURE)[1];throw new Error("Not able to detemine configurator type")}}return Re.\u0275fac=function(De){return new(De||Re)(n.LFG(jt),n.LFG(F.Znh))},Re.\u0275prov=n.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})()},2535:(_e,ie,v)=>{"use strict";v.d(ie,{Mc:()=>ht,O4:()=>Ce,oQ:()=>Je,SG:()=>rn});var n=v(4650),e=v(610),h=v(9057),F=v(1446),S=v(6506),w=v(2986),P=v(4850),B=v(7545),Z=v(2198),V=v(5778),G=v(1177);class q{constructor(Et,Ke,jt){this.project=Et,this.concurrent=Ke,this.scheduler=jt}call(Et,Ke){return Ke.subscribe(new ne(Et,this.project,this.concurrent,this.scheduler))}}class ne extends G.Ds{constructor(Et,Ke,jt,wt){super(Et),this.project=Ke,this.concurrent=jt,this.scheduler=wt,this.index=0,this.active=0,this.hasCompleted=!1,jt<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(Et){const{subscriber:Ke,result:jt,value:wt,index:dn}=Et;Ke.subscribeToProjection(jt,wt,dn)}_next(Et){const Ke=this.destination;if(Ke.closed)return void this._complete();const jt=this.index++;if(this.active<this.concurrent){Ke.next(Et);try{const{project:wt}=this,dn=wt(Et,jt);this.scheduler?this.destination.add(this.scheduler.schedule(ne.dispatch,0,{subscriber:this,result:dn,value:Et,index:jt})):this.subscribeToProjection(dn,Et,jt)}catch(wt){Ke.error(wt)}}else this.buffer.push(Et)}subscribeToProjection(Et,Ke,jt){this.active++,this.destination.add((0,G.ft)(Et,new G.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(Et){this._next(Et)}notifyComplete(){const Et=this.buffer;this.active--,Et&&Et.length>0&&this._next(Et.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var ue=v(7221),ae=v(2994),Ee=v(6895),Ye=v(529),at=v(591),ze=v(8723),Ve=v(1737);let he=(()=>{class me{constructor(Ke,jt,wt,dn){this.configuratorRouterExtractorService=Ke,this.breakpointService=jt,this.layoutConfig=wt,this.commonConfiguratorUtilsService=dn}handle(Ke,jt,wt){return jt===me.templateName&&wt===me.sectionHeader?this.compileRouterAndResolution().pipe((0,w.q)(1)).subscribe(dn=>{Ke=Ke.pipe((0,P.U)(kt=>this.getHeaderSlots(kt,dn)))}):jt===me.templateName&&wt===me.sectionNavigation&&this.compileRouterAndResolution().pipe((0,w.q)(1)).subscribe(dn=>{Ke=Ke.pipe((0,P.U)(kt=>this.getNavigationSlots(kt,dn)))}),Ke}compileRouterAndResolution(){return this.configuratorRouterExtractorService.extractRouterData().pipe((0,B.w)(Ke=>this.breakpointService.isUp(F.Bst.lg).pipe((0,P.U)(jt=>({isLargeResolution:jt,routerData:Ke})))))}getHeaderSlots(Ke,jt){if(jt.routerData.pageType===S.iB.PageType.CONFIGURATION){const wt=["PreHeader"];return wt.push(...Ke),wt}return jt.routerData.displayOnly?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionHeaderDisplayOnly,jt.isLargeResolution?F.Bst.lg:F.Bst.xs):Ke}getNavigationSlots(Ke,jt){return jt.routerData.pageType===S.iB.PageType.OVERVIEW&&jt.routerData.displayOnly?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionNavigationDisplayOnly,jt.isLargeResolution?F.Bst.lg:F.Bst.xs):Ke}}return me.templateName="CpqConfigurationTemplate",me.sectionHeaderDisplayOnly="headerDisplayOnly",me.sectionNavigationDisplayOnly="navigationDisplayOnly",me.sectionHeader="header",me.sectionNavigation="navigation",me.\u0275fac=function(Ke){return new(Ke||me)(n.LFG(S.u6),n.LFG(F.r),n.LFG(F.Kpm),n.LFG(S.NU))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),ge=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{CpqConfigurationTemplate:{header:{lg:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]},xs:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]}},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},navigation:{lg:{slots:[]},slots:["CpqConfigMenu"]},navigationDisplayOnly:{lg:{slots:[]},xs:{slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]}},lg:{slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigMenu","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]},slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]}}}),{provide:F.NyP,useExisting:he,multi:!0}]}),me})();const de={routing:{routes:{configureCLOUDCPQCONFIGURATOR:{paths:["configure/cpq/:ownerType/entityKey/:entityKey"]}}}};let it=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)(de)],imports:[e.Bz.forChild([{path:null,data:{cxRoute:"configureCLOUDCPQCONFIGURATOR"},component:F.wAB,canActivate:[F.al$]}]),F.iqf,ge]}),me})();const He={routing:{routes:{configureOverviewCLOUDCPQCONFIGURATOR:{paths:["configure-overview/cpq/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/cpq/:ownerType/entityKey/:entityKey"]}}}};let Te=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)(He)],imports:[e.Bz.forChild([{path:null,component:F.wAB,data:{cxRoute:"configureOverviewCLOUDCPQCONFIGURATOR"},canActivate:[F.al$]}]),ge]}),me})(),Me=(()=>{class me{constructor(Ke,jt){this.http=Ke,this.occEndpointsService=jt}getCpqAccessData(){return this.http.get(this.occEndpointsService.buildUrl("getCpqAccessData"))}}return me.\u0275fac=function(Ke){return new(Ke||me)(n.LFG(Ye.eN),n.LFG(h.Lz0))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),re=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275prov=n.Yz7({token:me,factory:function(Ke){let jt=null;return jt=Ke?new(Ke||me):n.LFG(h.DeH),jt},providedIn:"root"}),me})(),Ie=(()=>{class me{constructor(Ke,jt,wt){this.cpqAccessLoaderService=Ke,this.authService=jt,this.config=wt,this.EXPIRED_TOKEN={accessToken:"INVALID DUMMY",accessTokenExpirationTime:0,endpoint:""}}ngOnDestroy(){this.currentCpqAccessSubscription?.unsubscribe(),this.currentAuthServiceSubscription?.unsubscribe()}getCpqAccessData(){return(!this.cpqAccessData$||this._cpqAccessData$.hasError)&&this.initCpqAccessData(),this.cpqAccessData$}renewCpqAccessData(){this.cpqAccessData$&&(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN),this.authService.isUserLoggedIn().pipe((0,w.q)(1)).subscribe(Ke=>{Ke&&this.startAutoFetchingCpqAccessData()}))}initCpqAccessData(){this._cpqAccessData$=new at.X(this.EXPIRED_TOKEN),this.cpqAccessData$=this._cpqAccessData$.pipe((0,Z.h)(Ke=>!this.isTokenExpired(Ke))),this.currentAuthServiceSubscription?.unsubscribe(),this.currentAuthServiceSubscription=this.authService.isUserLoggedIn().pipe((0,V.x)()).subscribe(Ke=>{Ke?(this.stopAutoFetchingCpqAccessData(),this.startAutoFetchingCpqAccessData()):(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN))})}stopAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription?.unsubscribe()}startAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription=this.cpqAccessLoaderService.getCpqAccessData().pipe(function J(me,Et=Number.POSITIVE_INFINITY,Ke){return Et=(Et||0)<1?Number.POSITIVE_INFINITY:Et,jt=>jt.lift(new q(me,Et,Ke))}(Ke=>(0,ze.H)(this.fetchNextTokenIn(Ke)).pipe((0,B.w)(()=>this.cpqAccessLoaderService.getCpqAccessData())))).subscribe(this._cpqAccessData$)}fetchNextTokenIn(Ke){const jt=this.config.productConfigurator.cpq?.authentication;if(jt){let wt=Ke.accessTokenExpirationTime-Date.now()-jt.tokenExpirationBuffer;return wt<jt.tokenMinValidity?wt=jt.tokenMinValidity:wt>jt.tokenMaxValidity&&(wt=jt.tokenMaxValidity),wt}throw new Error("CPQ authentication configuration not present")}isTokenExpired(Ke){const jt=this.config.productConfigurator.cpq?.authentication;if(jt)return Date.now()>Ke.accessTokenExpirationTime-jt.tokenExpirationBuffer;throw new Error("CPQ authentication configuration not present")}}return me.\u0275fac=function(Ke){return new(Ke||me)(n.LFG(Me),n.LFG(h.e80),n.LFG(re))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Ce="x-cpq-configurator";let we=(()=>{class me{constructor(Ke){this.cpqAccessStorageService=Ke,this.HEADER_ATTR_CPQ_SESSION_ID="x-cpq-session-id",this.HEADER_ATTR_CPQ_NO_COOKIES="x-cpq-disable-cookies",this.cpqSessionId=null}intercept(Ke,jt){return Ke.headers.has(Ce)?this.cpqAccessStorageService.getCpqAccessData().pipe((0,w.q)(1),(0,B.w)(wt=>jt.handle(this.enrichHeaders(Ke,wt)).pipe((0,ue.K)(dn=>this.handleError(dn,jt,Ke)),(0,ae.b)(dn=>this.extractCpqSessionId(dn))))):jt.handle(Ke)}handleError(Ke,jt,wt){return Ke instanceof Ye.UA&&403===Ke.status?(this.cpqAccessStorageService.renewCpqAccessData(),this.cpqAccessStorageService.getCpqAccessData().pipe((0,w.q)(1),(0,B.w)(dn=>jt.handle(this.enrichHeaders(wt,dn)).pipe((0,ae.b)(kt=>this.extractCpqSessionId(kt)))))):(0,Ve._)(Ke)}extractCpqSessionId(Ke){(Ke instanceof Ye.Zn||Ke instanceof Ye.UA)&&Ke.headers.has(this.HEADER_ATTR_CPQ_SESSION_ID)&&(this.cpqSessionId=Ke.headers.get(this.HEADER_ATTR_CPQ_SESSION_ID))}enrichHeaders(Ke,jt){let wt=Ke.clone({url:jt.endpoint+Ke.url,headers:new Ye.WM({Authorization:"Bearer "+jt.accessToken,[this.HEADER_ATTR_CPQ_NO_COOKIES]:"true"})});return this.cpqSessionId&&(wt=wt.clone({setHeaders:{[this.HEADER_ATTR_CPQ_SESSION_ID]:this.cpqSessionId}})),wt}}return me.\u0275fac=function(Ke){return new(Ke||me)(n.LFG(Ie))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Ae={productConfigurator:{cpq:{authentication:{tokenExpirationBuffer:1e4,tokenMaxValidity:864e5,tokenMinValidity:5e3}}}};let Ge=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[{provide:Ye.TP,useClass:we,multi:!0},(0,h.i51)(Ae)],imports:[Ee.ez]}),me})(),ht=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({routing:{protected:!0}})],imports:[it,Te,Ge]}),me})();const Je="productConfiguratorRulebased",lt=["ConfiguratorForm","ConfiguratorOverviewForm","ConfiguratorUpdateMessage","ConfiguratorAddToCartButton","ConfiguratorMenu","ConfiguratorGroupTitle","ConfiguratorOverviewBanner","ConfiguratorPrevNext","ConfiguratorPriceSummary","ConfiguratorProductTitle","ConfiguratorTabBar","ConfiguratorExitButton","CpqConfiguratorConflictAndErrorMessagesComponent"];function Ne(){return{featureModules:{[Je]:{cmsComponents:lt}}}}let an=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.x2j)(Ne)]}),me})();const Gt={routing:{routes:{configureCPQCONFIGURATOR:{paths:["configure/vc/:ownerType/entityKey/:entityKey"]},configureOverviewCPQCONFIGURATOR:{paths:["configure-overview/vc/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/vc/:ownerType/entityKey/:entityKey"]}}}};let Jt=(()=>{class me{static forRoot(){return{ngModule:me,providers:[(0,h.i51)(Gt)]}}}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[h.TSP.forRoot(),F.S48]}),me})(),ft=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{VariantConfigurationTemplate:{header:{lg:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]},xs:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]}},navigation:{lg:{slots:[]},slots:["VariantConfigMenu"]},lg:{slots:["VariantConfigHeader","VariantConfigMenu","VariantConfigContent","VariantConfigBottombar"]},slots:["VariantConfigHeader","VariantConfigContent","VariantConfigBottombar"]}}})]}),me})(),nn=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[e.Bz.forChild([{path:null,data:{cxRoute:"configureCPQCONFIGURATOR"},component:F.wAB,canActivate:[F.al$]}]),F.iqf,ft]}),me})(),Xt=(()=>{class me{constructor(Ke,jt,wt,dn){this.configuratorRouterExtractorService=Ke,this.breakpointService=jt,this.layoutConfig=wt,this.commonConfiguratorUtilsService=dn}handle(Ke,jt,wt){return jt===me.templateName&&"header"===wt&&this.configuratorRouterExtractorService.extractRouterData().pipe((0,w.q)(1)).subscribe(dn=>{dn.displayOnly&&(Ke=Ke.pipe((0,B.w)(()=>this.breakpointService.isUp(F.Bst.lg)),(0,P.U)(kt=>this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,me.templateName,me.sectionDisplayOnlyName,kt?F.Bst.lg:F.Bst.xs))))}),Ke}}return me.templateName="VariantConfigurationOverviewTemplate",me.sectionDisplayOnlyName="headerDisplayOnly",me.\u0275fac=function(Ke){return new(Ke||me)(n.LFG(S.u6),n.LFG(F.r),n.LFG(F.Kpm),n.LFG(S.NU))},me.\u0275prov=n.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),Vt=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({providers:[(0,h.i51)({layoutSlots:{VariantConfigurationOverviewTemplate:{header:{lg:{slots:["SiteLogo","VariantConfigOverviewExitButton","MiniCart"]},xs:{slots:["SiteLogo","VariantConfigOverviewExitButton","MiniCart"]}},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},slots:["VariantConfigOverviewHeader","VariantConfigOverviewBanner","VariantConfigOverviewContent","VariantConfigOverviewBottombar"]}}}),{provide:F.NyP,useExisting:Xt,multi:!0}]}),me})(),qe=(()=>{class me{}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[e.Bz.forChild([{path:null,component:F.wAB,data:{cxRoute:"configureOverviewCPQCONFIGURATOR"},canActivate:[F.al$]}]),Vt]}),me})(),rn=(()=>{class me{static forRoot(){return{ngModule:me}}}return me.\u0275fac=function(Ke){return new(Ke||me)},me.\u0275mod=n.oAB({type:me}),me.\u0275inj=n.cJS({imports:[Ee.ez,S.r3,an,nn,qe,Jt.forRoot()]}),me})()},5457:(_e,ie,v)=>{"use strict";v.d(ie,{Vg:()=>J,Yl:()=>S,kd:()=>w});var n=v(4650),e=v(9057),h=v(6895),F=v(529);let S=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275prov=n.Yz7({token:q,factory:function(ue){let ae=null;return ae=ue?new(ue||q):n.LFG(e.DeH),ae},providedIn:"root"}),q})();const w="smartEdit";let P=(()=>{class q{constructor(ue,ae,Ee){this.config=ue,this.location=ae,this.featureModules=Ee}get cmsTicketId(){return this._cmsTicketId}load(){this.isLaunchedInSmartEdit()&&this.featureModules.isConfigured("smartEdit")&&this.featureModules.resolveFeature("smartEdit").subscribe()}isLaunchedInSmartEdit(){const ue=this.location.path().split("?")[0],Ee=this.location.path().split("?")[1]?.split("&").find(Ye=>Ye.startsWith("cmsTicketId="));return this._cmsTicketId=Ee?.split("=")[1],ue.split("/").pop()===this.config.smartEdit?.storefrontPreviewRoute&&!!this._cmsTicketId}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(S),n.LFG(h.Ye),n.LFG(e.q2V))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();const B={smartEdit:{storefrontPreviewRoute:"cx-preview",allowOrigin:"localhost:9002"}},V=[{provide:F.TP,useExisting:(()=>{class q{constructor(ue){this.service=ue}intercept(ue,ae){return this.service.cmsTicketId&&ue.url.includes("/cms/")&&(ue=ue.clone({setParams:{cmsTicketId:this.service.cmsTicketId}})),ae.handle(ue)}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(P))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),multi:!0}];function G(q){return()=>{q.load()}}let J=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({providers:[...V,(0,e.i51)(B),{provide:n.ip1,useFactory:G,deps:[P],multi:!0}]}),q})()},1446:(_e,ie,v)=>{"use strict";v.d(ie,{sAk:()=>tf,rSk:()=>Zs,CY4:()=>Yd,qUU:()=>jg,_x$:()=>cv,_VN:()=>qu,cgP:()=>Gi,p$5:()=>bc,Bst:()=>lu,R8M:()=>wg,sy8:()=>Rg,ncj:()=>xl,wHA:()=>Ic,r:()=>Zn,AkF:()=>Ad,dTQ:()=>Tc,Fy4:()=>Za,bBg:()=>vu,Jv5:()=>jf,exf:()=>uo,al$:()=>tr,wtB:()=>Vd,S48:()=>rf,T2n:()=>ts,ObY:()=>Zv,pHG:()=>So,kal:()=>Nf,Myk:()=>ii,Lr3:()=>Cg,I$v:()=>js,Eo6:()=>bd,uEG:()=>Po,Lh6:()=>ul,GjU:()=>Gg,Yre:()=>Sv,Obx:()=>yg,Lt1:()=>Lv,RRe:()=>oi,Hyp:()=>Jd,Ahv:()=>Xu,Fym:()=>gs,hfq:()=>bi,iqf:()=>Ff,O2g:()=>jd,mUh:()=>lm,e1G:()=>Kn,oJW:()=>yo,QX1:()=>wr,g0H:()=>Ov,ik0:()=>pu,o8g:()=>Zp,odZ:()=>Td,Td$:()=>mf,oPH:()=>Qo,K9x:()=>qi,Q3W:()=>Xi,Kpm:()=>ha,LOH:()=>If,xuE:()=>Pn,FLS:()=>rh,Ixg:()=>Hv,R7z:()=>$s,cOq:()=>rs,qqZ:()=>bg,$zX:()=>Tv,Kcf:()=>Vf,lzR:()=>Hf,z4w:()=>ba,xRf:()=>pm,AG5:()=>vl,VnX:()=>Md,LcC:()=>tl,F9u:()=>zg,WCT:()=>vc,$3S:()=>ki,f5$:()=>Ni,otu:()=>Kr,NyP:()=>Vs,_Gt:()=>Dr,kl2:()=>Tl,wAB:()=>fi,JSc:()=>lg,ISW:()=>ja,QtL:()=>nl,u3b:()=>yf,X84:()=>Sg,Ird:()=>gf,z2b:()=>Wg,k5W:()=>ff,UUf:()=>mu,pvk:()=>Cl,knA:()=>oh,E7s:()=>nm,xZn:()=>Sl,tFc:()=>El,GZp:()=>Al,Z6X:()=>Ja,e1w:()=>Cs,fw4:()=>rm,RVA:()=>Wa,FHW:()=>cm,dDJ:()=>zv,Sk1:()=>yl,zah:()=>Bv,nKP:()=>Da,lc1:()=>Sf,Quc:()=>Ef,fVH:()=>Od,k$G:()=>Df,Fjo:()=>hg,F4:()=>Wf,gJ3:()=>Mv,iNG:()=>gi,ORR:()=>Ui,Fme:()=>Bi,_fG:()=>Dg,aNp:()=>Af,fsT:()=>kd,v5t:()=>sm,gJ4:()=>Ug,Fpw:()=>Iv,ac$:()=>Mf,dfC:()=>ms,U$I:()=>xf,wmr:()=>Ig,FS_:()=>gc,HrZ:()=>wd,XiQ:()=>Wv,TrH:()=>Au,MuM:()=>fm,qCb:()=>Yp,ke7:()=>Hi});var n=v(6895),e=v(4650),h=v(9057),F=v(591),S=v(6053),w=v(2654),P=v(1086),B=v(6498),Z=v(839),V=v(8514),G=v(567),J=v(8896),q=v(1221),ne=v(4715),ue=v(5254),ae=v(8929),Ee=v(8723),Ye=v(5409),at=v(8139),ze=v(353),Ve=v(4241);function ge(a){const{subscriber:_,counter:r,period:l}=a;_.next(r),this.schedule({subscriber:_,counter:r+1,period:l},l)}var de=v(6787),it=v(2198),He=v(2994),Te=v(4850),Me=v(2986),re=v(7224),Ie=v(1709),Ce=v(5778),we=v(7545),Ae=v(5154),Ge=v(7604),ht=v(8117),Je=v(1059),lt=v(537),Ne=v(9403),Gt=v(7168),Jt=v(2014),ft=v(8003),nn=v(7221),Xt=v(13),Vt=v(1307),qe=v(373),rn=v(7770),me=v(655),Et=v(1481),Ke=v(610),jt=v(1848),wt=v(4006),dn=v(7039),kt=v(3753),We=v(3489);const nt={leading:!0,trailing:!1};class _t{constructor(_,r,l,C){this.duration=_,this.scheduler=r,this.leading=l,this.trailing=C}call(_,r){return r.subscribe(new Ue(_,this.duration,this.scheduler,this.leading,this.trailing))}}class Ue extends We.L{constructor(_,r,l,C,M){super(_),this.duration=r,this.scheduler=l,this.leading=C,this.trailing=M,this._hasTrailingValue=!1,this._trailingValue=null}_next(_){this.throttled?this.trailing&&(this._trailingValue=_,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ke,this.duration,{subscriber:this})),this.leading?this.destination.next(_):this.trailing&&(this._trailingValue=_,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const _=this.throttled;_&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),_.unsubscribe(),this.remove(_),this.throttled=null)}}function ke(a){const{subscriber:_}=a;_.clearThrottle()}function vt(a,_,r,l){const C=window&&!!window.document&&window.document.documentElement;let M=C&&_?window:r;if(a&&(M=a&&C&&"string"==typeof a?function en(a,_,r){return(r?window.document:_).querySelector(a)}(a,r.nativeElement,l):a,!M))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return M}function Yt(a){return a&&!a.firstChange}const Kt={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Re={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Dt{constructor(_=!0){this.vertical=_,this.propsMap=_?Kt:Re}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Xe(a){return["Window","global"].some(r=>Object.prototype.toString.call(a).includes(r))}function At(a,_){return a?_.document.documentElement:null}function Tt(a,_){const r=function dt({container:a,isWindow:_,axis:r}){const{offsetHeightKey:l,clientHeightKey:C}=Ht(r);return In(a,_,l,C)}(_);return _.isWindow?function Ot(a,_,r){const{axis:l,container:C,isWindow:M}=r,{offsetHeightKey:se,clientHeightKey:rt}=Ht(l),Lt=a+Nn(At(M,C),l,M),sn=In(_.nativeElement,M,se,rt),zn=function Vn(a,_,r){const l=_.topKey();if(a.getBoundingClientRect)return a.getBoundingClientRect()[l]+Nn(a,_,r)}(_.nativeElement,l,M)+sn;return{height:a,scrolled:Lt,totalToScroll:zn,isWindow:M}}(r,a,_):function ln(a,_,r){const{axis:l,container:C}=r;return{height:a,scrolled:C[l.scrollTopKey()],totalToScroll:C[l.scrollHeightKey()],isWindow:!1}}(r,0,_)}function Ht(a){return{offsetHeightKey:a.offsetHeightKey(),clientHeightKey:a.clientHeightKey()}}function In(a,_,r,l){if(isNaN(a[r])){const C=At(_,a);return C?C[l]:0}return a[r]}function Nn(a,_,r){const l=_.pageYOffsetKey(),C=_.scrollTopKey(),M=_.offsetTopKey();return isNaN(window.pageYOffset)?At(r,a)[C]:a.ownerDocument?a.ownerDocument.defaultView[l]:a[M]}function ur(a,_={down:0,up:0},r){let l,C;if(a.totalToScroll<=0)return!1;const M=a.isWindow?a.scrolled:a.height+a.scrolled;return r?(l=(a.totalToScroll-M)/a.totalToScroll,C=(_?.down?_.down:0)/10):(l=a.scrolled/(a.scrolled+(a.totalToScroll-M)),C=(_?.up?_.up:0)/10),l<=C}class pe{constructor({totalToScroll:_}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=_}updateScrollPosition(_){return this.lastScrollPosition=_}updateTotalToScroll(_){this.lastTotalToScroll!==_&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=_)}updateScroll(_,r){this.updateScrollPosition(_),this.updateTotalToScroll(r)}updateTriggeredFlag(_,r){r?this.triggered.down=_:this.triggered.up=_}isTriggeredScroll(_,r){return r?this.triggered.down===_:this.triggered.up===_}}function et(a){const{scrollDown:_,stats:{scrolled:r}}=a;return{type:_?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:r}}}let yt=(()=>{class a{constructor(r,l){this.element=r,this.zone=l,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:r,infiniteScrollDisabled:l,infiniteScrollDistance:C}){const M=Yt(r),se=Yt(l),rt=Yt(C),Lt=!se&&!this.infiniteScrollDisabled||se&&!l.currentValue||rt;(M||se||rt)&&(this.destroyScroller(),Lt&&this.setup())}setup(){(function vn(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function X(a){const{scrollContainer:_,scrollWindow:r,element:l,fromRoot:C}=a,M=function tt({windowElement:a,axis:_}){return function Ut(a,_){const r=a.isWindow||_&&!_.nativeElement?_:_.nativeElement;return{...a,container:r}}({axis:_,isWindow:Xe(a)},a)}({axis:new Dt(!a.horizontal),windowElement:vt(_,r,l,C)}),se=new pe({totalToScroll:Tt(l,M)}),Lt={up:a.upDistance,down:a.downDistance};return function oe(a){let _=(0,kt.R)(a.container,"scroll");return a.throttle&&(_=_.pipe(function bn(a,_=ze.P,r=nt){return l=>l.lift(new _t(a,_,r.leading,r.trailing))}(a.throttle,void 0,{leading:!0,trailing:!0}))),_}({container:M.container,throttle:a.throttle}).pipe((0,Ie.zg)(()=>(0,P.of)(Tt(l,M))),(0,Te.U)(sn=>function O(a,_,r){const{scrollDown:l,fire:C}=function On(a,_,r){const l=function yn(a,_){return a<_.scrolled}(a,_);return{fire:ur(_,r,l),scrollDown:l}}(a,_,r);return{scrollDown:l,fire:C,stats:_}}(se.lastScrollPosition,sn,Lt)),(0,He.b)(({stats:sn})=>se.updateScroll(sn.scrolled,sn.totalToScroll)),(0,it.h)(({fire:sn,scrollDown:zn,stats:{totalToScroll:vi}})=>function De(a,_,r){return!!(a&&_||!r&&_)}(a.alwaysCallback,sn,se.isTriggeredScroll(vi,zn))),(0,He.b)(({scrollDown:sn,stats:{totalToScroll:zn}})=>{se.updateTriggeredFlag(zn,sn)}),(0,Te.U)(et))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(r=>this.handleOnScroll(r))})}handleOnScroll({type:r,payload:l}){const C="[NGX_ISE] DOWN"===r?this.scrolled:this.scrolledUp;(function qt(a){return a.observed??a.observers.length>0})(C)&&this.zone.run(()=>C.emit(l))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.R0b))},a.\u0275dir=e.lG2({type:a,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),a})(),Qt=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();var Bn=v(529),Rn=v(5024),yr=v(6943),Hn=v(8555);const wn=function(a){return{"anonymous-consent-banner-hidden":a}};function Wn(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.viewDetails())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()()()()(),e.BQk()}if(2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngClass",e.VKq(13,wn,!r)),e.xp6(5),e.hij(" ",e.lcZ(7,5,"anonymousConsents.banner.title")," "),e.xp6(3),e.hij(" ",e.lcZ(10,7,"anonymousConsents.banner.description")," "),e.xp6(4),e.hij(" ",e.lcZ(14,9,"anonymousConsents.banner.viewDetails")," "),e.xp6(3),e.hij(" ",e.lcZ(17,11,"anonymousConsents.banner.allowAll")," ")}}const vr=["*"];function Yn(a,_){1&a&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function rr(a,_){1&a&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"cxTranslate"),e._UZ(3,"div",14),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"anonymousConsents.dialog.legalDescription")," "))}function Qr(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",18)(1,"cx-consent-management-form",19),e.NdJ("consentChanged",function(C){e.CHM(r);const M=e.oxw(4);return e.KtG(M.onConsentChange(C))}),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw().ngIf,C=e.oxw(3);e.xp6(1),e.Q6J("consentTemplate",r)("requiredConsents",C.requiredConsents)("consent",C.getCorrespondingConsent(r,l))}}function Dn(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Qr,2,3,"div",17),e.BQk()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function _r(a,_){if(1&a&&(e.TgZ(0,"div",15),e.YNc(1,Dn,2,1,"ng-container",16),e.ALo(2,"async"),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.consents$))}}function Fr(a,_){if(1&a){const r=e.EpF();e._UZ(0,"div",4),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",5)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Cross click"))}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",7),e._UZ(9,"cx-icon",8),e.qZA()()(),e.YNc(10,rr,4,3,"div",9),e.TgZ(11,"div",10)(12,"a",11),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.rejectAll())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"a",11),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()(),e.YNc(18,_r,3,3,"div",12),e.ALo(19,"async")}if(2&a){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,8,"common.loaded")),e.xp6(4),e.hij(" ",e.lcZ(5,10,"anonymousConsents.dialog.title")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,12,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE),e.xp6(1),e.Q6J("ngIf",r.showLegalDescription),e.xp6(3),e.Oqu(e.lcZ(14,14,"anonymousConsents.dialog.clearAll")),e.xp6(3),e.Oqu(e.lcZ(17,16,"anonymousConsents.dialog.selectAll")),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,18,r.templates$))}}const Ar=["open"];function Rr(a,_){if(1&a&&e.GkF(0,4),2&a){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const dr=function(a){return{component:a}};function Cr(a,_){if(1&a){const r=e.EpF();e.YNc(0,Rr,1,1,"ng-template",3),e.NdJ("loaded",function(C){e.CHM(r);const M=e.oxw(4);return e.KtG(M.isLoaded(C))})}if(2&a){const r=e.oxw().$implicit,l=e.oxw(3);e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.VKq(3,dr,r))("cxOutletDefer",l.getComponentDeferOptions(r.flexType))}}function $n(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Cr,1,5,null,0),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r.flexType)}}function Jn(a,_){if(1&a&&e.YNc(0,$n,2,1,"ng-container",2),2&a){const r=e.oxw(2);e.Q6J("ngForOf",r.components)}}const Mr=function(a){return{components$:a}};function Gn(a,_){if(1&a&&e.YNc(0,Jn,1,1,"ng-template",1),2&a){const r=e.oxw();e.Q6J("cxOutlet",r.position)("cxOutletContext",e.VKq(2,Mr,r.components$))}}function pr(a,_){if(1&a&&(e._UZ(0,"cx-page-slot",3),e.ALo(1,"async")),2&a){const r=_.$implicit,l=e.oxw(3);e.Q6J("position",r)("isPageFold",r===e.lcZ(1,2,l.pageFoldSlot$))}}function Pr(a,_){if(1&a&&(e.Hsn(0),e.YNc(1,pr,2,4,"cx-page-slot",2),e.ALo(2,"async")),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,r.slots$))}}const qr=function(a,_,r){return{templateName$:a,slots$:_,section$:r}};function Xr(a,_){if(1&a&&e.YNc(0,Pr,3,3,"ng-template",1),2&a){const r=_.ngIf,l=e.oxw();e.Q6J("cxPageTemplateStyle",r)("cxOutlet",r)("cxOutletContext",e.kEZ(3,qr,l.templateName$,l.slots$,l.section$))}}function xr(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"p"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"ul")(7,"li"),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"button",3),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.prompt())}),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()}2&a&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"pwa.addToHomeScreenDescription")," "),e.xp6(4),e.Oqu(e.lcZ(9,6,"pwa.noInstallationNeeded")),e.xp6(3),e.Oqu(e.lcZ(12,8,"pwa.fastAccessToApplication")),e.xp6(3),e.hij(" ",e.lcZ(15,10,"pwa.addToHomeScreen")," "))}function gt(a,_){if(1&a&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Oqu(r.title)}}function N(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().ngIf,M=e.oxw();return e.KtG(M.activeSlide=M.activeSlide-C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&a){const r=e.oxw(2);e.Q6J("disabled",0===r.activeSlide),e.uIk("aria-label",e.lcZ(1,3,"carousel.previousSlide")),e.xp6(2),e.Q6J("type",r.previousIcon)}}function be(a,_){1&a&&e.GkF(0)}const I=function(a){return{item:a}};function Q(a,_){if(1&a&&(e.TgZ(0,"div",12),e.YNc(1,be,1,0,"ng-container",13),e.qZA()),2&a){const r=_.ngIf,l=e.oxw(3).index,C=e.oxw(2);e.ekj("active",l===C.activeSlide),e.xp6(1),e.Q6J("ngTemplateOutlet",C.template)("ngTemplateOutletContext",e.VKq(4,I,r))}}function je(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Q,2,6,"div",11),e.ALo(2,"async"),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r))}}function Rt(a,_){if(1&a&&(e.TgZ(0,"div",10),e.YNc(1,je,3,3,"ng-container",4),e.ALo(2,"slice"),e.qZA()),2&a){const r=e.oxw().index,l=e.oxw().ngIf,C=e.oxw();e.ekj("active",r===C.activeSlide),e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,C.items,r,r+l))}}function cn(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Rt,3,7,"div",9),e.BQk()),2&a){const r=_.index,l=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",r%l==0)}}function hn(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().ngIf,M=e.oxw();return e.KtG(M.activeSlide=M.activeSlide+C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&a){const r=e.oxw().ngIf,l=e.oxw();e.Q6J("disabled",l.activeSlide>l.items.length-r-1),e.uIk("aria-label",e.lcZ(1,3,"carousel.nextSlide")),e.xp6(2),e.Q6J("type",l.nextIcon)}}const gn=function(a){return{currentSlideNumber:a}};function ir(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",17),e.NdJ("focus",function(){e.CHM(r);const C=e.oxw().index,M=e.oxw(3);return e.KtG(M.activeSlide=C)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",18),e.qZA()}if(2&a){const r=e.oxw().index,l=e.oxw(2).ngIf,C=e.oxw();e.Q6J("disabled",r===C.activeSlide),e.uIk("aria-label",e.xi3(1,3,"carousel.slideNumber",e.VKq(6,gn,C.getSlideNumber(l,r)))),e.xp6(2),e.Q6J("type",C.indicatorIcon)}}function sr(a,_){if(1&a&&(e.ynx(0),e.YNc(1,ir,3,8,"button",16),e.BQk()),2&a){const r=_.index,l=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",r%l==0)}}function Ir(a,_){if(1&a&&(e.TgZ(0,"div",15),e.YNc(1,sr,2,1,"ng-container",4),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.items)}}function eo(a,_){if(1&a&&(e.ynx(0),e.YNc(1,gt,2,1,"h2",0),e.TgZ(2,"div",1),e.YNc(3,N,3,5,"button",2),e.TgZ(4,"div",3),e.YNc(5,cn,2,1,"ng-container",4),e.qZA(),e.YNc(6,hn,3,5,"button",5),e.qZA(),e.YNc(7,Ir,2,1,"div",6),e.BQk()),2&a){const r=_.ngIf,l=e.oxw();e.xp6(1),e.Q6J("ngIf",l.title),e.xp6(1),e.Q6J("ngClass","size-"+r),e.xp6(1),e.Q6J("ngIf",r<l.items.length),e.xp6(2),e.Q6J("ngForOf",l.items),e.xp6(1),e.Q6J("ngIf",r<l.items.length),e.xp6(1),e.Q6J("ngIf",!l.hideIndicators&&r<l.items.length)}}function Oo(a,_){if(1&a&&e._UZ(0,"cx-carousel",2),2&a){const r=_.ngIf;e.oxw();const l=e.MAs(3);e.Q6J("items",r)("template",l)}}const Zo=function(a,_,r){return{flexType:a,typeCode:_,uid:r}};function Or(a,_){if(1&a&&e.GkF(0,3),2&a){const r=_.item;e.Q6J("cxComponentWrapper",e.kEZ(1,Zo,r.typeCode,r.typeCode,null==r?null:r.uid))}}function Yo(a,_){1&a&&(e.TgZ(0,"div")(1,"div",2),e._UZ(2,"cx-spinner"),e.qZA()())}function to(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-consent-management-form",10),e.NdJ("consentChanged",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.onConsentChange(C))}),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw(3);e.Q6J("consentTemplate",r)("requiredConsents",l.requiredConsents)}}function zo(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"button",7),e.NdJ("click",function(){const M=e.CHM(r).ngIf,se=e.oxw(2);return e.KtG(se.rejectAll(M))}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){const M=e.CHM(r).ngIf,se=e.oxw(2);return e.KtG(se.allowAll(M))}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",6),e.YNc(11,to,1,2,"cx-consent-management-form",9),e.qZA()(),e.BQk()}if(2&a){const r=_.ngIf;e.xp6(4),e.hij(" ",e.lcZ(5,3,"consentManagementForm.clearAll")," "),e.xp6(3),e.hij(" ",e.lcZ(8,5,"consentManagementForm.selectAll")," "),e.xp6(4),e.Q6J("ngForOf",r)}}function Lo(a,_){if(1&a&&(e._UZ(0,"div",3),e.ALo(1,"cxTranslate"),e.YNc(2,zo,12,7,"ng-container",4),e.ALo(3,"async")),2&a){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,r.templateList$))}}function Xo(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("keydown.enter",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.close(C))})("keydown.space",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.close(C))})("click",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.close(C))}),e._UZ(1,"cx-icon",6),e.qZA()}if(2&a){const r=e.oxw();e.xp6(1),e.Q6J("type",r.iconTypes.CLOSE)}}function lo(a,_){1&a&&e.GkF(0)}function Fo(a,_){if(1&a&&(e.ynx(0),e.YNc(1,lo,1,0,"ng-container",7),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",r.content)}}function Wo(a,_){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.content)}}function br(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw();e.hij(" ",r.content," ")}}const bo=function(){return{placement:"auto",appendToBody:!0,displayCloseButton:!0}};function ko(a,_){if(1&a&&(e.TgZ(0,"button",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a){e.oxw();const r=e.MAs(6);e.Q6J("cxPopover",r)("cxPopoverOptions",e.DdM(5,bo)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"common.more")," ")}}const No=function(a){return[a]};function ai(a,_){if(1&a&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.Q6J("id","content-header"+(r.index>=0?"-"+r.index:"")),e.xp6(1),e.hij(" ",r.content.header," ")}}function Jo(a,_){if(1&a&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.deleteMsg," ")}}function Uo(a,_){if(1&a&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.title," ")}}function ci(a,_){if(1&a&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.textBold," ")}}function Tr(a,_){if(1&a&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r," ")}}function To(a,_){if(1&a&&e._UZ(0,"cx-truncate-text-popover",21),2&a){const r=e.oxw().$implicit,l=e.oxw(2);e.Q6J("charactersLimit",l.charactersLimit)("content",r)}}function po(a,_){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Tr,2,1,"div",18),e.YNc(2,To,1,2,"ng-template",null,19,e.W1O),e.qZA()),2&a){const r=e.MAs(3),l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!l.truncateText)("ngIfElse",r)}}function no(a,_){if(1&a&&(e.TgZ(0,"div")(1,"div",24),e._uU(2),e.qZA()()),2&a){const r=_.$implicit;e.xp6(2),e.hij(" ",r," ")}}function ro(a,_){if(1&a&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.qZA(),e.YNc(3,no,3,1,"div",9),e.qZA()),2&a){const r=_.$implicit;e.xp6(2),e.Oqu(r.title),e.xp6(1),e.Q6J("ngForOf",r.text)}}function _i(a,_){if(1&a&&(e.TgZ(0,"div",25),e._UZ(1,"cx-icon",26),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("type",r.content.img)}}const kn=function(){return{autofocus:!0}};function Bo(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.cancelEdit())}),e.ALo(3,"cxTranslate"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()(),e.TgZ(6,"div",30)(7,"button",31),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.delete())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA()()()}2&a&&(e.xp6(2),e.Q6J("cxAtMessage",e.lcZ(3,4,"assistiveMessage.actionCancelled")),e.xp6(2),e.hij(" ",e.lcZ(5,6,"common.cancel")," "),e.xp6(2),e.Q6J("cxFocus",e.DdM(10,kn)),e.xp6(2),e.hij(" ",e.lcZ(9,8,"common.delete")," "))}function Mo(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.delete())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function Hr(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.setDefault())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function kr(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.send())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit,l=e.oxw(3);e.uIk("aria-describedby",l.index>=0&&l.content.header&&!l.editMode?"content-header-"+l.index:null),e.xp6(1),e.hij(" ",r.name," ")}}function fo(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(5);return e.KtG(C.edit())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function Ze(a,_){if(1&a&&(e.ynx(0,35),e.YNc(1,Mo,2,1,"button",36),e.YNc(2,Hr,2,1,"button",36),e.YNc(3,kr,2,2,"button",36),e.YNc(4,fo,2,1,"button",36),e.BQk()),2&a){const r=e.oxw().$implicit;e.Q6J("ngSwitch",r.event),e.xp6(1),e.Q6J("ngSwitchCase","delete"),e.xp6(1),e.Q6J("ngSwitchCase","default"),e.xp6(1),e.Q6J("ngSwitchCase","send"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function Mt(a,_){if(1&a&&(e.TgZ(0,"a",38),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.s9C("href",r.link,e.LSH),e.xp6(1),e.hij(" ",r.name," ")}}function pt(a,_){if(1&a&&(e.TgZ(0,"div")(1,"div"),e.YNc(2,Ze,5,5,"ng-container",33),e.YNc(3,Mt,2,2,"a",34),e.qZA()()),2&a){const r=_.$implicit,l=e.oxw(3);e.xp6(2),e.Q6J("ngIf",l.isCardAction(r)),e.xp6(1),e.Q6J("ngIf",l.isCardLinkAction(r))}}function Zt(a,_){if(1&a&&(e.TgZ(0,"div",32),e.YNc(1,pt,4,2,"div",9),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.content.actions)}}const Wt=function(a){return{number:a}};function on(a,_){if(1&a&&(e.TgZ(0,"div",1),e.ALo(1,"cxTranslate"),e.YNc(2,ai,2,2,"div",2),e.TgZ(3,"div",3),e.YNc(4,Jo,2,1,"div",4),e.YNc(5,Uo,2,1,"span",5),e.TgZ(6,"div",6)(7,"div",7),e.YNc(8,ci,2,1,"div",8),e.YNc(9,po,4,2,"div",9),e.YNc(10,ro,4,2,"div",10),e.qZA(),e.YNc(11,_i,2,1,"div",11),e.qZA(),e.YNc(12,Bo,10,11,"div",12),e.YNc(13,Zt,2,1,"div",13),e.qZA()()),2&a){const r=e.oxw();let l;e.ekj("cx-card-border",r.border)("cx-card-fit-to-container",r.fitToContainer),e.Q6J("tabindex",r.border?0:-1),e.uIk("role",null!==(l=r.content.role)&&void 0!==l?l:null)("aria-label",r.content.label?e.xi3(1,18,r.content.label,e.VKq(21,Wt,r.index)):null),e.xp6(2),e.Q6J("ngIf",r.content.header&&!r.editMode),e.xp6(1),e.ekj("cx-card-delete",r.editMode),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.title),e.xp6(3),e.Q6J("ngIf",r.content.textBold),e.xp6(1),e.Q6J("ngForOf",r.content.text),e.xp6(1),e.Q6J("ngForOf",r.content.paragraphs),e.xp6(1),e.Q6J("ngIf",r.content.img),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.actions&&!r.editMode)}}function An(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"img",1),e.NdJ("load",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.loadHandler())})("error",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.errorHandler())}),e.qZA()}if(2&a){const r=e.oxw();e.uIk("src",r.media.src,e.LSH)("srcset",r.media.srcset)("alt",r.media.alt)("role",r.media.role)("loading",r.loading)}}function $r(a,_){if(1&a&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a){const r=_.$implicit,l=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,l.prefix+"."+r[0],l.getTranslationParams(r[1]))," ")}}function Nr(a,_){if(1&a&&(e.ynx(0),e.YNc(1,$r,3,4,"p",1),e.BQk()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function Sn(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Nr,2,1,"ng-container",0),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.hidden)}}const Se=function(a,_){return{max:a,min:_}},st=["fileInput"];function ve(a,_){if(1&a&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&a){const r=_.$implicit;e.xp6(1),e.hij(" ",null==r?null:r.name,"\n")}}function ct(a,_){1&a&&e.GkF(0)}function ot(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"a",3),e.YNc(2,ct,1,0,"ng-container",4),e.qZA(),e.BQk()),2&a){const r=e.oxw(),l=e.MAs(4);e.xp6(1),e.Q6J("href",r.url,e.LSH),e.uIk("target",r.target)("rel",r.rel)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",l)}}function ut(a,_){1&a&&e.GkF(0)}function pn(a,_){if(1&a&&(e.TgZ(0,"a",5),e.YNc(1,ut,1,0,"ng-container",4),e.qZA()),2&a){const r=e.oxw(),l=e.MAs(4);e.Q6J("routerLink",r.routerUrl)("queryParams",r.queryParams)("fragment",r.fragment),e.uIk("target",r.target)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",l)}}function qn(a,_){1&a&&e.Hsn(0)}const Ft=["qty"];function Fn(a,_){if(1&a&&(e.TgZ(0,"ng-option",2),e._uU(1),e.qZA()),2&a){const r=_.$implicit,l=e.oxw();e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.name?r.name:l.sortLabels&&r.code?l.sortLabels[r.code]:"")}}const ui=function(a,_){return{ariaLabel:a,ariaControls:_}};function Xs(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"a",1),e.NdJ("click",function(){const M=e.CHM(r).$implicit,se=e.oxw();return e.KtG(se.pageChange(M))}),e._uU(1),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw();e.Tol(r.type),e.ekj("disabled",l.isInactive(r))("current",l.isCurrent(r)),e.Q6J("routerLink",l.pageRoute)("queryParams",l.getQueryParams(r))("tabIndex",l.isInactive(r)?-1:0),e.uIk("aria-label",l.getAriaLabel(r.label,r.type)),e.xp6(1),e.hij(" ",r.label,"\n")}}function jr(a,_){1&a&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))}function z(a,_){if(1&a&&(e.TgZ(0,"div",6)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a){const r=_.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,r))}}function $(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const M=e.CHM(r).index,se=e.oxw(2);return e.KtG(se.clear(se.messageType.MSG_TYPE_CONFIRMATION,M))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.SUCCESS),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function L(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",11)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const M=e.CHM(r).index,se=e.oxw(2);return e.KtG(se.clear(se.messageType.MSG_TYPE_INFO,M))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.INFO),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function le(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",12)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const M=e.CHM(r).index,se=e.oxw(2);return e.KtG(se.clear(se.messageType.MSG_TYPE_WARNING,M))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.WARNING),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function xt(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",13)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const M=e.CHM(r).index,se=e.oxw(2);return e.KtG(se.clear(se.messageType.MSG_TYPE_ERROR,M))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.ERROR),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function Cn(a,_){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,z,4,3,"div",1),e.YNc(2,$,8,5,"div",2),e.YNc(3,L,8,5,"div",3),e.YNc(4,le,8,5,"div",4),e.YNc(5,xt,8,5,"div",5),e.qZA()),2&a){const r=_.ngIf,l=e.oxw();e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_ASSISTIVE]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_CONFIRMATION]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_INFO]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_WARNING]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_ERROR])}}function Ur(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.showBody=!C.showBody)}),e._uU(1),e._UZ(2,"cx-icon",11),e.qZA()}if(2&a){const r=e.oxw();e.uIk("aria-expanded",r.showBody)("aria-label",r.accordionText),e.xp6(1),e.hij(" ",r.accordionText," "),e.xp6(1),e.Q6J("type",r.showBody?"CARET_UP":"CARET_DOWN")}}function ei(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.buttonAction.emit())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw();e.Q6J("cxAtMessage",r.actionButtonMessage),e.xp6(1),e.hij(" ",r.actionButtonText," ")}}function xo(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeMessage.emit())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-icon",4),e.qZA()}if(2&a){const r=e.oxw();e.Q6J("cxAtMessage",e.lcZ(2,5,"common.close")),e.uIk("aria-label",e.lcZ(1,3,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE)}}function Sr(a,_){1&a&&(e.TgZ(0,"div",14),e.Hsn(1),e.qZA())}function Er(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw(2);e.xp6(2),e.Oqu(r.promotions[0].description)}}function Ia(a,_){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&a){const r=_.$implicit;e.xp6(1),e.hij(" ",r.description," ")}}function Br(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"ul"),e.YNc(2,Ia,2,1,"li",3),e.qZA(),e.BQk()),2&a){const r=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",r.promotions)}}function Ti(a,_){if(1&a&&(e.TgZ(0,"div",1),e.YNc(1,Er,3,1,"ng-container",2),e.YNc(2,Br,3,1,"ng-container",2),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",1===r.promotions.length),e.xp6(1),e.Q6J("ngIf",r.promotions.length>1)}}function Vc(a,_){if(1&a&&(e.TgZ(0,"option",4),e.ALo(1,"async"),e._uU(2),e.qZA()),2&a){const r=_.$implicit,l=e.oxw(2);e.s9C("value",r.isocode),e.Q6J("selected",e.lcZ(1,3,l.activeItem$)===r.isocode),e.xp6(2),e.hij(" ",r.label," ")}}function Hc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"label")(1,"span"),e._uU(2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"select",1),e.NdJ("change",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.active=C.target.value)}),e.YNc(5,Vc,3,5,"option",2),e.qZA(),e._UZ(6,"cx-icon",3),e.qZA()}if(2&a){const r=_.ngIf,l=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,l.label$)),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("type",l.iconTypes.CARET_DOWN)}}const ea=function(a){return{count:a}};function ta(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-icon",1),e.NdJ("mouseover",function(){const M=e.CHM(r).$implicit,se=e.oxw();return e.KtG(se.setRate(M))})("click",function(){const M=e.CHM(r).$implicit,se=e.oxw();return e.KtG(se.saveRate(M))})("keydown.space",function(){const M=e.CHM(r).$implicit,se=e.oxw();return e.KtG(se.saveRate(M))}),e.ALo(1,"cxTranslate"),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw();e.Q6J("type",l.icon),e.uIk("tabindex",l.disabled?null:0)("aria-label",e.xi3(1,3,"productReview.addRate",e.VKq(6,ea,r)))}}const Ci=function(){return[1,2,3,4,5]};function Es(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function As(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",l[r]," ")}}function ho(a,_){if(1&a&&(e.TgZ(0,"tr")(1,"th"),e.YNc(2,Es,1,1,"ng-template",4),e.qZA(),e.TgZ(3,"td"),e.YNc(4,As,1,1,"ng-template",4),e.qZA()()),2&a){const r=_.$implicit,l=e.oxw().$implicit,C=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",C.getHeaderOutletRef(r))("cxOutletContext",C.getHeaderOutletContext(r)),e.xp6(2),e.Q6J("cxOutlet",C.getDataOutletRef(r))("cxOutletContext",C.getDataOutletContext(r,l))}}function Yi(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"tbody",2),e.NdJ("click",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.launchItem(M))}),e.YNc(1,ho,5,6,"tr",3),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw(3);e.ekj("is-current",l.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",l.structure.cells)}}function na(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Yi,2,3,"tbody",1),e.BQk()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function is(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function Xn(a,_){if(1&a&&(e.TgZ(0,"th",6),e.YNc(1,is,1,1,"ng-template",4),e.qZA()),2&a){const r=_.$implicit,l=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",l.getHeaderOutletRef(r))("cxOutletContext",l.getHeaderOutletContext(r))}}function wu(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",l[r]," ")}}function Ru(a,_){if(1&a&&(e.TgZ(0,"td"),e.YNc(1,wu,1,1,"ng-template",4),e.qZA()),2&a){const r=_.$implicit,l=e.oxw().$implicit,C=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",C.getDataOutletRef(r))("cxOutletContext",C.getDataOutletContext(r,l))}}function R(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"tr",2),e.NdJ("click",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.launchItem(M))}),e.YNc(1,Ru,2,4,"td",3),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw(3);e.ekj("is-current",l.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",l.structure.cells)}}function ee(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"thead")(2,"tr"),e.YNc(3,Xn,2,4,"th",5),e.qZA()(),e.YNc(4,R,2,3,"tr",1),e.BQk()),2&a){const r=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",r.structure.cells),e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function U(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function ce(a,_){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",r[l]," ")}}function $e(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"td",2),e.NdJ("click",function(){const M=e.CHM(r).$implicit,se=e.oxw(4);return e.KtG(se.launchItem(M))}),e.YNc(1,ce,1,1,"ng-template",4),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw().$implicit,C=e.oxw(3);e.ekj("is-current",C.isCurrentItem(r)),e.xp6(1),e.Q6J("cxOutlet",C.getDataOutletRef(l))("cxOutletContext",C.getDataOutletContext(l,r))}}function St(a,_){if(1&a&&(e.TgZ(0,"tr")(1,"th",6),e.YNc(2,U,1,1,"ng-template",4),e.qZA(),e.YNc(3,$e,2,4,"td",1),e.qZA()),2&a){const r=_.$implicit,l=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",l.getHeaderOutletRef(r))("cxOutletContext",l.getHeaderOutletContext(r)),e.xp6(1),e.Q6J("ngForOf",l.data)("ngForTrackBy",l.trackData)}}function It(a,_){if(1&a&&(e.ynx(0),e.YNc(1,St,4,6,"tr",3),e.BQk()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.structure.cells)}}function mn(a,_){if(1&a&&(e.TgZ(0,"table"),e.YNc(1,na,2,2,"ng-container",0),e.YNc(2,ee,5,3,"ng-container",0),e.YNc(3,It,2,1,"ng-container",0),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.verticalStackedLayout),e.xp6(1),e.Q6J("ngIf",r.verticalLayout),e.xp6(1),e.Q6J("ngIf",r.horizontalLayout)}}function er(a,_){if(1&a&&e._UZ(0,"p",6),2&a){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.headline,e.oJD)}}function fr(a,_){if(1&a&&e._UZ(0,"p",7),2&a){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.content,e.oJD)}}function or(a,_){if(1&a&&(e.TgZ(0,"cx-generic-link",2),e.YNc(1,er,1,1,"p",3),e._UZ(2,"cx-media",4),e.YNc(3,fr,1,1,"p",5),e.qZA()),2&a){const r=e.oxw().ngIf,l=e.oxw();e.Q6J("url",l.routerLink)("target",l.getTarget(r)),e.xp6(1),e.Q6J("ngIf",r.headline),e.xp6(1),e.Q6J("container",l.getImage(r)),e.xp6(1),e.Q6J("ngIf",r.content)}}function jn(a,_){if(1&a&&(e.ynx(0),e.YNc(1,or,4,5,"cx-generic-link",1),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.routerLink)}}function Gr(a,_){if(1&a&&(e.TgZ(0,"cx-generic-link",1),e._uU(1),e.qZA()),2&a){const r=_.ngIf,l=e.oxw();let C;e.Akn(r.styleAttributes),e.Q6J("url",null!==(C=r.url)&&void 0!==C?C:"")("target",l.getTarget(r)),e.xp6(1),e.Oqu(r.linkName)}}function Un(a,_){if(1&a&&(e._UZ(0,"div",1),e.ALo(1,"cxSupplementHashAnchors")),2&a){let l;e.Q6J("innerHTML",e.lcZ(1,1,null!==(l=_.ngIf.content)&&void 0!==l?l:""),e.oJD)}}function Go(a,_){if(1&a){const r=e.EpF();e.ynx(0,7),e.NdJ("cxComponentRef",function(C){e.CHM(r);const M=e.oxw(4);return e.KtG(M.tabCompLoaded(C))}),e.BQk()}if(2&a){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const Vo=function(a){return{param:a}},ti=function(){return{}};function li(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(C){e.CHM(r);const M=e.oxw().index,se=e.oxw(2);return e.KtG(se.select(M,C))}),e._uU(2),e.ALo(3,"cxTranslate"),e.ALo(4,"async"),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,Go,1,1,"ng-template",6),e.qZA(),e.BQk()}if(2&a){const r=e.oxw(),l=r.index,C=r.$implicit,M=e.oxw(2);e.xp6(1),e.ekj("active",l===M.activeTabNum),e.uIk("aria-expanded",l===M.activeTabNum),e.xp6(1),e.hij(" ",e.xi3(3,8,C.title,e.VKq(13,Vo,e.lcZ(4,11,M.tabTitleParams[l])))," "),e.xp6(4),e.ekj("active",l===M.activeTabNum),e.xp6(1),e.Q6J("cxOutlet",C.flexType)("cxOutletContext",e.DdM(15,ti))}}function Ko(a,_){if(1&a&&(e.ynx(0),e.YNc(1,li,8,16,"ng-container",0),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function Mi(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1),e.ALo(2,"cxTranslate"),e.YNc(3,Ko,2,1,"ng-container",2),e.qZA(),e.BQk()),2&a){const r=_.ngIf,l=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,l.ariaLabel)),e.xp6(2),e.Q6J("ngForOf",r)}}function bs(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const M=e.CHM(r).$implicit,se=e.oxw(2);return e.KtG(se.scrollToTarget(M))}),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.qZA()}if(2&a){const r=_.$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"skipLink.skipTo")," ",e.lcZ(3,4,r.i18nKey)," ")}}const oo=function(){return{tab:!0}};function go(a,_){if(1&a&&(e.TgZ(0,"div",1),e.YNc(1,bs,4,6,"button",2),e.qZA()),2&a){const r=_.ngIf;e.Q6J("cxFocus",e.DdM(2,oo)),e.xp6(1),e.Q6J("ngForOf",r)}}const io=function(){return{disableMouseFocus:!0}};function Si(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"header",4),e.NdJ("keydown.escape",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.collapseMenu())})("click",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.collapseMenuIfClickOutside(C))}),e.ALo(1,"async"),e._UZ(2,"cx-page-layout",5)(3,"cx-page-layout",6),e.qZA(),e._UZ(4,"cx-page-slot",7)(5,"cx-global-message",8)}if(2&a){const r=e.oxw(2);e.ekj("is-expanded",e.lcZ(1,3,r.isExpanded$)),e.Q6J("cxFocus",e.DdM(5,io))}}function wa(a,_){1&a&&(e.TgZ(0,"footer",9),e._UZ(1,"cx-page-layout",10),e.qZA()),2&a&&e.Q6J("cxFocus",e.DdM(1,io))}function Ra(a,_){1&a&&(e.YNc(0,Si,6,6,"ng-template",1),e.TgZ(1,"main",2),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,wa,2,2,"ng-template",3)),2&a&&(e.xp6(1),e.Q6J("cxFocus",e.DdM(1,io)))}const Ts=["submit"],Pa=function(){return{required:"true"}},Ms=function(a){return{ariaLabel:a}};function xi(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"ng-select",24),e.NdJ("change",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.countrySelected(C))}),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA(),e._UZ(8,"cx-form-errors",9),e.qZA()()}if(2&a){const r=e.oxw().ngIf,l=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"addressForm.country")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,10,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(14,Pa))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(15,Ms,e.lcZ(7,12,"addressForm.country"))),e.xp6(3),e.Q6J("control",l.addressForm.get("country.isocode"))}}function Oa(a,_){if(1&a&&(e.ynx(0),e.YNc(1,xi,9,17,"div",4),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function Ii(a,_){if(1&a&&(e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",25),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,6,"addressForm.title")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("items",r)("placeholder",e.lcZ(6,8,"addressForm.title"))("cxNgSelectA11y",e.VKq(12,Ms,e.lcZ(7,10,"addressForm.title")))}}function Ho(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Ii,8,14,"div",4),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function mo(a,_){if(1&a&&(e.TgZ(0,"div",6),e.YNc(1,Ho,2,1,"ng-container",4),e.ALo(2,"async"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.titles$))}}function $o(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",14)(2,"label")(3,"span",7),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"ng-select",27),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-form-errors",9),e.qZA()(),e.BQk()),2&a){const r=e.oxw().ngIf,l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"addressForm.state")),e.xp6(2),e.s9C("bindLabel",r[0].name?"name":"isocode"),e.s9C("bindValue",r[0].name?"isocode":"region"),e.s9C("placeholder",e.lcZ(7,12,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(16,Pa))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(17,Ms,e.lcZ(8,14,"addressForm.state"))),e.xp6(3),e.Q6J("control",l.addressForm.get("region.isocode"))}}function wi(a,_){if(1&a&&(e.ynx(0,26),e.YNc(1,$o,10,19,"ng-container",4),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function zr(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",28)(2,"label")(3,"input",29),e.NdJ("change",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.toggleDefaultAddress())}),e.qZA(),e.TgZ(4,"span",30),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()()()()}2&a&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"addressForm.setAsDefault")))}function so(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",21)(1,"button",31),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.back())}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw();e.xp6(2),e.hij(" ",r.cancelBtnLabel||e.lcZ(3,1,"addressForm.chooseAddress")," ")}}function Io(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",10)(1,"cx-card",11),e.NdJ("editCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.editAddressButtonHandle(M))})("setDefaultCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.setAddressAsDefault(M))})("deleteCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);let rt;return e.KtG(se.setEdit(null!==(rt=M.id)&&void 0!==rt?rt:""))})("cancelCard",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.cancelCard())}),e.ALo(2,"async"),e.qZA()()}if(2&a){const r=_.$implicit,l=_.index,C=e.oxw(3);e.xp6(1),e.Q6J("index",l)("border",!0)("fitToContainer",!0)("content",e.lcZ(2,5,C.getCardContent(r)))("editMode",r.id===C.editCard)}}function ni(a,_){if(1&a&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.YNc(3,Io,3,7,"div",9),e.ALo(4,"async"),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,r.addresses$))}}function vo(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.addAddressButtonHandle())}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()(),e.YNc(6,ni,5,6,"div",6),e.ALo(7,"async"),e.BQk()}if(2&a){const r=e.oxw(),l=e.MAs(7);e.xp6(4),e.hij(" ",e.lcZ(5,3,"addressBook.addNewAddress")," "),e.xp6(2),e.Q6J("ngIf",!e.lcZ(7,5,r.addressesStateLoading$))("ngIfElse",l)}}function Zr(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"section")(2,"p",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"cx-address-form",13),e.NdJ("submitAddress",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.addAddressSubmit(C))})("backToAddress",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.addAddressCancel())})("cancelCard",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.cancelCard())}),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e.ALo(9,"async"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw();let l,C;e.xp6(3),e.hij(" ",e.lcZ(4,6,"addressBook.addNewDeliveryAddress")," "),e.xp6(2),e.s9C("actionBtnLabel",e.lcZ(7,10,"addressBook.addAddress")),e.s9C("cancelBtnLabel",e.lcZ(8,12,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("showCancelBtn",0!==(null==(l=e.lcZ(6,8,r.addresses$))?null:l.length))("setAsDefaultField",0!==(null==(C=e.lcZ(9,14,r.addresses$))?null:C.length))}}function _o(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"section")(2,"p",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"cx-address-form",14),e.NdJ("submitAddress",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.editAddressSubmit(C))})("backToAddress",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.editAddressCancel())}),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,5,"addressBook.editDeliveryAddress")," "),e.xp6(2),e.s9C("actionBtnLabel",e.lcZ(6,7,"addressBook.updateAddress")),e.s9C("cancelBtnLabel",e.lcZ(7,9,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("addressData",r.currentAddress)}}function ss(a,_){1&a&&(e.TgZ(0,"div",15),e._UZ(1,"cx-spinner"),e.qZA())}function La(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",12)(1,"input",23),e.NdJ("ngModelChange",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.selectedAddress=C)}),e.qZA(),e.TgZ(2,"label",24),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"div",25)(6,"div",16)(7,"div",17),e._uU(8),e.qZA(),e.TgZ(9,"div",17),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e._uU(12),e.qZA(),e.TgZ(13,"div",17)(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",17),e._uU(17),e.qZA(),e.TgZ(18,"div",17),e._uU(19),e.qZA(),e.TgZ(20,"div",17),e._uU(21),e.qZA()()()()}if(2&a){const r=_.$implicit,l=_.index,C=e.oxw().ngIf,M=e.oxw();e.xp6(1),e.Q6J("ngModel",M.selectedAddress)("value",r)("id","suggested-addresses--suggested-"+l),e.xp6(1),e.Q6J("for","suggested-addresses--suggested-"+l),e.xp6(1),e.AsE(" ",e.lcZ(4,13,"addressSuggestion.suggestedAddress")," ",C.suggestedAddresses.length>1?l+1:null," "),e.xp6(5),e.Oqu(null==r?null:r.firstName),e.xp6(2),e.Oqu(null==r?null:r.lastName),e.xp6(2),e.Oqu(null==r?null:r.line1),e.xp6(3),e.Oqu(null==r?null:r.line2),e.xp6(2),e.Oqu(null==r?null:r.town),e.xp6(2),e.hij(" ",null==r||null==r.region?null:r.region.isocode," "),e.xp6(2),e.hij(" ",null==r?null:r.postalCode," ")}}function Pu(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal("Cross click"))}),e.ALo(6,"cxTranslate"),e.TgZ(7,"span",6),e._UZ(8,"cx-icon",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"p"),e._uU(12),e.ALo(13,"cxTranslate"),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,La,22,15,"div",11),e.TgZ(17,"div",12)(18,"input",13),e.NdJ("ngModelChange",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.selectedAddress=C)}),e.qZA(),e.TgZ(19,"label",14),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA(),e.TgZ(22,"div",15)(23,"div",16)(24,"div",17),e._uU(25),e.qZA(),e.TgZ(26,"div",17),e._uU(27),e.qZA(),e.TgZ(28,"div",17)(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"div",17),e._uU(32),e.qZA(),e.TgZ(33,"div",17),e._uU(34),e.qZA()()()()()(),e.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"button",21),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal("Edit address"))}),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e.TgZ(41,"button",22),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeModal(C.selectedAddress))}),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA()()()()()}if(2&a){const r=_.ngIf,l=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,18,"addressSuggestion.verifyYourAddress")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(6,20,"common.close")),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(4),e.AsE(" ",e.lcZ(13,22,"addressSuggestion.ensureAccuracySuggestChange")," ",e.lcZ(14,24,"addressSuggestion.chooseAddressToUse")," "),e.xp6(4),e.Q6J("ngForOf",r.suggestedAddresses),e.xp6(2),e.Q6J("ngModel",l.selectedAddress)("value",r.enteredAddress),e.xp6(2),e.hij(" ",e.lcZ(21,26,"addressSuggestion.enteredAddress")," "),e.xp6(5),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.firstName," ",null==r.enteredAddress?null:r.enteredAddress.lastName," "),e.xp6(2),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line1),e.xp6(3),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line2),e.xp6(2),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.town," ",null==r.enteredAddress||null==r.enteredAddress.region?null:r.enteredAddress.region.isocode," "),e.xp6(2),e.hij(" ",null==r.enteredAddress?null:r.enteredAddress.postalCode," "),e.xp6(5),e.hij(" ",e.lcZ(40,28,"addressSuggestion.editAddress")," "),e.xp6(3),e.hij(" ",e.lcZ(43,30,"addressSuggestion.saveAddress")," ")}}const $c=["element"];function sc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",21)(1,"cx-coupon-card",22),e.NdJ("notificationChanged",function(C){e.CHM(r);const M=e.oxw(4);return e.KtG(M.notificationChange(C))}),e.qZA()()}if(2&a){const r=_.$implicit,l=e.oxw(4);e.xp6(1),e.Q6J("coupon",r)("couponSubscriptionLoading$",l.couponSubscriptionLoading$)}}const xs=function(){return["/my-account/notification-preference"]};function Ri(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"label",8)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",9),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.sortChange(C))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.qZA()(),e.TgZ(9,"div",10)(10,"cx-pagination",11),e.NdJ("viewPageEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.pageChange(C))}),e.qZA()()(),e.TgZ(11,"div",12),e.YNc(12,sc,2,2,"div",13),e.qZA(),e.TgZ(13,"div",14)(14,"label",15)(15,"span"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"cx-sorting",16),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.sortChange(C))}),e.ALo(19,"async"),e.ALo(20,"cxTranslate"),e.ALo(21,"cxTranslate"),e.qZA()(),e.TgZ(22,"div",17)(23,"cx-pagination",11),e.NdJ("viewPageEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.pageChange(C))}),e.qZA()()(),e.TgZ(24,"div",18)(25,"span"),e._UZ(26,"cx-icon",19),e._uU(27),e.ALo(28,"cxTranslate"),e.TgZ(29,"a",20),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw().ngIf,l=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,19,"myCoupons.sortBy")),e.xp6(2),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(7,21,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(8,23,"myCoupons.sortCoupons")),e.xp6(4),e.Q6J("pagination",l.pagination),e.xp6(2),e.Q6J("ngForOf",r.coupons),e.xp6(4),e.Oqu(e.lcZ(17,25,"myCoupons.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,29,"myCoupons.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(19,27,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(21,31,"myCoupons.sortCoupons")),e.xp6(5),e.Q6J("pagination",l.pagination),e.xp6(3),e.Q6J("type",l.iconTypes.INFO),e.xp6(1),e.hij(" ",e.lcZ(28,33,"myCoupons.notesPreffix"),""),e.xp6(2),e.Q6J("routerLink",e.DdM(39,xs)),e.xp6(1),e.Oqu(e.lcZ(31,35,"myCoupons.notesLink")),e.xp6(2),e.Oqu(e.lcZ(33,37,"myCoupons.notesSuffix"))}}function Wr(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",6)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.YNc(5,Ri,34,40,"ng-container",1),e.BQk()),2&a){const r=_.ngIf;e.oxw();const l=e.MAs(6);e.xp6(3),e.Oqu(e.lcZ(4,3,"myCoupons.myCoupons")),e.xp6(2),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",l)}}function oa(a,_){1&a&&(e.TgZ(0,"section")(1,"p",23),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myCoupons.noCouponsMessage")," "))}function zi(a,_){if(1&a&&(e.ynx(0),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.YNc(3,Wr,6,5,"ng-container",4),e.ALo(4,"async"),e.YNc(5,oa,4,3,"ng-template",null,5,e.W1O),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,r.couponResult$))}}function Is(a,_){1&a&&(e.TgZ(0,"div",24),e._UZ(1,"cx-spinner"),e.qZA())}const wo=function(a){return{cxRoute:"product",params:a}};function ia(a,_){if(1&a&&(e.TgZ(0,"div",38)(1,"a",39),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,wo,r))),e.xp6(2),e.hij(" ",r.name," ")}}const ws=function(a){return{code:a}};function jc(a,_){if(1&a&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(2),e.Oqu(e.xi3(3,1,"myInterests.productId",e.VKq(4,ws,r.code)))}}function Zc(a,_){if(1&a&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2),e.qZA(),e.TgZ(3,"div",44),e._uU(4),e.qZA()()),2&a){const r=_.$implicit;e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.value," ")}}function ac(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Zc,5,2,"div",41),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngForOf",null==r.selected?null:r.selected.variantOptionQualifiers)}}function Ou(a,_){1&a&&(e.TgZ(0,"div",42)(1,"div",45),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myInterests.outOfStock")," "))}const Fa=function(a){return{expirationDate:a}};function sa(a,_){if(1&a&&(e.TgZ(0,"div",46)(1,"span",47),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",48),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"cxDate"),e.qZA()()),2&a){const r=_.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"myInterests."+r.interestType)," "),e.xp6(3),e.hij(" ",e.xi3(6,4,"myInterests.expirationDate",e.VKq(9,Fa,e.lcZ(7,7,r.expirationDate)))," ")}}function Ei(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"div",23)(3,"a",24),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",25),e.qZA()()(),e.TgZ(6,"td")(7,"div",26)(8,"div",27)(9,"div"),e.YNc(10,ia,4,6,"div",28),e.YNc(11,jc,4,6,"div",29),e.YNc(12,ac,2,1,"ng-container",30),e.YNc(13,Ou,4,3,"div",31),e.qZA()()()(),e.TgZ(14,"td")(15,"div",32)(16,"div",33),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()(),e.TgZ(21,"td")(22,"div",34)(23,"div",33),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.YNc(26,sa,8,11,"div",35),e.qZA()(),e.TgZ(27,"td")(28,"div",36)(29,"button",37),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.removeInterest(C))}),e.ALo(30,"async"),e._uU(31),e.ALo(32,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&a){const r=_.ngIf,l=e.oxw().$implicit,C=e.oxw(4);e.xp6(3),e.Q6J("routerLink",e.lcZ(4,12,e.VKq(22,wo,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(5),e.Q6J("ngIf",r.name),e.xp6(1),e.Q6J("ngIf",r.code),e.xp6(1),e.Q6J("ngForOf",r.baseOptions),e.xp6(1),e.Q6J("ngIf","outOfStock"===(null==r.stock?null:r.stock.stockLevelStatus)),e.xp6(4),e.hij(" ",e.lcZ(18,14,"myInterests.price")," "),e.xp6(3),e.Oqu(null==r.price?null:r.price.formattedValue),e.xp6(4),e.hij(" ",e.lcZ(25,16,"myInterests.notifications")," "),e.xp6(2),e.Q6J("ngForOf",l.productInterestEntry),e.xp6(3),e.Q6J("disabled",e.lcZ(30,18,C.isRemoveDisabled$)),e.xp6(2),e.hij(" ",e.lcZ(32,20,"myInterests.remove")," ")}}function Rs(a,_){if(1&a&&(e.TgZ(0,"tr",21),e.YNc(1,Ei,33,24,"ng-container",22),e.ALo(2,"async"),e.qZA()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.product$))}}function Wi(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"label",10)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",11),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.sortChange(C))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.TgZ(10,"div",12)(11,"cx-pagination",13),e.NdJ("viewPageEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.pageChange(C))}),e.qZA()()(),e.TgZ(12,"table",14)(13,"thead",15)(14,"th",16),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e._UZ(17,"th",16),e.TgZ(18,"th",16),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"th",16),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"th",16),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,Rs,3,3,"tr",17),e.qZA()(),e.TgZ(27,"div",18)(28,"label",19)(29,"span"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"cx-sorting",11),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.sortChange(C))}),e.ALo(33,"async"),e.ALo(34,"cxTranslate"),e.ALo(35,"cxTranslate"),e.qZA()(),e.TgZ(36,"div",20)(37,"cx-pagination",13),e.NdJ("viewPageEvent",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.pageChange(C))}),e.qZA()()(),e.BQk()}if(2&a){const r=e.oxw(2).ngIf,l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,18,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,22,"myInterests.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(7,20,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(9,24,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",l.pagination),e.xp6(4),e.hij(" ",e.lcZ(16,26,"myInterests.item")," "),e.xp6(4),e.hij(" ",e.lcZ(20,28,"myInterests.price")," "),e.xp6(3),e.hij(" ",e.lcZ(23,30,"myInterests.notifications")," "),e.xp6(4),e.Q6J("ngForOf",r.results),e.xp6(4),e.Oqu(e.lcZ(31,32,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(34,36,"myInterests.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(33,34,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(35,38,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",l.pagination)}}function as(a,_){if(1&a&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.ALo(2,"cxTranslate"),e.YNc(3,Wi,38,40,"ng-container",8),e.qZA()),2&a){const r=e.oxw().ngIf;e.oxw();const l=e.MAs(3);e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(2),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",l)}}function aa(a,_){if(1&a&&(e.TgZ(0,"div",3)(1,"div",4)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.YNc(5,as,4,5,"div",5),e.ALo(6,"async"),e.qZA()),2&a){const r=e.oxw(),l=e.MAs(5);e.xp6(3),e.Oqu(e.lcZ(4,3,"myInterests.header")),e.xp6(2),e.Q6J("ngIf",!e.lcZ(6,5,r.getInterestsloading$))("ngIfElse",l)}}function Ps(a,_){1&a&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myInterests.noInterests")," "))}function cc(a,_){1&a&&(e.TgZ(0,"div",50),e._UZ(1,"cx-spinner"),e.qZA())}function Os(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"label",11)(1,"input",12),e.NdJ("change",function(){e.CHM(r);const C=e.oxw().$implicit,M=e.oxw(3);return e.KtG(M.updatePreference(C))}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw().$implicit,l=e.oxw(3);e.xp6(1),e.Q6J("checked",r.enabled)("disabled",e.lcZ(2,4,l.isLoading$)),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"notificationPreference."+r.channel)," ",r.value," ")}}function hr(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Os,6,8,"label",10),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r.visible)}}function Vl(a,_){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,hr,2,1,"ng-container",8),e.qZA(),e.TgZ(10,"label",9)(11,"strong"),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,5,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,7,"notificationPreference.message")," "),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(3),e.Oqu(e.lcZ(13,9,"notificationPreference.note")),e.xp6(2),e.hij("",e.lcZ(15,11,"notificationPreference.noteMessage")," ")}}function Hl(a,_){1&a&&(e.TgZ(0,"div",14),e._UZ(1,"cx-spinner"),e.qZA())}function $l(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Vl,16,13,"div",1),e.YNc(2,Hl,2,0,"ng-template",null,2,e.W1O),e.BQk()),2&a){const r=_.ngIf,l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.length>0)("ngIfElse",l)}}function Lu(a,_){1&a&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function jl(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"cx-card",12),e.NdJ("deleteCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.deletePaymentMethod(M))})("setDefaultCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.setDefaultPaymentMethod(M))})("editCard",function(){const M=e.CHM(r).$implicit,se=e.oxw(3);return e.KtG(se.setEdit(M))})("cancelCard",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.cancelCard())}),e.ALo(3,"async"),e.qZA()()()}if(2&a){const r=_.$implicit,l=_.index,C=e.oxw(3);e.xp6(2),e.Q6J("index",l)("border",!0)("fitToContainer",!0)("content",e.lcZ(3,5,C.getCardContent(r)))("editMode",C.editCard===r.id)}}function Zl(a,_){if(1&a&&(e._UZ(0,"div",7),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",8),e.YNc(3,jl,4,7,"div",9),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(3),e.Q6J("ngForOf",r)}}function ca(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.YNc(10,Lu,2,0,"div",5),e.ALo(11,"async"),e.YNc(12,Zl,4,4,"ng-template",null,6,e.W1O),e.qZA()(),e.BQk()),2&a){const r=e.MAs(13),l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"paymentMethods.paymentMethods")),e.xp6(4),e.hij(" ",e.lcZ(9,6,"paymentMethods.newPaymentMethodsAreAddedDuringCheckout")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,8,l.loading$))("ngIfElse",r)}}const uc=function(a){return{nav:a}};function Yl(a,_){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"a",3),e.ALo(2,"cxTranslate"),e.qZA()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("routerLink",r.link)("innerHTML",r.label,e.oJD),e.uIk("aria-label",e.xi3(2,3,"navigation.navigateTo",e.VKq(6,uc,r.label)))}}function Yc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"li",3)(1,"button",4),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.back())}),e._UZ(2,"cx-icon",5),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw();e.xp6(2),e.Q6J("type",r.iconType.CARET_LEFT),e.xp6(1),e.hij(" ",e.lcZ(4,2,"common.back")," ")}}function Jr(a,_){1&a&&e.GkF(0)}const zc=function(a){return{node:a,depth:0}};function ua(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Jr,1,0,"ng-container",6),e.BQk()),2&a){const r=_.$implicit;e.oxw();const l=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(2,zc,r))}}function zl(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw().node,M=e.oxw();return e.KtG(M.closeIfClickedTheSameLink(C))}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw().node;e.Akn(r.styleAttributes),e.Tol(r.styleClasses),e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function lc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3).node,M=e.oxw();return e.KtG(M.closeIfClickedTheSameLink(C))}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(3).node;e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function jo(a,_){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const r=e.oxw(3).node;e.xp6(1),e.hij(" ",r.title," ")}}function Ai(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.YNc(1,lc,2,3,"cx-generic-link",13),e.TgZ(2,"button",14),e.NdJ("click",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.toggleOpen(C))})("mouseenter",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.onMouseEnter(C))})("keydown.space",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.toggleOpen(C))})("keydown.esc",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.back())}),e.YNc(3,jo,2,1,"ng-container",15),e._UZ(4,"cx-icon",5),e.qZA(),e.BQk()}if(2&a){const r=e.oxw(2),l=r.node,C=r.depth,M=e.oxw();e.xp6(1),e.Q6J("ngIf",l.url),e.xp6(1),e.uIk("tabindex",C<1?0:-1)("aria-haspopup",!0)("aria-expanded",!1)("aria-label",l.title),e.xp6(1),e.Q6J("ngIf",!l.url),e.xp6(1),e.Q6J("type",M.iconType.CARET_DOWN)}}function Wc(a,_){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2).node;e.uIk("tabindex",-1),e.xp6(1),e.hij(" ",r.title," ")}}function dc(a,_){if(1&a&&(e.YNc(0,Ai,5,7,"ng-container",11),e.YNc(1,Wc,2,2,"ng-template",null,12,e.W1O)),2&a){const r=e.MAs(2),l=e.oxw().node,C=e.oxw();e.Q6J("ngIf",C.flyout&&(null==l.children?null:l.children.length)>0)("ngIfElse",r)}}function ka(a,_){1&a&&e.GkF(0)}const b=function(a,_){return{node:a,depth:_}};function T(a,_){if(1&a&&(e.ynx(0),e.YNc(1,ka,1,0,"ng-container",6),e.BQk()),2&a){const r=_.$implicit,l=e.oxw(2).depth;e.oxw();const C=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",e.WLB(2,b,r,l+1))}}function A(a,_){if(1&a&&(e.TgZ(0,"div",16)(1,"ul",17),e.YNc(2,T,2,5,"ng-container",1),e.qZA()()),2&a){const r=e.oxw().node,l=e.oxw();e.xp6(1),e.uIk("depth",l.getTotalDepth(r))("wrap-after",r.children.length>l.wrapAfter?l.wrapAfter:null)("columns",l.getColumnCount(r.children.length)),e.xp6(1),e.Q6J("ngForOf",r.children)}}function k(a,_){if(1&a&&(e.TgZ(0,"li"),e.YNc(1,zl,2,7,"cx-generic-link",7),e.YNc(2,dc,3,2,"ng-template",null,8,e.W1O),e.YNc(4,A,3,4,"div",9),e.qZA()),2&a){const r=_.node,l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.url&&(!r.children||0===(null==r.children?null:r.children.length)))("ngIfElse",l),e.xp6(3),e.Q6J("ngIf",r.children&&r.children.length>0)}}function Y(a,_){if(1&a&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&a){const r=_.ngIf,l=e.oxw();let C,M;e.Q6J("node",e.lcZ(1,5,l.node$))("ngClass",null!==(C=r.styleClass)&&void 0!==C?C:"")("wrapAfter",+(null!==(M=r.wrapAfter)&&void 0!==M?M:""))("resetMenuOnClose",r.resetMenuOnClose)("navAriaLabel",e.lcZ(2,7,"navigation.categoryNavLabel"))}}function E(a,_){if(1&a&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&a){const r=_.ngIf,l=e.oxw();let C;e.Q6J("node",r)("flyout",!1)("ngClass",null!==(C=e.lcZ(1,4,l.styleClass$))&&void 0!==C?C:"")("navAriaLabel",e.lcZ(2,6,"navigation.footerNavLabel"))}}function W(a,_){if(1&a&&e._UZ(0,"div",16),2&a){const r=e.oxw().ngIf;e.Q6J("innerHTML",r.message,e.oJD)}}const H=function(a){return{query:a}},Le=function(a){return{cxRoute:"search",params:a}};function Ct(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"li")(1,"a",17),e.NdJ("keydown.arrowup",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.focusPreviousChild(C))})("keydown.arrowdown",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.focusNextChild(C))})("keydown.enter",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.close(C,!0))})("keydown.escape",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.close(C,!0))})("blur",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.close(C))})("mousedown",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.preventDefault(C))})("click",function(){const M=e.CHM(r).$implicit,se=e.oxw().ngIf,rt=e.oxw(),Lt=e.MAs(4);let sn;return rt.dispatchSuggestionEvent({freeText:Lt.value,selectedSuggestion:M,searchSuggestions:null!==(sn=se.suggestions)&&void 0!==sn?sn:[]}),e.KtG(rt.updateChosenWord(M))}),e.ALo(2,"cxHighlight"),e.ALo(3,"cxUrl"),e.qZA()()}if(2&a){const r=_.$implicit;e.oxw(2);const l=e.MAs(4);e.xp6(1),e.Q6J("innerHTML",e.xi3(2,2,r,l.value),e.oJD)("routerLink",e.lcZ(3,5,e.VKq(9,Le,e.VKq(7,H,r))))}}function fn(a,_){if(1&a&&e._UZ(0,"cx-media",23),2&a){const r=e.oxw().$implicit;e.Q6J("container",null==r.images?null:r.images.PRIMARY)}}function zt(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"li")(1,"a",19),e.NdJ("keydown.arrowup",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.focusPreviousChild(C))})("keydown.arrowdown",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.focusNextChild(C))})("keydown.enter",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.close(C,!0))})("keydown.escape",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.close(C,!0))})("blur",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.close(C))})("mousedown",function(C){e.CHM(r);const M=e.oxw(3);return e.KtG(M.preventDefault(C))})("click",function(){const M=e.CHM(r).$implicit,se=e.oxw(3),rt=e.MAs(4);return e.KtG(se.dispatchProductEvent({freeText:rt.value,productCode:M.code}))}),e.ALo(2,"cxUrl"),e.YNc(3,fn,1,1,"cx-media",20),e._UZ(4,"div",21),e.TgZ(5,"span",22),e._uU(6),e.qZA()()()}if(2&a){const r=_.$implicit,l=e.oxw(3);e.xp6(1),e.ekj("has-media",l.config.displayProductImages),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(8,wo,r))),e.xp6(2),e.Q6J("ngIf",l.config.displayProductImages),e.xp6(1),e.Q6J("innerHTML",r.nameHtml,e.oJD),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function Mn(a,_){if(1&a&&(e.TgZ(0,"ul",18),e.ALo(1,"cxTranslate"),e.YNc(2,zt,7,10,"li",12),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"searchBox.ariaLabelProducts")),e.xp6(2),e.Q6J("ngForOf",r.products)}}function gr(a,_){if(1&a&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.ALo(4,"cxTranslate"),e.qZA()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.lnq(" ",e.xi3(2,3,"searchBox.suggestionsResult",e.VKq(11,ea,null==r.suggestions?null:r.suggestions.length))," ",e.xi3(3,6,"searchBox.productsResult",e.VKq(13,ea,null==r.products?null:r.products.length))," ",e.lcZ(4,9,"searchBox.initialDescription")," ")}}function Co(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.close(C,!0))}),e.YNc(1,W,1,1,"div",10),e.TgZ(2,"ul",11),e.ALo(3,"cxTranslate"),e.YNc(4,Ct,4,11,"li",12),e.qZA(),e.YNc(5,Mn,3,4,"ul",13),e.TgZ(6,"span",14),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,gr,5,15,"div",15),e.qZA()}if(2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.message),e.xp6(1),e.uIk("aria-label",e.lcZ(3,6,"searchBox.ariaLabelSuggestions")),e.xp6(2),e.Q6J("ngForOf",r.suggestions),e.xp6(1),e.Q6J("ngIf",r.products),e.xp6(2),e.hij(" ",e.lcZ(8,8,"searchBox.initialDescription")," "),e.xp6(2),e.Q6J("ngIf",(null==r.suggestions?null:r.suggestions.length)||(null==r.products?null:r.products.length))}}function di(a,_){if(1&a&&e._UZ(0,"cx-icon",2),2&a){const r=e.oxw();e.Q6J("type",r.iconTypes.GRID)}}function Ro(a,_){if(1&a&&e._UZ(0,"cx-icon",2),2&a){const r=e.oxw();e.Q6J("type",r.iconTypes.LIST)}}function cs(a,_){if(1&a&&e._UZ(0,"cx-star-rating",14),2&a){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function Ji(a,_){1&a&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Bh(a,_){if(1&a&&(e.YNc(0,cs,1,1,"cx-star-rating",11),e.YNc(1,Ji,3,3,"div",12),e.TgZ(2,"div",13),e.ALo(3,"cxTranslate"),e._uU(4),e.qZA()),2&a){const r=e.oxw();e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(1),e.uIk("aria-label",e.lcZ(3,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function Jc(a,_){1&a&&e.GkF(0,16)}const Kc=function(a){return{product:a}};function Fu(a,_){if(1&a&&e._UZ(0,"cx-star-rating",9),2&a){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function Gh(a,_){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Cp(a,_){if(1&a&&(e.TgZ(0,"div",4),e.YNc(1,Fu,1,1,"cx-star-rating",5),e.YNc(2,Gh,3,3,"div",6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8),e.ALo(5,"cxTranslate"),e._uU(6),e.qZA()()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(2),e.uIk("aria-label",e.lcZ(5,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function Vh(a,_){1&a&&e.GkF(0,10)}function qm(a,_){1&a&&e._UZ(0,"cx-product-grid-item",8),2&a&&e.Q6J("product",_.$implicit)}function Ls(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Fs(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);let M;return e.KtG(C.loadNextPage((null!==(M=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==M?M:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function Wl(a,_){1&a&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function ao(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const C=e.oxw();let M;return e.KtG(C.scrollPage((null!==(M=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==M?M:0)+1))}),e.TgZ(2,"div",2),e.YNc(3,qm,1,1,"cx-product-grid-item",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,Ls,3,3,"div",5),e.YNc(6,Fs,3,3,"div",6),e.qZA(),e.YNc(7,Wl,2,0,"div",7),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();let l,C;e.xp6(1),e.Q6J("infiniteScrollDistance",5)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(2),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(l=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==l?l:0)>0?"cx-double-btn-container grid-btn-padding":"cx-single-btn-container grid-btn-padding"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(C=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==C?C:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function yp(a,_){1&a&&e._UZ(0,"cx-product-list-item",13),2&a&&e.Q6J("product",_.$implicit)}function Sp(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Jl(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);let M;return e.KtG(C.loadNextPage((null!==(M=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==M?M:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function Qc(a,_){1&a&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function Hh(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const C=e.oxw();let M;return e.KtG(C.scrollPage((null!==(M=null==C.model||null==C.model.pagination?null:C.model.pagination.currentPage)&&void 0!==M?M:0)+1))}),e.YNc(2,yp,1,1,"cx-product-list-item",12),e.TgZ(3,"div",4),e.YNc(4,Sp,3,3,"div",5),e.YNc(5,Jl,3,3,"div",6),e.qZA(),e.YNc(6,Qc,2,0,"div",7),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();let l,C;e.xp6(1),e.Q6J("infiniteScrollDistance",3)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(1),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(l=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==l?l:0)>0?"cx-double-btn-container":"cx-single-btn-container"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(C=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==C?C:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function Ep(a,_){if(1&a&&(e.TgZ(0,"div",17)(1,"div",18),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-pagination",19),e.qZA()()),2&a){const r=e.oxw(2).ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"productList.productSearchPagination")),e.xp6(2),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function $h(a,_){1&a&&e._UZ(0,"cx-product-grid-item",22),2&a&&e.Q6J("product",_.$implicit)}function Ap(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,$h,1,1,"cx-product-grid-item",21),e.qZA(),e.BQk()),2&a){const r=e.oxw(3).ngIf;e.xp6(2),e.Q6J("ngForOf",null==r?null:r.products)}}function Na(a,_){1&a&&e._UZ(0,"cx-product-list-item",24),2&a&&e.Q6J("product",_.$implicit)}function Ua(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Na,1,1,"cx-product-list-item",23),e.BQk()),2&a){const r=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngForOf",null==r?null:r.products)}}function ku(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Ap,3,1,"ng-container",20),e.YNc(2,Ua,2,1,"ng-container",20),e.BQk()),2&a){const r=e.oxw().ngIf,l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r===l.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",r===l.ViewModes.List)}}function Xm(a,_){if(1&a&&e._UZ(0,"cx-product-scroll",25),2&a){const r=e.oxw().ngIf,l=e.oxw().ngIf,C=e.oxw();e.Q6J("scrollConfig",C.scrollConfig)("model",l)("inputViewMode",r)}}function us(a,_){if(1&a&&(e.TgZ(0,"div",17),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",18),e._UZ(3,"cx-pagination",19),e.qZA()()),2&a){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.lcZ(1,3,"productList.productSearchPagination")),e.xp6(3),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function Pi(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",4)(3,"label",8)(4,"span"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"cx-sorting",9),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.sortList(C))}),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.YNc(10,Ep,4,5,"div",10),e.TgZ(11,"div",11)(12,"cx-product-view",12),e.NdJ("modeChange",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.setViewMode(C))}),e.qZA()()()(),e.TgZ(13,"div",13),e.YNc(14,ku,3,2,"ng-container",14),e.YNc(15,Xm,1,3,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(17,"div",16)(18,"div",4)(19,"label",8)(20,"span"),e._uU(21),e.ALo(22,"cxTranslate"),e.qZA(),e.TgZ(23,"cx-sorting",9),e.NdJ("sortListEvent",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.sortList(C))}),e.ALo(24,"cxTranslate"),e.ALo(25,"cxTranslate"),e.qZA()(),e.YNc(26,us,4,5,"div",10),e.TgZ(27,"div",11)(28,"cx-product-view",12),e.NdJ("modeChange",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.setViewMode(C))}),e.qZA()()()()()}if(2&a){const r=_.ngIf,l=e.MAs(16),C=e.oxw().ngIf,M=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,16,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,20,"productList.sortBy")),e.Q6J("sortOptions",C.sorts)("selectedOption",null==C.pagination?null:C.pagination.sort)("ariaLabel",e.lcZ(8,18,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!M.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r),e.xp6(2),e.Q6J("ngIf",!M.isInfiniteScroll)("ngIfElse",l),e.xp6(7),e.Oqu(e.lcZ(22,22,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,26,"productList.sortBy")),e.Q6J("sortOptions",C.sorts)("selectedOption",null==C.pagination?null:C.pagination.sort)("ariaLabel",e.lcZ(24,24,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!M.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r)}}function qc(a,_){if(1&a&&(e.TgZ(0,"div",1)(1,"section",2),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",3)(4,"div",4),e.YNc(5,Pi,29,28,"div",5),e.ALo(6,"async"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"productList.productListResults")),e.xp6(4),e.Q6J("ngIf",e.lcZ(6,4,r.viewMode$))}}function Dp(a,_){1&a&&(e.TgZ(0,"h4"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.appliedFilter")," "))}const bp=function(a){return{key:a}},Ki=function(a){return{filter:a}};function Oi(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown.space",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.removeFilterWithSpacebar(C))}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"cx-icon",3),e.qZA()}if(2&a){const r=_.$implicit,l=e.oxw().ngIf,C=e.oxw();e.Q6J("queryParams",C.getLinkParams(r))("cxFocus",e.VKq(8,bp,C.getFocusKey(l,r))),e.uIk("aria-label",e.xi3(1,5,"productList.activeFilter",e.VKq(10,Ki,r.facetValueName))),e.xp6(3),e.Oqu(r.facetValueName),e.xp6(1),e.Q6J("type",C.closeIcon)}}function Nu(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Dp,3,3,"h4",0),e.YNc(2,Oi,5,12,"a",1),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.activeFacets&&r.activeFacets.length>0),e.xp6(1),e.Q6J("ngForOf",null==r?null:r.activeFacets)}}const ks=["facetValue"],Ns=function(a,_){return{name:a,count:_}};function Xc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.openLink(C))}),e.ALo(2,"cxTranslate"),e.TgZ(3,"span",10),e._uU(4),e.TgZ(5,"span",11),e._uU(6),e.qZA()()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",l.getLinkParams(r))("cxFocus",e.VKq(12,bp,r.name)),e.uIk("role",l.facet.multiSelect?"checkbox":null)("aria-checked",l.facet.multiSelect?r.selected:null)("aria-label",e.xi3(2,9,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(14,Ns,r.name,r.count))),e.xp6(4),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}function ev(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.openLink(C))}),e.TgZ(2,"span"),e._uU(3),e.TgZ(4,"span",12),e._uU(5),e.qZA()()()}if(2&a){const r=_.$implicit,l=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",l.getLinkParams(r))("cxFocus",e.VKq(6,bp,r.name)),e.xp6(3),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}const jh=function(){return{key:"moreorless"}};function pc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.decreaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&a&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.decreaseOptionsVisibility"))("cxFocus",e.DdM(10,jh)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowLess")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showLess")," "))}function Tp(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.increaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&a&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.increaseOptionsVisibility"))("cxFocus",e.DdM(10,jh)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowMore")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showMore")," "))}const eu=function(a){return{name:a}};function tu(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",1),e.NdJ("click",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.toggleGroup(C))}),e.ALo(2,"cxTranslate"),e._uU(3),e._UZ(4,"cx-icon",2)(5,"cx-icon",3),e.qZA(),e.TgZ(6,"div"),e.YNc(7,Xc,7,17,"a",4),e.ALo(8,"slice"),e.TgZ(9,"div",5),e.YNc(10,ev,6,8,"a",4),e.ALo(11,"slice"),e.YNc(12,pc,5,11,"button",6),e.YNc(13,Tp,5,11,"button",7),e.qZA()(),e.BQk()}if(2&a){const r=_.ngIf,l=e.oxw();let C;e.xp6(1),e.uIk("aria-expanded",l.isExpanded)("aria-label",e.xi3(2,9,"productFacetNavigation.filterBy.name",e.VKq(20,eu,l.facet.name))),e.xp6(2),e.hij(" ",l.facet.name," "),e.xp6(1),e.Q6J("type",l.collapseIcon),e.xp6(1),e.Q6J("type",l.expandIcon),e.xp6(2),e.Q6J("ngForOf",e.Dn7(8,12,l.facet.values,0,r.topVisible)),e.xp6(3),e.Q6J("ngForOf",e.Dn7(11,16,l.facet.values,null!==(C=r.topVisible)&&void 0!==C?C:0,r.maxVisible)),e.xp6(2),e.Q6J("ngIf",r.maxVisible&&r.topVisible&&r.maxVisible>r.topVisible),e.xp6(1),e.Q6J("ngIf",r.maxVisible&&l.facet.values&&r.maxVisible>0&&r.maxVisible<l.facet.values.length)}}function Mp(a,_){if(1&a&&(e.TgZ(0,"cx-facet",5,6),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"cxTranslate"),e.qZA()),2&a){const r=_.$implicit,l=e.oxw(2);e.ekj("expanded",e.lcZ(2,6,l.isExpanded(r)))("collapsed",e.lcZ(3,8,l.isCollapsed(r))),e.Q6J("facet",r),e.uIk("aria-label",e.xi3(4,10,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(13,Ns,r.name,null==r||null==r.values?null:r.values.length)))}}function PC(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"section",1),e.NdJ("esc",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.close(C))})("click",function(C){e.CHM(r);const M=e.oxw();return e.KtG(M.block(C))}),e.ALo(1,"cxTranslate"),e.TgZ(2,"h4"),e._uU(3),e.ALo(4,"cxTranslate"),e.TgZ(5,"button",2),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close())}),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-icon",3),e.qZA()(),e.YNc(8,Mp,5,16,"cx-facet",4),e.qZA()}if(2&a){const r=_.ngIf,l=e.oxw();e.Q6J("cxFocus",l.isDialog?l.dialogFocusConfig:e.DdM(13,ti))("tabindex",-1),e.uIk("aria-label",e.lcZ(1,7,"productFacetNavigation.filterBy.facet")),e.xp6(3),e.hij(" ",e.lcZ(4,9,"productList.filterBy.label")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(6,11,"common.close")),e.xp6(2),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(1),e.Q6J("ngForOf",r)}}const Kl=["trigger"];function tv(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-facet-list",4),e.NdJ("closeList",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close())}),e.ALo(1,"async"),e.qZA()}if(2&a){const r=e.oxw();e.ekj("active",e.lcZ(1,5,r.isActive$))("dialog",r.hasTrigger),e.Q6J("isDialog",r.hasTrigger)}}const nu=function(a){return{title:a}};function OC(a,_){if(1&a&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"cxTranslate"),e.ALo(2,"async"),e.ALo(3,"async")),2&a){const r=_.ngIf,l=e.oxw(),C=e.MAs(3);e.Q6J("items",r)("title",e.lcZ(3,9,l.title$))("template",C),e.uIk("aria-label",e.xi3(1,4,"productCarousel.carouselLabel",e.VKq(11,nu,e.lcZ(2,7,l.title$))))}}function Zh(a,_){1&a&&e._UZ(0,"cx-product-carousel-item",3),2&a&&e.Q6J("item",_.item)}function xp(a,_){if(1&a&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"async")),2&a){const r=_.ngIf,l=e.oxw(),C=e.MAs(3);e.Q6J("title",e.lcZ(1,3,l.title$))("items",r)("template",C)}}function Ql(a,_){if(1&a&&(e.TgZ(0,"a",3),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",4),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.qZA()()),2&a){const r=_.item;e.Q6J("routerLink",e.lcZ(1,4,e.VKq(6,wo,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function zE(a,_){if(1&a&&(e.ynx(0),e._UZ(1,"cx-media",2),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("container",r)}}function Yh(a,_){if(1&a&&e._UZ(0,"cx-carousel",4),2&a){const r=e.oxw().ngIf;e.oxw();const l=e.MAs(5);e.Q6J("items",r)("hideIndicators",!1)("template",l)}}function ql(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Yh,1,3,"cx-carousel",3),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",r.length)}}function WE(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"cx-media",5),e.NdJ("focus",function(){const M=e.CHM(r).item,se=e.oxw();return e.KtG(se.openImage(M.container))}),e.ALo(1,"async"),e.qZA()}if(2&a){const r=_.item,l=e.oxw();e.ekj("is-active",e.lcZ(1,3,l.isActive(r.container))),e.Q6J("container",r.container)}}const JE=function(a,_){return{rating:a,count:_}};function zh(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.showReviews())}),e.ALo(1,"cxTranslate"),e.ALo(2,"number"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}if(2&a){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.xi3(1,2,"productSummary.showReviewsDetailed",e.WLB(10,JE,e.xi3(2,5,null==r?null:r.averageRating,"1.0-1"),null==r?null:r.numberOfReviews))),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productSummary.showReviews")," ")}}function Xl(a,_){if(1&a&&(e.TgZ(0,"div",3),e._UZ(1,"cx-star-rating",4),e.TgZ(2,"div",5),e._uU(3),e.qZA(),e.YNc(4,zh,5,13,"button",6),e.ALo(5,"async"),e.qZA()),2&a){const r=e.oxw().ngIf,l=e.oxw();let C;e.xp6(1),e.Q6J("rating",null!==(C=null==r?null:r.averageRating)&&void 0!==C?C:0),e.xp6(2),e.hij("(",null==r?null:r.numberOfReviews,")"),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,3,l.areReviewsAvailable$))}}function Wh(a,_){1&a&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function ru(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Xl,6,5,"div",1),e.YNc(2,Wh,3,3,"div",1),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngIf",null==r?null:r.averageRating),e.xp6(1),e.Q6J("ngIf",!(null!=r&&r.averageRating)),e.xp6(2),e.AsE(" ",e.lcZ(5,4,"productSummary.id")," ",null==r?null:r.code," ")}}function ed(a,_){if(1&a&&(e.TgZ(0,"div",2),e.ALo(1,"cxTranslate"),e._uU(2),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"productSummary.newItemPrice")),e.xp6(2),e.hij(" ",null==r||null==r.price?null:r.price.formattedValue," ")}}function Ip(a,_){if(1&a&&e._UZ(0,"p",3),2&a){const r=e.oxw().ngIf;e.Q6J("innerHTML",null==r?null:r.summary,e.oJD)}}function Us(a,_){if(1&a&&(e.ynx(0),e.YNc(1,ed,3,4,"ng-template",1),e.YNc(2,Ip,1,1,"ng-template",1),e.BQk()),2&a){const r=_.ngIf,l=e.oxw();e.xp6(1),e.Q6J("cxOutlet",l.outlets.PRICE)("cxOutletContext",e.VKq(4,Kc,r)),e.xp6(1),e.Q6J("cxOutlet",l.outlets.SUMMARY)("cxOutletContext",e.VKq(6,Kc,r))}}function wp(a,_){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==r.featureUnit?null:r.featureUnit.symbol," ")}}function Jh(a,_){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,wp,2,1,"span",0),e.qZA()),2&a){const r=_.$implicit,l=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==r?null:r.value," "),e.xp6(1),e.Q6J("ngIf",l.featureUnit&&l.featureUnit.symbol&&l.featureUnit.symbol.length>0&&"300"!==(null==l.featureUnit?null:l.featureUnit.unitType))}}function Li(a,_){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"ul"),e.YNc(5,Jh,3,2,"li",2),e.qZA()()()),2&a){const r=_.$implicit;e.xp6(2),e.Oqu(r.name),e.xp6(3),e.Q6J("ngForOf",null==r?null:r.featureValues)}}function Qi(a,_){if(1&a&&(e.TgZ(0,"table")(1,"th")(2,"h2"),e._uU(3),e.qZA()(),e.YNc(4,Li,6,2,"tr",2),e.qZA()),2&a){const r=_.$implicit;e.xp6(3),e.Oqu(r.name),e.xp6(1),e.Q6J("ngForOf",r.features)}}function ou(a,_){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1)(2,"h2"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.YNc(5,Qi,5,2,"table",2),e.qZA(),e.BQk()),2&a){const r=_.ngIf;e.xp6(3),e.Oqu(e.lcZ(4,2,"productDetails.specification")),e.xp6(2),e.Q6J("ngForOf",null==r?null:r.classifications)}}function td(a,_){if(1&a&&(e.ynx(0),e._UZ(1,"div",1),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("innerHTML",null==r?null:r.description,e.oJD)}}function Kh(a,_){if(1&a&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("cxComponentWrapper",r)}}function iu(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Kh,2,1,"ng-template",3),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.DdM(2,ti))}}function Fi(a,_){if(1&a&&(e.ynx(0),e.YNc(1,iu,2,3,"ng-container",0),e.BQk()),2&a){const r=_.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function su(a,_){if(1&a&&(e.ynx(0),e.YNc(1,Fi,2,1,"ng-container",2),e.BQk()),2&a){const r=_.ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}const Qh=["titleInput"],Uu=["writeReviewButton"];function Rp(a,_){if(1&a&&e._UZ(0,"cx-star-rating",9),2&a){const r=e.oxw(2).ngIf;e.Q6J("rating",r.averageRating)}}function qh(a,_){1&a&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function ri(a,_){if(1&a&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.qZA(),e._UZ(3,"cx-star-rating",15),e.TgZ(4,"div",16),e._uU(5),e.qZA(),e.TgZ(6,"div",17),e._uU(7),e.ALo(8,"cxDate"),e.qZA(),e.TgZ(9,"div",18),e._uU(10),e.qZA()()),2&a){const r=_.$implicit;let l;e.xp6(2),e.Oqu(r.headline),e.xp6(1),e.Q6J("rating",null!==(l=r.rating)&&void 0!==l?l:0),e.xp6(2),e.hij(" ",r.alias?r.alias:null==r.principal?null:r.principal.name," "),e.xp6(2),e.Oqu(e.lcZ(8,5,r.date)),e.xp6(3),e.Oqu(r.comment)}}function Bu(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2).ngIf,M=e.oxw(4);return e.KtG(M.maxListItems=C.length)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.more")," "))}function Pp(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(6);return e.KtG(C.maxListItems=C.initialMaxListItems)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.less")," "))}function nd(a,_){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Bu,3,3,"button",19),e.YNc(2,Pp,3,3,"button",19),e.qZA()),2&a){const r=e.oxw(5);e.xp6(1),e.Q6J("ngIf",r.maxListItems===r.initialMaxListItems),e.xp6(1),e.Q6J("ngIf",r.maxListItems!==r.initialMaxListItems)}}function pi(a,_){if(1&a&&(e.ynx(0),e.YNc(1,ri,11,7,"div",12),e.ALo(2,"slice"),e.YNc(3,nd,3,2,"div",11),e.BQk()),2&a){const r=_.ngIf,l=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,r,0,l.maxListItems)),e.xp6(2),e.Q6J("ngIf",r.length>l.initialMaxListItems)}}function au(a,_){if(1&a&&(e.ynx(0),e.YNc(1,pi,4,6,"ng-container",11),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.reviews$))}}function rd(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5,6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.initiateWriteReview())}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,Rp,1,1,"cx-star-rating",7),e.YNc(10,qh,3,3,"div",8),e.qZA(),e.YNc(11,au,3,3,"ng-container",2),e.BQk()}if(2&a){const r=e.oxw().ngIf,l=e.MAs(6),C=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"productReview.overallRating")),e.xp6(4),e.hij(" ",e.lcZ(8,8,"productReview.writeReview")," "),e.xp6(2),e.Q6J("ngIf",r.averageRating),e.xp6(1),e.Q6J("ngIf",!r.averageRating),e.xp6(1),e.Q6J("ngIf",!C.isWritingReview)("ngIfElse",l)}}function LC(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"form",20),e.NdJ("ngSubmit",function(){e.CHM(r);const C=e.oxw().ngIf,M=e.oxw();return e.KtG(M.submitReview(C))}),e.TgZ(1,"div",21)(2,"label")(3,"span",22),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"input",23,24)(8,"cx-form-errors",25),e.qZA()(),e.TgZ(9,"div",21)(10,"label")(11,"span",22),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._UZ(14,"textarea",26)(15,"cx-form-errors",25),e.qZA()(),e.TgZ(16,"div",21)(17,"label")(18,"span",22),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e._UZ(21,"input",27),e.TgZ(22,"cx-star-rating",28),e.NdJ("change",function(C){e.CHM(r);const M=e.oxw(2);return e.KtG(M.setRating(C))}),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"cx-form-errors",25),e.qZA()(),e.TgZ(25,"div",21)(26,"label")(27,"span",22),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA(),e._UZ(30,"input",29),e.qZA()(),e.TgZ(31,"div",30)(32,"div",31)(33,"button",32),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.cancelWriteReview())}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()(),e.TgZ(36,"div",31)(37,"button",33),e._uU(38),e.ALo(39,"cxTranslate"),e.qZA()()()()}if(2&a){const r=e.oxw(2);e.Q6J("formGroup",r.reviewForm),e.xp6(4),e.Oqu(e.lcZ(5,12,"productReview.reviewTitle")),e.xp6(4),e.Q6J("control",r.reviewForm.get("title")),e.xp6(4),e.Oqu(e.lcZ(13,14,"productReview.writeYourComments")),e.xp6(3),e.Q6J("control",r.reviewForm.get("comment")),e.xp6(4),e.Oqu(e.lcZ(20,16,"productReview.rating")),e.xp6(3),e.Q6J("disabled",!1),e.uIk("aria-label",e.lcZ(23,18,"productReview.ratingRequired")),e.xp6(2),e.Q6J("control",r.reviewForm.get("rating")),e.xp6(4),e.Oqu(e.lcZ(29,20,"productReview.reviewerName")),e.xp6(6),e.hij(" ",e.lcZ(35,22,"common.cancel")," "),e.xp6(4),e.hij(" ",e.lcZ(39,24,"common.submit")," ")}}function Xh(a,_){if(1&a&&(e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,rd,12,10,"ng-container",2),e.YNc(5,LC,40,26,"ng-template",null,3,e.W1O),e.qZA()),2&a){const r=_.ngIf,l=e.MAs(6),C=e.oxw();e.xp6(2),e.AsE(" ",e.lcZ(3,4,"productDetails.reviews")," (",r.numberOfReviews,") "),e.xp6(2),e.Q6J("ngIf",!C.isWritingReview)("ngIfElse",l)}}function eg(a,_){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(": "+r.value)}}function tg(a,_){if(1&a&&(e.TgZ(0,"p",19)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,eg,2,1,"span",20),e.qZA()),2&a){const r=_.$implicit;e.xp6(2),e.Oqu(r.channel),e.xp6(1),e.Q6J("ngIf",r.value)}}const fc=function(){return{cxRoute:"notificationPreference"}},Ba=function(){return{cxRoute:"myInterests"}};function la(a,_){if(1&a){const r=e.EpF();e.ynx(0),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",9)(4,"div",10)(5,"p",11),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.YNc(8,tg,4,2,"p",12),e.TgZ(9,"p",11),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"p",11),e._uU(13),e.ALo(14,"cxTranslate"),e.TgZ(15,"a",13),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Link clicked"))}),e.ALo(16,"cxUrl"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"p",11),e._uU(22),e.ALo(23,"cxTranslate"),e.TgZ(24,"a",14),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Link clicked"))}),e.ALo(25,"cxUrl"),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA()()(),e.TgZ(30,"div",15)(31,"div",16)(32,"div",17)(33,"button",18),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.close("Button clicked"))}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,13,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,15,"stockNotification.subscriptionDialog.notifiedPrefix")," "),e.xp6(2),e.Q6J("ngForOf",r.enabledPrefs),e.xp6(2),e.hij(" ",e.lcZ(11,17,"stockNotification.subscriptionDialog.notifiedSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"stockNotification.subscriptionDialog.manageChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(16,21,e.DdM(37,fc))),e.xp6(2),e.hij(" ",e.lcZ(18,23,"stockNotification.subscriptionDialog.manageChannelsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(20,25,"stockNotification.subscriptionDialog.manageChannelsSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(23,27,"stockNotification.subscriptionDialog.manageSubscriptionsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(25,29,e.DdM(38,Ba))),e.xp6(2),e.hij(" ",e.lcZ(27,31,"stockNotification.subscriptionDialog.manageSubscriptionsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(29,33,"stockNotification.subscriptionDialog.manageSubscriptionsSuffix")," "),e.xp6(6),e.hij(" ",e.lcZ(35,35,"stockNotification.subscriptionDialog.okBtn")," ")}}function Ga(a,_){1&a&&(e.TgZ(0,"div",9)(1,"p"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"div",21)(5,"div",22),e._UZ(6,"cx-spinner"),e.qZA()()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"stockNotification.subscriptionDialog.subscribing")," "))}function da(a,_){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"p"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.TgZ(5,"button",6),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(3);return e.KtG(C.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.BQk()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"stockNotification.getNotified")),e.xp6(3),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," "))}function od(a,_){if(1&a&&(e.ynx(0),e.YNc(1,da,8,6,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(2),l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,r.prefsEnabled$))("ngIfElse",l)}}function id(a,_){if(1&a&&(e.ynx(0),e.YNc(1,od,3,4,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(),l=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,r.hasProductInterests$))("ngIfElse",l)}}const Gu=function(){return{cxRoute:"login"}};function Op(a,_){1&a&&(e.ynx(0),e.TgZ(1,"a",10),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._uU(5),e.ALo(6,"cxTranslate"),e._UZ(7,"br"),e.BQk()),2&a&&(e.xp6(1),e.Q6J("routerLink",e.lcZ(2,3,e.DdM(9,Gu))),e.xp6(2),e.hij(" ",e.lcZ(4,5,"miniLogin.signInRegister"),""),e.xp6(2),e.hij(" ",e.lcZ(6,7,"stockNotification.getNotifySuffix"),""))}function nv(a,_){1&a&&(e._uU(0),e.ALo(1,"cxTranslate"),e._UZ(2,"br"),e._uU(3),e.ALo(4,"cxTranslate"),e.TgZ(5,"a",10),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e._uU(9),e.ALo(10,"cxTranslate")),2&a&&(e.hij(" ",e.lcZ(1,5,"stockNotification.getNotify"),""),e.xp6(3),e.hij(" ",e.lcZ(4,7,"stockNotification.activateChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,9,e.DdM(15,fc))),e.xp6(2),e.Oqu(e.lcZ(8,11,"stockNotification.channelsLink")),e.xp6(2),e.hij("",e.lcZ(10,13,"stockNotification.activateChannelsSuffix")," "))}function hc(a,_){if(1&a){const r=e.EpF();e.TgZ(0,"div",7)(1,"p"),e.YNc(2,Op,8,10,"ng-container",4),e.YNc(3,nv,11,16,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(5,"button",9),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()}if(2&a){const r=e.MAs(4),l=e.oxw();e.xp6(2),e.Q6J("ngIf",l.anonymous)("ngIfElse",r),e.xp6(3),e.uIk("disabled",!!l.anonymous||null),e.xp6(1),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," ")}}function ng(a,_){if(1&a){const r=e.EpF();e.ynx(0),e._UZ(1,"div",11),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",5)(4,"p"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"button",12),e.NdJ("click",function(){e.CHM(r);const C=e.oxw(2);return e.KtG(C.unsubscribe())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.BQk()}2&a&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(4),e.Oqu(e.lcZ(6,5,"stockNotification.notified")),e.xp6(3),e.hij(" ",e.lcZ(9,7,"stockNotification.stopNotify")," "))}function Lp(a,_){if(1&a&&(e.YNc(0,ng,10,9,"ng-container",4),e.ALo(1,"async")),2&a){const r=e.oxw(),l=e.MAs(7);e.Q6J("ngIf",!e.lcZ(1,2,r.isRemoveInterestLoading$))("ngIfElse",l)}}function Vu(a,_){1&a&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e._UZ(3,"cx-spinner"),e.qZA()()())}const Hu="data-cx-focus-group";var gc=(()=>{return(a=gc||(gc={})).start="start",a.end="end",a.both="both",gc;var a})();let pa=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Fp=(()=>{class a{constructor(r,l){this.elementRef=r,this.service=l,this.defaultConfig={}}ngOnInit(){this.setDefaultConfiguration(),this.requiredTabindex=-1}ngOnChanges(r){}setDefaultConfiguration(){(!this.config||""===this.config)&&this.defaultConfig&&(this.config=this.defaultConfig)}get host(){return this.elementRef.nativeElement}set requiredTabindex(r){this.requiresExplicitTabIndex&&(this.tabindex=r)}get requiresExplicitTabIndex(){return void 0===this.tabindex&&-1===["button","input","select","textarea"].indexOf(this.host.tagName.toLowerCase())&&!("A"===this.host.tagName&&(this.host.hasAttribute("href")||this.host.hasAttribute("routerlink")||this.host.getAttribute("ng-reflect-router-link")))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(pa))},a.\u0275dir=e.lG2({type:a,hostVars:1,hostBindings:function(r,l){2&r&&e.uIk("tabindex",l.tabindex)},inputs:{tabindex:"tabindex"},features:[e.TTD]}),a})(),kp=(()=>{class a extends Fp{constructor(){super(...arguments),this.defaultConfig={disableMouseFocus:!0},this.mouseFocus=!1}handleMousedown(){this.shouldFocusVisible&&(this.mouseFocus=!0)}handleKeydown(r){this.shouldFocusVisible&&(this.mouseFocus=!this.isNavigating(r))}get shouldFocusVisible(){return this.config?.disableMouseFocus}isNavigating(r){return!(r.metaKey||"Tab"!==r.code&&["INPUT","TEXTAREA"].includes(r.target.tagName))}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275dir=e.lG2({type:a,hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("mousedown",function(){return l.handleMousedown()})("keydown",function(M){return l.handleKeydown(M)}),2&r&&e.ekj("mouse-focus",l.mouseFocus)},features:[e.qOj]}),a})(),rg=(()=>{class a extends kp{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={block:!0},this.config={}}ngOnInit(){super.ngOnInit(),this.config.block&&(this.tabindex=-1)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(pa))},a.\u0275dir=e.lG2({type:a,features:[e.qOj]}),a})(),Np=(()=>{class a extends pa{constructor(){super(...arguments),this.focus=new Map}get(r){return this.focus.get(r||"_g_")}set(r,l){r&&this.focus.set(l||"_g_",r)}clear(r){this.focus.delete(r||"_g_")}getPersistenceGroup(r,l){return l?.group?l.group:r?.getAttribute(Hu)}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),og=(()=>{class a extends rg{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={},this.config={}}handleFocus(r){this.service.set(this.key,this.group),r?.preventDefault(),r?.stopPropagation()}ngOnInit(){super.ngOnInit(),this.attr=this.key?this.key:void 0}setDefaultConfiguration(){"string"==typeof this.config&&""!==this.config&&(this.config={key:this.config}),super.setDefaultConfiguration()}ngAfterViewInit(){this.isPersisted&&this.host.focus({preventScroll:!0})}get isPersisted(){return!!this.key&&this.service.get(this.group)===this.key}get key(){return this.config?.key}get group(){return this.service.getPersistenceGroup(this.host,this.config)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Np))},a.\u0275dir=e.lG2({type:a,hostVars:1,hostBindings:function(r,l){1&r&&e.NdJ("focus",function(M){return l.handleFocus(M)}),2&r&&e.uIk("data-cx-focus",l.attr)},features:[e.qOj]}),a})(),ig=(()=>{class a{constructor(){this.focusableSelectors=["a[href]","button","[tabindex]","input","select","textarea"],this.focusableSelectorSuffix=":not([disabled]):not([hidden]):not([aria-hidden])"}query(r,l){return l&&""!==l?Array.from(r?.querySelectorAll(l)):[]}findFirstFocusable(r,l={autofocus:!0}){return this.query(r,"string"==typeof l?.autofocus?l.autofocus:"[autofocus]").find(M=>!this.isHidden(M))||this.findFocusable(r).find(M=>Boolean(M))}findFocusable(r,l=!1,C=!1){let M=this.focusableSelectorSuffix;l||(M+=":not([tabindex='-1'])");const se=this.focusableSelectors.map(rt=>rt+M).join(",");return this.query(r,se).filter(rt=>C?Boolean(rt):!this.isHidden(rt))}isHidden(r){return null===r.offsetParent}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),sg=(()=>{class a extends Np{constructor(r){super(),this.selectFocusUtil=r}shouldFocus(r){return!!r?.focusOnEscape}handleEscape(r,l,C){this.shouldFocus(l)&&(r!==C.target?(r.focus({preventScroll:!0}),C.preventDefault(),C.stopPropagation()):l?.focusOnDoubleEscape&&this.selectFocusUtil.findFirstFocusable(r,{autofocus:!0})?.focus())}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ig))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Up=(()=>{class a extends og{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={focusOnEscape:!0},this.esc=new e.vpe}handleEscape(r){this.service.shouldFocus(this.config)&&this.service.handleEscape(this.host,this.config,r),this.esc.emit(this.service.shouldFocus(this.config))}ngOnInit(){this.service.shouldFocus(this.config)&&(this.requiredTabindex=-1),super.ngOnInit()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(sg))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.escape",function(M){return l.handleEscape(M)})},outputs:{esc:"esc"},features:[e.qOj]}),a})(),Bp=(()=>{class a extends sg{findFirstFocusable(r,l={autofocus:!0}){return":host"===l?.autofocus?r:this.hasPersistedFocus(r,l)?this.getPersisted(r,this.getPersistenceGroup(r,l)):this.selectFocusUtil.findFirstFocusable(r,l)||r}hasPersistedFocus(r,l){return!!this.getPersisted(r,this.getPersistenceGroup(r,l))}getPersisted(r,l){if(!this.get(l))return;const C=Array.from(r?.querySelectorAll(`[data-cx-focus='${this.get(l)}']`));return C.length>0?C[0]:void 0}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ad=(()=>{class a extends Up{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={autofocus:!0}}ngAfterViewInit(){this.shouldAutofocus&&this.handleFocus(),(!this.shouldAutofocus||this.hasPersistedFocus)&&super.ngAfterViewInit()}ngOnChanges(r){r.config.currentValue?.refreshFocus&&(this.config.autofocus||(this.config.autofocus=!0),this.handleFocus()),super.ngOnChanges(r)}handleFocus(r){this.shouldAutofocus&&(r?.target&&r.target!==this.host?r.target.focus():this.firstFocusable?.focus()),super.handleFocus(r)}get hasPersistedFocus(){return this.service.hasPersistedFocus(this.host,this.config)}get shouldAutofocus(){return!!this.config?.autofocus}get firstFocusable(){return this.service.findFirstFocusable(this.host,this.config)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Bp))},a.\u0275dir=e.lG2({type:a,features:[e.qOj,e.TTD]}),a})(),mc=(()=>{class a extends Bp{moveTab(r,l,C,M){l?.tab&&(("scroll"===l.tab?this.findNextScrollable(r,l,C):this.findNext(r,l,C))?.focus(),M.preventDefault(),M.stopPropagation())}findNextScrollable(r,l,C){const M=this.getActiveChild(r,l);if(!M)return;const se=Math.round(r.scrollWidth/r.clientWidth);let Lt=Math.round(M.offsetLeft/(r.scrollWidth/se))+C;return 1===C&&Lt>=se&&(Lt=0),-1===C&&Lt<0&&(Lt=se-1),this.getChildren(r,l)?.find(zn=>zn.offsetLeft>=r.scrollWidth/se*Lt)}findNext(r,l,C){const M=this.getChildren(r,l);let se=M?.findIndex(rt=>rt===this.getActiveChild(r,l));return(!se||-1===se)&&(se=0),se+=C,1===C&&se>=M?.length&&(se=M.length-1),-1===C&&se<0&&(se=0),M?M[se]:void 0}getActiveChild(r,l){const C=this.getPersisted(r,l?.group);if(C)return C;const M=this.getChildren(r,l);let se=M.findIndex(rt=>this.isActive(rt));return(!se||-1===se)&&(se=0),M[se]}getChildren(r,l){return"string"==typeof l.tab&&"scroll"!==l.tab?this.selectFocusUtil.query(r,l.tab):this.findFocusable(r,!0)}findFocusable(r,l=!1,C=!1){return this.selectFocusUtil.findFocusable(r,l,C)}isActive(r){const l=document.activeElement,C=l?.tagName;return r===l||!!C&&!!Array.from(r.querySelectorAll(C)).find(M=>M===l)}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),uu=(()=>{class a extends ad{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={tab:!0},this.config={}}handleNextTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,1,r)}handlePreviousTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,-1,r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(mc))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.arrowRight",function(M){return l.handleNextTab(M)})("keydown.arrowLeft",function(M){return l.handlePreviousTab(M)})},features:[e.qOj]}),a})(),$u=(()=>{class a extends mc{hasFocusableChildren(r){return this.findFocusable(r).length>0}moveFocus(r,l,C,M){const se=this.findFocusable(r);let rt=se.findIndex(sn=>sn===M.target)+C;(rt>=0&&rt<se.length||rt<0&&this.getTrapStart(l.trap)||rt>=se.length&&this.getTrapEnd(l.trap))&&(rt>=se.length&&(rt=0),rt<0&&(rt=se.length-1),M.preventDefault(),M.stopPropagation(),se[rt].focus())}getTrapStart(r){return!0===r||r===gc.start}getTrapEnd(r){return!0===r||r===gc.end}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ag=(()=>{class a extends uu{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={trap:!0},this.config={},this.handleTrapDown=C=>{this.config.trap&&this.moveFocus(C,1)},this.handleTrapUp=C=>{this.config.trap&&this.moveFocus(C,-1)}}moveFocus(r,l){this.service.hasFocusableChildren(this.host)&&this.service.moveFocus(this.host,this.config,l,r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36($u))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.arrowdown",function(M){return l.handleTrapDown(M)})("keydown.tab",function(M){return l.handleTrapDown(M)})("keydown.arrowup",function(M){return l.handleTrapUp(M)})("keydown.shift.tab",function(M){return l.handleTrapUp(M)})},features:[e.qOj]}),a})(),Gp=(()=>{class a extends $u{}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Hp=(()=>{class a extends ag{constructor(r,l,C){super(r,l),this.elementRef=r,this.service=l,this.renderer=C,this.defaultConfig={lock:!0},this.config={},this.unlock=new e.vpe}handleEnter(r){this.shouldLock&&this.host===r.target&&(this.unlockFocus(r),r.preventDefault(),r.stopPropagation())}handleClick(r){this.shouldLock&&this.isLocked&&(this.unlockFocus(r),r.stopPropagation())}lockFocus(){this.addTabindexToChildren(-1)}unlockFocus(r){this.unlock.emit(!0),this.addTabindexToChildren(0),r?.target===this.host&&setTimeout(()=>{super.handleFocus(r)},100)}ngOnInit(){super.ngOnInit(),this.shouldLock=this.config?.lock,this.shouldLock&&(this.tabindex=0,this.config.hasOwnProperty("autofocus")||(this.config.autofocus=!0),this.config.hasOwnProperty("focusOnEscape")||(this.config.focusOnEscape=!1!==this.config?.focusOnEscape))}ngAfterViewInit(){if(this.shouldLock){if(this.group){const r=this.group;this.service.findFocusable(this.host).forEach(l=>this.renderer.setAttribute(l,Hu,r))}this.shouldAutofocus&&this.handleFocus()}super.ngAfterViewInit()}handleFocus(r){if(this.shouldLock){if(!this.shouldUnlockAfterAutofocus(r))return setTimeout(()=>this.lockFocus()),void r?.stopPropagation();setTimeout(()=>this.unlockFocus(r))}super.handleFocus(r)}handleEscape(r){this.shouldLock&&this.service.clear(this.config.group),super.handleEscape(r)}shouldUnlockAfterAutofocus(r){return!r&&this.service.hasPersistedFocus(this.host,this.config)}addTabindexToChildren(r=0){this.shouldLock&&(this.isLocked=-1===r,(!this.hasFocusableChildren||0!==r||0===r)&&this.focusable.forEach(l=>this.renderer.setAttribute(l,"tabindex",r.toString())))}get hasFocusableChildren(){return this.service.hasFocusableChildren(this.host)}get focusable(){return this.service.findFocusable(this.host,this.shouldLock,!0)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Gp),e.Y36(e.Qsj))},a.\u0275dir=e.lG2({type:a,hostVars:4,hostBindings:function(r,l){1&r&&e.NdJ("keydown.enter",function(M){return l.handleEnter(M)})("keydown.space",function(M){return l.handleEnter(M)})("click",function(M){return l.handleClick(M)}),2&r&&e.ekj("focus-lock",l.shouldLock)("is-locked",l.isLocked)},outputs:{unlock:"unlock"},features:[e.qOj]}),a})(),qi=(()=>{class a extends Gp{}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),oi=(()=>{class a extends Hp{constructor(r,l,C){super(r,l,C),this.elementRef=r,this.service=l,this.renderer=C,this.defaultConfig={},this.config={}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(qi),e.Y36(e.Qsj))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxFocus",""]],inputs:{config:["cxFocus","config"]},features:[e.qOj]}),a})(),Qo=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})();var ii=(()=>{return(a=ii||(ii={})).POPOVER="POPOVER",a.POPOVER_CENTER="POPOVER_CENTER",a.POPOVER_CENTER_BACKDROP="POPOVER_CENTER_BACKDROP",a.DIALOG="DIALOG",a.SIDEBAR_START="SIDEBAR_START",a.SIDEBAR_END="SIDEBAR_END",ii;var a})();let ls=(()=>{let a=class{constructor(r,l){this.document=r,this.rendererFactory=l,this.renderedCallers=[],this.dialogClasses=["d-block","fade","modal","show"],this.popoverClasses=["cx-dialog-popover"],this.popoverCenterClasses=["cx-dialog-popover-center"],this.popoverCenterBackdropClasses=["cx-dialog-popover-center-backdrop"],this.sidebarEndClasses=["cx-sidebar-end"],this.sidebarStartClasses=["cx-sidebar-start"],this.renderer=l.createRenderer(null,null)}shouldRender(r,l){return Boolean(l.component)&&(!this.renderedCallers.some(C=>C.caller===r)||!!l.multi)}applyClasses(r,l){let C=[];switch(l){case ii.DIALOG:C=this.dialogClasses,this.renderer.addClass(this.document.body,"modal-open");break;case ii.POPOVER:C=this.popoverClasses;break;case ii.POPOVER_CENTER:C=this.popoverCenterClasses;break;case ii.POPOVER_CENTER_BACKDROP:C=this.popoverCenterBackdropClasses;break;case ii.SIDEBAR_END:C=this.sidebarEndClasses;break;case ii.SIDEBAR_START:C=this.sidebarStartClasses}for(const M of C)this.renderer.addClass(r.location.nativeElement,M)}remove(r,l){this.renderedCallers=this.renderedCallers.filter(C=>C.caller!==r),l?.dialogType===ii.DIALOG&&this.renderer.removeClass(this.document.body,"modal-open")}getPriority(){return-10}};return a=(0,me.gn)([(0,me.fM)(0,(0,e.tBr)(n.K0))],a),a})();var lu=(()=>{return(a=lu||(lu={})).xs="xs",a.sm="sm",a.md="md",a.lg="lg",a.xl="xl",lu;var a})();let ha=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Xi=(()=>{class a{constructor(r,l){this.renderStrategies=r,this.layoutConfig=l,this._dialogClose=new F.X(void 0),this._dataSubject=new F.X(void 0),this.renderStrategies=this.renderStrategies||[]}get data$(){return this._dataSubject.asObservable()}openDialog(r,l,C,M){const se=this.launch(r,C,M);if(se)return(0,S.aj)([se,this.dialogClose]).pipe((0,it.h)(([,rt])=>void 0!==rt),(0,He.b)(([rt])=>{l?.nativeElement.focus(),this.clear(r),rt?.destroy()}),(0,Te.U)(([rt])=>rt))}launch(r,l,C){const M=this.findConfiguration(r);if(M){const se=this.getStrategy(M);if(se)return this._dialogClose.next(void 0),this._dataSubject.next(C),se.render(M,r,l)}else(0,e.X6Q)()&&console.warn("No configuration provided for caller "+r)}openDialogAndSubscribe(r,l,C){this.openDialog(r,l,void 0,C)?.pipe((0,Me.q)(1)).subscribe()}clear(r){const l=this.findConfiguration(r);if(l){const C=this.getStrategy(l);C&&C.remove(r,l)}}get dialogClose(){return this._dialogClose.asObservable()}closeDialog(r){this._dialogClose.next(r)}findConfiguration(r){if(this.layoutConfig?.launch)return this.layoutConfig.launch[r]}getStrategy(r){return(0,h.ARM)(this.renderStrategies,[r])}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ls),e.LFG(ha))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ud=(()=>{class a{constructor(r,l,C){this.anonymousConsentsService=r,this.vcr=l,this.launchDialogService=C,this.subscriptions=new w.w,this.bannerVisible$=this.anonymousConsentsService.isBannerVisible()}viewDetails(){this.hideBanner();const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",void 0,this.vcr);r&&this.subscriptions.add(r.subscribe())}allowAll(){this.subscriptions.add(this.anonymousConsentsService.giveAllConsents().pipe((0,He.b)(()=>this.hideBanner())).subscribe())}hideBanner(){this.anonymousConsentsService.toggleBannerDismissed(!0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.NpW),e.Y36(e.s_b),e.Y36(Xi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-management-banner"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"anonymous-consent-banner",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xs-12"],[1,"cx-banner-title"],[1,"cx-banner-description"],[1,"col-lg-4","col-xs-12","cx-banner-buttons"],[1,"btn","btn-action",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,Wn,18,15,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.bannerVisible$))},dependencies:[n.mk,n.O5,n.Ov,h.X$D],encapsulation:2}),a})(),ga=(()=>{class a extends ls{constructor(r,l,C){super(r,l),this.document=r,this.rendererFactory=l,this.componentFactoryResolver=C}render(r,l,C){if(C&&this.shouldRender(l,r)){const M=this.componentFactoryResolver.resolveComponentFactory(r.component),se=C.createComponent(M);return r?.dialogType&&this.applyClasses(se,r?.dialogType),this.renderedCallers.push({caller:l,element:C.element,component:se}),(0,P.of)(se)}(0,e.X6Q)()&&console.warn(C?`Element for ${l} already rendered. To allow multi rendering add property multi: true.`:`No view container ref provided for ${l}`)}hasMatch(r){return Boolean(r.inline)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(e._Vd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ld=(()=>{class a extends ls{constructor(r,l,C,M){super(r,l),this.document=r,this.rendererFactory=l,this.componentFactoryResolver=C,this.injector=M}get hostComponent(){return this.injector.get(e.z2F)?.components?.[0]}render(r,l){if(this.shouldRender(l,r)){const C=this.componentFactoryResolver.resolveComponentFactory(r.component),M=e.zs3.create({providers:[]}),se=C.create(M);return this.injector.get(e.z2F)?.attachView(se.hostView),this.renderer.appendChild(this.hostComponent?.location.nativeElement,se.location.nativeElement),r?.dialogType&&this.applyClasses(se,r?.dialogType),this.renderedCallers.push({caller:l,component:se}),(0,P.of)(se)}}hasMatch(r){return Boolean(r.inlineRoot)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(e._Vd),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Kr=(()=>{return(a=Kr||(Kr={})).REPLACE="replace",a.BEFORE="before",a.AFTER="after",Kr;var a})();class vc{}let ds=(()=>{class a{constructor(){this.templatesRefs={[Kr.BEFORE]:new Map,[Kr.REPLACE]:new Map,[Kr.AFTER]:new Map}}add(r,l,C=Kr.REPLACE){const M=this.templatesRefs[C];if(M){const rt=(M.get(r)||[]).concat([l]);M.set(r,rt)}}get(r,l=Kr.REPLACE,C=!1){const se=(this.templatesRefs[l]||this.templatesRefs[Kr.REPLACE]).get(r);return se&&!C?se[0]:se}remove(r,l=Kr.REPLACE,C){this.removeValueOrAll(this.templatesRefs[l]||this.templatesRefs[Kr.REPLACE],r,C)}removeValueOrAll(r,l,C){if(!C&&r.has(l))r.delete(l);else if(C&&r.has(l)){let M=r.get(l);M=M?.filter(se=>se!==C),M&&r.set(l,M)}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Zu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})(),dd=(()=>{class a{constructor(){this.outletRefs=new F.X(new Map)}render(r){0!==this.outletRefs.value.size&&this.outletRefs.value.get(r)?.render()}register(r,l){this.outletRefs.next(this.outletRefs.value.set(r,l))}getOutletRef(r){return this.outletRefs.asObservable().pipe((0,Te.U)(l=>l.get(r)),(0,it.h)(h.jWE))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Zp=(()=>{class a{constructor(r){this.config=r}isIntersected(r,l){return this.intersects(r,l).pipe((0,re.P)(C=>!0===C))}isIntersecting(r,l){return this.intersects(r,l)}intersects(r,l={}){return new B.y(M=>{const rt={rootMargin:this.getRootMargin(l),threshold:l.threshold},Lt=new IntersectionObserver(sn=>{M.next(sn)},rt);return Lt.observe(r),()=>{Lt.disconnect()}}).pipe((0,Ie.zg)(M=>M),(0,Te.U)(M=>M.isIntersecting),(0,Ce.x)())}getRootMargin(r={}){if(r.rootMargin)return r.rootMargin;const l=this.config;return l.deferredLoading&&l.deferredLoading.intersectionMargin?l.deferredLoading.intersectionMargin:void 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ha))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Yu=(()=>{class a{constructor(r,l,C){this.platformId=r,this.config=l,this.intersectionService=C,this.globalLoadStrategy=l.deferredLoading?.strategy??h.cXr.INSTANT}load(r,l){return this.shouldLoadInstantly((l||{}).deferLoading)?(0,P.of)(!0):this.intersectionService.isIntersected(r,l)}shouldLoadInstantly(r){return(0,n.PM)(this.platformId)||r===h.cXr.INSTANT||r!==h.cXr.DEFER&&this.globalLoadStrategy===h.cXr.INSTANT}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(e.Lbi),e.LFG(ha),e.LFG(Zp))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ki=(()=>{class a{constructor(r,l,C,M,se){this.vcr=r,this.templateRef=l,this.outletService=C,this.deferLoaderService=M,this.outletRendererService=se,this.renderedTemplate=[],this.renderedComponents=new Map,this.outletContext$=new Z.t(1),this.loaded=new e.vpe(!0),this.subscription=new w.w}render(){this.vcr.clear(),this.renderedTemplate=[],this.renderedComponents.clear(),this.subscription.unsubscribe(),this.subscription=new w.w,this.cxOutletDefer?this.deferLoading():this.build()}ngOnChanges(r){r.cxOutlet&&(this.render(),this.outletRendererService.register(this.cxOutlet,this)),r.cxOutletContext&&this.outletContext$.next(this.cxOutletContext)}deferLoading(){this.loaded.emit(!1);const r=this.getHostElement(this.vcr.element.nativeElement);this.subscription.add(this.deferLoaderService.load(r,this.cxOutletDefer).subscribe(()=>{this.build(),this.loaded.emit(!0)}))}build(){this.buildOutlet(Kr.BEFORE),this.buildOutlet(Kr.REPLACE),this.buildOutlet(Kr.AFTER)}buildOutlet(r){let l=this.outletService.get(this.cxOutlet,r,!0);l=l?.filter(M=>!this.renderedTemplate.includes(M)),!l&&r===Kr.REPLACE&&(l=[this.templateRef]),Array.isArray(l)||(l=[l]);const C=[];l.forEach(M=>{const se=this.create(M,r);se&&C.push(se)}),this.renderedComponents.set(r,C)}create(r,l){if(this.renderedTemplate.push(r),r instanceof e._Yv)return this.vcr.createComponent(r,void 0,this.getComponentInjector(l));if(r instanceof e.Rgc){const C=this.vcr.createEmbeddedView(r,{$implicit:this.cxOutletContext});return C.markForCheck(),C}}getComponentInjector(r){const l={reference:this.cxOutlet,position:r,context:this.cxOutletContext,context$:this.outletContext$.asObservable()};return e.zs3.create({providers:[{provide:vc,useValue:l}],parent:this.vcr.injector})}getHostElement(r){return r instanceof HTMLElement?r:this.getHostElement(r.parentNode)}ngOnDestroy(){this.subscription.unsubscribe(),this.outletContext$.complete()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(ds),e.Y36(Yu),e.Y36(dd))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxOutlet",""]],inputs:{cxOutlet:"cxOutlet",cxOutletContext:"cxOutletContext",cxOutletDefer:"cxOutletDefer"},outputs:{loaded:"loaded"},features:[e.TTD]}),a})();const du=new e.OlP("PROVIDE_OUTLET_OPTIONS");function Yp(a){return{provide:du,useValue:a,multi:!0}}function Bs(a,_,r){return()=>{(a??[]).forEach(C=>{const M=_.resolveComponentFactory(C.component);r.add(C.id,M,C.position??Kr.AFTER)})}}let Ni=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:e.ip1,useFactory:Bs,deps:[[new e.FiY,du],e._Vd,ds],multi:!0}]}}static forChild(){return{ngModule:a,providers:[{provide:h.z4I,useFactory:Bs,deps:[[new e.FiY,du],e._Vd,ds],multi:!0}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})(),pd=(()=>{class a extends ls{constructor(r,l,C,M,se){super(r,l),this.document=r,this.rendererFactory=l,this.outletService=C,this.componentFactoryResolver=M,this.outletRendererService=se}render(r,l){if(this.shouldRender(l,r)){const C=this.componentFactoryResolver.resolveComponentFactory(r.component);return this.outletService.add(r.outlet,C,r.position?r.position:Kr.BEFORE),this.outletRendererService.render(r.outlet),this.renderedCallers.push({caller:l}),this.outletRendererService.getOutletRef(r.outlet).pipe((0,Te.U)(M=>M.renderedComponents.get(r.position?r.position:Kr.BEFORE).reverse().find(rt=>rt.componentType===C.componentType)),(0,He.b)(M=>{r?.dialogType&&M&&this.applyClasses(M,r?.dialogType)}))}}hasMatch(r){return Boolean(r.outlet)}remove(r,l){const C=this.componentFactoryResolver.resolveComponentFactory(l.component);this.outletService.remove(l.outlet,l.position?l.position:Kr.BEFORE,C),super.remove(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(ds),e.LFG(e._Vd),e.LFG(dd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),rv=(()=>{class a extends ls{constructor(r,l,C){super(r,l),this.document=r,this.rendererFactory=l,this.routingService=C}render(r,l){this.routingService.go(r)}hasMatch(r){return Boolean(r.cxRoute)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(n.K0),e.LFG(e.FYo),e.LFG(h.Znh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),kC=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:ha,useExisting:h.DeH}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:ls,useExisting:pd,multi:!0},{provide:ls,useExisting:ga,multi:!0},{provide:ls,useExisting:rv,multi:!0},{provide:ls,useExisting:ld,multi:!0}]}),a})();var Kn=(()=>{return(a=Kn||(Kn={})).STAR="STAR",a.SEARCH="SEARCH",a.CART="CART",a.INFO="INFO",a.GRID="GRID",a.LIST="LIST",a.CARET_DOWN="CARET_DOWN",a.CARET_UP="CARET_UP",a.CARET_LEFT="CARET_LEFT",a.CARET_RIGHT="CARET_RIGHT",a.CLOSE="CLOSE",a.ERROR="ERROR",a.WARNING="WARNING",a.SUCCESS="SUCCESS",a.VISA="VISA",a.MASTER_CARD="MASTER_CARD",a.AMEX="AMEX",a.DINERS_CLUB="DINERS_CLUB",a.CREDIT_CARD="CREDIT_CARD",a.EXPAND="EXPAND",a.COLLAPSE="COLLAPSE",a.RESET="RESET",a.CIRCLE="CIRCLE",a.HEART="HEART",a.EMPTY_HEART="EMPTY_HEART",a.FILTER="FILTER",a.PENCIL="PENCIL",a.CLOCK="CLOCK",a.TRASH="TRASH",a.ACTIVE="ACTIVE",a.SORT_DOWN="SORT_DOWN",a.SORT="SORT",a.ON="ON",a.OFF="OFF",a.LINK_OUT="LINK_OUT",a.EXPAND_ARROWS="EXPAND_ARROWS",a.EYE="EYE",a.EYE_SLASH="EYE_SLASH",Kn;var a})();let co=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();var ma=(()=>{return(a=ma||(ma={})).SVG="svg",a.LINK="link",a.TEXT="text",ma;var a})();const fd={icon:{symbols:{SEARCH:"fas fa-search",CART:"fas fa-shopping-cart",INFO:"fas fa-info-circle",STAR:"fas fa-star",GRID:"fas fa-th-large",LIST:"fas fa-bars",CARET_UP:"fas fa-angle-up",CARET_DOWN:"fas fa-angle-down",CARET_RIGHT:"fas fa-angle-right",CARET_LEFT:"fas fa-angle-left",ERROR:"fas fa-exclamation-circle",WARNING:"fas fa-exclamation-triangle",SUCCESS:"fas fa-check-circle",CLOSE:"fas fa-times",VISA:"fab fa-cc-visa",MASTER_CARD:"fab fa-cc-mastercard",AMEX:"fab fa-cc-amex",DINERS_CLUB:"fab fa-cc-diners-club",CREDIT_CARD:"fas fa-credit-card",COLLAPSE:"fas fa-minus",EXPAND:"fas fa-plus",RESET:"fas fa-times-circle",CIRCLE:"fas fa-circle",HEART:"fas fa-heart",EMPTY_HEART:"far fa-heart",FILTER:"fas fa-filter",PENCIL:"fas fa-pencil-alt",CLOCK:"far fa-clock",TRASH:"fas fa-trash",ACTIVE:"fas fa-check",ON:"fas fa-toggle-on",OFF:"fas fa-toggle-off",LINK_OUT:"fas fa-external-link-alt",SORT_DOWN:"fas fa-sort-down",SORT:"fas fa-sort",EXPAND_ARROWS:"fas fa-expand",PDF_FILE:"fas fa-file-pdf",EYE:"fas fa-eye",EYE_SLASH:"fas fa-eye-slash"},resources:[{type:ma.LINK,url:"https://use.fontawesome.com/releases/v5.8.1/css/all.css"}]}};let ps=(()=>{class a{constructor(r,l,C){this.winRef=r,this.iconConfig=l,this.sanitizer=C,this.loadedResources=[]}getHtml(r){if(this.isResourceType(r,ma.SVG)){const l=this.sanitizer.sanitize(e.q3G.URL,this.getSvgPath(r)||null);if(l){const C=this.winRef.document.createElement("use");C.setAttribute("xlink:href",l);const M=this.winRef.document.createElement("svg");return M.appendChild(C),this.sanitizer.bypassSecurityTrustHtml(M.outerHTML)}}if(this.isResourceType(r,ma.TEXT)){const l=this.getSymbol(r);if(l){const C=this.winRef.document.createElement("div");return C.textContent=l,this.sanitizer.bypassSecurityTrustHtml(C.innerHTML)}}}getFlipDirection(r){return this.config?.flipDirection?.[r]}getStyleClasses(r){return this.getSymbol(r)||""}isResourceType(r,l){return void 0!==this.config?.resources&&!!this.config.resources.find(C=>C.types&&C.type===l&&C.types.includes(r))}getSvgPath(r){const l=this.config?.resources?.find(C=>C.type===ma.SVG&&C.types&&C.types.includes(r));if(l)return l.url?`${l.url}#${this.getSymbol(r)}`:`#${this.getSymbol(r)}`}addLinkResource(r){const l=this.findResource(r,ma.LINK);if(l?.url&&!this.loadedResources.includes(l.url)){this.loadedResources.push(l.url);const C=this.sanitizer.sanitize(e.q3G.URL,l.url);if(C){const M=this.winRef.document.getElementsByTagName("head")[0],se=this.winRef.document.createElement("link");se.rel="stylesheet",se.type="text/css",se.href=C,M.appendChild(se)}}}findResource(r,l){if(!this.config?.resources)return;let C=this.config.resources.find(M=>M.type===l&&M.types&&M.types.includes(r));return C||(C=this.config.resources.find(M=>M.type===l&&!M.types||M.types&&0===M.types.length)),C}getSymbol(r){if(this.config&&this.config.symbols&&this.config.symbols[r])return this.config.symbols[r]}get config(){return this.iconConfig.icon}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(co),e.LFG(Et.H7))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Po=(()=>{return(a=Po||(Po={})).LTR="ltr",a.RTL="rtl",Po;var a})();let yo=(()=>{class a{constructor(r,l,C){this.iconLoader=r,this.elementRef=l,this.renderer=C}set cxIcon(r){this.setIcon(r)}set type(r){this.setIcon(r)}setIcon(r){!r||""===r||(this.icon=this.iconLoader.getHtml(r),this.addStyleClasses(r),this.iconLoader.addLinkResource(r),this.flipIcon(r))}flipIcon(r){if(!this.iconLoader.getFlipDirection)return;const l=this.iconLoader.getFlipDirection(r);this.flipAtLtr=l===Po.LTR,this.flipAtRtl=l===Po.RTL}addStyleClasses(r){this.renderer.addClass(this.host,"cx-icon"),this.styleClasses?.forEach(l=>this.renderer.removeClass(this.host,l)),this.styleClasses=this.iconLoader.getStyleClasses(r)?.split(" "),this.styleClasses?.forEach(l=>{""!==l&&this.renderer.addClass(this.host,l)})}get host(){return this.elementRef.nativeElement}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ps),e.Y36(e.SBq),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-icon"],["","cxIcon",""]],hostVars:4,hostBindings:function(r,l){2&r&&e.ekj("flip-at-rtl",l.flipAtRtl)("flip-at-ltr",l.flipAtLtr)},inputs:{cxIcon:"cxIcon",type:"type"},ngContentSelectors:vr,decls:2,vars:1,consts:[[3,"outerHTML"]],template:function(r,l){1&r&&(e.F$t(),e._UZ(0,"i",0),e.Hsn(1)),2&r&&e.Q6J("outerHTML",l.icon,e.oJD)},encapsulation:2}),a})();const zp={icon:{flipDirection:{CARET_RIGHT:Po.RTL,CARET_LEFT:Po.RTL}}};let wr=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(zp),(0,h.i51)(fd)],imports:[n.ez]}),a})(),Ui=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-spinner"]],decls:4,vars:3,consts:[["role","status",1,"loader-container"],[1,"loader"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))},dependencies:[h.X$D],encapsulation:2}),a})(),Gs=(()=>{class a{constructor(){this.consentGiven=!1,this.requiredConsents=[],this.consentChanged=new e.vpe}ngOnInit(){this.consent?this.consentGiven=Boolean(this.consent.consentState===h.w3G.GIVEN):this.consentTemplate&&this.consentTemplate.currentConsent&&(this.consentTemplate.currentConsent.consentWithdrawnDate?this.consentGiven=!1:this.consentTemplate.currentConsent.consentGivenDate&&(this.consentGiven=!0))}onConsentChange(){this.consentGiven=!this.consentGiven,this.consentChanged.emit({given:this.consentGiven,template:this.consentTemplate})}isRequired(r){return!!r&&this.requiredConsents.includes(r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-consent-management-form"]],inputs:{consentTemplate:"consentTemplate",requiredConsents:"requiredConsents",consent:"consent"},outputs:{consentChanged:"consentChanged"},decls:8,vars:4,consts:[[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label","cx-be-bold"],[1,"form-check-label"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"label")(2,"input",1),e.NdJ("change",function(){return l.onConsentChange()}),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",3),e._uU(7),e.qZA()()()),2&r&&(e.xp6(2),e.Q6J("checked",l.consentGiven)("disabled",l.isRequired(null==l.consentTemplate?null:l.consentTemplate.id)),e.xp6(2),e.hij(" ",null==l.consentTemplate?null:l.consentTemplate.name," "),e.xp6(3),e.hij(" ",null==l.consentTemplate?null:l.consentTemplate.description," "))},encapsulation:2}),a})();const av={launch:{ANONYMOUS_CONSENT:{inline:!0,component:(()=>{class a{constructor(r,l,C,M){this.config=r,this.anonymousConsentsService=l,this.el=C,this.launchDialogService=M,this.role="dialog",this.modal=!0,this.subscriptions=new w.w,this.showLegalDescription=!0,this.iconTypes=Kn,this.requiredConsents=[],this.focusConfig={trap:!0,block:!0,autofocus:'input[type="checkbox"]',focusOnEscape:!0},this.config.anonymousConsents&&(this.showLegalDescription=this.config.anonymousConsents.showLegalDescriptionInDialog,this.config.anonymousConsents.requiredConsents&&(this.requiredConsents=this.config.anonymousConsents.requiredConsents))}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.templates$=this.anonymousConsentsService.getTemplates(),this.consents$=this.anonymousConsentsService.getConsents(),this.loading$=this.anonymousConsentsService.getLoadTemplatesLoading()}close(r){this.launchDialogService.closeDialog(r)}rejectAll(){this.subscriptions.add((0,S.aj)([this.templates$,this.consents$]).pipe((0,Me.q)(1),(0,Ce.x)(),(0,He.b)(([r,l])=>r.forEach(C=>{const M=this.getCorrespondingConsent(C,l);if(M&&this.anonymousConsentsService.isConsentGiven(M)){if(this.isRequiredConsent(C))return;C.id&&this.anonymousConsentsService.withdrawConsent(C.id)}}))).subscribe()),this.close("rejectAll")}allowAll(){this.subscriptions.add((0,S.aj)([this.templates$,this.consents$]).pipe((0,Me.q)(1),(0,Ce.x)(),(0,He.b)(([r,l])=>r.forEach(C=>{const M=this.getCorrespondingConsent(C,l);if(M&&(null==M.consentState||this.anonymousConsentsService.isConsentWithdrawn(M))){if(this.isRequiredConsent(C))return;C.id&&this.anonymousConsentsService.giveConsent(C.id)}}))).subscribe()),this.close("allowAll")}isRequiredConsent(r){return Boolean(r.id&&this.config.anonymousConsents?.requiredConsents&&this.config.anonymousConsents.requiredConsents.includes(r.id))}onConsentChange({given:r,template:l}){l.id&&(r?this.anonymousConsentsService.giveConsent(l.id):this.anonymousConsentsService.withdrawConsent(l.id))}getCorrespondingConsent(r,l=[]){for(const C of l)if(r.id===C.templateCode)return C;return null}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(e.SBq),e.Y36(Xi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-dialog"]],hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)}),2&r&&e.uIk("role",l.role)("aria-modal",l.modal)},decls:6,vars:5,consts:[[1,"cx-anonymous-consent-dialog",3,"cxFocus","esc"],[1,"cx-dialog-content"],[4,"ngIf","ngIfElse"],["dialogBody",""],["role","status"],[1,"cx-dialog-header"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["class","cx-dialog-description",4,"ngIf"],[1,"cx-dialog-buttons"],["tabindex","0",1,"btn-link","cx-action-link",3,"click"],["class","cx-dialog-body",4,"ngIf"],[1,"cx-dialog-description"],[1,"cx-dialog-separator","col-sm-12","d-xs-block","d-sm-block","d-md-none"],[1,"cx-dialog-body"],[4,"ngIf"],["class","cx-dialog-row col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"cx-dialog-row","col-sm-12","col-md-6"],[3,"consentTemplate","requiredConsents","consent","consentChanged"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1),e.YNc(2,Yn,2,0,"div",2),e.ALo(3,"async"),e.YNc(4,Fr,20,20,"ng-template",null,3,e.W1O),e.qZA()()),2&r){const C=e.MAs(5);e.Q6J("cxFocus",l.focusConfig),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,l.loading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,yo,Ui,Gs,oi,n.Ov,h.X$D],encapsulation:2}),a})(),dialogType:ii.DIALOG}}};let cg=(()=>{class a{constructor(r,l){this.vcr=r,this.launchDialogService=l}openDialog(){const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",this.openElement,this.vcr);r&&r.pipe((0,Me.q)(1)).subscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(Xi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-open-dialog"]],viewQuery:function(r,l){if(1&r&&e.Gf(Ar,5),2&r){let C;e.iGM(C=e.CRH())&&(l.openElement=C.first)}},decls:4,vars:3,consts:[[1,"btn","btn-link",3,"click"],["open",""]],template:function(r,l){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return l.openDialog()}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"anonymousConsents.preferences"),"\n"))},dependencies:[h.X$D],encapsulation:2}),a})(),cv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(av),(0,h.i51)({cmsComponents:{AnonymousConsentManagementBannerComponent:{component:ud,deferLoading:h.cXr.INSTANT},AnonymousConsentOpenDialogComponent:{component:cg}}})],imports:[n.ez,h.LUR,h.GSh,Qo]}),a})();const Vs=new e.OlP("PageLayoutHandler");let Zn=(()=>{class a{constructor(r,l,C){this.winRef=r,this.layoutConfig=l,this.platform=C,this.breakpoint$=(0,n.NF)(this.platform)?this.winRef.resize$.pipe((0,Te.U)(M=>this.getBreakpoint(M.target.innerWidth)),(0,Ce.x)()):(0,P.of)(this.fallbackBreakpoint)}get breakpoints(){return this._breakpoints||(this._breakpoints=this.resolveBreakpointsFromConfig()),this._breakpoints}getSize(r){return this.getMaxSize(r)??this.getMinSize(this.breakpoints?.[this.breakpoints.indexOf(r)+1])}isDown(r){return this.breakpoint$.pipe((0,Te.U)(l=>this.breakpoints.slice(0,this.breakpoints.indexOf(r)+1).includes(l)))}isUp(r){return this.breakpoint$.pipe((0,Te.U)(l=>this.breakpoints.slice(this.breakpoints.indexOf(r)).includes(l)))}isEqual(r){return this.breakpoint$.pipe((0,Te.U)(l=>l===r))}get fallbackBreakpoint(){return this.breakpoints?.[0]}resolveBreakpointsFromConfig(){return Object.keys(this.config).sort((l,C)=>{const M=this.getMinSize(l),se=Math.max(M?M+1:0,this.getMaxSize(l)||0),rt=this.getMinSize(C);return se<Math.max(rt?rt+1:0,this.getMaxSize(C)||0)?-1:0})}getMaxSize(r){const l=this.config[r];return l?"number"==typeof l?l:l.max?l.max:null:null}getMinSize(r){return this.config[r]?.min??null}getBreakpoint(r){return this.breakpoints.find(l=>{const C=this.getSize(l);return null!==C&&r<C})??this.breakpoints?.[this.breakpoints.length-1]}get config(){return this.layoutConfig?.breakpoints||{}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(ha),e.LFG(e.Lbi))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Wp=(()=>{class a{constructor(r,l,C,M){this.cms=r,this.config=l,this.breakpointService=C,this.unifiedInjector=M,this.subscription=new w.w,this.warnLogMessages={},this.logSlots={},this.subscription.add(this.unifiedInjector.getMulti(Vs).subscribe(se=>this.handlers=se))}getSlots(r){return(0,S.aj)([this.page$,this.breakpointService.breakpoint$]).pipe((0,Te.U)(([l,C])=>{const M=l.template;return{slots:this.resolveSlots(l,r,C),pageTemplate:M,breakpoint:C}}),(0,we.w)(({slots:l,pageTemplate:C,breakpoint:M})=>{let se=(0,P.of)(l);for(const rt of this.handlers||[])se=rt.handle(se,C,r,M);return se}),(0,Ce.x)((l,C)=>{if(l.length!==C.length)return!1;for(let M=0;M<l.length;M++)if(l[M]!==C[M])return!1;return!0}))}getPageFoldSlot(r){return this.breakpointService.breakpoint$.pipe((0,Te.U)(l=>{if(!this.config.layoutSlots)return;const M=this.getResponsiveSlotConfig(this.config.layoutSlots[r],"pageFold",l);return M?M.pageFold:void 0}))}resolveSlots(r,l,C){const M=this.getSlotConfig(r.template??"","slots",l,C);if(M&&M.slots){const se=r.slots?Object.keys(r.slots):[];return M.slots.filter(rt=>se.includes(rt))}return l?(this.logMissingLayoutConfig(r,l),[]):(this.logMissingLayoutConfig(r),r.slots?Object.keys(r.slots):[])}get page$(){return this.cms.getCurrentPage().pipe((0,it.h)(r=>!!r))}get templateName$(){return this.page$.pipe((0,Te.U)(r=>r.template),(0,it.h)(h.pTN))}getSlotConfig(r,l,C,M){if(!this.config.layoutSlots)return;const se=this.config.layoutSlots[r];return C?this.getSlotConfigForSection(r,l,C,M):se?this.getResponsiveSlotConfig(se,l,M):void 0}getSlotConfigForSection(r,l,C,M){const se=this.config.layoutSlots?.[r];if(!se||!C)return;const rt=se[C]?se[C]:this.config.layoutSlots?.[C];if(!rt)return;const Lt=this.getResponsiveSlotConfig(rt,l,M);return Lt.hasOwnProperty(l)?Lt:se[C].hasOwnProperty(l)?se[C]:this.config.layoutSlots?.[C]?this.config.layoutSlots[C]:void 0}getResponsiveSlotConfig(r,l,C){let M=r;if(!r||!C)return M;if(r[C]&&r[C].hasOwnProperty(l))return r[C];const se=this.breakpointService.breakpoints;for(const rt of se.slice(0,se.indexOf(C)))r[rt]&&r[rt].hasOwnProperty(l)&&(M=r[rt]);return M}logMissingLayoutConfig(r,l){if(!(0,e.X6Q)())return;r.template&&!this.logSlots[r.template]&&(console.info(`Available CMS page slots: '${(r.slots?Object.keys(r.slots):[]).join("','")}'`),this.logSlots[r.template]=!0);const C=l||r.template;C&&!this.warnLogMessages[C]&&(console.warn(`No layout config found for ${C}, you can configure a 'LayoutConfig' to control the rendering of page slots.`),this.warnLogMessages[C]=!0)}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ctt),e.LFG(ha),e.LFG(Zn),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),uv=(()=>{class a{constructor(r,l){this.configInitializer=r,this.featureModules=l,this.componentFeatureMap=new Map,this.featureInstances=new Map,this.initFeatureMap()}initFeatureMap(){this.configInitializer.getStable("featureModules").subscribe(r=>{this.featureModulesConfig=r.featureModules??{};for(const[l,C]of Object.entries(this.featureModulesConfig))if("string"!=typeof C&&C?.module&&C?.cmsComponents?.length)for(const M of C.cmsComponents)this.componentFeatureMap.set(M,l)})}hasFeatureFor(r){return this.componentFeatureMap.has(r)}getCmsMapping(r){const l=this.componentFeatureMap.get(r);return l?this.resolveFeatureInstance(l).pipe((0,Te.U)(C=>C.componentsMappings?.[r])):(0,P.of)(void 0)}getModule(r){const l=this.componentFeatureMap.get(r);if(!l)return;let C;return this.featureInstances.get(l)?.subscribe(M=>{C=M.moduleRef}).unsubscribe(),C}resolveFeatureInstance(r){return(0,V.P)(()=>(this.featureInstances.has(r)||this.featureInstances.set(r,this.featureModules.resolveFeature(r).pipe((0,Te.U)(l=>this.createFeatureInstance(l,r)),(0,Ae.d)())),this.featureInstances.get(r)))}createFeatureInstance(r,l){const C=this.featureModulesConfig[l],M={moduleRef:r,componentsMappings:{}},se=this.resolveFeatureConfiguration(r.injector);for(const rt of C.cmsComponents??[])M.componentsMappings[rt]=se.cmsComponents?.[rt]??{};return M}resolveFeatureConfiguration(r){const l=r.get(h.XZr,[],e.XFs.Self),C=r.get(h.Mvl,[],e.XFs.Self);return(0,h.RH2)({},...C??[],...l??[])}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.yUt),e.LFG(h.q2V))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),va=(()=>{class a{constructor(r,l,C,M){this.config=r,this.platformId=l,this.featureModules=C,this.configInitializer=M,this.missingComponents=[],this.mappings={},this.mappingResolvers=new Map,this.configInitializer.getStable("cmsComponents").subscribe(se=>{this.staticCmsConfig={...se.cmsComponents}})}determineMappings(r){return(0,V.P)(()=>{const l=[];for(const C of r)if(!this.mappings[C]){const M=(this.staticCmsConfig??this.config.cmsComponents)?.[C];this.featureModules.hasFeatureFor(C)?l.push(this.getFeatureMappingResolver(C,M)):M&&(this.mappings[C]=M)}return l.length?(0,G.D)(l).pipe((0,Ge.h)(r)):(0,P.of)(r)})}getFeatureMappingResolver(r,l){if(!this.mappingResolvers.has(r)){const C=this.featureModules.getCmsMapping(r).pipe((0,it.h)(h.pTN),(0,He.b)(M=>{this.mappings[r]=(0,h.RH2)({},M,l),this.mappingResolvers.delete(r)}),(0,ht.B)());this.mappingResolvers.set(r,C)}return this.mappingResolvers.get(r)}getModule(r){if(this.featureModules.hasFeatureFor(r))return this.featureModules.getModule(r)}getMapping(r){const l=this.mappings[r]??(this.staticCmsConfig??this.config.cmsComponents)?.[r];return(0,e.X6Q)()&&!l&&(this.missingComponents.includes(r)||(this.missingComponents.push(r),console.warn(`No component implementation found for the CMS component type '${r}'.\n`,"Make sure you implement a component and register it in the mapper."))),l}shouldRender(r){return!((0,n.PM)(this.platformId)&&this.getMapping(r)?.disableSSR)}getDeferLoadingStrategy(r){return(this.staticCmsConfig??this.config.cmsComponents)?.[r]?.deferLoading}getChildRoutes(r){const l=[];for(const C of r)this.shouldRender(C)&&l.push(this.getMapping(C)?.childRoutes??[]);return this.standardizeChildRoutes(l)}getStaticData(r){return this.getMapping(r)?.data}standardizeChildRoutes(r){const l={children:[]};return(r||[]).forEach(C=>{Array.isArray(C)?l.children?.push(...C):(l.children?.push(...C.children||[]),C.parent&&(l.parent=C.parent))}),l}getGuards(r){const l=new Set;for(const C of r)this.getMapping(C)?.guards?.forEach(M=>l.add(M));return Array.from(l)}getI18nKeys(r){const l=new Set;for(const C of r)this.shouldRender(C)&&this.getMapping(C)?.i18nKeys?.forEach(M=>l.add(M));return Array.from(l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Dcy),e.LFG(e.Lbi),e.LFG(uv),e.LFG(h.yUt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ug=(()=>{class a{constructor(r,l,C){this.cmsComponentsService=r,this.platformId=l,this.document=C,this.resolvePrerenderedSlots()}resolvePrerenderedSlots(){(0,n.NF)(this.platformId)&&(this.prerenderedSlots=Array.from(this.document.querySelectorAll("cx-page-slot")).filter(r=>r.getBoundingClientRect().top<this.document.documentElement.clientHeight).map(r=>r.getAttribute("position")))}shouldNotDefer(r){return!!this.prerenderedSlots?.includes(r)&&(this.prerenderedSlots.splice(this.prerenderedSlots.indexOf(r),1),!0)}getComponentDeferOptions(r,l){return r&&this.shouldNotDefer(r)?{deferLoading:h.cXr.INSTANT}:{deferLoading:this.cmsComponentsService.getDeferLoadingStrategy(l)}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(va),e.LFG(e.Lbi),e.LFG(n.K0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class Jp extends h.W8x{}let Kp=(()=>{class a extends Jp{}return a.type="ComponentCreate",a})(),Wu=(()=>{class a extends Jp{}return a.type="ComponentDestroy",a})();class fs{}let Va=(()=>{class a{constructor(r){this.handlers=r,this.invalidMappings=new Set}resolve(r){const l=(0,h.ARM)(this.handlers,[r]);return(0,e.X6Q)()&&!l&&(this.invalidMappings.has(r)||(this.invalidMappings.add(r),console.warn("Can't resolve handler for component mapping: ",r))),l}getLauncher(r,l,C,M){return this.resolve(r)?.launcher(r,l,C,M)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(fs,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class uo{}let es=(()=>{class a{constructor(r,l){this.componentsService=r,this.cmsService=l}get(r,l){return(0,V.P)(()=>{let C;return l&&(C=this.componentsService.getStaticData(l)),r?C?this.cmsService.getComponentData(r).pipe((0,Te.U)(M=>({...C,...M})),(0,Je.O)(C)):this.cmsService.getComponentData(r):C?(0,P.of)(C):J.E})}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(va),e.LFG(h.ctt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),gd=(()=>{class a{constructor(r,l){this.cmsComponentsService=r,this.injector=l}getInjector(r,l,C){const M=this.cmsComponentsService.getMapping(r)?.providers??[];return e.zs3.create({providers:[{provide:uo,useFactory:se=>({uid:l,data$:se.get(l,r)}),deps:[es]},...M],parent:C??this.injector})}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(va),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ha=(()=>{class a{constructor(r,l,C,M,se,rt,Lt,sn){this.vcr=r,this.cmsComponentsService=l,this.injector=C,this.dynamicAttributeService=M,this.renderer=se,this.componentHandler=rt,this.cmsInjector=Lt,this.eventService=sn,this.cxComponentRef=new e.vpe}ngOnInit(){this.cmsComponentsService.determineMappings([this.cxComponentWrapper.flexType??""]).subscribe(()=>{this.cmsComponentsService.shouldRender(this.cxComponentWrapper.flexType??"")&&this.launchComponent()})}launchComponent(){const r=this.cmsComponentsService.getMapping(this.cxComponentWrapper.flexType??"");!r||(this.launcherResource=this.componentHandler.getLauncher(r,this.vcr,this.cmsInjector.getInjector(this.cxComponentWrapper.flexType??"",this.cxComponentWrapper.uid??"",this.injector),this.cmsComponentsService.getModule(this.cxComponentWrapper.flexType??""))?.pipe((0,it.h)(h.pTN),(0,He.b)(({elementRef:l,componentRef:C})=>{this.cmpRef=C,this.cxComponentRef.emit(C),this.dispatchEvent(Kp,l),this.decorate(l),this.injector.get(e.sBO).markForCheck()}),(0,lt.x)(()=>this.dispatchEvent(Wu))).subscribe())}dispatchEvent(r,l){const C={typeCode:this.cxComponentWrapper.typeCode,id:this.cxComponentWrapper.uid};r===Kp&&(C.host=l?.nativeElement),this.eventService.dispatch(C,r)}decorate(r){this.dynamicAttributeService.addAttributesToComponent(r.nativeElement,this.renderer,this.cxComponentWrapper)}ngOnDestroy(){this.launcherResource&&this.launcherResource.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(va),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Va),e.Y36(gd),e.Y36(h.POd))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxComponentWrapper",""]],inputs:{cxComponentWrapper:"cxComponentWrapper"},outputs:{cxComponentRef:"cxComponentRef"}}),a})(),lg=(()=>{class a{constructor(r,l,C,M,se,rt){this.cmsService=r,this.dynamicAttributeService=l,this.renderer=C,this.elementRef=M,this.cd=se,this.pageSlotService=rt,this.isPageFold=!1,this.isPending=!0,this.hasComponents=!1,this.position$=new F.X(void 0),this.slot$=this.position$.pipe((0,it.h)(h.pTN),(0,we.w)(Lt=>this.cmsService.getContentSlot(Lt)),(0,Ce.x)(this.isDistinct)),this.components$=this.slot$.pipe((0,Te.U)(Lt=>Lt?.components??[])),this.subscription=new w.w,this.pendingComponentCount=0}set position(r){this.position$.next(r)}get position(){return this.position$.value}ngOnInit(){this.subscription.add(this.slot$.pipe((0,He.b)(r=>this.decorate(r))).subscribe(r=>{this.components=r?.components||[],this.cd.markForCheck()}))}decorate(r){let l=this.class||"";this.lastPosition&&l.indexOf(this.lastPosition)>-1&&(l=l.replace(this.lastPosition,"")),this.position$.value&&(l+=` ${this.position$.value}`,this.lastPosition=this.position$.value),this.pending=r?.components?.length||0,this.hasComponents=!!r?.components&&r?.components?.length>0,l&&l!==this.class&&(this.class=l),r&&this.dynamicAttributeService.addAttributesToSlot(this.elementRef.nativeElement,this.renderer,r)}set pending(r){this.pendingComponentCount=r,this.isPending=this.pendingComponentCount>0}get pending(){return this.pendingComponentCount}isLoaded(r){r&&(this.pending--,this.cd.markForCheck())}getComponentDeferOptions(r){return this.pageSlotService.getComponentDeferOptions(this.position,r)}isDistinct(r,l){return Boolean(l.components&&r.components&&r.components.length===l.components.length&&!r.components.find((C,M)=>C.uid!==l.components?.[M].uid))}ngOnDestroy(){this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.ctt),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ug))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-slot"],["","cx-page-slot",""]],hostVars:9,hostBindings:function(r,l){2&r&&(e.uIk("position",l.position),e.Tol(l.class),e.ekj("page-fold",l.isPageFold)("cx-pending",l.isPending)("has-components",l.hasComponents))},inputs:{position:"position",class:"class",isPageFold:"isPageFold",hasComponents:"hasComponents"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext","cxOutletDefer","loaded"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&e.YNc(0,Gn,1,4,null,0),2&r&&e.Q6J("ngIf",l.position)},dependencies:[n.sg,n.O5,ki,Ha],encapsulation:2,changeDetection:0}),a})(),lv=(()=>{class a{constructor(r,l,C,M){this.pageLayoutService=r,this.elementRef=l,this.templateRef=C,this.cd=M,this.subscription=new w.w}set setTemplate(r){r&&""!==r?(this.useTemplateFromInput=!0,this.addStyleClass(r)):this.useTemplateFromInput&&this.clear()}ngOnInit(){this.useTemplateFromInput||this.subscription.add(this.pageLayoutService.templateName$.subscribe(r=>this.addStyleClass(r)))}addStyleClass(r,l){this.clear(l),r&&(this.currentTemplate=r,(l??this.host).classList.add(this.currentTemplate),this.cd.markForCheck())}clear(r){this.currentTemplate&&((r??this.host).classList?.remove(this.currentTemplate),this.cd.markForCheck())}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Wp),e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(e.sBO))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPageTemplateStyle",""]],inputs:{setTemplate:["cxPageTemplateStyle","setTemplate"]}}),a})(),fi=(()=>{class a{constructor(r){this.pageLayoutService=r,this.section$=new F.X(void 0),this.templateName$=this.pageLayoutService.templateName$,this.layoutName$=this.section$.pipe((0,we.w)(l=>l?(0,P.of)(l):this.templateName$)),this.slots$=this.section$.pipe((0,we.w)(l=>this.pageLayoutService.getSlots(l))),this.pageFoldSlot$=this.templateName$.pipe((0,we.w)(l=>this.pageLayoutService.getPageFoldSlot(l)),(0,Ce.x)())}set section(r){this.section$.next(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Wp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-layout"]],inputs:{section:"section"},ngContentSelectors:vr,decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxPageTemplateStyle","cxOutlet","cxOutletContext"],[3,"position","isPageFold",4,"ngFor","ngForOf"],[3,"position","isPageFold"]],template:function(r,l){1&r&&(e.F$t(),e.YNc(0,Xr,1,7,null,0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.layoutName$))},dependencies:[n.sg,n.O5,ki,lg,lv,n.Ov],encapsulation:2,changeDetection:0}),a})(),hs=(()=>{class a{constructor(r,l){this.router=r,this.cmsComponentsService=l}cmsRouteExists(r){const l=r.startsWith("/");if(!l)return!1;const C=r.substr(1);return l&&!!this.router.config.find(M=>M.data&&M.data.cxCmsRouteContext&&M.path===C)}handleCmsRoutesInGuard(r,l,C,M){if(this.cmsRouteExists(M))return!0;const se=this.cmsComponentsService.getChildRoutes(l);return!se?.children?.length||!this.updateRouting(r,M,se)||(this.router.navigateByUrl(C),!1)}updateRouting(r,l,C){if(r.type===h.GV4.CONTENT_PAGE&&l.startsWith("/")&&l.length>1){const M={path:l.substr(1),component:fi,children:C.children,data:(0,h.RH2)({},C?.parent?.data??{},{cxCmsRouteContext:{type:r.type,id:l}})};return this.router.resetConfig([M,...this.router.config]),!0}return!1}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ke.F0),e.LFG(va))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_a=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(hs),l},providedIn:"root"}),a})(),dg=(()=>{class a{constructor(r,l,C){this.cmsComponentsService=r,this.translation=l,this.translationChunk=C}loadForComponents(r){const l=this.cmsComponentsService.getI18nKeys(r),C=new Set;for(const M of l)C.add(this.translationChunk.getChunkNameForKey(M));this.translation.loadChunks(Array.from(C))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(va),e.LFG(h.D7D),e.LFG(h.Wml))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Qp=(()=>{class a{constructor(r,l){this.cmsComponentsService=r,this.unifiedInjector=l}cmsPageCanActivate(r,l,C){const M=this.cmsComponentsService.getGuards(r);if(M.length){const se=M.map(rt=>{const Lt=(0,h.P51)(this.unifiedInjector.get(rt));if(function qp(a){return a&&function pv(a){return"function"==typeof a}(a.canActivate)}(Lt))return function dv(a){return(0,ne.b)(a)?a:function $a(a){return!!a&&"function"==typeof a.then}(a)?(0,ue.D)(Promise.resolve(a)):(0,P.of)(a)}(Lt.canActivate(l,C)).pipe((0,re.P)());throw new Error("Invalid CanActivate guard in cmsMapping")});return(0,q.z)(...se).pipe((0,Ne.n)(rt=>!0===rt),function an(...a){return _=>(0,q.z)(_,(0,P.of)(...a))}(!0),(0,re.P)())}return(0,P.of)(!0)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(va),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),pg=(()=>{class a{constructor(r,l,C,M,se,rt,Lt){this.semanticPathService=r,this.cmsService=l,this.cmsRoutes=C,this.cmsI18n=M,this.cmsGuards=se,this.cmsComponentsService=rt,this.routing=Lt}canActivatePage(r,l,C,M){return this.cmsService.getPageComponentTypes(r).pipe((0,Me.q)(1),(0,we.w)(se=>this.cmsComponentsService.determineMappings(se)),(0,we.w)(se=>this.cmsGuards.cmsPageCanActivate(se,C,M).pipe((0,Gt.M)((0,P.of)(se)))),(0,He.b)(([se,rt])=>{!0===se&&this.cmsI18n.loadForComponents(rt)}),(0,Te.U)(([se,rt])=>!0!==se||C?.data?.cxCmsRouteContext?se:this.cmsRoutes.handleCmsRoutesInGuard(r,rt,M.url,l.label||r.id)))}canActivateNotFoundPage(r,l,C){const M=this.semanticPathService.get("notFound");if(!M)return(0,P.of)(!1);const se={type:h.GV4.CONTENT_PAGE,id:M};return this.cmsService.getPage(se).pipe((0,we.w)(rt=>rt?this.cmsService.getPageIndex(se).pipe((0,He.b)(Lt=>{this.cmsService.setPageFailIndex(r,Lt),this.routing.changeNextPageContext(se)}),(0,we.w)(Lt=>this.cmsService.getPageIndex(r).pipe((0,it.h)(sn=>sn===Lt))),(0,we.w)(()=>this.canActivatePage(r,rt,l,C))):(0,P.of)(!1)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.hCH),e.LFG(h.ctt),e.LFG(_a),e.LFG(dg),e.LFG(Qp),e.LFG(va),e.LFG(h.Znh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),tr=(()=>{class a{constructor(r,l,C,M,se){this.routingService=r,this.cmsService=l,this.protectedRoutesGuard=C,this.service=M,this.routingConfig=se}canActivate(r,l){return this.protectedRoutesGuard.canActivate(r).pipe((0,we.w)(C=>!0===C?this.routingService.getNextPageContext().pipe((0,it.h)(h.pTN),(0,Me.q)(1),(0,we.w)(M=>this.cmsService.getPage(M,this.shouldReload()).pipe((0,re.P)(),(0,we.w)(se=>se?this.service.canActivatePage(M,se,r,l):this.service.canActivateNotFoundPage(M,r,l))))):(0,P.of)(C)))}shouldReload(){return"once"!==this.routingConfig.getLoadStrategy()}}return a.guardName="CmsPageGuard",a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.ctt),e.LFG(h.Fa4),e.LFG(pg),e.LFG(h.gGW))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_c=(()=>{class a{hasMatch(r){return"function"==typeof r.component}getPriority(){return-50}launcher(r,l,C,M){return new B.y(se=>{let rt;const Lt=C??l.injector,zn=this.getComponentFactory(Lt,r.component);return zn&&(rt=l.createComponent(zn,void 0,Lt,void 0,M),se.next({elementRef:rt.location,componentRef:rt})),()=>{rt&&rt.destroy()}})}getComponentFactory(r,l){return l?r.get(e._Vd).resolveComponentFactory(l):null}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ju=(()=>{class a{constructor(r){this.defaultHandler=r}hasMatch(r){return"function"==typeof r.component&&this.isNotClass(r.component)}isNotClass(r){const l=r.toString().substr(0,20).replace(" ","");return l.startsWith("function()")||l.startsWith("()=>")}getPriority(){return-10}launcher(r,l,C,M){return(0,ue.D)(r.component()).pipe((0,we.w)(se=>this.defaultHandler.launcher({...r,component:se},l,C,M)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(_c))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),pu=(()=>{class a{constructor(r,l,C,M,se,rt,Lt,sn,zn){this.data=r,this.vcr=l,this.cmsComponentsService=C,this.injector=M,this.dynamicAttributeService=se,this.renderer=rt,this.componentHandler=Lt,this.cmsInjector=sn,this.eventService=zn,this.innerComponents$=this.data.data$.pipe((0,Te.U)(vi=>vi?.composition?.inner??[]),(0,Ce.x)()),this.componentWrappers=[]}ngOnInit(){this.subscription=this.innerComponents$.subscribe(r=>{this.renderComponents(r)})}renderComponents(r){this.clearComponents(),r.forEach(l=>this.renderComponent(l))}renderComponent(r){const l=new Ha(this.vcr,this.cmsComponentsService,this.injector,this.dynamicAttributeService,this.renderer,this.componentHandler,this.cmsInjector,this.eventService);l.cxComponentWrapper={flexType:r,uid:""},l.ngOnInit(),this.componentWrappers.push(l)}clearComponents(){this.componentWrappers.forEach(r=>r.ngOnDestroy()),this.componentWrappers=[]}ngOnDestroy(){this.subscription?.unsubscribe(),this.clearComponents()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(e.s_b),e.Y36(va),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Va),e.Y36(gd),e.Y36(h.POd))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxInnerComponentsHost",""]]}),a})(),Dr=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:fs,useExisting:_c,multi:!0},{provide:fs,useExisting:Ju,multi:!0}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})(),ja=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ug))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ni,Dr]}),a})(),Cc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ni,ja]}),a})(),fg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();const Xp={pwa:{enabled:!1,addToHomeScreen:!1}};let md=(()=>{class a{constructor(r,l,C){this.config=r,this.globalMessageService=l,this.winRef=C,this.canPrompt=new F.X(!1),this.canPrompt$=this.canPrompt.asObservable(),this.config.pwa?.addToHomeScreen&&this.init()}init(){this.winRef.nativeWindow&&(this.winRef.nativeWindow.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredEvent=r,this.enableAddToHomeScreen()}),this.winRef.nativeWindow.addEventListener("appinstalled",()=>{this.globalMessageService.add({key:"pwa.addedToHomeScreen"},h.xUg.MSG_TYPE_CONFIRMATION),this.disableAddToHomeScreen(),this.deferredEvent=null}))}enableAddToHomeScreen(){this.canPrompt.next(!0)}disableAddToHomeScreen(){this.canPrompt.next(!1)}firePrompt(){this.deferredEvent&&this.deferredEvent.prompt()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(fg),e.LFG(h.IWp),e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ef=(()=>{class a{constructor(r){this.addToHomeScreenService=r}ngOnInit(){this.canPrompt$=this.addToHomeScreenService.canPrompt$}prompt(){this.addToHomeScreenService.firePrompt()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(md))},a.\u0275dir=e.lG2({type:a}),a})(),tf=(()=>{class a extends ef{constructor(r){super(r),this.addToHomeScreenService=r}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(md))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-add-to-home-screen-banner"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-add-to-home-screen-banner"],[1,"cx-add-to-home-screen-banner-inner"],[1,"btn","btn-primary",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,xr,16,12,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.canPrompt$))},dependencies:[n.O5,n.Ov,h.X$D],encapsulation:2}),a})();function NC(a){return{enabled:!(0,e.X6Q)()&&a.pwa?.enabled||!1}}function fu(a){return()=>a}let hg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Xp),{provide:jt.JB,useFactory:NC,deps:[h.DeH]},{provide:e.ip1,useFactory:fu,deps:[md],multi:!0}],imports:[n.ez,jt.Wr.register("ngsw-worker.js"),h.LUR]}),a})();const Ku={path:"**",canActivate:[tr],component:fi};function nf(a){return()=>{a.get(Ke.F0).config.push(Ku)}}let rf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:nf}]}),a})();const gg={routing:{routes:{home:{paths:[""]},notFound:{paths:["not-found"]},login:{paths:["login"],protected:!1,authFlow:!0},register:{paths:["login/register"],protected:!1,authFlow:!0},forgotPassword:{paths:["login/forgot-password"],protected:!1,authFlow:!0},resetPassword:{paths:["login/pw/change"],protected:!1,authFlow:!0},logout:{paths:["logout"],protected:!1,authFlow:!0},search:{paths:["search/:query"]},category:{paths:["category/:categoryCode"],paramsMapping:{categoryCode:"code"}},brand:{paths:["Brands/:brandName/c/:brandCode"]},product:{paths:["product/:productCode/:name"],paramsMapping:{productCode:"code"}},termsAndConditions:{paths:["terms-and-conditions"]},coupons:{paths:["my-account/coupons"]},couponClaim:{paths:["my-account/coupon/claim/:couponCode"],paramsMapping:{couponCode:"code"}},myInterests:{paths:["my-account/my-interests"]},notificationPreference:{paths:["my-account/notification-preference"]}}}};let gv=(()=>{class a{static forRoot(){return{ngModule:a,providers:[(0,h.i51)(gg)]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.TSP.forRoot(),rf]}),a})();function sf({marker:a,paramName:_,precedingParamName:r}){r=r||"param";const l=function(M){const se=function af(a,_){for(let r=a.length-1;r>=0;r--)if(_(a[r]))return r;return-1}(M,({path:zn})=>zn===a);if(-1===se||se===M.length-1)return null;const Lt=se+1,sn={[_]:M[Lt]};for(let zn=0;zn<se;zn++)sn[`${r}${zn}`]=M[zn];return{consumed:M.slice(0,Lt+1),posParams:sn}};return(0,e.X6Q)()&&(l._suffixRouteConfig={marker:a,paramName:_,precedingParamName:r}),l}let cf=(()=>{class a{constructor(r,l){this.winRef=r,this.rendererFactory=l}setCanonicalLink(r){let l=this.winRef.document.querySelector('link[rel="canonical"]');r?l?l?.setAttribute("href",r):(l=this.renderer.createElement("link"),l.rel="canonical",l.href=r,this.renderer.appendChild(this.winRef.document.head,l)):l?.remove()}get renderer(){return this.rendererFactory.createRenderer(null,null)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(e.FYo))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),mg=(()=>{class a{constructor(r,l,C,M){this.ngTitle=r,this.ngMeta=l,this.pageMetaService=C,this.pageMetaLinkService=M}init(){this.subscription=this.pageMetaService.getMeta().pipe((0,it.h)(h.jWE)).subscribe(r=>this.meta=r)}set meta(r){this.title=r.title,this.description=r.description,this.image=r.image,this.robots=r.robots,this.canonicalUrl=r.canonicalUrl}set title(r){this.ngTitle.setTitle(r||"")}set description(r){r?this.addTag({name:"description",content:r||""}):this.ngMeta.removeTag('name="description"')}set image(r){r?this.addTag({name:"og:image",content:r}):this.ngMeta.removeTag('name="og:image"')}set robots(r){r&&r.length>0&&this.addTag({name:"robots",content:r.join(", ")})}set canonicalUrl(r){this.pageMetaLinkService?.setCanonicalLink(r)}addTag(r){r.content&&this.ngMeta.updateTag(r)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Et.Dx),e.LFG(Et.h_),e.LFG(h.deh),e.LFG(cf))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const mv={seo:{structuredData:{disableInDevMode:!0}}};let uf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();const vd={provide:e.ip1,multi:!0,useFactory:function lf(a,_){return()=>{_.getActive().subscribe(l=>{a.document.documentElement.lang=l.replace(/_/g,"-")})}},deps:[h.X9E,h.TSl]};let Ca=(()=>{class a{constructor(r,l,C,M){this.platformId=r,this.winRef=l,this.rendererFactory=C,this.config=M,this.renderer=this.rendererFactory.createRenderer(null,null)}build(r){r&&this.isJsonLdRequired()&&(this.getJsonLdScriptElement().textContent=this.escapeHtml(r))}isJsonLdRequired(){return!(0,n.NF)(this.platformId)||(0,e.X6Q)()&&!this.config.seo?.structuredData?.disableInDevMode}getJsonLdScriptElement(){const r="json-ld";let l=this.winRef.document.getElementById(r);if(!l){const C=this.renderer.createElement("script");C.id=r,C.type="application/ld+json",this.renderer.appendChild(this.winRef.document.body,C),l=C}return l}escapeHtml(r){const l=this.renderer.createElement("div");return l.textContent=JSON.stringify(r),l.innerHTML}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(e.Lbi),e.LFG(h.X9E),e.LFG(e.FYo),e.LFG(uf))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const _d=new e.OlP("SchemaBuilderToken");new e.OlP("JsonLdProductBuilderToken");let ar=(()=>{class a{constructor(r,l){this.scriptBuilder=r,this.builders=l,this.subscription=new w.w}build(){this.scriptBuilder.isJsonLdRequired()&&this.builders&&this.subscription.add(this.collectSchemas().subscribe(r=>{this.scriptBuilder.build(r)}))}collectSchemas(){return(0,S.aj)(this.builders.map(r=>r.build()))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(_d,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function df(a){return()=>{a.get(ar).build()}}let yc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,useFactory:df,deps:[e.zs3],multi:!0}],imports:[n.ez]}),a})();function Di(a){return()=>{a.get(mg).init()}}let ya=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(mv),{provide:e.ip1,useFactory:Di,deps:[e.zs3],multi:!0},vd],imports:[yc]}),a})(),So=(()=>{class a{constructor(r,l){this.routingService=r,this.productService=l,this.DEFAULT_PRODUCT_SCOPE="details"}getProduct(r){return this.getCode().pipe((0,Ce.x)(),(0,we.w)(l=>l?this.productService.get(l,r||this.DEFAULT_PRODUCT_SCOPE):(0,P.of)(null)),(0,it.h)(h.pTN))}getCode(){return this.routingService.getRouterState().pipe((0,Te.U)(r=>r.state.params.productCode))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.M52))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ec(a){return(0,h.A2H)({...Ac(a),...Hs(a)})}function Ac({componentId:a,pageSlotPosition:_}={}){const r={cmsStructure:{}};return a&&(r.cmsStructure={components:{[a]:{typeCode:a,flexType:a}}}),a&&_&&r.cmsStructure&&(r.cmsStructure.slots={[_]:{componentIds:[a]}}),r}function Hs({pageTemplate:a,pageSlotPosition:_,breakpoint:r,section:l}={}){const C={};if(a&&_){const M={};r?M[r]={slots:[_]}:M.slots=[_],C.layoutSlots={[a]:M}}if(l&&_){const M={};r?M[r]={slots:[_]}:M.slots=[_],C.layoutSlots?C.layoutSlots[l]=M:C.layoutSlots={[l]:M}}return C}let hi=(()=>{class a{constructor(r){this.winRef=r}getItemsPerSlide(r,l){return this.winRef.resize$.pipe((0,Te.U)(()=>r.clientWidth),(0,Te.U)(C=>this.calculateItems(C,l)))}calculateItems(r,l){let C=0;return l.endsWith("px")&&(C=r/l.substring(0,l.length-2)),l.endsWith("%")&&(C=r/(r*(l.substring(0,l.length-1)/100))),Math.floor(C)||1}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Za=(()=>{class a{constructor(r,l){this.el=r,this.service=l,this.itemWidth="300px",this.hideIndicators=!1,this.indicatorIcon=Kn.CIRCLE,this.previousIcon=Kn.CARET_LEFT,this.nextIcon=Kn.CARET_RIGHT}set setItems(r){this.items=r,this.activeSlide=0}ngOnInit(){this.template||!(0,e.X6Q)()?this.size$=this.service.getItemsPerSlide(this.el.nativeElement,this.itemWidth).pipe((0,He.b)(()=>this.activeSlide=0)):console.error("No template reference provided to render the carousel items for the `cx-carousel`")}getSlideNumber(r,l){return Math.ceil((l+1)/r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(hi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-carousel"]],inputs:{title:"title",setItems:["items","setItems"],template:"template",itemWidth:"itemWidth",hideIndicators:"hideIndicators",indicatorIcon:"indicatorIcon",previousIcon:"previousIcon",nextIcon:"nextIcon"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"carousel-panel",3,"ngClass"],["class","previous",3,"disabled","click",4,"ngIf"],[1,"slides"],[4,"ngFor","ngForOf"],["class","next","tabindex","-1",3,"disabled","click",4,"ngIf"],["class","indicators",4,"ngIf"],[1,"previous",3,"disabled","click"],[3,"type"],["class","slide",3,"active",4,"ngIf"],[1,"slide"],["class","item",3,"active",4,"ngIf"],[1,"item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1",1,"next",3,"disabled","click"],[1,"indicators"],["tabindex","-1",3,"disabled","focus",4,"ngIf"],["tabindex","-1",3,"disabled","focus"],["aria-hidden","true",3,"type"]],template:function(r,l){1&r&&(e.YNc(0,eo,8,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",l.items&&l.items.length>0&&e.lcZ(1,1,l.size$))},dependencies:[n.mk,n.sg,n.O5,n.tP,yo,n.Ov,n.OU,h.X$D],encapsulation:2,changeDetection:0}),a})(),gu=(()=>{class a{constructor(r,l){this.componentData=r,this.cmsService=l,this.componentData$=this.componentData.data$.pipe((0,it.h)(C=>Boolean(C)),(0,He.b)(C=>this.theme=`${C.effect}-theme`)),this.items$=this.componentData$.pipe((0,Te.U)(C=>C.banners?.trim().split(" ")??[]),(0,Te.U)(C=>C.map(M=>this.cmsService.getComponentData(M)))),this.theme=""}getItems(){return this.items$}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-banner-carousel"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.theme)},decls:4,vars:3,consts:[["itemWidth","100%","class","inline-navigation",3,"items","template",4,"ngIf"],["template",""],["itemWidth","100%",1,"inline-navigation",3,"items","template"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&(e.YNc(0,Oo,1,2,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Or,1,5,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.getItems()))},dependencies:[n.O5,Ha,Za,n.Ov],encapsulation:2,changeDetection:0}),a})(),Bi=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),a})(),Dc=(()=>{class a{constructor(r,l,C,M,se){this.userConsentService=r,this.globalMessageService=l,this.anonymousConsentsConfig=C,this.anonymousConsentsService=M,this.authService=se,this.subscriptions=new w.w,this.allConsentsLoading=new F.X(!1),this.requiredConsents=[]}ngOnInit(){this.loading$=(0,S.aj)([this.userConsentService.getConsentsResultLoading(),this.userConsentService.getGiveConsentResultLoading(),this.userConsentService.getWithdrawConsentResultLoading(),this.authService.isUserLoggedIn(),this.allConsentsLoading]).pipe((0,Te.U)(([r,l,C,M,se])=>r||l||C||!M||se)),this.consentListInit(),this.giveConsentInit(),this.withdrawConsentInit()}consentListInit(){this.templateList$=this.userConsentService.getConsents().pipe((0,Gt.M)(this.anonymousConsentsService.getTemplates(),this.authService.isUserLoggedIn()),(0,it.h)(([r,l,C])=>C),(0,He.b)(([r,l])=>{this.consentsExists(r)||this.userConsentService.loadConsents()}),(0,Te.U)(([r,l])=>this.anonymousConsentsConfig.anonymousConsents&&(this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&(this.requiredConsents=this.anonymousConsentsConfig.anonymousConsents.requiredConsents),this.anonymousConsentsConfig.anonymousConsents.consentManagementPage)?this.hideAnonymousConsents(r,l):r))}hideAnonymousConsents(r,l=[]){let C=[];return this.anonymousConsentsConfig.anonymousConsents?.consentManagementPage?.showAnonymousConsents?(this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents&&this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents.length>0&&(C=this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents),this.userConsentService.filterConsentTemplates(r,C)):(C=l.map(M=>M.id??""),this.userConsentService.filterConsentTemplates(r,C))}giveConsentInit(){this.userConsentService.resetGiveConsentProcessState(),this.subscriptions.add(this.userConsentService.getGiveConsentResultSuccess().subscribe(r=>this.onConsentGivenSuccess(r)))}withdrawConsentInit(){this.userConsentService.resetWithdrawConsentProcessState(),this.subscriptions.add(this.userConsentService.getWithdrawConsentResultLoading().pipe((0,Ne.n)(Boolean),(0,Gt.M)(this.userConsentService.getWithdrawConsentResultSuccess()),(0,Te.U)(([,r])=>r),(0,He.b)(r=>{r&&this.userConsentService.loadConsents()})).subscribe(r=>this.onConsentWithdrawnSuccess(r)))}consentsExists(r){return Boolean(r)&&r.length>0}onConsentChange({given:r,template:l}){r&&l.id&&void 0!==l.version?this.userConsentService.giveConsent(l.id,l.version):l.currentConsent?.code&&this.userConsentService.withdrawConsent(l.currentConsent.code)}onConsentGivenSuccess(r){r&&(this.userConsentService.resetGiveConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.given"},h.xUg.MSG_TYPE_CONFIRMATION))}onConsentWithdrawnSuccess(r){r&&(this.userConsentService.resetWithdrawConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.withdrawn"},h.xUg.MSG_TYPE_CONFIRMATION))}rejectAll(r=[]){const l=[];r.forEach(C=>{if(C.currentConsent&&this.userConsentService.isConsentGiven(C.currentConsent)){if(this.isRequiredConsent(C))return;l.push(C)}}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupWithdrawalStream(l).pipe((0,He.b)(C=>this.allConsentsLoading.next(!1))).subscribe())}setupWithdrawalStream(r=[]){return(0,q.z)(this.userConsentService.getWithdrawConsentResultLoading()).pipe((0,Ce.x)(),(0,it.h)(rt=>!rt)).pipe((0,Jt.R)((rt,Lt)=>rt+1,-1)).pipe((0,He.b)(rt=>{if(rt<r.length){const Lt=r[rt].currentConsent?.code;Lt&&this.userConsentService.withdrawConsent(Lt)}})).pipe((0,it.h)(rt=>rt===r.length))}allowAll(r=[]){const l=[];r.forEach(C=>{C.currentConsent&&this.userConsentService.isConsentWithdrawn(C.currentConsent)&&this.isRequiredConsent(C)||l.push(C)}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupGiveStream(l).pipe((0,He.b)(C=>this.allConsentsLoading.next(!1))).subscribe())}setupGiveStream(r=[]){return(0,q.z)(this.userConsentService.getGiveConsentResultLoading()).pipe((0,Ce.x)(),(0,it.h)(rt=>!rt)).pipe((0,Jt.R)((rt,Lt)=>rt+1,-1)).pipe((0,He.b)(rt=>{if(rt<r.length){const Lt=r[rt];Lt.id&&void 0!==Lt.version&&this.userConsentService.giveConsent(Lt.id,Lt.version)}})).pipe((0,it.h)(rt=>rt===r.length))}isRequiredConsent(r){return Boolean(r.id&&this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents.includes(r.id))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.allConsentsLoading.unsubscribe(),this.userConsentService.resetGiveConsentProcessState(),this.userConsentService.resetWithdrawConsentProcessState()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.ZZY),e.Y36(h.IWp),e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(h.e80))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-consent-management"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["consentManagementForm",""],[1,"cx-spinner"],["role","status"],[4,"ngIf"],[1,"cx-consent-action-links"],[1,"col-sm-12","col-md-8","col-lg-6"],["tabindex","0",1,"btn","btn-link","cx-action-link",3,"click"],[1,"cx-consent-toggles"],[3,"consentTemplate","requiredConsents","consentChanged",4,"ngFor","ngForOf"],[3,"consentTemplate","requiredConsents","consentChanged"]],template:function(r,l){if(1&r&&(e.YNc(0,Yo,3,0,"div",0),e.ALo(1,"async"),e.YNc(2,Lo,4,6,"ng-template",null,1,e.W1O)),2&r){const C=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,l.loading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,Ui,Gs,n.Ov,h.X$D],encapsulation:2}),a})(),ts=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ConsentManagementComponent:{component:Dc,guards:[h.a1M]}}})],imports:[n.ez,wt.u5,wt.UX,Bi,h.LUR,wr]}),a})(),qu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR,wr,Bi,ts,Qo]}),a})(),Gi=(()=>{class a{constructor(r,l,C){this.elementRef=r,this.templateRef=l,this.globalMessageService=C}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}handleClick(r){if(r?.preventDefault(),r?.target===this.host&&this.cxAtMessage){const l=Array.isArray(this.cxAtMessage)?this.cxAtMessage.join("\n"):this.cxAtMessage;this.globalMessageService.get().pipe((0,Me.q)(1)).subscribe(C=>{C[h.xUg.MSG_TYPE_ASSISTIVE]&&this.globalMessageService.remove(h.xUg.MSG_TYPE_ASSISTIVE),this.globalMessageService.add(l,h.xUg.MSG_TYPE_ASSISTIVE)})}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(h.IWp))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxAtMessage",""]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)})},inputs:{cxAtMessage:"cxAtMessage"}}),a})();var mr=(()=>{return(a=mr||(mr={})).INSIDE_CLICK="insideClick",a.OUTSIDE_CLICK="outsideClick",a.ESCAPE_KEYDOWN="escapeKeydown",a.CLOSE_BUTTON_CLICK="closeButtonClick",a.CLOSE_BUTTON_KEYDOWN="closeButtonKeydown",a.ROUTE_CHANGE="routeChange",a.OPEN="open",a.OPEN_BY_KEYBOARD="openByKeyboard",mr;var a})();let pf=(()=>{class a{constructor(r){this.winRef=r}get allowedPlacements(){return["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"]}get placementSeparator(){return/\s+/}get window(){return this.winRef.nativeWindow}get document(){return this.winRef.document}getAllStyles(r){return this.window?.getComputedStyle(r)}getPositionStyleProperty(r){const l=this.getAllStyles(r);if(l)return l.position||void 0}isStaticPositioned(r){return"static"===(this.getPositionStyleProperty(r)||"static")}offsetParent(r){let l=r.offsetParent||this.document.documentElement;for(;l&&l!==this.document.documentElement&&this.isStaticPositioned(l);)l=l.offsetParent;return l||this.document.documentElement}position(r,l=!0){let C,M={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getPositionStyleProperty(r))C=r.getBoundingClientRect(),C={top:C.top,bottom:C.bottom,left:C.left,right:C.right,height:C.height,width:C.width};else{const se=this.offsetParent(r);C=this.offset(r,!1),se!==this.document.documentElement&&(M=this.offset(se,!1)),M.top+=se.clientTop,M.left+=se.clientLeft}return C.top-=M.top,C.bottom-=M.top,C.left-=M.left,C.right-=M.left,l&&(C.top=Math.round(C.top),C.bottom=Math.round(C.bottom),C.left=Math.round(C.left),C.right=Math.round(C.right)),C}offset(r,l=!0){const C=r.getBoundingClientRect(),M_top=this.window&&this.window.pageYOffset-this.document.documentElement.clientTop||0,M_left=this.window&&this.window.pageXOffset-this.document.documentElement.clientLeft||0,se={height:C.height||r.offsetHeight,width:C.width||r.offsetWidth,top:C.top+M_top,bottom:C.bottom+M_top,left:C.left+M_left,right:C.right+M_left};return l&&(se.height=Math.round(se.height),se.width=Math.round(se.width),se.top=Math.round(se.top),se.bottom=Math.round(se.bottom),se.left=Math.round(se.left),se.right=Math.round(se.right)),se}_positionElements(r,l,C,M){const[se="top",rt="center"]=C.split("-"),Lt=M?this.offset(r,!1):this.position(r,!1),sn=this.getAllStyles(l);if(sn){const zn=parseFloat(sn.marginTop),vi=parseFloat(sn.marginBottom),bu=parseFloat(sn.marginLeft),Tu=parseFloat(sn.marginRight);let Xa=0,kc=0;switch(se){case"top":Xa=Lt.top-(l.offsetHeight+zn+vi);break;case"bottom":Xa=Lt.top+Lt.height;break;case"left":kc=Lt.left-(l.offsetWidth+bu+Tu);break;case"right":kc=Lt.left+Lt.width}switch(rt){case"top":Xa=Lt.top;break;case"bottom":Xa=Lt.top+Lt.height-l.offsetHeight;break;case"left":kc=Lt.left;break;case"right":kc=Lt.left+Lt.width-l.offsetWidth;break;case"center":"top"===se||"bottom"===se?kc=Lt.left+Lt.width/2-l.offsetWidth/2:Xa=Lt.top+Lt.height/2-l.offsetHeight/2}l.style.transform=`translate(${Math.round(kc)}px, ${Math.round(Xa)}px)`;const Il=l.getBoundingClientRect(),ah=this.document.documentElement,Jv=this.window?.innerHeight||ah.clientHeight,Kv=this.window?.innerWidth||ah.clientWidth;return Il.left>=0&&Il.top>=0&&Il.right<=Kv&&Il.bottom<=Jv}return!1}positionElements(r,l,C,M){const se=Array.isArray(C)?C:C.split(this.placementSeparator);let rt=se.findIndex(vi=>"auto"===vi);rt>=0&&this.allowedPlacements.forEach(vi=>{null==se.find(bu=>-1!==bu.search("^"+vi))&&se.splice(rt++,1,vi)});const Lt=l.style;Lt.position="absolute",Lt.top="0",Lt.left="0";let sn="auto",zn=!1;for(sn of se)if(this._positionElements(r,l,sn,M)){zn=!0;break}return zn||this._positionElements(r,l,sn,M),sn}getPositioningClass(r,l){let C=`${r||"top"}`;return l&&"auto"!==C&&(C=`${C} auto`),C}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),yv=(()=>{class a{constructor(r,l,C,M,se){this.positioningService=r,this.winRef=l,this.changeDetectionRef=C,this.renderer=M,this.router=se,this.iconTypes=Kn}insideClick(){this.eventSubject.next(mr.INSIDE_CLICK)}outsideClick(r){!this.isClickedOnPopover(r)&&!this.isClickedOnDirective(r)&&this.eventSubject.next(mr.OUTSIDE_CLICK)}escapeKeydown(){this.eventSubject.next(mr.ESCAPE_KEYDOWN)}isClickedOnPopover(r){return this.popoverInstance.location.nativeElement.contains(r.target)}isClickedOnDirective(r){return this.triggerElement.nativeElement.contains(r.target)}close(r){r.preventDefault(),r instanceof MouseEvent?this.eventSubject.next(mr.CLOSE_BUTTON_CLICK):this.eventSubject.next(mr.CLOSE_BUTTON_KEYDOWN)}triggerScrollEvent(){this.scrollEventUnlistener=this.renderer.listen(this.winRef.nativeWindow,"scroll",()=>this.positionPopover())}positionPopover(){this.popoverClass=this.positioningService.positionElements(this.triggerElement.nativeElement,this.popoverInstance.location.nativeElement,this.positioningService.getPositioningClass(this.position,this.autoPositioning),this.appendToBody),this.changeDetectionRef.markForCheck(),this.baseClass=`${this.customClass} ${this.popoverClass} opened`}ngOnInit(){this.customClass||(this.customClass="cx-popover"),this.position||(this.position="top"),void 0===this.autoPositioning&&(this.autoPositioning=!0),this.baseClass=`${this.customClass}`,this.resizeSub=this.winRef.resize$.subscribe(()=>{this.positionPopover()}),this.routeChangeSub=this.router.events.pipe((0,it.h)(r=>r instanceof Ke.OD)).subscribe(()=>{this.eventSubject.next(mr.ROUTE_CHANGE)}),this.positionOnScroll&&this.triggerScrollEvent()}isTemplate(r){return r instanceof e.Rgc}isString(r){return!(r instanceof e.Rgc)}ngAfterViewChecked(){this.positionPopover()}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.routeChangeSub&&this.routeChangeSub.unsubscribe(),this.scrollEventUnlistener&&this.scrollEventUnlistener()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(pf),e.Y36(h.X9E),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(Ke.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-popover"]],hostVars:1,hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.insideClick()})("click",function(M){return l.outsideClick(M)},!1,e.evT)("keydown.escape",function(){return l.escapeKeydown()}),2&r&&e.Ikx("className",l.baseClass)},decls:6,vars:4,consts:[[1,"arrow"],[1,"popover-body",3,"cxFocus"],[1,"cx-close-row"],["type","button","class","close",3,"keydown.enter","keydown.space","click",4,"ngIf"],[4,"ngIf"],["type","button",1,"close",3,"keydown.enter","keydown.space","click"],[3,"type"],[4,"ngTemplateOutlet"]],template:function(r,l){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,Xo,2,1,"button",3),e.qZA(),e.YNc(4,Fo,2,1,"ng-container",4),e.YNc(5,Wo,2,1,"span",4),e.qZA()),2&r&&(e.xp6(1),e.Q6J("cxFocus",l.focusConfig),e.xp6(2),e.Q6J("ngIf",l.displayCloseButton),e.xp6(1),e.Q6J("ngIf",l.isTemplate(l.content)),e.xp6(1),e.Q6J("ngIf",l.isString(l.content)))},dependencies:[n.O5,n.tP,oi,yo],encapsulation:2,changeDetection:0}),a})(),Sd=(()=>{class a{getFocusConfig(r,l){let C={};return r===mr.OPEN_BY_KEYBOARD&&l&&(C={trap:!0,block:!0,focusOnEscape:!1,autofocus:!0}),C}setFocusOnElement(r,l,C){l&&C&&r.nativeElement.focus()}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ff=(()=>{class a{constructor(r,l,C,M,se,rt,Lt){this.element=r,this.viewContainer=l,this.componentFactoryResolver=C,this.renderer=M,this.changeDetectorRef=se,this.popoverService=rt,this.winRef=Lt,this.openPopover=new e.vpe,this.closePopover=new e.vpe,this.eventSubject=new ae.xQ,this.openTriggerEvents=[mr.OPEN,mr.OPEN_BY_KEYBOARD],this.focusPopoverTriggerEvents=[mr.OPEN_BY_KEYBOARD],this.closeTriggerEvents=[mr.ROUTE_CHANGE,mr.ESCAPE_KEYDOWN,mr.OUTSIDE_CLICK,mr.CLOSE_BUTTON_KEYDOWN,mr.CLOSE_BUTTON_CLICK],this.focusDirectiveTriggerEvents=[mr.ESCAPE_KEYDOWN,mr.CLOSE_BUTTON_KEYDOWN]}handlePress(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(mr.CLOSE_BUTTON_KEYDOWN):this.eventSubject.next(mr.OPEN_BY_KEYBOARD)}handleTab(){!this.focusConfig?.trap&&this.isOpen&&this.eventSubject.next(mr.CLOSE_BUTTON_KEYDOWN)}handleEscape(){this.eventSubject.next(mr.ESCAPE_KEYDOWN)}handleClick(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(mr.CLOSE_BUTTON_CLICK):this.eventSubject.next(mr.OPEN)}open(r){this.cxPopoverOptions?.disable||(this.isOpen=!0,this.focusConfig=this.popoverService.getFocusConfig(r,this.cxPopoverOptions?.appendToBody||!1),this.renderPopover(),this.openPopover.emit())}close(){this.isOpen=!1,this.viewContainer.clear(),this.closePopover.emit()}handlePopoverEvents(){this.eventSubject.subscribe(r=>{this.openTriggerEvents.includes(r)&&this.open(r),this.focusPopoverTriggerEvents.includes(r)&&this.popoverContainer.location.nativeElement.focus(),this.closeTriggerEvents.includes(r)&&this.close(),this.focusDirectiveTriggerEvents.includes(r)&&this.popoverService.setFocusOnElement(this.element,this.focusConfig,this.cxPopoverOptions?.appendToBody)})}renderPopover(){const r=this.componentFactoryResolver.resolveComponentFactory(yv);this.popoverContainer=this.viewContainer.createComponent(r);const l=this.popoverContainer.instance;l&&(l.content=this.cxPopover,l.triggerElement=this.element,l.popoverInstance=this.popoverContainer,l.focusConfig=this.focusConfig,l.eventSubject=this.eventSubject,l.position=this.cxPopoverOptions?.placement,l.customClass=this.cxPopoverOptions?.class,l.appendToBody=this.cxPopoverOptions?.appendToBody,l.positionOnScroll=this.cxPopoverOptions?.positionOnScroll,l.displayCloseButton=this.cxPopoverOptions?.displayCloseButton,l.autoPositioning=this.cxPopoverOptions?.autoPositioning,this.cxPopoverOptions?.appendToBody&&this.renderer.appendChild(this.winRef.document.body,this.popoverContainer.location.nativeElement),this.popoverContainer.changeDetectorRef.detectChanges())}ngOnInit(){this.handlePopoverEvents()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e._Vd),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Sd),e.Y36(h.X9E))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPopover",""]],hostBindings:function(r,l){1&r&&e.NdJ("keydown.enter",function(M){return l.handlePress(M)})("keydown.space",function(M){return l.handlePress(M)})("keydown.tab",function(){return l.handleTab()})("keydown.shift.tab",function(){return l.handleTab()})("keydown.escape",function(){return l.handleEscape()})("click",function(M){return l.handleClick(M)})},inputs:{cxPopover:"cxPopover",cxPopoverOptions:"cxPopoverOptions"},outputs:{openPopover:"openPopover",closePopover:"closePopover"}}),a})(),vg=(()=>{class a{transform(r,l){if(!l)return r;let C="...";const M=l.length>0&&l[0]&&Number.isInteger(+l[0])?l[0]:20;return l.length>1&&void 0!==l[1]&&(C=l[1]),r.length>M?r.substring(0,M)+C:r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=e.Yjl({name:"cxTruncate",type:a,pure:!0}),a})(),Ed=(()=>{class a{constructor(){this.charactersLimit=100}get isTruncated(){return this.content.length>+this.charactersLimit}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-truncate-text-popover"]],inputs:{content:"content",charactersLimit:"charactersLimit"},decls:8,vars:7,consts:[[1,"truncated-text"],["fullText",""],["class","ml-1 link cx-action-link",3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"ml-1","link","cx-action-link",3,"cxPopover","cxPopoverOptions"]],template:function(r,l){1&r&&(e.ynx(0)(1),e.TgZ(2,"span",0),e._uU(3),e.ALo(4,"cxTruncate"),e.qZA(),e.BQk(),e.YNc(5,br,1,1,"ng-template",null,1,e.W1O),e.YNc(7,ko,3,6,"button",2),e.BQk()),2&r&&(e.xp6(3),e.hij(" ",e.xi3(4,2,l.content,e.VKq(5,No,l.charactersLimit))," "),e.xp6(4),e.Q6J("ngIf",l.isTruncated))},dependencies:[n.O5,ff,h.X$D,vg],encapsulation:2,changeDetection:0}),a})(),Ad=(()=>{class a{constructor(){this.iconTypes=Kn,this.deleteCard=new e.vpe,this.setDefaultCard=new e.vpe,this.sendCard=new e.vpe,this.editCard=new e.vpe,this.cancelCard=new e.vpe,this.border=!1,this.editMode=!1,this.isDefault=!1,this.fitToContainer=!1,this.truncateText=!1,this.charactersLimit=100}setEditMode(){this.editMode=!0}cancelEdit(){this.editMode=!1,this.cancelCard.emit(5)}delete(){this.deleteCard.emit(1)}setDefault(){this.isDefault=!0,this.setDefaultCard.emit(2)}send(){this.sendCard.emit(3)}edit(){this.editCard.emit(4)}isCardAction(r){return void 0!==r.event}isCardLinkAction(r){return void 0!==r.link}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-card"]],inputs:{border:"border",editMode:"editMode",isDefault:"isDefault",content:"content",fitToContainer:"fitToContainer",truncateText:"truncateText",charactersLimit:"charactersLimit",index:"index"},outputs:{deleteCard:"deleteCard",setDefaultCard:"setDefaultCard",sendCard:"sendCard",editCard:"editCard",cancelCard:"cancelCard"},decls:1,vars:1,consts:[["class","cx-card",3,"tabindex","cx-card-border","cx-card-fit-to-container",4,"ngIf"],[1,"cx-card",3,"tabindex"],["class","card-header",3,"id",4,"ngIf"],[1,"card-body","cx-card-body"],["role","alert","class","cx-card-delete-msg",4,"ngIf"],["class","cx-card-title",4,"ngIf"],[1,"cx-card-container"],[1,"cx-card-label-container"],["class","cx-card-label-bold",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-card-paragraph",4,"ngFor","ngForOf"],["class","cx-card-img-container",4,"ngIf"],["class","row cx-card-body-delete",4,"ngIf"],["class","cx-card-actions",4,"ngIf"],[1,"card-header",3,"id"],["role","alert",1,"cx-card-delete-msg"],[1,"cx-card-title"],[1,"cx-card-label-bold"],["class","cx-card-label",4,"ngIf","ngIfElse"],["truncate",""],[1,"cx-card-label"],[3,"charactersLimit","content"],[1,"cx-card-paragraph"],[1,"cx-card-paragraph-title"],[1,"cx-card-paragraph-text"],[1,"cx-card-img-container"],[3,"type"],[1,"row","cx-card-body-delete"],[1,"col-md-6"],[1,"btn","btn-block","btn-secondary",3,"cxAtMessage","click"],[1,"col-md-6",3,"cxFocus"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"cx-card-actions"],[3,"ngSwitch",4,"ngIf"],["class","link cx-action-link",3,"href",4,"ngIf"],[3,"ngSwitch"],["type","button","class","link cx-action-link",3,"click",4,"ngSwitchCase"],["type","button",1,"link","cx-action-link",3,"click"],[1,"link","cx-action-link",3,"href"]],template:function(r,l){1&r&&e.YNc(0,on,14,23,"div",0),2&r&&e.Q6J("ngIf",l.content)},dependencies:[n.sg,n.O5,n.RF,n.n9,Gi,yo,Ed,oi,h.X$D],encapsulation:2}),a})(),mu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz,Qo,wr]}),a})(),Dd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR,mu]}),a})(),bc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Tc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,bc,h.LUR,wr,Dd,Qo]}),a})();var ns=(()=>{return(a=ns||(ns={})).EAGER="eager",a.LAZY="lazy",ns;var a})();let _g=(()=>{class a{constructor(r){this.config=r}getMedia(r,l,C,M){if(!r)return;const se=r.url?r:this.resolveMedia(r,l);return{src:this.resolveAbsoluteUrl(se?.url??""),alt:C??se?.altText,role:M??se?.role,srcset:this.resolveSrcSet(r,l)}}get loadingStrategy(){return this.config?.imageLoadingStrategy??ns.EAGER}get sortedFormats(){const r=this.config?.mediaFormats;return!this._sortedFormats&&r&&(this._sortedFormats=Object.keys(r).map(l=>({code:l,size:r[l]})).sort((l,C)=>l.size.width&&C.size.width&&l.size.width>C.size.width?1:-1)),this._sortedFormats??[]}get reversedFormats(){return this._reversedFormats||(this._reversedFormats=this.sortedFormats.slice().reverse()),this._reversedFormats}resolveMedia(r,l){return r[this.resolveFormat(r,l)]}resolveFormat(r,l){return l&&r[l]?l:this.resolveBestFormat(r)||Object.keys(r)[0]}resolveBestFormat(r){return this.reversedFormats.find(l=>r.hasOwnProperty(l.code))?.code}resolveSrcSet(r,l){if(!r)return;let C=this.sortedFormats;const M=C.findIndex(rt=>rt.code===l);M>-1&&(C=C.slice(0,M+1));const se=C.reduce((rt,Lt)=>{const sn=r[Lt.code];return sn&&(rt&&(rt+=", "),rt+=`${this.resolveAbsoluteUrl(sn.url??"")} ${Lt.size.width}w`),rt},"");return""===se?void 0:se}resolveAbsoluteUrl(r){return!r||r.startsWith("http")||r.startsWith("//")?r:this.getBaseUrl()+r}getBaseUrl(){return this.config.backend?.media?.baseUrl??this.config.backend?.occ?.baseUrl??""}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.DeH))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),$s=(()=>{class a{constructor(r){this.mediaService=r,this.loading=this.loadingStrategy,this.loaded=new e.vpe,this.isInitialized=!1,this.isLoading=!0,this.isMissing=!1}ngOnChanges(){this.create()}create(){this.media=this.mediaService.getMedia(this.container instanceof Array?this.container[0]:this.container,this.format,this.alt,this.role),this.media?.src||this.handleMissing()}loadHandler(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!1,this.loaded.emit(!0)}get loadingStrategy(){return this.mediaService.loadingStrategy===ns.LAZY?ns.LAZY:null}errorHandler(){this.handleMissing()}handleMissing(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!0,this.loaded.emit(!1)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(_g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-media"]],hostVars:6,hostBindings:function(r,l){2&r&&e.ekj("is-initialized",l.isInitialized)("is-loading",l.isLoading)("is-missing",l.isMissing)},inputs:{container:"container",format:"format",alt:"alt",role:"role",loading:"loading"},outputs:{loaded:"loaded"},features:[e.TTD],decls:1,vars:1,consts:[[3,"load","error",4,"ngIf"],[3,"load","error"]],template:function(r,l){1&r&&e.YNc(0,An,1,5,"img",0),2&r&&e.Q6J("ngIf",l.media&&l.media.src)},dependencies:[n.O5],encapsulation:2,changeDetection:0}),a})(),rs=(()=>{class a{static forRoot(){return{ngModule:a}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})(),vu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz,wr,rs,h.bhT,h.LUR]}),a})(),bd=(()=>{class a{get placeholder(){return"yyyy-mm-dd"}get pattern(){return this.placeholder.replace("yyyy","\\d{4}").replace("mm","\\d{1,2}").replace("dd","\\d{1,2}")}isValidFormat(r,l){return new RegExp(`^${l??this.pattern}$`).test(r)}getDate(r){if(!r)return;const l=this.placeholder.replace("yyyy","").replace("mm","").replace("dd","").substr(0,1),C=r.split(l),M=this.placeholder.split(l),se=M.indexOf("yyyy"),rt=M.indexOf("mm"),Lt=M.indexOf("dd");return new Date(Number(C[se]),Number(C[rt])-1,Number(C[Lt]))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Xu=(()=>{class a{constructor(r,l){this.ChangeDetectionRef=r,this.keyValueDiffers=l,this.prefix="formErrors",this.role="alert"}set control(r){!r||(this._control=r,this.differ=this.keyValueDiffers.find(this.control).create(),this.errorsDetails$=r?.statusChanges.pipe((0,Je.O)({}),(0,Te.U)(()=>r.errors||{}),(0,Te.U)(l=>Object.entries(l).filter(([C,M])=>M))))}get control(){return this._control}ngDoCheck(){const r=this.differ?.diff(this.control);r&&r.forEachChangedItem(l=>{"touched"===l?.key&&this.ChangeDetectionRef.markForCheck()})}getTranslationParams(r){return r=(0,h.Kn2)(r)?r:{},{...r,...this.translationParams}}get invalid(){return this.control?.invalid}get dirty(){return this.control?.dirty}get touched(){return this.control?.touched}get hidden(){return!(this.invalid&&(this.touched||this.dirty))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.sBO),e.Y36(e.aQg))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-form-errors"]],hostVars:9,hostBindings:function(r,l){2&r&&(e.uIk("role",l.role),e.ekj("control-invalid",l.invalid)("control-dirty",l.dirty)("control-touched",l.touched)("cx-visually-hidden",l.hidden))},inputs:{prefix:"prefix",translationParams:"translationParams",control:"control"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&(e.YNc(0,Sn,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.errorsDetails$))},dependencies:[n.sg,n.O5,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Cg=(()=>{class a{constructor(r){this.service=r,this.update=new e.vpe}change(){this.update.emit()}get placeholder(){return this.service.placeholder}get pattern(){return this.service.pattern}getDate(r){return r&&this.service.isValidFormat(r)?r:void 0}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(bd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-date-picker"]],inputs:{control:"control",min:"min",max:"max",required:"required"},outputs:{update:"update"},decls:4,vars:15,consts:[["type","date",1,"form-control",3,"formControl","placeholder","pattern","change"],["prefix","formErrors.date",3,"control","translationParams"]],template:function(r,l){1&r&&(e.TgZ(0,"input",0),e.NdJ("change",function(){return l.change()}),e.qZA(),e._UZ(1,"cx-form-errors",1),e.ALo(2,"cxDate"),e.ALo(3,"cxDate")),2&r&&(e.Q6J("formControl",l.control)("placeholder",l.placeholder)("pattern",l.pattern),e.uIk("min",l.min)("max",l.max)("required",!1===l.required?void 0:l.required),e.xp6(1),e.Q6J("control",l.control)("translationParams",e.WLB(12,Se,e.lcZ(2,8,l.getDate(l.max)),e.lcZ(3,10,l.getDate(l.min)))))},dependencies:[wt.Fj,wt.JJ,wt.Q7,wt.c5,wt.oH,Xu,h.dgE],encapsulation:2}),a})(),gs=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),a})(),js=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,wt.UX,gs,h.LUR]}),a})(),Sv=(()=>{class a{constructor(){this.accept="*",this.multiple=!1,this.update=new e.vpe,this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}selectFile(r){const l=r.target?.files;this.onChangeCallback(l),this.update.emit(l)}get selectedFiles(){if(this.fileInput.nativeElement.files)return Array.from(this.fileInput.nativeElement.files)}registerOnChange(r){this.onChangeCallback=r}registerOnTouched(r){this.onTouchedCallback=r}setDisabledState(r){this.fileInput.nativeElement.disabled=r}writeValue(r){r instanceof FileList&&(this.fileInput.nativeElement.files=r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-file-upload"]],viewQuery:function(r,l){if(1&r&&e.Gf(st,7),2&r){let C;e.iGM(C=e.CRH())&&(l.fileInput=C.first)}},inputs:{accept:"accept",multiple:"multiple"},outputs:{update:"update"},features:[e._Bn([{provide:wt.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}])],ngContentSelectors:vr,decls:6,vars:6,consts:[["type","file","aria-hidden","true",3,"accept","multiple","change"],["fileInput",""],["type","button",1,"btn","btn-action",3,"click"],[4,"ngFor","ngForOf"]],template:function(r,l){if(1&r){const C=e.EpF();e.F$t(),e.TgZ(0,"input",0,1),e.NdJ("change",function(se){return l.selectFile(se)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(C);const se=e.MAs(1);return e.KtG(se.click())}),e.ALo(3,"cxTranslate"),e.Hsn(4),e.qZA(),e.YNc(5,ve,2,1,"p",3)}2&r&&(e.Q6J("accept",l.accept)("multiple",l.multiple),e.xp6(2),e.uIk("aria-label",e.lcZ(3,4,"common.selectFile")),e.xp6(3),e.Q6J("ngForOf",l.selectedFiles))},dependencies:[n.sg,h.X$D],encapsulation:2}),a})(),yg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,wt.UX,gs,h.LUR]}),a})(),Ev=(()=>{class a{constructor(){this.showState={icon:Kn.EYE_SLASH,inputType:"text",ariaLabel:"passwordVisibility.hidePassword"},this.hideState={icon:Kn.EYE,inputType:"password",ariaLabel:"passwordVisibility.showPassword"},this.state=this.hideState}toggle(){this.state=this.state===this.hideState?this.showState:this.hideState,this.inputElement.setAttribute("type",this.state.inputType)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-password-visibility-toggle"]],inputs:{inputElement:"inputElement"},decls:4,vars:4,consts:[["type","button",3,"click"],["aria-hidden","true"],[3,"type"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.toggle()}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span",1),e._UZ(3,"cx-icon",2),e.qZA()()),2&r&&(e.uIk("aria-label",e.lcZ(1,2,l.state.ariaLabel)),e.xp6(3),e.Q6J("type",l.state.icon))},dependencies:[yo,h.X$D],encapsulation:2,changeDetection:0}),a})(),Av=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Sg=(()=>{class a{constructor(r,l,C,M,se){this.winRef=r,this.config=l,this.elementRef=C,this.viewContainerRef=M,this.changeDetectorRef=se}ngAfterViewInit(){this.config.form?.passwordVisibilityToggle&&(this.wrapInput(),this.insertComponent(),this.changeDetectorRef.detectChanges())}insertComponent(){const r=this.viewContainerRef.createComponent(Ev);r.instance.inputElement=this.elementRef.nativeElement,this.inputWrapper?.appendChild(r.location.nativeElement)}wrapInput(){const r=this.elementRef.nativeElement,l=r.parentNode;this.inputWrapper=this.winRef.document.createElement("div"),this.inputWrapper.setAttribute("class","cx-password-input-wrapper"),l.replaceChild(this.inputWrapper,r),this.inputWrapper.appendChild(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.X9E),e.Y36(Av),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.sBO))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPasswordVisibilitySwitch","","type","password"]]}),a})();const Dv={form:{passwordVisibilityToggle:!0}};let gf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Dv)],imports:[n.ez,wr,h.LUR]}),a})(),bv=(()=>{class a{constructor(){this.HTTP_PROTOCOL_REGEX=/^https?:\/\//i,this.MAILTO_PROTOCOL_REGEX=/^mailto:/i,this.TEL_PROTOCOL_REGEX=/^tel:/i}isExternalUrl(r){return"string"==typeof r&&(this.HTTP_PROTOCOL_REGEX.test(r)||this.MAILTO_PROTOCOL_REGEX.test(r)||this.TEL_PROTOCOL_REGEX.test(r))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_u=(()=>{class a{constructor(r,l){this.router=r,this.service=l,this.URL_SPLIT=/(^[^#?]*)(.*)/,this.routeParts={}}isExternalUrl(){return this.service.isExternalUrl(this.url)}get rel(){return"_blank"===this.target?"noopener":null}ngOnChanges(r){r.url&&this.setUrlParts(r.url.currentValue)}get routerUrl(){return this.routeParts.path}get queryParams(){return this.routeParts.queryParams}get fragment(){return this.routeParts.fragment??void 0}setUrlParts(r){"string"==typeof r?(r=this.getAbsoluteUrl(r),this.routeParts=this.splitUrl(r)):this.routeParts={path:r}}splitUrl(r=""){const{queryParams:l,fragment:C}=this.router.parseUrl(r),[,M]=r.match(this.URL_SPLIT)??[,""];return{path:[M??""],queryParams:l,fragment:C}}getAbsoluteUrl(r){return r.startsWith("/")?r:"/"+r}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ke.F0),e.Y36(bv))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-generic-link"]],inputs:{url:"url",target:"target",id:"id",class:"class",style:"style",title:"title"},features:[e.TTD],ngContentSelectors:vr,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["isLocalUrl",""],["content",""],[3,"href"],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","fragment"]],template:function(r,l){if(1&r&&(e.F$t(),e.YNc(0,ot,3,8,"ng-container",0),e.YNc(1,pn,2,9,"ng-template",null,1,e.W1O),e.YNc(3,qn,1,0,"ng-template",null,2,e.W1O)),2&r){const C=e.MAs(2);e.Q6J("ngIf",l.isExternalUrl())("ngIfElse",C)}},dependencies:[n.O5,n.tP,Ke.yS],encapsulation:2}),a})(),el=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz]}),a})(),Td=(()=>{class a{constructor(){this.min=1,this.step=1,this.allowZero=!1,this.readonly=!1}handleClick(){this.input.nativeElement.focus()}ngOnInit(){this.sub=this.control.valueChanges.pipe((0,Je.O)(this.control.value)).subscribe(r=>this.control.setValue(this.getValidCount(r),{emitEvent:!1}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}increment(){this.control.setValue(this.control.value+this.step),this.control.markAsDirty()}decrement(){this.control.setValue(this.control.value-this.step),this.control.markAsDirty()}getValidCount(r){return r<this.min&&!(0===r&&this.allowZero)&&(r=this.min),this.max&&r>this.max&&(r=this.max),r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-item-counter"]],viewQuery:function(r,l){if(1&r&&e.Gf(Ft,5),2&r){let C;e.iGM(C=e.CRH())&&(l.input=C.first)}},hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.handleClick()}),2&r&&e.ekj("readonly",l.readonly)},inputs:{control:"control",min:"min",max:"max",step:"step",allowZero:"allowZero",readonly:"readonly"},decls:9,vars:18,consts:[["type","button",3,"disabled","tabindex","click"],["type","number",3,"min","max","step","readonly","tabindex","formControl"],["qty",""],["type","button","tabindex","0",3,"disabled","click"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.decrement()}),e.ALo(1,"cxTranslate"),e._uU(2," -\n"),e.qZA(),e._UZ(3,"input",1,2),e.ALo(5,"cxTranslate"),e.TgZ(6,"button",3),e.NdJ("click",function(){return l.increment()}),e.ALo(7,"cxTranslate"),e._uU(8," +\n"),e.qZA()),2&r&&(e.Q6J("disabled",l.control.disabled||l.control.value<=l.min)("tabindex",l.control.disabled||l.control.value<=l.min?-1:0),e.uIk("aria-label",e.lcZ(1,12,"itemCounter.removeOne")),e.xp6(3),e.Q6J("min",l.min)("max",l.max)("step",l.step)("readonly",l.readonly)("tabindex",l.readonly?-1:0)("formControl",l.control),e.uIk("aria-label",e.lcZ(5,14,"itemCounter.quantity")),e.xp6(3),e.Q6J("disabled",l.control.disabled||l.control.value>=l.max),e.uIk("aria-label",e.lcZ(7,16,"itemCounter.addOneMore")))},dependencies:[wt.Fj,wt.wV,wt.JJ,wt.qQ,wt.Fd,wt.oH,h.X$D],encapsulation:2}),a})(),mf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,wt.UX,h.LUR]}),a})(),Md=(()=>{class a{constructor(r,l){this.renderer=r,this.elementRef=l}ngAfterViewInit(){const r=this.elementRef.nativeElement.querySelector('[role="combobox"]'),l=this.cxNgSelectA11y.ariaLabel,M=this.cxNgSelectA11y.ariaControls??this.elementRef.nativeElement.id;l&&this.renderer.setAttribute(r,"aria-label",l),M&&this.renderer.setAttribute(r,"aria-controls",M)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.Qsj),e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxNgSelectA11y",""]],inputs:{cxNgSelectA11y:"cxNgSelectA11y"}}),a})(),gi=(()=>{class a{constructor(){this.sortListEvent=new e.vpe}sortList(r){this.sortListEvent.emit(r)}get selectedLabel(){if(this.selectedOption)return this.sortOptions?.find(r=>r.code===this.selectedOption)?.name??this.sortLabels?.[this.selectedOption]}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-sorting"]],inputs:{sortOptions:"sortOptions",ariaControls:"ariaControls",ariaLabel:"ariaLabel",selectedOption:"selectedOption",placeholder:"placeholder",sortLabels:"sortLabels"},outputs:{sortListEvent:"sortListEvent"},decls:3,vars:11,consts:[[3,"searchable","clearable","placeholder","ngModel","cxNgSelectA11y","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,l){1&r&&(e.TgZ(0,"ng-select",0),e.NdJ("change",function(M){return l.sortList(M)}),e.ALo(1,"cxTranslate"),e.YNc(2,Fn,2,2,"ng-option",1),e.qZA()),2&r&&(e.s9C("placeholder",l.placeholder),e.Q6J("searchable",!1)("clearable",!1)("ngModel",l.selectedOption)("cxNgSelectA11y",e.WLB(8,ui,l.ariaLabel||e.lcZ(1,6,"productList.sortResults"),l.ariaControls)),e.xp6(2),e.Q6J("ngForOf",l.sortOptions))},dependencies:[n.sg,dn.w9,dn.jq,wt.JJ,wt.On,Md,h.X$D],encapsulation:2,changeDetection:0}),a})(),tl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),xd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,dn.A0,wt.u5,tl,h.LUR]}),a})();const vf={pagination:{addStart:!0,addEnd:!0}};let _f=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();var Yr=(()=>{return(a=Yr||(Yr={})).GAP="gap",a.FIRST="first",a.LAST="last",a.PREVIOUS="previous",a.NEXT="next",a.START="start",a.END="end",a.PAGE="page",Yr;var a})(),Ya=(()=>{return(a=Ya||(Ya={})).ASIDE="aside",a.BEFORE="before",a.AFTER="after",Ya;var a})();const Cf={rangeCount:3,dotsLabel:"...",startLabel:"\xab",previousLabel:"\u2039",nextLabel:"\u203a",endLabel:"\xbb"};let Eg=(()=>{class a{constructor(r){this.paginationConfig=r}paginate(r,l){const C=[];return!r||r<2||(this.addPages(C,r,l),this.addDots(C,r),this.addFirstLast(C,r),this.addNavigation(C,r,l)),C}addPages(r,l,C){const M=this.getStartOfRange(l,C);if(void 0!==this.config.rangeCount&&null!==M){const se=Math.min(this.config.rangeCount,l);Array.from(Array(se)).forEach((rt,Lt)=>{r.push({number:Lt+M,label:String(Lt+M+1),type:Yr.PAGE})})}}addDots(r,l){this.config.addDots&&(r.unshift(...(()=>{const se=r[0].number,rt=this.config.addFirst?1:0;if(void 0!==se&&se>rt){const Lt=!this.config.substituteDotsForSingularPage||se!==rt+1,sn=this.config.addFirst&&this.config.substituteDotsForSingularPage&&0===rt,zn=Lt?Yr.GAP:sn?Yr.FIRST:Yr.PAGE;return[Object.assign({label:Lt?this.config.dotsLabel:String(rt+1),type:zn},Lt?null:{number:rt})]}return[]})()),r.push(...(()=>{const se=r[r.length-1].number,rt=se?se+1:void 0,Lt=l-(this.config.addLast?2:1);if(rt&&rt<=Lt){const sn=this.config.addLast&&this.config.substituteDotsForSingularPage&&rt===Lt,zn=rt<l-(this.config.substituteDotsForSingularPage?1:0)-(this.config.addLast?1:0),vi=zn?Yr.GAP:sn?Yr.LAST:Yr.PAGE;return[Object.assign({label:zn?this.config.dotsLabel:String(rt+1),type:vi},zn?null:{number:rt})]}return[]})()))}addFirstLast(r,l){this.config.addFirst&&0!==r[0].number&&r.unshift({number:0,label:"1",type:Yr.FIRST}),this.config.addLast&&r[r.length-1].number!==l-1&&r.push({number:l-1,label:String(l),type:Yr.LAST})}addNavigation(r,l,C){const M=this.getBeforeLinks(C),se=this.getAfterLinks(l,C),rt=this.config.navigationPosition;rt&&rt!==Ya.ASIDE?(rt===Ya.BEFORE&&r.unshift(...M,...se),rt===Ya.AFTER&&r.push(...M,...se)):(r.unshift(...M),r.push(...se))}getBeforeLinks(r){const l=[];return this.config.addStart&&l.push((()=>Object.assign({label:this.config.startLabel,type:Yr.START},r>0?{number:0}:null))()),this.config.addPrevious&&l.push((()=>Object.assign({label:this.config.previousLabel,type:Yr.PREVIOUS},r>0?{number:r-1}:null))()),l}getAfterLinks(r,l){const C=[];return this.config.addNext&&C.push((()=>Object.assign({label:this.config.nextLabel,type:Yr.NEXT},l<r-1?{number:l+1}:null))()),this.config.addEnd&&C.push((()=>Object.assign({label:this.config.endLabel,type:Yr.END},l<r-1?{number:r-1}:null))()),C}getStartOfRange(r,l){if(void 0!==this.config.rangeCount){const C=this.config.rangeCount-1,M=Math.round(C/2),se=Math.max(0,l-M),rt=Math.max(0,r-C-1);return Math.min(rt,se)}return null}get config(){return Object.assign(Cf,this.paginationConfig.pagination)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(_f))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),nl=(()=>{class a{constructor(r,l){this.paginationBuilder=r,this.activatedRoute=l,this.pageRoute=".",this.viewPageEvent=new e.vpe,this.pages=[]}get pagination(){return this._pagination}set pagination(r){r&&(this._pagination=r,this.render(r))}render(r){!r||(this.pages=this.paginationBuilder.paginate(r.totalPages??0,r.currentPage??0))}getAriaLabel(r,l){return(l=(l=l===Yr.START?Yr.FIRST:l)===Yr.END?Yr.LAST:l)===Yr.PAGE?`${l} ${r}`:`${l} ${Yr.PAGE}`}isCurrent(r){return r.type===Yr.PAGE&&r.number===this.pagination.currentPage}isInactive(r){return!r.hasOwnProperty("number")||r.number===this.pagination.currentPage}getQueryParams(r){const l=Object.assign({},this.activatedRoute.snapshot.queryParams);return this.queryParam&&void 0!==r.number&&void 0!==this.pagination.totalPages&&r.number<this.pagination.totalPages&&!this.isCurrent(r)&&(l[this.queryParam]=r.number),l[this.queryParam]===this.defaultPage&&delete l[this.queryParam],l}pageChange(r){this.viewPageEvent.emit(r.number)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Eg),e.Y36(Ke.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-pagination"]],inputs:{pageRoute:"pageRoute",queryParam:"queryParam",defaultPage:"defaultPage",pagination:"pagination"},outputs:{viewPageEvent:"viewPageEvent"},decls:1,vars:1,consts:[[3,"class","disabled","current","routerLink","queryParams","tabIndex","click",4,"ngFor","ngForOf"],[3,"routerLink","queryParams","tabIndex","click"]],template:function(r,l){1&r&&e.YNc(0,Xs,2,11,"a",0),2&r&&e.Q6J("ngForOf",l.pages)},dependencies:[n.sg,Ke.yS],encapsulation:2,changeDetection:0}),a})(),yf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(vf)],imports:[n.ez,Ke.Bz]}),a})(),Pn=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,dn.A0,wt.u5,wt.UX,wr,yf,xd]}),a})(),Sf=(()=>{class a{constructor(){this.ariaLabel="",this.class="",this.disabled=!1,this.loading=!1,this.clickEvent=new e.vpe}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-progress-button"]],inputs:{ariaLabel:"ariaLabel",class:"class",disabled:"disabled",loading:"loading"},outputs:{clickEvent:"clickEvent"},ngContentSelectors:vr,decls:4,vars:4,consts:[[1,"btn","btn-primary",3,"disabled","ngClass","click"],[1,"cx-progress-button-container"],["class","loader-container",4,"ngIf"],[1,"loader-container"],[1,"loader"]],template:function(r,l){1&r&&(e.F$t(),e.TgZ(0,"button",0),e.NdJ("click",function(){return l.clickEvent.emit()}),e.TgZ(1,"div",1),e.YNc(2,jr,4,3,"div",2),e.Hsn(3),e.qZA()()),2&r&&(e.Q6J("disabled",l.disabled||l.loading)("ngClass",l.class),e.uIk("aria-label",l.ariaLabel),e.xp6(2),e.Q6J("ngIf",l.loading))},dependencies:[n.mk,n.O5,h.X$D],encapsulation:2}),a})(),Ef=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),a})(),Id=(()=>{class a{constructor(){this.defaultHideMode=!0,this.splitViewCount=1,this._views$=new F.X([])}add(r,l){const C={hidden:0!==r&&this.defaultHideMode,...l};this.views[r]||(this.views[r]=C,this.updateState(r,C.hidden),this._views$.next(this.views))}updateSplitView(r){r!==this.splitViewCount&&(this.splitViewCount=r,this.updateState())}getActiveView(){return this._views$.pipe((0,Te.U)(r=>this.getActive(r)),(0,Ce.x)())}getViewState(r){return this._views$.pipe((0,Te.U)(l=>l[r]),(0,it.h)(l=>Boolean(l)))}remove(r){const l=this.getActive(this.views);this._views$.next(this.views.splice(0,r)),l>=r&&this.updateState(r)}get nextPosition(){return this.views.length||0}toggle(r,l){this.views[r]||this.add(r,{hidden:l??!1}),this.views[r]&&void 0===l&&!this.views[r].hidden&&r--,this.updateState(r,!0===l)}updateState(r,l){const C=[...this.views];void 0!==l&&r&&C[r]&&(C[r].hidden=l);let M=C.length-[...C].reverse().findIndex(se=>!se.hidden)-1;M===C.length&&(M=r?r-1:C.length-1),C.forEach((se,rt)=>{se&&rt!==r&&(se.hidden=rt>M||rt<M-(this.splitViewCount-1))}),this._views$.next(C)}getActive(r){const l=[...r].reverse().findIndex(M=>!M.hidden);return-1===l?0:r.length-l-1}get views(){return this._views$.value}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Dg=(()=>{class a{constructor(r,l,C){this.splitService=r,this.breakpointService=l,this.elementRef=C,this.subscription=new w.w,this.lastVisibleView=1}set hideMode(r){this.splitService.defaultHideMode=r}ngOnInit(){this.subscription.add(this.splitService.getActiveView().subscribe(r=>this.lastVisibleView=r+1)),this.subscription.add(this.breakpointService.breakpoint$.subscribe(()=>{this.splitService.updateSplitView(this.splitViewCount)}))}get splitViewCount(){return Number(getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-max-views"))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Id),e.Y36(Zn),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-split-view"]],hostVars:3,hostBindings:function(r,l){2&r&&(e.uIk("active-view",l.lastVisibleView),e.Udp("--cx-active-view",l.lastVisibleView))},inputs:{hideMode:"hideMode"},features:[e._Bn([Id])],ngContentSelectors:vr,decls:1,vars:0,template:function(r,l){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),a})(),wd=(()=>{class a{constructor(r,l,C){this.splitService=r,this.elementRef=l,this.cd=C,this.disappeared=!0,this.hiddenChange=new e.vpe}set hidden(r){this._hidden=r,this.splitService.toggle(this.viewPosition,r)}ngOnInit(){this.splitService.add(this.viewPosition,this._hidden?{hidden:this._hidden}:{}),this.subscription=this.splitService.getViewState(this.viewPosition).pipe((0,ft.j)(l=>(0,Ee.H)(l.hidden?1.25*this.duration:0))).subscribe(l=>{this.hiddenChange.emit(l.hidden),this._hidden=l.hidden,this.disappeared=l.hidden,this.cd.markForCheck()})}toggle(r){this.splitService.toggle(this.viewPosition,r)}get viewPosition(){return Number(this.position)>=0||(this.position=this.splitService.nextPosition.toString()),Number(this.position)}get duration(){const r=getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-transition-duration").trim();return r.indexOf("ms")>-1?Number(r.split("ms")[0]):r.indexOf("s")>-1?1e3*Number(r.split("s")[0]):300}ngOnDestroy(){this.splitService.remove(this.viewPosition),this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Id),e.Y36(e.SBq),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-view"]],hostVars:4,hostBindings:function(r,l){2&r&&(e.uIk("position",l.position)("disappeared",l.disappeared),e.Udp("--cx-view-position",l.position))},inputs:{position:"position",hidden:"hidden"},outputs:{hiddenChange:"hiddenChange"},ngContentSelectors:vr,decls:1,vars:0,template:function(r,l){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),a})(),Af=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz]}),a})(),Rd=(()=>{class a{constructor(r){this.globalMessageService=r,this.iconTypes=Kn,this.messageType=h.xUg}ngOnInit(){this.messages$=this.globalMessageService.get()}clear(r,l){this.globalMessageService.remove(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-global-message"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-visually-hidden",4,"ngFor","ngForOf"],["class","alert alert-success",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngFor","ngForOf"],["class","alert alert-warning",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"cx-visually-hidden"],[1,"alert","alert-success"],[1,"alert-icon"],[3,"type"],["type","button",1,"close",3,"click"],[1,"alert","alert-info"],[1,"alert","alert-warning"],[1,"alert","alert-danger"]],template:function(r,l){1&r&&(e.YNc(0,Cn,6,5,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.messages$))},dependencies:[n.sg,n.O5,yo,n.Ov,h.X$D],encapsulation:2}),a})(),Pd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,wr,h.LUR]}),a})(),bg=(()=>{class a{constructor(){this.showBody=!1,this.isVisibleCloseButton=!0,this.closeMessage=new e.vpe,this.buttonAction=new e.vpe,this.iconTypes=Kn}get getCssClassesForMessage(){return{"cx-message-success":this.type===h.xUg.MSG_TYPE_CONFIRMATION,"cx-message-info":this.type===h.xUg.MSG_TYPE_INFO,"cx-message-warning":this.type===h.xUg.MSG_TYPE_WARNING,"cx-message-danger":this.type===h.xUg.MSG_TYPE_ERROR}}get getIconType(){switch(this.type){case h.xUg.MSG_TYPE_WARNING:return Kn.WARNING;case h.xUg.MSG_TYPE_ERROR:return Kn.ERROR;case h.xUg.MSG_TYPE_INFO:return Kn.INFO;default:return Kn.SUCCESS}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-message"]],inputs:{text:"text",actionButtonText:"actionButtonText",actionButtonMessage:"actionButtonMessage",accordionText:"accordionText",showBody:"showBody",isVisibleCloseButton:"isVisibleCloseButton",type:"type"},outputs:{closeMessage:"closeMessage",buttonAction:"buttonAction"},ngContentSelectors:vr,decls:11,vars:7,consts:[[1,"cx-message",3,"ngClass"],[1,"cx-message-content"],[1,"cx-message-header"],[1,"cx-message-icon"],[3,"type"],[1,"cx-message-text"],["aria-hidden","true","class","cx-message-accordion-button link cx-action-link","type","button",3,"click",4,"ngIf"],["aria-hidden","true","class","btn btn-link cx-action-link","type","button",3,"cxAtMessage","click",4,"ngIf"],["aria-hidden","true","class","close","type","button",3,"cxAtMessage","click",4,"ngIf"],["class","cx-message-body",4,"ngIf"],["aria-hidden","true","type","button",1,"cx-message-accordion-button","link","cx-action-link",3,"click"],[1,"cx-message-accordion-icon",3,"type"],["aria-hidden","true","type","button",1,"btn","btn-link","cx-action-link",3,"cxAtMessage","click"],["aria-hidden","true","type","button",1,"close",3,"cxAtMessage","click"],[1,"cx-message-body"]],template:function(r,l){1&r&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"cx-icon",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.YNc(7,Ur,3,4,"button",6),e.YNc(8,ei,2,2,"button",7),e.qZA(),e.YNc(9,xo,4,7,"button",8),e.qZA(),e.YNc(10,Sr,2,0,"div",9),e.qZA()()),2&r&&(e.Q6J("ngClass",l.getCssClassesForMessage),e.xp6(4),e.Q6J("type",l.getIconType),e.xp6(2),e.hij(" ",l.text," "),e.xp6(1),e.Q6J("ngIf",l.accordionText),e.xp6(1),e.Q6J("ngIf",l.actionButtonText),e.xp6(1),e.Q6J("ngIf",l.isVisibleCloseButton),e.xp6(1),e.Q6J("ngIf",l.showBody||!l.accordionText))},dependencies:[Gi,n.mk,n.O5,yo,h.X$D],encapsulation:2}),a})(),Tv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[bc,n.ez,h.LUR,wr]}),a})(),Od=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-promotions"]],inputs:{promotions:"promotions"},decls:1,vars:1,consts:[["class","cx-promotions",4,"ngIf"],[1,"cx-promotions"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&e.YNc(0,Ti,3,2,"div",0),2&r&&e.Q6J("ngIf",l.promotions)},dependencies:[n.sg,n.O5],encapsulation:2,changeDetection:0}),a})(),Df=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})();var Vi=(()=>{return(a=Vi||(Vi={})).LANGUAGE="LANGUAGE",a.CURRENCY="CURRENCY",Vi;var a})();const Ld={[h.ORv]:"Language",[h.IkA]:"Currency"};let Mc=(()=>{class a{constructor(r,l,C){this.componentData=r,this.contextServiceMap=l,this.injector=C}getItems(r){return this.getService(r).pipe((0,we.w)(l=>l.getAll()),(0,we.w)(l=>this.getContext(r).pipe((0,we.w)(C=>{const M=[];for(const se of l)M.push({...se,label:this.getOptionLabel(se,C)});return(0,P.of)(M)}))))}getActiveItem(r){return this.getService(r).pipe((0,we.w)(l=>l.getActive()))}getLabel(r){return this.getContext(r).pipe((0,Te.U)(l=>{if(l)return Ld[l]}))}setActive(r,l){this.getService(l).pipe((0,Me.q)(1)).subscribe(C=>{C.setActive(r)})}getService(r){return this.getContext(r).pipe((0,Te.U)(l=>l?this.getInjectedService(l):void 0),(0,it.h)(h.pTN))}getContext(r){return r?(0,P.of)(r===Vi.CURRENCY?h.IkA:r===Vi.LANGUAGE?h.ORv:r):this.componentData?this.componentData.data$.pipe((0,Te.U)(l=>l.context),(0,Te.U)(l=>{switch(l){case"LANGUAGE":return h.ORv;case"CURRENCY":return h.IkA;default:return l}})):(0,P.of)(void 0)}getInjectedService(r){return this.injector.get(this.contextServiceMap[r],void 0)}getOptionLabel(r,l){switch(l){case h.ORv:return r.nativeName;case h.IkA:return r.symbol+" "+r.isocode;default:return r.isocode}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(uo,8),e.LFG(h.Zu_),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),rl=(()=>{class a{constructor(r){this.componentService=r,this.iconTypes=Kn}get items$(){return this.componentService.getItems(this.context)}get activeItem$(){return this.componentService.getActiveItem(this.context)}set active(r){this.componentService.setActive(r,this.context)}get label$(){return this.componentService.getLabel(this.context)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Mc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-site-context-selector"]],inputs:{context:"context"},decls:3,vars:5,consts:[[4,"ngIf"],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"small",3,"type"],[3,"value","selected"]],template:function(r,l){if(1&r&&(e.YNc(0,Hc,7,5,"label",0),e.ALo(1,"async"),e.ALo(2,"async")),2&r){let C;e.Q6J("ngIf",(null==(C=e.lcZ(1,1,l.items$))?null:C.length)>1&&e.lcZ(2,3,l.items$))}},dependencies:[n.sg,n.O5,yo,n.Ov],encapsulation:2,changeDetection:0}),a})(),Tg=(()=>{class a{constructor(){this.siteContextType=Vi}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-language-currency-selector"]],decls:2,vars:2,consts:[[3,"context"]],template:function(r,l){1&r&&e._UZ(0,"cx-site-context-selector",0)(1,"cx-site-context-selector",0),2&r&&(e.Q6J("context",l.siteContextType.LANGUAGE),e.xp6(1),e.Q6J("context",l.siteContextType.CURRENCY))},dependencies:[rl],encapsulation:2,changeDetection:0}),a})(),Mv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSSiteContextComponent:{component:rl,providers:[{provide:Mc,useClass:Mc,deps:[uo,h.Zu_,e.zs3]}]},LanguageCurrencyComponent:{component:Tg}}}),Mc],imports:[n.ez,Ke.Bz,h.R$7,wr]}),a})(),Fd=(()=>{class a{constructor(){this.initialRate=0,this.icon=Kn.STAR,this.disabled=!0,this.rating=this.initialRate,this.change=new e.vpe}setRate(r){this.disabled||(this.rating=r)}reset(){this.disabled||(this.rating=this.initialRate??0)}saveRate(r){this.disabled||(this.initialRate=r,this.setRate(r),this.change.emit(r))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-star-rating"]],hostVars:3,hostBindings:function(r,l){1&r&&e.NdJ("mouseout",function(){return l.reset()}),2&r&&(e.uIk("disabled",l.disabled),e.Udp("--star-fill",l.rating))},inputs:{disabled:"disabled",rating:"rating"},outputs:{change:"change"},decls:1,vars:2,consts:[["class","star","role","button",3,"type","mouseover","click","keydown.space",4,"ngFor","ngForOf"],["role","button",1,"star",3,"type","mouseover","click","keydown.space"]],template:function(r,l){1&r&&e.YNc(0,ta,2,8,"cx-icon",0),2&r&&e.Q6J("ngForOf",e.DdM(1,Ci))},dependencies:[n.sg,yo,h.X$D],encapsulation:2,changeDetection:0}),a})(),kd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,wr,h.LUR]}),a})();const xg={tableOptions:{headerComponent:(()=>{class a{constructor(r){this.outlet=r}get header(){if("string"==typeof this.fieldOptions?.label)return this.fieldOptions.label}get localizedHeader(){return this.fieldOptions?.label?.i18nKey||`${this.i18nRoot}.${this.field}`}get fieldOptions(){return this.outlet?.context._options?.cells?.[this.field]}get field(){return this.outlet?.context?._field}get type(){return this.outlet?.context?._type}get i18nRoot(){return this.outlet?.context?._i18nRoot}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(vc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table-header-cell"]],decls:2,vars:3,template:function(r,l){1&r&&(e._uU(0),e.ALo(1,"cxTranslate")),2&r&&e.Oqu(l.header||e.lcZ(1,1,l.localizedHeader))},dependencies:[h.X$D],encapsulation:2,changeDetection:0}),a})(),dataComponent:(()=>{class a{constructor(r){this.outlet=r}get value(){return this.model[this.field]}get model(){return this.outlet?.context}get field(){return this.outlet?.context?._field}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(vc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table-data-cell"]],hostVars:1,hostBindings:function(r,l){2&r&&e.uIk("title",l.value)},decls:1,vars:1,template:function(r,l){1&r&&e._uU(0),2&r&&e.Oqu(l.value)},encapsulation:2,changeDetection:0}),a})()}};let Nd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),za=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez]}),a})(),bf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR]}),a})(),Tf=(()=>{class a{constructor(r,l,C){this.outletService=r,this.componentFactoryResolver=l,this.config=C,this.outletRefs=new Map}add(r){r?.cells?.forEach(l=>{const C=this.getHeaderRenderer(r,l);if(C){const se=this.getHeaderOutletRef(r.type,l);this.render(se,C)}const M=this.getDataRenderer(r,l);if(M){const se=this.getDataOutletRef(r.type,l);this.render(se,M)}})}render(r,l){if(this.outletRefs.has(r))return;this.outletRefs.set(r,!0);const C=this.componentFactoryResolver.resolveComponentFactory(l);this.outletService.add(r,C)}getHeaderRenderer(r,l){return r.options?.cells?.[l]?.headerComponent||r.options?.headerComponent||this.config.tableOptions?.headerComponent}getDataRenderer(r,l){return r.options?.cells?.[l]?.dataComponent||r.options?.dataComponent||this.config.tableOptions?.dataComponent}getHeaderOutletRef(r,l){return`table.${r}.header.${l}`}getHeaderOutletContext(r,l,C,M){return{_type:r,_options:l,_field:M,_i18nRoot:C}}getDataOutletRef(r,l){return`table.${r}.data.${l}`}getDataOutletContext(r,l,C,M,se){return{...se,_type:r,_options:l,_field:M,_i18nRoot:C}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ds),e.LFG(e._Vd),e.LFG(Nd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var ms=(()=>{return(a=ms||(ms={}))[a.VERTICAL=1]="VERTICAL",a[a.VERTICAL_STACKED=2]="VERTICAL_STACKED",a[a.HORIZONTAL=3]="HORIZONTAL",ms;var a})();let Mf=(()=>{class a{constructor(r){this.rendererService=r,this.launch=new e.vpe}set structure(r){this._structure=r,this.init()}get structure(){return this._structure}init(){this.verticalLayout=!this.layout||this.layout===ms.VERTICAL,this.verticalStackedLayout=this.layout===ms.VERTICAL_STACKED,this.horizontalLayout=this.layout===ms.HORIZONTAL,this.rendererService.add(this.structure),this.addTableDebugInfo()}launchItem(r){this.launch.emit(r)}isCurrentItem(r){return!(!this.currentItem||!this.currentItem.value)&&this.currentItem?.value===r?.[this.currentItem?.property]}getHeaderOutletRef(r){return this.rendererService.getHeaderOutletRef(this.type,r)}getHeaderOutletContext(r){return this.rendererService.getHeaderOutletContext(this.type,this.options,this.i18nRoot,r)}getDataOutletRef(r){return this.rendererService.getDataOutletRef(this.type,r)}getDataOutletContext(r,l){return this.rendererService.getDataOutletContext(this.type,this.options,this.i18nRoot,r,l)}trackData(r,l){return JSON.stringify(l)}addTableDebugInfo(){(0,e.X6Q)()&&this.type&&(this.tableType=this.type)}get layout(){return this.structure?.options?.layout}get type(){return this.structure?.type}get options(){return this.structure?.options}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Tf))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table"]],hostVars:7,hostBindings:function(r,l){2&r&&(e.uIk("__cx-table-type",l.tableType),e.ekj("horizontal",l.horizontalLayout)("vertical",l.verticalLayout)("vertical-stacked",l.verticalStackedLayout))},inputs:{structure:"structure",data:"data",i18nRoot:"i18nRoot",currentItem:"currentItem"},outputs:{launch:"launch"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"is-current","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[3,"class",4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],["scope","col",3,"class",4,"ngFor","ngForOf"],["scope","col"]],template:function(r,l){1&r&&e.YNc(0,mn,4,3,"table",0),2&r&&e.Q6J("ngIf",l.structure)},dependencies:[n.sg,n.O5,ki],encapsulation:2,changeDetection:0}),a})(),xf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(xg)],imports:[n.ez,Ni,bf,za]}),a})(),Ig=(()=>{class a{constructor(r,l){this.breakpointService=r,this.config=l}buildStructure(r,l){return this.hasTableConfig(r)?this.buildStructureFromConfig(r,l):this.buildRandomStructure(r)}buildStructureFromConfig(r,l){return this.breakpointService.breakpoint$.pipe((0,Te.U)(C=>({...this.getTableConfig(r,C,l),type:r})))}getTableConfig(r,l,C){if(!this.config.table?.[r])return null;const M=this.findRelevantBreakpoints(l),se=[...M].reverse().find(sn=>!!this.config.table?.[r][sn]?.cells),rt=se&&this.config.table[r][se]?.cells||this.config.table[r].cells||C?.cells;let Lt={...C?.options,...this.config.table[r].options};return M.forEach(sn=>{Lt={...Lt,...C?.[sn]?.options,...this.config.table?.[r]?.[sn]?.options}}),{cells:rt,options:Lt}}buildStructureFromData(r,l){return this.logWarning(`No table configuration found to render table with type "${r}". The table header for "${r}" is generated by the help of the first data item`),l.pipe((0,Te.U)(C=>{const M=Object.keys(C?.[0]).map(se=>se);return{type:r,cells:M}}))}buildRandomStructure(r){return this.logWarning(`No data available for "${r}", a random structure is generated (with hidden table headers).`),(0,P.of)({type:r,cells:["unknown","unknown","unknown","unknown","unknown"]})}findRelevantBreakpoints(r){const l=this.breakpointService.breakpoints.indexOf(r);return this.breakpointService.breakpoints.slice(0,l+1)}hasTableConfig(r){return!!this.config.table?.[r]}logWarning(r){(0,e.X6Q)()&&console.warn(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Zn),e.LFG(Nd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),wg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{RotatingImagesComponent:{component:gu}}})],imports:[n.ez,Dr,vu,rs]}),a})(),Ud=(()=>{class a{constructor(r,l,C){this.component=r,this.urlService=l,this.cmsService=C,this.data$=this.component.data$.pipe((0,He.b)(M=>{this.setRouterLink(M),this.styleClasses=M.styleClasses}))}getTarget(r){return"true"===r.external||!0===r.external?"_blank":null}setRouterLink(r){r.urlLink?this.routerLink=r.urlLink:r.contentPage?this.cmsService.getPage({id:r.contentPage,type:h.GV4.CONTENT_PAGE}).pipe((0,Me.q)(1)).subscribe(l=>{this.routerLink=l?.label}):r.product?this.routerLink=this.urlService.transform({cxRoute:"product",params:{code:r.product}}):r.category&&(this.routerLink=this.urlService.transform({cxRoute:"category",params:{code:r.category}}))}getImage(r){if(r.media)return r.media}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.hCH),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-banner"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.styleClasses)},decls:2,vars:3,consts:[[4,"ngIf"],[3,"url","target",4,"ngIf"],[3,"url","target"],["class","headline",3,"innerHTML",4,"ngIf"],[3,"container"],["class","content",3,"innerHTML",4,"ngIf"],[1,"headline",3,"innerHTML"],[1,"content",3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,jn,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[n.O5,_u,$s,n.Ov],encapsulation:2,changeDetection:0}),a})(),Rg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SimpleResponsiveBannerComponent:{component:Ud},BannerComponent:{component:Ud},SimpleBannerComponent:{component:Ud}}})],imports:[n.ez,Ke.Bz,el,rs]}),a})(),Bd=(()=>{class a{constructor(r){this.component=r,this.data$=this.component.data$.pipe((0,He.b)(l=>this.styleClasses=l?.styleClasses))}getTarget(r){return"true"===r.target||!0===r.target?"_blank":null}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-link"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.styleClasses)},decls:2,vars:3,consts:[[3,"url","style","target",4,"ngIf"],[3,"url","target"]],template:function(r,l){1&r&&(e.YNc(0,Gr,2,5,"cx-generic-link",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[n.O5,_u,n.Ov],encapsulation:2,changeDetection:0}),a})(),If=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSLinkComponent:{component:Bd}}})],imports:[n.ez,Ke.Bz,el]}),a})(),Pg=(()=>{class a{constructor(r,l){this.renderer=r,this.winRef=l}getPath(r){return`${this.winRef.location.href?.replace(/#.*$/,"")}${r}`}transform(r){const l=this.renderer.createElement("template");l.innerHTML=r.trim();const C=l.content.querySelectorAll("a");return Array.from(C).forEach(M=>{const se=M.getAttribute("href");0===se?.indexOf("#")&&this.renderer.setProperty(M,"href",this.getPath(se))}),l.innerHTML}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.Qsj,16),e.Y36(h.X9E,16))},a.\u0275pipe=e.Yjl({name:"cxSupplementHashAnchors",type:a,pure:!0}),a})(),Gd=(()=>{class a{constructor(r,l){this.component=r,this.router=l}handleClick(r){if(r.target instanceof HTMLAnchorElement){const C=r.target?.getAttribute("href");0===C?.indexOf("/")&&(r.preventDefault(),this.router.navigate([`/${C}`]))}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(Ke.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-paragraph"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)})},decls:2,vars:3,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,Un,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.component.data$))},dependencies:[n.O5,n.Ov,Pg],encapsulation:2,changeDetection:0}),a})(),wf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Vd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSParagraphComponent:{component:Gd},CMSTabParagraphComponent:{component:Gd}}})],imports:[n.ez,Ke.Bz,wf]}),a})(),Og=(()=>{class a{constructor(r,l,C){this.componentData=r,this.cmsService=l,this.winRef=C,this.activeTabNum=0,this.tabTitleParams=[],this.components$=this.componentData.data$.pipe((0,Ce.x)((M,se)=>M?.components===se?.components),(0,He.b)(M=>{this.ariaLabel=`${M?.uid}.tabPanelContainerRegion`}),(0,we.w)(M=>(0,S.aj)((M?.components??"").split(" ").map(se=>this.cmsService.getComponentData(se).pipe((0,Ce.x)(),(0,Te.U)(rt=>{if(rt)return rt.flexType||(rt={...rt,flexType:rt.typeCode}),{...rt,title:`${M.uid}.tabs.${rt.uid}`}}))))))}select(r,l){this.activeTabNum=this.activeTabNum===r?-1:r,l&&l?.target&&this.winRef?.nativeWindow?.scrollTo({left:0,top:l.target.parentNode.offsetTop,behavior:"smooth"})}ngOnInit(){this.activeTabNum=this.winRef?.nativeWindow?.history?.state?.activeTab??this.activeTabNum}ngAfterViewInit(){this.children.length>0&&this.getTitleParams(this.children)}tabCompLoaded(r){this.tabTitleParams.push(r.instance.tabTitleParam$)}getTitleParams(r){r.forEach(l=>{this.tabTitleParams.push(l.cmpRef?.instance.tabTitleParam$??null)})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.ctt),e.Y36(h.X9E))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-tab-paragraph-container"]],viewQuery:function(r,l){if(1&r&&e.Gf(Ha,5),2&r){let C;e.iGM(C=e.CRH())&&(l.children=C)}},decls:2,vars:3,consts:[[4,"ngIf"],["role","region","tabindex","-1",1,"container"],[4,"ngFor","ngForOf"],[3,"click"],["aria-hidden","true",1,"accordion-icon"],["tabindex","0","role","presentation",1,"cx-tab-paragraph-content"],[3,"cxOutlet","cxOutletContext"],[3,"cxComponentWrapper","cxComponentRef"]],template:function(r,l){1&r&&(e.YNc(0,Mi,4,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.components$))},dependencies:[n.sg,n.O5,Ha,ki,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Iv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSTabParagraphContainer:{component:Og}}})],imports:[n.ez,Dr,Ni,h.LUR]}),a})(),Hd=(()=>{class a{constructor(r){this.userAddressService=r}getAddresses(){return this.userAddressService.getAddresses()}getAddressesStateLoading(){return this.userAddressService.getAddressesLoading()}loadAddresses(){this.userAddressService.loadAddresses()}addUserAddress(r){this.userAddressService.addUserAddress(r)}updateUserAddress(r,l){this.userAddressService.updateUserAddress(r,l)}setAddressAsDefault(r){this.userAddressService.setAddressAsDefault(r)}deleteUserAddress(r){this.userAddressService.deleteUserAddress(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.kFJ))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sa={mr:1,mrs:2,miss:3,ms:4,dr:5,rev:6};function Hi(a,_){return a.code&&_.code&&Sa[a.code]&&Sa[_.code]?Sa[a.code]-Sa[_.code]:1}let $d=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),vs=(()=>{class a{constructor(r,l){this.config=r,this.keyboardFocusService=l,this.skipLinks$=new F.X([])}getSkipLinks(){return this.skipLinks$}add(r,l){const C=this.config.skipLinks?.find(M=>M.key===r);if(C){const M=this.skipLinks$.value;M.splice(this.getSkipLinkIndexInArray(r),0,{target:l,i18nKey:C.i18nKey,position:C.position,key:r}),this.skipLinks$.next(M)}}remove(r){if(this.config.skipLinks?.find(C=>C.key===r)){let C=this.skipLinks$.value;C=C.filter(M=>M.key!==r),this.skipLinks$.next(C)}}scrollToTarget(r){const l=r.target instanceof HTMLElement?r.target:r.target?.parentElement,C=this.keyboardFocusService.findFirstFocusable(l)||l,M=C?.hasAttribute("tabindex");M||C?.setAttribute("tabindex","-1"),C?.focus(),M||C?.removeAttribute("tabindex")}getSkipLinkIndexInArray(r){let l=this.config.skipLinks?.findIndex(C=>C.key===r)??0;for(;l>0;){l--;const C=this.config.skipLinks?.[l];if(C){const se=this.skipLinks$.value.findIndex(rt=>rt.key===C.key);if(se>-1)return se+1}}return 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG($d),e.LFG(qi))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ol=(()=>{class a{constructor(r){this.skipLinkService=r,this.skipLinks$=this.skipLinkService.getSkipLinks()}scrollToTarget(r){this.skipLinkService.scrollToTarget(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(vs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-skip-link"]],decls:2,vars:3,consts:[[3,"cxFocus",4,"ngIf"],[3,"cxFocus"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,l){1&r&&(e.YNc(0,go,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.skipLinks$))},dependencies:[n.sg,n.O5,oi,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})();const il={skipLinks:[{key:"cx-header",i18nKey:"skipLink.labels.header"},{key:"cx-main",i18nKey:"skipLink.labels.main"},{key:"cx-footer",i18nKey:"skipLink.labels.footer"}]};let sl=(()=>{class a{constructor(r,l){this.elementRef=r,this.skipLinkService=l}ngOnInit(){this.skipLinkService.add(this.cxSkipLink,this.elementRef.nativeElement)}ngOnDestroy(){this.skipLinkService.remove(this.cxSkipLink)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(vs))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxSkipLink",""]],inputs:{cxSkipLink:"cxSkipLink"}}),a})(),Of=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(il),{provide:e.ip1,useFactory:al,deps:[e._Vd,ds],multi:!0}],imports:[n.ez,h.LUR,h.pEA.withConfig(il),Qo]}),a})();function al(a,_){return()=>{const l=a.resolveComponentFactory(ol);_.add("cx-storefront",l,Kr.BEFORE)}}const Rv={breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:{min:1200}}},xc={direction:{detect:!0,default:Po.LTR,rtlLanguages:["he","ar"]}};let ul=(()=>{class a{constructor(r,l,C){this.configInit=r,this.languageService=l,this.winRef=C,this.startsDetecting=!1,this.subscription=new w.w}initialize(){return this.configInit.getStable("direction").pipe((0,He.b)(r=>{this.config=r?.direction,this.config?.detect?this.detect():this.setDirection(this.winRef.document.documentElement,this.config?.default)})).toPromise()}detect(){this.startsDetecting||(this.subscription.add(this.languageService.getActive().subscribe(r=>this.setDirection(this.winRef.document.documentElement,this.getDirection(r)))),this.startsDetecting=!0)}setDirection(r,l){l?r.setAttribute("dir",l):r.removeAttribute("dir")}getDirection(r){return r&&this.config?.rtlLanguages?.includes(r)?Po.RTL:r&&this.config?.ltrLanguages?.includes(r)?Po.LTR:this.config?.default}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.yUt),e.LFG(h.TSl),e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function ll(a,_){return()=>{if(_.isLevel("2.1"))return a.initialize()}}let yu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,useFactory:ll,deps:[ul,h.Ru9]},(0,h.i51)(xc)]}),a})(),jd=(()=>{class a{constructor(r){this.isExpanded=new F.X(!1),r.events.pipe((0,it.h)(l=>l instanceof Ke.OD)).subscribe(()=>{this.toggle(!0)})}toggle(r){this.isExpanded.next(!r&&!this.isExpanded.value)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ke.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Lf=(()=>{class a{constructor(r){this.hamburgerMenuService=r}toggle(){this.hamburgerMenuService.toggle()}get isExpanded(){return this.hamburgerMenuService.isExpanded}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(jd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-hamburger-menu"]],decls:6,vars:10,consts:[["type","button","aria-controls","header-account-container, header-categories-container, header-locale-container",1,"cx-hamburger",3,"click"],[1,"hamburger-box"],[1,"hamburger-inner"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.toggle()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"cxTranslate"),e.TgZ(4,"span",1),e._UZ(5,"span",2),e.qZA()()),2&r&&(e.ekj("is-active",e.lcZ(1,4,l.isExpanded)),e.uIk("aria-expanded",e.lcZ(2,6,l.isExpanded))("aria-label",e.lcZ(3,8,"common.menu")))},dependencies:[n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Ff=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{HamburgerMenuComponent:{component:Lf}}})],imports:[n.ez,h.LUR]}),a})(),Fg=(()=>{class a{constructor(r,l){this.config=r,this.rendererFactory=l}init(r){this.renderer=this.rendererFactory.createRenderer(null,null),this.rootComponent=r,this.setTheme(this.config.context?.[h.F3r]?.[0])}setTheme(r){if(r){const l=this.rootComponent.location.nativeElement;this.renderer.removeClass(l,this.existingTheme),this.renderer.addClass(l,r),this.existingTheme=r}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.zQk),e.LFG(e.FYo))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function kg(a){return r=>a.init(r)}let kf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.tb,multi:!0,useFactory:kg,deps:[Fg]}]}),a})(),Ng=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Rv)],imports:[Zu,kC.forRoot(),yu,kf,Zu]}),a})();var dl=(()=>((dl||(dl={})).STOREFRONT="cx-storefront",dl))();let Ug=(()=>{class a{constructor(r,l,C,M){this.hamburgerMenuService=r,this.routingService=l,this.elementRef=C,this.keyboardFocusService=M,this.isExpanded$=this.hamburgerMenuService.isExpanded,this.StorefrontOutlets=dl,this.role="presentation",this.tabindex="0",this.keyboardFocusConfig={focusOnEscape:!0,focusOnDoubleEscape:!0}}handleEscape(r){this.keyboardFocusService.handleEscape(this.elementRef.nativeElement,this.keyboardFocusConfig,r)}ngOnInit(){this.navigateSubscription=this.routingService.isNavigating().subscribe(r=>{this.startNavigating=!0===r,this.stopNavigating=!1===r})}collapseMenuIfClickOutside(r){const l=r.target;"header"===l.nodeName.toLowerCase()&&l.className.includes("is-expanded")&&this.collapseMenu()}collapseMenu(){this.hamburgerMenuService.toggle(!0)}ngOnDestroy(){this.navigateSubscription&&this.navigateSubscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(jd),e.Y36(h.Znh),e.Y36(e.SBq),e.Y36(qi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-storefront"]],viewQuery:function(r,l){if(1&r&&e.Gf(ol,5),2&r){let C;e.iGM(C=e.CRH())&&(l.child=C.first)}},hostVars:6,hostBindings:function(r,l){1&r&&e.NdJ("keydown.escape",function(M){return l.handleEscape(M)}),2&r&&(e.Ikx("tabindex",l.tabindex),e.uIk("role",l.role),e.ekj("start-navigating",l.startNavigating)("stop-navigating",l.stopNavigating))},decls:1,vars:1,consts:[["cxPageTemplateStyle","",3,"cxOutlet"],["cxOutlet","cx-header"],["cxSkipLink","cx-main",3,"cxFocus"],["cxOutlet","cx-footer"],["cxSkipLink","cx-header",3,"cxFocus","keydown.escape","click"],["section","header"],["section","navigation"],["position","BottomHeaderSlot"],["aria-atomic","true","aria-live","assertive"],["cxSkipLink","cx-footer",3,"cxFocus"],["section","footer"]],template:function(r,l){1&r&&e.YNc(0,Ra,4,2,"ng-template",0),2&r&&e.Q6J("cxOutlet",l.StorefrontOutlets.STOREFRONT)},dependencies:[Ke.lC,Rd,ki,fi,lv,lg,oi,sl,n.Ov],encapsulation:2}),a})(),Zd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz,Pd,Ni,Zu,Cc,ja,Qo,Of]}),a})(),Yd=(()=>{class a{constructor(r,l,C,M,se,rt){this.fb=r,this.userService=l,this.userAddressService=C,this.globalMessageService=M,this.translation=se,this.launchDialogService=rt,this.selectedCountry$=new F.X(""),this.setAsDefaultField=!0,this.showCancelBtn=!0,this.submitAddress=new e.vpe,this.backToAddress=new e.vpe,this.subscription=new w.w,this.addressForm=this.fb.group({country:this.fb.group({isocode:[null,wt.kI.required]}),titleCode:[""],firstName:["",wt.kI.required],lastName:["",wt.kI.required],line1:["",wt.kI.required],line2:[""],town:["",wt.kI.required],region:this.fb.group({isocode:[null,wt.kI.required]}),postalCode:["",wt.kI.required],phone:"",defaultAddress:[!1]})}ngOnInit(){this.countries$=this.userAddressService.getDeliveryCountries().pipe((0,He.b)(r=>{0===Object.keys(r).length&&this.userAddressService.loadDeliveryCountries()})),this.titles$=this.getTitles(),this.regions$=this.selectedCountry$.pipe((0,we.w)(r=>this.userAddressService.getRegions(r)),(0,He.b)(r=>{const l=this.addressForm.get("region.isocode");r&&r.length>0?l?.enable():l?.disable()})),this.addressData&&0!==Object.keys(this.addressData).length&&(this.addressForm.patchValue(this.addressData),this.countrySelected(this.addressData.country),this.addressData.region&&this.regionSelected(this.addressData.region)),this.addresses$=this.userAddressService.getAddresses()}getTitles(){return(0,S.aj)([this.translation.translate("addressForm.defaultTitle"),this.userService.getTitles()]).pipe((0,Te.U)(([r,l])=>{const C={code:"",name:r};return l.sort(Hi),[C,...l]}))}handleAddressVerificationResults(r){"ACCEPT"===r.decision?this.submitAddress.emit(this.addressForm.value):"REJECT"===r.decision?r.errors?.errors.some(l=>"titleCode"===l.subject)?this.globalMessageService.add({key:"addressForm.titleRequired"},h.xUg.MSG_TYPE_ERROR):this.globalMessageService.add({key:"addressForm.invalidAddress"},h.xUg.MSG_TYPE_ERROR):"REVIEW"===r.decision&&this.openSuggestedAddress(r)}countrySelected(r){this.addressForm.get("country")?.get("isocode")?.setValue(r?.isocode),this.selectedCountry$.next(r?.isocode??"")}regionSelected(r){this.addressForm.get("region")?.get("isocode")?.setValue(r.isocode)}toggleDefaultAddress(){this.addressForm.controls.defaultAddress.setValue(this.addressForm.value.defaultAddress)}back(){this.backToAddress.emit()}verifyAddress(){this.addressForm.valid?(this.addressForm.get("region")?.value.isocode&&this.regions$.pipe((0,Me.q)(1)).subscribe(r=>{const l=r.find(C=>C.isocode===this.addressForm.controls.region.value.isocode);Object.assign(this.addressForm.value.region,{isocodeShort:l?.isocodeShort})}),this.addressForm.dirty?this.subscription.add(this.userAddressService.verifyAddress(this.addressForm.value).subscribe(r=>{this.handleAddressVerificationResults(r)})):this.submitAddress.emit(void 0)):this.addressForm.markAllAsTouched()}openSuggestedAddress(r){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",this.element,{enteredAddress:this.addressForm.value,suggestedAddresses:r.suggestedAddresses}),this.subscription.add(this.launchDialogService.dialogClose.pipe((0,it.h)(l=>Boolean(l))).subscribe(l=>{if("object"==typeof l){const C={...l,titleCode:this.addressForm.value.titleCode,phone:this.addressForm.value.phone,selected:!0};this.submitAddress.emit(C)}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(wt.QS),e.Y36(h.KDu),e.Y36(h.kFJ),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(Xi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-address-form"]],viewQuery:function(r,l){if(1&r&&e.Gf(Ts,5),2&r){let C;e.iGM(C=e.CRH())&&(l.element=C.first)}},inputs:{addressData:"addressData",actionBtnLabel:"actionBtnLabel",cancelBtnLabel:"cancelBtnLabel",setAsDefaultField:"setAsDefaultField",showTitleCode:"showTitleCode",showCancelBtn:"showCancelBtn"},outputs:{submitAddress:"submitAddress",backToAddress:"backToAddress"},decls:74,vars:62,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],["formGroupName","country",1,"form-group"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"label-content","required"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],[1,"cx-address-form-btns"],["class","col-md-13 col-lg-6",4,"ngIf"],[1,"col-md-13","col-lg-6"],["type","submit",1,"btn","btn-block","btn-primary"],["submit",""],["id","country-select","formControlName","isocode","bindLabel","name","bindValue","isocode",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y","change"],["id","title-select","formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox","formControlName","defaultAddress",1,"form-check-input",3,"change"],[1,"form-check-label"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(r,l){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return l.verifyAddress()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,Oa,2,1,"ng-container",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,mo,3,3,"div",5),e.TgZ(7,"div",6)(8,"label")(9,"span",7),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",8),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",9),e.qZA()(),e.TgZ(15,"div",6)(16,"label")(17,"span",7),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",10),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label")(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._UZ(28,"input",11),e.ALo(29,"cxTranslate"),e._UZ(30,"cx-form-errors",9),e.qZA()(),e.TgZ(31,"div",6)(32,"label")(33,"span",12),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA(),e._UZ(36,"input",13),e.ALo(37,"cxTranslate"),e.qZA()(),e.TgZ(38,"div",1)(39,"div",14)(40,"label")(41,"span",7),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA(),e._UZ(44,"input",15),e.ALo(45,"cxTranslate"),e._UZ(46,"cx-form-errors",9),e.qZA()(),e.TgZ(47,"div",14)(48,"label")(49,"span",7),e._uU(50),e.ALo(51,"cxTranslate"),e.qZA(),e._UZ(52,"input",16),e.ALo(53,"cxTranslate"),e._UZ(54,"cx-form-errors",9),e.qZA()(),e.YNc(55,wi,2,1,"ng-container",17),e.ALo(56,"async"),e.qZA(),e.TgZ(57,"div",6)(58,"label")(59,"span",12),e._uU(60),e.ALo(61,"cxTranslate"),e.qZA(),e._UZ(62,"input",18),e.ALo(63,"cxTranslate"),e.qZA()(),e.YNc(64,zr,7,3,"div",5),e.ALo(65,"async"),e.TgZ(66,"div",19)(67,"div",1),e.YNc(68,so,4,3,"div",20),e.TgZ(69,"div",21)(70,"button",22,23),e._uU(72),e.ALo(73,"cxTranslate"),e.qZA()()()()()()()),2&r){let C;e.Q6J("formGroup",l.addressForm),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,26,l.countries$)),e.xp6(2),e.Q6J("ngIf",l.showTitleCode),e.xp6(4),e.Oqu(e.lcZ(11,28,"addressForm.firstName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,30,"addressForm.firstName.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("firstName")),e.xp6(4),e.Oqu(e.lcZ(19,32,"addressForm.lastName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,34,"addressForm.lastName.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("lastName")),e.xp6(4),e.Oqu(e.lcZ(27,36,"addressForm.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(29,38,"addressForm.streetAddress")),e.xp6(2),e.Q6J("control",l.addressForm.get("line1")),e.xp6(4),e.Oqu(e.lcZ(35,40,"addressForm.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,42,"addressForm.aptSuite")),e.xp6(6),e.Oqu(e.lcZ(43,44,"addressForm.city.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(45,46,"addressForm.city.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("town")),e.xp6(4),e.Oqu(e.lcZ(51,48,"addressForm.zipCode.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(53,50,"addressForm.zipCode.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("postalCode")),e.xp6(1),e.Q6J("ngIf",e.lcZ(56,52,l.regions$)),e.xp6(5),e.Oqu(e.lcZ(61,54,"addressForm.phoneNumber.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(63,56,"addressForm.phoneNumber.placeholder")),e.xp6(2),e.Q6J("ngIf",(null==(C=e.lcZ(65,58,l.addresses$))?null:C.length)&&l.setAsDefaultField),e.xp6(4),e.Q6J("ngIf",l.showCancelBtn),e.xp6(4),e.hij(" ",l.actionBtnLabel||e.lcZ(73,60,"common.continue")," ")}},dependencies:[Md,n.O5,wt._Y,wt.Fj,wt.Wl,wt.JJ,wt.JL,wt.Q7,wt.sg,wt.u,wt.x0,dn.w9,Xu,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Bg=(()=>{class a{constructor(r,l,C){this.service=r,this.translation=l,this.globalMessageService=C,this.showAddAddressForm=!1,this.showEditAddressForm=!1}ngOnInit(){this.addresses$=this.service.getAddresses(),this.addressesStateLoading$=this.service.getAddressesStateLoading(),this.service.loadAddresses()}addAddressButtonHandle(){this.showEditAddressForm=!1,this.showAddAddressForm=!0}editAddressButtonHandle(r){this.showAddAddressForm=!1,this.showEditAddressForm=!0,this.currentAddress=r}addAddressSubmit(r){this.showAddAddressForm=!1,this.service.addUserAddress(r)}addAddressCancel(){this.showAddAddressForm=!1}editAddressSubmit(r){this.showEditAddressForm=!1,r&&this.currentAddress.id&&this.service.updateUserAddress(this.currentAddress.id,r)}editAddressCancel(){this.showEditAddressForm=!1}getCardContent(r){return(0,S.aj)([this.translation.translate("addressCard.default"),this.translation.translate("addressCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("common.edit"),this.translation.translate("addressBook.areYouSureToDeleteAddress")]).pipe((0,Te.U)(([l,C,M,se,rt])=>{let Lt="";r.region&&r.region.isocode&&(Lt=r.region.isocode+", ");const sn=[];return r.defaultAddress||sn.push({name:C,event:"default"}),sn.push({name:se,event:"edit"}),sn.push({name:M,event:"delete"}),{role:"region",textBold:r.firstName+" "+r.lastName,text:[r.line1,r.line2,r.town+", "+Lt+r.country?.isocode,r.postalCode,r.phone],actions:sn,header:r.defaultAddress?`\u2713 ${l}`:"",deleteMsg:rt,label:r.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}))}setAddressAsDefault(r){this.service.setAddressAsDefault(r.id??""),this.globalMessageService.add({key:"addressMessages.setAsDefaultSuccessfully",params:{streetAddress:r.line1}},h.xUg.MSG_TYPE_CONFIRMATION)}deleteAddress(r){this.service.deleteUserAddress(r)}setEdit(r){this.editCard!==r?this.editCard=r:this.deleteAddress(r)}cancelCard(){this.editCard=null}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hd),e.Y36(h.D7D),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-address-book"]],decls:8,vars:7,consts:[[1,"cx-section"],[4,"ngIf"],["loading",""],[1,"row"],[1,"col-md-6"],[1,"btn","btn-block","btn-action",3,"click"],["class","row cx-address-deck",4,"ngIf","ngIfElse"],[1,"row","cx-address-deck"],["role","status"],["class","col-md-6 cx-address-card",4,"ngFor","ngForOf"],[1,"col-md-6","cx-address-card"],[3,"index","border","fitToContainer","content","editMode","editCard","setDefaultCard","deleteCard","cancelCard"],[1,"cx-section-msg"],[1,"cx-form",3,"showTitleCode","showCancelBtn","actionBtnLabel","cancelBtnLabel","setAsDefaultField","submitAddress","backToAddress","cancelCard"],[3,"showTitleCode","actionBtnLabel","cancelBtnLabel","addressData","submitAddress","backToAddress"],[1,"col-md-12","cx-address-spinner"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,vo,8,7,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Zr,10,16,"ng-container",1),e.ALo(4,"async"),e.YNc(5,_o,8,11,"ng-container",1),e.qZA(),e.YNc(6,ss,2,0,"ng-template",null,2,e.W1O)),2&r){let C,M;e.xp6(1),e.Q6J("ngIf",(null==(C=e.lcZ(2,3,l.addresses$))?null:C.length)&&!(l.showAddAddressForm||l.showEditAddressForm)),e.xp6(2),e.Q6J("ngIf",(!(null!=(M=e.lcZ(4,5,l.addresses$))&&M.length)||l.showAddAddressForm)&&!l.showEditAddressForm),e.xp6(2),e.Q6J("ngIf",l.showEditAddressForm)}},dependencies:[n.sg,n.O5,Ad,Yd,Ui,n.Ov,h.X$D],encapsulation:2}),a})(),pl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Pv=(()=>{class a{download(r,l){const C=document.createElement("a");C.setAttribute("href",r),C.setAttribute("download",`${l}`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Gg=(()=>{class a{constructor(r){this.fileDownloadService=r}convert(r,l){return r.reduce((C,M)=>`${C}${M.reduce((rt,Lt)=>`${rt+=""!==rt?l:""}${Lt.includes(l)?`"${Lt}"`:Lt}`,"")}\r\n`,"")}download(r,l,C){const{fileName:M,type:se,extension:rt}=C,Lt=this.convert(r,l),sn=new Blob([Lt],{type:se}),zn=URL.createObjectURL(sn);this.fileDownloadService.download(zn,`${M}.${rt}`)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Pv))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Vg=(()=>{class a{loadTextFile(r){return new B.y(l=>{const C=new FileReader;C.readAsText(r),C.onload=()=>{l.next(C.result),l.complete()},C.onerror=M=>{C.abort(),l.error(M)}})}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ov=(()=>{class a{constructor(r){this.fileReaderService=r}loadFile(r,l){return this.fileReaderService.loadTextFile(r).pipe((0,Te.U)(C=>this.parse(C,l)))}validateFile(r,{separator:l,isDataParsable:C,maxEntries:M}){const se={};return this.fileReaderService.loadTextFile(r).pipe((0,He.b)(rt=>{this.validateEmpty(rt,se)}),(0,Te.U)(rt=>this.parse(rt,l)),(0,He.b)(rt=>{this.validateNotParsable(rt,se,C),this.validateTooManyEntries(rt,se,M)}),(0,nn.K)(rt=>(0,P.of)(rt)),(0,Te.U)(()=>0===Object.keys(se).length?null:se))}parse(r,l,C=!0){return r.split("\n").map(M=>M.split(l).map(se=>se.replace(/"/g,""))).filter((M,se)=>!(C&&0===se)&&""!==M[0])}validateEmpty(r,l){if(0===r.toString().length)throw l.empty=!0,l}validateTooManyEntries(r,l,C){if(C&&r.length>C)throw l.tooManyEntries={maxEntries:C},l}validateNotParsable(r,l,C){if(C&&!C(r))throw l.notParsable=!0,l}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Vg))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Lv=(()=>{class a{maxSize(r){return l=>{const C={};return r&&Array.from(l.value).forEach(se=>{se.size>1e6*r&&(C.tooLarge={maxSize:r,invalidFiles:[...C.tooLarge?.invalidFiles??[],se.name]})}),0===Object.keys(C).length?null:C}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class Nf{static emailValidator(_){const r=_.value;return!r||r.length&&!r.match(h.QIJ)?{cxInvalidEmail:!0}:null}static passwordValidator(_){const r=_.value;return!r||r.length&&!r.match(h.mS3)?{cxInvalidPassword:!0}:null}static starRatingEmpty(_){const r=_.value;return r>=1&&r<=5?null:{cxStarRatingEmpty:!0}}static passwordsMustMatch(_,r){return C=>Hg(C,_,r,"cxPasswordsMustMatch")}static emailsMustMatch(_,r){return C=>Hg(C,_,r,"cxEmailsMustMatch")}static mustBePositive(_){return _.value>=0?null:{cxNegativeAmount:!0}}static noSpecialCharacters(_){const l=String(_.value);return["/"].some(M=>l.includes(M))?{cxContainsSpecialCharacters:!0}:null}static patternValidation(_){return l=>{const C={};return l.value&&""!==l.value&&!_(l.value)&&(C.pattern=!0),0===Object.keys(C).length?null:C}}static dateRange(_,r,l){return M=>{const se=M.controls[_],rt=M.controls[r],Lt=l(se.value),sn=l(rt.value);return!Lt||!sn||(se.errors?.pattern||Lt>sn&&se.setErrors({max:!0}),rt.errors?.pattern||sn<Lt&&rt.setErrors({min:!0})),null}}}function Hg(a,_,r,l){const M=a.controls[r];M.errors&&!M.errors[l]||M.setErrors(a.controls[_].value!==M.value?{[l]:!0}:null)}let $g=(()=>{class a{constructor(r,l){this.launchDialogService=r,this.el=l,this.iconTypes=Kn,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0},this.data$=this.launchDialogService.data$}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.closeModal("Cross click")}ngOnInit(){this.data$.pipe((0,Me.q)(1)).subscribe(r=>this.setSelectedAddress(r))}closeModal(r){this.launchDialogService.closeDialog(r)}setSelectedAddress(r){this.selectedAddress=r.suggestedAddresses?.length?r.suggestedAddresses[0]:r.enteredAddress,console.log(this.selectedAddress)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Xi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-suggested-addresses-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)})},decls:3,vars:4,consts:[[1,"cx-suggested-addresses-dialog",3,"cxFocus","esc"],["class","cx-suggested-addresses-container",4,"ngIf"],[1,"cx-suggested-addresses-container"],[1,"cx-suggested-addresses-header","cx-modal-header"],[1,"cx-suggested-addresses-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["ngForm","",1,"cx-suggested-addresses-body"],[1,"cx-dialog-info"],[1,"cx-dialog-options"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","name","selectedAddress","id","suggested-addresses--entered",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","suggested-addresses--entered",1,"form-check-label","cx-dialog-label"],[1,"cx-dialog-entered"],[1,"cx-card-container"],[1,"cx-card-label"],[1,"cx-suggested-addresses-footer","cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-12","col-lg-6","offset-lg-6"],[1,"btn","btn-secondary","cx-dialog-buttons",3,"click"],["cxAutoFocus","",1,"btn","btn-primary","cx-dialog-buttons",3,"click"],["type","radio","name","selectedAddress",1,"form-check-input",3,"ngModel","value","id","ngModelChange"],[1,"form-check-label","cx-dialog-label",3,"for"],[1,"cx-dialog-suggested"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.closeModal("Escape clicked")}),e.YNc(1,Pu,44,32,"div",1),e.ALo(2,"async"),e.qZA()),2&r&&(e.Q6J("cxFocus",l.focusConfig),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,l.data$)))},dependencies:[n.sg,n.O5,wt.Fj,wt._,wt.JJ,wt.JL,wt.On,wt.F,yo,oi,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),jg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[tl,n.ez,wt.UX,wt.u5,Ke.Bz,dn.A0,wr,h.LUR,gs,Qo]}),a})();const Uf={launch:{SUGGESTED_ADDRESSES:{inlineRoot:!0,component:$g,dialogType:ii.DIALOG}}};let Zs=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountAddressBookComponent:{component:Bg,guards:[h.a1M]}}}),(0,h.i51)(Uf),h.kFJ],imports:[n.ez,Tc,jg,Bi,h.LUR]}),a})(),fl=(()=>{class a{constructor(r,l){this.routingService=r,this.translation=l,this.RELEVANCE=":relevance",this.CUSTOMER_COUPON_CODE=":customerCouponCode:"}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:this.buildSearchParam(r)}},{queryParams:{couponcode:r.couponId}})}buildSearchParam(r){return r.allProductsApplicable?this.RELEVANCE:this.RELEVANCE+this.CUSTOMER_COUPON_CODE+r.couponId}getSortLabels(){return(0,S.aj)([this.translation.translate("myCoupons.startDateAsc"),this.translation.translate("myCoupons.startDateDesc"),this.translation.translate("myCoupons.endDateAsc"),this.translation.translate("myCoupons.endDateDesc")]).pipe((0,Te.U)(([r,l,C,M])=>({byStartDateAsc:r,byStartDateDesc:l,byEndDateAsc:C,byEndDateDesc:M})))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.D7D))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Zg=(()=>{class a{constructor(r,l,C){this.myCouponsComponentService=r,this.launchDialogService=l,this.vcr=C,this.notificationChanged=new e.vpe}onSubscriptionChange(){this.notificationChanged.emit({couponId:this.coupon.couponId??"",notification:!this.coupon.notificationOn})}readMore(){const r=this.launchDialogService.openDialog("COUPON",this.element,this.vcr,{coupon:this.coupon});r&&r.pipe((0,Me.q)(1)).subscribe()}findProducts(){this.myCouponsComponentService.launchSearchPage(this.coupon)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(fl),e.Y36(Xi),e.Y36(e.s_b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-card"]],viewQuery:function(r,l){if(1&r&&e.Gf($c,5),2&r){let C;e.iGM(C=e.CRH())&&(l.element=C.first)}},inputs:{coupon:"coupon",couponSubscriptionLoading$:"couponSubscriptionLoading$"},outputs:{notificationChanged:"notificationChanged"},decls:40,vars:38,consts:[[1,"card"],[1,"card-body","cx-card-body"],[1,"cx-coupon-data"],[1,"cx-coupon-card-row","top"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-card-date"],[1,"cx-coupon-date"],[1,"cx-coupon-date-start"],[1,"cx-coupon-date-end"],[1,"cx-card-read-more",3,"click"],[1,"cx-coupon-card-row","bottom"],[1,"cx-coupon-notification","form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-coupon-find-product","col-lg-6","col-md-12","col-sm-6"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"div"),e.ALo(10,"lowercase"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"div",6)(14,"p"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"div",7)(18,"div",8),e._uU(19),e.ALo(20,"cxDate"),e.qZA(),e.TgZ(21,"div",9),e._uU(22),e.ALo(23,"cxDate"),e.qZA()()(),e.TgZ(24,"a",10),e.NdJ("click",function(){return l.readMore()}),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e.TgZ(27,"div",11)(28,"div",12)(29,"label")(30,"input",13),e.NdJ("change",function(){return l.onSubscriptionChange()}),e.ALo(31,"async"),e.ALo(32,"async"),e.qZA(),e.TgZ(33,"span",14),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()(),e.TgZ(36,"div",15)(37,"button",16),e.NdJ("click",function(){return l.findProducts()}),e._uU(38),e.ALo(39,"cxTranslate"),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Oqu(null==l.coupon?null:l.coupon.couponId),e.xp6(2),e.hij(": ",null==l.coupon?null:l.coupon.name,""),e.xp6(1),e.Gre("cx-coupon-status ",e.lcZ(10,16,null==l.coupon?null:l.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(12,18,"myCoupons."+(null==l.coupon?null:l.coupon.status))," "),e.xp6(4),e.Oqu(e.lcZ(16,20,"myCoupons.effectiveTitle")),e.xp6(4),e.hij(" ",e.xi3(20,22,null==l.coupon?null:l.coupon.startDate,"medium")," -\xa0 "),e.xp6(3),e.hij(" ",e.xi3(23,25,null==l.coupon?null:l.coupon.endDate,"medium")," "),e.xp6(3),e.Oqu(e.lcZ(26,28,"myCoupons.readMore")),e.xp6(5),e.ekj("disabled",e.lcZ(31,30,l.couponSubscriptionLoading$)),e.Q6J("checked",null==l.coupon?null:l.coupon.notificationOn)("disabled",e.lcZ(32,32,l.couponSubscriptionLoading$)),e.xp6(4),e.hij(" ",e.lcZ(35,34,"myCoupons.notification")," "),e.xp6(4),e.hij(" ",e.lcZ(39,36,"myCoupons.findProducts")," "))},dependencies:[n.Ov,n.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),Bf=(()=>{class a{constructor(r,l){this.couponService=r,this.myCouponsComponentService=l,this.iconTypes=Kn,this.subscriptions=new w.w,this.PAGE_SIZE=10,this.sortMapping={byStartDateAsc:"startDate:asc",byStartDateDesc:"startDate:desc",byEndDateAsc:"endDate:asc",byEndDateDesc:"endDate:desc"},this.sort="byStartDateAsc",this.sortOptions=[{code:"byStartDateAsc",selected:!1},{code:"byStartDateDesc",selected:!1},{code:"byEndDateAsc",selected:!1},{code:"byEndDateDesc",selected:!1}]}ngOnInit(){this.couponResult$=this.couponService.getCustomerCoupons(this.PAGE_SIZE).pipe((0,He.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:this.sort})),this.couponsLoading$=this.couponService.getCustomerCouponsLoading(),this.couponSubscriptionLoading$=(0,S.aj)([this.couponService.getSubscribeCustomerCouponResultLoading(),this.couponService.getUnsubscribeCustomerCouponResultLoading()]).pipe((0,Te.U)(([r,l])=>r||l)),this.sortLabels=this.myCouponsComponentService.getSortLabels(),this.subscriptions.add(this.couponService.getSubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)})).add(this.couponService.getUnsubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)}))}subscriptionFail(r){r&&this.couponService.loadCustomerCoupons(this.PAGE_SIZE)}sortChange(r){this.sort=r,this.couponService.loadCustomerCoupons(this.PAGE_SIZE,this.pagination.currentPage,this.sortMapping[r])}pageChange(r){this.couponService.loadCustomerCoupons(this.PAGE_SIZE,r,this.sortMapping[this.sort])}notificationChange({couponId:r,notification:l}){l?this.couponService.subscribeCustomerCoupon(r):this.couponService.unsubscribeCustomerCoupon(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.KZK),e.Y36(fl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-my-coupons"]],decls:5,vars:4,consts:[[1,"cx-section"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[4,"ngIf"],["noCoupons",""],[1,"cx-my-coupons-header"],[1,"cx-my-coupons-sort","top","row"],[1,"cx-my-coupons-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination","cx-mycoupon-thead-mobile"],[3,"pagination","viewPageEvent"],["id","coupon-deck",1,"row","cx-coupon-deck"],["class","col-md-6 cx-coupon-card",4,"ngFor","ngForOf"],[1,"cx-my-coupons-sort","bottom","row"],[1,"cx-my-coupons-form-group","form-group","cx-mycoupon-thead-mobile","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination"],[1,"cx-my-coupons-notes"],[3,"type"],[3,"routerLink"],[1,"col-md-6","cx-coupon-card"],[3,"coupon","couponSubscriptionLoading$","notificationChanged"],[1,"cx-section-msg"],[1,"col-md-12","cx-coupon-spinner"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,zi,7,6,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Is,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&r){const C=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,l.couponsLoading$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,Ui,Ke.yS,yo,gi,nl,Zg,n.Ov,h.X$D],encapsulation:2}),a})(),zd=(()=>{class a{constructor(r,l){this.launchDialogService=r,this.el=l,this.subscription=new w.w,this.iconTypes=Kn,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.coupon=r.coupon}))}ngOnDestroy(){this.subscription?.unsubscribe()}close(r){this.launchDialogService.closeDialog(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Xi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)})},decls:36,vars:33,consts:[[1,"cx-coupon-dialog",3,"cxFocus","esc"],[1,"cx-coupon-container"],[1,"cx-dialog-header","modal-header"],[1,"cx-dialog-title","modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"cx-dialog-item","col-sm-12","col-md-12"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-description"],[1,"cx-coupon-dialog-date"],[1,"cx-coupon-date"],[1,"cx-coupon-dialog-status"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return l.close("Cross click")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._UZ(9,"cx-icon",6),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"span",11),e._uU(15),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",12),e._uU(19),e.qZA(),e.TgZ(20,"div",13)(21,"p"),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"div",14),e._uU(25),e.ALo(26,"cxDate"),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",15)(29,"p"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"div"),e.ALo(33,"lowercase"),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()()()()()),2&r&&(e.Q6J("cxFocus",l.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,15,"myCoupons.dialogTitle")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,17,"common.close")),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(6),e.Oqu(null==l.coupon?null:l.coupon.couponId),e.xp6(2),e.hij(": ",null==l.coupon?null:l.coupon.name,""),e.xp6(2),e.Oqu(null==l.coupon?null:l.coupon.description),e.xp6(3),e.Oqu(e.lcZ(23,19,"myCoupons.effectiveTitle")),e.xp6(3),e.AsE(" ",e.xi3(26,21,null==l.coupon?null:l.coupon.startDate,"medium")," - ",e.xi3(27,24,null==l.coupon?null:l.coupon.endDate,"medium")," "),e.xp6(5),e.Oqu(e.lcZ(31,27,"myCoupons.status")),e.xp6(2),e.Gre("cx-coupon-status ",e.lcZ(33,29,null==l.coupon?null:l.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(35,31,"myCoupons."+(null==l.coupon?null:l.coupon.status))," "))},dependencies:[yo,oi,n.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),Gf=(()=>{class a{constructor(r,l,C){this.couponService=r,this.routingService=l,this.messageService=C}ngOnInit(){this.routingService.getRouterState().subscribe(r=>{const l=r.state.params.couponCode;l?(this.couponService.claimCustomerCoupon(l),this.subscription=this.couponService.getClaimCustomerCouponResultSuccess().subscribe(C=>{C&&this.messageService.add({key:"myCoupons.claimCustomerCoupon"},h.xUg.MSG_TYPE_CONFIRMATION),this.routingService.go({cxRoute:"coupons"})})):this.routingService.go({cxRoute:"notFound"})}).unsubscribe()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.KZK),e.Y36(h.Znh),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-claim"]],decls:0,vars:0,template:function(r,l){},encapsulation:2}),a})();const Wd={launch:{COUPON:{inline:!0,component:zd,dialogType:ii.DIALOG}}};let Vf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyCouponsComponent:{component:Bf,guards:[h.a1M]},CouponClaimComponent:{component:Gf,guards:[h.a1M]}}}),(0,h.i51)(Wd)],imports:[n.ez,Tc,Bi,h.LUR,Ke.Bz,h.bhT,wr,Pn,Ke.Bz.forChild([{path:null,canActivate:[h.a1M,tr],component:fi,data:{cxRoute:"couponClaim"}}]),Qo]}),a})(),Ys=(()=>{class a{constructor(r,l,C){this.productInterestService=r,this.translationService=l,this.productService=C,this.DEFAULT_PAGE_SIZE=10,this.sortMapping={byNameAsc:"name:asc",byNameDesc:"name:desc"},this.sort="byNameAsc",this.sortOptions=[{code:"byNameAsc",selected:!1},{code:"byNameDesc",selected:!1}]}ngOnInit(){this.interests$=this.productInterestService.getAndLoadProductInterests(this.DEFAULT_PAGE_SIZE).pipe((0,He.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:"byNameAsc"}),(0,Te.U)(r=>({...r,results:r.results?r.results.map(l=>({...l,product$:this.getProduct(l)})):r.results}))),this.getInterestsloading$=this.productInterestService.getProdutInterestsLoading(),this.isRemoveDisabled$=(0,S.aj)([this.getInterestsloading$,this.productInterestService.getRemoveProdutInterestLoading()]).pipe((0,Te.U)(([r,l])=>r||l)),this.sortLabels=this.getSortLabels()}getSortLabels(){return(0,S.aj)([this.translationService.translate("myInterests.sorting.byNameAsc"),this.translationService.translate("myInterests.sorting.byNameDesc")]).pipe((0,Te.U)(([r,l])=>({byNameAsc:r,byNameDesc:l})))}getProduct(r){return this.productService.get(r.product?.code??"","details")}removeInterest(r){this.productInterestService.removeProdutInterest({product:r.product,productInterestEntry:r.productInterestEntry})}sortChange(r){this.sort=r,this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,0,this.sortMapping[r])}pageChange(r){this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,r,this.sortMapping[this.sort])}ngOnDestroy(){this.productInterestService.clearProductInterests(),this.productInterestService.resetRemoveInterestState()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.GO$),e.Y36(h.D7D),e.Y36(h.M52))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-my-interests"]],decls:6,vars:3,consts:[["class","container",4,"ngIf"],["noInterest",""],["loading",""],[1,"container"],[1,"cx-product-interests-title","h3"],["class","cx-product-interests-body",4,"ngIf","ngIfElse"],[1,"cx-product-interests-body"],["role","status"],[4,"ngIf","ngIfElse"],[1,"cx-product-interests-sort","top","row"],[1,"cx-product-interests-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","product-interests-table",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-product-interests-pagination","cx-product-interests-thead-mobile"],[3,"pagination","viewPageEvent"],["id","product-interests-table",1,"table","cx-product-interests-table"],[1,"cx-product-interests-thead-mobile"],["scope","col"],["class","cx-product-interests-product-item",4,"ngFor","ngForOf"],[1,"cx-product-interests-sort","bottom","row"],[1,"cx-product-interests-form-group","cx-product-interests-thead-mobile","form-group","col-sm-12","col-md-4","col-lg-4"],[1,"cx-product-interests-pagination"],[1,"cx-product-interests-product-item"],[4,"ngIf"],[1,"cx-product-interests-label"],["tabindex","-1",1,"cx-product-interests-product-image-link",3,"routerLink"],["format","thumbnail",3,"container"],[1,"cx-info","col-10"],[1,"cx-info-container","row"],["class","cx-name",4,"ngIf"],["class","cx-code",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-property",4,"ngIf"],[1,"cx-product-interests-product-price"],[1,"d-md-none","cx-product-interests-label"],[1,"cx-product-interests-subscriptions"],["class","cx-product-interests-notification",4,"ngFor","ngForOf"],[1,"cx-actions","cx-product-interests-remove-button"],["type","button",1,"link","cx-product-interests-remove-btn",3,"disabled","click"],[1,"cx-name"],[1,"cx-link","cx-product-interests-product-code-link",3,"routerLink"],[1,"cx-code"],["class","cx-property",4,"ngFor","ngForOf"],[1,"cx-property"],[1,"cx-label","cx-product-interests-variant-name"],[1,"cx-value","cx-product-interests-variant-value"],[1,"cx-label","cx-product-interests-product-stock"],[1,"cx-product-interests-notification"],[1,"cx-product-interests-type"],[1,"cx-product-interests-expiration-date"],[1,"cx-product-interests-message"],[1,"cx-spinner"]],template:function(r,l){1&r&&(e.YNc(0,aa,7,7,"div",0),e.ALo(1,"async"),e.YNc(2,Ps,3,3,"ng-template",null,1,e.W1O),e.YNc(4,cc,2,0,"ng-template",null,2,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.interests$))},dependencies:[n.sg,n.O5,gi,nl,$s,Ui,Ke.yS,n.Ov,h.X$D,h.dgE,h.l2T],encapsulation:2,changeDetection:0}),a})(),Hf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyInterestsComponent:{component:Ys,guards:[h.a1M]}}})],imports:[n.ez,h.LUR,Pn,h.LUR,h.bhT,rs,Bi,Ke.Bz.forChild([{path:null,canActivate:[h.a1M,tr],component:fi,data:{cxRoute:"myInterests"}}])]}),a})(),Yg=(()=>{class a{constructor(r){this.notificationPreferenceService=r,this.preferences=[]}ngOnInit(){this.notificationPreferenceService.resetNotificationPreferences(),this.preferences$=this.notificationPreferenceService.getPreferences().pipe((0,He.b)(r=>this.preferences=r)),this.notificationPreferenceService.loadPreferences(),this.isLoading$=(0,S.aj)([this.notificationPreferenceService.getPreferencesLoading(),this.notificationPreferenceService.getUpdatePreferencesResultLoading()]).pipe((0,Te.U)(([r,l])=>r||l))}updatePreference(r){const l=[];this.preferences.forEach(C=>{l.push(C.channel===r.channel?{...C,enabled:!C.enabled}:C)}),this.notificationPreferenceService.updatePreferences(l)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.xd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-notification-preference"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"row","d-flex","justify-content-center"],[1,"col-md-8"],[1,"pref-header"],[1,"form-check","cx-notification-channels"],[4,"ngFor","ngForOf"],[1,"pref-note"],["class","pref-channel",4,"ngIf"],[1,"pref-channel"],["role","checkbox","type","checkbox",1,"form-check-input","cx-np-checkbox",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-spinner"]],template:function(r,l){1&r&&(e.YNc(0,$l,4,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.preferences$))},dependencies:[n.sg,n.O5,Ui,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),zg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NotificationPreferenceComponent:{component:Yg,guards:[h.a1M]}}})],imports:[n.ez,Bi,h.LUR,Ke.Bz.forChild([{path:null,canActivate:[h.a1M,tr],component:fi,data:{cxRoute:"notificationPreference"}}])]}),a})(),$f=(()=>{class a{constructor(r,l,C){this.userPaymentService=r,this.translation=l,this.globalMessageService=C,this.iconTypes=Kn}ngOnInit(){this.paymentMethods$=this.userPaymentService.getPaymentMethods().pipe((0,He.b)(r=>{r.length>0&&!r.find(l=>l.defaultPayment)&&this.setDefaultPaymentMethod(r[0])})),this.editCard=void 0,this.loading$=this.userPaymentService.getPaymentMethodsLoading(),this.userPaymentService.loadPaymentMethods()}getCardContent({defaultPayment:r,accountHolderName:l,expiryMonth:C,expiryYear:M,cardNumber:se,cardType:rt}){return(0,S.aj)([this.translation.translate("paymentCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("paymentCard.deleteConfirmation"),this.translation.translate("paymentCard.expires",{month:C,year:M}),this.translation.translate("paymentCard.defaultPaymentMethod")]).pipe((0,Te.U)(([Lt,sn,zn,vi,bu])=>{const Tu=[];return r||Tu.push({name:Lt,event:"default"}),Tu.push({name:sn,event:"edit"}),{role:"region",header:r?bu:void 0,textBold:l,text:[se??"",vi],actions:Tu,deleteMsg:zn,img:this.getCardIcon(rt?.code??""),label:r?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"}}))}deletePaymentMethod(r){r.id&&(this.userPaymentService.deletePaymentMethod(r.id),this.editCard=void 0)}setEdit(r){this.editCard=r.id}cancelCard(){this.editCard=void 0}setDefaultPaymentMethod(r){this.userPaymentService.setPaymentMethodAsDefault(r.id??""),this.globalMessageService?.add({key:"paymentMessages.setAsDefaultSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION)}getCardIcon(r){let l;return l="visa"===r?this.iconTypes.VISA:"master"===r||"mastercard_eurocard"===r?this.iconTypes.MASTER_CARD:"diners"===r?this.iconTypes.DINERS_CLUB:"amex"===r?this.iconTypes.AMEX:this.iconTypes.CREDIT_CARD,l}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.TWG),e.Y36(h.D7D),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-payment-methods"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-payment","container"],[1,"cx-header"],[1,"cx-body"],[1,"cx-msg"],[4,"ngIf","ngIfElse"],["cards",""],["role","status"],[1,"cx-existing","row"],["class","cx-payment-card col-sm-12 col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"cx-payment-card","col-sm-12","col-md-12","col-lg-6"],[1,"cx-payment-inner"],[3,"index","border","fitToContainer","content","editMode","deleteCard","setDefaultCard","editCard","cancelCard"]],template:function(r,l){1&r&&(e.YNc(0,ca,14,10,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.paymentMethods$))},dependencies:[n.sg,n.O5,Ad,Ui,n.Ov,h.X$D],encapsulation:2}),a})(),Wg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountPaymentDetailsComponent:{component:$f,guards:[h.a1M]}}})],imports:[n.ez,Tc,Bi,h.LUR]}),a})(),Jg=(()=>{class a{constructor(r,l){this.component=r,this.pageMetaService=l}ngOnInit(){this.setTitle()}ngAfterViewInit(){this.lastestTitle$=this.title$}setTitle(){this.title$=this.pageMetaService.getMeta().pipe((0,it.h)(h.jWE),(0,Te.U)(r=>(r.heading||r.title)??""))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.deh))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-title"]],decls:3,vars:3,consts:[[1,"cx-visually-hidden"]],template:function(r,l){1&r&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"async"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,l.title$)))},dependencies:[n.Ov],encapsulation:2,changeDetection:0}),a})(),hl=(()=>{class a extends Jg{constructor(r,l,C){super(r,l),this.component=r,this.pageMetaService=l,this.translation=C}ngOnInit(){super.ngOnInit(),this.setCrumbs()}setCrumbs(){this.crumbs$=(0,S.aj)([this.pageMetaService.getMeta(),this.translation.translate("common.home")]).pipe((0,Te.U)(([r,l])=>r?.breadcrumbs?r.breadcrumbs:[{label:l,link:"/"}]))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.deh),e.Y36(h.D7D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-breadcrumb"]],features:[e.qOj],decls:12,vars:15,consts:[["tabindex","-1"],[4,"ngFor","ngForOf"],["aria-live","polite","aria-atomic","true",1,"cx-visually-hidden"],[3,"routerLink","innerHTML"]],template:function(r,l){1&r&&(e.TgZ(0,"nav",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"ol"),e.ALo(3,"cxTranslate"),e.YNc(4,Yl,3,8,"li",1),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"span",2),e._uU(7),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"h1"),e._uU(10),e.ALo(11,"async"),e.qZA()),2&r&&(e.uIk("aria-label",e.lcZ(1,5,"common.breadcrumbs")),e.xp6(2),e.uIk("aria-label",e.lcZ(3,7,"common.breadcrumbs")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,9,l.crumbs$)),e.xp6(3),e.hij(" ",e.lcZ(8,11,l.lastestTitle$),"\n"),e.xp6(3),e.Oqu(e.lcZ(11,13,l.title$)))},dependencies:[n.sg,Ke.yS,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Ic=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{BreadcrumbComponent:{component:hl}}})],imports:[n.ez,Ke.Bz,h.u3W,h.LUR]}),a})(),wc=(()=>{class a{constructor(r,l){this.cmsService=r,this.semanticPathService=l}createNavigation(r){return(0,S.aj)([r,this.getNavigationNode(r)]).pipe((0,Te.U)(([l,C])=>({title:l.name,children:[C]})))}getNavigationNode(r){return r?r.pipe((0,it.h)(l=>!!l),(0,we.w)(l=>{const C=l.navigationNode?l.navigationNode:l;return this.cmsService.getNavigationEntryItems(C.uid??"").pipe((0,He.b)(M=>{if(void 0===M)this.loadNavigationEntryItems(C,!0);else{const se=[];this.loadNavigationEntryItems(C,!1,se);const rt=Object.keys(M).map(sn=>M[sn].uid??""),Lt=se.filter(sn=>sn.id&&!rt.includes(sn.id));Lt.length>0&&this.cmsService.loadNavigationItems(C.uid??"",Lt)}}),(0,it.h)(Boolean),(0,Te.U)(M=>this.populateNavigationNode(C,M)??{}))})):(0,P.of)()}loadNavigationEntryItems(r,l,C=[]){r.entries&&r.entries.length>0&&r.entries.forEach(M=>{C.push({superType:M.itemSuperType,id:M.itemId})}),r.children&&r.children.length>0&&r.children.forEach(M=>this.loadNavigationEntryItems(M,!1,C)),l&&r.uid&&this.cmsService.loadNavigationItems(r.uid,C)}populateNavigationNode(r,l){const C={};if(r.title&&(C.title=r.title),r.styleClasses&&(C.styleClasses=r.styleClasses),r.styleAttributes&&(C.styleAttributes=r.styleAttributes),r.entries&&r.entries.length>0&&this.populateLink(C,r.entries[0],l),r.children?.length>0){const M=r.children.map(se=>this.populateNavigationNode(se,l)).filter(Boolean);M.length>0&&(C.children=M)}return 0===Object.keys(C).length?null:C}populateLink(r,l,C){const M=C[`${l.itemId}_${l.itemSuperType}`];if(M&&"CMSLinkComponent"===l.itemType){r.title||(r.title=M.linkName);const se=this.getLink(M);r.title&&se&&(r.url=se,("true"===M.target||!0===M.target)&&(r.target="_blank")),M.styleClasses&&(r.styleClasses=M.styleClasses),M.styleAttributes&&(r.styleAttributes=M.styleAttributes)}}getLink(r){return r.url?r.url:r.contentPageLabelOrId?r.contentPageLabelOrId:r.categoryCode?this.semanticPathService.transform({cxRoute:"category",params:{code:r.categoryCode,name:r.name}}):r.productCode?this.semanticPathService.transform({cxRoute:"product",params:{code:r.productCode,name:r.name}}):void 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ctt),e.LFG(h.hCH))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),zs=(()=>{class a{constructor(r,l,C,M,se){this.router=r,this.renderer=l,this.elemRef=C,this.hamburgerMenuService=M,this.winRef=se,this.iconType=Kn,this.flyout=!0,this.isOpen=!1,this.openNodes=[],this.subscriptions=new w.w,this.resize=new e.vpe,this.subscriptions.add(this.router.events.pipe((0,it.h)(rt=>rt instanceof Ke.m2)).subscribe(()=>this.clear())),this.subscriptions.add(this.resize.pipe((0,Xt.b)(50)).subscribe(()=>{this.alignWrappersToRightIfStickOut()}))}onResize(){this.resize.next()}ngOnInit(){this.resetMenuOnClose&&this.resetOnMenuCollapse()}resetOnMenuCollapse(){this.subscriptions.add(this.hamburgerMenuService?.isExpanded.pipe((0,Ce.x)(),(0,it.h)(Boolean)).subscribe(()=>{this.reinitializeMenu()}))}closeIfClickedTheSameLink(r){"string"==typeof r.url&&this.winRef.nativeWindow?.location.href.includes(r.url)&&(this.elemRef.nativeElement.querySelectorAll("li.is-open:not(.back), li.is-opened").forEach(l=>{this.renderer.removeClass(l,"is-open"),this.renderer.removeClass(l,"is-opened")}),this.reinitializeMenu(),this.hamburgerMenuService.toggle())}reinitializeMenu(){this.openNodes?.length>0&&(this.clear(),this.renderer.removeClass(this.elemRef.nativeElement,"is-open"))}ariaCollapseNodes(){this.openNodes.forEach(r=>{Array.from(r.children).filter(l=>"BUTTON"===l?.tagName).forEach(l=>{this.renderer.setAttribute(l,"aria-expanded","false")})})}toggleOpen(r){"keydown"===r.type&&r.preventDefault(),this.ariaCollapseNodes();const l=r.currentTarget,C=l.parentNode;this.openNodes.includes(C)?"keydown"===r.type?this.back():(this.openNodes=this.openNodes.filter(M=>M!==C),this.renderer.removeClass(C,"is-open")):(this.openNodes.push(C),this.renderer.setAttribute(l,"aria-expanded","true")),this.updateClasses(),r.stopImmediatePropagation(),r.stopPropagation()}back(){this.openNodes[this.openNodes.length-1]&&(this.renderer.removeClass(this.openNodes[this.openNodes.length-1],"is-open"),this.openNodes.pop(),this.updateClasses())}clear(){this.openNodes=[],this.updateClasses()}onMouseEnter(r){this.alignWrapperToRightIfStickOut(r.currentTarget),this.focusAfterPreviousClicked(r)}getTotalDepth(r,l=0){return r.children&&r.children.length>0?Math.max(...r.children.map(C=>this.getTotalDepth(C,l+1))):l}getColumnCount(r){return Math.round(r/(this.wrapAfter||r))}focusAfterPreviousClicked(r){const l=r.target||r.relatedTarget;return l.ownerDocument.activeElement?.matches("nav[tabindex]")&&l.parentElement?.matches(".flyout")&&l.focus(),l.ownerDocument}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}alignWrapperToRightIfStickOut(r){const l=r.querySelector(".wrapper"),C=r.closest("body");l&&(this.renderer.removeStyle(l,"margin-left"),l.offsetLeft+l.offsetWidth>C.offsetLeft+C.offsetWidth&&this.renderer.setStyle(l,"margin-left",r.offsetWidth-l.offsetWidth+"px"))}alignWrappersToRightIfStickOut(){Array.from(this.elemRef.nativeElement.childNodes).filter(l=>"LI"===l.tagName).forEach(l=>this.alignWrapperToRightIfStickOut(l))}updateClasses(){this.openNodes.forEach((r,l)=>{l+1<this.openNodes.length?(this.renderer.addClass(r,"is-opened"),this.renderer.removeClass(r,"is-open")):(this.renderer.removeClass(r,"is-opened"),this.renderer.addClass(r,"is-open"))}),this.isOpen=this.openNodes.length>0}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ke.F0),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(jd),e.Y36(h.X9E))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-navigation-ui"]],hostVars:4,hostBindings:function(r,l){1&r&&e.NdJ("resize",function(){return l.onResize()},!1,e.Jf7),2&r&&e.ekj("flyout",l.flyout)("is-open",l.isOpen)},inputs:{node:"node",wrapAfter:"wrapAfter",resetMenuOnClose:"resetMenuOnClose",navAriaLabel:"navAriaLabel",flyout:"flyout",isOpen:"isOpen"},decls:6,vars:3,consts:[["class","back is-open",4,"ngIf"],[4,"ngFor","ngForOf"],["nav",""],[1,"back","is-open"],[3,"click"],[3,"type"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"url","target","style","class","click",4,"ngIf","ngIfElse"],["heading",""],["class","wrapper",4,"ngIf"],[3,"url","target","click"],[4,"ngIf","ngIfElse"],["title",""],[3,"url","target","click",4,"ngIf"],[3,"click","mouseenter","keydown.space","keydown.esc"],[4,"ngIf"],[1,"wrapper"],[1,"childs"]],template:function(r,l){if(1&r&&(e.TgZ(0,"nav")(1,"ul"),e.YNc(2,Yc,5,4,"li",0),e.YNc(3,ua,2,4,"ng-container",1),e.qZA()(),e.YNc(4,k,5,3,"ng-template",null,2,e.W1O)),2&r){let C;e.uIk("aria-label",l.navAriaLabel),e.xp6(2),e.Q6J("ngIf",l.flyout&&(null!==(C=null==l.node||null==l.node.children?null:l.node.children.length)&&void 0!==C?C:0)>1),e.xp6(1),e.Q6J("ngForOf",null==l.node?null:l.node.children)}},dependencies:[n.sg,n.O5,n.tP,yo,_u,h.X$D],encapsulation:2,changeDetection:0}),a})(),gl=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.getNavigationNode(this.componentData.data$),this.data$=this.componentData.data$}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(wc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-category-navigation"]],decls:2,vars:3,consts:[[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel",4,"ngIf"],[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel"]],template:function(r,l){1&r&&(e.YNc(0,Y,3,9,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[n.mk,n.O5,zs,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),ml=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.createNavigation(this.componentData.data$),this.name$=this.componentData.data$.pipe((0,Te.U)(C=>C?.navigationNode?.title)),this.styleClass$=this.componentData.data$.pipe((0,Te.U)(C=>C?.styleClass))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(wc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-navigation"]],decls:4,vars:9,consts:[[3,"node","ngClass","navAriaLabel"]],template:function(r,l){if(1&r&&(e._UZ(0,"cx-navigation-ui",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async")),2&r){let C;e.Q6J("node",e.lcZ(1,3,l.node$))("ngClass",null!==(C=e.lcZ(2,5,l.styleClass$))&&void 0!==C?C:"")("navAriaLabel",e.lcZ(3,7,l.name$))}},dependencies:[n.mk,zs,n.Ov],encapsulation:2,changeDetection:0}),a})(),vl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NavigationComponent:{component:ml}}})],imports:[n.ez,Ke.Bz,wr,el,h.LUR]}),a})(),jf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CategoryNavigationComponent:{component:gl,data:{resetMenuOnClose:!0}}}})],imports:[n.ez,vl,h.LUR]}),a})(),Rc=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.getNavigationNode(this.componentData.data$),this.styleClass$=this.componentData.data$.pipe((0,Te.U)(C=>C?.styleClass))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(wc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-footer-navigation"]],decls:2,vars:3,consts:[[3,"node","flyout","ngClass","navAriaLabel",4,"ngIf"],[3,"node","flyout","ngClass","navAriaLabel"]],template:function(r,l){1&r&&(e.YNc(0,E,3,8,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.node$))},dependencies:[n.mk,n.O5,zs,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Jd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{FooterNavigationComponent:{component:Rc}}})],imports:[n.ez,Ke.Bz,vl,el,h.LUR]}),a})(),Yf=(()=>{class a{transform(r,l){return l?r.replace(l.trim(),`<span class="highlight">${l.trim()}</span>`):r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=e.Yjl({name:"cxHighlight",type:a,pure:!0}),a})(),Fv=(()=>{class a extends h.W8x{}return a.type="SearchBoxSuggestionSelectedEvent",a})(),kv=(()=>{class a extends h.W8x{}return a.type="SearchBoxProductSelectedEvent",a})();const Kg="has-searchbox-results";let os=(()=>{class a{constructor(r,l,C,M,se){this.searchService=r,this.routingService=l,this.translationService=C,this.winRef=M,this.eventService=se}search(r,l){r&&""!==r?l.minCharactersBeforeRequest&&r.length<l.minCharactersBeforeRequest||(l.displayProducts&&this.searchService.search(r,{pageSize:l.maxProducts}),l.displaySuggestions&&this.searchService.searchSuggestions(r,{pageSize:l.maxSuggestions})):this.clearResults()}getResults(r){return(0,S.aj)([this.getProductResults(r),this.getProductSuggestions(r),this.getSearchMessage(r)]).pipe((0,Te.U)(([l,C,M])=>({products:l?l.products:void 0,suggestions:C,message:M})),(0,He.b)(l=>this.toggleBodyClass(Kg,this.hasResults(l))))}clearResults(){this.searchService.clearResults(),this.toggleBodyClass(Kg,!1)}hasBodyClass(r){return this.winRef.document.body.classList.contains(r)}toggleBodyClass(r,l){void 0===l?this.winRef.document.body.classList.toggle(r):l?this.winRef.document.body.classList.add(r):this.winRef.document.body.classList.remove(r)}dispatchProductSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,productCode:r.productCode},kv)}dispatchSuggestionSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,selectedSuggestion:r.selectedSuggestion,searchSuggestions:r.searchSuggestions},Fv)}hasResults(r){return!!r.products&&r.products.length>0||!!r.suggestions&&r.suggestions.length>0||!!r.message}getProductResults(r){return r.displayProducts?this.searchService.getResults():(0,P.of)({})}getProductSuggestions(r){return r.displaySuggestions?this.searchService.getSuggestionResults().pipe((0,Te.U)(l=>l.map(C=>C.value).filter(h.pTN)),(0,we.w)(l=>0===l.length?this.getExactSuggestion(r).pipe((0,Te.U)(C=>C?[C]:[])):(0,P.of)(l))):(0,P.of)([])}getExactSuggestion(r){return this.getProductResults(r).pipe((0,we.w)(l=>l.products&&l.products.length>0?this.fetchTranslation("searchBox.help.exactMatch",{term:l.freeTextSearch}):(0,P.of)(void 0)))}getSearchMessage(r){return(0,S.aj)([this.getProductResults(r),this.getProductSuggestions(r)]).pipe((0,we.w)(([l,C])=>l&&l.products&&0===l.products.length&&C&&0===C.length?this.fetchTranslation("searchBox.help.noMatch"):(0,P.of)(void 0)))}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:r}})}fetchTranslation(r,l){return this.translationService.translate(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.qI3),e.LFG(h.Znh),e.LFG(h.D7D),e.LFG(h.X9E),e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Qg={minCharactersBeforeRequest:1,displayProducts:!0,displaySuggestions:!0,maxProducts:5,maxSuggestions:5,displayProductImages:!0};let zf=(()=>{class a{constructor(r,l,C,M){this.searchBoxComponentService=r,this.componentData=l,this.winRef=C,this.routingService=M,this.iconTypes=Kn,this.ignoreCloseEvent=!1,this.chosenWord="",this.config$=(this.componentData?.data$||(0,P.of)({})).pipe((0,Te.U)(se=>{const rt=(Lt,sn)=>"false"!==Lt[sn]&&!1!==Lt[sn];return{...Qg,...se,displayProducts:rt(se,"displayProducts"),displayProductImages:rt(se,"displayProductImages"),displaySuggestions:rt(se,"displaySuggestions"),...this.config}}),(0,He.b)(se=>this.config=se)),this.results$=this.config$.pipe((0,we.w)(se=>this.searchBoxComponentService.getResults(se)))}set queryText(r){r&&this.search(r)}ngOnInit(){this.subscription=this.routingService.getRouterState().pipe((0,it.h)(r=>!r.nextState)).subscribe(r=>{"search"===r.state.context?.id&&r.state.context?.type===h.GV4.CONTENT_PAGE||(this.chosenWord="")})}search(r){this.searchBoxComponentService.search(r,this.config),this.open()}open(){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!0)}dispatchSuggestionEvent(r){this.searchBoxComponentService.dispatchSuggestionSelectedEvent(r)}dispatchProductEvent(r){this.searchBoxComponentService.dispatchProductSelectedEvent(r)}close(r,l){setTimeout(()=>{(!this.ignoreCloseEvent&&!this.isSearchBoxFocused()||l)&&this.blurSearchBox(r)})}blurSearchBox(r){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!1),r&&r.target&&r.target.blur()}isSearchBoxFocused(){return this.getResultElements().includes(this.getFocusedElement())||this.winRef.document.querySelector('input[aria-label="Search"]')===this.getFocusedElement()}avoidReopen(r){this.searchBoxComponentService.hasBodyClass("searchbox-is-active")&&(this.close(r),r.preventDefault())}getResultElements(){return Array.from(this.winRef.document.querySelectorAll(".products > li a, .suggestions > li a"))}getFocusedElement(){return this.winRef.document.activeElement}updateChosenWord(r){this.chosenWord=r}getFocusedIndex(){return this.getResultElements().indexOf(this.getFocusedElement())}focusPreviousChild(r){r.preventDefault();const[l,C]=[this.getResultElements(),this.getFocusedIndex()];l.length&&(C<1?l[l.length-1].focus():l[C-1].focus())}focusNextChild(r){this.open(),r.preventDefault();const[l,C]=[this.getResultElements(),this.getFocusedIndex()];l.length&&(C>=l.length-1?l[0].focus():l[C+1].focus())}launchSearchResult(r,l){!l||0===l.trim().length||(this.close(r),this.searchBoxComponentService.launchSearchPage(l))}disableClose(){this.ignoreCloseEvent=!0}preventDefault(r){r.preventDefault()}clear(r){this.disableClose(),r.value="",this.searchBoxComponentService.clearResults(),setTimeout(()=>{r.focus(),this.ignoreCloseEvent=!1})}ngOnDestroy(){this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(os),e.Y36(uo,8),e.Y36(h.X9E),e.Y36(h.Znh))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-searchbox"]],inputs:{config:"config",queryText:"queryText"},decls:17,vars:24,consts:[["role","search"],[1,"searchbox"],["autocomplete","off","aria-describedby","initialDescription","aria-controls","results",3,"placeholder","value","focus","click","input","blur","keydown.escape","keydown.enter","keydown.arrowup","keydown.arrowdown"],["searchInput",""],[1,"reset",3,"mousedown","keydown.enter"],[3,"type"],["role","presentation",1,"search-icon"],[1,"search",3,"click"],["class","results","id","results","role","dialog",3,"click",4,"ngIf"],["id","results","role","dialog",1,"results",3,"click"],["class","message",3,"innerHTML",4,"ngIf"],["role","listbox",1,"suggestions"],[4,"ngFor","ngForOf"],["class","products","role","listbox",4,"ngIf"],["id","initialDescription",1,"cx-visually-hidden"],["aria-live","assertive","class","cx-visually-hidden",4,"ngIf"],[1,"message",3,"innerHTML"],["role","option",3,"innerHTML","routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["role","listbox",1,"products"],["role","option",3,"routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["format","thumbnail","role","presentation",3,"container",4,"ngIf"],[1,"name",3,"innerHTML"],[1,"price"],["format","thumbnail","role","presentation",3,"container"],["aria-live","assertive",1,"cx-visually-hidden"]],template:function(r,l){if(1&r){const C=e.EpF();e.TgZ(0,"div",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"label",1)(3,"input",2,3),e.NdJ("focus",function(){return l.open()})("click",function(){return l.open()})("input",function(){e.CHM(C);const se=e.MAs(4);return e.KtG(l.search(se.value))})("blur",function(se){return l.close(se)})("keydown.escape",function(se){return l.close(se)})("keydown.enter",function(se){e.CHM(C);const rt=e.MAs(4);return l.close(se,!0),l.launchSearchResult(se,rt.value),e.KtG(l.updateChosenWord(rt.value))})("keydown.arrowup",function(se){return l.focusPreviousChild(se)})("keydown.arrowdown",function(se){return l.focusNextChild(se)}),e.ALo(5,"cxTranslate"),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("mousedown",function(){e.CHM(C);const se=e.MAs(4);return e.KtG(l.clear(se))})("keydown.enter",function(){e.CHM(C);const se=e.MAs(4);return e.KtG(l.clear(se))}),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-icon",5),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"cx-icon",5),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return l.open()}),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-icon",5),e.qZA()()(),e.YNc(15,Co,10,10,"div",8),e.ALo(16,"async")}if(2&r){const C=e.MAs(4);e.uIk("aria-label",e.lcZ(1,12,"searchBox.productSearch")),e.xp6(2),e.ekj("dirty",!!C.value),e.xp6(1),e.s9C("value",l.chosenWord),e.Q6J("placeholder",e.lcZ(5,14,"searchBox.placeholder")),e.uIk("aria-label",e.lcZ(6,16,"searchBox.placeholder")),e.xp6(4),e.uIk("aria-label",e.lcZ(8,18,"common.reset")),e.xp6(2),e.Q6J("type",l.iconTypes.RESET),e.xp6(2),e.Q6J("type",l.iconTypes.SEARCH),e.xp6(1),e.uIk("aria-label",e.lcZ(13,20,"common.search")),e.xp6(2),e.Q6J("type",l.iconTypes.SEARCH),e.xp6(1),e.Q6J("ngIf",e.lcZ(16,22,l.results$))}},dependencies:[n.sg,n.O5,Ke.yS,$s,yo,n.Ov,h.l2T,h.X$D,Yf],encapsulation:2,changeDetection:0}),a})(),Wf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SearchBoxComponent:{component:zf}}})],imports:[n.ez,Ke.Bz,rs,wr,h.bhT,h.LUR]}),a})(),Jf=(()=>{class a{constructor(r,l,C,M,se,rt,Lt){this.productSearchService=r,this.routing=l,this.activatedRoute=C,this.currencyService=M,this.languageService=se,this.router=rt,this.config=Lt,this.RELEVANCE_ALLCATEGORIES=":relevance:allCategories:",this.searchResults$=this.productSearchService.getResults().pipe((0,it.h)(sn=>Object.keys(sn).length>0)),this.searchByRouting$=(0,S.aj)([this.routing.getRouterState().pipe((0,Ce.x)((sn,zn)=>sn.state.url===zn.state.url)),...this.siteContext]).pipe((0,Xt.b)(0),(0,Te.U)(([sn,...zn])=>sn.state),(0,He.b)(sn=>{const zn=this.getCriteriaFromRoute(sn.params,sn.queryParams);this.search(zn)})),this.model$=(0,Ye.g)(()=>this.searchByRouting$.subscribe(),()=>this.searchResults$).pipe((0,Ae.d)({bufferSize:1,refCount:!0}))}getCriteriaFromRoute(r,l){return{query:l.query||this.getQueryFromRouteParams(r),pageSize:l.pageSize||this.config.view?.defaultPageSize,currentPage:l.currentPage,sortCode:l.sortCode}}getQueryFromRouteParams({query:r,categoryCode:l,brandCode:C}){return r||(l?this.RELEVANCE_ALLCATEGORIES+l:C?this.RELEVANCE_ALLCATEGORIES+C:void 0)}search(r){const l=r.currentPage,C=r.pageSize,M=r.sortCode;this.productSearchService.search(r.query,Object.assign({},l&&{currentPage:l},C&&{pageSize:C},M&&{sort:M}))}getPageItems(r){this.routing.getRouterState().subscribe(l=>{const M={...this.getCriteriaFromRoute(l.state.params,l.state.queryParams),currentPage:r};this.search(M)}).unsubscribe()}sort(r){this.route({sortCode:r})}route(r){this.router.navigate([],{queryParams:r,queryParamsHandling:"merge",relativeTo:this.activatedRoute})}get siteContext(){return[this.languageService.getActive(),this.currencyService.getActive()]}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ji5),e.LFG(h.Znh),e.LFG(Ke.gz),e.LFG(h.ieQ),e.LFG(h.TSl),e.LFG(Ke.F0),e.LFG(pl))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var _s=(()=>{return(a=_s||(_s={})).Grid="grid",a.List="list",_s;var a})();let Kf=(()=>{class a{constructor(){this.iconTypes=Kn,this.modeChange=new e.vpe}get buttonClass(){return`cx-product-${this.viewMode?.toLowerCase()}`}get viewMode(){return"list"===this.mode?this.iconTypes.GRID:this.iconTypes.LIST}changeMode(){this.modeChange.emit(this.mode===_s.Grid?_s.List:_s.Grid)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-view"]],inputs:{mode:"mode"},outputs:{modeChange:"modeChange"},decls:5,vars:8,consts:[["tabindex","0",1,"btn","cx-product-layout",3,"ngClass","click"],[3,"type",4,"ngIf"],[3,"type"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.changeMode()}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e.YNc(3,di,1,1,"cx-icon",1),e.YNc(4,Ro,1,1,"cx-icon",1),e.qZA()),2&r&&(e.Q6J("ngClass",l.buttonClass),e.uIk("aria-label",l.viewMode===l.iconTypes.GRID?e.lcZ(1,4,"productView.gridView"):l.viewMode===l.iconTypes.LIST?e.lcZ(2,6,"productView.listView"):null),e.xp6(3),e.Q6J("ngIf",l.viewMode===l.iconTypes.GRID),e.xp6(1),e.Q6J("ngIf",l.viewMode===l.iconTypes.LIST))},dependencies:[n.mk,n.O5,yo,h.X$D],encapsulation:2,changeDetection:0}),a})();var Pc=(()=>{return(a=Pc||(Pc={})).INTRO="PDP.INTRO",a.PRICE="PDP.PRICE",a.SHARE="PDP.SHARE",a.SUMMARY="PDP.SUMMARY",Pc;var a})(),Wa=(()=>{return(a=Wa||(Wa={})).ITEM_ACTIONS="cx-product-list-item.actions",a.ITEM_DETAILS="cx-product-list-item.details",Wa;var a})();let Ja=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Cs=(()=>{class a extends Ja{constructor(){super(...arguments),this.product$=new Z.t(1)}}return a.\u0275fac=function(){let _;return function(l){return(_||(_=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Qf=(()=>{class a{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=Wa}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Cs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-list-item"]],inputs:{product:"product"},features:[e._Bn([Cs,{provide:Ja,useExisting:Cs}]),e.TTD],decls:17,vars:23,consts:[[1,"row"],[1,"col-12","col-md-4"],[1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"col-12","col-md-8"],[1,"cx-product-name",3,"routerLink"],[3,"innerHtml"],[3,"cxOutlet"],[1,"col-12","col-md-7","col-xl-7"],[1,"cx-product-summary",3,"innerHtml"],[1,"col-12","col-md-5","col-xl-5"],[3,"rating",4,"ngIf"],["class","cx-product-no-review",4,"ngIf"],[1,"cx-product-price"],[3,"rating"],[1,"cx-product-no-review"],["cxInnerComponentsHost",""]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.ALo(3,"cxTranslate"),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",3),e.qZA()(),e.TgZ(6,"div",4)(7,"a",5),e.ALo(8,"cxUrl"),e._UZ(9,"h2",6),e.qZA(),e.YNc(10,Bh,5,6,"ng-template",7),e.TgZ(11,"div",0)(12,"div",8)(13,"p",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,Jc,1,0,"ng-template",7),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("routerLink",e.lcZ(4,13,e.VKq(17,wo,l.product))),e.uIk("aria-label",null!=l.product.images&&l.product.images.hasOwnProperty("PRIMARY")?void 0:e.xi3(3,10,"productDetails.noProductImage",e.VKq(19,Kc,l.product.name))),e.xp6(3),e.Q6J("container",null==l.product.images?null:l.product.images.PRIMARY)("alt",l.product.name||l.product.summary),e.xp6(2),e.Q6J("routerLink",e.lcZ(8,15,e.VKq(21,wo,l.product))),e.xp6(2),e.Q6J("innerHtml",l.product.nameHtml,e.oJD),e.xp6(1),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_DETAILS),e.xp6(3),e.Q6J("innerHtml",l.product.summary,e.oJD),e.xp6(1),e.hij(" ",l.product.summary," "),e.xp6(2),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_ACTIONS))},dependencies:[n.O5,$s,ki,pu,Ke.yS,Fd,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),Qd=(()=>{class a{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=Wa}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Cs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-grid-item"]],inputs:{product:"product"},features:[e._Bn([Cs,{provide:Ja,useExisting:Cs}]),e.TTD],decls:7,vars:15,consts:[["tabindex","-1",1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"cx-product-name",3,"routerLink","innerHTML"],[3,"cxOutlet"],[1,"cx-product-rating"],[3,"rating",4,"ngIf"],[4,"ngIf"],[1,"cx-product-price-container"],[1,"cx-product-price"],[3,"rating"],["cxInnerComponentsHost",""]],template:function(r,l){1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.qZA(),e._UZ(3,"a",2),e.ALo(4,"cxUrl"),e.YNc(5,Cp,7,6,"ng-template",3),e.YNc(6,Vh,1,0,"ng-template",3)),2&r&&(e.Q6J("routerLink",e.lcZ(1,7,e.VKq(11,wo,l.product))),e.xp6(2),e.Q6J("container",null==l.product.images?null:l.product.images.PRIMARY)("alt",l.product.summary),e.xp6(1),e.Q6J("routerLink",e.lcZ(4,9,e.VKq(13,wo,l.product)))("innerHTML",l.product.nameHtml,e.oJD),e.xp6(2),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_DETAILS),e.xp6(1),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_ACTIONS))},dependencies:[n.O5,$s,ki,pu,Ke.yS,Fd,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),qd=(()=>{class a{constructor(r,l){this.productListComponentService=r,this.ref=l,this.subscription=new w.w,this.ViewModes=_s,this.appendProducts=!1,this.resetList=!1,this.isMaxProducts=!1,this.isLastPage=!1,this.isEmpty=!1}set setConfig(r){this.setComponentConfigurations(r)}set setModel(r){this.infiniteScrollOperations(r)}set setViewMode(r){this.inputViewMode=r,this.viewMode?this.resetListOnViewModeChange():this.viewMode=r}scrollPage(r){this.appendProducts=!0,this.ref.markForCheck(),this.productListComponentService.getPageItems(r)}loadNextPage(r){this.isMaxProducts=!1,this.scrollPage(r)}scrollToTop(){window.scroll(0,0)}setComponentConfigurations(r){const l=r.view?.infiniteScroll?.showMoreButton,C=r.view?.infiniteScroll?.productLimit;this.productLimit=l?1:C}infiniteScrollOperations(r){this.appendProducts?this.model={...r,products:this.model.products?.concat(r.products??[])}:(this.model=r,this.maxProducts=this.productLimit),this.setConditions(),this.ref.markForCheck()}resetListOnViewModeChange(){this.scrollToTop(),this.resetList=!0,this.productListComponentService.getPageItems(0)}setConditions(){this.isEmpty=!this.model.products||0===this.model.products.length,this.isLastPage=this.model.pagination?.currentPage===(this.model.pagination?.totalPages??0)-1,this.model.products&&(this.isMaxProducts=void 0!==this.productLimit&&0!==this.productLimit&&this.model.products.length>=(this.maxProducts??0),this.isMaxProducts&&(this.maxProducts=this.model.products.length+(this.productLimit??0))),this.viewMode!==this.inputViewMode&&(this.viewMode=this.inputViewMode),this.resetList=!1,this.appendProducts=!1}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Jf),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-scroll"]],inputs:{setConfig:["scrollConfig","setConfig"],setModel:["model","setModel"],setViewMode:["inputViewMode","setViewMode"]},decls:2,vars:2,consts:[[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[1,"row"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[3,"className"],["class","btn btn-block btn-action",3,"click",4,"ngIf"],["class","btn btn-block btn-action align-btn",3,"click",4,"ngIf"],["class","cx-spinner",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],[1,"btn","btn-block","btn-action",3,"click"],[1,"btn","btn-block","btn-action","align-btn",3,"click"],[1,"cx-spinner"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"]],template:function(r,l){1&r&&(e.YNc(0,ao,8,8,"ng-container",0),e.YNc(1,Hh,7,8,"ng-container",0)),2&r&&(e.Q6J("ngIf",l.viewMode===l.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",l.viewMode===l.ViewModes.List))},dependencies:[n.sg,n.O5,yt,Ui,Qf,Qd,h.X$D],encapsulation:2}),a})(),_l=(()=>{class a{constructor(r,l,C,M){this.pageLayoutService=r,this.productListComponentService=l,this.globalMessageService=C,this.scrollConfig=M,this.subscription=new w.w,this.model$=this.productListComponentService.model$,this.viewMode$=new F.X(_s.Grid),this.ViewModes=_s}ngOnInit(){this.isInfiniteScroll=this.scrollConfig.view?.infiniteScroll?.active,this.subscription.add(this.pageLayoutService.templateName$.pipe((0,Me.q)(1)).subscribe(r=>{this.viewMode$.next("ProductGridPageTemplate"===r?_s.Grid:_s.List)})),this.subscription.add((0,S.aj)([this.model$,this.viewMode$]).pipe((0,Vt.T)(1),(0,it.h)(([r,l])=>!!r&&!!l)).subscribe(()=>this.globalMessageService.add({key:"sorting.pageViewUpdated"},h.xUg.MSG_TYPE_ASSISTIVE,500)))}sortList(r){this.productListComponentService.sort(r)}setViewMode(r){this.viewMode$.next(r)}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Wp),e.Y36(Jf),e.Y36(h.IWp),e.Y36(pl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-list"]],decls:2,vars:3,consts:[["class","cx-page",4,"ngIf"],[1,"cx-page"],["tabindex","-1",1,"cx-page-section"],[1,"container"],[1,"row"],["class","col-12 col-lg-12",4,"ngIf"],[1,"col-12","col-lg-12"],[1,"cx-sorting","top"],[1,"form-group","cx-sort-dropdown","col-12","col-lg-4","mr-auto"],["ariaControls","product-results-list",3,"sortOptions","selectedOption","ariaLabel","placeholder","sortListEvent"],["class","col-auto",4,"ngIf"],[1,"col-auto","ml-auto","ml-lg-0"],[3,"mode","modeChange"],["id","product-results-list",1,"cx-product-container"],[4,"ngIf","ngIfElse"],["infiniteScroll",""],[1,"cx-sorting","bottom"],[1,"col-auto"],[1,"cx-pagination"],["queryParam","currentPage",3,"pagination","defaultPage"],[4,"ngIf"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"],[3,"scrollConfig","model","inputViewMode"]],template:function(r,l){1&r&&(e.YNc(0,qc,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.model$))},dependencies:[n.sg,n.O5,gi,nl,Qf,Qd,Kf,qd,n.Ov,h.X$D],encapsulation:2}),a})();var Ea=(()=>{return(a=Ea||(Ea={})).EXPANDED="EXPANDED",a.COLLAPSED="COLLAPSED",Ea;var a})();let Xg=(()=>{class a{constructor(r,l){this.routing=r,this.productListComponentService=l,this.routeState$=this.routing.getRouterState().pipe((0,qe.j)("state")),this.searchResult$=this.routeState$.pipe((0,we.w)(C=>this.productListComponentService.model$.pipe((0,it.h)(M=>this.filterForPage(C,M)),(0,Te.U)(M=>({...M,breadcrumbs:this.filterBreadcrumbs(M?.breadcrumbs??[],C.params)}))))),this.facetList$=this.searchResult$.pipe((0,Te.U)(C=>({facets:C.facets,activeFacets:C.breadcrumbs})))}filterForPage(r,l){return!!l.currentQuery?.query?.value&&(r.context.type===h.GV4.CATEGORY_PAGE?l.currentQuery.query.value.indexOf(`allCategories:${r.context.id}`)>-1:r.context.type===h.GV4.CONTENT_PAGE&&"search"===r.context.id&&l.freeTextSearch===r.params.query.split(":")[0])}filterBreadcrumbs(r,l){return r?r.filter(C=>!("allCategories"===C.facetCode&&(C.facetValueCode===l.categoryCode||C.facetValueCode===l.brandCode))):[]}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(Jf))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Oc=(()=>{class a{constructor(r){this.productFacetService=r,this.facetState=new Map,this.codec=new Bn.mL,this.facetList$=this.productFacetService.facetList$.pipe((0,He.b)(l=>{l.facets?.forEach(C=>this.initialize(C))}))}getState(r){return this.initialize(r),r.name?this.facetState.get(r.name)??(0,P.of)({}):(0,P.of)({})}getStateSnapshot(r){return this.getState(r).value}toggle(r,l){const C=this.getStateSnapshot(r),M={toggled:l?Ea.COLLAPSED:Ea.EXPANDED};M.toggled===Ea.COLLAPSED&&(M.maxVisible=C.topVisible),this.updateState(r,M)}increaseVisibleValues(r){this.updateState(r,{maxVisible:r.values?.length})}decreaseVisibleValues(r){this.updateState(r,{maxVisible:r.topValueCount})}initialize(r){const l=r.topValueCount&&r.topValueCount>0?r.topValueCount:r.values?.length||0;r.name&&!this.hasState(r)&&this.facetState.set(r.name,new F.X({topVisible:l,maxVisible:l}))}updateState(r,l){const C={...this.getStateSnapshot(r),...l};r.name&&this.facetState.get(r.name)?.next(C)}hasState(r){return!!r.name&&this.facetState.has(r.name)}getLinkParams(r){return{query:this.codec.decodeValue(this.decodeUriComponentSafe(r)).replace(/\+/g," ")}}decodeUriComponentSafe(r){return r.replace(/%(?![0-9a-fA-F]{2})/g,"%25")}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Xg))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),qf=(()=>{class a{constructor(r){this.facetService=r,this.facetList$=this.facetService.facetList$,this.closeIcon=Kn.CLOSE}getLinkParams(r){return this.facetService.getLinkParams(r.removeQuery?.query?.value??"")}getFocusKey(r,l){return r.facets?.find(C=>C.values?.find(M=>M.name===l.facetValueName))?"":l.facetValueName}removeFilterWithSpacebar(r){r?.preventDefault(),r?.target?.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Oc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-active-facets"]],inputs:{closeIcon:"closeIcon"},decls:2,vars:3,consts:[[4,"ngIf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space",4,"ngFor","ngForOf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space"],["aria-hidden","true",3,"type"]],template:function(r,l){1&r&&(e.YNc(0,Nu,3,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.facetList$))},dependencies:[n.sg,n.O5,Ke.yS,yo,oi,n.Ov,h.X$D],encapsulation:2}),a})(),em=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Ke.Bz,h.LUR,wr,Qo]}),a})(),mi=(()=>{class a{constructor(r,l,C){this.facetService=r,this.elementRef=l,this.cd=C,this.expandIcon=Kn.EXPAND,this.collapseIcon=Kn.COLLAPSE}set facet(r){this._facet=r,this.isMultiSelect=!!r.multiSelect,this.state$=this.facetService.getState(r)}get facet(){return this._facet}toggleGroup(r){const l=this.elementRef.nativeElement,C=this.keyboardFocus?.isLocked;this.facetService.toggle(this.facet,this.isExpanded),(!C||this.isExpanded)&&(l.focus(),r.stopPropagation())}get isExpanded(){return null!==this.values?.first?.nativeElement.offsetParent}openLink(r){r.target.click(),r.preventDefault()}increaseVisibleValues(){this.facetService.increaseVisibleValues(this.facet)}decreaseVisibleValues(){this.facetService.decreaseVisibleValues(this.facet)}getLinkParams(r){return this.facetService.getLinkParams(r.query?.query?.value??"")}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Oc),e.Y36(e.SBq),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-facet"]],viewQuery:function(r,l){if(1&r&&(e.Gf(oi,5),e.Gf(ks,5)),2&r){let C;e.iGM(C=e.CRH())&&(l.keyboardFocus=C.first),e.iGM(C=e.CRH())&&(l.values=C)}},hostVars:2,hostBindings:function(r,l){2&r&&e.ekj("multi-select",l.isMultiSelect)},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",facet:"facet"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"heading",3,"click"],[1,"collapse-icon",3,"type"],[1,"expand-icon",3,"type"],["routerLink","./","class","value",3,"queryParams","selected","cxFocus","keydown.space",4,"ngFor","ngForOf"],[1,"more"],["aria-expanded","true","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["aria-expanded","false","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["routerLink","./",1,"value",3,"queryParams","cxFocus","keydown.space"],["facetValue",""],["aria-hidden","true"],["aria-hidden","true",1,"count"],[1,"count"],["aria-expanded","true",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"],["aria-expanded","false",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"]],template:function(r,l){1&r&&(e.YNc(0,tu,14,22,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.state$))},dependencies:[Gi,n.sg,n.O5,yo,oi,Ke.yS,n.Ov,n.OU,h.X$D],encapsulation:2,changeDetection:0}),a})(),Xf=(()=>{class a{constructor(r,l,C){this.facetService=r,this.elementRef=l,this.renderer=C,this.closeList=new e.vpe,this.facetList$=this.facetService.facetList$,this.iconTypes=Kn,this.dialogFocusConfig={trap:!0,block:!0,focusOnEscape:!0,autofocus:"cx-facet"}}set isDialog(r){this._isDialog=r,r&&this.renderer.addClass(document.body,"modal-open")}get isDialog(){return this._isDialog}handleClick(){this.close()}expandFacetGroup(r,l){l.isExpanded||this.facetService.toggle(r,l.isExpanded)}isExpanded(r){return this.facetService.getState(r).pipe((0,Te.U)(l=>l.toggled===Ea.EXPANDED))}isCollapsed(r){return this.facetService.getState(r).pipe((0,Te.U)(l=>l.toggled===Ea.COLLAPSED))}close(r){this.renderer.removeClass(document.body,"modal-open"),this.closeList.emit(r)}block(r){r?.stopPropagation()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Oc),e.Y36(e.SBq),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-facet-list"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.handleClick()})},inputs:{isDialog:"isDialog"},outputs:{closeList:"closeList"},decls:2,vars:3,consts:[["class","inner",3,"cxFocus","tabindex","esc","click",4,"ngIf"],[1,"inner",3,"cxFocus","tabindex","esc","click"],["type","button",1,"close",3,"click"],["aria-hidden","true",3,"type"],["role","group",3,"facet","expanded","collapsed",4,"ngFor","ngForOf"],["role","group",3,"facet"],["facetRef",""]],template:function(r,l){if(1&r&&(e.YNc(0,PC,9,14,"section",0),e.ALo(1,"async")),2&r){let C;e.Q6J("ngIf",null==(C=e.lcZ(1,1,l.facetList$))?null:C.facets)}},dependencies:[n.sg,n.O5,yo,mi,oi,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),tm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[bc,n.ez,h.LUR,wr,Qo,Ke.Bz,h.bhT]}),a})(),Nv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,h.LUR,wr,tm,Qo]}),a})(),GC=(()=>{class a{constructor(r){this.breakpointService=r,this.iconTypes=Kn,this.CLOSE_DELAY=300,this.open$=new F.X(!1),this.isOpen$=this.breakpointService.breakpoint$.pipe((0,rn.QV)(at.E),(0,we.w)(()=>this.hasTrigger?this.open$:(0,P.of)(!0)),(0,ft.j)(l=>function he(a=0,_=ze.P){return(!(0,Ve.k)(a)||a<0)&&(a=0),(!_||"function"!=typeof _.schedule)&&(_=ze.P),new B.y(r=>(r.add(_.schedule(ge,a,{subscriber:r,counter:0,period:a})),r))}(l?0:this.CLOSE_DELAY))),this.isActive$=this.open$.pipe((0,rn.QV)(at.E))}launch(){this.open$.next(!0)}close(){this.open$.next(!1),this.trigger.nativeElement.focus()}get hasTrigger(){return null!==this.trigger.nativeElement.offsetParent}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Zn))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-facet-navigation"]],viewQuery:function(r,l){if(1&r&&e.Gf(Kl,5),2&r){let C;e.iGM(C=e.CRH())&&(l.trigger=C.first)}},decls:8,vars:7,consts:[[1,"btn","btn-action","btn-block","dialog-trigger",3,"click"],["trigger",""],[3,"type"],[3,"isDialog","active","dialog","closeList",4,"ngIf"],[3,"isDialog","closeList"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return l.launch()}),e._UZ(2,"cx-icon",2),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-active-facets"),e.YNc(6,tv,2,7,"cx-facet-list",3),e.ALo(7,"async")),2&r&&(e.xp6(2),e.Q6J("type",l.iconTypes.FILTER),e.xp6(1),e.hij(" ",e.lcZ(4,3,"productList.filterBy.label"),"\n"),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,5,l.isOpen$)))},dependencies:[n.O5,Xf,qf,yo,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),nm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[n.ez,Nv,em,wr,h.LUR,h.pEA.withConfig({cmsComponents:{ProductRefinementComponent:{component:GC}}})]}),a})();const Xd={view:{defaultPageSize:12,infiniteScroll:{active:!1,productLimit:0,showMoreButton:!1}}};let rm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Xd),(0,h.i51)({cmsComponents:{CMSProductListComponent:{component:_l,data:{composition:{inner:["ProductAddToCartComponent"]}}},ProductGridComponent:{component:_l,data:{composition:{inner:["ProductAddToCartComponent"]}}},SearchResultsListComponent:{component:_l,data:{composition:{inner:["ProductAddToCartComponent"]}}}}})],imports:[bc,n.ez,h.GSh,h.LUR,wr,Qt,mf,Pn,rs,Ni,Dr,Ke.Bz,Bi,kd,h.bhT]}),a})(),om=(()=>{class a{constructor(r){this.productListItemContextSource=r}ngOnChanges(r){r?.item&&this.productListItemContextSource.product$.next(this.item)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Cs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-carousel-item"]],inputs:{item:"item"},features:[e._Bn([Cs,{provide:Ja,useExisting:Cs}]),e.TTD],decls:9,vars:9,consts:[["tabindex","0",3,"routerLink"],["format","product",3,"container","alt"],[1,"cx-product-name"],[1,"price"],[1,"actions"],["cxInnerComponentsHost",""]],template:function(r,l){if(1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e.GkF(8,5),e.qZA()),2&r){let C;e.Q6J("routerLink",e.lcZ(1,5,e.VKq(7,wo,l.item))),e.xp6(2),e.Q6J("container",null==l.item.images?null:l.item.images.PRIMARY)("alt",null!==(C=l.item.name)&&void 0!==C?C:""),e.xp6(2),e.hij(" ",l.item.name," "),e.xp6(2),e.hij(" ",null==l.item.price?null:l.item.price.formattedValue," ")}},dependencies:[$s,Ke.yS,pu,h.l2T],encapsulation:2,changeDetection:0}),a})(),ep=(()=>{class a{constructor(r,l){this.componentData=r,this.productService=l,this.PRODUCT_SCOPE=["list","price","stock"],this.componentData$=this.componentData.data$.pipe((0,it.h)(C=>Boolean(C))),this.title$=this.componentData$.pipe((0,Te.U)(C=>C.title)),this.items$=this.componentData$.pipe((0,Te.U)(C=>C.productCodes?.trim().split(" ")??[]),(0,Te.U)(C=>C.map(M=>this.productService.get(M,[...this.PRODUCT_SCOPE]))))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(h.M52))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-carousel"]],decls:4,vars:3,consts:[["role","region","itemWidth","285px",3,"items","title","template",4,"ngIf"],["carouselItem",""],["role","region","itemWidth","285px",3,"items","title","template"],[3,"item"]],template:function(r,l){1&r&&(e.YNc(0,OC,4,13,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Zh,1,1,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.items$))},dependencies:[n.O5,Za,om,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Cl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductCarouselComponent:{component:ep}}})],imports:[n.ez,vu,rs,Ke.Bz,h.bhT,h.LUR,Dr]}),a})(),tp=(()=>{class a{constructor(r,l,C){this.cmsComponentData=r,this.currentProductService=l,this.productReferenceService=C,this.items$=this.productCode$.pipe((0,Gt.M)(this.componentData$),(0,He.b)(([M,se])=>this.productReferenceService.loadProductReferences(M,se.productReferenceTypes)),(0,we.w)(([M,se])=>this.getProductReferences(M,se.productReferenceTypes??"")))}get componentData$(){return this.cmsComponentData.data$.pipe((0,it.h)(r=>Boolean(r)))}get productCode$(){return this.currentProductService.getProduct().pipe((0,it.h)(h.jWE),(0,Te.U)(r=>r.code??""),(0,He.b)(r=>this.productReferenceService.cleanReferences()))}get title$(){return this.componentData$.pipe((0,Te.U)(r=>r?.title))}getProductReferences(r,l){return this.productReferenceService.getProductReferences(r,l).pipe((0,it.h)(C=>Boolean(C)),(0,Te.U)(C=>C.map(M=>(0,P.of)(M.target))))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(uo),e.Y36(So),e.Y36(h.FxR))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-references"]],decls:4,vars:3,consts:[[3,"title","items","template",4,"ngIf"],["carouselItem",""],[3,"title","items","template"],["tabindex","0",3,"routerLink"],["format","product",3,"container"],[1,"price"]],template:function(r,l){1&r&&(e.YNc(0,xp,2,5,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Ql,7,8,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.items$))},dependencies:[n.O5,Za,$s,Ke.yS,n.Ov,h.l2T],encapsulation:2,changeDetection:0}),a})(),yl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReferencesComponent:{component:tp}}})],imports:[n.ez,vu,rs,Ke.Bz,h.bhT]}),a})(),Sl=(()=>{class a{constructor(r){this.currentProductService=r,this.mainMediaContainer=new F.X(null),this.product$=this.currentProductService.getProduct().pipe((0,it.h)(h.jWE),(0,Ce.x)(),(0,He.b)(l=>{this.mainMediaContainer.next(l.images?.PRIMARY?l.images.PRIMARY:{})})),this.thumbs$=this.product$.pipe((0,Te.U)(l=>this.createThumbs(l))),this.mainImage$=(0,S.aj)([this.product$,this.mainMediaContainer]).pipe((0,Te.U)(([,l])=>l))}openImage(r){this.mainMediaContainer.next(r)}isActive(r){return this.mainMediaContainer.pipe((0,it.h)(Boolean),(0,Te.U)(l=>l.zoom&&l.zoom.url&&r.zoom&&r.zoom.url&&l.zoom.url===r.zoom.url))}getActive(r){return this.mainMediaContainer.pipe((0,it.h)(Boolean),(0,Te.U)(l=>{const C=r.find(M=>M.media&&l.zoom&&M.media.container&&M.media.container.zoom&&M.media.container.zoom.url===l.zoom.url);return r.indexOf(C)}))}createThumbs(r){return!r.images||!r.images.GALLERY||r.images.GALLERY.length<2?[]:r.images.GALLERY.map(l=>(0,P.of)({container:l}))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-images"]],decls:6,vars:6,consts:[[4,"ngIf"],["thumb",""],[3,"container"],["class","thumbs","itemWidth","120px",3,"items","hideIndicators","template",4,"ngIf"],["itemWidth","120px",1,"thumbs",3,"items","hideIndicators","template"],["tabindex","0","format","product",3,"container","focus"]],template:function(r,l){1&r&&(e.YNc(0,zE,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,ql,2,1,"ng-container",0),e.ALo(3,"async"),e.YNc(4,WE,2,5,"ng-template",null,1,e.W1O)),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,l.mainImage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,l.thumbs$)))},dependencies:[n.O5,$s,Za,n.Ov],encapsulation:2,changeDetection:0}),a})(),El=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductImagesComponent:{component:Sl}}})],imports:[n.ez,Ke.Bz,rs,Ni,vu]}),a})(),Uv=(()=>{class a{constructor(r,l,C,M){this.currentProductService=r,this.translationService=l,this.winRef=C,this.eventService=M,this.product$=this.currentProductService.getProduct(),this.areReviewsAvailable$=(0,de.T)((0,V.P)(()=>(0,P.of)(!!this.getReviewsComponent())),this.eventService.get(Kp).pipe((0,it.h)(se=>se.id===this.reviewsComponentId),(0,Ge.h)(!0)),this.eventService.get(Wu).pipe((0,it.h)(se=>se.id===this.reviewsComponentId),(0,Ge.h)(!1))),this.reviewsComponentId="ProductReviewsTabComponent",this.reviewsTranslationKey=`TabPanelContainer.tabs.${this.reviewsComponentId}`}showReviews(){this.translationService.translate(this.reviewsTranslationKey).subscribe(r=>{const l=this.getTabsComponent(),C=l&&this.getTabByLabel(r,l);C&&(this.clickTabIfInactive(C),setTimeout(()=>{C.scrollIntoView({behavior:"smooth"}),C.focus({preventScroll:!0})}))}).unsubscribe()}getReviewsComponent(){return this.winRef.document.querySelector("cx-product-reviews")}getTabsComponent(){return this.winRef.document.querySelector("cx-tab-paragraph-container")}clickTabIfInactive(r){(!r.classList.contains("active")||r.classList.contains("toggled"))&&r.click()}getTabByLabel(r,l){const C=l.getElementsByTagName("button");return Array.from(C).find(M=>M.innerHTML.includes(r))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So),e.Y36(h.D7D),e.Y36(h.X9E),e.Y36(h.POd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-intro"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","rating",4,"ngIf"],[1,"code"],[1,"rating"],[3,"rating"],[1,"count"],["class","btn btn-link cx-action-link",3,"click",4,"ngIf"],[1,"btn","btn-link","cx-action-link",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,ru,6,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[n.O5,Fd,n.Ov,n.JJ,h.X$D],encapsulation:2,changeDetection:0}),a})(),Al=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductIntroComponent:{component:Uv}}})],imports:[n.ez,h.LUR,kd]}),a})(),VC=(()=>{class a{constructor(r){this.currentProductService=r,this.outlets=Pc,this.product$=this.currentProductService.getProduct(["details","price"])}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[1,"price"],[1,"summary",3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,Us,3,8,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[n.O5,ki,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Bv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSummaryComponent:{component:VC}}})],imports:[n.ez,Ni,h.LUR]}),a})(),eh=(()=>{class a{constructor(r){this.currentProductService=r,this.product$=this.currentProductService.getProduct("attributes")}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-attributes"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&(e.YNc(0,ou,6,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[n.sg,n.O5,n.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Gv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSpecsTabComponent:{component:eh}}})],imports:[n.ez,h.LUR]}),a})(),im=(()=>{class a{constructor(r,l,C){this.currentProductService=r,this.componentData=l,this.cmsService=C,this.children$=this.componentData.data$.pipe((0,we.w)(M=>(0,S.aj)((M?.children??"").split(" ").map(se=>this.cmsService.getComponentData(se).pipe((0,Ce.x)(),(0,Te.U)(rt=>{if(rt)return rt.flexType||(rt={...rt,flexType:rt.typeCode}),rt}))))))}ngOnInit(){this.product$=this.currentProductService.getProduct()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So),e.Y36(uo),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-details-tab"]],decls:4,vars:6,consts:[[4,"ngIf"],[1,"container",3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],[1,"container"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&(e.YNc(0,td,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,su,2,1,"ng-container",0),e.ALo(3,"async")),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,l.product$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,l.children$)))},dependencies:[n.sg,n.O5,Ha,ki,n.Ov],encapsulation:2,changeDetection:0}),a})(),th=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductDetailsTabComponent:{component:im}}})],imports:[n.ez,Dr,Ni]}),a})(),Aa=(()=>{class a{constructor(r,l,C,M){this.reviewService=r,this.currentProductService=l,this.fb=C,this.cd=M,this.isWritingReview=!1,this.initialMaxListItems=5,this.product$=this.currentProductService.getProduct(),this.reviews$=this.product$.pipe((0,it.h)(h.jWE),(0,Te.U)(se=>se.code??""),(0,Ce.x)(),(0,we.w)(se=>this.reviewService.getByProductCode(se)),(0,He.b)(()=>{this.resetReviewForm(),this.maxListItems=this.initialMaxListItems}))}initiateWriteReview(){this.isWritingReview=!0,this.cd.detectChanges(),this.titleInput&&this.titleInput.nativeElement&&this.titleInput.nativeElement.focus()}cancelWriteReview(){this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}setRating(r){this.reviewForm.controls.rating.setValue(r)}submitReview(r){this.reviewForm.valid?this.addReview(r):this.reviewForm.markAllAsTouched()}addReview(r){const l=this.reviewForm.controls;this.reviewService.add(r.code??"",{headline:l.title.value,comment:l.comment.value,rating:l.rating.value,alias:l.reviewerName.value}),this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}resetReviewForm(){this.reviewForm=this.fb.group({title:["",wt.kI.required],comment:["",wt.kI.required],rating:[null,Nf.starRatingEmpty],reviewerName:""})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.x0A),e.Y36(So),e.Y36(wt.QS),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-reviews"]],viewQuery:function(r,l){if(1&r&&(e.Gf(Qh,5),e.Gf(Uu,5)),2&r){let C;e.iGM(C=e.CRH())&&(l.titleInput=C.first),e.iGM(C=e.CRH())&&(l.writeReviewButton=C.first)}},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf","ngIfElse"],["writeReview",""],[1,"header"],[1,"btn","btn-primary",3,"click"],["writeReviewButton",""],["class","rating",3,"rating",4,"ngIf"],["class","rating",4,"ngIf"],[1,"rating",3,"rating"],[1,"rating"],[4,"ngIf"],["class","review","tabindex","0",4,"ngFor","ngForOf"],["tabindex","0",1,"review"],[1,"title"],[3,"rating"],[1,"name"],[1,"date"],[1,"text"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-content"],["required","true","type","text","formControlName","title",1,"form-control"],["titleInput",""],[3,"control"],["required","true","rows","3","formControlName","comment",1,"form-control"],["required","true","type","number","formControlName","rating",1,"rating-input"],["tabindex","0",3,"disabled","change"],["type","text","formControlName","reviewerName",1,"form-control"],[1,"form-group","row"],[1,"col-12","col-md-4"],["type","button",1,"btn","btn-block","btn-secondary",3,"click"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(r,l){1&r&&(e.YNc(0,Xh,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[n.sg,n.O5,wt._Y,wt.Fj,wt.wV,wt.JJ,wt.JL,wt.Q7,wt.sg,wt.u,Fd,Xu,n.Ov,n.OU,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),Dl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReviewsTabComponent:{component:Aa}}})],imports:[n.ez,wt.UX,wt.u5,h.LUR,kd,gs]}),a})(),Da=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Gv,th,Dl]}),a})(),bl=(()=>{class a{constructor(r,l,C){this.interestsService=r,this.launchDialogService=l,this.el=C,this.subscription=new w.w,this.enabledPrefs=[],this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}close(r){this.launchDialogService.closeDialog(r)}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.init(r.subscribeSuccess$,r.enabledPrefs)}))}init(r,l){this.subscribeSuccess$=r,this.enabledPrefs=l}ngOnDestroy(){this.subscribeSuccess$&&this.subscribeSuccess$.subscribe(r=>{r&&this.interestsService.resetAddInterestState()}).unsubscribe(),this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.GO$),e.Y36(Xi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-stock-notification-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(M){return l.handleClick(M)})},decls:14,vars:11,consts:[[1,"cx-stock-notification-dialog",3,"cxFocus","esc"],[1,"cx-stock-notification-container"],[1,"cx-dialog-header","cx-modal-header"],[1,"cx-dialog-title","modal-title"],["type","button","tabindex","-1",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"cx-dialog-body","modal-body"],[1,"cx-stock-notification-content"],[1,"cx-stock-notification-text"],["class","channels",4,"ngFor","ngForOf"],[1,"link-prefs","cx-stock-notification-link",3,"routerLink","click"],[1,"link-interests","cx-stock-notification-link",3,"routerLink","click"],[1,"cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-4","offset-md-8","col-lg-3","offset-lg-9"],["type","button",1,"btn","btn-primary","btn-block","btn-ok",3,"click"],[1,"channels"],[4,"ngIf"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return l.close("Button clicked")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._uU(9,"\xd7"),e.qZA()()(),e.YNc(10,la,36,39,"ng-container",6),e.ALo(11,"async"),e.qZA(),e.YNc(12,Ga,7,3,"ng-template",null,7,e.W1O),e.qZA()),2&r){const C=e.MAs(13);e.Q6J("cxFocus",l.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,5,"stockNotification.subscriptionDialog.header")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,7,"common.close")),e.xp6(4),e.Q6J("ngIf",e.lcZ(11,9,l.subscribeSuccess$))("ngIfElse",C)}},dependencies:[n.sg,n.O5,Ke.yS,Ui,oi,n.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),Vv=(()=>{class a{constructor(r,l,C,M,se,rt,Lt,sn){this.currentProductService=r,this.globalMessageService=l,this.translationService=C,this.interestsService=M,this.notificationPrefService=se,this.userIdService=rt,this.launchDialogService=Lt,this.vcr=sn,this.anonymous=!0,this.enabledPrefs=[],this.subscriptions=new w.w}ngOnInit(){this.outOfStock$=(0,S.aj)([this.currentProductService.getProduct().pipe((0,it.h)(h.jWE)),this.userIdService.getUserId()]).pipe((0,He.b)(([r,l])=>{this.productCode=r.code??"",l!==h.Fds&&(this.anonymous=!1,this.notificationPrefService.loadPreferences(),this.interestsService.loadProductInterests(void 0,void 0,void 0,r.code,h.k$E.BACK_IN_STOCK))}),(0,Te.U)(([r])=>!!r.stock&&"outOfStock"===r.stock.stockLevelStatus)),this.hasProductInterests$=this.interestsService.getProductInterests().pipe((0,Te.U)(r=>!!r.results&&1===r.results.length)),this.subscribeSuccess$=this.interestsService.getAddProductInterestSuccess(),this.isRemoveInterestLoading$=this.interestsService.getRemoveProdutInterestLoading(),this.prefsEnabled$=this.notificationPrefService.getEnabledPreferences().pipe((0,He.b)(r=>this.enabledPrefs=r),(0,Te.U)(r=>r.length>0)),this.subscriptions.add(this.interestsService.getAddProductInterestError().subscribe(r=>{r&&this.onInterestAddingError()})),this.subscriptions.add(this.interestsService.getRemoveProdutInterestSuccess().subscribe(r=>{r&&this.onInterestRemovingSuccess()}))}subscribe(){this.openDialog(),this.interestsService.addProductInterest(this.productCode,h.k$E.BACK_IN_STOCK)}unsubscribe(){this.interestsService.removeProdutInterest({product:{code:this.productCode},productInterestEntry:[{interestType:h.k$E.BACK_IN_STOCK}]},!0)}onInterestRemovingSuccess(){this.subscriptions.add(this.translationService.translate("stockNotification.unsubscribeSuccess").pipe((0,re.P)()).subscribe(r=>this.globalMessageService.add(r,h.xUg.MSG_TYPE_INFO))),this.interestsService.resetRemoveInterestState()}onInterestAddingError(){this.launchDialogService.closeDialog("Interests error"),this.interestsService.resetAddInterestState()}openDialog(){const l=this.launchDialogService.openDialog("STOCK_NOTIFICATION",this.element,this.vcr,{subscribeSuccess$:this.subscribeSuccess$,enabledPrefs:this.enabledPrefs});l&&l.pipe((0,Me.q)(1)).subscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.interestsService.clearProductInterests(),this.notificationPrefService.clearPreferences()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(So),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(h.GO$),e.Y36(h.xd),e.Y36(h.XBV),e.Y36(Xi),e.Y36(e.s_b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-stock-notification"]],viewQuery:function(r,l){if(1&r&&e.Gf($c,5),2&r){let C;e.iGM(C=e.CRH())&&(l.element=C.first)}},decls:8,vars:3,consts:[[4,"ngIf"],["disableNotify",""],["stopNotify",""],["loading",""],[4,"ngIf","ngIfElse"],[1,"stock-notification-notes"],["type","button",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],["id","outOfStockMessage",1,"stock-notification-notes"],["loggedIn",""],["type","button","aria-describedby","outOfStockMessage",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],[3,"routerLink"],["role","status"],["type","button",1,"btn","btn-primary","btn-block","btn-stop-notify",3,"click"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,l){1&r&&(e.YNc(0,id,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,hc,8,6,"ng-template",null,1,e.W1O),e.YNc(4,Lp,2,4,"ng-template",null,2,e.W1O),e.YNc(6,Vu,4,0,"ng-template",null,3,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.outOfStock$))},dependencies:[n.O5,Ke.yS,Ui,n.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})();const nh={launch:{STOCK_NOTIFICATION:{inlineRoot:!0,component:bl,dialogType:ii.DIALOG}}};let sm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(nh),(0,h.i51)({cmsComponents:{StockNotificationComponent:{component:Vv}}})],imports:[n.ez,Ke.Bz,h.LUR,Bi,h.bhT,Qo]}),a})(),am=(()=>{class a{constructor(r,l,C){this.authService=r,this.authConfigService=l,this.cmsPageGuard=C}canActivate(r,l){return this.authService.isUserLoggedIn().pipe((0,Me.q)(1),(0,we.w)(C=>this.authConfigService.getOAuthFlow()===h.C8C.ResourceOwnerPasswordFlow||C?this.cmsPageGuard.canActivate(r,l):this.authService.loginWithRedirect()?J.E:(0,P.of)(!1)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.e80),e.LFG(h.dSP),e.LFG(tr))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),rh=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Cc,Ke.Bz.forChild([{path:null,canActivate:[am],component:fi,data:{cxRoute:"login"}}])]}),a})(),Lc=(()=>{class a{constructor(r,l,C,M,se){this.auth=r,this.cms=l,this.semanticPathService=C,this.protectedRoutes=M,this.router=se}canActivate(){return(0,ue.D)(this.logout()).pipe((0,we.w)(()=>this.cms.hasPage({id:this.semanticPathService.get("logout")??"",type:h.GV4.CONTENT_PAGE}).pipe((0,Te.U)(r=>r||this.getRedirectUrl()))))}logout(){return this.auth.coreLogout()}getRedirectUrl(){return this.router.parseUrl(this.semanticPathService.get(this.protectedRoutes.shouldProtect?"login":"home")??"")}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.e80),e.LFG(h.ctt),e.LFG(h.hCH),e.LFG(h.Cvs),e.LFG(Ke.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Hv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Cc,Ke.Bz.forChild([{path:null,canActivate:[Lc,tr],component:fi,data:{cxRoute:"logout"}}])]}),a})();const Ka=new e.OlP("PRODUCT_DETAILS_URL_MATCHER",{providedIn:"root",factory:()=>function Su(a,_){return l=>{const C=_(l),M=sf({marker:"p",paramName:"productCode"});return a.getCombined([C,M])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let oh=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{product:{matchers:[Ka]}}}})],imports:[Ke.Bz.forChild([{path:null,canActivate:[tr],component:fi,data:{cxRoute:"product"}}])]}),a})();const jv=new e.OlP("PRODUCT_LISTING_URL_MATCHER",{providedIn:"root",factory:()=>function $v(a,_){return l=>{const C=_(l),M=sf({marker:"c",paramName:"categoryCode"});return a.getCombined([C,M])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let cm=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{category:{matchers:[jv]}}}})],imports:[Ke.Bz.forChild([{path:null,canActivate:[tr],component:fi,data:{pageLabel:"search",cxRoute:"search"}},{path:null,canActivate:[tr],component:fi,data:{cxRoute:"brand"}},{path:null,canActivate:[tr],component:fi,data:{cxRoute:"category"}}])]}),a})(),ih=(()=>{class a{constructor(r,l){this.activatedRoutesService=r,this.injector=l,this.contextTokenMapping$=this.activatedRoutesService.routes$.pipe((0,Te.U)(C=>this.getRoutesContextTokenMapping(C)),(0,Ae.d)({refCount:!0,bufferSize:1}))}getRoutesContextTokenMapping(r){return Object.assign({},...r.map(l=>l?.data?.cxContext))}get(r){return this.contextTokenMapping$.pipe((0,we.w)(l=>{const C=l?.[r];return C?this.injector.get(C):(0,P.of)(void 0)}))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ZWZ),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Zv=(()=>{class a{constructor(r){this.routingContextService=r}get(r){return this.resolveContext(r).pipe((0,Ce.x)(),(0,Ae.d)({refCount:!0,bufferSize:1}))}resolveContext(r){return this.routingContextService.get(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ih))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ba=(()=>{class a extends h.W8x{}return a.type="NavigationEvent",a})();class Tl extends h.W8x{}let um=(()=>{class a extends Tl{}return a.type="HomePageEvent",a})(),Yv=(()=>{class a{constructor(r){this.eventService=r,this.register()}register(){this.eventService.register(um,this.buildHomePageEvent())}buildHomePageEvent(){return this.eventService.get(ba).pipe((0,it.h)(r=>"home"===r.semanticRoute),(0,Te.U)(r=>(0,h.PjU)(um,{navigation:r})))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),lm=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Yv))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),dm=(()=>{class a{constructor(r,l){this.actions=r,this.eventService=l,this.register()}register(){this.eventService.register(ba,this.buildNavigationEvent())}buildNavigationEvent(){return this.getNavigatedEvent().pipe((0,Te.U)(r=>(0,h.PjU)(ba,{context:r.context,semanticRoute:r.semanticRoute,url:r.url,params:r.params})))}getNavigatedEvent(){return this.actions.pipe((0,Rn.l4)(yr.CE),(0,Te.U)(r=>r.payload.routerState))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Hn.UO),e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),pm=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(dm))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Eu=(()=>{class a extends Tl{}return a.type="ProductDetailsPageEvent",a})(),Qa=(()=>{class a extends Tl{}return a.type="CategoryPageResultsEvent",a})(),sh=(()=>{class a extends Tl{}return a.type="SearchPageResultsEvent",a})(),Ml=(()=>{class a{constructor(r,l,C){this.eventService=r,this.productService=l,this.productSearchService=C,this.register()}register(){this.eventService.register(sh,this.buildSearchPageResultsEvent()),this.eventService.register(Eu,this.buildProductDetailsPageEvent()),this.eventService.register(Qa,this.buildCategoryResultsPageEvent())}buildProductDetailsPageEvent(){return this.eventService.get(ba).pipe((0,it.h)(r=>"product"===r.semanticRoute),(0,we.w)(r=>this.productService.get(r.context.id).pipe((0,it.h)(l=>Boolean(l)),(0,Me.q)(1),(0,Te.U)(l=>(0,h.PjU)(Eu,{navigation:r,categories:l?.categories,code:l?.code,name:l?.name,price:l?.price})))))}buildCategoryResultsPageEvent(){const r=this.productSearchService.getResults().pipe((0,Vt.T)(1));return this.eventService.get(ba).pipe((0,we.w)(l=>"category"!==l?.semanticRoute?J.E:r.pipe((0,Te.U)(C=>(0,h.PjU)(Qa,{navigation:l,categoryCode:l?.context?.id,numberOfResults:C?.pagination?.totalResults??0,categoryName:C.breadcrumbs?.[0].facetValueName})))))}buildSearchPageResultsEvent(){const r=this.productSearchService.getResults().pipe((0,Vt.T)(1));return this.eventService.get(ba).pipe((0,we.w)(l=>"search"!==l?.semanticRoute?J.E:r.pipe((0,Te.U)(C=>(0,h.PjU)(sh,{navigation:l,searchTerm:C?.freeTextSearch??"",numberOfResults:C?.pagination?.totalResults??0})))))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.POd),e.LFG(h.M52),e.LFG(h.ji5))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),zv=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ml))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();const fm={mediaFormats:{mobile:{width:400},tablet:{width:770},desktop:{width:1140},widescreen:{width:1400},cartIcon:{width:65},thumbnail:{width:96},product:{width:284},zoom:{width:515}}},Au={layoutSlots:{header:{lg:{slots:["PreHeader","SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]},navigation:{lg:{slots:[]},slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]},footer:{slots:["Footer"]},LandingPage2Template:{pageFold:"Section2B",slots:["Section1","Section2A","Section2B","Section2C","Section3","Section4","Section5"]},ContentPage1Template:{slots:["Section2A","Section2B"]},CategoryPageTemplate:{pageFold:"Section2",slots:["Section1","Section2","Section3"]},ProductListPageTemplate:{slots:["ProductLeftRefinements","ProductListSlot"]},ProductGridPageTemplate:{slots:["ProductLeftRefinements","ProductGridSlot"]},SearchResultsListPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsListSlot","Section4"]},SearchResultsGridPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsGridSlot","Section4"]},ProductDetailsPageTemplate:{lg:{pageFold:"UpSelling"},pageFold:"Summary",slots:["Summary","UpSelling","CrossSelling","Tabs","PlaceholderContentSlot"]},CartPageTemplate:{slots:["TopContent","CenterRightContentSlot","EmptyCartMiddleContent"]},AccountPageTemplate:{slots:["BodyContent","SideContent"]},LoginPageTemplate:{slots:["LeftContentSlot","RightContentSlot"]},ErrorPageTemplate:{slots:["TopContent","MiddleContent","BottomContent"]},OrderConfirmationPageTemplate:{slots:["BodyContent","SideContent"]},MultiStepCheckoutSummaryPageTemplate:{slots:["TopContent","BodyContent","SideContent","BottomContent"]},CheckoutLoginPageTemplate:{slots:["RightContentSlot"]}}},Wv=[Ec({componentId:"HamburgerMenuComponent",pageSlotPosition:"PreHeader"}),Ec({componentId:"LoginComponent",pageSlotPosition:"SiteLogin"})];var bi;(bi||(bi={})).deepUpdateValueAndValidity=function _(r,l={}){(r instanceof wt.nJ||r instanceof wt.vC)&&Object.values(r.controls).forEach(C=>{_(C,l)}),r.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})};let xl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.pz3.forRoot(),Ke.Bz,Pd,Ni,Zu,hg,Cc,ya,Dr.forRoot(),ja,Of,Qo,Ng,gv.forRoot(),rs.forRoot(),Ni.forRoot(),Zd,Ng,Zd]}),a})()},7212:(_e,ie,v)=>{"use strict";v.d(ie,{Jj:()=>J,gf:()=>V,gu:()=>B,x7:()=>P});var n=v(4650),e=v(9057),h=v(2654);let F=(()=>{class q{constructor(ue,ae){this.eventService=ue,this.globalMessageService=ae,this.subscriptions=new h.w,this.onAuth()}onAuth(){this.subscriptions.add(this.eventService.get(e.rX_).subscribe(()=>{this.globalMessageService.add({key:"authMessages.signedOutSuccessfully"},e.xUg.MSG_TYPE_CONFIRMATION)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(e.POd),n.LFG(e.IWp))},q.\u0275prov=n.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),S=(()=>{class q{constructor(ue){}}return q.\u0275fac=function(ue){return new(ue||q)(n.LFG(F))},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({}),q})();class w extends e.W8x{}let P=(()=>{class q extends w{}return q.type="UserAccountChangedEvent",q})();const B="userAccount",Z="userAccountCore";let V=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275prov=n.Yz7({token:q,factory:function(){return(0,e.wvQ)({facade:q,feature:Z,methods:["get"]})},providedIn:"root"}),q})();function G(){return{featureModules:{[B]:{cmsComponents:["LoginComponent","ReturningCustomerLoginComponent","ReturningCustomerRegisterComponent"]},[Z]:B}}}let J=(()=>{class q{}return q.\u0275fac=function(ue){return new(ue||q)},q.\u0275mod=n.oAB({type:q}),q.\u0275inj=n.cJS({providers:[(0,e.x2j)(G)],imports:[S]}),q})()},6054:(_e,ie,v)=>{"use strict";v.r(ie),v.d(ie,{UserAccountModule:()=>Vt});var n=v(4650),e=v(4006),h=v(9057),F=v(1446),S=v(591),w=v(5254),P=v(1086),B=v(2994),Z=v(7168),V=v(7545),G=v(6895),J=v(610),q=v(7212);function ne(qe,rn){1&qe&&n._UZ(0,"cx-spinner",8)}const ue=function(){return{cxRoute:"forgotPassword"}},ae=function(){return{cxRoute:"register"}};function Ee(qe,rn){1&qe&&(n.ynx(0),n.TgZ(1,"a",3),n.ALo(2,"cxUrl"),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.BQk()),2&qe&&(n.xp6(1),n.Q6J("routerLink",n.lcZ(2,2,n.DdM(6,ae))),n.xp6(2),n.Oqu(n.lcZ(4,4,"loginForm.register")))}const Ye=function(){return{cxRoute:"checkoutLogin"}};function at(qe,rn){1&qe&&(n.ynx(0),n.TgZ(1,"a",4),n.ALo(2,"cxUrl"),n._uU(3),n.ALo(4,"cxTranslate"),n.qZA(),n.BQk()),2&qe&&(n.xp6(1),n.Q6J("routerLink",n.lcZ(2,2,n.DdM(6,Ye))),n.xp6(2),n.Oqu(n.lcZ(4,4,"loginForm.guestCheckout")))}const ze=function(qe){return{name:qe}};function Ve(qe,rn){if(1&qe&&(n.ynx(0),n.TgZ(1,"div",2),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n._UZ(4,"cx-page-slot",3),n.BQk()),2&qe){const me=rn.ngIf;n.xp6(2),n.hij(" ",n.xi3(3,1,"miniLogin.userGreeting",n.VKq(4,ze,me.name))," ")}}const he=function(){return{cxRoute:"login"}};function ge(qe,rn){1&qe&&(n.TgZ(0,"a",4),n.ALo(1,"cxUrl"),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA()),2&qe&&(n.Q6J("routerLink",n.lcZ(1,2,n.DdM(6,he))),n.xp6(2),n.Oqu(n.lcZ(3,4,"miniLogin.signInRegister")))}let de=(()=>{class qe{constructor(me,Et,Ke){this.auth=me,this.globalMessage=Et,this.winRef=Ke,this.busy$=new S.X(!1),this.isUpdating$=this.busy$.pipe((0,B.b)(jt=>{const wt=this.winRef.nativeWindow?.history?.state?.newUid;wt&&this.form.patchValue({userId:wt}),!0===jt?this.form.disable():this.form.enable()})),this.form=new e.nJ({userId:new e.p4("",[e.kI.required,F.kal.emailValidator]),password:new e.p4("",e.kI.required)})}login(){this.form.valid?(this.busy$.next(!0),(0,w.D)(this.auth.loginWithCredentials(this.form.value.userId.toLowerCase(),this.form.value.password)).pipe((0,Z.M)(this.auth.isUserLoggedIn()),(0,B.b)(([me,Et])=>this.onSuccess(Et))).subscribe()):this.form.markAllAsTouched()}onSuccess(me){me&&(this.globalMessage.remove(h.xUg.MSG_TYPE_ERROR),this.form.reset()),this.busy$.next(!1)}}return qe.\u0275fac=function(me){return new(me||qe)(n.LFG(h.e80),n.LFG(h.IWp),n.LFG(h.X9E))},qe.\u0275prov=n.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),it=(()=>{class qe{constructor(me){this.service=me,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.style=!0}onSubmit(){this.service.login()}}return qe.\u0275fac=function(me){return new(me||qe)(n.Y36(de))},qe.\u0275cmp=n.Xpm({type:qe,selectors:[["cx-login-form"]],hostVars:2,hostBindings:function(me,Et){2&me&&n.ekj("user-form",Et.style)},decls:25,vars:32,consts:[["class","overlay",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"label-content"],["required","true","type","email","formControlName","userId",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn-link",3,"routerLink"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"]],template:function(me,Et){1&me&&(n.YNc(0,ne,1,0,"cx-spinner",0),n.ALo(1,"async"),n.TgZ(2,"form",1),n.NdJ("ngSubmit",function(){return Et.onSubmit()}),n.TgZ(3,"label")(4,"span",2),n._uU(5),n.ALo(6,"cxTranslate"),n.qZA(),n._UZ(7,"input",3),n.ALo(8,"cxTranslate"),n._UZ(9,"cx-form-errors",4),n.qZA(),n.TgZ(10,"label")(11,"span",2),n._uU(12),n.ALo(13,"cxTranslate"),n.qZA(),n._UZ(14,"input",5),n.ALo(15,"cxTranslate"),n.ALo(16,"cxTranslate"),n._UZ(17,"cx-form-errors",4),n.qZA(),n.TgZ(18,"a",6),n.ALo(19,"cxUrl"),n._uU(20),n.ALo(21,"cxTranslate"),n.qZA(),n.TgZ(22,"button",7),n._uU(23),n.ALo(24,"cxTranslate"),n.qZA()()),2&me&&(n.Q6J("ngIf",n.lcZ(1,13,Et.isUpdating$)),n.xp6(2),n.Q6J("formGroup",Et.form),n.xp6(3),n.Oqu(n.lcZ(6,15,"loginForm.emailAddress.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(8,17,"loginForm.emailAddress.placeholder")),n.xp6(2),n.Q6J("control",Et.form.get("userId")),n.xp6(3),n.Oqu(n.lcZ(13,19,"loginForm.password.label")),n.xp6(2),n.s9C("placeholder",n.lcZ(15,21,"loginForm.password.placeholder")),n.uIk("aria-label",n.lcZ(16,23,"loginForm.password.placeholder")),n.xp6(3),n.Q6J("control",Et.form.get("password")),n.xp6(1),n.Q6J("routerLink",n.lcZ(19,25,n.DdM(31,ue))),n.xp6(2),n.hij(" ",n.lcZ(21,27,"loginForm.forgotPassword")," "),n.xp6(2),n.Q6J("disabled",Et.form.disabled),n.xp6(1),n.hij(" ",n.lcZ(24,29,"loginForm.signIn")," "))},dependencies:[G.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,J.yS,F.Ahv,F.ORR,F.X84,G.Ov,h.l2T,h.X$D],encapsulation:2,changeDetection:0}),qe})(),He=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerLoginComponent:{component:it,guards:[h.aOY],providers:[{provide:de,useClass:de,deps:[h.e80,h.IWp,h.X9E]}]}}})],imports:[G.ez,e.u5,e.UX,J.Bz,h.bhT,h.LUR,F.Fym,F.Fme,F.Ird]}),qe})(),Te=(()=>{class qe{constructor(me){this.activatedRoute=me,this.loginAsGuest=!1}ngOnInit(){this.loginAsGuest=this.activatedRoute.snapshot.queryParams.forced}}return qe.\u0275fac=function(me){return new(me||qe)(n.Y36(J.gz))},qe.\u0275cmp=n.Xpm({type:qe,selectors:[["cx-login-register"]],decls:6,vars:5,consts:[[1,"register"],[1,"cx-section-title"],[4,"ngIf"],[1,"btn","btn-block","btn-secondary","btn-register",3,"routerLink"],[1,"btn","btn-block","btn-secondary","btn-guest",3,"routerLink"]],template:function(me,Et){1&me&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2),n.ALo(3,"cxTranslate"),n.qZA(),n.YNc(4,Ee,5,7,"ng-container",2),n.YNc(5,at,5,7,"ng-container",2),n.qZA()),2&me&&(n.xp6(2),n.hij(" ",n.lcZ(3,3,"loginForm.dontHaveAccount")," "),n.xp6(2),n.Q6J("ngIf",!Et.loginAsGuest),n.xp6(1),n.Q6J("ngIf",Et.loginAsGuest))},dependencies:[G.O5,J.yS,h.l2T,h.X$D],encapsulation:2}),qe})(),Me=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerRegisterComponent:{component:Te,guards:[h.aOY]}}})],imports:[G.ez,J.Bz,h.bhT,F.ISW,h.LUR]}),qe})(),re=(()=>{class qe{constructor(me,Et){this.auth=me,this.userAccount=Et}ngOnInit(){this.user$=this.auth.isUserLoggedIn().pipe((0,V.w)(me=>me?this.userAccount.get():(0,P.of)(void 0)))}}return qe.\u0275fac=function(me){return new(me||qe)(n.Y36(h.e80),n.Y36(q.gf))},qe.\u0275cmp=n.Xpm({type:qe,selectors:[["cx-login"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["login",""],[1,"cx-login-greet"],["id","account-nav","position","HeaderLinks"],["role","link",3,"routerLink"]],template:function(me,Et){if(1&me&&(n.YNc(0,Ve,5,6,"ng-container",0),n.ALo(1,"async"),n.YNc(2,ge,4,7,"ng-template",null,1,n.W1O)),2&me){const Ke=n.MAs(3);n.Q6J("ngIf",n.lcZ(1,2,Et.user$))("ngIfElse",Ke)}},dependencies:[G.O5,J.yS,F.JSc,G.Ov,h.l2T,h.X$D],encapsulation:2}),qe})(),Ie=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({providers:[(0,h.i51)({cmsComponents:{LoginComponent:{component:re}}})],imports:[G.ez,J.Bz,h.bhT,F.ISW,h.LUR]}),qe})(),Ce=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({imports:[Ie,He,Me]}),qe})();const we=new n.OlP("UserAccountNormalizer");new n.OlP("UserAccountSerializer");class Ge{}let ht=(()=>{class qe{constructor(me){this.adapter=me}get(me){return this.adapter.load(me)}}return qe.\u0275fac=function(me){return new(me||qe)(n.LFG(Ge))},qe.\u0275prov=n.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Je=(()=>{class qe{constructor(me,Et,Ke){this.userAccountConnector=me,this.userIdService=Et,this.query=Ke,this.userQuery=this.query.create(()=>this.userIdService.takeUserId(!0).pipe((0,V.w)(jt=>this.userAccountConnector.get(jt))),{reloadOn:[q.x7],resetOn:[h.p1J,h.rX_]})}get(){return this.userQuery.get()}}return qe.\u0275fac=function(me){return new(me||qe)(n.LFG(ht),n.LFG(h.XBV),n.LFG(h._7J))},qe.\u0275prov=n.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const lt=[Je,{provide:q.gf,useExisting:Je}];let Ne=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({providers:[ht,...lt]}),qe})();var an=v(1737),Gt=v(7221),Jt=v(529);const ft={backend:{occ:{endpoints:{user:"users/${userId}"}}}};let nn=(()=>{class qe{constructor(me,Et,Ke){this.http=me,this.occEndpoints=Et,this.converter=Ke}load(me){const Et=this.occEndpoints.buildUrl("user",{urlParams:{userId:me}});return this.http.get(Et).pipe((0,Gt.K)(Ke=>(0,an._)((0,h.cxH)(Ke))),this.converter.pipeable(we))}}return qe.\u0275fac=function(me){return new(me||qe)(n.LFG(Jt.eN),n.LFG(h.Lz0),n.LFG(h.IXI))},qe.\u0275prov=n.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Xt=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({providers:[(0,h.i51)(ft),{provide:Ge,useClass:nn}]}),qe})(),Vt=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=n.oAB({type:qe}),qe.\u0275inj=n.cJS({imports:[Ne,Xt,Ce]}),qe})()},6538:(_e,ie,v)=>{"use strict";v.d(ie,{LL:()=>w,PF:()=>S,Ye:()=>V,aT:()=>P,t5:()=>h,zm:()=>B});var n=v(4650),e=v(9057);const h="userProfile",F="userProfileCore";let S=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:F,methods:["update"]})},providedIn:"root"}),G})(),w=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:F,methods:["update","reset","requestForgotPasswordEmail"]})},providedIn:"root"}),G})(),P=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:F,methods:["get","update","close","getTitles"]})},providedIn:"root"}),G})(),B=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275prov=n.Yz7({token:G,factory:function(){return(0,e.wvQ)({facade:G,feature:F,methods:["register","registerGuest","getTitles"]})},providedIn:"root"}),G})();function Z(){return{featureModules:{[h]:{cmsComponents:["RegisterCustomerComponent","UpdateProfileComponent","UpdateEmailComponent","UpdatePasswordComponent","ForgotPasswordComponent","ResetPasswordComponent","CloseAccountComponent"]},[F]:h}}}let V=(()=>{class G{}return G.\u0275fac=function(q){return new(q||G)},G.\u0275mod=n.oAB({type:G}),G.\u0275inj=n.cJS({providers:[(0,e.x2j)(Z),{provide:e.Tie,useExisting:P}]}),G})()},1214:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ct:()=>OAuthService,Hy:()=>OAuthStorage,zr:()=>OAuthModule});var _home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5861),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6895),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(529),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8929),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5254),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1946),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1737),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6053),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6787),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2994),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(943),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7224),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6227),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2986),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1709),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1302);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class _e extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return _e.\u0275fac=function(){let ie;return function(n){return(ie||(ie=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(_e)))(n||_e)}}(),_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class _e{constructor(){this.data=new Map}getItem(v){return this.data.get(v)}removeItem(v){this.data.delete(v)}setItem(v,n){this.data.set(v,n)}}return _e.\u0275fac=function(v){return new(v||_e)},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class ReceivedTokens{}class OAuthEvent{constructor(ie){this.type=ie}}class OAuthSuccessEvent extends OAuthEvent{constructor(ie,v=null){super(ie),this.info=v}}class OAuthInfoEvent extends OAuthEvent{constructor(ie,v=null){super(ie),this.info=v}}class OAuthErrorEvent extends OAuthEvent{constructor(ie,v,n=null){super(ie),this.reason=v,this.params=n}}function b64DecodeUnicode(_e){const ie=_e.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(ie).split("").map(function(v){return"%"+("00"+v.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(_e){return btoa(_e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(ie){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=v=>{location.href=v},ie&&Object.assign(this,ie)}}class WebHttpUrlEncodingCodec{encodeKey(ie){return encodeURIComponent(ie)}encodeValue(ie){return encodeURIComponent(ie)}decodeKey(ie){return decodeURIComponent(ie)}decodeValue(ie){return decodeURIComponent(ie)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(ie){var v=this;return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){let n=v.inferHashAlgorithm(ie.idTokenHeader),e=yield v.calcHash(ie.accessToken,n),F=base64UrlEncode(e.substr(0,e.length/2)),S=ie.idTokenClaims.at_hash.replace(/=/g,"");return F!==S&&(console.error("exptected at_hash: "+F),console.error("actual at_hash: "+S)),F===S})()}inferHashAlgorithm(ie){let v=ie.alg;if(!v.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+v);return"sha-"+v.substr(2)}}let UrlHelperService=(()=>{class _e{getHashFragmentParams(v){let n=v||window.location.hash;if(n=decodeURIComponent(n),0!==n.indexOf("#"))return{};const e=n.indexOf("?");return n=n.substr(e>-1?e+1:1),this.parseQueryString(n)}parseQueryString(v){const n={};let e,h,F,S,w,P,B;if(null===v)return n;e=v.split("&");for(let Z=0;Z<e.length;Z++)h=e[Z],F=h.indexOf("="),-1===F?(S=h,w=null):(S=h.substr(0,F),w=h.substr(F+1)),P=decodeURIComponent(S),B=decodeURIComponent(w),"/"===P.substr(0,1)&&(P=P.substr(1)),n[P]=B;return n}}return _e.\u0275fac=function(v){return new(v||_e)},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u";const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_e){return"[object Array]"===Object.prototype.toString.call(_e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_e){return"object"==typeof _e&&_e.buffer&&_e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(_e,ie){return function(v){return new Sha256(ie,!0).update(v)[_e]()}},createMethod=function(_e){var ie=createOutputMethod("hex",_e);NODE_JS&&(ie=nodeWrap(ie,_e)),ie.create=function(){return new Sha256(_e)},ie.update=function(e){return ie.create().update(e)};for(var v=0;v<OUTPUT_TYPES.length;++v){var n=OUTPUT_TYPES[v];ie[n]=createOutputMethod(n,_e)}return ie},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(_e){if("string"==typeof _e)return crypto.createHash(algorithm).update(_e,"utf8").digest("hex");if(null==_e)throw new Error(ERROR);return _e.constructor===ArrayBuffer&&(_e=new Uint8Array(_e)),Array.isArray(_e)||ArrayBuffer.isView(_e)||_e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(_e)).digest("hex"):method(_e)};return nodeMethod},createHmacOutputMethod=function(_e,ie){return function(v,n){return new HmacSha256(v,ie,!0).update(n)[_e]()}},createHmacMethod=function(_e){var ie=createHmacOutputMethod("hex",_e);ie.create=function(e){return new HmacSha256(e,_e)},ie.update=function(e,h){return ie.create(e).update(h)};for(var v=0;v<OUTPUT_TYPES.length;++v){var n=OUTPUT_TYPES[v];ie[n]=createHmacOutputMethod(n,_e)}return ie};function Sha256(_e,ie){ie?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=_e}function HmacSha256(_e,ie,v){var n,e=typeof _e;if("string"===e){var w,h=[],F=_e.length,S=0;for(n=0;n<F;++n)(w=_e.charCodeAt(n))<128?h[S++]=w:w<2048?(h[S++]=192|w>>6,h[S++]=128|63&w):w<55296||w>=57344?(h[S++]=224|w>>12,h[S++]=128|w>>6&63,h[S++]=128|63&w):(w=65536+((1023&w)<<10|1023&_e.charCodeAt(++n)),h[S++]=240|w>>18,h[S++]=128|w>>12&63,h[S++]=128|w>>6&63,h[S++]=128|63&w);_e=h}else{if("object"!==e)throw new Error(ERROR);if(null===_e)throw new Error(ERROR);if(ARRAY_BUFFER&&_e.constructor===ArrayBuffer)_e=new Uint8Array(_e);else if(!(Array.isArray(_e)||ARRAY_BUFFER&&ArrayBuffer.isView(_e)))throw new Error(ERROR)}_e.length>64&&(_e=new Sha256(ie,!0).update(_e).array());var P=[],B=[];for(n=0;n<64;++n){var Z=_e[n]||0;P[n]=92^Z,B[n]=54^Z}Sha256.call(this,ie,v),this.update(B),this.oKeyPad=P,this.inner=!0,this.sharedMemory=v}Sha256.prototype.update=function(_e){if(!this.finalized){var ie,v=typeof _e;if("string"!==v){if("object"!==v)throw new Error(ERROR);if(null===_e)throw new Error(ERROR);if(ARRAY_BUFFER&&_e.constructor===ArrayBuffer)_e=new Uint8Array(_e);else if(!(Array.isArray(_e)||ARRAY_BUFFER&&ArrayBuffer.isView(_e)))throw new Error(ERROR);ie=!0}for(var n,h,e=0,F=_e.length,S=this.blocks;e<F;){if(this.hashed&&(this.hashed=!1,S[0]=this.block,S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0),ie)for(h=this.start;e<F&&h<64;++e)S[h>>2]|=_e[e]<<SHIFT[3&h++];else for(h=this.start;e<F&&h<64;++e)(n=_e.charCodeAt(e))<128?S[h>>2]|=n<<SHIFT[3&h++]:n<2048?(S[h>>2]|=(192|n>>6)<<SHIFT[3&h++],S[h>>2]|=(128|63&n)<<SHIFT[3&h++]):n<55296||n>=57344?(S[h>>2]|=(224|n>>12)<<SHIFT[3&h++],S[h>>2]|=(128|n>>6&63)<<SHIFT[3&h++],S[h>>2]|=(128|63&n)<<SHIFT[3&h++]):(n=65536+((1023&n)<<10|1023&_e.charCodeAt(++e)),S[h>>2]|=(240|n>>18)<<SHIFT[3&h++],S[h>>2]|=(128|n>>12&63)<<SHIFT[3&h++],S[h>>2]|=(128|n>>6&63)<<SHIFT[3&h++],S[h>>2]|=(128|63&n)<<SHIFT[3&h++]);this.lastByteIndex=h,this.bytes+=h-this.start,h>=64?(this.block=S[16],this.start=h-64,this.hash(),this.hashed=!0):this.start=h}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _e=this.blocks,ie=this.lastByteIndex;_e[16]=this.block,_e[ie>>2]|=EXTRA[3&ie],this.block=_e[16],ie>=56&&(this.hashed||this.hash(),_e[0]=this.block,_e[16]=_e[1]=_e[2]=_e[3]=_e[4]=_e[5]=_e[6]=_e[7]=_e[8]=_e[9]=_e[10]=_e[11]=_e[12]=_e[13]=_e[14]=_e[15]=0),_e[14]=this.hBytes<<3|this.bytes>>>29,_e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var P,G,ne,ue,ae,Ee,_e=this.h0,ie=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,F=this.h6,S=this.h7,w=this.blocks;for(P=16;P<64;++P)w[P]=w[P-16]+(((G=w[P-15])>>>7|G<<25)^(G>>>18|G<<14)^G>>>3)+w[P-7]+(((G=w[P-2])>>>17|G<<15)^(G>>>19|G<<13)^G>>>10)<<0;for(Ee=ie&v,P=0;P<64;P+=4)this.first?(this.is224?(ne=300032,S=(G=w[0]-1413257819)-150054599<<0,n=G+24177077<<0):(ne=704751109,S=(G=w[0]-210244248)-1521486534<<0,n=G+143694565<<0),this.first=!1):(S=n+(G=S+((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&h^~e&F)+K[P]+w[P])<<0,n=G+(((_e>>>2|_e<<30)^(_e>>>13|_e<<19)^(_e>>>22|_e<<10))+((ne=_e&ie)^_e&v^Ee))<<0),F=v+(G=F+((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&e^~S&h)+K[P+1]+w[P+1])<<0,v=G+(((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+((ue=n&_e)^n&ie^ne))<<0,h=ie+(G=h+((F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&S^~F&e)+K[P+2]+w[P+2])<<0,ie=G+(((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+((ae=v&n)^v&_e^ue))<<0,e=_e+(G=e+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&F^~h&S)+K[P+3]+w[P+3])<<0,_e=G+(((ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10))+((Ee=ie&v)^ie&n^ae))<<0;this.h0=this.h0+_e<<0,this.h1=this.h1+ie<<0,this.h2=this.h2+v<<0,this.h3=this.h3+n<<0,this.h4=this.h4+e<<0,this.h5=this.h5+h<<0,this.h6=this.h6+F<<0,this.h7=this.h7+S<<0},Sha256.prototype.hex=function(){this.finalize();var _e=this.h0,ie=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,F=this.h6,S=this.h7,w=HEX_CHARS[_e>>28&15]+HEX_CHARS[_e>>24&15]+HEX_CHARS[_e>>20&15]+HEX_CHARS[_e>>16&15]+HEX_CHARS[_e>>12&15]+HEX_CHARS[_e>>8&15]+HEX_CHARS[_e>>4&15]+HEX_CHARS[15&_e]+HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[15&ie]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[15&F];return this.is224||(w+=HEX_CHARS[S>>28&15]+HEX_CHARS[S>>24&15]+HEX_CHARS[S>>20&15]+HEX_CHARS[S>>16&15]+HEX_CHARS[S>>12&15]+HEX_CHARS[S>>8&15]+HEX_CHARS[S>>4&15]+HEX_CHARS[15&S]),w},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var _e=this.h0,ie=this.h1,v=this.h2,n=this.h3,e=this.h4,h=this.h5,F=this.h6,S=this.h7,w=[_e>>24&255,_e>>16&255,_e>>8&255,255&_e,ie>>24&255,ie>>16&255,ie>>8&255,255&ie,v>>24&255,v>>16&255,v>>8&255,255&v,n>>24&255,n>>16&255,n>>8&255,255&n,e>>24&255,e>>16&255,e>>8&255,255&e,h>>24&255,h>>16&255,h>>8&255,255&h,F>>24&255,F>>16&255,F>>8&255,255&F];return this.is224||w.push(S>>24&255,S>>16&255,S>>8&255,255&S),w},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var _e=new ArrayBuffer(this.is224?28:32),ie=new DataView(_e);return ie.setUint32(0,this.h0),ie.setUint32(4,this.h1),ie.setUint32(8,this.h2),ie.setUint32(12,this.h3),ie.setUint32(16,this.h4),ie.setUint32(20,this.h5),ie.setUint32(24,this.h6),this.is224||ie.setUint32(28,this.h7),_e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var _e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(_e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(_e){if("string"!=typeof _e)throw new TypeError("expected string");var ie,v=_e,n=new Uint8Array(v.length);for(ie=0;ie<v.length;ie++)n[ie]=v.charCodeAt(ie);return n}function encodeUTF8(_e){var ie,v=[];for(ie=0;ie<_e.length;ie++)v.push(String.fromCharCode(_e[ie]));return v.join("")}let DefaultHashHandler=(()=>{class _e{calcHash(v,n){return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(v)))})()}toHashString2(v){let n="";for(let e of v)n+=String.fromCharCode(e);return n}toHashString(v){const n=new Uint8Array(v);let e="";for(let h of n)e+=String.fromCharCode(h);return e}}return _e.\u0275fac=function(v){return new(v||_e)},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),OAuthService=(()=>{class _e extends AuthConfig{constructor(v,n,e,h,F,S,w,P,B,Z){super(),this.ngZone=v,this.http=n,this.config=F,this.urlHelper=S,this.logger=w,this.crypto=P,this.dateTimeService=Z,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=B,F||(F={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),h&&(this.tokenValidationHandler=h),F&&this.configure(F);try{e?this.setStorage(e):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(V){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",V)}if(this.checkLocalStorageAccessable()){const V=window?.navigator?.userAgent;(V?.includes("MSIE ")||V?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const v="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(v,v),localStorage.removeItem(v),0))}catch{return!1}}configure(v){Object.assign(this,new AuthConfig,v),this.config=Object.assign({},new AuthConfig,v),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"token_received"===v.type)).subscribe(v=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(v={},n,e=!0){let h=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(F=>{"token_received"===F.type?h=!0:"logout"===F.type&&(h=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(F=>"token_expires"===F.type&&(null==n||"any"===n||F.info===n)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(F=>{h&&this.refreshInternal(v,e).catch(S=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(v,n){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(v,n):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(v=null){return this.loadDiscoveryDocument().then(n=>this.tryLogin(v))}loadDiscoveryDocumentAndLogin(v=null){return this.loadDiscoveryDocumentAndTryLogin(v=v||{}).then(n=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof v.state?v.state:""),!1))}debug(...v){this.showDebugInformation&&this.logger.debug.apply(this.logger,v)}validateUrlFromDiscoveryDocument(v){const n=[],e=this.validateUrlForHttps(v),h=this.validateUrlAgainstIssuer(v);return e||n.push("https for all urls required. Also for urls received by discovery."),h||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(v){if(!v)return!0;const n=v.toLowerCase();return!(!1!==this.requireHttps&&(!n.match(/^http:\/\/localhost($|[:\/])/)&&!n.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(v,n){if(!v)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(v))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(v){return!this.strictDiscoveryDocumentValidation||!v||v.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"token_received"===v.type)).subscribe(v=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const v=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),e=this.calcTimeout(n,v);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}setupIdTokenTimer(){const v=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),e=this.calcTimeout(n,v);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(v,n){const e=this.dateTimeService.now();return Math.max(0,(n-v)*this.timeoutFactor-(e-v))}setStorage(v){this._storage=v,this.configChanged()}loadDiscoveryDocument(v=null){return new Promise((n,e)=>{v||((v=this.issuer||"").endsWith("/")||(v+="/"),v+=".well-known/openid-configuration"),this.validateUrlForHttps(v)?this.http.get(v).subscribe(h=>{if(!this.validateDiscoveryDocument(h))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void e("discovery_document_validation_error");this.loginUrl=h.authorization_endpoint,this.logoutUrl=h.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=h.grant_types_supported,this.issuer=h.issuer,this.tokenEndpoint=h.token_endpoint,this.userinfoEndpoint=h.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=h.jwks_uri,this.sessionCheckIFrameUrl=h.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(h),this.revocationEndpoint=h.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(F=>{const w=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:h,jwks:F});this.eventsSubject.next(w),n(w)}).catch(F=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",F)),e(F)})},h=>{this.logger.error("error loading discovery document",h),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",h)),e(h)}):e("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((v,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(e=>{this.jwks=e,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),v(e)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",e)),n(e)}):v(null)})}validateDiscoveryDocument(v){let n;return this.skipIssuerCheck||v.issuer===this.issuer?(n=this.validateUrlFromDiscoveryDocument(v.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(v.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(v.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(v.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!v.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+v.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(v,n,e).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((v,n)=>{const e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:e,observe:"response",responseType:"text"}).subscribe(h=>{if(this.debug("userinfo received",JSON.stringify(h)),h.headers.get("content-type").startsWith("application/json")){let F=JSON.parse(h.body);const S=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!S.sub||F.sub!==S.sub))return void n("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");F=Object.assign({},S,F),this._storage.setItem("id_token_claims_obj",JSON.stringify(F)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),v({info:F})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),v(JSON.parse(h.body))},h=>{this.logger.error("error loading user info",h),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",h)),n(h)})})}fetchTokenUsingPasswordFlow(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:v,password:n},e)}fetchTokenUsingGrant(v,n,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let h=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",v).set("scope",this.scope);if(this.useHttpBasicAuth){const F=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+F)}if(this.useHttpBasicAuth||(h=h.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(h=h.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const F of Object.getOwnPropertyNames(this.customQueryParams))h=h.set(F,this.customQueryParams[F]);for(const F of Object.keys(n))h=h.set(F,n[F]);return e=e.set("Content-Type","application/x-www-form-urlencoded"),new Promise((F,S)=>{this.http.post(this.tokenEndpoint,h,{headers:e}).subscribe(w=>{this.debug("tokenResponse",w),this.storeAccessTokenResponse(w.access_token,w.refresh_token,w.expires_in||this.fallbackAccessTokenExpirationTimeInSec,w.scope,this.extractRecognizedCustomParameters(w)),this.oidc&&w.id_token&&this.processIdToken(w.id_token,w.access_token).then(P=>{this.storeIdToken(P),F(w)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),F(w)},w=>{this.logger.error("Error performing ${grantType} flow",w),this.eventsSubject.next(new OAuthErrorEvent("token_error",w)),S(w)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((v,n)=>{let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),h=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const F=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+F)}if(this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const F of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(F,this.customQueryParams[F]);this.http.post(this.tokenEndpoint,e,{headers:h}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(F=>F.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(F.id_token,F.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(S=>this.storeIdToken(S)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(S=>F)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(F))).subscribe(F=>{this.debug("refresh tokenResponse",F),this.storeAccessTokenResponse(F.access_token,F.refresh_token,F.expires_in||this.fallbackAccessTokenExpirationTimeInSec,F.scope,this.extractRecognizedCustomParameters(F)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),v(F)},F=>{this.logger.error("Error refreshing token",F),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",F)),n(F)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=v=>{const n=this.processMessageEventMessage(v);this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(v={},n=!0){const e=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(v.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const h=this.document.getElementById(this.silentRefreshIFrameName);h&&this.document.body.removeChild(h),this.silentRefreshSubject=e.sub;const F=this.document.createElement("iframe");F.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,n,v).then(Z=>{F.setAttribute("src",Z),this.silentRefreshShowIFrame||(F.style.display="none"),this.document.body.appendChild(F)});const w=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(Z=>Z instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),P=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(Z=>"token_received"===Z.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),B=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S3)([w,P,B]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(Z=>{if(Z instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===Z.type||(Z=new OAuthErrorEvent("silent_refresh_error",Z)),this.eventsSubject.next(Z),Z;return"token_received"===Z.type&&(Z=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(Z)),Z})).toPromise()}initImplicitFlowInPopup(v){return this.initLoginFlowInPopup(v)}initLoginFlowInPopup(v){return v=v||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((e,h)=>{let w,S=null;v.windowRef?v.windowRef&&!v.windowRef.closed&&(S=v.windowRef,S.location.href=n):S=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(v));const P=J=>{this.tryLogin({customHashFragment:J,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{Z(),e(!0)},q=>{Z(),h(q)})};S?w=window.setInterval(()=>{(!S||S.closed)&&(Z(),h(new OAuthErrorEvent("popup_closed",{})))},500):h(new OAuthErrorEvent("popup_blocked",{}));const Z=()=>{window.clearInterval(w),window.removeEventListener("storage",G),window.removeEventListener("message",V),null!==S&&S.close(),S=null},V=J=>{const q=this.processMessageEventMessage(J);q&&null!==q?(window.removeEventListener("storage",G),P(q)):console.log("false event firing")},G=J=>{"auth_hash"===J.key&&(window.removeEventListener("message",V),P(J.newValue))};window.addEventListener("message",V),window.addEventListener("storage",G)}))}calculatePopupFeatures(v){const n=v.height||470,e=v.width||500,h=window.screenLeft+(window.outerWidth-e)/2;return`location=no,toolbar=no,width=${e},height=${n},top=${window.screenTop+(window.outerHeight-n)/2},left=${h}`}processMessageEventMessage(v){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!v||!v.data||"string"!=typeof v.data)return;const e=v.data;return e.startsWith(n)?"#"+e.substr(n.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=v=>{const n=v.origin.toLowerCase(),e=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),e.startsWith(n)){switch(v.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",v)}else this.debug("sessionCheckEventListener","wrong origin",n,"expected",e,"event",v)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(v=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(v=>{this.debug("token refresh after session change worked")}).catch(v=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"silently_refreshed"===v.type||"silent_refresh_timeout"===v.type||"silent_refresh_error"===v.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(v=>{"silently_refreshed"!==v.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const v=this.document.getElementById(this.sessionCheckIFrameName);v&&this.document.body.removeChild(v);const n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),n.setAttribute("src",this.sessionCheckIFrameUrl),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const v=this.document.getElementById(this.sessionCheckIFrameName);v||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const n=this.getSessionState();n||this.stopSessionCheckTimer(),v.contentWindow.postMessage(this.clientId+" "+n,this.issuer)}createLoginUrl(v="",n="",e="",h=!1,F={}){var S=this;return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const w=S;let P;P=e||S.redirectUri;const B=yield S.createAndSaveNonce();if(v=v?B+S.config.nonceStateSeparator+encodeURIComponent(v):B,!S.requestAccessToken&&!S.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");S.responseType=S.config.responseType?S.config.responseType:S.oidc&&S.requestAccessToken?"id_token token":S.oidc&&!S.requestAccessToken?"id_token":"token";const Z=w.loginUrl.indexOf("?")>-1?"&":"?";let V=w.scope;S.oidc&&!V.match(/(^|\s)openid($|\s)/)&&(V="openid "+V);let G=w.loginUrl+Z+"response_type="+encodeURIComponent(w.responseType)+"&client_id="+encodeURIComponent(w.clientId)+"&state="+encodeURIComponent(v)+"&redirect_uri="+encodeURIComponent(P)+"&scope="+encodeURIComponent(V);if(S.responseType.includes("code")&&!S.disablePKCE){const[J,q]=yield S.createChallangeVerifierPairForPKCE();S.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",q):S._storage.setItem("PKCE_verifier",q),G+="&code_challenge="+J,G+="&code_challenge_method=S256"}n&&(G+="&login_hint="+encodeURIComponent(n)),w.resource&&(G+="&resource="+encodeURIComponent(w.resource)),w.oidc&&(G+="&nonce="+encodeURIComponent(B)),h&&(G+="&prompt=none");for(const J of Object.keys(F))G+="&"+encodeURIComponent(J)+"="+encodeURIComponent(F[J]);if(S.customQueryParams)for(const J of Object.getOwnPropertyNames(S.customQueryParams))G+="&"+J+"="+encodeURIComponent(S.customQueryParams[J]);return G})()}initImplicitFlowInternal(v="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof n?h=n:"object"==typeof n&&(e=n),this.createLoginUrl(v,h,null,!1,e).then(this.config.openUri).catch(F=>{console.error("Error in initImplicitFlow",F),this.inImplicitFlow=!1})}initImplicitFlow(v="",n=""){""!==this.loginUrl?this.initImplicitFlowInternal(v,n):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initImplicitFlowInternal(v,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(v){const n=this;if(v.onTokenReceived){const e={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};v.onTokenReceived(e)}}storeAccessTokenResponse(v,n,e,h,F){if(this._storage.setItem("access_token",v),h&&!Array.isArray(h)?this._storage.setItem("granted_scopes",JSON.stringify(h.split(" "))):h&&Array.isArray(h)&&this._storage.setItem("granted_scopes",JSON.stringify(h)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),e){const S=1e3*e,P=this.dateTimeService.new().getTime()+S;this._storage.setItem("expires_at",""+P)}n&&this._storage.setItem("refresh_token",n),F&&F.forEach((S,w)=>{this._storage.setItem(w,S)})}tryLogin(v=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(v).then(n=>!0):this.tryLoginImplicitFlow(v)}parseQueryString(v){return v&&0!==v.length?("?"===v.charAt(0)&&(v=v.substr(1)),this.urlHelper.parseQueryString(v)):{}}tryLoginCodeFlow(v=null){var n=this;return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const e=(v=v||{}).customHashFragment?v.customHashFragment.substring(1):window.location.search,h=n.getCodePartsFromUrl(e),F=h.code,S=h.state,w=h.session_state;if(!v.preventClearHashAfterLogin){const Z=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,Z)}let[P,B]=n.parseState(S);if(n.state=B,h.error){n.debug("error trying to login"),n.handleLoginError(v,h);const Z=new OAuthErrorEvent("code_error",{},h);return n.eventsSubject.next(Z),Promise.reject(Z)}if(!v.disableNonceCheck){if(!P)return n.saveRequestedRoute(),Promise.resolve();if(!v.disableOAuth2StateCheck&&!n.validateNonce(P)){const V=new OAuthErrorEvent("invalid_nonce_in_state",null);return n.eventsSubject.next(V),Promise.reject(V)}return n.storeSessionState(w),F&&(yield n.getTokenFromCode(F,v),n.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const v=this._storage.getItem("requested_route");v&&history.replaceState(null,"",window.location.origin+v)}getCodePartsFromUrl(v){return v&&0!==v.length?("?"===v.charAt(0)&&(v=v.substr(1)),this.urlHelper.parseQueryString(v)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(v,n){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",v).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let h;h=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),h?e=e.set("code_verifier",h):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(e,n)}fetchAndProcessToken(v,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const h=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+h)}return this.useHttpBasicAuth||(v=v.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(v=v.set("client_secret",this.dummyClientSecret)),new Promise((h,F)=>{if(this.customQueryParams)for(let S of Object.getOwnPropertyNames(this.customQueryParams))v=v.set(S,this.customQueryParams[S]);this.http.post(this.tokenEndpoint,v,{headers:e}).subscribe(S=>{this.debug("refresh tokenResponse",S),this.storeAccessTokenResponse(S.access_token,S.refresh_token,S.expires_in||this.fallbackAccessTokenExpirationTimeInSec,S.scope,this.extractRecognizedCustomParameters(S)),this.oidc&&S.id_token?this.processIdToken(S.id_token,S.access_token,n.disableNonceCheck).then(w=>{this.storeIdToken(w),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(S)}).catch(w=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",w)),console.error("Error validating tokens"),console.error(w),F(w)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(S))},S=>{console.error("Error getting token",S),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",S)),F(S)})})}tryLoginImplicitFlow(v=null){let n;n=(v=v||{}).customHashFragment?this.urlHelper.getHashFragmentParams(v.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);const e=n.state;let[h,F]=this.parseState(e);if(this.state=F,n.error){this.debug("error trying to login"),this.handleLoginError(v,n);const Z=new OAuthErrorEvent("token_error",{},n);return this.eventsSubject.next(Z),Promise.reject(Z)}const S=n.access_token,w=n.id_token,P=n.session_state,B=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!S||this.requestAccessToken&&!v.disableOAuth2StateCheck&&!e||this.oidc&&!w)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!P&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!v.disableNonceCheck&&!this.validateNonce(h)){const V=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(V),Promise.reject(V)}return this.requestAccessToken&&this.storeAccessTokenResponse(S,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,B),this.oidc?this.processIdToken(w,S,v.disableNonceCheck).then(Z=>v.validationHandler?v.validationHandler({accessToken:S,idClaims:Z.idTokenClaims,idToken:Z.idToken,state:e}).then(V=>Z):Z).then(Z=>(this.storeIdToken(Z),this.storeSessionState(P),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(v),this.inImplicitFlow=!1,!0)).catch(Z=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",Z)),this.logger.error("Error validating tokens"),this.logger.error(Z),Promise.reject(Z))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(v),Promise.resolve(!0))}parseState(v){let n=v,e="";if(v){const h=v.indexOf(this.config.nonceStateSeparator);h>-1&&(n=v.substr(0,h),e=v.substr(h+this.config.nonceStateSeparator.length))}return[n,e]}validateNonce(v){let n;return n=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),n===v||(console.error("Validating access_token failed, wrong state/nonce.",n,v),!1)}storeIdToken(v){this._storage.setItem("id_token",v.idToken),this._storage.setItem("id_token_claims_obj",v.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+v.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(v){this._storage.setItem("session_state",v)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(v,n){v.onLoginError&&v.onLoginError(n),this.clearHashAfterLogin&&!v.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(v=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:v}processIdToken(v,n,e=!1){const h=v.split("."),S=b64DecodeUnicode(this.padBase64(h[0])),w=JSON.parse(S),B=b64DecodeUnicode(this.padBase64(h[1])),Z=JSON.parse(B);let V;if(V=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(Z.aud)){if(Z.aud.every(ae=>ae!==this.clientId)){const ae="Wrong audience: "+Z.aud.join(",");return this.logger.warn(ae),Promise.reject(ae)}}else if(Z.aud!==this.clientId){const ae="Wrong audience: "+Z.aud;return this.logger.warn(ae),Promise.reject(ae)}if(!Z.sub){const ae="No sub claim in id_token";return this.logger.warn(ae),Promise.reject(ae)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==Z.sub){const ae=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${Z.sub}`;return this.logger.warn(ae),Promise.reject(ae)}if(!Z.iat){const ae="No iat claim in id_token";return this.logger.warn(ae),Promise.reject(ae)}if(!this.skipIssuerCheck&&Z.iss!==this.issuer){const ae="Wrong issuer: "+Z.iss;return this.logger.warn(ae),Promise.reject(ae)}if(!e&&Z.nonce!==V){const ae="Wrong nonce: "+Z.nonce;return this.logger.warn(ae),Promise.reject(ae)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!Z.at_hash){const ae="An at_hash is needed!";return this.logger.warn(ae),Promise.reject(ae)}const G=this.dateTimeService.now(),J=1e3*Z.iat,q=1e3*Z.exp,ne=this.getClockSkewInMsec();if(J-ne>=G||q+ne<=G){const ae="Token has expired";return console.error(ae),console.error({now:G,issuedAtMSec:J,expiresAtMSec:q}),Promise.reject(ae)}const ue={accessToken:n,idToken:v,jwks:this.jwks,idTokenClaims:Z,idTokenHeader:w,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(ue).then(ae=>({idToken:v,idTokenClaims:Z,idTokenClaimsJson:B,idTokenHeader:w,idTokenHeaderJson:S,idTokenExpiresAt:q})):this.checkAtHash(ue).then(ae=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!ae){const Ee="Wrong at_hash";return this.logger.warn(Ee),Promise.reject(Ee)}return this.checkSignature(ue).then(Ee=>{const at={idToken:v,idTokenClaims:Z,idTokenClaimsJson:B,idTokenHeader:w,idTokenHeaderJson:S,idTokenExpiresAt:q};return this.disableAtHashCheck?at:this.checkAtHash(ue).then(ze=>{if(this.requestAccessToken&&!ze){const Ve="Wrong at_hash";return this.logger.warn(Ve),Promise.reject(Ve)}return at})})})}getIdentityClaims(){const v=this._storage.getItem("id_token_claims_obj");return v?JSON.parse(v):null}getGrantedScopes(){const v=this._storage.getItem("granted_scopes");return v?JSON.parse(v):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(v){for(;v.length%4!=0;)v+="=";return v}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const v=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(v&&parseInt(v,10)<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const v=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(v&&parseInt(v,10)<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(v){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(v)>=0&&null!==this._storage.getItem(v)?JSON.parse(this._storage.getItem(v)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(v={},n=""){let e=!1;"boolean"==typeof v&&(e=v,v={});const h=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(S=>this._storage.removeItem(S)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||e||!h&&!this.postLogoutRedirectUri)return;let F;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)F=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(h)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let S=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});h&&(S=S.set("id_token_hint",h));const w=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";w&&(S=S.set("post_logout_redirect_uri",w),n&&(S=S.set("state",n)));for(let P in v)S=S.set(P,v[P]);F=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+S.toString()}this.config.openUri(F)}createAndSaveNonce(){const v=this;return this.createNonce().then(function(n){return v.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):v._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const v=this.document.getElementById(this.silentRefreshIFrameName);v&&v.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(v=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let e=45,h="";const F=typeof self>"u"?null:self.crypto||self.msCrypto;if(F){let S=new Uint8Array(e);F.getRandomValues(S),S.map||(S.map=Array.prototype.map),S=S.map(w=>n.charCodeAt(w%n.length)),h=String.fromCharCode.apply(null,S)}else for(;0<e--;)h+=n[Math.random()*n.length|0];v(base64UrlEncode(h))})}checkAtHash(v){var n=this;return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return n.tokenValidationHandler?n.tokenValidationHandler.validateAtHash(v):(n.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(v){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(v):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(v="",n={}){return"code"===this.responseType?this.initCodeFlow(v,n):this.initImplicitFlow(v,n)}initCodeFlow(v="",n={}){""!==this.loginUrl?this.initCodeFlowInternal(v,n):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initCodeFlowInternal(v,n))}initCodeFlowInternal(v="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof n?h=n:"object"==typeof n&&(e=n),this.createLoginUrl(v,h,null,!1,e).then(this.config.openUri).catch(F=>{console.error("Error in initAuthorizationCodeFlow"),console.error(F)})}createChallangeVerifierPairForPKCE(){var v=this;return(0,_home_hybris_olf_commerce_js_storefront_cangubike_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){if(!v.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const n=yield v.createNonce();return[base64UrlEncode(yield v.crypto.calcHash(n,"sha-256")),n]})()}extractRecognizedCustomParameters(v){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(e=>{v[e]&&n.set(e,JSON.stringify(v[e]))}),n}revokeTokenAndLogout(v={},n=!1){let e=this.revocationEndpoint,h=this.getAccessToken(),F=this.getRefreshToken();if(!h)return;let S=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),w=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const P=btoa(`${this.clientId}:${this.dummyClientSecret}`);w=w.set("Authorization","Basic "+P)}if(this.useHttpBasicAuth||(S=S.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(S=S.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const P of Object.getOwnPropertyNames(this.customQueryParams))S=S.set(P,this.customQueryParams[P]);return new Promise((P,B)=>{let Z,V;if(h){let G=S.set("token",h).set("token_type_hint","access_token");Z=this.http.post(e,G,{headers:w})}else Z=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(F){let G=S.set("token",F).set("token_type_hint","refresh_token");V=this.http.post(e,G,{headers:w})}else V=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);n&&(Z=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(G=>0===G.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(G))),V=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(G=>0===G.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(G)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.aj)([Z,V]).subscribe(G=>{this.logOut(v),P(G),this.logger.info("Token successfully revoked")},G=>{this.logger.error("Error revoking token",G),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",G)),B(G)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return _e.\u0275fac=function(v){return new(v||_e)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(ie){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(ie)}}let DefaultOAuthInterceptor=(()=>{class _e{constructor(v,n,e){this.oAuthService=v,this.errorHandler=n,this.moduleConfig=e}checkUrl(v){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(v):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(n=>v.toLowerCase().startsWith(n.toLowerCase()))}intercept(v,n){const e=v.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(e)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(F=>!!F)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(F=>"token_received"===F.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(F=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(F=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.zg)(F=>{if(F){const w=v.headers.set("Authorization","Bearer "+F);v=v.clone({headers:w})}return n.handle(v).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(S=>this.errorHandler.handleError(S)))})):n.handle(v).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(F=>this.errorHandler.handleError(F))):n.handle(v)}}return _e.\u0275fac=function(v){return new(v||_e)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},_e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class NullValidationHandler{validateSignature(ie){return Promise.resolve(null)}validateAtHash(ie){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return typeof sessionStorage<"u"?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class _e{static forRoot(v=null,n=NullValidationHandler){return{ngModule:_e,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:n},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:v},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return _e.\u0275fac=function(v){return new(v||_e)},_e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:_e}),_e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),_e})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")},5861:(_e,ie,v)=>{"use strict";function n(h,F,S,w,P,B,Z){try{var V=h[B](Z),G=V.value}catch(J){return void S(J)}V.done?F(G):Promise.resolve(G).then(w,P)}function e(h){return function(){var F=this,S=arguments;return new Promise(function(w,P){var B=h.apply(F,S);function Z(G){n(B,w,P,Z,V,"next",G)}function V(G){n(B,w,P,Z,V,"throw",G)}Z(void 0)})}}v.d(ie,{Z:()=>e})}},_e=>{_e(_e.s=3949)}]);