"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=967,exports.ids=[967],exports.modules={5967:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CONFIGURATOR_TYPE_TEXTFIELD:()=>CONFIGURATOR_TYPE_TEXTFIELD$1,ConfiguratorTextfieldAddToCartButtonComponent:()=>ConfiguratorTextfieldAddToCartButtonComponent,ConfiguratorTextfieldFormComponent:()=>ConfiguratorTextfieldFormComponent,ConfiguratorTextfieldInputFieldComponent:()=>ConfiguratorTextfieldInputFieldComponent,ConfiguratorTextfieldInputFieldReadonlyComponent:()=>ConfiguratorTextfieldInputFieldReadonlyComponent,OccConfiguratorTextfieldAdapter:()=>OccConfiguratorTextfieldAdapter,OccConfiguratorTextfieldAddToCartSerializer:()=>OccConfiguratorTextfieldAddToCartSerializer,OccConfiguratorTextfieldNormalizer:()=>OccConfiguratorTextfieldNormalizer,TextfieldConfiguratorComponentsModule:()=>TextfieldConfiguratorComponentsModule,TextfieldConfiguratorCoreModule:()=>TextfieldConfiguratorCoreModule,TextfieldConfiguratorModule:()=>TextfieldConfiguratorModule,TextfieldConfiguratorOccModule:()=>TextfieldConfiguratorOccModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2315),_ngrx_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5094),_spartacus_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3409),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2994),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2986),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5874),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7221),_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8374),_angular_router__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9516),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9808),_angular_forms__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3075),_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2327),_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6016),_spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(3528),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1086),_angular_common_http__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(520);const _c0=__name(function(){return{cxRoute:"cart"}},"_c0"),_c1=__name(function(a0,a1){return{value:a0,attribute:a1}},"_c1");function ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_div_4_Template(rf,ctx){if(1&rf){const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6)(1,"cx-configurator-textfield-input-field",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("inputChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r9);const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ctx_r8.updateConfiguration($event))},"ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_div_4_Template_cx_configurator_textfield_input_field_inputChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&rf){const attribute_r7=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("attribute",attribute_r7)}}function ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(4,ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_div_4_Template,2,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(5,"cx-configurator-textfield-add-to-cart-button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf){const configuration_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().ngIf;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,3,"configurator.a11y.editAttributesAndValues")," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",configuration_r1.configurationInfos),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("configuration",configuration_r1)}}function ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"cx-configurator-textfield-input-field-readonly",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const attribute_r12=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("attribute",attribute_r12)}}function ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_div_3_Template,2,1,"div",4)),2&rf){const configuration_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().ngIf;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(2,2,"configurator.a11y.listOfAttributesAndValues")," "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",configuration_r1.configurationInfos)}}function ConfiguratorTextfieldFormComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_Template,6,5,"ng-container",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_Template,4,4,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_0__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(4),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(2,2,ctx_r0.isEditable$))("ngIfElse",_r3)}}var ConfiguratorTextfield;__name(ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_div_4_Template,"ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_div_4_Template"),__name(ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_Template,"ConfiguratorTextfieldFormComponent_ng_container_0_ng_container_1_Template"),__name(ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_div_3_Template,"ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_div_3_Template"),__name(ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_Template,"ConfiguratorTextfieldFormComponent_ng_container_0_ng_template_3_Template"),__name(ConfiguratorTextfieldFormComponent_ng_container_0_Template,"ConfiguratorTextfieldFormComponent_ng_container_0_Template"),function(ConfiguratorTextfield2){let ConfigurationStatus;var ConfigurationStatus2;(ConfigurationStatus2=ConfigurationStatus=ConfiguratorTextfield2.ConfigurationStatus||(ConfiguratorTextfield2.ConfigurationStatus={})).SUCCESS="SUCCESS",ConfigurationStatus2.ERROR="ERROR"}(ConfiguratorTextfield||(ConfiguratorTextfield={}));const CONFIGURATION_TEXTFIELD_DATA="[ConfiguratorTextfield] Configuration Data",CREATE_CONFIGURATION="[Configurator] Create Configuration Textfield",UPDATE_CONFIGURATION="[Configurator] Update Configuration Textfield",ADD_TO_CART="[Configurator] Add to cart Textfield",REMOVE_CONFIGURATION="[Configurator] Remove Configuration Textfield";class CreateConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type=CREATE_CONFIGURATION}}__name(CreateConfiguration,"CreateConfiguration");class CreateConfigurationFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderFailAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA,payload),this.payload=payload,this.type="[Configurator] Create Configuration Textfield Fail"}}__name(CreateConfigurationFail,"CreateConfigurationFail");class CreateConfigurationSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderSuccessAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Create Configuration Textfield Success"}}__name(CreateConfigurationSuccess,"CreateConfigurationSuccess");class UpdateConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type=UPDATE_CONFIGURATION}}__name(UpdateConfiguration,"UpdateConfiguration");class AddToCart extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type=ADD_TO_CART}}__name(AddToCart,"AddToCart");class AddToCartFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderFailAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA,payload),this.payload=payload,this.type="[Configurator] Add to cart Textfield Fail"}}__name(AddToCartFail,"AddToCartFail");class UpdateCartEntryConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Update cart entry configuration Textfield"}}__name(UpdateCartEntryConfiguration,"UpdateCartEntryConfiguration");class UpdateCartEntryConfigurationFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderFailAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA,payload),this.payload=payload,this.type="[Configurator] Update cart entry configuration Textfield Fail"}}__name(UpdateCartEntryConfigurationFail,"UpdateCartEntryConfigurationFail");class ReadCartEntryConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Read cart entry configuration Textfield"}}__name(ReadCartEntryConfiguration,"ReadCartEntryConfiguration");class ReadCartEntryConfigurationSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderSuccessAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Read cart entry configuration Textfield Success"}}__name(ReadCartEntryConfigurationSuccess,"ReadCartEntryConfigurationSuccess");class ReadCartEntryConfigurationFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderFailAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA,payload),this.payload=payload,this.type="[Configurator] Read cart entry configuration Textfield Fail"}}__name(ReadCartEntryConfigurationFail,"ReadCartEntryConfigurationFail");class ReadOrderEntryConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderLoadAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Read order entry configuration textfield"}}__name(ReadOrderEntryConfiguration,"ReadOrderEntryConfiguration");class ReadOrderEntryConfigurationSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderSuccessAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA),this.payload=payload,this.type="[Configurator] Read order entry configuration textfield Success"}}__name(ReadOrderEntryConfigurationSuccess,"ReadOrderEntryConfigurationSuccess");class ReadOrderEntryConfigurationFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderFailAction{constructor(payload){super(CONFIGURATION_TEXTFIELD_DATA,payload),this.payload=payload,this.type="[Configurator] Read order entry configuration textfield Fail"}}__name(ReadOrderEntryConfigurationFail,"ReadOrderEntryConfigurationFail");class RemoveConfiguration extends _spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.LoaderResetAction{constructor(){super(CONFIGURATION_TEXTFIELD_DATA),this.type=REMOVE_CONFIGURATION}}__name(RemoveConfiguration,"RemoveConfiguration");const getConfigurationContentSelector=__name(state=>state.loaderState.value,"getConfigurationContentSelector"),getConfigurationsState=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.ZF)("productConfigurationTextfield"),getConfigurationContent=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.P1)(getConfigurationsState,getConfigurationContentSelector);class ConfiguratorTextfieldService{constructor(store,activeCartService,configuratorUtils,userIdService){this.store=store,this.activeCartService=activeCartService,this.configuratorUtils=configuratorUtils,this.userIdService=userIdService}createConfiguration(owner){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.Ys)(getConfigurationsState),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.b)(configurationState=>{const configuration=configurationState.loaderState.value,isAvailableForProduct=void 0!==configuration&&!_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.isInitialOwner(configuration.owner),isLoading=configurationState.loaderState.loading;!isAvailableForProduct&&!isLoading&&this.store.dispatch(new CreateConfiguration({productCode:owner.id,owner}))}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(configurationState=>configurationState.loaderState.value),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.h)(configuration=>!this.isConfigurationInitial(configuration)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(configuration=>null!=configuration?configuration:{configurationInfos:[],owner:_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.createInitialOwner()}))}updateConfiguration(changedAttribute){this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.Ys)(getConfigurationContent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1)).subscribe(oldConfiguration=>{oldConfiguration&&this.store.dispatch(new UpdateConfiguration(this.createNewConfigurationWithChange(changedAttribute,oldConfiguration)))})}addToCart(productCode,configuration){this.activeCartService.requireLoadedCart().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1)).subscribe(cart=>{this.userIdService.getUserId().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1)).subscribe(userId=>{const addToCartParameters={userId,cartId:this.configuratorUtils.getCartId(cart),productCode,configuration,quantity:1};this.store.dispatch(new AddToCart(addToCartParameters))})})}updateCartEntry(cartEntryNumber,configuration){this.activeCartService.requireLoadedCart().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1)).subscribe(cart=>{this.userIdService.getUserId().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1)).subscribe(userId=>{const updateCartParameters={userId,cartId:this.configuratorUtils.getCartId(cart),cartEntryNumber,configuration};this.store.dispatch(new UpdateCartEntryConfiguration(updateCartParameters))})})}readConfigurationForCartEntry(owner){return this.activeCartService.requireLoadedCart().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(cart=>this.userIdService.getUserId().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(userId=>({cart,userId}))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(cont=>({userId:cont.userId,cartId:this.configuratorUtils.getCartId(cont.cart),cartEntryNumber:owner.id,owner})),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.b)(readFromCartEntryParameters=>this.store.dispatch(new ReadCartEntryConfiguration(readFromCartEntryParameters))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.c)(this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.Ys)(getConfigurationContent))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.h)(configuration=>!this.isConfigurationInitial(configuration)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(configuration=>configuration||{configurationInfos:[],owner:_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.createInitialOwner()}))))}readConfigurationForOrderEntry(owner){const ownerIdParts=this.configuratorUtils.decomposeOwnerId(owner.id),readFromOrderEntryParameters={userId:_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.zyp,orderId:ownerIdParts.documentId,orderEntryNumber:ownerIdParts.entryNumber,owner};return this.store.dispatch(new ReadOrderEntryConfiguration(readFromOrderEntryParameters)),this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.Ys)(getConfigurationContent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.h)(configuration=>!this.isConfigurationInitial(configuration)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(configuration=>configuration||{configurationInfos:[],owner:_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.createInitialOwner()}))}createNewConfigurationWithChange(changedAttribute,oldConfiguration){const newConfiguration={configurationInfos:[],owner:oldConfiguration.owner};return oldConfiguration.configurationInfos.forEach(info=>{info.configurationLabel===changedAttribute.configurationLabel?(changedAttribute.status=ConfiguratorTextfield.ConfigurationStatus.SUCCESS,newConfiguration.configurationInfos.push(changedAttribute)):newConfiguration.configurationInfos.push(info)}),newConfiguration}isConfigurationInitial(configuration){return void 0===configuration||_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.isInitialOwner(configuration.owner)}}__name(ConfiguratorTextfieldService,"ConfiguratorTextfieldService"),ConfiguratorTextfieldService.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_10__.bu),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.NU),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.XBV))},"ConfiguratorTextfieldService_Factory"),ConfiguratorTextfieldService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ConfiguratorTextfieldService,factory:ConfiguratorTextfieldService.\u0275fac,providedIn:"root"});class ConfiguratorTextfieldAddToCartButtonComponent{constructor(configuratorTextfieldService){this.configuratorTextfieldService=configuratorTextfieldService}onAddToCart(){const owner=this.configuration.owner;switch(owner.type){case _spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.PRODUCT:this.configuratorTextfieldService.addToCart(owner.id,this.configuration);break;case _spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.CART_ENTRY:this.configuratorTextfieldService.updateCartEntry(owner.id,this.configuration)}}getButtonText(){return this.configuration.owner.type===_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.CART_ENTRY?"configurator.addToCart.buttonUpdateCart":"configurator.addToCart.button"}}__name(ConfiguratorTextfieldAddToCartButtonComponent,"ConfiguratorTextfieldAddToCartButtonComponent"),ConfiguratorTextfieldAddToCartButtonComponent.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldAddToCartButtonComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(ConfiguratorTextfieldService))},"ConfiguratorTextfieldAddToCartButtonComponent_Factory"),ConfiguratorTextfieldAddToCartButtonComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:ConfiguratorTextfieldAddToCartButtonComponent,selectors:[["cx-configurator-textfield-add-to-cart-button"]],inputs:{configuration:"configuration",productCode:"productCode"},decls:4,vars:7,consts:[[1,"cx-btn","btn","btn-block","btn-primary","cx-add-to-cart-btn",3,"routerLink","click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"button",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return ctx.onAddToCart()},"ConfiguratorTextfieldAddToCartButtonComponent_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(1,"cxUrl"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(1,2,_angular_core__WEBPACK_IMPORTED_MODULE_0__.DdM(6,_c0))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,4,ctx.getButtonText()),"\n"))},"ConfiguratorTextfieldAddToCartButtonComponent_Template"),dependencies:[_angular_router__WEBPACK_IMPORTED_MODULE_11__.rH,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.X$D,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.l2T],encapsulation:2,changeDetection:0});class ConfiguratorTextfieldInputFieldComponent{constructor(){this.PREFIX_TEXTFIELD="cx-configurator-textfield",this.attributeInputForm=new _angular_forms__WEBPACK_IMPORTED_MODULE_12__.p4(""),this.inputChange=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}ngOnInit(){this.attributeInputForm.setValue(this.attribute.configurationValue)}onInputChange(){const attribute={configurationLabel:this.attribute.configurationLabel,configurationValue:this.attributeInputForm.value};this.inputChange.emit(attribute)}getIdLabel(attribute){return this.PREFIX_TEXTFIELD+"label"+this.getLabelForIdGeneration(attribute)}getId(attribute){return this.PREFIX_TEXTFIELD+this.getLabelForIdGeneration(attribute)}getLabelForIdGeneration(attribute){return attribute.configurationLabel.replace(/\s/g,"")}}__name(ConfiguratorTextfieldInputFieldComponent,"ConfiguratorTextfieldInputFieldComponent"),ConfiguratorTextfieldInputFieldComponent.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldInputFieldComponent)},"ConfiguratorTextfieldInputFieldComponent_Factory"),ConfiguratorTextfieldInputFieldComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:ConfiguratorTextfieldInputFieldComponent,selectors:[["cx-configurator-textfield-input-field"]],inputs:{attribute:"attribute"},outputs:{inputChange:"inputChange"},decls:6,vars:13,consts:[[1,"cx-configurator-textfield-label",3,"id"],[1,"form-group"],[1,"form-control",3,"formControl","change"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(1,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",1)(4,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("change",__name(function(){return ctx.onInputChange()},"ConfiguratorTextfieldInputFieldComponent_Template_input_change_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(5,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.s9C("id",ctx.getIdLabel(ctx.attribute)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(1,5,"configurator.a11y.nameOfAttribute")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx.attribute.configurationLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControl",ctx.attributeInputForm),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_0__.xi3(5,7,"configurator.a11y.valueOfAttributeFull",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(10,_c1,ctx.attribute.configurationValue,ctx.attribute.configurationLabel))))},"ConfiguratorTextfieldInputFieldComponent_Template"),dependencies:[_angular_forms__WEBPACK_IMPORTED_MODULE_12__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_12__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_12__.oH,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.X$D],encapsulation:2,changeDetection:0});class ConfiguratorTextfieldInputFieldReadonlyComponent{constructor(){this.PREFIX_TEXTFIELD="cx-configurator-textfield"}getIdLabel(attribute){return this.PREFIX_TEXTFIELD+"label"+this.getLabelForIdGeneration(attribute)}getLabelForIdGeneration(attribute){return attribute.configurationLabel.replace(/\s/g,"")}}__name(ConfiguratorTextfieldInputFieldReadonlyComponent,"ConfiguratorTextfieldInputFieldReadonlyComponent"),ConfiguratorTextfieldInputFieldReadonlyComponent.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldInputFieldReadonlyComponent)},"ConfiguratorTextfieldInputFieldReadonlyComponent_Factory"),ConfiguratorTextfieldInputFieldReadonlyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:ConfiguratorTextfieldInputFieldReadonlyComponent,selectors:[["cx-configurator-textfield-input-field-readonly"]],inputs:{attribute:"attribute"},decls:7,vars:11,consts:[[1,"cx-visually-hidden",3,"id"],["aria-hidden","true"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"cxTranslate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(5,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.s9C("id",ctx.getIdLabel(ctx.attribute)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_0__.xi3(2,5,"configurator.a11y.valueOfAttributeFull",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(8,_c1,ctx.attribute.configurationValue,ctx.attribute.configurationLabel)),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-describedby",ctx.getIdLabel(ctx.attribute)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx.attribute.configurationLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" ",ctx.attribute.configurationValue,"\n"))},"ConfiguratorTextfieldInputFieldReadonlyComponent_Template"),dependencies:[_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.X$D],encapsulation:2,changeDetection:0});class ConfiguratorTextfieldFormComponent{constructor(configuratorTextfieldService,configRouterExtractorService){this.configuratorTextfieldService=configuratorTextfieldService,this.configRouterExtractorService=configRouterExtractorService,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(routerData=>{switch(routerData.owner.type){case _spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.PRODUCT:return this.configuratorTextfieldService.createConfiguration(routerData.owner);case _spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.CART_ENTRY:return this.configuratorTextfieldService.readConfigurationForCartEntry(routerData.owner);case _spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.$g.OwnerType.ORDER_ENTRY:return this.configuratorTextfieldService.readConfigurationForOrderEntry(routerData.owner)}})),this.isEditable$=this.configRouterExtractorService.extractRouterData().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(routerData=>routerData.pageType===_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.iB.PageType.CONFIGURATION))}updateConfiguration(attribute){this.configuratorTextfieldService.updateConfiguration(attribute)}}__name(ConfiguratorTextfieldFormComponent,"ConfiguratorTextfieldFormComponent"),ConfiguratorTextfieldFormComponent.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(ConfiguratorTextfieldService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.u6))},"ConfiguratorTextfieldFormComponent_Factory"),ConfiguratorTextfieldFormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:ConfiguratorTextfieldFormComponent,selectors:[["cx-configurator-textfield-form"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["readonly",""],[1,"cx-visually-hidden"],["class","cx-attribute",4,"ngFor","ngForOf"],[3,"configuration"],[1,"cx-attribute"],[3,"attribute","inputChange"],[3,"attribute"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,ConfiguratorTextfieldFormComponent_ng_container_0_Template,5,4,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(1,1,ctx.configuration$))},"ConfiguratorTextfieldFormComponent_Template"),dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,ConfiguratorTextfieldInputFieldComponent,ConfiguratorTextfieldInputFieldReadonlyComponent,ConfiguratorTextfieldAddToCartButtonComponent,_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.X$D],encapsulation:2});class TextfieldConfiguratorComponentsModule{}__name(TextfieldConfiguratorComponentsModule,"TextfieldConfiguratorComponentsModule"),TextfieldConfiguratorComponentsModule.\u0275fac=__name(function(t){return new(t||TextfieldConfiguratorComponentsModule)},"TextfieldConfiguratorComponentsModule_Factory"),TextfieldConfiguratorComponentsModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:TextfieldConfiguratorComponentsModule}),TextfieldConfiguratorComponentsModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[(0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.i51)({cmsComponents:{TextfieldConfigurationForm:{component:ConfiguratorTextfieldFormComponent}}})],imports:[_angular_router__WEBPACK_IMPORTED_MODULE_11__.Bz,_angular_forms__WEBPACK_IMPORTED_MODULE_12__.u5,_angular_forms__WEBPACK_IMPORTED_MODULE_12__.UX,_ng_select_ng_select__WEBPACK_IMPORTED_MODULE_14__.A0,_angular_common__WEBPACK_IMPORTED_MODULE_13__.ez,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.LUR,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.bhT]});class ConfiguratorTextfieldAdapter{}__name(ConfiguratorTextfieldAdapter,"ConfiguratorTextfieldAdapter");class ConfiguratorTextfieldConnector{constructor(adapter){this.adapter=adapter}createConfiguration(productCode,owner){return this.adapter.createConfiguration(productCode,owner)}readConfigurationForCartEntry(parameters){return this.adapter.readConfigurationForCartEntry(parameters)}readConfigurationForOrderEntry(parameters){return this.adapter.readConfigurationForOrderEntry(parameters)}updateConfigurationForCartEntry(parameters){return this.adapter.updateConfigurationForCartEntry(parameters)}addToCart(parameters){return this.adapter.addToCart(parameters)}}__name(ConfiguratorTextfieldConnector,"ConfiguratorTextfieldConnector"),ConfiguratorTextfieldConnector.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldConnector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(ConfiguratorTextfieldAdapter))},"ConfiguratorTextfieldConnector_Factory"),ConfiguratorTextfieldConnector.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ConfiguratorTextfieldConnector,factory:ConfiguratorTextfieldConnector.\u0275fac});class ConfiguratorTextfieldEffects{constructor(actions$,configuratorTextfieldConnector){this.actions$=actions$,this.configuratorTextfieldConnector=configuratorTextfieldConnector,this.createConfiguration$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.l4)(CREATE_CONFIGURATION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(action=>action.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(payload=>this.configuratorTextfieldConnector.createConfiguration(payload.productCode,payload.owner).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(configuration=>[new CreateConfigurationSuccess(configuration)]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(new CreateConfigurationFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.cxH)(error)))))))),this.addToCart$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.l4)(ADD_TO_CART),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(action=>action.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(payload=>this.configuratorTextfieldConnector.addToCart(payload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(()=>[new RemoveConfiguration,new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_18__.$.LoadCart({cartId:payload.cartId,userId:payload.userId})]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(new AddToCartFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.cxH)(error)))))))),this.updateCartEntry$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.l4)("[Configurator] Update cart entry configuration Textfield"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(action=>action.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(payload=>this.configuratorTextfieldConnector.updateConfigurationForCartEntry(payload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(()=>[new RemoveConfiguration,new _spartacus_cart_base_core__WEBPACK_IMPORTED_MODULE_18__.$.LoadCart({cartId:payload.cartId,userId:payload.userId})]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.of)(new UpdateCartEntryConfigurationFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.cxH)(error)))))))),this.readConfigurationForCartEntry$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.l4)("[Configurator] Read cart entry configuration Textfield"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(action=>{const parameters=action.payload;return this.configuratorTextfieldConnector.readConfigurationForCartEntry(parameters).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(result=>[new ReadCartEntryConfigurationSuccess(result)]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(error=>[new ReadCartEntryConfigurationFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.cxH)(error))]))}))),this.readConfigurationForOrderEntry$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.l4)("[Configurator] Read order entry configuration textfield"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(action=>{const parameters=action.payload;return this.configuratorTextfieldConnector.readConfigurationForOrderEntry(parameters).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.w)(result=>[new ReadOrderEntryConfigurationSuccess(result)]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.K)(error=>[new ReadOrderEntryConfigurationFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.cxH)(error))]))})))}}__name(ConfiguratorTextfieldEffects,"ConfiguratorTextfieldEffects"),ConfiguratorTextfieldEffects.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldEffects)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.eX),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(ConfiguratorTextfieldConnector))},"ConfiguratorTextfieldEffects_Factory"),ConfiguratorTextfieldEffects.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ConfiguratorTextfieldEffects,factory:ConfiguratorTextfieldEffects.\u0275fac});const configuratorTextfieldEffects=[ConfiguratorTextfieldEffects],initialState={configurationInfos:[],owner:_spartacus_product_configurator_common__WEBPACK_IMPORTED_MODULE_4__.mR.createInitialOwner()};function reducer(state=initialState,action){switch(action.type){case"[Configurator] Create Configuration Textfield Success":case"[Configurator] Read cart entry configuration Textfield Success":case"[Configurator] Read order entry configuration textfield Success":case UPDATE_CONFIGURATION:return Object.assign(Object.assign({},state),action.payload);case REMOVE_CONFIGURATION:return initialState}return state}function getConfiguratorTextfieldReducers(){return{loaderState:_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.kPG.loaderReducer(CONFIGURATION_TEXTFIELD_DATA,reducer)}}__name(reducer,"reducer"),__name(getConfiguratorTextfieldReducers,"getConfiguratorTextfieldReducers");const configuratorTextfieldReducerToken=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("ConfiguratorReducers"),configuratorTextfieldReducerProvider={provide:configuratorTextfieldReducerToken,useFactory:getConfiguratorTextfieldReducers};class ConfiguratorTextfieldStoreModule{}__name(ConfiguratorTextfieldStoreModule,"ConfiguratorTextfieldStoreModule"),ConfiguratorTextfieldStoreModule.\u0275fac=__name(function(t){return new(t||ConfiguratorTextfieldStoreModule)},"ConfiguratorTextfieldStoreModule_Factory"),ConfiguratorTextfieldStoreModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ConfiguratorTextfieldStoreModule}),ConfiguratorTextfieldStoreModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[configuratorTextfieldReducerProvider],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.ez,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.vUS,_ngrx_store__WEBPACK_IMPORTED_MODULE_2__.Aw.forFeature("productConfigurationTextfield",configuratorTextfieldReducerToken),_ngrx_effects__WEBPACK_IMPORTED_MODULE_15__.sQ.forFeature(configuratorTextfieldEffects)]});class TextfieldConfiguratorCoreModule{}__name(TextfieldConfiguratorCoreModule,"TextfieldConfiguratorCoreModule"),TextfieldConfiguratorCoreModule.\u0275fac=__name(function(t){return new(t||TextfieldConfiguratorCoreModule)},"TextfieldConfiguratorCoreModule_Factory"),TextfieldConfiguratorCoreModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:TextfieldConfiguratorCoreModule}),TextfieldConfiguratorCoreModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[ConfiguratorTextfieldConnector],imports:[ConfiguratorTextfieldStoreModule]});const CONFIGURATOR_TYPE_TEXTFIELD$1="TEXTFIELD";class OccConfiguratorTextfieldAddToCartSerializer{constructor(){}convert(source,target){var _a;const configurationInfos=[];return null===(_a=source.configuration)||void 0===_a||_a.configurationInfos.forEach(info=>this.convertInfo(info,configurationInfos)),Object.assign(Object.assign({},target),{userId:source.userId,cartId:source.cartId,product:{code:source.productCode},quantity:source.quantity,configurationInfos})}convertInfo(source,occConfigurationInfos){const occInfo={configurationLabel:source.configurationLabel,configurationValue:source.configurationValue,status:source.status,configuratorType:CONFIGURATOR_TYPE_TEXTFIELD$1};occConfigurationInfos.push(occInfo)}}__name(OccConfiguratorTextfieldAddToCartSerializer,"OccConfiguratorTextfieldAddToCartSerializer"),OccConfiguratorTextfieldAddToCartSerializer.\u0275fac=__name(function(t){return new(t||OccConfiguratorTextfieldAddToCartSerializer)},"OccConfiguratorTextfieldAddToCartSerializer_Factory"),OccConfiguratorTextfieldAddToCartSerializer.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:OccConfiguratorTextfieldAddToCartSerializer,factory:OccConfiguratorTextfieldAddToCartSerializer.\u0275fac,providedIn:"root"});class OccConfiguratorTextfieldNormalizer{constructor(){}convert(source,target){return Object.assign(Object.assign({},target),source)}}__name(OccConfiguratorTextfieldNormalizer,"OccConfiguratorTextfieldNormalizer"),OccConfiguratorTextfieldNormalizer.\u0275fac=__name(function(t){return new(t||OccConfiguratorTextfieldNormalizer)},"OccConfiguratorTextfieldNormalizer_Factory"),OccConfiguratorTextfieldNormalizer.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:OccConfiguratorTextfieldNormalizer,factory:OccConfiguratorTextfieldNormalizer.\u0275fac,providedIn:"root"});const CONFIGURATION_TEXTFIELD_NORMALIZER=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("ConfigurationNormalizer"),CONFIGURATION_TEXTFIELD_ADD_TO_CART_SERIALIZER=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("ConfigurationAddToCartSerializer"),CONFIGURATION_TEXTFIELD_UPDATE_CART_ENTRY_SERIALIZER=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("ConfigurationUpdateCartEntrySerializer");class OccConfiguratorTextfieldAdapter{constructor(http,occEndpointsService,converterService){this.http=http,this.occEndpointsService=occEndpointsService,this.converterService=converterService}createConfiguration(productCode,owner){return this.http.get(this.occEndpointsService.buildUrl("createTextfieldConfiguration",{urlParams:{productCode}})).pipe(this.converterService.pipeable(CONFIGURATION_TEXTFIELD_NORMALIZER),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(resultConfiguration=>Object.assign(Object.assign({},resultConfiguration),{owner})))}addToCart(parameters){const url=this.occEndpointsService.buildUrl("addTextfieldConfigurationToCart",{urlParams:{userId:parameters.userId,cartId:parameters.cartId}}),occAddToCartParameters=this.converterService.convert(parameters,CONFIGURATION_TEXTFIELD_ADD_TO_CART_SERIALIZER);return this.http.post(url,occAddToCartParameters).pipe(this.converterService.pipeable(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_10__.Ke))}readConfigurationForCartEntry(parameters){const url=this.occEndpointsService.buildUrl("readTextfieldConfigurationForCartEntry",{urlParams:{userId:parameters.userId,cartId:parameters.cartId,cartEntryNumber:parameters.cartEntryNumber}});return this.http.get(url).pipe(this.converterService.pipeable(CONFIGURATION_TEXTFIELD_NORMALIZER),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(resultConfiguration=>Object.assign(Object.assign({},resultConfiguration),{owner:Object.assign({},parameters.owner)})))}readConfigurationForOrderEntry(parameters){const url=this.occEndpointsService.buildUrl("readTextfieldConfigurationForOrderEntry",{urlParams:{userId:parameters.userId,orderId:parameters.orderId,orderEntryNumber:parameters.orderEntryNumber}});return this.http.get(url).pipe(this.converterService.pipeable(CONFIGURATION_TEXTFIELD_NORMALIZER),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(resultConfiguration=>Object.assign(Object.assign({},resultConfiguration),{owner:Object.assign({},parameters.owner)})))}updateConfigurationForCartEntry(parameters){const url=this.occEndpointsService.buildUrl("updateTextfieldConfigurationForCartEntry",{urlParams:{userId:parameters.userId,cartId:parameters.cartId,cartEntryNumber:parameters.cartEntryNumber}}),occUpdateCartEntryParameters=this.converterService.convert(parameters,CONFIGURATION_TEXTFIELD_UPDATE_CART_ENTRY_SERIALIZER);return this.http.post(url,occUpdateCartEntryParameters).pipe(this.converterService.pipeable(_spartacus_cart_base_root__WEBPACK_IMPORTED_MODULE_10__.Ke))}}__name(OccConfiguratorTextfieldAdapter,"OccConfiguratorTextfieldAdapter"),OccConfiguratorTextfieldAdapter.\u0275fac=__name(function(t){return new(t||OccConfiguratorTextfieldAdapter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_19__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.Lz0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.IXI))},"OccConfiguratorTextfieldAdapter_Factory"),OccConfiguratorTextfieldAdapter.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:OccConfiguratorTextfieldAdapter,factory:OccConfiguratorTextfieldAdapter.\u0275fac});class OccConfiguratorTextfieldUpdateCartEntrySerializer{constructor(){}convert(source){var _a;const configurationInfos=[];return null===(_a=source.configuration)||void 0===_a||_a.configurationInfos.forEach(info=>this.convertInfo(info,configurationInfos)),{userId:source.userId,cartId:source.cartId,cartEntryNumber:source.cartEntryNumber,configurationInfos}}convertInfo(source,occConfigurationInfos){const occInfo={configurationLabel:source.configurationLabel,configurationValue:source.configurationValue,status:source.status,configuratorType:"TEXTFIELD"};occConfigurationInfos.push(occInfo)}}function defaultOccConfiguratorTextfieldConfigFactory(){return{backend:{occ:{endpoints:{createTextfieldConfiguration:"products/${productCode}/configurator/textfield",addTextfieldConfigurationToCart:"users/${userId}/carts/${cartId}/entries/configurator/textfield",readTextfieldConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/configurator/textfield",readTextfieldConfigurationForOrderEntry:"users/${userId}/orders/${orderId}/entries/${orderEntryNumber}/configurator/textfield",updateTextfieldConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/configurator/textfield"}}}}}__name(OccConfiguratorTextfieldUpdateCartEntrySerializer,"OccConfiguratorTextfieldUpdateCartEntrySerializer"),OccConfiguratorTextfieldUpdateCartEntrySerializer.\u0275fac=__name(function(t){return new(t||OccConfiguratorTextfieldUpdateCartEntrySerializer)},"OccConfiguratorTextfieldUpdateCartEntrySerializer_Factory"),OccConfiguratorTextfieldUpdateCartEntrySerializer.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:OccConfiguratorTextfieldUpdateCartEntrySerializer,factory:OccConfiguratorTextfieldUpdateCartEntrySerializer.\u0275fac,providedIn:"root"}),__name(defaultOccConfiguratorTextfieldConfigFactory,"defaultOccConfiguratorTextfieldConfigFactory");class TextfieldConfiguratorOccModule{}__name(TextfieldConfiguratorOccModule,"TextfieldConfiguratorOccModule"),TextfieldConfiguratorOccModule.\u0275fac=__name(function(t){return new(t||TextfieldConfiguratorOccModule)},"TextfieldConfiguratorOccModule_Factory"),TextfieldConfiguratorOccModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:TextfieldConfiguratorOccModule}),TextfieldConfiguratorOccModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[{provide:ConfiguratorTextfieldAdapter,useClass:OccConfiguratorTextfieldAdapter},{provide:CONFIGURATION_TEXTFIELD_NORMALIZER,useExisting:OccConfiguratorTextfieldNormalizer,multi:!0},{provide:CONFIGURATION_TEXTFIELD_ADD_TO_CART_SERIALIZER,useExisting:OccConfiguratorTextfieldAddToCartSerializer,multi:!0},{provide:CONFIGURATION_TEXTFIELD_UPDATE_CART_ENTRY_SERIALIZER,useExisting:OccConfiguratorTextfieldUpdateCartEntrySerializer,multi:!0}],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.ez,_spartacus_core__WEBPACK_IMPORTED_MODULE_1__.pEA.withConfigFactory(defaultOccConfiguratorTextfieldConfigFactory)]});class TextfieldConfiguratorModule{}__name(TextfieldConfiguratorModule,"TextfieldConfiguratorModule"),TextfieldConfiguratorModule.\u0275fac=__name(function(t){return new(t||TextfieldConfiguratorModule)},"TextfieldConfiguratorModule_Factory"),TextfieldConfiguratorModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:TextfieldConfiguratorModule}),TextfieldConfiguratorModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[TextfieldConfiguratorCoreModule,TextfieldConfiguratorComponentsModule,TextfieldConfiguratorOccModule]})}};