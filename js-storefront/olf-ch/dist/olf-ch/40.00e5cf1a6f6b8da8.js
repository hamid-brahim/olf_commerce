"use strict";(self.webpackChunkolf_ch=self.webpackChunkolf_ch||[]).push([[40],{40:(G,p,c)=>{c.r(p),c.d(p,{OlfCheckoutDeliveryAddressComponent:()=>Y});var f=c(8741),e=c(4650),a=c(6895),i=c(4825),g=c(7545),x=c(2994),l=c(4006),A=c(7039),_=c(3983);const u=function(n){return{ariaLabel:n}};function C(n,r){if(1&n&&(e.TgZ(0,"div")(1,"label")(2,"span",8),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",27),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,6,"addressForm.title")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("items",t)("placeholder",e.lcZ(6,8,"addressForm.title"))("cxNgSelectA11y",e.VKq(12,u,e.lcZ(7,10,"addressForm.title")))}}function h(n,r){if(1&n&&(e.ynx(0),e.YNc(1,C,8,14,"div",26),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngIf",0!==t.length)}}function Z(n,r){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,h,2,1,"ng-container",26),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.titles$))}}const b=function(){return{required:"false"}};function T(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"label")(3,"span",8),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"ng-select",29),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-form-errors",10),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"addressForm.state")),e.xp6(2),e.s9C("bindLabel",t[0].name?"name":"isocode"),e.s9C("bindValue",t[0].name?"isocode":"region"),e.s9C("placeholder",e.lcZ(7,12,"addressForm.selectRegion")),e.Q6J("inputAttrs",e.DdM(16,b))("searchable",!0)("clearable",!1)("items",t)("cxNgSelectA11y",e.VKq(17,u,e.lcZ(8,14,"addressForm.state"))),e.xp6(3),e.Q6J("control",o.addressForm.get("region.isocode"))}}function v(n,r){if(1&n&&(e.ynx(0,28),e.YNc(1,T,10,19,"ng-container",26),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngIf",0!==t.length)}}function y(n,r){1&n&&(e.TgZ(0,"div",7)(1,"label")(2,"span",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"input",30),e.ALo(6,"cxTranslate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"addressForm.phoneNumber.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,4,"addressForm.phoneNumber.placeholder")))}function F(n,r){1&n&&(e.TgZ(0,"div",1)(1,"div",13)(2,"label")(3,"span",4),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"input",30),e.ALo(7,"cxTranslate"),e.qZA()(),e.TgZ(8,"div",13)(9,"label")(10,"span",4),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"input",31),e.ALo(14,"cxTranslate"),e.qZA()()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"addressForm.phoneNumber.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,6,"addressForm.phoneNumber.placeholder")),e.xp6(5),e.Oqu(e.lcZ(12,8,"addressForm.cellphone.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,10,"addressForm.cellphone.placeholder")))}function k(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",32)(2,"label")(3,"input",33),e.NdJ("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleDefaultAddress())}),e.qZA(),e.TgZ(4,"span",34),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"addressForm.setAsDefault")))}function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.cancelBtnLabel||e.lcZ(3,1,"addressForm.chooseAddress")," ")}}let N=(()=>{class n extends i.CY4{constructor(){super(...arguments),this.addressForm=this.fb.group({country:this.fb.group({isocode:"CH"}),titleCode:[""],firstName:["",l.kI.required],lastName:["",l.kI.required],line1:["",l.kI.required],line2:[""],town:["",l.kI.required],region:this.fb.group({isocode:[null,l.kI.required]}),postalCode:["",l.kI.required],phone:"",cellphone:"",defaultAddress:[!1]})}ngOnInit(){super.ngOnInit(),this.countries$.subscribe(t=>{t.forEach(o=>{"CH"===o.isocode&&(this.filteredCountry=o)})}),this.regions$=this.countries$.pipe((0,g.w)(t=>this.userAddressService.getRegions("CH")),(0,x.b)(t=>{const o=this.addressForm.get("region.isocode");t&&t.length>0?o?.enable():o?.disable()}))}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["cx-olf-address-form"]],features:[e.qOj],decls:72,vars:60,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],[1,"form-group","company-name"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"label-content","required"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["formGroupName","country",1,"form-group","col-md-6"],["type","text",1,"form-control",3,"value","readOnly"],["class","form-group",4,"cxFeatureLevel"],["class","row",4,"cxFeatureLevel"],[1,"cx-address-form-btns"],["class","col-md-13 col-lg-6",4,"ngIf"],[1,"col-md-13","col-lg-6"],["type","submit",1,"btn","btn-block","btn-primary"],["submit",""],[4,"ngIf"],["id","title-select","formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],["type","tel","formControlName","cellphone",1,"form-control",3,"placeholder"],[1,"form-check"],["type","checkbox","formControlName","defaultAddress",1,"form-check-input",3,"change"],[1,"form-check-label"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.verifyAddress()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label")(5,"span",4),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e._UZ(8,"input",5),e.ALo(9,"cxTranslate"),e.qZA()(),e.YNc(10,Z,3,3,"div",6),e.TgZ(11,"div",7)(12,"label")(13,"span",8),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA(),e._UZ(16,"input",9),e.ALo(17,"cxTranslate"),e._UZ(18,"cx-form-errors",10),e.qZA()(),e.TgZ(19,"div",7)(20,"label")(21,"span",8),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"input",11),e.ALo(25,"cxTranslate"),e._UZ(26,"cx-form-errors",10),e.qZA()(),e.TgZ(27,"div",7)(28,"label")(29,"span",8),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e._UZ(32,"input",12),e.ALo(33,"cxTranslate"),e._UZ(34,"cx-form-errors",10),e.qZA()(),e.TgZ(35,"div",1)(36,"div",13)(37,"label")(38,"span",8),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e._UZ(41,"input",14),e.ALo(42,"cxTranslate"),e._UZ(43,"cx-form-errors",10),e.qZA()(),e.TgZ(44,"div",13)(45,"label")(46,"span",8),e._uU(47),e.ALo(48,"cxTranslate"),e.qZA(),e._UZ(49,"input",15),e.ALo(50,"cxTranslate"),e._UZ(51,"cx-form-errors",10),e.qZA()(),e.YNc(52,v,2,1,"ng-container",16),e.ALo(53,"async"),e.TgZ(54,"div",17)(55,"label")(56,"span",4),e._uU(57),e.ALo(58,"cxTranslate"),e.qZA(),e._UZ(59,"input",18),e.qZA()()(),e.YNc(60,y,7,6,"div",19),e.YNc(61,F,15,12,"div",20),e.YNc(62,k,7,3,"div",6),e.ALo(63,"async"),e.TgZ(64,"div",21)(65,"div",1),e.YNc(66,O,4,3,"div",22),e.TgZ(67,"div",23)(68,"button",24,25),e._uU(70),e.ALo(71,"cxTranslate"),e.qZA()()()()()()()),2&t){let s;e.Q6J("formGroup",o.addressForm),e.xp6(6),e.Oqu(e.lcZ(7,28,"addressForm.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,30,"addressForm.aptSuite")),e.xp6(2),e.Q6J("ngIf",o.showTitleCode),e.xp6(4),e.Oqu(e.lcZ(15,32,"addressForm.firstName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(17,34,"addressForm.firstName.placeholder")),e.xp6(2),e.Q6J("control",o.addressForm.get("firstName")),e.xp6(4),e.Oqu(e.lcZ(23,36,"addressForm.lastName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,38,"addressForm.lastName.placeholder")),e.xp6(2),e.Q6J("control",o.addressForm.get("lastName")),e.xp6(4),e.Oqu(e.lcZ(31,40,"addressForm.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(33,42,"addressForm.streetAddress")),e.xp6(2),e.Q6J("control",o.addressForm.get("line1")),e.xp6(5),e.Oqu(e.lcZ(40,44,"addressForm.city.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(42,46,"addressForm.city.placeholder")),e.xp6(2),e.Q6J("control",o.addressForm.get("town")),e.xp6(4),e.Oqu(e.lcZ(48,48,"addressForm.zipCode.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(50,50,"addressForm.zipCode.placeholder")),e.xp6(2),e.Q6J("control",o.addressForm.get("postalCode")),e.xp6(1),e.Q6J("ngIf",e.lcZ(53,52,o.regions$)),e.xp6(5),e.Oqu(e.lcZ(58,54,"addressForm.country")),e.xp6(2),e.s9C("value",null==o.filteredCountry?null:o.filteredCountry.name),e.Q6J("readOnly",!0),e.xp6(1),e.Q6J("cxFeatureLevel","!5.2"),e.xp6(1),e.Q6J("cxFeatureLevel","5.2"),e.xp6(1),e.Q6J("ngIf",(null==(s=e.lcZ(63,56,o.addresses$))?null:s.length)&&o.setAsDefaultField),e.xp6(4),e.Q6J("ngIf",o.showCancelBtn),e.xp6(4),e.hij(" ",o.actionBtnLabel||e.lcZ(71,58,"common.continue")," ")}},dependencies:[a.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.Q7,l.sg,l.u,l.x0,A.w9,_.EJv,i.VnX,i.Ahv,a.Ov,_.X$D],styles:[".company-name[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#6c7079;opacity:1}.company-name[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:-ms-input-placeholder{color:#6c7079}.company-name[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-ms-input-placeholder{color:#6c7079}"]}),n})();function q(n,r){1&n&&e.GkF(0)}function L(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18),e.NdJ("click",function(){const d=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.selectAddress(d.address))}),e.TgZ(2,"cx-card",19),e.NdJ("sendCard",function(){const d=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.selectAddress(d.address))}),e.qZA()()()}if(2&n){const t=r.$implicit,o=r.index;e.xp6(2),e.Q6J("border",!0)("index",o)("fitToContainer",!0)("content",t.card)}}function I(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p",8),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.TgZ(3,"div",9)(4,"div",10)(5,"button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.showNewAddressForm())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()()(),e.TgZ(8,"div",12),e.YNc(9,L,3,4,"div",13),e.qZA(),e.TgZ(10,"div",9)(11,"div",14)(12,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.back())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",14)(16,"button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.next())}),e.ALo(17,"async"),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA()()()}if(2&n){const t=e.oxw(2).ngIf,o=e.oxw();let s;e.xp6(1),e.hij(" ",e.lcZ(2,6,"checkoutAddress.selectYourDeliveryAddress")," "),e.xp6(5),e.hij(" ",e.lcZ(7,8,"checkoutAddress.addNewAddress")," "),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(4),e.hij(" ",e.lcZ(14,10,o.backBtnText)," "),e.xp6(3),e.Q6J("disabled",!(null!=(s=e.lcZ(17,12,o.selectedAddress$))&&s.id)),e.xp6(2),e.hij(" ",e.lcZ(19,14,"common.continue")," ")}}function J(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cx-olf-address-form",22),e.NdJ("backToAddress",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.hideNewAddressForm(!1))})("submitAddress",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.addAddress(s))}),e.qZA()}2&n&&e.Q6J("showTitleCode",!0)}function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cx-olf-address-form",23),e.NdJ("backToAddress",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.hideNewAddressForm(!0))})("submitAddress",function(s){e.CHM(t);const d=e.oxw(4);return e.KtG(d.addAddress(s))}),e.ALo(1,"cxTranslate"),e.qZA()}if(2&n){const t=e.oxw(4);e.s9C("cancelBtnLabel",e.lcZ(1,3,t.backBtnText)),e.Q6J("showTitleCode",!0)("setAsDefaultField",!t.isGuestCheckout)}}function U(n,r){if(1&n&&(e.YNc(0,J,1,1,"cx-olf-address-form",20),e.YNc(1,w,2,5,"ng-template",null,21,e.W1O)),2&n){const t=e.MAs(2),o=e.oxw(2).ngIf;e.Q6J("ngIf",o.length)("ngIfElse",t)}}function Q(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"div",4),e.ALo(2,"cxTranslate"),e.YNc(3,q,1,0,"ng-container",5),e.YNc(4,I,20,16,"ng-template",null,6,e.W1O),e.YNc(6,U,3,2,"ng-template",null,7,e.W1O),e.BQk()),2&n){const t=e.MAs(5),o=e.MAs(7),s=e.oxw().ngIf,d=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,4,"common.loaded")),e.xp6(2),e.Q6J("ngIf",(null==s?null:s.length)&&!d.addressFormOpened)("ngIfThen",t)("ngIfElse",o)}}function D(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Q,8,6,"ng-container",3),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,t.isUpdating$))("ngIfElse",o)}}function M(n,r){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"cx-spinner"),e.qZA())}let Y=(()=>{class n extends f._M{showNewAddressForm(){this.addressFormOpened=!0}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-olf-checkout-delivery-address"]],features:[e.qOj],decls:7,vars:6,consts:[[1,"cx-checkout-title","d-none","d-lg-block","d-xl-block"],[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["role","status"],[4,"ngIf","ngIfThen","ngIfElse"],["showExistingAddresses",""],["newAddressForm",""],[1,"cx-checkout-text"],[1,"cx-checkout-btns","row"],[1,"col-sm-12","col-md-12","col-lg-6"],[1,"btn","btn-block","btn-action",3,"click"],[1,"cx-checkout-body","row"],["class","cx-delivery-address-card col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-6"],[1,"cx-btn","btn","btn-block","btn-action",3,"click"],[1,"cx-btn","btn","btn-block","btn-primary",3,"disabled","click"],[1,"cx-delivery-address-card","col-md-12","col-lg-6"],[1,"cx-delivery-address-card-inner",3,"click"],[3,"border","index","fitToContainer","content","sendCard"],[3,"showTitleCode","backToAddress","submitAddress",4,"ngIf","ngIfElse"],["initialAddressForm",""],[3,"showTitleCode","backToAddress","submitAddress"],[3,"showTitleCode","setAsDefaultField","cancelBtnLabel","backToAddress","submitAddress"],[1,"cx-spinner"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA(),e.YNc(3,D,3,4,"ng-container",1),e.ALo(4,"async"),e.YNc(5,M,2,0,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,2,"checkoutAddress.deliveryAddress"),"\n"),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,o.cards$)))},dependencies:[a.sg,a.O5,N,i.ORR,i.AkF,a.Ov,_.X$D]}),n})()}}]);