"use strict";(self.webpackChunkolf=self.webpackChunkolf||[]).push([[446],{4446:(Bh,Ls,E)=>{E.r(Ls),E.d(Ls,{AdministrationModule:()=>Gh});var e=E(4650),i=E(6322),g=E(6895),a=E(4006),h=E(610),ot=E(373),Ie=E(5778),f=E(7545),p=E(4850),x=E(2198),y=E(2994),ne=E(7224),de=E(2986),he=E(1059),Es=E(7168),ys=E(5154),d=E(4777),I=E(1086),it=E(591),Al=E(839),Is=E(8929),ct=E(2654),M=E(5883),Ps=E(8514),Cl=E(6053),D=E(5254),O=E(341),Pe=E(5409),A=E(7221),_e=E(4002),R=E(1709),Z=E(7770),xl=E(519),Te=E(7568),m=E(5024),_=E(8555),Ts=E(7212);class Ds{}let bs=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}create(t,s){return this.adapter.create(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}getList(t,s){return this.adapter.loadList(t,s)}getApprovers(t,s,o){return this.adapter.loadApprovers(t,s,o)}assignApprover(t,s,o){return this.adapter.assignApprover(t,s,o)}unassignApprover(t,s,o){return this.adapter.unassignApprover(t,s,o)}getPermissions(t,s,o){return this.adapter.loadPermissions(t,s,o)}assignPermission(t,s,o){return this.adapter.assignPermission(t,s,o)}unassignPermission(t,s,o){return this.adapter.unassignPermission(t,s,o)}getUserGroups(t,s,o){return this.adapter.loadUserGroups(t,s,o)}assignUserGroup(t,s,o){return this.adapter.assignUserGroup(t,s,o)}unassignUserGroup(t,s,o){return this.adapter.unassignUserGroup(t,s,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ds))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Gs{}let Bs=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}getList(t,s){return this.adapter.loadList(t,s)}create(t,s){return this.adapter.create(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Rs{}let Ms=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}getList(t,s){return this.adapter.loadList(t,s)}create(t,s){return this.adapter.create(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}getBudgets(t,s,o){return this.adapter.loadBudgets(t,s,o)}assignBudget(t,s,o){return this.adapter.assignBudget(t,s,o)}unassignBudget(t,s,o){return this.adapter.unassignBudget(t,s,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Rs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Os{}let Zs=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}create(t,s){return this.adapter.create(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}getList(t){return this.adapter.loadList(t)}getApprovalProcesses(t){return this.adapter.loadApprovalProcesses(t)}getTree(t){return this.adapter.loadTree(t)}getUsers(t,s,o,c){return this.adapter.loadUsers(t,s,o,c)}assignRole(t,s,o){return this.adapter.assignRole(t,s,o)}unassignRole(t,s,o){return this.adapter.unassignRole(t,s,o)}assignApprover(t,s,o,c){return this.adapter.assignApprover(t,s,o,c)}unassignApprover(t,s,o,c){return this.adapter.unassignApprover(t,s,o,c)}getAddresses(t,s){return this.adapter.loadAddresses(t,s)}createAddress(t,s,o){return this.adapter.createAddress(t,s,o)}updateAddress(t,s,o,c){return this.adapter.updateAddress(t,s,o,c)}deleteAddress(t,s,o){return this.adapter.deleteAddress(t,s,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Os))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Fs{}let ws=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}getList(t,s){return this.adapter.loadList(t,s)}create(t,s){return this.adapter.create(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}getTypes(){return this.adapter.loadTypes()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Fs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class ks{}let Ns=(()=>{class r{constructor(t){this.adapter=t}get(t,s){return this.adapter.load(t,s)}getList(t,s){return this.adapter.loadList(t,s)}getAvailableOrderApprovalPermissions(t,s,o){return this.adapter.loadAvailableOrderApprovalPermissions(t,s,o)}getAvailableOrgCustomers(t,s,o){return this.adapter.loadAvailableOrgCustomers(t,s,o)}create(t,s){return this.adapter.create(t,s)}delete(t,s){return this.adapter.delete(t,s)}update(t,s,o){return this.adapter.update(t,s,o)}assignMember(t,s,o){return this.adapter.assignMember(t,s,o)}assignOrderApprovalPermission(t,s,o){return this.adapter.assignOrderApprovalPermission(t,s,o)}unassignMember(t,s,o){return this.adapter.unassignMember(t,s,o)}unassignAllMembers(t,s){return this.adapter.unassignAllMembers(t,s)}unassignOrderApprovalPermission(t,s,o){return this.adapter.unassignOrderApprovalPermission(t,s,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ks))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ll=(()=>{class r extends i.kck{constructor(){super(...arguments),this.responseStatus=i.sdw.BAD_REQUEST,this.costCenterMask=/ambiguous unique keys \{code\=(.*)\} for model B2BCostCenterModel/,this.unitMask=/ambiguous unique keys \{uid\=(.*)\} for model B2BUnitModel/,this.permissionMask=/Approval Permission with code\: (.*) already exists\./,this.unknownMask=/Model saving error\./}hasMatch(t){return super.hasMatch(t)&&this.matchMask(t)}handleError(t,s){this.getErrors(s).forEach(({message:o})=>{o&&(this.handleOrganizationConflict(o,this.costCenterMask,"costCenter"),this.handleOrganizationConflict(o,this.unitMask,"unit"),this.handleOrganizationConflict(o,this.permissionMask,"permission"),this.handleOrganizationConflict(o,this.unknownMask,"unknown"))})}matchMask(t){return this.getErrors(t).some(s=>[this.costCenterMask,this.unitMask,this.permissionMask,this.unknownMask].some(o=>o.test(s.message??"")))}handleOrganizationConflict(t,s,o){const c=t.match(s);c&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${o}`,params:{code:c?.[1]}},i.xUg.MSG_TYPE_ERROR)}getErrors(t){return(t.error?.errors||[]).filter(s=>"ModelSavingError"===s.type||"DuplicateUidError"===s.type)}getPriority(){return 0}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),El=(()=>{class r extends i.kck{constructor(){super(...arguments),this.responseStatus=i.sdw.CONFLICT,this.budgetMask=/Budget with code \[(.*)\] already exists/,this.userMask=/User already exists/,this.userGroupMask=/Member Permission with the same id already exists/,this.unitMask=/Organizational unit with uid \[(.*)\] already exists/}hasMatch(t){return super.hasMatch(t)&&this.matchMask(t)}handleError(t,s){return this.getErrors(s).forEach(({message:o})=>{o&&(this.handleConflict(o,this.budgetMask,"budget"),this.handleConflict(o,this.userMask,"user",t?.body?.email),this.handleConflict(o,this.userGroupMask,"userGroup",t?.body?.uid),this.handleConflict(o,this.unitMask,"unit"))})}matchMask(t){return this.getErrors(t).some(s=>[this.budgetMask,this.userMask,this.userGroupMask,this.unitMask].some(o=>o.test(s.message??"")))}handleConflict(t,s,o,c){const l=t.match(s);l&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${o}`,params:{code:l?.[1]??c}},i.xUg.MSG_TYPE_ERROR)}getErrors(t){return(t.error?.errors||[]).filter(s=>"AlreadyExistsError"===s.type)}getPriority(){return 0}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yl=(()=>{class r extends i.FRf{constructor(t,s,o,c){super(),this.contentPageMetaResolver=t,this.translation=s,this.semanticPath=o,this.routingService=c,this.pageTemplate="CompanyPageTemplate",this.pageType=i.GV4.CONTENT_PAGE,this.ORGANIZATION_TRANSLATION_KEY="organization.breadcrumb",this.ORGANIZATION_SEMANTIC_ROUTE="organization",this.organizationPageBreadcrumb$=(0,Ps.P)(()=>this.routingService.getRouterState()).pipe((0,p.U)(l=>l?.state?.semanticRoute),(0,Ie.x)(),(0,f.w)(l=>l===this.ORGANIZATION_SEMANTIC_ROUTE?(0,I.of)([]):this.translation.translate(this.ORGANIZATION_TRANSLATION_KEY).pipe((0,p.U)(u=>[{label:u,link:this.semanticPath.get(this.ORGANIZATION_SEMANTIC_ROUTE)}])))),this.breadcrumbs$=(0,Cl.aj)([this.organizationPageBreadcrumb$,(0,Ps.P)(()=>this.contentPageMetaResolver.resolveBreadcrumbs())]).pipe((0,p.U)(([l,u=[]])=>{const[U,...L]=u;return[U,...l,...L]}),(0,ys.d)({bufferSize:1,refCount:!0}))}resolveTitle(){return this.contentPageMetaResolver.resolveTitle()}resolveDescription(){return this.contentPageMetaResolver.resolveDescription()}resolveRobots(){return this.contentPageMetaResolver.resolveRobots()}resolveBreadcrumbs(){return this.breadcrumbs$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.vc1),e.LFG(i.D7D),e.LFG(i.hCH),e.LFG(i.Znh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Il=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:i.FRf,useExisting:yl,multi:!0}]}),r})();const qs="organization",N="budget-entities",at="budget-list",zs="costCenter",se="costCenter-entities",ut="costCenter-list",lt="costCenter-assigned-budgets",Js="permission",b="permission-entities",dt="permission-list",pt="permission-types",gt="permission-types-list",Qs="orgUnit",mt="orgUnitNode-list",oe="orgUnit-entities",ft="orgUnit-tree",Ut="orgUnit-approval-processes",ze="orgUnit-assigned-users",ht="tree",_t="approvalProcesses",vt="availableOrgUnitNodes",Ys="b2bUser",P="b2bUser-entities",St="b2bUser-list",At="b2bUser-approvers",Ct="b2bUser-permissions",xt="b2bUser-user-groups",$t="userGroup",G="userGroup-entities",Lt="userGroup-list",Et="userGroup-available-order-approval-permissions",yt="userGroup-available-org-customers",ee="addresses-entities",It="addresses-list",zt="[Budget] Load Budget Data",Jt="[Budget] Load Budget Data Success",Qt="[Budget] Load Budgets",Yt="[Budget] Load Budgets Success",jt="[Budget] Create Budget",Vt="[Budget] Create Budget Success",Kt="[Budget] Update Budget",Xt="[Budget] Update Budget Success";class Hs extends i.kPG.EntityLoadAction{constructor(n){super(N,n.budgetCode),this.payload=n,this.type=zt}}class Ws extends i.kPG.EntityFailAction{constructor(n){super(N,n.budgetCode,n.error),this.payload=n,this.type="[Budget] Load Budget Data Fail"}}class Pt extends i.kPG.EntitySuccessAction{constructor(n){super(N,Array.isArray(n)?n.map(t=>t?.code??""):n?.code??""),this.payload=n,this.type=Jt}}class eo extends i.kPG.EntityLoadAction{constructor(n){super(at,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=Qt}}class to extends i.kPG.EntityFailAction{constructor(n){super(at,i.kPG.serializeSearchConfig(n.params),n.error),this.payload=n,this.type="[Budget] Load Budgets Fail"}}class ro extends i.kPG.EntitySuccessAction{constructor(n){super(at,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=Yt}}class no extends i.kPG.EntityLoadAction{constructor(n){super(N,n.budget.code??null),this.payload=n,this.type=jt}}class so extends i.kPG.EntityFailAction{constructor(n){super(N,n.budgetCode,n.error),this.payload=n,this.type="[Budget] Create Budget Fail"}}class oo extends i.kPG.EntitySuccessAction{constructor(n){super(N,n.code??null,n),this.payload=n,this.type=Vt}}class io extends i.kPG.EntityLoadAction{constructor(n){super(N,n.budget.code??""),this.payload=n,this.type=Kt}}class co extends i.kPG.EntityFailAction{constructor(n){super(N,n.budgetCode,n.error),this.payload=n,this.type="[Budget] Update Budget Fail"}}class ao extends i.kPG.EntitySuccessAction{constructor(n){super(N,n.code??"",n),this.payload=n,this.type=Xt}}const Ht="[B2BUnit] Load B2BUnit Data",Wt="[B2BUnit] Load B2BUnit Data Success",er="[B2BUnitNode] Load B2BUnitNodes",tr="[B2BUnit] Create B2BUnitNode",rr="[B2BUnit] Create B2BUnitNode Success",nr="[B2BUnit] Update B2BUnitNode",sr="[B2BUnit] Update B2BUnitNode Success",or="[B2BUnitNode] Load Tree",ir="[B2BApprovalProcess] Load Approval Processes",cr="[B2BUnit] Load Users",ar="[B2BUnit] Load Users success",ur="[B2BUnit] Assign Role",lr="[B2BUnit] Assign Role success",dr="[B2BUnit] Unassign Role",pr="[B2BUnit] Unassign Role success",gr="[B2BUnit] Assign Approver",mr="[B2BUnit] Assign Approver success",fr="[B2BUnit] Unassign Approver",Ur="[B2BUnit] Unassign Approver success",hr="[B2BUnit] Create address",_r="[B2BUnit] Update address",vr="[B2BUnit] Delete address",Sr="[B2BUnit] Load addresses success";class Ar extends i.kPG.EntityLoadAction{constructor(n){super(oe,n.orgUnitId),this.payload=n,this.type=Ht}}class Ro extends i.kPG.EntityFailAction{constructor(n){super(oe,n.orgUnitId,n.error),this.payload=n,this.type="[B2BUnit] Load B2BUnit Data Fail"}}class Mo extends i.kPG.EntitySuccessAction{constructor(n){super(oe,Array.isArray(n)?n.map(t=>t?.uid??""):n?.uid??""),this.payload=n,this.type=Wt}}class Oo extends i.kPG.EntityLoadAction{constructor(n){super(mt,vt),this.payload=n,this.type=er}}class Zo extends i.kPG.EntityFailAction{constructor(n){super(mt,vt,n.error),this.payload=n,this.type="[B2BUnitNode] Load B2BUnitNodes Fail"}}class Fo extends i.kPG.EntitySuccessAction{constructor(n){super(mt,vt),this.payload=n,this.type="[B2BUnitNode] Load B2BUnitNodes Success"}}class wo extends i.kPG.EntityLoadAction{constructor(n){super(oe,n.unit.uid??null),this.payload=n,this.type=tr}}class ko extends i.kPG.EntityFailAction{constructor(n){super(oe,n.unitCode,n.error),this.payload=n,this.type="[B2BUnit] Create B2BUnitNode Fail"}}class No extends i.kPG.EntitySuccessAction{constructor(n){super(oe,n.uid??null,n),this.payload=n,this.type=rr}}class qo extends i.kPG.EntityLoadAction{constructor(n){super(oe,n.unit.uid??""),this.payload=n,this.type=nr}}class $o extends i.kPG.EntityFailAction{constructor(n){super(oe,n.unitCode,n.error),this.payload=n,this.type="[B2BUnit] Update B2BUnitNode Fail"}}class zo extends i.kPG.EntitySuccessAction{constructor(n){super(oe,n.uid??"",n),this.payload=n,this.type=sr}}class Jo extends i.kPG.EntityLoadAction{constructor(n){super(ft,ht),this.payload=n,this.type=or}}class Qo extends i.kPG.EntityFailAction{constructor(n){super(ft,ht,n.error),this.payload=n,this.type="[B2BUnitNode] Load Tree Fail"}}class Yo extends i.kPG.EntitySuccessAction{constructor(n){super(ft,ht),this.payload=n,this.type="[B2BUnitNode] Load Tree Success"}}class jo extends i.kPG.EntityLoadAction{constructor(n){super(Ut,_t),this.payload=n,this.type=ir}}class Vo extends i.kPG.EntityFailAction{constructor(n){super(Ut,_t,n.error),this.payload=n,this.type="[B2BApprovalProcess] Load Approval Processes Fail"}}class Ko extends i.kPG.EntitySuccessAction{constructor(n){super(Ut,_t),this.payload=n,this.type="[B2BApprovalProcess] Load Approval Processes Success"}}class Xo extends i.kPG.EntityLoadAction{constructor(n){super(ze,i.kPG.serializeSearchConfig(n.params,`${n.orgUnitId},${n.roleId}`)),this.payload=n,this.type=cr}}class Ho extends i.kPG.EntityRemoveAction{constructor(n){super(ze,i.kPG.serializeSearchConfig(n.params,`${n.orgUnitId},${n.roleId}`)),this.payload=n,this.type="[B2BUnit] Clear Assigned Users"}}class Wo extends i.kPG.EntityFailAction{constructor(n){super(ze,i.kPG.serializeSearchConfig(n.params,`${n.orgUnitId},${n.roleId}`),n.error),this.payload=n,this.type="[B2BUnit] Load Users fail"}}class ei extends i.kPG.EntitySuccessAction{constructor(n){super(ze,i.kPG.serializeSearchConfig(n.params,`${n.orgUnitId},${n.roleId}`)),this.payload=n,this.type=ar}}class ti extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomerId),this.payload=n,this.type=ur}}class ri extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUnit] Assign Role fail"}}class ni extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.uid,n),this.payload=n,this.type=lr}}class si extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomerId),this.payload=n,this.type=dr}}class oi extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUnit] Unassign Role fail"}}class ii extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.uid,n),this.payload=n,this.type=pr}}class Tt extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomerId),this.payload=n,this.type=gr}}class ci extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUnit] Assign Approver fail"}}class ai extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.uid,n),this.payload=n,this.type=mr}}class ui extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomerId),this.payload=n,this.type=fr}}class li extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUnit] Unassign Approver fail"}}class di extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.uid,n),this.payload=n,this.type=Ur}}class pi extends i.kPG.EntityLoadAction{constructor(n){super(ee,n.address.id??null),this.payload=n,this.type=hr}}class gi extends i.kPG.EntityFailAction{constructor(n){super(ee,n.addressId,n.error),this.payload=n,this.type="[B2BUnit] Create address fail"}}class Cr extends i.kPG.EntitySuccessAction{constructor(n){super(ee,n.id??null,n),this.payload=n,this.type="[B2BUnit] Create address success"}}class mi extends i.kPG.EntityLoadAction{constructor(n){super(ee,n.address.id??""),this.payload=n,this.type=_r}}class fi extends i.kPG.EntityFailAction{constructor(n){super(ee,n.addressId,n.error),this.payload=n,this.type="[B2BUnit] Update address fail"}}class Ui extends i.kPG.EntitySuccessAction{constructor(n){super(ee,n.id??"",n),this.payload=n,this.type="[B2BUnit] Update address success"}}class hi extends i.kPG.EntityLoadAction{constructor(n){super(ee,n.addressId),this.payload=n,this.type=vr}}class _i extends i.kPG.EntityFailAction{constructor(n){super(ee,n.addressId,n.error),this.payload=n,this.type="[B2BUnit] Delete address fail"}}class vi extends i.kPG.EntityRemoveAction{constructor(n){super(ee,n.id??""),this.payload=n,this.type="[B2BUnit] Delete address success"}}class Si extends i.kPG.EntitySuccessAction{constructor(n){super(ee,Array.isArray(n)?n.map(t=>t?.id??""):n?.id??""),this.payload=n,this.type="[B2BUnit] Load address success"}}class Ai extends i.kPG.EntitySuccessAction{constructor(n){super(It,n.orgUnitId),this.payload=n,this.type=Sr}}const xr="[UserGroup] Load UserGroup Data",Lr="[UserGroup] Load UserGroup Data Success",Er="[UserGroup] Load UserGroups",yr="[UserGroup] Load UserGroups Success",Ir="[UserGroup] Load Permissions Data",Pr="[UserGroup] Load Permissions Data Success",Tr="[UserGroup] Load Customers Data",Dr="[UserGroup] Load Customers Data Success",br="[UserGroup] Create UserGroup",Gr="[UserGroup] Create UserGroup Success",Br="[UserGroup] Assign Member",Rr="[UserGroup] Assign Member Success",Mr="[UserGroup] Assign Permissions",Or="[UserGroup] Assign Permissions Success",Zr="[UserGroup] Update UserGroup",Fr="[UserGroup] Update UserGroup Success",wr="[UserGroup] Delete UserGroup",kr="[UserGroup] Unassign Members",Nr="[UserGroup] Unassign Members Success",qr="[UserGroup] Unassign Member",$r="[UserGroup] Unassign Member Success",zr="[UserGroup] Unassign Permission",Jr="[UserGroup] Unassign Permission Success";class Mi extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroupId),this.payload=n,this.type=xr}}class Oi extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[UserGroup] Load UserGroup Data Fail"}}class Dt extends i.kPG.EntitySuccessAction{constructor(n){super(G,Array.isArray(n)?n.map(t=>t?.uid??""):n?.uid??""),this.payload=n,this.type=Lr}}class Zi extends i.kPG.EntityLoadAction{constructor(n){super(Lt,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=Er}}class Fi extends i.kPG.EntityFailAction{constructor(n){super(Lt,i.kPG.serializeSearchConfig(n.params),n.error),this.payload=n,this.type="[UserGroup] Load UserGroups Fail"}}class wi extends i.kPG.EntitySuccessAction{constructor(n){super(Lt,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=yr}}class ki extends i.kPG.EntityLoadAction{constructor(n){super(Et,i.kPG.serializeSearchConfig(n.params,n.userGroupId)),this.payload=n,this.type=Ir}}class Ni extends i.kPG.EntityFailAction{constructor(n){super(Et,i.kPG.serializeSearchConfig(n.params,n.userGroupId),n.error),this.payload=n,this.type="[UserGroup] Load Permissions Data Fail"}}class qi extends i.kPG.EntitySuccessAction{constructor(n){super(Et,i.kPG.serializeSearchConfig(n.params,n.userGroupId)),this.payload=n,this.type=Pr}}class $i extends i.kPG.EntityLoadAction{constructor(n){super(yt,i.kPG.serializeSearchConfig(n.params,n.userGroupId)),this.payload=n,this.type=Tr}}class zi extends i.kPG.EntityFailAction{constructor(n){super(yt,i.kPG.serializeSearchConfig(n.params,n.userGroupId),n.error),this.payload=n,this.type="[UserGroup] Load Customers Data Fail"}}class Ji extends i.kPG.EntitySuccessAction{constructor(n){super(yt,i.kPG.serializeSearchConfig(n.params,n.userGroupId)),this.payload=n,this.type=Dr}}class Qi extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroup.uid??null),this.payload=n,this.type=br}}class Yi extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[UserGroup] Create UserGroup Fail"}}class ji extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid??null,n),this.payload=n,this.type=Gr}}class Vi extends i.kPG.EntityLoadAction{constructor(n){super(P,n.customerId),this.payload=n,this.type=Br}}class Ki extends i.kPG.EntityFailAction{constructor(n){super(P,n.customerId,n.error),this.payload=n,this.type="[UserGroup] Assign Member Fail"}}class Xi extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.customerId,n),this.payload=n,this.type=Rr}}class Hi extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permissionUid),this.payload=n,this.type=Mr}}class Wi extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionUid,n.error),this.payload=n,this.type="[UserGroup] Assign Permissions Fail"}}class ec extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.permissionUid,n),this.payload=n,this.type=Or}}class tc extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroup.uid??""),this.payload=n,this.type=Zr}}class rc extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[UserGroup] Update UserGroup Fail"}}class nc extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid??"",n),this.payload=n,this.type=Fr}}class sc extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroupId),this.payload=n,this.type=wr}}class oc extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[UserGroup] Delete UserGroup Fail"}}class ic extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid??"",n),this.payload=n,this.type="[UserGroup] Delete UserGroup Success"}}class cc extends i.kPG.EntityLoadAction{constructor(n){super(P,n.customerId),this.payload=n,this.type=qr}}class ac extends i.kPG.EntityFailAction{constructor(n){super(P,n.customerId,n.error),this.payload=n,this.type="[UserGroup] Unassign Member Fail"}}class uc extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.customerId,n),this.payload=n,this.type=$r}}class lc extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroupId),this.payload=n,this.type=kr}}class dc extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[UserGroup] Unassign Members Fail"}}class pc extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid??"",n),this.payload=n,this.type=Nr}}class gc extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permissionUid),this.payload=n,this.type=zr}}class mc extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionUid,n.error),this.payload=n,this.type="[UserGroup] Unassign Permission Fail"}}class fc extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.permissionUid,n),this.payload=n,this.type=Jr}}const Qr="[Permission] Load Permission Data",Yr="[Permission] Load Permission Data Success",jr="[Permission] Load Permissions",Vr="[Permission] Load Permissions Success",Kr="[Permission] Create Permission",Xr="[Permission] Create Permission Success",Hr="[Permission] Update Permission",Wr="[Permission] Update Permission Success",en="[Permission Types] Load Permission Types";class Cc extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permissionCode),this.payload=n,this.type=Qr}}class xc extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionCode,n.error),this.payload=n,this.type="[Permission] Load Permission Data Fail"}}class Je extends i.kPG.EntitySuccessAction{constructor(n){super(b,Array.isArray(n)?n.map(t=>t?.code??""):n?.code??""),this.payload=n,this.type=Yr}}class Lc extends i.kPG.EntityLoadAction{constructor(n){super(dt,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=jr}}class Ec extends i.kPG.EntityFailAction{constructor(n){super(dt,i.kPG.serializeSearchConfig(n.params),n.error),this.payload=n,this.type="[Permission] Load Permissions Fail"}}class yc extends i.kPG.EntitySuccessAction{constructor(n){super(dt,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=Vr}}class Ic extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permission.code??null),this.payload=n,this.type=Kr}}class Pc extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionCode,n.error),this.payload=n,this.type="[Permission] Create Permission Fail"}}class Tc extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.code??null,n),this.payload=n,this.type=Xr}}class Dc extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permission.code??""),this.payload=n,this.type=Hr}}class bc extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionCode,n.error),this.payload=n,this.type="[Permission] Update Permission Fail"}}class Gc extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.code??"",n),this.payload=n,this.type=Wr}}class Bc extends i.kPG.EntityLoadAction{constructor(){super(gt,pt),this.type=en}}class Rc extends i.kPG.EntityFailAction{constructor(n){super(gt,pt,n.error),this.payload=n,this.type="[Permission Types] Load Permission Types Fail"}}class Mc extends i.kPG.EntitySuccessAction{constructor(n){super(gt,pt),this.payload=n,this.type="[Permission Types] Load Permission Types Success"}}const tn="[CostCenter] Load CostCenter Data",rn="[CostCenter] Load CostCenter Data Success",nn="[CostCenter] Load CostCenters",sn="[CostCenter] Load CostCenters Success",on="[CostCenter] Create CostCenter",cn="[CostCenter] Create CostCenter Success",an="[CostCenter] Update CostCenter",un="[CostCenter] Update CostCenter Success",ln="[CostCenter] Load Budgets",dn="[CostCenter] Load Budgets success",pn="[CostCenter] Assign Budget",gn="[CostCenter] Assign Budget success",mn="[CostCenter] Unassign Budget",fn="[CostCenter] Unassign Budget success";class $c extends i.kPG.EntityLoadAction{constructor(n){super(se,n.costCenterCode),this.payload=n,this.type=tn}}class zc extends i.kPG.EntityFailAction{constructor(n){super(se,n.costCenterCode,n.error),this.payload=n,this.type="[CostCenter] Load CostCenter Data Fail"}}class Un extends i.kPG.EntitySuccessAction{constructor(n){super(se,Array.isArray(n)?n.map(t=>t?.code??""):n?.code??""),this.payload=n,this.type=rn}}class Jc extends i.kPG.EntityLoadAction{constructor(n){super(ut,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=nn}}class Qc extends i.kPG.EntityFailAction{constructor(n){super(ut,i.kPG.serializeSearchConfig(n.params),n.error),this.payload=n,this.type="[CostCenter] Load CostCenters Fail"}}class Yc extends i.kPG.EntitySuccessAction{constructor(n){super(ut,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=sn}}class jc extends i.kPG.EntityLoadAction{constructor(n){super(se,n.costCenter.code??null),this.payload=n,this.type=on}}class Vc extends i.kPG.EntityFailAction{constructor(n){super(se,n.costCenterCode,n.error),this.payload=n,this.type="[CostCenter] Create CostCenter Fail"}}class Kc extends i.kPG.EntitySuccessAction{constructor(n){super(se,n.code??null,n),this.payload=n,this.type=cn}}class Xc extends i.kPG.EntityLoadAction{constructor(n){super(se,n.costCenter.code??""),this.payload=n,this.type=an}}class Hc extends i.kPG.EntityFailAction{constructor(n){super(se,n.costCenterCode,n.error),this.payload=n,this.type="[CostCenter] Update CostCenter Fail"}}class Wc extends i.kPG.EntitySuccessAction{constructor(n){super(se,n.code??"",n),this.payload=n,this.type=un}}class ea extends i.kPG.EntityLoadAction{constructor(n){super(lt,i.kPG.serializeSearchConfig(n.params,n.costCenterCode)),this.payload=n,this.type=ln}}class ta extends i.kPG.EntityFailAction{constructor(n){super(lt,i.kPG.serializeSearchConfig(n.params,n.costCenterCode),n.error),this.payload=n,this.type="[CostCenter] Load Budgets fail"}}class ra extends i.kPG.EntitySuccessAction{constructor(n){super(lt,i.kPG.serializeSearchConfig(n.params,n.costCenterCode)),this.payload=n,this.type=dn}}class na extends i.kPG.EntityLoadAction{constructor(n){super(N,n.budgetCode),this.payload=n,this.type=pn}}class sa extends i.kPG.EntityFailAction{constructor(n){super(N,n.budgetCode,n.error),this.payload=n,this.type="[CostCenter] Assign Budget fail"}}class oa extends i.kPG.EntitySuccessAction{constructor(n){super(N,n.code,n),this.payload=n,this.type=gn}}class ia extends i.kPG.EntityLoadAction{constructor(n){super(N,n.budgetCode),this.payload=n,this.type=mn}}class ca extends i.kPG.EntityFailAction{constructor(n){super(N,n.budgetCode,n.error),this.payload=n,this.type="[CostCenter] Unassign Budget fail"}}class aa extends i.kPG.EntitySuccessAction{constructor(n){super(N,n.code,n),this.payload=n,this.type=fn}}const hn="[B2BUser] Load B2BUser Data",_n="[B2BUser] Load B2BUser Data Success",vn="[B2BUser] Create B2BUser Data",Sn="[B2BUser] Create B2BUser Data Success",An="[B2BUser] Update B2BUser Data",bt="[B2BUser] Update B2BUser Data Success",Cn="[B2BUser] Load B2BUsers",xn="[B2BUser] Load B2BUsers Success",Ln="[B2BUser] Load B2BUser Approvers",En="[B2BUser] Load B2BUser Approvers Success",yn="[B2BUser] Assign B2BUser Approver",In="[B2BUser] Assign B2BUser Approver Success",Pn="[B2BUser] Unassign B2BUser Approver",Tn="[B2BUser] Unassign B2BUser Approver Success",Dn="[B2BUser] Load B2BUser Permissions",bn="[B2BUser] Load B2BUser Permissions Success",Gn="[B2BUser] Assign B2BUser Permission",Bn="[B2BUser] Assign B2BUser Permission Success",Rn="[B2BUser] Unassign B2BUser Permission",Mn="[B2BUser] Unassign B2BUser Permission Success",On="[B2BUser] Load B2BUser User Groups",Zn="[B2BUser] Load B2BUser User Groups Success",Fn="[B2BUser] Assign B2BUser User Group",wn="[B2BUser] Assign B2BUser User Group Success",kn="[B2BUser] Unassign B2BUser User Group",Nn="[B2BUser] Unassign B2BUser User Group Success";class Ca extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomerId),this.payload=n,this.type=hn}}class xa extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUser] Load B2BUser Data Fail"}}class De extends i.kPG.EntitySuccessAction{constructor(n){super(P,Array.isArray(n)?n.map(t=>t?.customerId??""):n?.customerId??""),this.payload=n,this.type=_n}}class La extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomer.customerId??null),this.payload=n,this.type=vn}}class Ea extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUser] Create B2BUser Data Fail"}}class qn extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.customerId??null,n),this.payload=n,this.type=Sn}}class ya extends i.kPG.EntityLoadAction{constructor(n){super(P,n.orgCustomer.customerId??""),this.payload=n,this.type=An}}class Ia extends i.kPG.EntityFailAction{constructor(n){super(P,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUser] Update B2BUser Data Fail"}}class Pa extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.customerId??"",n),this.payload=n,this.type=bt}}class Ta extends i.kPG.EntityLoadAction{constructor(n){super(St,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=Cn}}class Da extends i.kPG.EntityFailAction{constructor(n){super(St,i.kPG.serializeSearchConfig(n.params),n.error),this.payload=n,this.type="[B2BUser] Load B2BUsers Fail"}}class ba extends i.kPG.EntitySuccessAction{constructor(n){super(St,i.kPG.serializeSearchConfig(n.params)),this.payload=n,this.type=xn}}class Ga extends i.kPG.EntityLoadAction{constructor(n){super(At,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=Ln}}class Ba extends i.kPG.EntityFailAction{constructor(n){super(At,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId),n.error),this.payload=n,this.type="[B2BUser] Load B2BUser Approvers Fail"}}class Ra extends i.kPG.EntitySuccessAction{constructor(n){super(At,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=En}}class Ma extends i.kPG.EntityLoadAction{constructor(n){super(P,n.approverId),this.payload=n,this.type=yn}}class Oa extends i.kPG.EntityFailAction{constructor(n){super(P,n.approverId),this.payload=n,this.type="[B2BUser] Assign B2BUser Approver Fail"}}class Za extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.approverId,n),this.payload=n,this.type=In}}class Fa extends i.kPG.EntityLoadAction{constructor(n){super(P,n.approverId),this.payload=n,this.type=Pn}}class wa extends i.kPG.EntityFailAction{constructor(n){super(P,n.approverId),this.payload=n,this.type="[B2BUser] Unassign B2BUser Approver Fail"}}class ka extends i.kPG.EntitySuccessAction{constructor(n){super(P,n.approverId,n),this.payload=n,this.type=Tn}}class Na extends i.kPG.EntityLoadAction{constructor(n){super(Ct,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=Dn}}class qa extends i.kPG.EntityFailAction{constructor(n){super(Ct,n.orgCustomerId,n.error),this.payload=n,this.type="[B2BUser] Load B2BUser Permissions Fail"}}class $a extends i.kPG.EntitySuccessAction{constructor(n){super(Ct,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=bn}}class za extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permissionId),this.payload=n,this.type=Gn}}class Ja extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionId,n.error),this.payload=n,this.type="[B2BUser] Assign B2BUser Permission Fail"}}class Qa extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.permissionId,n),this.payload=n,this.type=Bn}}class Ya extends i.kPG.EntityLoadAction{constructor(n){super(b,n.permissionId),this.payload=n,this.type=Rn}}class ja extends i.kPG.EntityFailAction{constructor(n){super(b,n.permissionId,n.error),this.payload=n,this.type="[B2BUser] Unassign B2BUser Permission Fail"}}class Va extends i.kPG.EntitySuccessAction{constructor(n){super(b,n.permissionId,n),this.payload=n,this.type=Mn}}class Ka extends i.kPG.EntityLoadAction{constructor(n){super(xt,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=On}}class Xa extends i.kPG.EntityFailAction{constructor(n){super(xt,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId),n.error),this.payload=n,this.type="[B2BUser] Load B2BUser User Groups Fail"}}class Ha extends i.kPG.EntitySuccessAction{constructor(n){super(xt,i.kPG.serializeSearchConfig(n.params,n.orgCustomerId)),this.payload=n,this.type=Zn}}class Wa extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroupId),this.payload=n,this.type=Fn}}class eu extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[B2BUser] Assign B2BUser User Group Fail"}}class tu extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid,n),this.payload=n,this.type=wn}}class ru extends i.kPG.EntityLoadAction{constructor(n){super(G,n.userGroupId),this.payload=n,this.type=kn}}class nu extends i.kPG.EntityFailAction{constructor(n){super(G,n.userGroupId,n.error),this.payload=n,this.type="[B2BUser] Unassign B2BUser User Group Fail"}}class su extends i.kPG.EntitySuccessAction{constructor(n){super(G,n.uid,n),this.payload=n,this.type=Nn}}const $n="[Organization] Clear Data";class S{constructor(){this.type=$n}}const Bl=[(()=>{class r{constructor(t,s){this.actions$=t,this.budgetConnector=s,this.loadBudget$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(zt),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,budgetCode:c})=>this.budgetConnector.get(o,c).pipe((0,p.U)(l=>new Pt([l])),(0,A.K)(l=>(0,I.of)(new Ws({budgetCode:c,error:(0,i.cxH)(l)}))))))),this.loadBudgets$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Qt),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.budgetConnector.getList(o.userId,o.params).pipe((0,f.w)(c=>{const{values:l,page:u}=i.kPG.normalizeListPage(c,"code");return[new Pt(l),new ro({page:u,params:o.params})]}),(0,A.K)(c=>(0,I.of)(new to({params:o.params,error:(0,i.cxH)(c)}))))))),this.createBudget$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(jt),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.budgetConnector.create(o.userId,o.budget).pipe((0,f.w)(c=>[new oo(c),new S]),(0,A.K)(c=>(0,D.D)([new so({budgetCode:o.budget.code??"",error:(0,i.cxH)(c)}),new S])))))),this.updateBudget$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Kt),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.budgetConnector.update(o.userId,o.budgetCode,o.budget).pipe((0,f.w)(c=>[new ao(c),new S]),(0,A.K)(c=>(0,D.D)([new co({budgetCode:o.budget.code??"",error:(0,i.cxH)(c)}),new S]))))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(Bs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),(()=>{class r{constructor(t,s){this.actions$=t,this.orgUnitConnector=s,this.loadOrgUnit$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Ht),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,orgUnitId:c})=>this.orgUnitConnector.get(o,c).pipe((0,f.w)(l=>{const{values:u,page:U}=i.kPG.normalizeListPage({values:l.addresses??[]},"id");return[new Mo([l]),new Si(u),new Ai({page:U,orgUnitId:c})]}),(0,A.K)(l=>(0,I.of)(new Ro({orgUnitId:c,error:(0,i.cxH)(l)}))))))),this.loadAvailableOrgUnits$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(er),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.orgUnitConnector.getList(o.userId).pipe((0,p.U)(c=>new Fo(c)),(0,A.K)(c=>(0,I.of)(new Zo({error:(0,i.cxH)(c)}))))))),this.createUnit$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(tr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.orgUnitConnector.create(o.userId,o.unit).pipe((0,f.w)(c=>[new No(c),new S]),(0,A.K)(c=>(0,D.D)([new ko({unitCode:o.unit.uid??"",error:(0,i.cxH)(c)}),new S])))))),this.updateUnit$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(nr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.orgUnitConnector.update(o.userId,o.unitCode,o.unit).pipe((0,f.w)(c=>[new zo(o.unit),new S]),(0,A.K)(c=>(0,D.D)([new $o({unitCode:o.unit.uid??"",error:(0,i.cxH)(c)}),new S])))))),this.loadTree$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(or),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o})=>this.orgUnitConnector.getTree(o).pipe((0,p.U)(c=>new Yo(c)),(0,A.K)(c=>(0,I.of)(new Qo({error:(0,i.cxH)(c)}))))))),this.loadApprovalProcesses$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(ir),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o})=>this.orgUnitConnector.getApprovalProcesses(o).pipe((0,p.U)(c=>new Ko(c)),(0,A.K)(c=>(0,I.of)(new Vo({error:(0,i.cxH)(c)}))))))),this.loadUsers$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(cr),(0,p.U)(o=>o.payload),(0,_e.v)(({orgUnitId:o,roleId:c,params:l})=>i.kPG.serializeParams([o,c],l)),(0,R.zg)(o=>o.pipe((0,f.w)(({userId:c,orgUnitId:l,roleId:u,params:U})=>this.orgUnitConnector.getUsers(c,l,u,U).pipe((0,f.w)(L=>{const{values:z,page:J}=i.kPG.normalizeListPage(L,"customerId");return[new De(z),new ei({orgUnitId:l,roleId:u,page:J,params:U})]}),(0,A.K)(L=>(0,I.of)(new Wo({orgUnitId:l,roleId:u,params:U,error:(0,i.cxH)(L)}))))))))),this.assignRoleToUser=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(ur),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,orgCustomerId:c,roleId:l})=>this.orgUnitConnector.assignRole(o,c,l).pipe((0,p.U)(()=>new ni({uid:c,roleId:l,selected:!0})),(0,A.K)(u=>(0,I.of)(new ri({orgCustomerId:c,error:(0,i.cxH)(u)}))))))),this.unassignRoleToUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(dr),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,orgCustomerId:c,roleId:l})=>this.orgUnitConnector.unassignRole(o,c,l).pipe((0,p.U)(()=>new ii({uid:c,roleId:l,selected:!1})),(0,A.K)(u=>(0,I.of)(new oi({orgCustomerId:c,error:(0,i.cxH)(u)}))))))),this.assignApprover=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(gr),(0,p.U)(o=>o.payload),(0,R.zg)(({userId:o,orgUnitId:c,orgCustomerId:l,roleId:u})=>this.orgUnitConnector.assignApprover(o,c,l,u).pipe((0,f.w)(()=>[new ai({uid:l,roleId:u,selected:!0}),new S]),(0,A.K)(U=>(0,D.D)([new ci({orgCustomerId:l,error:(0,i.cxH)(U)}),new S])))))),this.unassignApprover=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(fr),(0,p.U)(o=>o.payload),(0,R.zg)(({userId:o,orgUnitId:c,orgCustomerId:l,roleId:u})=>this.orgUnitConnector.unassignApprover(o,c,l,u).pipe((0,f.w)(()=>[new di({uid:l,roleId:u,selected:!1}),new S]),(0,A.K)(U=>(0,D.D)([new li({orgCustomerId:l,error:(0,i.cxH)(U)}),new S])))))),this.createAddress$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(hr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.orgUnitConnector.createAddress(o.userId,o.orgUnitId,o.address).pipe((0,f.w)(c=>[new Cr(c),new Cr({id:void 0}),new S]),(0,A.K)(c=>(0,D.D)([new gi({addressId:o.address.id??"",error:(0,i.cxH)(c)}),new S])))))),this.updateAddress$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(_r),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,orgUnitId:c,addressId:l,address:u})=>this.orgUnitConnector.updateAddress(o,c,l,u).pipe((0,f.w)(()=>[new Ui(u),new S]),(0,A.K)(U=>(0,D.D)([new fi({addressId:u.id??"",error:(0,i.cxH)(U)}),new S])))))),this.deleteAddress$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(vr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.orgUnitConnector.deleteAddress(o.userId,o.orgUnitId,o.addressId).pipe((0,f.w)(()=>[new vi({id:o.addressId}),new S]),(0,A.K)(c=>(0,D.D)([new _i({addressId:o.addressId,error:(0,i.cxH)(c)}),new S]))))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(Zs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),(()=>{class r{constructor(t,s){this.actions$=t,this.userGroupConnector=s,this.loadUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(xr),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,userGroupId:c})=>this.userGroupConnector.get(o,c).pipe((0,p.U)(l=>new Dt([l])),(0,A.K)(l=>(0,I.of)(new Oi({userGroupId:c,error:(0,i.cxH)(l)}))))))),this.loadUserGroups$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Er),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.userGroupConnector.getList(o.userId,o.params).pipe((0,f.w)(c=>{const{values:l,page:u}=i.kPG.normalizeListPage(c,"uid");return[new Dt(l),new wi({page:u,params:o.params})]}),(0,A.K)(c=>(0,I.of)(new Fi({params:o.params,error:(0,i.cxH)(c)}))))))),this.loadAvailableOrderApprovalPermissions$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Ir),(0,p.U)(o=>o.payload),(0,_e.v)(({userGroupId:o,params:c})=>i.kPG.serializeParams(o,c)),(0,R.zg)(o=>o.pipe((0,f.w)(c=>this.userGroupConnector.getAvailableOrderApprovalPermissions(c.userId,c.userGroupId,c.params).pipe((0,f.w)(l=>{const{values:u,page:U}=i.kPG.normalizeListPage(l,"code");return[new Je(u),new qi({userGroupId:c.userGroupId,page:U,params:c.params})]}),(0,A.K)(l=>(0,I.of)(new Ni({userGroupId:c.userGroupId,params:c.params,error:(0,i.cxH)(l)}))))))))),this.loadAvailableOrgCustomers$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Tr),(0,p.U)(o=>o.payload),(0,_e.v)(({userGroupId:o,params:c})=>i.kPG.serializeParams(o,c)),(0,R.zg)(o=>o.pipe((0,f.w)(c=>this.userGroupConnector.getAvailableOrgCustomers(c.userId,c.userGroupId,c.params).pipe((0,f.w)(l=>{const{values:u,page:U}=i.kPG.normalizeListPage(l,"customerId");return[new De(u),new Ji({userGroupId:c.userGroupId,page:U,params:c.params})]}),(0,A.K)(l=>(0,I.of)(new zi({userGroupId:c.userGroupId,params:c.params,error:(0,i.cxH)(l)}))))))))),this.createUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(br),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.userGroupConnector.create(o.userId,o.userGroup).pipe((0,f.w)(c=>[new ji(c),new S]),(0,A.K)(c=>(0,D.D)([new Yi({userGroupId:o.userGroup.uid??"",error:(0,i.cxH)(c)}),new S])))))),this.updateUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Zr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.userGroupConnector.update(o.userId,o.userGroupId,o.userGroup).pipe((0,f.w)(()=>[new nc(o.userGroup),new S]),(0,A.K)(c=>(0,D.D)([new rc({userGroupId:o.userGroup.uid??"",error:(0,i.cxH)(c)}),new S])))))),this.deleteUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(wr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.userGroupConnector.delete(o.userId,o.userGroupId).pipe((0,f.w)(c=>[new ic(c),new S]),(0,A.K)(c=>(0,D.D)([new oc({userGroupId:o.userGroupId,error:(0,i.cxH)(c)}),new S])))))),this.assignPermissionToUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Mr),(0,p.U)(o=>o.payload),(0,R.zg)(o=>this.userGroupConnector.assignOrderApprovalPermission(o.userId,o.userGroupId,o.permissionUid).pipe((0,f.w)(c=>[new ec({permissionUid:c.id,selected:c.selected}),new S]),(0,A.K)(c=>(0,D.D)([new Wi({userGroupId:o.userGroupId,permissionUid:o.permissionUid,error:(0,i.cxH)(c)}),new S])))))),this.assignMemberUnitUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Br),(0,p.U)(o=>o.payload),(0,R.zg)(o=>this.userGroupConnector.assignMember(o.userId,o.userGroupId,o.customerId).pipe((0,f.w)(()=>[new Xi({customerId:o.customerId,selected:!0}),new S]),(0,A.K)(c=>(0,D.D)([new Ki({userGroupId:o.userGroupId,customerId:o.customerId,error:(0,i.cxH)(c)}),new S])))))),this.unassignMemberFromUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(qr),(0,p.U)(o=>o.payload),(0,R.zg)(o=>this.userGroupConnector.unassignMember(o.userId,o.userGroupId,o.customerId).pipe((0,f.w)(()=>[new uc({customerId:o.customerId,selected:!1}),new S]),(0,A.K)(c=>(0,D.D)([new ac({userGroupId:o.userGroupId,customerId:o.customerId,error:(0,i.cxH)(c)}),new S])))))),this.unassignPermissionFromUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(zr),(0,p.U)(o=>o.payload),(0,R.zg)(o=>this.userGroupConnector.unassignOrderApprovalPermission(o.userId,o.userGroupId,o.permissionUid).pipe((0,f.w)(c=>[new fc({permissionUid:c.id,selected:c.selected}),new S]),(0,A.K)(c=>(0,D.D)([new mc({userGroupId:o.userGroupId,permissionUid:o.permissionUid,error:(0,i.cxH)(c)}),new S])))))),this.unassignAllMembersFromUserGroup$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(kr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.userGroupConnector.unassignAllMembers(o.userId,o.userGroupId).pipe((0,f.w)(()=>[new pc({selected:!1}),new S]),(0,A.K)(c=>(0,D.D)([new dc({userGroupId:o.userGroupId,error:(0,i.cxH)(c)}),new S]))))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(Ns))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),(()=>{class r{constructor(t,s){this.actions$=t,this.permissionConnector=s,this.loadPermission$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Qr),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,permissionCode:c})=>this.permissionConnector.get(o,c).pipe((0,p.U)(l=>new Je([l])),(0,A.K)(l=>(0,I.of)(new xc({permissionCode:c,error:(0,i.cxH)(l)}))))))),this.loadPermissions$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(jr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.permissionConnector.getList(o.userId,o.params).pipe((0,f.w)(c=>{const{values:l,page:u}=i.kPG.normalizeListPage(c,"code");return[new Je(l),new yc({page:u,params:o.params})]}),(0,A.K)(c=>(0,I.of)(new Ec({params:o.params,error:(0,i.cxH)(c)}))))))),this.createPermission$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Kr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.permissionConnector.create(o.userId,o.permission).pipe((0,f.w)(c=>[new Tc(c),new S]),(0,A.K)(c=>(0,D.D)([new Pc({permissionCode:o.permission.code??"",error:(0,i.cxH)(c)}),new S])))))),this.updatePermission$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Hr),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.permissionConnector.update(o.userId,o.permissionCode,o.permission).pipe((0,f.w)(c=>[new Gc(c),new S]),(0,A.K)(c=>(0,D.D)([new bc({permissionCode:o.permission.code??"",error:(0,i.cxH)(c)}),new S])))))),this.loadPermissionTypes$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(en),(0,f.w)(()=>this.permissionConnector.getTypes().pipe((0,p.U)(o=>new Mc(o)),(0,A.K)(o=>(0,I.of)(new Rc({error:(0,i.cxH)(o)})))))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(ws))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),(()=>{class r{constructor(t,s){this.actions$=t,this.costCenterConnector=s,this.loadCostCenter$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(tn),(0,p.U)(o=>o.payload),(0,f.w)(({userId:o,costCenterCode:c})=>this.costCenterConnector.get(o,c).pipe((0,p.U)(l=>new Un([l])),(0,A.K)(l=>(0,I.of)(new zc({costCenterCode:c,error:(0,i.cxH)(l)}))))))),this.loadCostCenters$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(nn),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.costCenterConnector.getList(o.userId,o.params).pipe((0,f.w)(c=>{const{values:l,page:u}=i.kPG.normalizeListPage(c,"code");return[new Un(l),new Yc({page:u,params:o.params})]}),(0,A.K)(c=>(0,I.of)(new Qc({params:o.params,error:(0,i.cxH)(c)}))))))),this.createCostCenter$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(on),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.costCenterConnector.create(o.userId,o.costCenter).pipe((0,f.w)(c=>[new Kc(c),new S]),(0,A.K)(c=>(0,D.D)([new Vc({costCenterCode:o.costCenter.code??"",error:(0,i.cxH)(c)}),new S])))))),this.updateCostCenter$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(an),(0,p.U)(o=>o.payload),(0,f.w)(o=>this.costCenterConnector.update(o.userId,o.costCenterCode,o.costCenter).pipe((0,f.w)(c=>[new Wc(c),new S]),(0,A.K)(c=>(0,D.D)([new Hc({costCenterCode:o.costCenter.code??"",error:(0,i.cxH)(c)}),new S])))))),this.loadAssignedBudgets$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(ln),(0,p.U)(o=>o.payload),(0,_e.v)(({costCenterCode:o,params:c})=>i.kPG.serializeParams(o,c)),(0,R.zg)(o=>o.pipe((0,f.w)(({userId:c,costCenterCode:l,params:u})=>this.costCenterConnector.getBudgets(c,l,u).pipe((0,f.w)(U=>{const{values:L,page:z}=i.kPG.normalizeListPage(U,"code");return[new Pt(L),new ra({costCenterCode:l,page:z,params:u})]}),(0,A.K)(U=>(0,I.of)(new ta({costCenterCode:l,params:u,error:(0,i.cxH)(U)}))))))))),this.assignBudgetToCostCenter$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(pn),(0,p.U)(o=>o.payload),(0,R.zg)(({userId:o,costCenterCode:c,budgetCode:l})=>this.costCenterConnector.assignBudget(o,c,l).pipe((0,f.w)(()=>[new oa({code:l,selected:!0}),new S]),(0,A.K)(u=>(0,D.D)([new sa({budgetCode:l,error:(0,i.cxH)(u)}),new S])))))),this.unassignBudgetToCostCenter$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(mn),(0,p.U)(o=>o.payload),(0,R.zg)(({userId:o,costCenterCode:c,budgetCode:l})=>this.costCenterConnector.unassignBudget(o,c,l).pipe((0,f.w)(()=>[new aa({code:l,selected:!1}),new S]),(0,A.K)(u=>(0,D.D)([new ca({budgetCode:l,error:(0,i.cxH)(u)}),new S]))))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(Ms))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),(()=>{class r{constructor(t,s,o,c,l){this.actions$=t,this.b2bUserConnector=s,this.routingService=o,this.userAccountFacade=c,this.userIdService=l,this.loadB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(hn),(0,p.U)(u=>u.payload),(0,f.w)(({userId:u,orgCustomerId:U})=>this.b2bUserConnector.get(u,U).pipe((0,p.U)(L=>new De([L])),(0,A.K)(L=>(0,I.of)(new xa({orgCustomerId:U,error:(0,i.cxH)(L)}))))))),this.createB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(vn),(0,p.U)(u=>u.payload),(0,f.w)(({userId:u,orgCustomer:U})=>this.b2bUserConnector.create(u,U).pipe((0,f.w)(L=>{const z=U.isAssignedToApprovers;return this.routingService.getRouterState().pipe((0,de.q)(1),(0,y.b)(J=>this.redirectToDetails(J,L)),(0,f.w)(()=>{const J=[new qn(L),new qn({customerId:void 0}),new S];return z&&J.splice(1,0,new Tt({userId:u,orgUnitId:U.orgUnit?.uid??"",orgCustomerId:L.customerId??"",roleId:i.KOx.APPROVER})),J}))}),(0,A.K)(L=>(0,D.D)([new Ea({orgCustomerId:U.customerId??"",error:(0,i.cxH)(L)}),new S])))))),this.updateB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(An),(0,p.U)(u=>u.payload),(0,f.w)(({userId:u,orgCustomerId:U,orgCustomer:L})=>{const z=L.isAssignedToApprovers;return this.b2bUserConnector.update(u,U,L).pipe((0,f.w)(J=>{const Sl=[new Pa(L)];return z&&Sl.push(new Tt({userId:u,orgUnitId:L.orgUnit?.uid??"",orgCustomerId:U,roleId:i.KOx.APPROVER})),Sl}),(0,A.K)(J=>(0,D.D)([new Ia({orgCustomerId:L.customerId??"",error:(0,i.cxH)(J)}),new S])))}))),this.checkSelfEmailUpdate$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(bt),(0,p.U)(u=>u.payload),(0,Es.M)(this.userAccountFacade.get(),this.userIdService.getUserId()),(0,f.w)(([u,U])=>{const L=u.customerId===U?.customerId&&u.email!==U?.displayUid;return L&&this.routingService.go({cxRoute:"login"}),L?[new i.uQL.Logout]:[new S]}))),this.loadB2BUsers$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Cn),(0,p.U)(u=>u.payload),(0,f.w)(u=>this.b2bUserConnector.getList(u.userId,u.params).pipe((0,f.w)(U=>{const{values:L,page:z}=i.kPG.normalizeListPage(U,"customerId");return[new De(L),new ba({page:z,params:u.params})]}),(0,A.K)(U=>(0,I.of)(new Da({params:u.params,error:(0,i.cxH)(U)}))))))),this.loadB2BUserApprovers$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Ln),(0,p.U)(u=>u.payload),(0,_e.v)(({orgCustomerId:u,params:U})=>i.kPG.serializeParams(u,U)),(0,R.zg)(u=>u.pipe((0,f.w)(U=>this.b2bUserConnector.getApprovers(U.userId,U.orgCustomerId,U.params).pipe((0,f.w)(L=>{const{values:z,page:J}=i.kPG.normalizeListPage(L,"customerId");return[new De(z),new Ra({orgCustomerId:U.orgCustomerId,page:J,params:U.params})]}),(0,A.K)(L=>(0,I.of)(new Ba({orgCustomerId:U.orgCustomerId,params:U.params,error:(0,i.cxH)(L)}))))))))),this.loadB2BUserPermissions$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Dn),(0,p.U)(u=>u.payload),(0,_e.v)(({orgCustomerId:u,params:U})=>i.kPG.serializeParams(u,U)),(0,R.zg)(u=>u.pipe((0,f.w)(U=>this.b2bUserConnector.getPermissions(U.userId,U.orgCustomerId,U.params).pipe((0,f.w)(L=>{const{values:z,page:J}=i.kPG.normalizeListPage(L,"code");return[new Je(z),new $a({orgCustomerId:U.orgCustomerId,page:J,params:U.params})]}),(0,A.K)(L=>(0,I.of)(new qa({orgCustomerId:U.orgCustomerId,params:U.params,error:(0,i.cxH)(L)}))))))))),this.loadB2BUserUserGroups$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(On),(0,p.U)(u=>u.payload),(0,_e.v)(({orgCustomerId:u,params:U})=>i.kPG.serializeParams(u,U)),(0,R.zg)(u=>u.pipe((0,f.w)(U=>this.b2bUserConnector.getUserGroups(U.userId,U.orgCustomerId,U.params).pipe((0,f.w)(L=>{const{values:z,page:J}=i.kPG.normalizeListPage(L,"uid");return[new Dt(z),new Ha({orgCustomerId:U.orgCustomerId,page:J,params:U.params})]}),(0,A.K)(L=>(0,I.of)(new Xa({orgCustomerId:U.orgCustomerId,params:U.params,error:(0,i.cxH)(L)}))))))))),this.assignApproverToB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(yn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.assignApprover(u.userId,u.orgCustomerId,u.approverId).pipe((0,f.w)(U=>[new Za({approverId:u.approverId,selected:U.selected})]),(0,A.K)(U=>(0,D.D)([new Oa({orgCustomerId:u.orgCustomerId,approverId:u.approverId,error:(0,i.cxH)(U)}),new S])))))),this.unassignApproverFromB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Pn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.unassignApprover(u.userId,u.orgCustomerId,u.approverId).pipe((0,f.w)(U=>[new ka({approverId:u.approverId,selected:U.selected})]),(0,A.K)(U=>(0,D.D)([new wa({orgCustomerId:u.orgCustomerId,approverId:u.approverId,error:(0,i.cxH)(U)}),new S])))))),this.assignPermissionToB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Gn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.assignPermission(u.userId,u.orgCustomerId,u.permissionId).pipe((0,f.w)(U=>[new Qa({permissionId:U.id,selected:U.selected}),new S]),(0,A.K)(U=>(0,D.D)([new Ja({orgCustomerId:u.orgCustomerId,permissionId:u.permissionId,error:(0,i.cxH)(U)}),new S])))))),this.unassignPermissionFromB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Rn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.unassignPermission(u.userId,u.orgCustomerId,u.permissionId).pipe((0,f.w)(U=>[new Va({permissionId:U.id,selected:U.selected}),new S]),(0,A.K)(U=>(0,D.D)([new ja({orgCustomerId:u.orgCustomerId,permissionId:u.permissionId,error:(0,i.cxH)(U)}),new S])))))),this.assignUserGroupToB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Fn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.assignUserGroup(u.userId,u.orgCustomerId,u.userGroupId).pipe((0,f.w)(U=>[new tu({uid:U.id,selected:U.selected}),new S]),(0,A.K)(U=>(0,D.D)([new eu({orgCustomerId:u.orgCustomerId,userGroupId:u.userGroupId,error:(0,i.cxH)(U)}),new S])))))),this.unassignUserGroupFromB2BUser$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(kn),(0,p.U)(u=>u.payload),(0,R.zg)(u=>this.b2bUserConnector.unassignUserGroup(u.userId,u.orgCustomerId,u.userGroupId).pipe((0,f.w)(()=>[new su({uid:u.userGroupId,selected:!1}),new S]),(0,A.K)(U=>(0,D.D)([new nu({orgCustomerId:u.orgCustomerId,userGroupId:u.userGroupId,error:(0,i.cxH)(U)}),new S]))))))}redirectToDetails(t,s){"/organization/units"!==t?.state?.context?.id&&this.routingService.go({cxRoute:"orgUserDetails",params:s})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(bs),e.LFG(i.Znh),e.LFG(Ts.gf),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})()];function Ml(r,n){switch(n.type){case _n:case Sn:case bt:return n.payload;case lr:case mr:return{...r,selected:n.payload?.selected,roles:[...r?.roles||[],n.payload?.roleId]};case pr:case Ur:return{...r,selected:n.payload?.selected,roles:[...r?.roles||[]].filter(t=>t!==n.payload?.roleId)};case In:case Tn:case Rr:case $r:case Nr:return{...r,...n.payload}}return r}function Ol(r,n){return n.type===xn?n.payload.page:r}function Zl(r,n){return n.type===En?n.payload.page:r}function Fl(r,n){return n.type===bn?n.payload.page:r}function wl(r,n){return n.type===Zn?n.payload.page:r}function ql(r,n){switch(n.type){case Jt:case Vt:case Xt:return n.payload;case fn:case gn:return{...r,...n.payload}}return r}function $l(r,n){return n.type===Yt?n.payload.page:r}function Jl(r,n){switch(n.type){case rn:case cn:case un:return n.payload}return r}function Ql(r,n){return n.type===sn?n.payload.page:r}function Yl(r,n){return n.type===dn?n.payload.page:r}function Vl(r,n){switch(n.type){case Wt:case rr:return n.payload;case sr:return{...r,...n.payload}}return r}function Kl(r,n){return n.type===ar?n.payload.page:r}function Xl(r,n){return n.type===Sr?n.payload.page:r}function ed(r,n){switch(n.type){case Yr:case Xr:case Wr:return n.payload;case Or:case Jr:case Bn:case Mn:return{...r,...n.payload}}return r}function td(r,n){return n.type===Vr?n.payload.page:r}function nd(r,n){switch(n.type){case Lr:case Gr:case Fr:return n.payload;case wn:case Nn:return{...r,...n.payload}}return r}function sd(r,n){return n.type===yr?n.payload.page:r}function od(r,n){return n.type===Pr?n.payload.page:r}function id(r,n){return n.type===Dr?n.payload.page:r}const iu=new e.OlP("OrganizationReducers"),ad={provide:iu,useFactory:function cd(){return{budget:(0,_.UY)({entities:i.kPG.entityLoaderReducer(N,ql),list:i.kPG.entityLoaderReducer(at,$l)}),[Js]:(0,_.UY)({entities:i.kPG.entityLoaderReducer(b,ed),list:i.kPG.entityLoaderReducer(dt,td),permissionTypes:i.kPG.entityLoaderReducer(gt)}),[Qs]:(0,_.UY)({entities:i.kPG.entityLoaderReducer(oe,Vl),availableOrgUnitNodes:i.kPG.entityLoaderReducer(mt),tree:i.kPG.entityLoaderReducer(ft),approvalProcesses:i.kPG.entityLoaderReducer(Ut),users:i.kPG.entityLoaderReducer(ze,Kl),addressList:i.kPG.entityLoaderReducer(It,Xl),addressEntities:i.kPG.entityLoaderReducer(ee)}),[$t]:(0,_.UY)({entities:i.kPG.entityLoaderReducer(G,nd),list:i.kPG.entityLoaderReducer(Lt,sd),permissions:i.kPG.entityLoaderReducer(Et,od),customers:i.kPG.entityLoaderReducer(yt,id)}),[zs]:(0,_.UY)({entities:i.kPG.entityLoaderReducer(se,Jl),list:i.kPG.entityLoaderReducer(ut,Ql),budgets:i.kPG.entityLoaderReducer(lt,Yl)}),[Ys]:(0,_.UY)({entities:i.kPG.entityLoaderReducer(P,Ml),list:i.kPG.entityLoaderReducer(St,Ol),approvers:i.kPG.entityLoaderReducer(At,Zl),permissions:i.kPG.entityLoaderReducer(Ct,Fl),userGroups:i.kPG.entityLoaderReducer(xt,wl)})}}},ld=[function ud(r){return function(n,t){return t.type===$n&&(n=void 0),t.type===i.uQL.LOGOUT&&(n=void 0),t.type===i.dO9.LANGUAGE_CHANGE&&(n=void 0),r(n,t)}}];let dd=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[ad],imports:[_.Aw.forFeature(qs,iu,{metaReducers:ld}),m.sQ.forFeature(Bl)]}),r})(),pd=(()=>{class r{static forRoot(){return{ngModule:r,providers:[Bs,Zs,Ns,ws,Ms,bs]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:i.kck,useExisting:El,multi:!0},{provide:i.kck,useExisting:Ll,multi:!0}],imports:[Il,dd]}),r})();const Qe=new e.OlP("B2BUserNormalizer"),Qn=new e.OlP("B2BUserSerializer"),Ye=new e.OlP("UserListNormalizer"),je=new e.OlP("BudgetNormalizer"),Yn=new e.OlP("BudgetsListNormalizer"),jn=new e.OlP("BudgetSerializer"),cu=new e.OlP("B2BUnitNodeNormalizer"),au=new e.OlP("B2BUnitNodeListNormalizer"),Bt=new e.OlP("B2BUnitNormalizer"),gd=new e.OlP("B2BUnitSerializer"),uu=new e.OlP("B2BUnitApprovalProcessNormalizer"),Ve=new e.OlP("PermissionNormalizer"),Rt=new e.OlP("PermissionsListNormalizer"),lu=new e.OlP("PermissionTypeNormalizer"),du=new e.OlP("PermissionTypesListNormalizer"),pu=new e.OlP("PermissionSerializer"),be=new e.OlP("UserGroupNormalizer"),gu=new e.OlP("UserGroupSerializer"),Vn=new e.OlP("UserGroupListNormalizer");let Ge=(()=>{class r{constructor(t,s,o){this.userAccountFacade=t,this.routingService=s,this.globalMessageService=o}canActivate(){return this.userAccountFacade.get().pipe((0,x.h)(t=>!!t&&Object.keys(t).length>0),(0,ot.j)("roles"),(0,p.U)(t=>{const s=Array.isArray(t)&&t.includes(i.KOx.ADMIN);return s||(this.routingService.go({cxRoute:"organization"}),this.globalMessageService.add({key:"organization.notification.noSufficientPermissions"},i.xUg.MSG_TYPE_WARNING)),s}))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ts.gf),e.LFG(i.Znh),e.LFG(i.IWp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var X=(()=>{return(r=X||(X={}))[r.SUCCESS=0]="SUCCESS",r[r.ERROR=1]="ERROR",X;var r})(),Mt=(()=>{return(r=Mt||(Mt={})).DAY="DAY",r.WEEK="WEEK",r.MONTH="MONTH",r.QUARTER="QUARTER",r.YEAR="YEAR",Mt;var r})();const ve=(0,_.ZF)(qs),Ot=(0,_.P1)(ve,r=>r[Js]),Ke=(0,_.P1)(Ot,r=>r&&r.entities),fu=(0,_.P1)(Ot,r=>r&&r.permissionTypes),Kn=r=>(0,_.P1)(Ke,n=>i.kPG.entityLoaderStateSelector(n,r)),Be=(0,_.P1)(ve,r=>r[Ys]),Xe=(0,_.P1)(Be,r=>r&&r.entities),Xn=r=>(0,_.P1)(Xe,n=>i.kPG.entityLoaderStateSelector(n,r)),md=(0,_.P1)(ve,r=>r[$t].entities);function Se(r){return r.pipe((0,Z.QV)(O.N),(0,xl.G)(),(0,x.h)(([n])=>n.loading??!1),(0,p.U)(([n,t])=>({status:t.success?X.SUCCESS:t.error?X.ERROR:null,item:t.value})))}let $=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}load(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Ca({userId:s,orgCustomerId:t})),()=>{})}loadList(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Ta({userId:s,params:t})),()=>{})}getB2BUserValue(t){return this.store.select((r=>(0,_.P1)(Xn(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}get(t){const s=this.getB2BUserState(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.load(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getB2BUserValue(t))}getList(t){return this.getUserList(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadList(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}getErrorState(t){return this.getB2BUserState(t).pipe((0,p.U)(s=>s.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new La({userId:s,orgCustomer:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ya({userId:o,orgCustomerId:t,orgCustomer:s})),()=>{})}getLoadingStatus(t){return Se(this.getB2BUserState(t))}loadApprovers(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Ga({userId:o,orgCustomerId:t,params:s})),()=>{})}getApprovers(t,s){return this.getB2BUserApproverList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadApprovers(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}assignApprover(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Ma({userId:o,orgCustomerId:t,approverId:s})),()=>{})}unassignApprover(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Fa({userId:o,orgCustomerId:t,approverId:s})),()=>{})}loadPermissions(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Na({userId:o,orgCustomerId:t,params:s})),()=>{})}getPermissions(t,s){return this.getB2BUserPermissionList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadPermissions(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}assignPermission(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new za({userId:o,orgCustomerId:t,permissionId:s})),()=>{})}unassignPermission(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Ya({userId:o,orgCustomerId:t,permissionId:s})),()=>{})}loadUserGroups(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Ka({userId:o,orgCustomerId:t,params:s})),()=>{})}getUserGroups(t,s){return this.getB2BUserUserGroupList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadUserGroups(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}assignUserGroup(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Wa({userId:o,orgCustomerId:t,userGroupId:s})),()=>{})}unassignUserGroup(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ru({userId:o,orgCustomerId:t,userGroupId:s})),()=>{})}getAllRoles(){return[i.KOx.CUSTOMER,i.KOx.MANAGER,i.KOx.APPROVER,i.KOx.ADMIN]}getAllRights(){return[i.N3Q.UNITORDERVIEWER]}getB2BUserApproverList(t,s){return this.store.select(((r,n)=>(0,_.P1)(Be,Xe,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.approvers,s,n,r)))(t,s))}getB2BUserPermissionList(t,s){return this.store.select(((r,n)=>(0,_.P1)(Be,Ke,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.permissions,s,n,r)))(t,s))}getB2BUserUserGroupList(t,s){return this.store.select(((r,n)=>(0,_.P1)(Be,md,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.userGroups,s,n,r)))(t,s))}getB2BUserState(t){return this.store.select(Xn(t))}getUserList(t){return this.store.select((r=>(0,_.P1)(Be,n=>i.kPG.denormalizeSearch(n,r)))(t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Hn=(0,_.P1)(ve,r=>r.budget),Wn=(0,_.P1)(Hn,r=>r&&r.entities),es=r=>(0,_.P1)(Wn,n=>i.kPG.entityLoaderStateSelector(n,r)),pe=(0,_.P1)(ve,r=>r[Qs]),yu=(0,_.P1)(pe,r=>r&&r.availableOrgUnitNodes),ts=(0,_.P1)(pe,r=>r&&r.entities),Iu=(0,_.P1)(pe,r=>r&&r.tree),Pu=(0,_.P1)(pe,r=>r&&r.addressEntities),Tu=(0,_.P1)(pe,r=>r&&r.approvalProcesses),rs=r=>(0,_.P1)(ts,n=>i.kPG.entityLoaderStateSelector(n,r)),He=(0,_.P1)(ve,r=>r[$t]),ns=(0,_.P1)(He,r=>r&&r.entities),ss=r=>(0,_.P1)(ns,n=>i.kPG.entityLoaderStateSelector(n,r)),Zt=(0,_.P1)(ve,r=>r[zs]),os=(0,_.P1)(Zt,r=>r&&r.entities),is=r=>(0,_.P1)(os,n=>i.kPG.entityLoaderStateSelector(n,r));let We=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}loadBudget(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Hs({userId:s,budgetCode:t})),()=>{})}loadBudgets(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new eo({userId:s,params:t})),()=>{})}getBudgetState(t){return this.store.select(es(t))}getBudgetValue(t){return this.store.select((r=>(0,_.P1)(es(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}getBudgetList(t){return this.store.select((r=>(0,_.P1)(Hn,n=>i.kPG.denormalizeSearch(n,r)))(t))}get(t){const s=this.getBudgetState(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadBudget(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getBudgetValue(t))}getList(t){return this.getBudgetList(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadBudgets(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}getCostCenters(t){return this.get(t).pipe((0,p.U)(s=>({values:s.costCenters??[]})))}getErrorState(t){return this.getBudgetState(t).pipe((0,p.U)(s=>s.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new no({userId:s,budget:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new io({userId:o,budgetCode:t,budget:s})),()=>{})}getLoadingStatus(t){return Se(this.getBudgetState(t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ft=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}load(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new $c({userId:s,costCenterCode:t})),()=>{})}loadList(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Jc({userId:s,params:t})),()=>{})}getCostCenter(t){return this.store.select(is(t))}getCostCenterValue(t){return this.store.select((r=>(0,_.P1)(is(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}getCostCenterList(t){return this.store.select((r=>(0,_.P1)(Zt,n=>i.kPG.denormalizeSearch(n,r)))(t))}getBudgetList(t,s){return this.store.select(((r,n)=>(0,_.P1)(Zt,Wn,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.budgets,s,n,r)))(t,s))}get(t){const s=this.getCostCenter(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.load(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getCostCenterValue(t))}getList(t){return this.getCostCenterList(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadList(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}getCostCenterState(t){return this.store.select((r=>(0,_.P1)(os,n=>i.kPG.entityLoaderStateSelector(n,r)))(t))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new jc({userId:s,costCenter:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Xc({userId:o,costCenterCode:t,costCenter:s})),()=>{})}getLoadingStatus(t){return Se(this.getCostCenter(t))}loadBudgets(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ea({userId:o,costCenterCode:t,params:s})),()=>{})}getBudgets(t,s){return this.getBudgetList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadBudgets(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}assignBudget(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new na({userId:o,costCenterCode:t,budgetCode:s})),()=>{})}unassignBudget(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ia({userId:o,costCenterCode:t,budgetCode:s})),()=>{})}getErrorState(t){return this.getCostCenterState(t).pipe((0,p.U)(s=>s.error??!1))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),F=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}clearAssignedUsersList(t,s,o){this.store.dispatch(new Ho({orgUnitId:t,roleId:s,params:o}))}load(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Ar({userId:s,orgUnitId:t})),()=>{})}loadList(){this.userIdService.takeUserId(!0).subscribe(t=>this.store.dispatch(new Oo({userId:t})),()=>{})}loadTree(){this.userIdService.takeUserId(!0).subscribe(t=>this.store.dispatch(new Jo({userId:t})),()=>{})}loadApprovalProcesses(){this.userIdService.takeUserId(!0).subscribe(t=>this.store.dispatch(new jo({userId:t})),()=>{})}loadUsers(t,s,o){this.userIdService.takeUserId(!0).subscribe(c=>this.store.dispatch(new Xo({userId:c,orgUnitId:t,roleId:s,params:o})),()=>{})}loadAddresses(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Ar({userId:s,orgUnitId:t})),()=>{})}getOrgUnit(t){return this.store.select(rs(t))}getOrgUnitValue(t){return this.store.select((r=>(0,_.P1)(rs(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}getTreeState(){return this.store.select((0,_.P1)(Iu,r=>i.kPG.entityLoaderStateSelector(r,ht)))}getOrgUnitsList(){return this.store.select((0,_.P1)(yu,r=>i.kPG.entityLoaderStateSelector(r,vt)))}getAddressesState(t){return this.store.select(((r,n)=>(0,_.P1)(pe,t=>i.kPG.denormalizeCustomB2BSearch(t.addressList,t.addressEntities,n,r)))(t))}getAddressState(t){return this.store.select((r=>(0,_.P1)(Pu,n=>i.kPG.entityLoaderStateSelector(n,r)))(t))}getAssignedUsers(t,s,o){return this.store.select(((r,n,t)=>(0,_.P1)(pe,Xe,(s,o)=>i.kPG.denormalizeCustomB2BSearch(s.users,o,t,`${r},${n}`)))(t,s,o))}getApprovalProcessesList(){return this.store.select((0,_.P1)(Tu,r=>i.kPG.entityLoaderStateSelector(r,_t)))}get(t){const s=this.getOrgUnit(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.load(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getOrgUnitValue(t))}getCostCenters(t){return this.get(t).pipe((0,p.U)(s=>({values:s.costCenters??[]})))}findUnitChildrenInTree(t,s){return s.id===t?s.children??[]:(s.children??[]).flatMap(o=>this.findUnitChildrenInTree(t,o))}getChildUnits(t){return this.getTree().pipe((0,p.U)(s=>({values:s?this.findUnitChildrenInTree(t,s):[]})))}getTree(){return this.getTreeState().pipe((0,Z.QV)(O.N),(0,y.b)(t=>{t.loading||t.success||t.error||this.loadTree()}),(0,x.h)(t=>Boolean(t.success||t.error)),(0,p.U)(t=>t.value))}getApprovalProcesses(){return this.getApprovalProcessesList().pipe((0,Z.QV)(O.N),(0,y.b)(t=>{t.loading||t.success||t.error||this.loadApprovalProcesses()}),(0,x.h)(t=>Boolean(t.success||t.error)),(0,p.U)(t=>t.value))}getList(){return this.getOrgUnitsList().pipe((0,Z.QV)(O.N),(0,y.b)(t=>{t.loading||t.success||t.error||this.loadList()}),(0,x.h)(t=>Boolean(t.success||t.error)),(0,p.U)(t=>t.value))}getActiveUnitList(){return this.getList().pipe((0,p.U)(t=>t?.filter(s=>s.active)),(0,p.U)(t=>t?.sort(this.sortUnitList)))}sortUnitList(t,s){return(t.id??"").toLowerCase()<(s.id??"").toLowerCase()?-1:(t.id??"").toLowerCase()>(s.id??"").toLowerCase()?1:0}getUsers(t,s,o){return this.getAssignedUsers(t,s,o).pipe((0,Z.QV)(O.N),(0,y.b)(c=>{c.loading||c.success||c.error||this.loadUsers(t,s,o)}),(0,x.h)(c=>Boolean(c.success||c.error)),(0,p.U)(c=>c.value))}getErrorState(t){return this.getOrgUnitState(t).pipe((0,p.U)(s=>s.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new wo({userId:s,unit:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new qo({userId:o,unitCode:t,unit:s})),()=>{})}getLoadingStatus(t){return Se(this.getOrgUnit(t))}assignRole(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ti({userId:o,orgCustomerId:t,roleId:s})),()=>{})}unassignRole(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new si({userId:o,orgCustomerId:t,roleId:s})),()=>{})}assignApprover(t,s,o){this.userIdService.takeUserId(!0).subscribe(c=>this.store.dispatch(new Tt({orgUnitId:t,userId:c,orgCustomerId:s,roleId:o})),()=>{})}unassignApprover(t,s,o){this.userIdService.takeUserId(!0).subscribe(c=>this.store.dispatch(new ui({orgUnitId:t,userId:c,orgCustomerId:s,roleId:o})),()=>{})}createAddress(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new pi({userId:o,orgUnitId:t,address:s})),()=>{})}getAddresses(t){return this.getAddressesState(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadAddresses(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}getAddress(t,s){return this.getAddressState(s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadAddresses(t)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}updateAddress(t,s,o){this.userIdService.takeUserId(!0).subscribe(c=>this.store.dispatch(new mi({userId:c,orgUnitId:t,addressId:s,address:o})),()=>{})}getAddressLoadingStatus(t){return Se(this.getAddressState(t))}deleteAddress(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new hi({userId:o,orgUnitId:t,addressId:s})),()=>{})}getOrgUnitState(t){return this.store.select((r=>(0,_.P1)(ts,n=>i.kPG.entityLoaderStateSelector(n,r)))(t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Re=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}loadPermission(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Cc({userId:s,permissionCode:t})),()=>{})}loadPermissions(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Lc({userId:s,params:t})),()=>{})}loadPermissionTypes(){this.userIdService.takeUserId(!0).subscribe(()=>this.store.dispatch(new Bc),()=>{})}getPermission(t){return this.store.select(Kn(t))}getPermissionValue(t){return this.store.select((r=>(0,_.P1)(Kn(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}getPermissionList(t){return this.store.select((r=>(0,_.P1)(Ot,n=>i.kPG.denormalizeSearch(n,r)))(t))}getPermissionTypeList(){return this.store.select((0,_.P1)(fu,r=>i.kPG.entityLoaderStateSelector(r,pt)))}get(t){const s=this.getPermission(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadPermission(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getPermissionValue(t))}getTypes(){return this.getPermissionTypeList().pipe((0,Z.QV)(O.N),(0,y.b)(t=>{t.loading||t.success||t.error||this.loadPermissionTypes()}),(0,x.h)(t=>Boolean(t.success||t.error)),(0,p.U)(t=>t.value))}getList(t){return this.getPermissionList(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadPermissions(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Ic({userId:s,permission:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Dc({userId:o,permissionCode:t,permission:s})),()=>{})}getLoadingStatus(t){return Se(this.getPermission(t))}getPermissionState(t){return this.store.select((r=>(0,_.P1)(Ke,n=>i.kPG.entityLoaderStateSelector(n,r)))(t))}getErrorState(t){return this.getPermissionState(t).pipe((0,p.U)(s=>s.error??!1))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Me=(()=>{class r{constructor(t,s){this.store=t,this.userIdService=s}load(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Mi({userId:s,userGroupId:t})),()=>{})}loadList(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Zi({userId:s,params:t})),()=>{})}getUserGroup(t){return this.store.select(ss(t))}getUserGroupValue(t){return this.store.select((r=>(0,_.P1)(ss(r),n=>i.kPG.loaderValueSelector(n)))(t)).pipe((0,x.h)(s=>Boolean(s)))}getUserGroupList(t){return this.store.select((r=>(0,_.P1)(He,n=>i.kPG.denormalizeSearch(n,r)))(t))}getAvailableOrgCustomersList(t,s){return this.store.select(((r,n)=>(0,_.P1)(He,Xe,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.customers,s,n,r)))(t,s))}getAvailableOrderApprovalPermissionsList(t,s){return this.store.select(((r,n)=>(0,_.P1)(He,Ke,(t,s)=>i.kPG.denormalizeCustomB2BSearch(t.permissions,s,n,r)))(t,s))}get(t){const s=this.getUserGroup(t).pipe((0,Te.e)(0),(0,y.b)(o=>{o.loading||o.success||o.error||this.load(t)}));return(0,Pe.g)(()=>s.subscribe(),()=>this.getUserGroupValue(t))}getList(t){return this.getUserGroupList(t).pipe((0,Z.QV)(O.N),(0,y.b)(s=>{s.loading||s.success||s.error||this.loadList(t)}),(0,x.h)(s=>Boolean(s.success||s.error)),(0,p.U)(s=>s.value))}create(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new Qi({userId:s,userGroup:t})),()=>{})}update(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new tc({userId:o,userGroupId:t,userGroup:s})),()=>{})}getLoadingStatus(t){return Se(this.getUserGroup(t))}delete(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new sc({userId:s,userGroupId:t})),()=>{})}loadAvailableOrgCustomers(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new $i({userId:o,userGroupId:t,params:s})),()=>{})}loadAvailableOrderApprovalPermissions(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new ki({userId:o,userGroupId:t,params:s})),()=>{})}getAvailableOrgCustomers(t,s){return this.getAvailableOrgCustomersList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadAvailableOrgCustomers(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}getAvailableOrderApprovalPermissions(t,s){return this.getAvailableOrderApprovalPermissionsList(t,s).pipe((0,Z.QV)(O.N),(0,y.b)(o=>{o.loading||o.success||o.error||this.loadAvailableOrderApprovalPermissions(t,s)}),(0,x.h)(o=>Boolean(o.success||o.error)),(0,p.U)(o=>o.value))}assignMember(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Vi({userId:o,userGroupId:t,customerId:s})),()=>{})}unassignMember(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new cc({userId:o,userGroupId:t,customerId:s})),()=>{})}unassignAllMembers(t){this.userIdService.takeUserId(!0).subscribe(s=>this.store.dispatch(new lc({userId:s,userGroupId:t})),()=>{})}assignPermission(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new Hi({userId:o,userGroupId:t,permissionUid:s})),()=>{})}unassignPermission(t,s){this.userIdService.takeUserId(!0).subscribe(o=>this.store.dispatch(new gc({userId:o,userGroupId:t,permissionUid:s})),()=>{})}getUserGroupState(t){return this.store.select((r=>(0,_.P1)(ns,n=>i.kPG.entityLoaderStateSelector(n,r)))(t))}getErrorState(t){return this.getUserGroupState(t).pipe((0,p.U)(s=>s.error??!1))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.yh),e.LFG(i.XBV))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var k=E(7039),Yu=E(6538);function fd(r,n){if(1&r&&e._UZ(0,"cx-icon",3),2&r){const t=e.oxw();e.Q6J("type",t.messageIcon)}}const Ud=function(){return{autofocus:!0,focusOnEscape:!0}},hd=["vcr"],ju=function(){return{placement:"auto",class:"hint-popover",appendToBody:!0,displayCloseButton:!0}};function _d(r,n){if(1&r&&(e.TgZ(0,"button",9),e._UZ(1,"cx-icon",10),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(22);e.Q6J("cxPopover",s)("cxPopoverOptions",e.DdM(3,ju)),e.xp6(1),e.Q6J("type",t.iconTypes.INFO)}}function vd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"cx-icon",14),e.NdJ("click",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.closeView(o))}),e.qZA()}}function Sd(r,n){if(1&r&&(e._uU(0),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw(2);e.Oqu(e.lcZ(1,1,t.previousLabel))}}function Ad(r,n){if(1&r&&(e.TgZ(0,"a",11),e.YNc(1,vd,1,0,"cx-icon",12),e.YNc(2,Sd,2,3,"ng-template",null,13,e.W1O),e.qZA()),2&r){const t=e.MAs(3),s=e.oxw();e.xp6(1),e.Q6J("ngIf",!0===s.previous)("ngIfElse",t)}}function Cd(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".hint")," ")}}const xd=[[["","actions",""]],[["","info",""]],[["","main",""]]],wt=function(r){return{item:r}},Ld=["[actions]","[info]","[main]"],cs=function(r){return{autofocus:"input",refreshFocus:r}};function Ed(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const c=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.save(c))}),e.TgZ(1,"cx-org-card",2,3)(3,"button",4),e.ALo(4,"async"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"button",5)(8,"span",6),e.NdJ("click",function(o){e.CHM(t);const c=e.MAs(2),l=e.oxw();return e.KtG(l.back(o,c))}),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA()(),e.TgZ(11,"section",7),e.Hsn(12,0,["ngProjectAs","[main]",5,["","main",""]]),e.qZA()()()}if(2&r){const t=n.ngIf,s=e.oxw();e.xp6(1),e.Q6J("previous",!1)("i18nRoot",s.i18n)("subtitle",s.subtitle)("cxFocus",e.VKq(13,cs,t)),e.xp6(2),e.Q6J("disabled",t.disabled||e.lcZ(4,7,s.disabled$)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"organization.save")," "),e.xp6(4),e.Oqu(e.lcZ(10,11,"organization.cancel"))}}const yd=[[["","main",""]]],Id=["[main]"];function Pd(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2).ngIf;e.xp6(1),e.Oqu(e.lcZ(2,1,t.type+".sortBy"))}}function Td(r,n){if(1&r&&(e.TgZ(0,"ng-option",18),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=n.$implicit,s=e.oxw(3).ngIf;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",e.lcZ(2,2,s.type+".sort."+t.code)," ")}}function Dd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ng-select",16),e.NdJ("change",function(){e.CHM(t);const o=e.oxw().ngIf,c=e.oxw(2);return e.KtG(c.sort(o.pagination))})("ngModelChange",function(o){e.CHM(t);const c=e.oxw(3);return e.KtG(c.sortCode=o)}),e.ALo(1,"cxTranslate"),e.YNc(2,Td,3,4,"ng-option",17),e.qZA()}if(2&r){const t=e.oxw().ngIf,s=e.oxw().ngIf,o=e.oxw();e.Q6J("searchable",!1)("clearable",!1)("tabIndex",0)("ngModel",o.sortCode),e.uIk("aria-label",e.lcZ(1,6,o.sortCode?s.type+".sort."+o.sortCode:s.type+".sortBy")),e.xp6(2),e.Q6J("ngForOf",t.sorts)}}const bd=function(r){return{cxRoute:r}};function Gd(r,n){if(1&r&&(e.TgZ(0,"a",19),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2).ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,bd,t.type+"Create"))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"organization.add")," ")}}const Vu=function(r,n){return{property:r,value:n}},Bd=function(r){return{trap:r}};function Rd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"cx-table",20),e.NdJ("launch",function(o){e.CHM(t);const c=e.oxw(3);return e.KtG(c.launchItem(o))}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=e.oxw().ngIf,s=e.oxw().ngIf,o=e.oxw();e.Q6J("structure",s)("data",t.values)("i18nRoot",o.domainType)("currentItem",e.WLB(7,Vu,o.key,e.lcZ(1,5,o.currentKey$)))("cxFocus",e.VKq(10,Bd,o.trapFocus.both))}}const Md=function(r){return{count:r}};function Od(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"cx-view",5)(1,"div",6)(2,"div",7)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.TgZ(6,"button",8),e._UZ(7,"cx-icon",9),e.qZA()()(),e.TgZ(8,"div",10)(9,"label"),e.YNc(10,Pd,3,3,"span",1),e.YNc(11,Dd,3,8,"ng-select",11),e.qZA(),e.Hsn(12),e.YNc(13,Gd,4,8,"a",12),e.qZA()(),e.YNc(14,Rd,2,12,"cx-table",13),e.TgZ(15,"div",14)(16,"cx-pagination",15),e.NdJ("viewPageEvent",function(o){const l=e.CHM(t).ngIf,u=e.oxw(2);return e.KtG(u.browse(l.pagination,o))}),e.qZA()()()}if(2&r){const t=n.ngIf,s=e.oxw(2),o=e.MAs(6),c=e.MAs(4);e.xp6(4),e.hij(" ",e.xi3(5,10,s.viewType+".header",e.VKq(13,Md,s.getListCount(t)))," "),e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(15,ju)),e.xp6(1),e.Q6J("type",s.iconTypes.INFO),e.xp6(3),e.Q6J("ngIf",null==t.pagination?null:t.pagination.sort),e.xp6(1),e.Q6J("ngIf",null==t.pagination?null:t.pagination.sort),e.xp6(2),e.Q6J("ngIf",!s.hideAddButton),e.xp6(1),e.Q6J("ngIf",t.values&&t.values.length>0)("ngIfElse",c),e.xp6(2),e.Q6J("pagination",t.pagination)}}function Zd(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Od,17,16,"cx-view",4),e.ALo(2,"async"),e._UZ(3,"router-outlet"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.listData$))}}function Fd(r,n){1&r&&(e.TgZ(0,"p",21),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"organization.messages.emptyList")," "))}function wd(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.viewType+".hint")," ")}}const kd=[[["","actions",""]]],Nd=["[actions]"];function qd(r,n){1&r&&e.GkF(0)}const ie=function(r,n){return{cxRoute:r,params:n}};function $d(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,qd,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function zd(r,n){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Jd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleAssign())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.isAssigned?"unassign":"assign"," ")}}function Qd(r,n){if(1&r&&(e._UZ(0,"cx-table",7),e.ALo(1,"async")),2&r){const t=e.oxw().ngIf,s=e.oxw().ngIf,o=e.oxw();e.Q6J("structure",s)("data",t.values)("i18nRoot",o.domainType)("currentItem",e.WLB(6,Vu,o.key,e.lcZ(1,4,o.subKey$)))}}function Yd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"cx-pagination",9),e.NdJ("viewPageEvent",function(o){e.CHM(t);const c=e.oxw().ngIf,l=e.oxw(2);return e.KtG(l.browse(c.pagination,o))}),e.qZA()()}if(2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("pagination",t.pagination)}}function jd(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"section"),e.YNc(2,Qd,2,9,"cx-table",5),e.qZA(),e.YNc(3,Yd,2,1,"div",6),e.BQk()),2&r){const t=n.ngIf;e.oxw(2);const s=e.MAs(7);e.xp6(2),e.Q6J("ngIf",t.values&&t.values.length>0)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",t.pagination&&void 0!==t.pagination.totalPages&&t.pagination.totalPages>1)}}function Vd(r,n){if(1&r&&(e.ynx(0,3),e.YNc(1,jd,4,3,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.listData$))}}function Kd(r,n){1&r&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"organization.messages.emptyList")))}const Xd=[[["","actions",""]],[["","main",""]],[["","info",""]]],Hd=function(){return{autofocus:!0}},Wd=["[actions]","[main]","[info]"];function ep(r,n){if(1&r&&(e.TgZ(0,"p",7),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageTitle)," ")}}function tp(r,n){if(1&r&&e._UZ(0,"cx-icon",8),2&r){const t=e.oxw();e.Q6J("type",t.messageIcon)}}const rp=function(){return{focusOnEscape:!0}},np=function(){return{autofocus:"button.primary"}};function sp(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){const c=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.toggle(c))}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&r){const t=n.ngIf,s=e.oxw();e.Q6J("disabled",s.isDisabled(t)||e.lcZ(1,2,s.isInEditMode$)&&t.active&&!0!==s.disabled),e.xp6(2),e.hij(" ",e.lcZ(3,4,"organization."+(t.active?"disable":"enable")),"\n")}}function op(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){const c=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.delete(c))}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,2,t.isInEditMode$)),e.xp6(2),e.hij(" ",e.lcZ(3,4,"organization.delete"),"\n")}}function ip(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledEnable")," ")}}function cp(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledCreate")," ")}}function ap(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledEdit")," ")}}function up(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledDisable")," ")}}function lp(r,n){if(1&r&&(e.TgZ(0,"section"),e._UZ(1,"cx-icon",1),e.TgZ(2,"ul"),e.YNc(3,ip,3,3,"li",0),e.YNc(4,cp,3,3,"li",0),e.YNc(5,ap,3,3,"li",0),e.YNc(6,up,3,3,"li",0),e.Hsn(7),e.qZA()()),2&r){const t=e.oxw().ngIf,s=e.oxw();e.xp6(1),e.Q6J("type",s.iconTypes.INFO),e.xp6(2),e.Q6J("ngIf",s.displayDisabledEnable(t)),e.xp6(1),e.Q6J("ngIf",s.displayDisabledCreate(t)),e.xp6(1),e.Q6J("ngIf",s.displayDisabledEdit(t)),e.xp6(1),e.Q6J("ngIf",s.displayDisabledDisable(t))}}function dp(r,n){if(1&r&&(e.ynx(0),e.YNc(1,lp,8,5,"section",0),e.BQk()),2&r){const t=n.ngIf,s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.displayDisabledCreate(t)||s.displayDisabledEdit(t)||s.displayDisabledEnable(t)||s.displayDisabledDisable(t)||s.displayCustomInfo)}}const pp=["*"];function gp(r,n){1&r&&e.GkF(0)}function mp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,gp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function fp(r,n){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Up(r,n){1&r&&e.GkF(0)}function hp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Up,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function _p(r,n){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function vp(r,n){1&r&&e.GkF(0)}function Sp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,vp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function Ap(r,n){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxDate"),e.ALo(2,"cxDate"),e._uU(3),e.ALo(4,"cxDate"),e.ALo(5,"cxDate"),e.qZA()),2&r){const t=e.oxw(2);e.hYB("title","",e.lcZ(1,4,t.model.startDate)," - ",e.lcZ(2,6,t.model.endDate),""),e.xp6(3),e.AsE(" ",e.lcZ(4,8,t.model.startDate)," - ",e.lcZ(5,10,t.model.endDate)," ")}}function Cp(r,n){if(1&r&&e.YNc(0,Ap,6,12,"span",4),2&r){const t=e.oxw();e.Q6J("ngIf",t.hasRange)}}function xp(r,n){1&r&&e.GkF(0)}function Lp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,xp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function Ep(r,n){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2);e.cQ8("title","",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ",e.lcZ(1,6,"orgPurchaseLimit.per."+t.model.periodRange),""),e.xp6(2),e.lnq(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ",e.lcZ(3,8,"orgPurchaseLimit.per."+t.model.periodRange)," ")}}function yp(r,n){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.hYB("title","",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol,""),e.xp6(1),e.AsE(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ")}}function Ip(r,n){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.s9C("title",t.model.orderApprovalPermissionType.name),e.xp6(1),e.hij(" ",t.model.orderApprovalPermissionType.name," ")}}function Pp(r,n){if(1&r&&(e.YNc(0,Ep,4,10,"span",4),e.YNc(1,yp,2,4,"span",4),e.YNc(2,Ip,2,2,"span",4)),2&r){const t=e.oxw();e.Q6J("ngIf",t.isTimeSpanThreshold),e.xp6(1),e.Q6J("ngIf",t.isOrderThreshold),e.xp6(1),e.Q6J("ngIf",t.isExceedPermission)}}function Tp(r,n){1&r&&e.GkF(0)}function Dp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Tp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function bp(r,n){1&r&&(e._UZ(0,"li",7),e.ALo(1,"cxTranslate")),2&r&&e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+n.$implicit))}function Gp(r,n){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Bp(r,n){if(1&r&&(e.TgZ(0,"ul",4),e.YNc(1,bp,2,3,"li",5),e.YNc(2,Gp,2,0,"li",6),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.model.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.model.roles?null:t.model.roles.length))}}function Rp(r,n){1&r&&e.GkF(0)}function Mp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Rp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function Op(r,n){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2);e.ekj("is-active",t.isActive),e.s9C("title",e.lcZ(1,4,t.label)),e.xp6(2),e.hij(" ",e.lcZ(3,6,t.label),"")}}function Zp(r,n){if(1&r&&e.YNc(0,Op,4,8,"span",4),2&r){const t=e.oxw();e.Q6J("ngIf",t.label)}}function Fp(r,n){1&r&&e.GkF(0)}function wp(r,n){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Fp,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",s)}}function kp(r,n){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}const V=function(r){return{cxRoute:"orgUnitDetails",params:r}};function Np(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"a",4),e.ALo(5,"cxUrl"),e._uU(6),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgCostCenter.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(5,5,e.VKq(7,V,t.model.unit))),e.xp6(2),e.hij(" ",null==t.model.unit?null:t.model.unit.name," ")}}const qp=function(r){return{cxRoute:"orgCostCenterDetails",params:r}};function $p(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()(),e.TgZ(21,"div",3)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",5),e._uU(26),e.qZA()(),e.YNc(27,Np,7,9,"div",6),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,14,"orgCostCenter.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,16,e.VKq(26,qp,t.model))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,18,"orgCostCenter.code")),e.xp6(3),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(17,20,"orgCostCenter.active")),e.xp6(2),e.ekj("is-active",t.model.active)("is-inactive",!t.model.active),e.xp6(1),e.hij(" ",e.lcZ(20,22,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(24,24,"orgCostCenter.currency")),e.xp6(3),e.hij(" ",null==t.model.currency?null:t.model.currency.isocode," "),e.xp6(1),e.Q6J("ngIf",t.model.unit)}}const Oe=function(){return{placement:"auto",class:"my-company-popover",appendToBody:!0,displayCloseButton:!0}},zp=function(r){return{cxRoute:"orgBudgetCostCenters",params:r}};function Jp(r,n){if(1&r&&(e.TgZ(0,"a",11),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,zp,t))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgBudget.links.costCenters")," ")}}const Ae=function(r){return{refreshFocus:r}},Qp=function(r){return{cxRoute:"orgBudgetEdit",params:r}};function Yp(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",6)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",7),e._uU(33),e.ALo(34,"cxDate"),e.qZA()(),e.TgZ(35,"div",6)(36,"label"),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.TgZ(39,"span",7),e._uU(40),e.ALo(41,"cxTranslate"),e.qZA()(),e.TgZ(42,"div",6)(43,"label"),e._uU(44),e.ALo(45,"cxTranslate"),e.qZA(),e.TgZ(46,"span",7),e._uU(47),e.qZA()(),e.TgZ(48,"div",6)(49,"label"),e._uU(50),e.ALo(51,"cxTranslate"),e.qZA(),e.TgZ(52,"a",8),e.ALo(53,"cxUrl"),e._uU(54),e.qZA()()(),e.TgZ(55,"section",9),e.YNc(56,Jp,4,8,"a",10),e.qZA()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(52,Ae,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,24,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,26,e.VKq(54,Qp,t))),e.xp6(3),e.hij(" ",e.lcZ(5,28,"organization.edit")," "),e.xp6(7),e.Oqu(e.lcZ(12,30,"orgBudget.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,32,"orgBudget.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(24,34,"orgBudget.startDate")),e.xp6(3),e.hij(" ",e.lcZ(27,36,t.startDate)," "),e.xp6(4),e.Oqu(e.lcZ(31,38,"orgBudget.endDate")),e.xp6(3),e.hij(" ",e.lcZ(34,40,t.endDate)," "),e.xp6(4),e.Oqu(e.lcZ(38,42,"orgBudget.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(41,44,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(45,46,"orgBudget.amount")),e.xp6(3),e.AsE(" ",t.budget," ",null==t.currency?null:t.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(51,48,"orgBudget.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(53,50,e.VKq(56,V,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," "),e.xp6(2),e.Q6J("ngIf",t.code)}}const Q=function(){return{required:"true"}};function jp(r,n){if(1&r&&(e.TgZ(0,"label",10)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",14),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=n.ngIf,s=e.oxw(2);let o;e.Q6J("formGroup",s.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(3,9,"orgBudget.businessUnits")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(13,Q))("searchable",!0)("clearable",!1)("items",t)("readonly",null!==(o=null==(o=s.form.get("orgUnit.uid"))?null:o.disabled)&&void 0!==o&&o)("placeholder",e.lcZ(5,11,"orgBudget.businessUnits")),e.xp6(2),e.Q6J("control",s.form.get("orgUnit.uid"))}}function Vp(r,n){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createCodeWithName(o.form.get("name"),o.form.get("code")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label")(16,"span",7),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"cx-date-picker",8),e.NdJ("update",function(){e.CHM(t);const o=e.oxw();let c;return e.KtG(null==(c=o.form.get("endDate"))?null:c.updateValueAndValidity())}),e.qZA()(),e.TgZ(20,"label")(21,"span",7),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"cx-date-picker",9),e.NdJ("update",function(){e.CHM(t);const o=e.oxw();let c;return e.KtG(null==(c=o.form.get("startDate"))?null:c.updateValueAndValidity())}),e.qZA()(),e.TgZ(25,"label",10)(26,"span",3),e._uU(27),e.ALo(28,"cxTranslate"),e.qZA(),e._UZ(29,"ng-select",11),e.ALo(30,"async"),e.ALo(31,"cxTranslate"),e._UZ(32,"cx-form-errors",5),e.qZA(),e.TgZ(33,"label")(34,"span",7),e._uU(35),e.ALo(36,"cxTranslate"),e.qZA(),e._UZ(37,"input",12),e.ALo(38,"cxTranslate"),e._UZ(39,"cx-form-errors",5),e.qZA(),e.YNc(40,jp,7,14,"label",13),e.ALo(41,"async"),e.BQk()}if(2&r){const t=e.oxw();let s,o,c;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,29,"orgBudget.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,31,"orgBudget.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,33,"orgBudget.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,35,"orgBudget.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(3),e.Oqu(e.lcZ(18,37,"orgBudget.startDate")),e.xp6(2),e.Q6J("control",t.form.get("startDate"))("max",null==(s=t.form.get("endDate"))?null:s.value)("required",!0),e.xp6(3),e.Oqu(e.lcZ(23,39,"orgBudget.endDate")),e.xp6(2),e.Q6J("control",t.form.get("endDate"))("min",null==(o=t.form.get("startDate"))?null:o.value)("required",!0),e.xp6(1),e.Q6J("formGroup",t.form.get("currency")),e.xp6(2),e.Oqu(e.lcZ(28,41,"orgBudget.currency")),e.xp6(2),e.ekj("invalid",null!==(c=null==(c=t.form.get("currency.isocode"))?null:c.invalid)&&void 0!==c&&c),e.Q6J("inputAttrs",e.DdM(53,Q))("searchable",!1)("clearable",!1)("items",e.lcZ(30,43,t.currencies$))("placeholder",e.lcZ(31,45,"orgBudget.currency")),e.xp6(3),e.Q6J("control",t.form.get("currency.isocode")),e.xp6(3),e.Oqu(e.lcZ(36,47,"orgBudget.amount")),e.xp6(2),e.s9C("placeholder",e.lcZ(38,49,"orgBudget.amount")),e.xp6(2),e.Q6J("control",t.form.get("budget")),e.xp6(1),e.Q6J("ngIf",e.lcZ(41,51,t.units$))}}const Kp=function(r){return{cxRoute:"orgBudgetDetails",params:r}};function Xp(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxDate"),e.qZA()(),e.TgZ(21,"div",3)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",5),e._uU(26),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",3)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",5),e._uU(33),e.ALo(34,"cxTranslate"),e.qZA()(),e.TgZ(35,"div",3)(36,"label"),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.TgZ(39,"span",5),e._uU(40),e.qZA()(),e.TgZ(41,"div",3)(42,"label"),e._uU(43),e.ALo(44,"cxTranslate"),e.qZA(),e.TgZ(45,"a",4),e.ALo(46,"cxUrl"),e._uU(47),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,19,"orgBudget.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,21,e.VKq(43,Kp,t.model))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,23,"orgBudget.code")),e.xp6(3),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(17,25,"orgBudget.startDate")),e.xp6(3),e.hij(" ",e.lcZ(20,27,t.model.startDate)," "),e.xp6(4),e.Oqu(e.lcZ(24,29,"orgBudget.endDate")),e.xp6(3),e.hij(" ",e.lcZ(27,31,t.model.endDate)," "),e.xp6(4),e.Oqu(e.lcZ(31,33,"orgBudget.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(34,35,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(38,37,"orgBudget.amount")),e.xp6(3),e.AsE(" ",t.model.budget," ",null==t.model.currency?null:t.model.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(44,39,"orgBudget.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(46,41,e.VKq(45,V,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}const Hp=function(r){return{cxRoute:"orgCostCenterBudgets",params:r}};function Wp(r,n){if(1&r&&(e.TgZ(0,"a",11),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,Hp,t))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgCostCenter.budget.link")," ")}}const eg=function(r){return{cxRoute:"orgCostCenterEdit",params:r}};function tg(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA()(),e.TgZ(28,"div",6)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",7),e._uU(33),e.qZA()(),e.TgZ(34,"div",6)(35,"label"),e._uU(36),e.ALo(37,"cxTranslate"),e.qZA(),e.TgZ(38,"a",8),e.ALo(39,"cxUrl"),e._uU(40),e.qZA()()(),e.TgZ(41,"section",9),e.YNc(42,Wp,4,8,"a",10),e.qZA()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(41,Ae,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,21,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,23,e.VKq(43,eg,t))),e.xp6(3),e.hij(" ",e.lcZ(5,25,"organization.edit")," "),e.xp6(7),e.Oqu(e.lcZ(12,27,"orgCostCenter.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,29,"orgCostCenter.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(24,31,"orgCostCenter.active")),e.xp6(2),e.ekj("is-active",t.active)("is-inactive",!t.active),e.xp6(1),e.hij(" ",e.lcZ(27,33,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(31,35,"orgCostCenter.currency")),e.xp6(3),e.hij(" ",null==t.currency?null:t.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(37,37,"orgCostCenter.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(39,39,e.VKq(45,V,t.unit))),e.xp6(2),e.hij(" ",null==t.unit?null:t.unit.name," "),e.xp6(2),e.Q6J("ngIf",t.code)}}function rg(r,n){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createCodeWithName(o.form.get("name"),o.form.get("code")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.TgZ(23,"label",9)(24,"span",3),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"ng-select",10),e.ALo(28,"async"),e.ALo(29,"cxTranslate"),e._UZ(30,"cx-form-errors",5),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();let s,o,c;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,25,"orgCostCenter.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,27,"orgCostCenter.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,29,"orgCostCenter.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,31,"orgCostCenter.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(3),e.Oqu(e.lcZ(18,33,"orgCostCenter.currency")),e.xp6(2),e.ekj("invalid",null!==(s=null==(s=t.form.get("currency.isocode"))?null:s.invalid)&&void 0!==s&&s),e.Q6J("inputAttrs",e.DdM(45,Q))("searchable",!1)("clearable",!1)("items",e.lcZ(20,35,t.currencies$))("placeholder",e.lcZ(21,37,"orgCostCenter.currency")),e.xp6(3),e.Q6J("control",t.form.get("currency.isocode")),e.xp6(1),e.Q6J("formGroup",t.form.get("unit")),e.xp6(2),e.Oqu(e.lcZ(26,39,"orgCostCenter.unit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(46,Q))("searchable",!0)("clearable",!1)("items",null!==(o=e.lcZ(28,41,t.units$))&&void 0!==o?o:null)("readonly",null!==(c=null==(c=t.form.get("unit.uid"))?null:c.disabled)&&void 0!==c&&c)("placeholder",e.lcZ(29,43,"orgCostCenter.unit")),e.xp6(3),e.Q6J("control",t.form.get("unit.uid"))}}function ng(r,n){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(3),e.AsE(" ",t.threshold," ",null==t.currency?null:t.currency.symbol," ")}}function sg(r,n){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,2,"orgPurchaseLimit.periodRange")),e.xp6(3),e.hij(" ",t.periodRange," ")}}function og(r,n){if(1&r&&(e.TgZ(0,"a",10),e.ALo(1,"cxUrl"),e._uU(2),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(4,V,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," ")}}const ig=function(r){return{cxRoute:"orgPurchaseLimitEdit",params:r}},cg=function(){return{disabledEnable:!1}};function ag(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA()(),e.TgZ(22,"div",6)(23,"label"),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.TgZ(26,"span",7),e._uU(27),e.qZA()(),e.YNc(28,ng,6,5,"div",8),e.YNc(29,sg,6,4,"div",8),e.TgZ(30,"div",6)(31,"label"),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e.YNc(34,og,3,6,"a",9),e.qZA()()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(35,Ae,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,19,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,21,e.VKq(37,ig,t))),e.xp6(3),e.hij(" ",e.lcZ(5,23,"organization.edit")," "),e.xp6(2),e.Q6J("disabled",!1),e.xp6(1),e.Q6J("displayInfoConfig",e.DdM(39,cg)),e.xp6(4),e.Oqu(e.lcZ(12,25,"orgPurchaseLimit.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(18,27,"orgPurchaseLimit.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(21,29,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(25,31,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.hij(" ",null==t.orderApprovalPermissionType?null:t.orderApprovalPermissionType.name," "),e.xp6(1),e.Q6J("ngIf",t.threshold||0===t.threshold),e.xp6(1),e.Q6J("ngIf",t.periodRange),e.xp6(3),e.Oqu(e.lcZ(33,33,"orgPurchaseLimit.unit")),e.xp6(2),e.Q6J("ngIf",t.code)}}function ug(r,n){if(1&r&&(e.TgZ(0,"label",8)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",10),e.ALo(5,"async"),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);let s;e.Q6J("formGroup",t.form.get("orderApprovalPermissionType")),e.xp6(2),e.Oqu(e.lcZ(3,9,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(15,Q))("searchable",!1)("clearable",!1)("items",null!==(s=e.lcZ(5,11,t.types$))&&void 0!==s?s:null)("readonly",t.form.disabled)("placeholder",e.lcZ(6,13,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.Q6J("control",t.form.get("orderApprovalPermissionType.code"))}}function lg(r,n){if(1&r&&(e.TgZ(0,"label")(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",11),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"orgPurchaseLimit.periodRange")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(11,Q))("searchable",!1)("clearable",!1)("items",t.periods)("placeholder",e.lcZ(5,9,"orgPurchaseLimit.periodRange")),e.xp6(2),e.Q6J("control",t.form.get("periodRange"))}}function dg(r,n){if(1&r&&(e._UZ(0,"ng-select",13),e.ALo(1,"cxTranslate")),2&r){const t=n.ngIf;e.Q6J("inputAttrs",e.DdM(7,Q))("searchable",!1)("clearable",!1)("items",t)("placeholder",e.lcZ(1,5,"orgPurchaseLimit.currency"))}}function pg(r,n){if(1&r&&(e.TgZ(0,"label",8)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,dg,2,8,"ng-select",12),e.ALo(5,"async"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("formGroup",t.form.get("currency")),e.xp6(2),e.Oqu(e.lcZ(3,4,"orgPurchaseLimit.currency")),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,6,t.currencies$)),e.xp6(2),e.Q6J("control",t.form.get("currency.isocode"))}}function gg(r,n){if(1&r&&(e.TgZ(0,"label")(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"input",14),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,5,"orgPurchaseLimit.threshold")),e.xp6(2),e.Q6J("control",t.form.get("threshold"))}}function mg(r,n){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"input",4),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-form-errors",5),e.qZA(),e.YNc(8,ug,8,16,"label",6),e.ALo(9,"async"),e.YNc(10,lg,7,12,"label",7),e.YNc(11,pg,7,8,"label",6),e.YNc(12,gg,7,7,"label",7),e.TgZ(13,"label",8)(14,"span",3),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e._UZ(17,"ng-select",9),e.ALo(18,"async"),e.ALo(19,"cxTranslate"),e._UZ(20,"cx-form-errors",5),e.qZA(),e.BQk()),2&r){const t=e.oxw();let s,o,c;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,17,"orgPurchaseLimit.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,19,"orgPurchaseLimit.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(1),e.Q6J("ngIf",null==(s=e.lcZ(9,21,t.types$))?null:s.length),e.xp6(2),e.Q6J("ngIf",t.form.get("periodRange")),e.xp6(1),e.Q6J("ngIf",t.form.get("currency")),e.xp6(1),e.Q6J("ngIf",t.form.get("threshold")),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(16,23,"orgPurchaseLimit.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(29,Q))("searchable",!0)("clearable",!1)("items",null!==(o=e.lcZ(18,25,t.units$))&&void 0!==o?o:null)("readonly",null!==(c=null==(c=t.form.get("orgUnit"))?null:c.disabled)&&void 0!==c&&c)("placeholder",e.lcZ(19,27,"orgPurchaseLimit.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid"))}}function fg(r,n){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,2,"orgUnit.approvalProcess")),e.xp6(3),e.hij(" ",null==t.approvalProcess?null:t.approvalProcess.name," ")}}function Ug(r,n){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"a",11),e.ALo(5,"cxUrl"),e._uU(6),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgUnit.parentUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(5,5,e.VKq(7,V,t.parentOrgUnit))),e.xp6(2),e.hij(" ",null==t.parentOrgUnit?null:t.parentOrgUnit.name," ")}}const hg=function(r){return{cxRoute:"orgUnitChildren",params:r}},_g=function(r){return{cxRoute:"orgUnitUserList",params:r}},vg=function(r){return{cxRoute:"orgUnitApprovers",params:r}},Sg=function(r){return{cxRoute:"orgUnitAddressList",params:r}},Ag=function(r){return{cxRoute:"orgUnitCostCenters",params:r}};function Cg(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"a",12),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",12),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"a",12),e.ALo(10,"cxUrl"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"a",12),e.ALo(14,"cxUrl"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"a",12),e.ALo(18,"cxUrl"),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,10,e.VKq(30,hg,t))),e.xp6(2),e.hij(" ",e.lcZ(4,12,"orgUnit.links.units")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,14,e.VKq(32,_g,t))),e.xp6(2),e.hij(" ",e.lcZ(8,16,"orgUnit.links.users")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(10,18,e.VKq(34,vg,t))),e.xp6(2),e.hij(" ",e.lcZ(12,20,"orgUnit.links.approvers")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(14,22,e.VKq(36,Sg,t))),e.xp6(2),e.hij(" ",e.lcZ(16,24,"orgUnit.links.shippingAddresses")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(18,26,e.VKq(38,Ag,t))),e.xp6(2),e.hij(" ",e.lcZ(20,28,"orgUnit.links.costCenters")," ")}}const xg=function(r){return{cxRoute:"orgUnitEdit",params:r}},Lg=function(){return{disabledDisable:!0}};function Eg(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA()(),e.YNc(28,fg,6,4,"div",8),e.YNc(29,Ug,7,9,"div",8),e.qZA(),e.TgZ(30,"section",9),e.YNc(31,Cg,21,40,"ng-container",10),e.qZA()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(32,Ae,t))("showHint",!0),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,18,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,20,e.VKq(34,xg,t))),e.xp6(3),e.hij(" ",e.lcZ(5,22,"organization.edit")," "),e.xp6(3),e.Q6J("displayInfoConfig",e.DdM(36,Lg)),e.xp6(4),e.Oqu(e.lcZ(12,24,"orgUnit.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,26,"orgUnit.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(24,28,"orgUnit.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(27,30,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(2),e.Q6J("ngIf",null==t.approvalProcess?null:t.approvalProcess.name),e.xp6(1),e.Q6J("ngIf",t.parentOrgUnit),e.xp6(2),e.Q6J("ngIf",t.uid)}}function yg(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"label",11)(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",12),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",5),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);let s;e.xp6(3),e.Oqu(e.lcZ(4,7,"orgUnit.form.parentOrgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(13,Q))("searchable",!0)("clearable",!1)("items",null!==(s=e.lcZ(6,9,t.units$))&&void 0!==s?s:null)("placeholder",e.lcZ(7,11,"orgUnit.form.parentOrgUnit")),e.xp6(3),e.Q6J("control",t.form.get("parentOrgUnit.uid"))}}function Ig(r,n){1&r&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"orgUnit.form.parentOrgUnitNotes")))}function Pg(r,n){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createUidWithName(o.form.get("name"),o.form.get("uid")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.YNc(23,yg,9,14,"ng-container",9),e.YNc(24,Ig,3,3,"ng-template",null,10,e.W1O),e.BQk()}if(2&r){const t=e.MAs(25),s=e.oxw();e.Q6J("formGroup",s.form),e.xp6(3),e.Oqu(e.lcZ(4,15,"orgUnit.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,17,"orgUnit.name")),e.xp6(2),e.Q6J("control",s.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,19,"orgUnit.uid")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,21,"orgUnit.uid")),e.xp6(2),e.Q6J("control",s.form.get("uid")),e.xp6(3),e.Oqu(e.lcZ(18,23,"orgUnit.approvalProcess")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(29,Q))("searchable",!1)("items",e.lcZ(20,25,s.approvalProcess$))("placeholder",e.lcZ(21,27,"orgUnit.approvalProcess")),e.xp6(3),e.Q6J("control",s.form.get("approvalProcess.code")),e.xp6(1),e.Q6J("ngIf",s.form.get("parentOrgUnit"))("ngIfElse",t)}}function Tg(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",2),e.ALo(1,"cxTranslate"),e.TgZ(2,"a",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-delete-item",4),e.TgZ(6,"section",5)(7,"div",6)(8,"label"),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA(),e.TgZ(11,"span",7),e._uU(12),e.qZA()(),e.TgZ(13,"div",6)(14,"label"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"span",7)(18,"a",8),e.ALo(19,"cxUrl"),e._uU(20),e.qZA()()(),e.TgZ(21,"div",9)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.qZA()(),e.TgZ(27,"div",6)(28,"label"),e._uU(29),e.ALo(30,"cxTranslate"),e.qZA(),e.TgZ(31,"span",7),e._uU(32),e.ALo(33,"async"),e.qZA()()()()),2&r){const t=n.ngIf,s=e.oxw().ngIf,o=e.oxw();let c;e.Q6J("subtitle",e.xi3(1,14,"orgUnitAddress.details.subtitle",e.VKq(31,wt,s)))("cxFocus",e.VKq(33,Ae,t)),e.xp6(3),e.hij(" ",e.lcZ(4,17,"organization.edit")," "),e.xp6(2),e.Q6J("additionalParam",s.uid),e.xp6(4),e.Oqu(e.lcZ(10,19,"orgUnit.name")),e.xp6(3),e.AsE(" ",t.firstName," ",t.lastName," "),e.xp6(3),e.Oqu(e.lcZ(16,21,"orgUnit.unit")),e.xp6(3),e.Q6J("routerLink",e.lcZ(19,23,e.VKq(35,V,s))),e.xp6(2),e.hij(" ",s.name," "),e.xp6(3),e.Oqu(e.lcZ(24,25,"orgUnitAddress.formattedAddress")),e.xp6(3),e.hij(" ",t.formattedAddress," "),e.xp6(3),e.Oqu(e.lcZ(30,27,"orgUnitAddress.country")),e.xp6(3),e.hij(" ",null==(c=e.lcZ(33,29,o.getCountry(null==t.country?null:t.country.isocode)))?null:c.name," ")}}function Dg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Tg,34,37,"cx-org-card",1),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.model$))}}function bg(r,n){1&r&&e.GkF(0)}function Gg(r,n){if(1&r&&(e.TgZ(0,"a",3),e.ALo(1,"cxUrl"),e.YNc(2,bg,1,0,"ng-container",4),e.qZA()),2&r){const t=e.oxw().ngIf,s=e.oxw(),o=e.MAs(3);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ie,s.route,s.getRouterModel(t))))("tabIndex",s.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",o)}}function Bg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Gg,3,8,"a",2),e.BQk()),2&r){const t=e.oxw(),s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.linkable)("ngIfElse",s)}}function Rg(r,n){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Mg(r,n){if(1&r&&(e.TgZ(0,"label",19)(1,"span",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",20),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",6),e.qZA()),2&r){const t=e.oxw().ngIf,s=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"orgUnitAddress.state")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"orgUnitAddress.selectOne")),e.Q6J("inputAttrs",e.DdM(11,Q))("searchable",!0)("clearable",!1)("items",t),e.xp6(2),e.Q6J("control",s.form.get("region.isocode"))}}function Og(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Mg,7,12,"label",18),e.BQk()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function Zg(r,n){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label",3)(2,"span",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",5),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",6),e.qZA(),e.TgZ(9,"label")(10,"span",4),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"ng-select",7),e.ALo(14,"async"),e.ALo(15,"cxTranslate"),e.qZA(),e.TgZ(16,"label")(17,"span",4),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",8),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",6),e.qZA(),e.TgZ(23,"label")(24,"span",4),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"input",9),e.ALo(28,"cxTranslate"),e._UZ(29,"cx-form-errors",6),e.qZA(),e.TgZ(30,"label",10)(31,"span",4),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e._UZ(34,"input",11),e.ALo(35,"cxTranslate"),e._UZ(36,"cx-form-errors",6),e.qZA(),e.TgZ(37,"label",10)(38,"span",12),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e._UZ(41,"input",13),e.ALo(42,"cxTranslate"),e.qZA(),e.TgZ(43,"label",10)(44,"span",12),e._uU(45),e.ALo(46,"cxTranslate"),e.qZA(),e._UZ(47,"input",14),e.ALo(48,"cxTranslate"),e.qZA(),e.TgZ(49,"label")(50,"span",4),e._uU(51),e.ALo(52,"cxTranslate"),e.qZA(),e._UZ(53,"input",15),e.ALo(54,"cxTranslate"),e._UZ(55,"cx-form-errors",6),e.qZA(),e.TgZ(56,"label")(57,"span",4),e._uU(58),e.ALo(59,"cxTranslate"),e.qZA(),e._UZ(60,"input",16),e.ALo(61,"cxTranslate"),e._UZ(62,"cx-form-errors",6),e.qZA(),e._UZ(63,"label"),e.YNc(64,Og,2,1,"ng-container",17),e.ALo(65,"async"),e.BQk()),2&r){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,33,"orgUnitAddress.country")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,37,"orgUnitAddress.selectOne")),e.Q6J("inputAttrs",e.DdM(75,Q))("searchable",!0)("clearable",!1)("items",e.lcZ(6,35,t.countries$)),e.xp6(3),e.Q6J("control",t.form.get("country.isocode")),e.xp6(3),e.Oqu(e.lcZ(12,39,"orgUnitAddress.titles")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,43,"orgUnitAddress.selectOne")),e.Q6J("searchable",!1)("clearable",!1)("items",e.lcZ(14,41,t.titles$)),e.xp6(5),e.Oqu(e.lcZ(19,45,"orgUnitAddress.firstName")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,47,"orgUnitAddress.firstName")),e.xp6(2),e.Q6J("control",t.form.get("firstName")),e.xp6(3),e.Oqu(e.lcZ(26,49,"orgUnitAddress.lastName")),e.xp6(2),e.s9C("placeholder",e.lcZ(28,51,"orgUnitAddress.lastName")),e.xp6(2),e.Q6J("control",t.form.get("lastName")),e.xp6(3),e.Oqu(e.lcZ(33,53,"orgUnitAddress.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(35,55,"orgUnitAddress.streetAddress")),e.xp6(2),e.Q6J("control",t.form.get("line1")),e.xp6(3),e.Oqu(e.lcZ(40,57,"orgUnitAddress.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(42,59,"orgUnitAddress.aptSuite")),e.xp6(4),e.Oqu(e.lcZ(46,61,"orgUnitAddress.phoneNumber")),e.xp6(2),e.s9C("placeholder",e.lcZ(48,63,"orgUnitAddress.phoneNumber")),e.xp6(4),e.Oqu(e.lcZ(52,65,"orgUnitAddress.city")),e.xp6(2),e.s9C("placeholder",e.lcZ(54,67,"orgUnitAddress.city")),e.xp6(2),e.Q6J("control",t.form.get("town")),e.xp6(3),e.Oqu(e.lcZ(59,69,"orgUnitAddress.zipCode")),e.xp6(2),e.s9C("placeholder",e.lcZ(61,71,"orgUnitAddress.zipCode")),e.xp6(2),e.Q6J("control",t.form.get("postalCode")),e.xp6(2),e.Q6J("ngIf",e.lcZ(65,73,t.regions$))}}const as=function(){return{disabledCreate:!0,disabledEnable:!1,disabledEdit:!1}},Fg=function(r){return{cxRoute:"orgUnitUserRoles",params:r}};function wg(r,n){if(1&r&&(e.TgZ(0,"a",1),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,Fg,s.getRouterModel(t)))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgUser.links.rolesAndRights")," ")}}function kg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",10)(1,"input",11),e.NdJ("change",function(){e.CHM(t);const o=e.oxw().ngIf,c=e.oxw();return e.KtG(c.save(o))}),e.qZA(),e.TgZ(2,"span",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij(" ",e.lcZ(4,2,"organization.userRoles."+t)," ")}}function Ng(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",10)(1,"input",11),e.NdJ("change",function(){e.CHM(t);const o=e.oxw().ngIf,c=e.oxw();return e.KtG(c.save(o))}),e.qZA(),e.TgZ(2,"span",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij(" ",e.lcZ(4,2,"organization.userRights."+t)," ")}}function qg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const c=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.save(c))}),e.TgZ(1,"cx-org-card",2,3)(3,"a",4)(4,"span",5),e.NdJ("click",function(o){e.CHM(t);const c=e.MAs(2);return e.KtG(c.closeView(o))}),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"section",6)(8,"fieldset",7)(9,"legend",8),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.YNc(12,kg,5,4,"label",9),e.qZA(),e.TgZ(13,"fieldset",7)(14,"legend",8),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.YNc(17,Ng,5,4,"label",9),e.qZA()()()()}if(2&r){const t=n.ngIf,s=e.oxw();e.xp6(1),e.Q6J("previous",!1)("cxFocus",e.VKq(14,cs,t)),e.xp6(4),e.hij(" ",e.lcZ(6,8,"organization.done")," "),e.xp6(2),e.Q6J("formGroup",t),e.xp6(3),e.hij(" ",e.lcZ(11,10,"orgUser.roles")," "),e.xp6(2),e.Q6J("ngForOf",s.availableRoles),e.xp6(3),e.hij(" ",e.lcZ(16,12,"orgUser.rights")," "),e.xp6(2),e.Q6J("ngForOf",s.availableRights)}}function $g(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleItem(o))}),e._UZ(1,"cx-icon",5),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("type",t.expanded?"CARET_DOWN":"CARET_RIGHT")}}function zg(r,n){if(1&r&&(e.TgZ(0,"a",1),e.ALo(1,"cxUrl"),e.YNc(2,$g,2,1,"button",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.Q6J("routerLink",e.lcZ(1,5,e.WLB(7,ie,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngIf",t.isSwitchable),e.xp6(1),e.s9C("title",t.combinedName),e.xp6(1),e.Oqu(t.combinedName)}}function Jg(r,n){if(1&r&&(e._UZ(0,"li",11),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+t))}}function Qg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Jg,2,3,"li",10),e.BQk()),2&r){const t=n.$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.availableRoles.includes(t))}}function Yg(r,n){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function jg(r,n){if(1&r&&(e._UZ(0,"li",11),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRights."+t))}}function Vg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,jg,2,3,"li",10),e.BQk()),2&r){const t=n.$implicit,s=e.oxw(4);e.xp6(1),e.Q6J("ngIf",s.availableRights.includes(t))}}function Kg(r,n){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Xg(r,n){if(1&r&&(e.TgZ(0,"div",4)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"ul",7),e.YNc(5,Vg,2,1,"ng-container",8),e.YNc(6,Kg,2,0,"li",0),e.qZA()()),2&r){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgUser.rights")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length))}}const Hg=function(r){return{cxRoute:"orgUserDetails",params:r}};function Wg(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",5),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",6)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",7),e._uU(13),e.qZA()(),e.TgZ(14,"div",4)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"ul",7),e.YNc(19,Qg,2,1,"ng-container",8),e.YNc(20,Yg,2,0,"li",0),e.qZA()(),e.YNc(21,Xg,7,5,"div",9),e.TgZ(22,"div",4)(23,"label"),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.TgZ(26,"a",5),e.ALo(27,"cxUrl"),e._uU(28),e.qZA()()()),2&r){const t=e.oxw().ngIf,s=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,12,"orgUser.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,14,e.VKq(24,Hg,t))),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Oqu(e.lcZ(11,16,"orgUser.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(17,18,"orgUser.roles")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length)),e.xp6(1),e.Q6J("ngIf",s.hasRight(t)),e.xp6(3),e.Oqu(e.lcZ(25,20,"orgUser.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(27,22,e.VKq(26,V,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," ")}}function em(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Wg,29,28,"ng-template",null,1,e.W1O),e.TgZ(3,"button",2),e._uU(4),e.qZA(),e.BQk()),2&r){const t=n.ngIf,s=e.MAs(2);e.xp6(3),e.Q6J("cxPopover",s)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function tm(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"orgUnit.approvalProcess")),e.xp6(3),e.hij(" ",null==t.model.approvalProcess?null:t.model.approvalProcess.name," ")}}const rm=function(r){return{uid:r}};function nm(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()(),e.YNc(21,tm,6,4,"div",6),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,10,"orgUnit.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,12,e.VKq(22,V,e.VKq(20,rm,t.model.id)))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,14,"orgUnit.uid")),e.xp6(3),e.hij(" ",t.model.id," "),e.xp6(3),e.Oqu(e.lcZ(17,16,"orgUnit.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(20,18,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(2),e.Q6J("ngIf",null==t.model.approvalProcess?null:t.model.approvalProcess.name)}}function sm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",15)(1,"input",16),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateRoles(o))}),e.qZA(),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=n.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("value",t)("checked",null==s.roles||null==s.roles.value?null:s.roles.value.includes(t))("disabled","DISABLED"===(null==s.form?null:s.form.status)),e.xp6(2),e.hij(" ",e.lcZ(4,4,"organization.userRoles."+t)," ")}}function om(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",15)(1,"input",16),e.NdJ("change",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateRoles(o))}),e.qZA(),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=n.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("value",t)("checked",null==s.roles||null==s.roles.value?null:s.roles.value.includes(t))("disabled","DISABLED"===(null==s.form?null:s.form.status)),e.xp6(2),e.hij(" ",e.lcZ(4,4,"organization.userRights."+t)," ")}}function im(r,n){1&r&&(e.TgZ(0,"div",18)(1,"label",15),e._UZ(2,"input",19),e.TgZ(3,"span",17),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()()),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"orgUser.assignApprover")))}function cm(r,n){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",4),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",5),e.qZA(),e.TgZ(9,"label")(10,"span",3),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"input",6),e.ALo(14,"cxTranslate"),e._UZ(15,"cx-form-errors",5),e.qZA(),e.TgZ(16,"label")(17,"span",3),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",7),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.TgZ(23,"label")(24,"span",3),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"input",8),e.ALo(28,"cxTranslate"),e._UZ(29,"cx-form-errors",5),e.qZA(),e.TgZ(30,"fieldset",9)(31,"legend",3),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e.YNc(34,sm,5,6,"label",10),e.qZA(),e.TgZ(35,"fieldset",11)(36,"legend",3),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.YNc(39,om,5,6,"label",10),e.qZA(),e.TgZ(40,"label",12)(41,"span",3),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA(),e._UZ(44,"ng-select",13),e.ALo(45,"async"),e.ALo(46,"cxTranslate"),e._UZ(47,"cx-form-errors",5),e.qZA(),e.YNc(48,im,6,3,"div",14),e.BQk()),2&r){const t=e.oxw();let s;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,29,"orgUser.title")),e.xp6(2),e.Q6J("searchable",!1)("clearable",!1)("items",e.lcZ(6,31,t.titles$))("placeholder",e.lcZ(7,33,"orgUser.title")),e.xp6(3),e.Q6J("control",t.form.get("titleCode")),e.xp6(3),e.Oqu(e.lcZ(12,35,"orgUser.firstName")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,37,"orgUser.firstName")),e.xp6(2),e.Q6J("control",t.form.get("firstName")),e.xp6(3),e.Oqu(e.lcZ(19,39,"orgUser.lastName")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,41,"orgUser.lastName")),e.xp6(2),e.Q6J("control",t.form.get("lastName")),e.xp6(3),e.Oqu(e.lcZ(26,43,"orgUser.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(28,45,"orgUser.email")),e.xp6(2),e.Q6J("control",t.form.get("email")),e.xp6(3),e.hij(" ",e.lcZ(33,47,"orgUser.roles")," "),e.xp6(2),e.Q6J("ngForOf",t.availableRoles),e.xp6(3),e.hij(" ",e.lcZ(38,49,"orgUser.rights")," "),e.xp6(2),e.Q6J("ngForOf",t.availableRights),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(43,51,"orgUser.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(57,Q))("searchable",!0)("clearable",!1)("items",null!==(s=e.lcZ(45,53,t.units$))&&void 0!==s?s:null)("placeholder",e.lcZ(46,55,"orgUser.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid")),e.xp6(1),e.Q6J("ngIf",t.isAssignedToApprovers)}}const am=function(r){return{cxRoute:"orgUserGroupUsers",params:r}},um=function(r){return{cxRoute:"orgUserGroupPermissions",params:r}};function lm(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"a",10),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",10),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,4,e.VKq(12,am,t))),e.xp6(2),e.hij(" ",e.lcZ(4,6,"orgUserGroup.links.user")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,8,e.VKq(14,um,t))),e.xp6(2),e.hij(" ",e.lcZ(8,10,"orgUserGroup.links.permission")," ")}}const dm=function(r){return{cxRoute:"orgUserGroupEdit",params:r}};function pm(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-delete-item",3),e.TgZ(7,"section",4)(8,"div",5)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",6),e._uU(13),e.qZA()(),e.TgZ(14,"div",5)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",6),e._uU(19),e.qZA()(),e.TgZ(20,"div",5)(21,"label"),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"a",7),e.ALo(25,"cxUrl"),e._uU(26),e.qZA()()(),e.TgZ(27,"section",8),e.YNc(28,lm,9,16,"ng-container",9),e.qZA()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(27,Ae,t)),e.xp6(1),e.ekj("disabled",e.lcZ(2,13,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,15,e.VKq(29,dm,t))),e.xp6(3),e.hij(" ",e.lcZ(5,17,"organization.edit")," "),e.xp6(6),e.Oqu(e.lcZ(11,19,"orgUserGroup.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(17,21,"orgUserGroup.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(23,23,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(25,25,e.VKq(31,V,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," "),e.xp6(2),e.Q6J("ngIf",t.uid)}}function gm(r,n){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createUidWithName(o.form.get("name"),o.form.get("uid")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();let s,o;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,16,"orgUserGroup.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,18,"orgUserGroup.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,20,"orgUserGroup.uid")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,22,"orgUserGroup.uid")),e.xp6(2),e.Q6J("control",t.form.get("uid")),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(18,24,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(30,Q))("searchable",!0)("clearable",!1)("items",null!==(s=e.lcZ(20,26,t.units$))&&void 0!==s?s:null)("readonly",null!==(o=null==(o=t.form.get("orgUnit.uid"))?null:o.disabled)&&void 0!==o&&o)("placeholder",e.lcZ(21,28,"orgUserGroup.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid"))}}function mm(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(3),e.AsE(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ")}}function fm(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"orgPurchaseLimit.periodRange")),e.xp6(3),e.hij(" ",t.model.periodRange," ")}}function Um(r,n){if(1&r&&(e.TgZ(0,"a",4),e.ALo(1,"cxUrl"),e._uU(2),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("routerLink",e.lcZ(1,2,e.VKq(4,V,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}const hm=function(r){return{cxRoute:"orgPurchaseLimitDetails",params:r}};function _m(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",3)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",5),e._uU(20),e.qZA()(),e.YNc(21,mm,6,5,"div",6),e.YNc(22,fm,6,4,"div",6),e.TgZ(23,"div",3)(24,"label"),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e.YNc(27,Um,3,6,"a",7),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,13,"orgPurchaseLimit.code")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,15,e.VKq(25,hm,t.model))),e.xp6(2),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(11,17,"orgPurchaseLimit.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(14,19,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(18,21,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.hij(" ",null==t.model.orderApprovalPermissionType?null:t.model.orderApprovalPermissionType.name," "),e.xp6(1),e.Q6J("ngIf",t.model.threshold||0===t.model.threshold),e.xp6(1),e.Q6J("ngIf",t.model.periodRange),e.xp6(3),e.Oqu(e.lcZ(26,23,"orgPurchaseLimit.unit")),e.xp6(2),e.Q6J("ngIf",t.model.code)}}const vm=["subList"];function Sm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const c=e.CHM(t).ngIf,l=e.oxw();return e.KtG(l.save(c))}),e.TgZ(1,"cx-org-card",2)(2,"button",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",4),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"section",5)(9,"label",6)(10,"span",7),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"input",8),e.ALo(14,"cxTranslate"),e.ALo(15,"cxTranslate"),e._UZ(16,"cx-form-errors",9),e.qZA(),e.TgZ(17,"label")(18,"span",7),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e._UZ(21,"input",10),e.ALo(22,"cxTranslate"),e.ALo(23,"cxTranslate"),e._UZ(24,"cx-form-errors",9),e.qZA()()()()}if(2&r){const t=n.ngIf;e.Q6J("formGroup",t),e.xp6(1),e.Q6J("previous",!1)("cxFocus",e.VKq(29,cs,t)),e.xp6(2),e.hij(" ",e.lcZ(4,13,"organization.save")," "),e.xp6(3),e.hij(" ",e.lcZ(7,15,"organization.cancel")," "),e.xp6(5),e.Oqu(e.lcZ(12,17,"orgUser.password.newPassword")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,19,"orgUser.password.newPassword")),e.uIk("aria-label",e.lcZ(15,21,"orgUser.password.newPassword")),e.xp6(3),e.Q6J("control",t.get("password")),e.xp6(3),e.Oqu(e.lcZ(20,23,"orgUser.password.confirmPassword")),e.xp6(2),e.s9C("placeholder",e.lcZ(22,25,"orgUser.password.confirmPassword")),e.uIk("aria-label",e.lcZ(23,27,"orgUser.password.confirmPassword")),e.xp6(3),e.Q6J("control",t.get("confirmPassword"))}}function Am(r,n){if(1&r&&(e._UZ(0,"li",15),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+t))}}function Cm(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Am,2,3,"li",14),e.BQk()),2&r){const t=n.$implicit,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.availableRoles.includes(t))}}function xm(r,n){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Lm(r,n){if(1&r&&(e._UZ(0,"li",15),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRights."+t))}}function Em(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Lm,2,3,"li",14),e.BQk()),2&r){const t=n.$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.availableRights.includes(t))}}function ym(r,n){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Im(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",6)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"ul",7),e.YNc(6,Em,2,1,"ng-container",9),e.YNc(7,ym,2,0,"li",10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,3,"orgUser.rights")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length))}}const Pm=function(r){return{cxRoute:"orgUserChangePassword",params:r}};function Tm(r,n){if(1&r&&(e.TgZ(0,"a",16),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.ekj("disabled",!t.active),e.Q6J("routerLink",e.lcZ(1,4,e.VKq(8,Pm,t))),e.xp6(2),e.hij(" ",e.lcZ(3,6,"orgUser.links.password")," ")}}const Dm=function(r){return{cxRoute:"orgUserApprovers",params:r}},bm=function(r){return{cxRoute:"orgUserUserGroups",params:r}},Gm=function(r){return{cxRoute:"orgUserPermissions",params:r}};function Bm(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"a",17),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",17),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"a",17),e.ALo(10,"cxUrl"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(18,Dm,t))),e.xp6(2),e.hij(" ",e.lcZ(4,8,"orgUser.links.approvers")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,10,e.VKq(20,bm,t))),e.xp6(2),e.hij(" ",e.lcZ(8,12,"orgUser.links.userGroup")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(10,14,e.VKq(22,Gm,t))),e.xp6(2),e.hij(" ",e.lcZ(12,16,"orgUser.links.permission")," ")}}const Rm=function(r){return{cxRoute:"orgUserEdit",params:r}};function Mm(r,n){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",8)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"ul",7),e.YNc(26,Cm,2,1,"ng-container",9),e.YNc(27,xm,2,0,"li",10),e.qZA()(),e.YNc(28,Im,8,5,"ng-container",10),e.TgZ(29,"div",6)(30,"label"),e._uU(31),e.ALo(32,"cxTranslate"),e.qZA(),e.TgZ(33,"a",11),e.ALo(34,"cxUrl"),e._uU(35),e.qZA()(),e.TgZ(36,"div",8),e.YNc(37,Tm,4,10,"a",12),e.qZA()(),e.TgZ(38,"section",13),e.YNc(39,Bm,13,24,"ng-container",10),e.qZA()()),2&r){const t=n.ngIf,s=e.oxw();e.Q6J("cxFocus",e.VKq(34,Ae,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,18,s.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,20,e.VKq(36,Rm,t))),e.xp6(3),e.hij(" ",e.lcZ(5,22,"organization.edit")," "),e.xp6(7),e.Oqu(e.lcZ(12,24,"orgUser.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,26,"orgUser.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(24,28,"orgUser.roles")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length)),e.xp6(1),e.Q6J("ngIf",s.hasRight(t)),e.xp6(3),e.Oqu(e.lcZ(32,30,"orgUser.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(34,32,e.VKq(38,V,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," "),e.xp6(2),e.Q6J("ngIf",t.customerId),e.xp6(2),e.Q6J("ngIf",t.customerId)}}const Om=function(r){return{cxRoute:"orgUserGroupDetails",params:r}};function Zm(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"a",4),e.ALo(19,"cxUrl"),e._uU(20),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"orgUserGroup.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,10,e.VKq(18,Om,t.model))),e.xp6(2),e.Oqu(t.model.name),e.xp6(3),e.Oqu(e.lcZ(11,12,"orgUserGroup.uid")),e.xp6(3),e.hij(" ",t.model.uid," "),e.xp6(3),e.Oqu(e.lcZ(17,14,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(19,16,e.VKq(20,V,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}let Y=(()=>{class r{constructor(t){this.routingService=t,this.key$=this.routingService.getParams().pipe((0,ot.j)(this.getParamKey()),(0,Ie.x)()),this.item$=this.key$.pipe((0,f.w)(s=>s?this.getItem(s):(0,I.of)(void 0))),this.b2bUnit$=this.routingService.getParams().pipe((0,ot.j)(M.UY.unitCode),(0,Ie.x)())}getRouterParam(t){return this.routingService.getParams().pipe((0,p.U)(s=>s[t]))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ce=(()=>{class r{getForm(t){return this.form&&t?(this.patchData(t),this.form):(this.form||this.build(t),this.form?.reset(),this.form?.enable(),this.patchData(t),this.form)}patchData(t){this.toggleFreeze(t),this.form?.patchValue({...this.defaultValue,...t})}toggleFreeze(t){this.form?.enabled&&!1===t?.active&&this.form.disable(),this.form?.disabled&&!0===t?.active&&this.form.enable()}get defaultValue(){return{}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),C=(()=>{class r{constructor(t,s,o){this.currentItemService=t,this.routingService=s,this.formService=o,this.key$=this.currentItemService.key$,this.current$=this.currentItemService.item$,this.isInEditMode$=new it.X(!1),this.unit$=this.currentItemService.b2bUnit$,this.error$=this.key$.pipe((0,f.w)(c=>this.currentItemService.getError(c)))}save(t,s){if(t.invalid)return t.markAllAsTouched(),d.hfq.deepUpdateValueAndValidity(t),(0,I.of)();{const o=t.value;return t.disable(),s?this.update(s,o):this.create(o)}}getForm(t){return this.formService.getForm(t)}launchDetails(t){const s=this.getDetailsRoute(),o=this.buildRouteParams(t);s&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:s,params:o})}buildRouteParams(t){return t}getRouterParam(t){return this.currentItemService.getRouterParam(t)}setEditMode(t){this.isInEditMode$.next(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Y),e.LFG(i.Znh),e.LFG(ce))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),q=(()=>{class r{constructor(){this.data$=new Al.t}get(){return this.data$}add(t){return(t={...this.getDefaultMessage(t),...t}).events=new Is.xQ,this.data$.next(t),t.events}close(t){t?.next({close:!0})}getDefaultMessage(t){const s={type:i.xUg.MSG_TYPE_INFO};return(!t.type||t.type===i.xUg.MSG_TYPE_INFO&&!t.timeout)&&(s.timeout=3e3),s}clear(){this.data$.next()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),wm=(()=>{class r{constructor(t,s){this.itemService=t,this.messageService=s}ngOnInit(){this.subscription=this.itemService.current$.pipe((0,Ie.x)((t,s)=>t?.active===s?.active),(0,x.h)(i.jWE),(0,x.h)(t=>!1===t.active)).subscribe(t=>this.handleDisabledItems(t))}handleDisabledItems(t){this.messageService.add({message:{key:"organization.notification.disabled",params:{item:t}},type:i.xUg.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q))},r.\u0275dir=e.lG2({type:r,selectors:[["","cxOrgItemActive",""]]}),r})(),et=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez]}),r})();class us{}let Ku=(()=>{class r{constructor(t,s){this.messageData=t,this.platformId=s,this.terminated=!1}ngOnInit(){this.message=this.messageData.message??{},this.messageTitle=this.messageData.messageTitle,this.type=this.resolveType(),this.messageIcon=this.messageData.messageIcon,this.messageData.timeout&&this.handleAutoHide()}close(){this.messageData.events?.next({close:!0})}resolveType(){return this.messageData.type&&this.messageData.type!==i.xUg.MSG_TYPE_INFO?this.messageData.type===i.xUg.MSG_TYPE_ERROR?"error":this.messageData.type===i.xUg.MSG_TYPE_WARNING?"warning":void 0:"info"}handleAutoHide(){(0,g.NF)(this.platformId)&&setTimeout(()=>{this.close()},this.messageData.timeout)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(us),e.Y36(e.Lbi))},r.\u0275dir=e.lG2({type:r,hostVars:4,hostBindings:function(t,s){2&t&&(e.Tol(s.type),e.ekj("terminated",s.terminated))}}),r})(),km=(()=>{class r extends Ku{constructor(){super(...arguments),this.closeIcon=d.e1G.CLOSE}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-notification"]],features:[e.qOj],decls:7,vars:7,consts:[[1,"inner",3,"cxFocus","esc"],[3,"type",4,"ngIf"],["type","button",1,"close",3,"click"],[3,"type"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return s.close()}),e.YNc(1,fd,1,1,"cx-icon",1),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return s.close()}),e._UZ(6,"cx-icon",3),e.qZA()()),2&t&&(e.Q6J("cxFocus",e.DdM(6,Ud)),e.xp6(1),e.Q6J("ngIf",s.messageIcon),e.xp6(2),e.Oqu(e.lcZ(4,4,s.message)),e.xp6(3),e.Q6J("type",s.closeIcon))},dependencies:[g.O5,d.oJW,d.RRe,i.X$D],encapsulation:2,changeDetection:0}),r})(),Nm=(()=>{class r{constructor(t){this.componentFactoryResolver=t}getComponent(t){return this.componentFactoryResolver.resolveComponentFactory(t.component||km)}getInjector(t,s){return e.zs3.create({providers:[{provide:us,useValue:t}],parent:s})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e._Vd))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qm=(()=>{class r{constructor(t,s){this.messageService=t,this.renderService=s,this.subscription=new ct.w}ngAfterViewInit(){this.subscription.add(this.messageService.get().subscribe(t=>{t?this.render(t):this.vcr?.clear()}))}render(t){const s=this.vcr.createComponent(this.renderService.getComponent(t),0,this.renderService.getInjector(t,this.vcr.injector));s.injector.get(e.sBO).markForCheck(),this.subscription.add(t.events?.pipe((0,x.h)(o=>!!o.close)).subscribe(()=>this.terminate(s)))}terminate(t){t.instance.terminated=!0,t.injector.get(e.sBO).markForCheck(),setTimeout(()=>{t.destroy()},500)}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(q),e.Y36(Nm))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-message"]],viewQuery:function(t,s){if(1&t&&e.Gf(hd,5,e.s_b),2&t){let o;e.iGM(o=e.CRH())&&(s.vcr=o.first)}},decls:2,vars:0,consts:[["vcr",""]],template:function(t,s){1&t&&e.GkF(0,null,0)},encapsulation:2,changeDetection:0}),r})(),$m=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,d.QX1,d.oPH]}),r})(),Ze=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,$m]}),r})(),te=(()=>{class r{constructor(t,s){this.itemService=t,this.messageService=s,this.previous=!0,this.showHint=!1,this.iconTypes=d.e1G,this.item$=this.itemService.current$.pipe((0,y.b)(o=>this.refreshMessages(o)))}closeView(t){return t.stopPropagation(),this.view.toggle(!0),setTimeout(()=>{t.target?.parentElement?.click()},500),!1}get previousLabel(){return this.previous}refreshMessages(t){void 0!==this.itemKey&&t?.code!==this.itemKey&&t?.uid!==this.itemKey&&t?.customerId!==this.itemKey&&this.messageService.clear(),this.itemKey=t?.code??t?.uid??t?.customerId}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-card"]],viewQuery:function(t,s){if(1&t&&e.Gf(d.HrZ,5,d.HrZ),2&t){let o;e.iGM(o=e.CRH())&&(s.view=o.first)}},hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",previous:"previous",subtitle:"subtitle",showHint:"showHint"},features:[e._Bn([q])],ngContentSelectors:Ld,decls:23,vars:18,consts:[[1,"card"],[1,"header"],[1,"title-bar"],[1,"title"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"actions"],["class","link close","routerLink","../",4,"ngIf"],[1,"main"],["detailHint",""],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["routerLink","../",1,"link","close"],["type","CLOSE",3,"click",4,"ngIf","ngIfElse"],["prevLabel",""],["type","CLOSE",3,"click"]],template:function(t,s){1&t&&(e.F$t(xd),e.TgZ(0,"cx-view",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"async"),e.YNc(8,_d,2,4,"button",4),e.qZA(),e.TgZ(9,"h4"),e._uU(10),e.ALo(11,"cxTranslate"),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"div",5),e.Hsn(14),e.qZA()(),e.YNc(15,Ad,4,2,"a",6),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"cx-org-message"),e.Hsn(18,1),e.Hsn(19,2),e.qZA()(),e._UZ(20,"router-outlet"),e.YNc(21,Cd,3,3,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(5),e.hij(" ",e.xi3(6,4,s.i18nRoot+".title",e.VKq(14,wt,e.lcZ(7,7,s.item$)))," "),e.xp6(3),e.Q6J("ngIf",s.showHint),e.xp6(2),e.hij(" ",s.subtitle||e.xi3(11,9,s.i18nRoot+".subtitle",e.VKq(16,wt,e.lcZ(12,12,s.item$)))," "),e.xp6(5),e.Q6J("ngIf",!!s.previous))},dependencies:[g.O5,d.HrZ,h.lC,h.yS,d.oJW,qm,d.k5W,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),re=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,d.aNp,h.Bz,i.LUR,d.QX1,i.bhT,Ze,d.UUf]}),r})(),Ce=(()=>{class r{constructor(t,s){this.itemService=t,this.messageService=s,this.animateBack=!0,this.form$=this.itemService.current$.pipe((0,p.U)(o=>(this.setI18nRoot(o),o||(o={}),this.itemService.getForm(o)))),this.disabled$=this.form$.pipe((0,f.w)(o=>o?.statusChanges??(0,I.of)()),(0,p.U)(o=>"DISABLED"===o))}save(t){this.itemService.key$.pipe((0,ne.P)(),(0,f.w)(s=>this.itemService.save(t,s).pipe((0,de.q)(1),(0,p.U)(o=>({item:o.item,status:o.status,action:s?"update":"create"}))))).subscribe(({item:s,action:o,status:c})=>{c===X.SUCCESS&&(this.itemService.launchDetails(s),this.notify(s,o)),t.enable()})}notify(t,s){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${s}`,params:{item:t}}})}setI18nRoot(t){this.i18n=this.i18nRoot+(t?".edit":".create")}back(t,s){this.animateBack&&s.closeView(t)}ngOnInit(){this.itemService.setEditMode(!0)}ngOnDestroy(){this.itemService.setEditMode(!1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",animateBack:"animateBack",subtitle:"subtitle"},ngContentSelectors:Id,decls:2,vars:3,consts:[[3,"submit",4,"ngIf"],[3,"submit"],["cxOrgItemActive","",3,"previous","i18nRoot","subtitle","cxFocus"],["card",""],["actions","",1,"button","primary",3,"disabled"],["actions","","routerLink","../","type","button",1,"link"],[3,"click"],["main","",1,"details"]],template:function(t,s){1&t&&(e.F$t(yd),e.YNc(0,Ed,13,15,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.form$))},dependencies:[g.O5,a._Y,a.JL,a.F,h.rH,te,wm,d.RRe,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),ge=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[q],imports:[g.ez,a.u5,i.LUR,h.Bz,re,Ze,et,d.oPH]}),r})(),T=(()=>{class r{constructor(t){this.tableService=t,this.defaultTableStructure={options:{layout:d.dfC.VERTICAL_STACKED},lg:{options:{layout:d.dfC.VERTICAL}}},this.ghostData={values:new Array(10)},this.notification$=new Is.xQ,this.pagination$=new it.X({pageSize:10})}get viewType(){return this.tableType}get domainType(){return this._domainType??this.viewType}key(){return"code"}getData(...t){return this.pagination$.pipe((0,f.w)(s=>this.getStructure().pipe((0,p.U)(o=>({...s,...o.options?.pagination})))),(0,f.w)(s=>this.load(s,...t)),(0,he.O)(this.ghostData))}getStructure(){return this.tableService.buildStructure(this.viewType,this.defaultTableStructure)}view(t,s){this.pagination$.next({...t,currentPage:s})}sort(t,s){this.view(t,0)}hasGhostData(t){return t===this.ghostData}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),xe=(()=>{class r{constructor(t,s){this.service=t,this.organizationItemService=s,this.trapFocus=d.FS_,this.hasGhostData=!1,this.viewType=this.service.viewType,this.domainType=this.service.domainType,this.iconTypes=d.e1G,this.currentKey$=this.organizationItemService.key$,this.structure$=this.service.getStructure(),this.listData$=this.service.getData().pipe((0,y.b)(o=>{this.sortCode=o?.pagination?.sort,this.hasGhostData=this.service.hasGhostData(o)})),this.key=this.service.key(),this.hideAddButton=!1}getListCount(t){return t.pagination?.totalResults}browse(t,s){t&&this.service.view(t,s)}launchItem(t){this.organizationItemService.launchDetails(t)}sort(t){t&&this.service.sort({...t,sort:this.sortCode})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T),e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-list"]],hostVars:4,hostBindings:function(t,s){2&t&&(e.Tol(s.viewType),e.ekj("ghost",s.hasGhostData))},inputs:{key:"key",hideAddButton:"hideAddButton"},ngContentSelectors:Nd,decls:7,vars:4,consts:[[3,"hideMode"],[4,"ngIf"],["emptyList",""],["listHint",""],["class","list",4,"ngIf"],[1,"list"],[1,"header"],[1,"title"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],[1,"actions"],["name","sort","class","sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange",4,"ngIf"],["class","button primary create","routerLinkActive","disabled",3,"routerLink",4,"ngIf"],[3,"structure","data","i18nRoot","currentItem","cxFocus","launch",4,"ngIf","ngIfElse"],[1,"footer"],[3,"pagination","viewPageEvent"],["name","sort",1,"sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["routerLinkActive","disabled",1,"button","primary","create",3,"routerLink"],[3,"structure","data","i18nRoot","currentItem","cxFocus","launch"],[1,"instruction","is-empty"]],template:function(t,s){1&t&&(e.F$t(kd),e.TgZ(0,"cx-split-view",0),e.YNc(1,Zd,4,3,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,Fd,3,3,"ng-template",null,2,e.W1O),e.YNc(5,wd,3,3,"ng-template",null,3,e.W1O)),2&t&&(e.Q6J("hideMode",!1),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,s.structure$)))},dependencies:[g.sg,g.O5,h.lC,h.yS,h.Od,d._fG,d.HrZ,d.ac$,d.oJW,d.QtL,k.w9,k.jq,a.JJ,a.On,d.RRe,d.k5W,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,d.aNp,d.U$I,d.QX1,i.bhT,i.LUR,d.u3b,k.A0,a.u5,Ze,d.oPH,d.UUf]}),r})(),B=(()=>{class r{constructor(t){this.outlet=t}get tabIndex(){return-1}get model(){return this.outlet.context}get property(){return this.model?.[this.outlet?.context?._field]}get linkable(){return void 0!==this.property&&(this.cellOptions.linkable??!0)}get cellOptions(){return this.outlet.context?._options?.cells?.[this.outlet.context?._field]??{}}get route(){return this.outlet.context._type+"Details"}get routeModel(){return this.outlet.context}get type(){return this.model._type}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;const{_field:t,_options:s,_type:o,_i18nRoot:c,...l}=this.outlet.context;return l}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.WCT))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cell"]],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,$d,3,8,"a",0),e.YNc(1,zd,2,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T],encapsulation:2,changeDetection:0}),r})(),ue=(()=>{class r extends B{constructor(t,s,o,c){super(t),this.outlet=t,this.organizationItemService=s,this.messageService=o,this.organizationSubListService=c}get isAssigned(){return this.item?.selected}toggleAssign(){const t=this.isAssigned;this.organizationItemService.key$.pipe((0,ne.P)(),(0,f.w)(s=>t?this.unassign?.(s,this.link):this.assign(s,this.link)),(0,de.q)(1),(0,x.h)(s=>s.status===X.SUCCESS)).subscribe(s=>this.notify(s.item,t?"unassigned":"assigned"))}assign(t,s){return this.organizationSubListService.assign?.(t,s)??(0,I.of)()}unassign(t,s){return this.organizationSubListService.unassign?.(t,s)??(0,I.of)()}get link(){return this.outlet.context.code??this.outlet.context.customerId??this.outlet.context.uid}notify(t,s){this.messageService.add({message:{key:`${this.organizationSubListService.viewType}.${s}`,params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.WCT),e.Y36(C),e.Y36(q),e.Y36(T))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-assign-cell"]],features:[e.qOj],decls:1,vars:1,consts:[["type","button","class","link",3,"click",4,"ngIf"],["type","button",1,"link",3,"click"]],template:function(t,s){1&t&&e.YNc(0,Jd,2,1,"button",0),2&t&&e.Q6J("ngIf",s.hasItem)},dependencies:[g.O5],encapsulation:2,changeDetection:0}),r})(),w=(()=>{class r extends xe{constructor(){super(...arguments),this.hostClass="",this.previous=!0,this.key=this.service.key(),this.showHint=!1,this.hasGhostData=!1,this.listData$=this.currentKey$.pipe((0,f.w)(t=>this.service.getData(t)),(0,y.b)(t=>{this.hasGhostData=this.service.hasGhostData(t)})),this.dataStructure$=this.service.getStructure()}set routerKey(t){this.subKey$=this.organizationItemService.getRouterParam(t)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-sub-list"]],viewQuery:function(t,s){if(1&t&&e.Gf(q,5,q),2&t){let o;e.iGM(o=e.CRH())&&(s.messageService=o.first)}},hostAttrs:[1,"content-wrapper"],hostVars:2,hostBindings:function(t,s){2&t&&e.ekj("ghost",s.hasGhostData)},inputs:{previous:"previous",key:"key",showHint:"showHint",routerKey:"routerKey"},features:[e.qOj],ngContentSelectors:Wd,decls:8,vars:8,consts:[[3,"previous","i18nRoot","showHint","cxFocus"],["main","",4,"ngIf"],["emptyList",""],["main",""],[4,"ngIf"],[3,"structure","data","i18nRoot","currentItem",4,"ngIf","ngIfElse"],["class","footer",4,"ngIf"],[3,"structure","data","i18nRoot","currentItem"],[1,"footer"],[3,"pagination","viewPageEvent"],[1,"is-empty"]],template:function(t,s){1&t&&(e.F$t(Xd),e.TgZ(0,"cx-org-card",0),e.Hsn(1,0,["ngProjectAs","[actions]",5,["","actions",""]]),e.Hsn(2,1,["ngProjectAs","[main]",5,["","main",""]]),e.Hsn(3,2,["ngProjectAs","[info]",5,["","info",""]]),e.YNc(4,Vd,3,3,"ng-container",1),e.ALo(5,"async"),e.qZA(),e.YNc(6,Kd,3,3,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("previous",s.previous)("i18nRoot",s.viewType)("showHint",s.showHint)("cxFocus",e.DdM(7,Hd)),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,5,s.dataStructure$)))},dependencies:[g.O5,te,d.ac$,d.QtL,d.RRe,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),K=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,re,d.U$I,d.u3b,Ze,d.oPH]}),r})(),kt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,K,ge]}),r})();const ae=2147483647;let Fe=(()=>{class r{constructor(t,s){this.itemService=t,this.messageService=s}ngOnInit(){this.subscription=this.itemService.error$.pipe((0,x.h)(t=>t)).subscribe(()=>this.handleErrorMessage())}handleErrorMessage(){this.messageService.add({message:{key:"organization.notification.notExist"},type:i.xUg.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q))},r.\u0275dir=e.lG2({type:r,selectors:[["","cxOrgItemExists",""]]}),r})(),Xu=(()=>{class r extends Ku{constructor(t,s,o){super(t,s),this.data=t,this.platformId=s,this.messageService=o,this.cancelText={key:"organization.confirmation.cancel"},this.confirmText={key:"organization.confirmation.confirm"}}ngOnInit(){super.ngOnInit(),this.cancelText=this.messageData.cancel??this.cancelText,this.confirmText=this.messageData.confirm??this.confirmText}confirm(){this.data.events?.next({confirm:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(us),e.Y36(e.Lbi),e.Y36(q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-confirmation"]],features:[e.qOj],decls:14,vars:15,consts:[[1,"inner",3,"cxFocus","esc"],["class","messageTitle",4,"ngIf"],[1,"message"],[3,"type",4,"ngIf"],[1,"actions",3,"cxFocus"],[1,"button","cancel",3,"click"],[1,"button","primary","confirm",3,"click"],[1,"messageTitle"],[3,"type"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return s.close()}),e.YNc(1,ep,3,3,"p",1),e.TgZ(2,"div",2),e.YNc(3,tp,1,1,"cx-icon",3),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return s.close()}),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA(),e.TgZ(11,"button",6),e.NdJ("click",function(){return s.confirm()}),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA()()()),2&t&&(e.Q6J("cxFocus",e.DdM(13,rp)),e.xp6(1),e.Q6J("ngIf",s.messageTitle),e.xp6(2),e.Q6J("ngIf",s.messageIcon),e.xp6(2),e.hij(" ",e.lcZ(6,7,s.message)," "),e.xp6(2),e.Q6J("cxFocus",e.DdM(14,np)),e.xp6(2),e.hij(" ",e.lcZ(10,9,s.cancelText)," "),e.xp6(3),e.hij(" ",e.lcZ(13,11,s.confirmText)," "))},dependencies:[g.O5,d.oJW,d.RRe,i.X$D],encapsulation:2,changeDetection:0}),r})(),Hu=(()=>{class r{isItemDisabled(t){return!1===t?.active}isParentDisabled(t){return!1===(t.orgUnit||t.unit||t.parentOrgUnit)?.active&&!this.isRootUnit(t)}isRootUnit(t){return Boolean(t?.uid&&t?.name&&!t?.orgUnit&&!t?.unit&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),tt=(()=>{class r{constructor(t,s,o){this.itemService=t,this.messageService=s,this.disableInfoService=o,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new ct.w}toggle(t){t.active?this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.deactivate",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deactivateTitle",params:{item:t}},confirm:{key:"organization.confirmation.disable"},component:Xu}),this.subscription.add(this.confirmation.pipe((0,ne.P)()).subscribe(s=>{s.close&&(this.confirmation=null),s.confirm&&(this.messageService.close(this.confirmation),this.update(t),this.confirmation=null)}))):this.update(t)}isDisabled(t){return this.disabled??(this.disableInfoService.isParentDisabled(t)||this.disableInfoService.isRootUnit(t))}update(t){this.itemService.update(t[this.key],this.getPatchedItem(t)).pipe((0,de.q)(1),(0,x.h)(s=>s.status===X.SUCCESS)).subscribe(s=>this.notify({...t,...s.item}))}getPatchedItem(t){const s={};return Object.assign(s,{[this.key]:t[this.key]}),s.active=!t.active,s}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${t.active?"confirmEnabled":"confirmDisabled"}`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q),e.Y36(Hu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-toggle-status"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",disabled:"disabled"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"disabled","click"]],template:function(t,s){1&t&&(e.YNc(0,sp,4,6,"button",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.current$))},dependencies:[g.O5,g.Ov,i.X$D],encapsulation:2}),r})(),Wu=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,d.QX1,d.oPH,i.GSh]}),r})(),rt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,Ze,Wu]}),r})(),el=(()=>{class r{constructor(t,s){this.itemService=t,this.messageService=s,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new ct.w}delete(t){this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.delete",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deleteTitle",params:{item:t}},component:Xu}),this.subscription.add(this.confirmation.pipe((0,ne.P)()).subscribe(s=>{s.close&&(this.confirmation=null),s.confirm&&(this.messageService.close(this.confirmation),this.confirmDelete(t),this.confirmation=null)})))}confirmDelete(t){this.itemService.delete?.(t[this.key],this.additionalParam).pipe((0,de.q)(1),(0,x.h)(s=>s.status===X.SUCCESS)).subscribe(s=>this.notify({...t,...s.item}))}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.deleted`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-delete-item"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",additionalParam:"additionalParam"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"disabled","click"]],template:function(t,s){1&t&&(e.YNc(0,op,4,6,"button",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.current$))},dependencies:[g.O5,g.Ov,i.X$D],encapsulation:2}),r})(),tl=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,Ze,Wu]}),r})(),fe=(()=>{class r{constructor(t,s){this.itemService=t,this.disableInfoService=s,this.displayCustomInfo=!1,this.current$=this.itemService.current$,this.iconTypes=d.e1G}get defaultInfoConfig(){return{disabledCreate:!1,disabledEdit:!0,disabledEnable:!0,disabledDisable:!1}}ngOnInit(){this.displayInfoConfig={...this.defaultInfoConfig,...this.displayInfoConfig}}displayDisabledCreate(t){return this.displayInfoConfig?.disabledCreate&&this.disableInfoService.isItemDisabled(t)}displayDisabledEdit(t){return this.displayInfoConfig?.disabledEdit&&this.disableInfoService.isItemDisabled(t)}displayDisabledEnable(t){return this.displayInfoConfig?.disabledEnable&&this.disableInfoService.isParentDisabled(t)}displayDisabledDisable(t){return this.displayInfoConfig?.disabledDisable&&this.disableInfoService.isRootUnit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(Hu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-disable-info"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",displayInfoConfig:"displayInfoConfig",displayCustomInfo:"displayCustomInfo"},ngContentSelectors:pp,decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"]],template:function(t,s){1&t&&(e.F$t(),e.YNc(0,dp,2,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.current$))},dependencies:[g.O5,d.oJW,g.Ov,i.X$D],encapsulation:2}),r})(),Ue=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,d.QX1,i.LUR]}),r})(),H=(()=>{class r extends T{constructor(){super(...arguments),this.defaultTableStructure={options:{layout:d.dfC.VERTICAL}},this.ghostData={values:new Array(3)}}assign(t,...s){return(0,I.of)()}unassign(t,...s){return(0,I.of)()}filterSelected(t){if(!t)return t;const{pagination:s,sorts:o,values:c}=t;return{pagination:s,sorts:o,values:c.filter(l=>l.selected)}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),nt=(()=>{class r extends B{get tabIndex(){return 0}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-active-link-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,mp,3,8,"a",0),e.YNc(1,fp,2,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T],encapsulation:2,changeDetection:0}),r})(),Jm=(()=>{class r extends B{get property(){if(this.budget&&this.currency)return this.budget+" "+this.currency}get budget(){return this.model.budget}get currency(){return this.model.currency?.isocode||this.model.currency}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-amount-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,hp,3,8,"a",0),e.YNc(1,_p,2,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T],encapsulation:2,changeDetection:0}),r})(),Qm=(()=>{class r extends B{get linkable(){return this.hasRange&&(this.cellOptions.linkable??!0)}get hasRange(){return!!this.model.startDate&&!!this.model.endDate}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-date-range-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,Sp,3,8,"a",0),e.YNc(1,Cp,1,1,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T,i.dgE],encapsulation:2,changeDetection:0}),r})(),Ym=(()=>{class r extends B{get isTimeSpanThreshold(){return"B2BOrderThresholdTimespanPermission"===this.model.orderApprovalPermissionType?.code}get isOrderThreshold(){return"B2BOrderThresholdPermission"===this.model.orderApprovalPermissionType?.code}get isExceedPermission(){return"B2BBudgetExceededPermission"===this.model.orderApprovalPermissionType?.code}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-limit-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["threshold",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,Lp,3,8,"a",0),e.YNc(1,Pp,3,3,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),jm=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-roles-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],[1,"text"],["class","li",3,"innerText",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"li",3,"innerText"]],template:function(t,s){if(1&t&&(e.YNc(0,Dp,3,8,"a",0),e.YNc(1,Bp,3,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.sg,g.O5,g.tP,h.yS,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),we=(()=>{class r extends B{get label(){if(void 0!==this.isActive)return this.isActive?"organization.enabled":"organization.disabled"}get isActive(){return this.model.active}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-status-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title","is-active",4,"ngIf"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,Mp,3,8,"a",0),e.YNc(1,Zp,1,1,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Le=(()=>{class r extends B{get property(){return this.model.unit?.name??this.model.orgUnit?.name}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,s){if(1&t&&(e.YNc(0,wp,3,8,"a",0),e.YNc(1,kp,2,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",s.linkable)("ngIfElse",o)}},dependencies:[g.O5,g.tP,h.yS,i.l2T],encapsulation:2,changeDetection:0}),r})();var v=(()=>{return(r=v||(v={})).BUDGET="orgBudget",r.BUDGET_ASSIGNED_COST_CENTERS="orgBudgetAssignedCostCenters",r.COST_CENTER="orgCostCenter",r.COST_CENTER_BUDGETS="orgCostCenterBudgets",r.COST_CENTER_ASSIGNED_BUDGETS="orgCostCenterAssignedBudgets",r.UNIT="orgUnit",r.UNIT_USERS="orgUnitUsers",r.UNIT_CHILDREN="orgUnitChildren",r.UNIT_APPROVERS="orgUnitApprovers",r.UNIT_ASSIGNED_APPROVERS="orgUnitAssignedApprovers",r.UNIT_ADDRESS="orgUnitAddress",r.UNIT_COST_CENTERS="orgUnitCostCenters",r.USER_GROUP="orgUserGroup",r.USER_GROUP_USERS="orgUserGroupUsers",r.USER_GROUP_ASSIGNED_USERS="orgUserGroupAssignedUsers",r.USER_GROUP_PERMISSIONS="orgUserGroupPermissions",r.USER_GROUP_ASSIGNED_PERMISSIONS="orgUserGroupAssignedPermissions",r.USER="orgUser",r.USER_APPROVERS="orgUserApprovers",r.USER_ASSIGNED_APPROVERS="orgUserAssignedApprovers",r.USER_PERMISSIONS="orgUserPermissions",r.USER_ASSIGNED_PERMISSIONS="orgUserAssignedPermissions",r.USER_USER_GROUPS="orgUserUserGroups",r.USER_ASSIGNED_USER_GROUPS="orgUserAssignedUserGroups",r.PERMISSION="orgPurchaseLimit",v;var r})();let rl=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(t,s){if(1&t&&(e.YNc(0,$p,28,28,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const o=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",s.model.name,"\n")}},dependencies:[g.O5,d.k5W,h.yS,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),Vm=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.budgetService=s,this.tableType=v.BUDGET_ASSIGNED_COST_CENTERS,this._domainType=v.COST_CENTER}load(t,s){return this.budgetService.getCostCenters(s).pipe((0,x.h)(o=>Boolean(o)),(0,p.U)(o=>this.filterSelected(o)))}filterSelected({pagination:t,sorts:s,values:o}){return{pagination:t,sorts:s,values:o.filter(c=>c.active)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(We))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Km=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-cost-center-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Vm}])],decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"cx-org-sub-list")},dependencies:[w],encapsulation:2,changeDetection:0}),r})(),ls=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.budgetService=s}getDetailsRoute(){return"orgBudgetDetails"}getParamKey(){return M.UY.budgetCode}getItem(t){return this.budgetService.get(t)}getError(t){return this.budgetService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(We))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xm=(()=>{class r extends ce{constructor(t){super(),this.datePickerService=t}build(){const t=new a.nJ({});t.setControl("code",new a.p4("",[a.kI.required,d.kal.noSpecialCharacters])),t.setControl("name",new a.p4("",a.kI.required)),t.setControl("startDate",new a.p4("",[a.kI.required,d.kal.patternValidation(s=>this.datePickerService.isValidFormat(s))])),t.setControl("endDate",new a.p4("",[a.kI.required,d.kal.patternValidation(s=>this.datePickerService.isValidFormat(s))])),t.setControl("budget",new a.p4("",[a.kI.required,d.kal.mustBePositive])),t.setControl("currency",new a.nJ({isocode:new a.p4(void 0,a.kI.required)})),t.setControl("orgUnit",new a.nJ({uid:new a.p4(void 0,a.kI.required)})),t.setValidators(d.kal.dateRange("startDate","endDate",s=>this.datePickerService.getDate(s))),this.form=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.Eo6))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ds=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.budgetService=c}load(t){return this.budgetService.loadBudget(t),this.budgetService.get(t)}update(t,s){return this.budgetService.update(t,s),this.budgetService.getLoadingStatus(s.code??"")}create(t){return this.budgetService.create(t),this.budgetService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgBudgetDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ls),e.LFG(i.Znh),e.LFG(Xm),e.LFG(We))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hm=(()=>{class r{constructor(t){this.itemService=t,this.isInEditMode$=this.itemService.isInEditMode$}ngOnInit(){this.model$=this.itemService.key$.pipe((0,f.w)(t=>this.itemService.load(t)),(0,he.O)({}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:ds}])],decls:2,vars:3,consts:[["i18nRoot","orgBudget.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgBudget.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgBudget"],["info","","i18nRoot","orgBudget"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,Yp,57,58,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.O5,te,h.yS,h.Od,tt,Fe,fe,d.RRe,g.Ov,i.l2T,i.X$D,i.dgE],encapsulation:2,changeDetection:0}),r})();function Nt(r,n){if(!n?.value){const t=r?.value?.replace(/\s+/g,"-").toLowerCase();n?.patchValue(t)}}let nl=(()=>{class r{constructor(t,s,o){this.itemService=t,this.unitService=s,this.currencyService=o,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,y.b)(c=>{c&&1===c.length&&this.form?.get("orgUnit.uid")?.setValue(c[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe((0,y.b)(c=>{1===c.length&&this.form?.get("currency.isocode")?.setValue(c[0]?.isocode)}))}ngOnInit(){this.unitService.loadList()}createCodeWithName(t,s){Nt(t,s)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F),e.Y36(i.ieQ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:ds},{provide:Y,useExisting:ls}])],decls:2,vars:1,consts:[["i18nRoot","orgBudget"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[1,"label-content"],[3,"control","max","required","update"],[3,"control","min","required","update"],[3,"formGroup"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["required","true","type","number","formControlName","budget","min","0",1,"form-control",3,"placeholder"],[3,"formGroup",4,"ngIf"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,Vp,42,54,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.O5,Ce,k.w9,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.qQ,a.sg,a.u,d.Ahv,d.Lr3,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})();const Wm={cmsComponents:{ManageBudgetsListComponent:{component:xe,providers:[{provide:T,useExisting:(()=>{class r extends T{constructor(t,s){super(t),this.tableService=t,this.budgetService=s,this.tableType=v.BUDGET}load(t){return this.budgetService.getList(t).pipe((0,x.h)(i.pTN),(0,p.U)(s=>this.convertBudgets(s)))}convertBudgets({pagination:t,sorts:s,values:o}){return{pagination:t,sorts:s,values:o.map(l=>({...l,currency:l.currency?.isocode,unit:l.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(We))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:C,useExisting:ds}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(ls))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:nl},{path:`:${M.UY.budgetCode}`,component:Hm,data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.details"}},children:[{path:"edit",component:nl},{path:"cost-centers",component:Km}]}]},guards:[i.a1M,Ge]}}};function ef(){return tf}const tf={table:{[v.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:nt},active:{dataComponent:we},amount:{dataComponent:Jm},dateRange:{dataComponent:Qm},unit:{dataComponent:Le}}}},[v.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:rl}},pagination:{pageSize:ae}}}}};let rf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,K]}),r})(),ke=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez]}),r})(),nf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,rt,ke,Ue,d.oPH]}),r})(),sf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,ge,k.A0,i.bhT,i.LUR,a.UX,d.Fym,et,d.I$v]}),r})(),of=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(Wm),(0,i.x2j)(ef)],imports:[kt,nf,sf,rf]}),r})(),sl=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(t,s){if(1&t&&(e.YNc(0,Xp,48,47,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const o=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",s.model.name,"\n")}},dependencies:[d.k5W,h.yS,i.X$D,i.dgE,i.l2T],encapsulation:2,changeDetection:0}),r})(),cf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,d.UUf,h.Bz,i.LUR,i.bhT]}),r})(),ol=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.costCenterService=s,this.budgetService=o,this.tableType=v.COST_CENTER_BUDGETS,this._domainType=v.BUDGET}load(t,s){return this.costCenterService.getBudgets(s,t)}assign(t,s){return this.costCenterService.assignBudget(t,s),this.budgetService.getLoadingStatus(s)}unassign(t,s){return this.costCenterService.unassignBudget(t,s),this.budgetService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Ft),e.LFG(We))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),af=(()=>{class r extends ol{constructor(){super(...arguments),this.tableType=v.COST_CENTER_ASSIGNED_BUDGETS}load(t,s){return super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),uf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-assigned-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:af}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),lf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:ol}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),df=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,i.LUR,h.Bz,K]}),r})(),ps=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.costCenterService=s}getParamKey(){return M.UY.costCenterCode}getItem(t){return this.costCenterService.get(t)}getError(t){return this.costCenterService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(Ft))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pf=(()=>{class r extends ce{build(){const t=new a.nJ({});t.setControl("code",new a.p4("",[a.kI.required,d.kal.noSpecialCharacters])),t.setControl("name",new a.p4("",a.kI.required)),t.setControl("currency",new a.nJ({isocode:new a.p4(void 0,a.kI.required)})),t.setControl("unit",new a.nJ({uid:new a.p4(void 0,a.kI.required)})),this.form=t}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),st=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.costCenterService=c}load(t){return this.costCenterService.load(t),this.costCenterService.get(t)}update(t,s){return this.costCenterService.update(t,s),this.costCenterService.getLoadingStatus(s.code??"")}create(t){return this.costCenterService.create(t),this.costCenterService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgCostCenterDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ps),e.LFG(i.Znh),e.LFG(pf),e.LFG(Ft))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gf=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,f.w)(s=>this.itemService.load(s)),(0,he.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:st}])],decls:2,vars:3,consts:[["i18nRoot","orgCostCenter.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgCostCenter.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgCostCenter"],["info","","i18nRoot","orgCostCenter"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,tg,43,47,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.O5,te,h.yS,h.Od,tt,Fe,fe,d.RRe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),gs=(()=>{class r{constructor(t,s,o){this.itemService=t,this.unitService=s,this.currencyService=o,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,y.b)(c=>{c&&1===c.length&&this.form?.get("unit.uid")?.setValue(c[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe((0,y.b)(c=>{1===c.length&&this.form?.get("currency.isocode")?.setValue(c[0]?.isocode)}))}set unitKey(t){t&&(this.form?.get("unit.uid")?.setValue(t),this.form?.get("unit")?.disable())}createCodeWithName(t,s){Nt(t,s)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F),e.Y36(i.ieQ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[e._Bn([{provide:C,useExisting:st},{provide:Y,useExisting:ps}])],decls:2,vars:1,consts:[["i18nRoot","orgCostCenter"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],["formGroupName","currency"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,rg,31,47,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.O5,Ce,k.w9,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,d.Ahv,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})();const mf={cmsComponents:{ManageCostCentersListComponent:{component:xe,providers:[{provide:T,useExisting:(()=>{class r extends T{constructor(t,s){super(t),this.tableService=t,this.costCenterService=s,this.tableType=v.COST_CENTER}load(t){return this.costCenterService.getList(t).pipe((0,x.h)(i.pTN),(0,p.U)(s=>this.convertCostCenters(s)))}convertCostCenters({pagination:t,sorts:s,values:o}){return{pagination:t,sorts:s,values:o.map(l=>({...l,currency:l.currency?.isocode}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Ft))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:C,useExisting:st}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(ps))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:gs},{path:`:${M.UY.costCenterCode}`,component:gf,data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.details"}},children:[{path:"edit",component:gs},{path:"budgets",data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.budgets"}},children:[{path:"",component:uf},{path:"assign",component:lf}]}]}]},guards:[i.a1M,Ge]}}};function ff(){return Uf}const Uf={table:{[v.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:nt},active:{dataComponent:we},currency:{dataComponent:B},unit:{dataComponent:Le}}}},[v.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:sl},actions:{dataComponent:ue}},pagination:{pageSize:ae}}},[v.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:sl},actions:{dataComponent:ue}}}}}};let hf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,rt,ke,Ue,d.oPH]}),r})(),_f=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[i.ieQ,F],imports:[g.ez,h.Bz,ge,k.A0,i.bhT,i.LUR,a.UX,d.Fym,et]}),r})(),vf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(mf),(0,i.x2j)(ff)],imports:[kt,hf,_f,df,cf]}),r})(),ms=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.permissionService=s}getParamKey(){return M.UY.permissionCode}getItem(t){return this.permissionService.get(t)}getError(t){return this.permissionService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(Re))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var le=(()=>{return(r=le||(le={})).ORDER="B2BOrderThresholdPermission",r.TIME_SPAN="B2BOrderThresholdTimespanPermission",r.EXCEEDED="B2BBudgetExceededPermission",le;var r})();let Sf=(()=>{class r extends ce{constructor(){super(...arguments),this.subscription=new ct.w}build(){const t=new a.nJ({});t.setControl("code",new a.p4("",[a.kI.required,d.kal.noSpecialCharacters])),t.setControl("orgUnit",new a.nJ({uid:new a.p4(void 0,a.kI.required)})),t.setControl("orderApprovalPermissionType",new a.nJ({code:new a.p4(void 0,a.kI.required)})),this.subscription.add(t.get("orderApprovalPermissionType")?.get("code")?.valueChanges.pipe((0,Ie.x)(),(0,x.h)(s=>!!s)).subscribe(s=>this.amend(t,s))),this.form=t}get defaultValue(){return{orderApprovalPermissionType:{code:le.EXCEEDED}}}amend(t,s){s===le.EXCEEDED&&(t.removeControl("periodRange"),t.removeControl("currency"),t.removeControl("threshold")),(s===le.TIME_SPAN||s===le.ORDER)&&(t.get("currency")||t.setControl("currency",new a.nJ({isocode:new a.p4(void 0,a.kI.required)})),t.get("threshold")||t.setControl("threshold",new a.p4("",a.kI.required))),s===le.ORDER&&t.removeControl("periodRange"),s===le.TIME_SPAN&&(t.get("periodRange")||t.setControl("periodRange",new a.p4("",a.kI.required)))}ngOnDestroy(){this.subscription.unsubscribe()}patchData(t){super.patchData(t),void 0!==t?.code&&this.form?.get("orderApprovalPermissionType")?.disable()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),fs=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.permissionService=c}load(t){return this.permissionService.loadPermission(t),this.permissionService.get(t)}update(t,s){return this.permissionService.update(t,s),this.permissionService.getLoadingStatus(s.code??"")}create(t){return this.permissionService.create(t),this.permissionService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgPurchaseLimitDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ms),e.LFG(i.Znh),e.LFG(Sf),e.LFG(Re))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Af=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,f.w)(s=>this.itemService.load(s)),(0,he.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:fs}])],decls:2,vars:3,consts:[["i18nRoot","orgPurchaseLimit.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgPurchaseLimit.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgPurchaseLimit",3,"disabled"],["info","","i18nRoot","orgPurchaseLimit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"],[1,"value",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,ag,35,40,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.O5,te,h.yS,tt,Fe,fe,d.RRe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Cf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,rt,ke,Ue,d.oPH]}),r})(),il=(()=>{class r{constructor(t,s,o,c){this.itemService=t,this.unitService=s,this.currencyService=o,this.permissionService=c,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,y.b)(l=>{l&&1===l.length&&this.form?.get("orgUnit.uid")?.setValue(l[0].id)})),this.currencies$=this.currencyService.getAll().pipe((0,y.b)(l=>{1===l.length&&this.form?.get("currency.isocode")?.setValue(l[0]?.isocode)})),this.types$=this.permissionService.getTypes(),this.periods=Object.keys(Mt)}ngOnInit(){this.unitService.loadList()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F),e.Y36(i.ieQ),e.Y36(Re))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:fs},{provide:Y,useExisting:ms}])],decls:2,vars:1,consts:[["i18nRoot","orgPurchaseLimit"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[3,"control"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","periodRange","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder",4,"ngIf"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder"],["type","number","required","","formControlName","threshold",1,"form-control",3,"placeholder"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,mg,21,30,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.O5,k.w9,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.sg,a.u,d.Ahv,Ce,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),xf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,k.A0,i.bhT,i.LUR,a.UX,d.Fym,ge,et]}),r})();const Lf={cmsComponents:{ManagePermissionsListComponent:{component:xe,providers:[{provide:T,useExisting:(()=>{class r extends T{constructor(t,s){super(t),this.tableService=t,this.permissionsService=s,this.tableType=v.PERMISSION}load(t){return this.permissionsService.getList(t).pipe((0,x.h)(i.pTN),(0,p.U)(s=>this.convertPermissions(s)))}convertPermissions({pagination:t,sorts:s,values:o}){return{pagination:t,sorts:s,values:o.map(l=>({...l,unit:l.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Re))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:C,useExisting:fs}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(ms))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:il},{path:`:${M.UY.permissionCode}`,component:Af,data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.details"}},children:[{path:"edit",component:il}]}]},guards:[i.a1M,Ge]}}};function Ef(){return yf}const yf={table:{[v.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:nt},active:{dataComponent:we},unit:{dataComponent:Le},limit:{dataComponent:Ym}}}}}};let If=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(Lf),(0,i.x2j)(Ef)],imports:[kt,Cf,xf]}),r})(),W=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.orgUnitService=s}getParamKey(){return M.UY.unitCode}getItem(t){return this.orgUnitService.get(t)}getError(t){return this.orgUnitService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),cl=(()=>{class r extends ce{patchData(t){this.toggleParentUnit(t),super.patchData(t)}build(){const t=new a.nJ({});t.setControl("uid",new a.p4("",[a.kI.required,d.kal.noSpecialCharacters])),t.setControl("name",new a.p4("",a.kI.required)),t.setControl("approvalProcess",new a.nJ({code:new a.p4(null)})),this.form=t,this.toggleParentUnit()}toggleParentUnit(t){this.isRootUnit(t)?this.form?.removeControl("parentOrgUnit"):this.form?.get("parentOrgUnit")||this.form?.setControl("parentOrgUnit",new a.nJ({uid:new a.p4(null,a.kI.required)}))}isRootUnit(t){return Boolean(t?.uid&&t?.name&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ne=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.unitService=c}load(t){return this.unitService.load(t),this.unitService.get(t)}update(t,s){return this.unitService.update(t,s),this.unitService.getLoadingStatus(s.uid??"")}create(t){return this.unitService.create(t),this.unitService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUnitDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(W),e.LFG(i.Znh),e.LFG(cl),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Pf=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,f.w)(s=>this.itemService.load(s)),(0,he.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:Ne}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.details",3,"cxFocus","showHint",4,"ngIf"],["i18nRoot","orgUnit.details",3,"cxFocus","showHint"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUnit"],["info","","i18nRoot","orgUnit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["main","",1,"link-list"],[4,"ngIf"],[1,"value",3,"routerLink"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,Eg,32,37,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.O5,te,h.yS,h.Od,tt,Fe,d.RRe,fe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Tf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,rt,ke,d.oPH,Ue]}),r})(),Us=(()=>{class r{constructor(t,s){this.itemService=t,this.unitService=s,this.i18nRoot="orgUnit",this.createChildUnit=!1,this.form=this.itemService.getForm(),this.units$=this.itemService.unit$.pipe((0,y.b)(o=>{this.form?.get("parentOrgUnit.uid")?.setValue(o),this.createChildUnit&&this.form?.get("parentOrgUnit")?.disable()}),(0,f.w)(()=>this.unitService.getActiveUnitList().pipe((0,p.U)(o=>o?.filter(c=>c.id!==this.form?.value.uid)),(0,y.b)(o=>{o&&1===o.length&&this.form?.get("parentOrgUnit.uid")?.setValue(o[0]?.id)})))),this.approvalProcess$=this.unitService.getApprovalProcesses().pipe((0,x.h)(i.pTN),(0,x.h)(o=>o.length>0))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,s){Nt(t,s)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",createChildUnit:"createChildUnit"},features:[e._Bn([{provide:C,useExisting:Ne},{provide:Y,useExisting:W}])],decls:2,vars:2,consts:[[3,"i18nRoot"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],["formGroupName","approvalProcess",1,"full-width"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","items","placeholder"],[4,"ngIf","ngIfElse"],["parentOrgUnitNotes",""],["formGroupName","parentOrgUnit"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[1,"notes-content"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,Pg,26,30,"ng-container",1),e.qZA()),2&t&&(e.Q6J("i18nRoot",s.i18nRoot),e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.O5,Ce,k.w9,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,d.Ahv,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Df=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,ge,k.A0,i.bhT,i.LUR,a.UX,d.Fym,et]}),r})(),al=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.unitService=s,this.item$=this.b2bUnit$.pipe((0,x.h)(o=>Boolean(o)),(0,f.w)(o=>this.key$.pipe((0,f.w)(c=>this.getItem(o,c)))))}getDetailsRoute(){return"orgUnitAddressDetails"}getParamKey(){return M.UY.addressCode}getItem(t,s){return s?this.unitService.getAddress(t,s):(0,I.of)(void 0)}getError(t){return this.unitService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ul=(()=>{class r extends ce{constructor(t,s){super(),this.userAddressService=t,this.userProfileFacade=s}build(){const t=new a.nJ({});t.setControl("id",new a.p4("")),t.setControl("titleCode",new a.p4("")),t.setControl("firstName",new a.p4("",a.kI.required)),t.setControl("lastName",new a.p4("",a.kI.required)),t.setControl("line1",new a.p4("",a.kI.required)),t.setControl("line2",new a.p4("")),t.setControl("town",new a.p4("",a.kI.required)),t.setControl("country",new a.nJ({isocode:new a.p4(null,a.kI.required)})),t.setControl("region",new a.nJ({isocode:new a.p4(null,a.kI.required)})),t.setControl("postalCode",new a.p4("",a.kI.required)),t.setControl("phone",new a.p4("")),this.form=t}getCountries(){return this.userAddressService.getDeliveryCountries().pipe((0,y.b)(t=>{0===Object.keys(t).length&&this.userAddressService.loadDeliveryCountries()}))}getTitles(){return this.userProfileFacade.getTitles()}getRegions(){let s,t=this.form?.get("country.isocode")?.value;return this.getForm()?.get("country.isocode")?.valueChanges.pipe((0,x.h)(o=>Boolean(o)),(0,f.w)(o=>(s=o,this.userAddressService.getRegions(o))),(0,y.b)(o=>{const c=this.form?.get("region.isocode");o&&0!==o.length?c?.enable():c?.disable(),t&&s!==t&&c?.reset(),t=s}))??(0,I.of)([])}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.kFJ),e.LFG(Yu.aT))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ll=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.unitService=c,this.unitRouteParam$=this.routingService.getParams().pipe((0,ot.j)(M.UY.unitCode),(0,Ie.x)())}load(t,s){return this.unitService.getAddress(t,s).pipe((0,x.h)(i.pTN))}update(t,s){return this.unitRouteParam$.pipe((0,ne.P)()).subscribe(o=>{this.unitService.updateAddress(o,t,s)}),this.unitService.getAddressLoadingStatus(t)}create(t){return this.unitRouteParam$.pipe((0,ne.P)()).subscribe(s=>this.unitService.createAddress(s,t)),this.unitService.getAddressLoadingStatus(t.id??"")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}delete(t,s){return this.launchList(),this.unitService.deleteAddress(s,t),this.unitService.getAddressLoadingStatus(t)}launchDetails(t){t.id?this.unitRouteParam$.pipe((0,ne.P)()).subscribe(s=>{this.routingService.go({cxRoute:this.getDetailsRoute(),params:{...t,uid:s}})}):this.launchList()}launchList(){this.unitRouteParam$.pipe((0,ne.P)()).subscribe(t=>{this.routingService.go({cxRoute:"orgUnitAddressList",params:{uid:t}})})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(al),e.LFG(i.Znh),e.LFG(ul),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bf=(()=>{class r{constructor(t,s,o){this.itemService=t,this.currentUnitService=s,this.userAddressService=o,this.unit$=this.currentUnitService.item$,this.model$=this.itemService.key$.pipe((0,Es.M)(this.unit$),(0,f.w)(([c,l])=>this.itemService.load(l?.uid,c)),(0,ys.d)({bufferSize:1,refCount:!0}))}getCountry(t){return this.userAddressService.getDeliveryCountries().pipe((0,y.b)(s=>{0===Object.keys(s).length&&this.userAddressService.loadDeliveryCountries()}),(0,p.U)(s=>s.find(o=>o.isocode===t)))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(W),e.Y36(i.kFJ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:ll}])],decls:2,vars:3,consts:[[4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus",4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus"],["actions","","routerLink","edit",1,"link"],["actions","","key","id","i18nRoot","orgUnitAddress",3,"additionalParam"],["main","",1,"details"],[1,"property"],[1,"value"],[3,"routerLink"],[1,"property","full-width"]],template:function(t,s){1&t&&(e.YNc(0,Dg,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.unit$))},dependencies:[g.O5,te,h.yS,el,d.RRe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Gf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,tl,d.oPH]}),r})(),Bf=(()=>{class r extends B{constructor(t,s){super(t),this.outlet=t,this.itemService=s,this.unitKey$=this.itemService.key$}get tabIndex(){return 0}getRouterModel(t){return{...this.outlet.context,uid:t}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.WCT),e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-link-cell"]],features:[e.qOj],decls:4,vars:3,consts:[[4,"ngIf"],["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,s){1&t&&(e.YNc(0,Bg,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Rg,2,2,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.unitKey$))},dependencies:[g.O5,g.tP,h.yS,g.Ov,i.l2T],encapsulation:2,changeDetection:0}),r})(),Rf=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.orgUnitService=s,this.tableType=v.UNIT_ADDRESS,this._domainType=v.UNIT_ADDRESS}load(t,s){return this.orgUnitService.getAddresses(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Mf=(()=>{class r{constructor(){this.routerKey=M.UY.addressCode}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Rf}])],decls:4,vars:5,consts:[["key","id",1,"has-nested-view",3,"routerKey","showHint"],["actions","","routerLink","create",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("routerKey",s.routerKey)("showHint",!0),e.xp6(2),e.hij(" ",e.lcZ(3,3,"organization.create")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),Of=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,h.Bz,i.bhT,K]}),r})(),dl=(()=>{class r{constructor(t,s,o){this.itemService=t,this.formService=s,this.currentUnitService=o,this.form=this.itemService.getForm(),this.key$=this.itemService.key$,this.countries$=this.formService.getCountries(),this.titles$=this.formService.getTitles(),this.regions$=this.formService.getRegions(),this.unit$=this.currentUnitService.item$}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(ul),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:ll}])],decls:5,vars:12,consts:[["i18nRoot","orgUnitAddress",3,"animateBack","subtitle"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],["formGroupName","country"],[1,"label-content","required"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"control"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],[1,"full-width"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],[4,"ngIf"],["class","full-width","formGroupName","region",4,"ngIf"],["formGroupName","region",1,"full-width"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"region-select",3,"inputAttrs","searchable","clearable","items","placeholder"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.ALo(1,"async"),e.ALo(2,"cxTranslate"),e.ALo(3,"async"),e.YNc(4,Zg,66,76,"ng-container",1),e.qZA()),2&t&&(e.Q6J("animateBack",!e.lcZ(1,3,s.key$))("subtitle",e.xi3(2,5,"orgUnitAddress.details.subtitle",e.VKq(10,wt,e.lcZ(3,8,s.unit$)))),e.xp6(4),e.Q6J("ngIf",s.form))},dependencies:[g.O5,Ce,k.w9,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,d.Ahv,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Zf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,ge,k.A0,i.bhT,i.LUR,a.UX,d.Fym]}),r})(),Ff=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Of,Gf,Zf]}),r})(),pl=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.unitService=s,this.userService=o,this.tableType=v.UNIT_APPROVERS,this._domainType=v.USER}load(t,s){return this.unitService.getUsers(s,i.KOx.APPROVER,t)}assign(t,s){return this.unitService.assignApprover(t,s,i.KOx.APPROVER),this.userService.getLoadingStatus(s)}unassign(t,s){return this.unitService.unassignApprover(t,s,i.KOx.APPROVER),this.userService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wf=(()=>{class r extends pl{constructor(){super(...arguments),this.tableType=v.UNIT_ASSIGNED_APPROVERS}load(t,s){return this.unitService.clearAssignedUsersList(s,i.KOx.APPROVER,t),super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:wf}])],decls:4,vars:4,consts:[[3,"showHint"],["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("showHint",!0),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),Nf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:pl}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),qf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[i.LUR,h.Bz,K]}),r})(),$f=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.orgUnitService=s,this.tableType=v.UNIT_CHILDREN,this._domainType=v.UNIT}load(t,s){return this.orgUnitService.getChildUnits(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),zf=(()=>{class r{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,I.of)({active:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-children"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:$f}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitChildren",3,"displayInfoConfig"]],template:function(t,s){if(1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e.ALo(2,"async"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-disable-info",2),e.qZA()),2&t){let o;e.Q6J("showHint",!0),e.xp6(1),e.ekj("disabled",!(null!=(o=e.lcZ(2,5,s.unit$))&&o.active)),e.xp6(2),e.hij(" ",e.lcZ(4,7,"organization.create")," "),e.xp6(2),e.Q6J("displayInfoConfig",e.DdM(9,as))}},dependencies:[h.yS,w,fe,i.X$D,g.Ov],encapsulation:2,changeDetection:0}),r})(),Jf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,i.LUR,h.Bz,K,g.ez,Ue]}),r})(),Qf=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.unitService=s,this.tableType=v.UNIT_COST_CENTERS,this._domainType=v.COST_CENTER}load(t,s){return this.unitService.getCostCenters(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yf=(()=>{class r{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,I.of)({active:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cost-centers"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Qf}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitCostCenters",3,"displayInfoConfig"]],template:function(t,s){if(1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e.ALo(2,"async"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-disable-info",2),e.qZA()),2&t){let o;e.Q6J("showHint",!0),e.xp6(1),e.ekj("disabled",!(null!=(o=e.lcZ(2,5,s.unit$))&&o.active)),e.xp6(2),e.hij(" ",e.lcZ(4,7,"organization.create")," "),e.xp6(2),e.Q6J("displayInfoConfig",e.DdM(9,as))}},dependencies:[h.yS,w,fe,i.X$D,g.Ov],encapsulation:2,changeDetection:0}),r})(),jf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[i.LUR,h.Bz,K,g.ez,Ue]}),r})(),Vf=(()=>{class r extends B{constructor(t,s){super(t),this.outlet=t,this.itemService=s,this.unitKey$=this.itemService.key$}getRouterModel(t){return{...this.outlet.context,uid:t}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.WCT),e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-link-cell"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,wg,4,8,"a",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",s.hasItem&&e.lcZ(1,1,s.unitKey$))},dependencies:[g.O5,h.yS,g.Ov,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),Kf=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.unitService=s,this.tableType=v.UNIT_USERS,this._domainType=v.USER}load(t,s){return this.unitService.getUsers(s,i.KOx.CUSTOMER,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xf=(()=>{class r{constructor(t){this.currentUnitService=t,this.routerKey=M.UY.userCode,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,I.of)({active:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Kf}])],decls:6,vars:11,consts:[["key","customerId",3,"routerKey","showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitUsers",3,"displayInfoConfig"]],template:function(t,s){if(1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e.ALo(2,"async"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-disable-info",2),e.qZA()),2&t){let o;e.Q6J("routerKey",s.routerKey)("showHint",!0),e.xp6(1),e.ekj("disabled",!(null!=(o=e.lcZ(2,6,s.unit$))&&o.active)),e.xp6(2),e.hij(" ",e.lcZ(4,8,"organization.create")," "),e.xp6(2),e.Q6J("displayInfoConfig",e.DdM(10,as))}},dependencies:[h.yS,w,fe,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Hf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,h.Bz,i.bhT,K,Ue]}),r})(),Wf=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.b2bUserService=s}getDetailsRoute(){return"orgUnitUserList"}getParamKey(){return M.UY.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gl=(()=>{class r extends ce{constructor(t){super(),this.userService=t,this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}getForm(t){return this.form=null,super.getForm(t)}build(){const t=new a.nJ({});this.availableRoles.forEach(s=>t.addControl(s,new a.p4)),this.availableRights.forEach(s=>t.addControl(s,new a.p4)),this.form=t}patchData(t){super.patchData(t),t&&t.roles?.forEach(s=>{this.form?.get(s)?.setValue(!0)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eU=(()=>{class r extends C{constructor(t,s,o,c,l){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.unitService=c,this.b2bUserService=l}save(t,s){return t.get("orgUnit")?.enable(),super.save(t,s)}load(t){return this.b2bUserService.get(t)}update(t,s){return this.b2bUserService.getLoadingStatus(t)}create(t){return this.b2bUserService.getLoadingStatus("")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Wf),e.LFG(i.Znh),e.LFG(gl),e.LFG(F),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hs=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.b2bUserService=s,this.name$=this.item$.pipe((0,p.U)(o=>o?.name))}getParamKey(){return M.UY.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),tU=(()=>{class r extends ce{build(){const t=new a.nJ({});t.setControl("customerId",new a.p4("")),t.setControl("titleCode",new a.p4("")),t.setControl("firstName",new a.p4("",a.kI.required)),t.setControl("lastName",new a.p4("",a.kI.required)),t.setControl("email",new a.p4("",[a.kI.required,d.kal.emailValidator])),t.setControl("orgUnit",new a.nJ({uid:new a.p4(void 0,a.kI.required)})),t.setControl("roles",new a.vC([])),t.setControl("isAssignedToApprovers",new a.p4(!1)),t.get("roles")?.valueChanges.subscribe(s=>{s.includes(i.KOx.APPROVER)?t.get("isAssignedToApprovers")?.enable():(t.get("isAssignedToApprovers")?.disable(),t.get("isAssignedToApprovers")?.reset())}),this.form=t}patchData(t){if(super.patchData(t),t){const s=this.form?.get("roles");t.roles?.forEach(o=>{s.value.includes(o)||s.push(new a.p4(o))})}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ee=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.userService=c}load(t){return this.userService.load(t),this.userService.get(t)}update(t,s){return delete s.approvers,this.userService.update(t,s),this.userService.getLoadingStatus(t)}create(t){return this.userService.create(t),this.userService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserDetails"}launchDetails(t){null!==t.customerId&&super.launchDetails(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(hs),e.LFG(i.Znh),e.LFG(tU),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rU=(()=>{class r{constructor(t,s,o,c){this.itemService=t,this.formService=s,this.userService=o,this.userItemService=c,this.form$=this.itemService.current$.pipe((0,y.b)(l=>{this.item||(this.item=l),this.item?.roles?.join()!==l?.roles?.join()&&(this.item={...this.item,...l})}),(0,p.U)(l=>this.formService.getForm(l))),this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}save(t){t.disable();const s=[...this.availableRoles,...this.availableRights].filter(o=>!!t.get(o)?.value);this.userItemService.update(this.item?.customerId??"",{roles:s}).pipe((0,de.q)(1),(0,x.h)(o=>o.status===X.SUCCESS)).subscribe(o=>{this.notify({...this.item,...o.item}),t.enable()})}notify(t){this.messageService.add({message:{key:"orgUnitUserRoles.messages.rolesUpdated",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(gl),e.Y36($),e.Y36(Ee))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-roles"]],viewQuery:function(t,s){if(1&t&&e.Gf(q,5,q),2&t){let o;e.iGM(o=e.CRH())&&(s.messageService=o.first)}},hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:eU}])],decls:2,vars:3,consts:[[3,"submit",4,"ngIf"],[3,"submit"],["i18nRoot","orgUnitUserRoles",3,"previous","cxFocus"],["card",""],["actions","","routerLink","../../"],[3,"click"],["main","",1,"details",3,"formGroup"],[1,"full-width"],[1,"label-content","required"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",3,"formControlName","change"],[1,"form-check-label"]],template:function(t,s){1&t&&(e.YNc(0,qg,18,16,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.form$))},dependencies:[g.sg,g.O5,te,a._Y,a.Wl,a.JJ,a.JL,a.F,h.yS,a.sg,a.u,d.RRe,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),nU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,a.u5,h.Bz,i.bhT,i.LUR,a.UX,d.oPH]}),r})(),sU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Hf,nU]}),r})();var j=(()=>{return(r=j||(j={}))[r.EXPANDED=0]="EXPANDED",r[r.COLLAPSED=1]="COLLAPSED",j;var r})();let _s=(()=>{class r{constructor(){this.minimalExpanded=1,this.globalToggle$=new it.X(void 0),this.treeToggle$=new it.X(new Map)}initialize(t,s){s&&this.expandUntilActiveNode(t,s)}collapseAll(){this.globalToggle$.next(j.COLLAPSED),this.treeToggle$.next(new Map)}expandAll(){this.globalToggle$.next(j.EXPANDED),this.treeToggle$.next(new Map)}isExpanded(t,s){const o=this.treeToggle$.value?.get(t);return(this.globalToggle$.value!==j.COLLAPSED||o===j.EXPANDED)&&(o===j.EXPANDED||(this.globalToggle$.value===j.EXPANDED||s<this.minimalExpanded)&&o!==j.COLLAPSED)}toggle(t){const s=this.treeToggle$.value;s.set(t.id??"",this.isExpanded(t.id??"",t.depthLevel)?j.COLLAPSED:j.EXPANDED),this.treeToggle$.next(s)}expandUntilActiveNode(t,s){const o=(u,U)=>!!u.children?.find(L=>L.id===U||o(L,U)),c=(u,U=[])=>(o(u,s)&&U.push(u.id??""),u.children?.forEach(L=>{c(L,U)}),U),l=this.treeToggle$.value;c(t).forEach(u=>{l.get(u)!==j.EXPANDED&&l.set(u,j.EXPANDED)}),l!==this.treeToggle$.value&&this.treeToggle$.next(l)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),oU=(()=>{class r{constructor(t){this.unitTreeService=t}expandAll(){this.unitTreeService.expandAll()}collapseAll(){this.unitTreeService.collapseAll()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-list"]],decls:8,vars:6,consts:[["actions",""],[1,"link",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-list"),e.ynx(1,0),e.TgZ(2,"button",1),e.NdJ("click",function(){return s.expandAll()}),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",1),e.NdJ("click",function(){return s.collapseAll()}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.BQk(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"orgUnit.tree.expandAll")," "),e.xp6(3),e.hij(" ",e.lcZ(7,4,"orgUnit.tree.collapseAll")," "))},dependencies:[xe,i.X$D],encapsulation:2,changeDetection:0}),r})(),iU=(()=>{class r extends B{constructor(t,s){super(t),this.outlet=t,this.unitTreeService=s}get depthLevel(){return this.model.depthLevel}get combinedName(){return this.property?`${this.property} (${this.count})`:""}get tabIndex(){return 0}get expanded(){return this.model.expanded}get count(){return this.model.count}toggleItem(t){t.preventDefault(),t.stopPropagation(),this.unitTreeService.toggle(this.model)}get isSwitchable(){return this.count>0}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;const{_field:t,_options:s,_type:o,_i18nRoot:c,...l}=this.outlet.context;return l}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.WCT),e.Y36(_s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-toggle-link-cell"]],hostVars:2,hostBindings:function(t,s){2&t&&e.Udp("--cx-depth-level",s.depthLevel)},features:[e.qOj],decls:1,vars:1,consts:[["class","hide-focus-border",3,"routerLink","tabIndex",4,"ngIf"],[1,"hide-focus-border",3,"routerLink","tabIndex"],["class","button tree-item-toggle","type","button",3,"click",4,"ngIf"],[1,"text",3,"title"],["type","button",1,"button","tree-item-toggle",3,"click"],[3,"type"]],template:function(t,s){1&t&&e.YNc(0,zg,5,10,"a",0),2&t&&e.Q6J("ngIf",s.hasItem)},dependencies:[g.O5,h.yS,d.oJW,i.l2T],encapsulation:2,changeDetection:0}),r})(),cU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,i.bhT,i.LUR,d.QX1,me]}),r})(),ye=(()=>{class r extends B{constructor(t,s){super(s),this.b2bUserService=t,this.outlet=s,this.availableRoles=this.b2bUserService.getAllRoles().map(o=>o.toString()),this.availableRights=this.b2bUserService.getAllRights().map(o=>o.toString()),this.b2bUserModel=super.model}hasRight(t){return(t.roles??[]).some(s=>this.availableRights.includes(s))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($),e.Y36(d.WCT))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-details-cell"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"property","full-width"],[1,"value"],[4,"ngFor","ngForOf"],["class","property",4,"ngIf"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(t,s){1&t&&e.YNc(0,em,5,4,"ng-container",0),2&t&&e.Q6J("ngIf",s.b2bUserModel)},dependencies:[g.sg,g.O5,d.k5W,h.yS,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),aU=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(t,s){if(1&t&&(e.YNc(0,nm,22,24,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const o=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",s.model.name,"\n")}},dependencies:[g.O5,d.k5W,h.yS,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),uU=(()=>{class r extends W{getParamKey(){return"childUnitCode"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lU=(()=>{class r extends Ne{constructor(t,s,o,c){super(t,s,o,c),this.currentItemService=t,this.routingService=s,this.formService=o,this.unitService=c}save(t,s){return t.get("parentOrgUnit")?.enable(),super.save(t,s)}getDetailsRoute(){return"orgUnitChildren"}buildRouteParams(t){return{uid:t.parentOrgUnit?.uid}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(uU),e.LFG(i.Znh),e.LFG(cl),e.LFG(F))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dU=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-child-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Ne,useExisting:lU}])],decls:1,vars:1,consts:[["i18nRoot","orgUnit.children",3,"createChildUnit"]],template:function(t,s){1&t&&e._UZ(0,"cx-org-unit-form",0),2&t&&e.Q6J("createChildUnit",!0)},dependencies:[Us],encapsulation:2,changeDetection:0}),r})(),pU=(()=>{class r extends st{save(t,s){return t.get("unit")?.enable(),super.save(t,s)}getDetailsRoute(){return"orgUnitCostCenters"}buildRouteParams(t){return{uid:t.unit?.uid}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gU=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cost-center-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:st,useExisting:pU}])],decls:2,vars:3,consts:[[3,"unitKey"]],template:function(t,s){1&t&&(e._UZ(0,"cx-org-cost-center-form",0),e.ALo(1,"async")),2&t&&e.Q6J("unitKey",e.lcZ(1,1,s.unitKey$))},dependencies:[gs,g.Ov],encapsulation:2,changeDetection:0}),r})(),mU=(()=>{class r extends Ee{save(t,s){return t.get("orgUnit")?.enable(),super.save(t,s)}getDetailsRoute(){return"orgUnitUserList"}buildRouteParams(t){return{uid:t.orgUnit?.uid}}launchDetails(t){const s=this.getDetailsRoute(),o=this.buildRouteParams(t);s&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:s,params:o})}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vs=(()=>{class r{constructor(t,s,o,c){this.itemService=t,this.unitService=s,this.userProfileFacade=o,this.b2bUserService=c,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,y.b)(l=>{l&&1===l.length&&this.form?.get("orgUnit.uid")?.setValue(l[0]?.id)})),this.titles$=this.userProfileFacade.getTitles(),this.availableRoles=this.b2bUserService.getAllRoles(),this.availableRights=this.b2bUserService.getAllRights()}set unitKey(t){t&&(this.form?.get("orgUnit.uid")?.setValue(t),this.form?.get("orgUnit")?.disable())}ngOnInit(){this.unitService.loadList()}updateRoles(t){const{checked:s,value:o}=t.target;s?this.roles.push(new a.p4(o)):this.roles.removeAt(this.roles.value.indexOf(o))}get roles(){return this.form?.get("roles")}get isAssignedToApprovers(){return this.form?.get("isAssignedToApprovers")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F),e.Y36(Yu.aT),e.Y36($))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[e._Bn([{provide:C,useExisting:Ee},{provide:Y,useExisting:hs}])],decls:2,vars:1,consts:[["i18nRoot","orgUser"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],[3,"control"],["type","text","required","","formControlName","firstName",1,"form-control",3,"placeholder"],["type","text","required","","formControlName","lastName",1,"form-control",3,"placeholder"],["type","email","required","","formControlName","email",1,"form-control",3,"placeholder"],["required","true","formArrayName","roles",1,"full-width"],["class","form-check",4,"ngFor","ngForOf"],["required","true",1,"full-width"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["class","full-width",4,"ngIf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","checked","disabled","change"],[1,"form-check-label"],[1,"full-width"],["type","checkbox","formControlName","isAssignedToApprovers",1,"form-check-input"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,cm,49,58,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.sg,g.O5,Ce,k.w9,a.Fj,a.Wl,a.JJ,a.JL,a.Q7,a.sg,a.u,a.CE,d.Ahv,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),fU=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Ee,useExisting:mU}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.users",3,"unitKey"]],template:function(t,s){1&t&&(e._UZ(0,"cx-org-user-form",0),e.ALo(1,"async")),2&t&&e.Q6J("unitKey",e.lcZ(1,1,s.unitKey$))},dependencies:[vs,g.Ov],encapsulation:2,changeDetection:0}),r})(),UU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,ge,k.A0,i.bhT,i.LUR,a.UX,d.Fym]}),r})(),hU=(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(al))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const _U={cmsComponents:{ManageUnitsListComponent:{component:oU,providers:[{provide:T,useExisting:(()=>{class r extends T{constructor(t,s,o,c){super(t),this.tableService=t,this.unitService=s,this.unitItemService=o,this.unitTreeService=c,this.tableType=v.UNIT}load(){return this.unitService.getTree().pipe((0,f.w)(t=>this.unitItemService.key$.pipe((0,p.U)(s=>(t&&this.unitTreeService.initialize(t,s),t)))),(0,f.w)(t=>this.unitTreeService.treeToggle$.pipe((0,p.U)(()=>t))),(0,p.U)(t=>this.convertListItem(t)))}convertListItem(t,s=0,o={totalResults:0}){let c=[];if(!t)return;const l={...t,count:t.children?.length??0,expanded:this.unitTreeService.isExpanded(t.id??"",s),depthLevel:s,uid:t.id??"",children:[...t.children??[]].sort((u,U)=>(u.name??"").localeCompare(U.name??""))};return c.push(l),o.totalResults++,l.children?.forEach(u=>{const U=this.convertListItem(u,s+1,o)?.values;l.expanded&&U&&U.length>0&&(c=c.concat(U))}),{values:c,pagination:o}}key(){return"uid"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(F),e.LFG(Ne),e.LFG(_s))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:C,useExisting:Ne}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(W))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:Us},{path:`:${M.UY.unitCode}`,component:Pf,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.details"}},children:[{path:"edit",component:Us},{path:"children",component:zf,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.children"}},children:[{path:"create",component:dU}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.approvers"}},children:[{path:"",component:kf},{path:"assign",component:Nf}]},{path:"users",component:Xf,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.users"}},children:[{path:"create",component:fU},{path:`:${M.UY.userCode}/roles`,component:rU}]},{path:"cost-centers",component:Yf,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.costCenters"}},children:[{path:"create",component:gU}]},{path:"addresses",component:Mf,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addresses",resolver:hU}},children:[{path:"create",component:dl},{path:`:${M.UY.addressCode}`,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addressDetails"}},children:[{path:"",component:bf},{path:"edit",component:dl}]}]}]}]},guards:[i.a1M,Ge]}}};function vU(){return SU}const SU={table:{[v.UNIT]:{cells:["name"],options:{layout:d.dfC.VERTICAL,cells:{name:{dataComponent:iU},active:{dataComponent:we},uid:{dataComponent:B}}},[d.Bst.lg]:{cells:["name","active","uid"]}},[v.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:ae},cells:{name:{dataComponent:ye},roles:{dataComponent:Vf}}}},[v.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:ae},cells:{name:{dataComponent:aU},active:{dataComponent:we,linkable:!1}}}},[v.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:ye},actions:{dataComponent:ue},orgUnit:{dataComponent:Le,linkable:!1}}}},[v.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:ae},cells:{name:{dataComponent:ye},actions:{dataComponent:ue},orgUnit:{dataComponent:Le,linkable:!1}}}},[v.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:rl}},pagination:{pageSize:ae}}},[v.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:ae},cells:{formattedAddress:{dataComponent:Bf}}}}}};let AU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(_U),(0,i.x2j)(vU)],imports:[h.Bz,cU,Tf,Df,Jf,qf,sU,jf,Ff]}),r})(),Ss=(()=>{class r extends Y{constructor(t,s){super(t),this.routingService=t,this.userGroupService=s}getParamKey(){return M.UY.userGroupCode}getItem(t){return this.userGroupService.get(t)}getError(t){return this.userGroupService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(Me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),CU=(()=>{class r extends ce{build(){const t=new a.nJ({});t.setControl("uid",new a.p4("",[a.kI.required,d.kal.noSpecialCharacters])),t.setControl("name",new a.p4("",a.kI.required)),t.setControl("orgUnit",new a.nJ({uid:new a.p4(void 0,a.kI.required)})),this.form=t}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),As=(()=>{class r extends C{constructor(t,s,o,c){super(t,s,o),this.currentItemService=t,this.routingService=s,this.formService=o,this.userGroupService=c}load(t){return this.userGroupService.load(t),this.userGroupService.get(t)}update(t,s){return this.userGroupService.update(t,s),this.userGroupService.getLoadingStatus(s.uid??"")}delete(t){return this.launchList(),this.userGroupService.delete(t),this.userGroupService.getLoadingStatus(t)}create(t){return this.userGroupService.create(t),this.userGroupService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserGroupDetails"}launchList(){this.routingService.go({cxRoute:"orgUserGroup"})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ss),e.LFG(i.Znh),e.LFG(CU),e.LFG(Me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xU=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,f.w)(s=>this.itemService.load(s)),(0,he.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:As}])],decls:2,vars:3,consts:[["i18nRoot","orgUserGroup.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUserGroup.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUserGroup"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],[4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,pm,29,33,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.O5,te,h.yS,h.Od,el,Fe,d.RRe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),LU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,tl,ke,d.oPH]}),r})(),ml=(()=>{class r{constructor(t,s){this.itemService=t,this.unitService=s,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,y.b)(o=>{o&&1===o.length&&this.form?.get("orgUnit.uid")?.setValue(o[0]?.id)}))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,s){Nt(t,s)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:As}])],decls:2,vars:1,consts:[["i18nRoot","orgUserGroup"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,gm,23,31,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.form))},dependencies:[g.O5,k.w9,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,d.Ahv,Ce,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),EU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,k.A0,i.bhT,i.LUR,a.UX,d.Fym,ge]}),r})(),fl=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.userGroupService=s,this.permissionService=o,this.tableType=v.USER_GROUP_PERMISSIONS,this._domainType=v.PERMISSION}load(t,s){return this.userGroupService.getAvailableOrderApprovalPermissions(s,t)}assign(t,s){return this.userGroupService.assignPermission(t,s),this.permissionService.getLoadingStatus(s)}unassign(t,s){return this.userGroupService.unassignPermission(t,s),this.permissionService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Me),e.LFG(Re))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yU=(()=>{class r extends fl{constructor(){super(...arguments),this.tableType=v.USER_GROUP_ASSIGNED_PERMISSIONS}load(t,s){return super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),IU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:yU}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),PU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:fl}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),TU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,h.Bz,K]}),r})(),qt=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"]],template:function(t,s){if(1&t&&(e.YNc(0,_m,28,27,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const o=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",s.model.code,"\n")}},dependencies:[g.O5,d.k5W,h.yS,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),DU=(()=>{class r extends T{constructor(t,s){super(t),this.tableService=t,this.userGroupService=s,this.tableType=v.USER_GROUP}key(){return"uid"}load(t){return this.userGroupService.getList(t).pipe((0,x.h)(i.pTN),(0,p.U)(s=>this.convertUserGroups(s)))}convertUserGroups({pagination:t,sorts:s,values:o}){return{pagination:t,sorts:s,values:o.map(l=>({...l,unit:l.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bU=(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(Ss))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Cs=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.userGroupService=s,this.userService=o,this.tableType=v.USER_GROUP_USERS,this._domainType=v.USER}load(t,s){return this.userGroupService.getAvailableOrgCustomers(s,t)}assign(t,s){return this.userGroupService.assignMember(t,s),this.userService.getLoadingStatus(s)}unassign(t,s){return this.userGroupService.unassignMember(t,s),this.userService.getLoadingStatus(s)}unassignAllMembers(t){return this.userGroupService.unassignAllMembers(t),this.userGroupService.getLoadingStatus(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG(Me),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),GU=(()=>{class r extends Cs{constructor(){super(...arguments),this.tableType=v.USER_GROUP_ASSIGNED_USERS}load(t,s){return super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const MU={cmsComponents:{ManageUserGroupsListComponent:{component:xe,providers:[{provide:T,useExisting:DU},{provide:C,useExisting:As}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.list",resolver:bU}}},children:[{path:"create",component:ml},{path:`:${M.UY.userGroupCode}`,component:xU,data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.details"}},children:[{path:"edit",component:ml},{path:"users",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.users"}},children:[{path:"",component:(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-assigned-user-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:GU}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})()},{path:"assign",component:(()=>{class r{constructor(t,s){this.currentUserGroupService=t,this.userGroupUserListService=s}unassignAll(){this.currentUserGroupService.key$.pipe((0,ne.P)(),(0,f.w)(t=>this.userGroupUserListService.unassignAllMembers(t).pipe((0,de.q)(1),(0,x.h)(s=>s.status===X.SUCCESS)))).subscribe(t=>{this.notify(t.item)})}notify(t){this.subList.messageService.add({message:{key:"orgUserGroupUsers.unassignAllConfirmation",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ss),e.Y36(Cs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-user-list"]],viewQuery:function(t,s){if(1&t&&e.Gf(vm,5),2&t){let o;e.iGM(o=e.CRH())&&(s.subList=o.first)}},hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Cs}])],decls:8,vars:7,consts:[[3,"previous"],["subList",""],["actions","",1,"link",3,"click"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0,1)(2,"button",2),e.NdJ("click",function(){return s.unassignAll()}),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(3),e.hij(" ",e.lcZ(4,3,"orgUserGroupUsers.unassignAll")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"organization.done")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})()}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.permissions"}},children:[{path:"",component:IU},{path:"assign",component:PU}]}]}]},guards:[i.a1M,Ge]}}};function OU(){return ZU}const ZU={table:{[v.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:B,cells:{name:{dataComponent:nt},uid:{dataComponent:B},unit:{dataComponent:Le}}}},[v.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ye},actions:{dataComponent:ue}},pagination:{pageSize:ae}}},[v.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ye},actions:{dataComponent:ue}}}},[v.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:qt},actions:{dataComponent:ue}}}},[v.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:qt},actions:{dataComponent:ue}},pagination:{pageSize:ae}}}}};let FU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,i.LUR,h.Bz,K]}),r})(),wU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(MU),(0,i.x2j)(OU)],imports:[kt,LU,EU,TU,FU]}),r})(),Ul=(()=>{class r extends H{constructor(t,s){super(t),this.tableService=t,this.userService=s,this.tableType=v.USER_APPROVERS,this._domainType=v.USER_GROUP}load(t,s){return this.userService.getApprovers(s,t)}assign(t,s){return this.userService.assignApprover(t,s),this.userService.getLoadingStatus(s)}unassign(t,s){return this.userService.unassignApprover(t,s),this.userService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kU=(()=>{class r extends Ul{constructor(){super(...arguments),this.tableType=v.USER_ASSIGNED_APPROVERS}load(t,s){return super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),NU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:kU}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),qU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:Ul}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.rH,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),$U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,i.LUR,h.Bz,K]}),r})(),zU=(()=>{class r extends ce{build(){const t=new a.nJ({});t.setControl("customerId",new a.p4("")),t.setControl("password",new a.p4("",[a.kI.required,d.kal.passwordValidator])),t.setControl("confirmPassword",new a.p4("",[a.kI.required,d.kal.passwordValidator])),t.setValidators(d.kal.passwordsMustMatch("password","confirmPassword")),this.form=t}getForm(t){return this.form=null,super.getForm(t)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),JU=(()=>{class r{constructor(t,s,o){this.itemService=t,this.formService=s,this.messageService=o,this.form$=this.itemService.current$.pipe((0,p.U)(c=>this.formService.getForm(c)))}save(t){this.itemService.current$.pipe((0,ne.P)(),(0,f.w)(s=>this.itemService.save(t,t.value.customerId).pipe((0,de.q)(1),(0,x.h)(o=>o.status===X.SUCCESS),(0,p.U)(o=>({...s,...o.item}))))).subscribe(s=>{this.notify(s),this.itemService.launchDetails(s)})}notify(t){this.messageService.add({message:{key:"orgUser.messages.updatePassword",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ee),e.Y36(zU),e.Y36(q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-change-password-form"]],hostAttrs:[1,"content-wrapper"],decls:2,vars:3,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["i18nRoot","orgUser.password",3,"previous","cxFocus"],["actions","",1,"button","primary"],["actions","","routerLink","../","type","button",1,"link"],["main","",1,"details"],[1,"full-width"],[1,"label-content"],["required","true","type","password","name","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","name","confirmPassword","formControlName","confirmPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"]],template:function(t,s){1&t&&(e.YNc(0,Sm,25,31,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.form$))},dependencies:[g.O5,h.rH,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,d.Ahv,te,d.RRe,d.X84,g.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),QU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,h.Bz,k.A0,i.bhT,i.LUR,a.UX,d.Fym,re,d.oPH,d.Ird]}),r})(),YU=(()=>{class r{constructor(t,s){this.itemService=t,this.b2bUserService=s,this.model$=this.itemService.key$.pipe((0,f.w)(o=>this.itemService.load(o)),(0,he.O)({})),this.isInEditMode$=this.itemService.isInEditMode$,this.availableRoles=this.b2bUserService.getAllRoles().map(o=>o.toString()),this.availableRights=this.b2bUserService.getAllRights().map(o=>o.toString())}hasRight(t){return(t.roles??[]).some(s=>this.availableRights.includes(s))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36($))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:C,useExisting:Ee}])],decls:2,vars:3,consts:[["i18nRoot","orgUser.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUser.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","customerId","i18nRoot","orgUser"],["info","","i18nRoot","orgUser"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"property","full-width"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"value",3,"routerLink"],["class","link",3,"disabled","routerLink",4,"ngIf"],["main","",1,"link-list"],[3,"innerText",4,"ngIf"],[3,"innerText"],[1,"link",3,"routerLink"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,s){1&t&&(e.YNc(0,Mm,40,40,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,s.model$))},dependencies:[g.sg,g.O5,te,h.yS,h.Od,tt,Fe,fe,d.RRe,g.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),jU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,re,h.Bz,i.bhT,i.LUR,rt,ke,Ue,d.oPH]}),r})(),hl=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.userService=s,this.permissionService=o,this.tableType=v.USER_PERMISSIONS,this._domainType=v.PERMISSION}load(t,s){return this.userService.getPermissions(s,t)}assign(t,s){return this.userService.assignPermission(t,s),this.permissionService.getLoadingStatus(s)}unassign(t,s){return this.userService.unassignPermission(t,s),this.permissionService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG($),e.LFG(Re))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),VU=(()=>{class r extends hl{constructor(){super(...arguments),this.tableType=v.USER_ASSIGNED_PERMISSIONS}load(t,s){return super.load(t,s).pipe((0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),KU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:VU}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),XU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:hl}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.rH,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),HU=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,i.LUR,h.Bz,K]}),r})(),_l=(()=>{class r extends H{constructor(t,s,o){super(t),this.tableService=t,this.userService=s,this.userGroupService=o,this.tableType=v.USER_USER_GROUPS,this._domainType=v.USER_GROUP}load(t,s){return this.userService.getUserGroups(s,t)}assign(t,s){return this.userService.assignUserGroup(t,s),this.userGroupService.getLoadingStatus(s)}unassign(t,s){return this.userService.unassignUserGroup(t,s),this.userGroupService.getLoadingStatus(s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG($),e.LFG(Me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),WU=(()=>{class r extends _l{constructor(){super(...arguments),this.tableType=v.USER_ASSIGNED_USER_GROUPS}load(t,s){return super.load(t,s).pipe((0,x.h)(o=>Boolean(o)),(0,p.U)(o=>this.filterSelected(o)))}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:WU}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[h.yS,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),th=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:T,useExisting:_l}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,s){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[h.rH,w,i.X$D],encapsulation:2,changeDetection:0}),r})(),rh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[me,i.LUR,h.Bz,K]}),r})(),vl=(()=>{class r extends B{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(r)))(s||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(t,s){if(1&t&&(e.YNc(0,Zm,21,22,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const o=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",o)("cxPopoverOptions",e.DdM(3,Oe)),e.xp6(1),e.hij(" ",null==s.model?null:s.model.name,"\n")}},dependencies:[d.k5W,h.yS,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})();const nh={cmsComponents:{ManageUsersListComponent:{component:xe,providers:[{provide:T,useExisting:(()=>{class r extends T{constructor(t,s){super(t),this.tableService=t,this.userService=s,this.tableType=v.USER}key(){return"customerId"}load(t){return this.userService.getList(t).pipe((0,x.h)(i.pTN),(0,p.U)(s=>this.convertUsers(s)))}convertUsers({pagination:t,sorts:s,values:o}){const c=this.userService.getAllRoles();return{pagination:t,sorts:s,values:o.map(u=>({...u,unit:u.orgUnit,roles:u.roles?.filter(U=>c.includes(U))}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d.wmr),e.LFG($))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:C,useExisting:Ee}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,s){super(t),this.currentItemService=s}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(hs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:vs},{path:`:${M.UY.userCode}`,component:YU,data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.details"}},children:[{path:"edit",component:vs},{path:"change-password",component:JU},{path:"user-groups",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.userGroups"}},children:[{path:"",component:eh},{path:"assign",component:th}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.approvers"}},children:[{path:"",component:NU},{path:"assign",component:qU}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.permissions"}},children:[{path:"",component:KU},{path:"assign",component:XU}]}]}]},guards:[i.a1M,Ge]}}};function sh(){return oh}const qe={dataComponent:ue},xs={pageSize:ae},oh={table:{[v.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:nt},active:{dataComponent:we},uid:{dataComponent:B},roles:{dataComponent:jm},unit:{dataComponent:Le}}}},[v.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ye},actions:qe}}},[v.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ye},actions:qe},pagination:xs}},[v.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:vl},actions:qe}}},[v.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:vl},actions:qe},pagination:xs}},[v.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:qt},actions:qe}}},[v.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:qt},actions:qe},pagination:xs}}}};let ih=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(nh),(0,i.x2j)(sh)],imports:[me,QU,jU,UU,HU,rh,$U]}),r})(),ch=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[of,vf,AU,wU,ih,If]}),r})();var $e=E(529);let ah=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getBudgetEndpoint(t,s)).pipe(this.converter.pipeable(je))}loadList(t,s){return this.http.get(this.getBudgetsEndpoint(t,s)).pipe(this.converter.pipeable(Yn))}create(t,s){const o=this.converter.convert(s,jn);return this.http.post(this.getBudgetsEndpoint(t),o).pipe(this.converter.pipeable(je))}update(t,s,o){const c=this.converter.convert(o,jn);return this.http.patch(this.getBudgetEndpoint(t,s),c).pipe(this.converter.pipeable(je))}getBudgetEndpoint(t,s){return this.occEndpoints.buildUrl("budget",{urlParams:{userId:t,budgetCode:s}})}getBudgetsEndpoint(t,s){return this.occEndpoints.buildUrl("budgets",{urlParams:{userId:t},queryParams:s})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),uh=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getCostCenterEndpoint(t,s)).pipe(this.converter.pipeable(i.m2B))}loadList(t,s){return this.http.get(this.getAllCostCentersEndpoint(t,s)).pipe(this.converter.pipeable(i.M$E))}create(t,s){return s=this.converter.convert(s,i.XwO),this.http.post(this.getCostCentersEndpoint(t),s).pipe(this.converter.pipeable(i.m2B))}update(t,s,o){return o=this.converter.convert(o,i.XwO),this.http.patch(this.getCostCenterEndpoint(t,s),o).pipe(this.converter.pipeable(i.m2B))}loadBudgets(t,s,o){return this.http.get(this.getBudgetsEndpoint(t,s,o)).pipe(this.converter.pipeable(Yn))}assignBudget(t,s,o){return this.http.post(this.getBudgetsEndpoint(t,s,{budgetCode:o}),null)}unassignBudget(t,s,o){return this.http.delete(this.getBudgetEndpoint(t,s,o))}getCostCenterEndpoint(t,s){return this.occEndpoints.buildUrl("costCenter",{urlParams:{userId:t,costCenterCode:s}})}getCostCentersEndpoint(t,s){return this.occEndpoints.buildUrl("costCenters",{urlParams:{userId:t},queryParams:s})}getAllCostCentersEndpoint(t,s){return this.occEndpoints.buildUrl("costCentersAll",{urlParams:{userId:t},queryParams:s})}getBudgetsEndpoint(t,s,o){return this.occEndpoints.buildUrl("costCenterBudgets",{urlParams:{userId:t,costCenterCode:s},queryParams:o})}getBudgetEndpoint(t,s,o){return this.occEndpoints.buildUrl("costCenterBudget",{urlParams:{userId:t,costCenterCode:s,budgetCode:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),lh=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getOrgUnitEndpoint(t,s)).pipe(this.converter.pipeable(Bt))}create(t,s){return this.http.post(this.getOrgUnitsEndpoint(t),s).pipe(this.converter.pipeable(Bt))}update(t,s,o){return o=this.converter.convert(o,gd),this.http.patch(this.getOrgUnitEndpoint(t,s),o).pipe(this.converter.pipeable(Bt))}loadTree(t){return this.http.get(this.getOrgUnitsTreeEndpoint(t)).pipe(this.converter.pipeable(cu))}loadList(t){return this.http.get(this.getAvailableOrgUnitsEndpoint(t)).pipe(this.converter.pipeable(au))}loadApprovalProcesses(t){return this.http.get(this.getOrgUnitsApprovalProcessesEndpoint(t)).pipe(this.converter.pipeable(uu))}loadUsers(t,s,o,c){return this.http.get(this.getUsersEndpoint(t,s,o,c)).pipe(this.converter.pipeable(Ye))}assignRole(t,s,o){return this.http.post(this.getRolesEndpoint(t,s,{roleId:o}),null)}unassignRole(t,s,o){return this.http.delete(this.getRoleEndpoint(t,s,o))}assignApprover(t,s,o,c){return this.http.post(this.getApproversEndpoint(t,s,o,{roleId:c}),null)}unassignApprover(t,s,o,c){return this.http.delete(this.getApproverEndpoint(t,s,o,c))}loadAddresses(t,s){return this.http.get(this.getAddressesEndpoint(t,s)).pipe(this.converter.pipeable(i.RzO))}createAddress(t,s,o){return o=this.converter.convert(o,i.O9k),this.http.post(this.getAddressesEndpoint(t,s),o).pipe(this.converter.pipeable(i.jo8))}updateAddress(t,s,o,c){return c=this.converter.convert(c,i.O9k),this.http.patch(this.getAddressEndpoint(t,s,o),c).pipe(this.converter.pipeable(i.jo8))}deleteAddress(t,s,o){return this.http.delete(this.getAddressEndpoint(t,s,o)).pipe(this.converter.pipeable(i.jo8))}getOrgUnitEndpoint(t,s){return this.occEndpoints.buildUrl("orgUnit",{urlParams:{userId:t,orgUnitId:s}})}getOrgUnitsEndpoint(t){return this.occEndpoints.buildUrl("orgUnits",{urlParams:{userId:t}})}getAvailableOrgUnitsEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsAvailable",{urlParams:{userId:t}})}getOrgUnitsTreeEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsTree",{urlParams:{userId:t}})}getOrgUnitsApprovalProcessesEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsApprovalProcesses",{urlParams:{userId:t}})}getUsersEndpoint(t,s,o,c){return this.occEndpoints.buildUrl("orgUnitUsers",{urlParams:{userId:t,orgUnitId:s,roleId:o},queryParams:c})}getRolesEndpoint(t,s,o){return this.occEndpoints.buildUrl("orgUnitUserRoles",{urlParams:{userId:t,orgCustomerId:s},queryParams:o})}getRoleEndpoint(t,s,o){return this.occEndpoints.buildUrl("orgUnitUserRole",{urlParams:{userId:t,orgCustomerId:s,roleId:o}})}getApproversEndpoint(t,s,o,c){return this.occEndpoints.buildUrl("orgUnitApprovers",{urlParams:{userId:t,orgUnitId:s,orgCustomerId:o},queryParams:c})}getApproverEndpoint(t,s,o,c){return this.occEndpoints.buildUrl("orgUnitApprover",{urlParams:{userId:t,orgUnitId:s,orgCustomerId:o,roleId:c}})}getAddressesEndpoint(t,s){return this.occEndpoints.buildUrl("orgUnitsAddresses",{urlParams:{userId:t,orgUnitId:s}})}getAddressEndpoint(t,s,o){return this.occEndpoints.buildUrl("orgUnitsAddress",{urlParams:{userId:t,orgUnitId:s,addressId:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),dh=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getUserGroupEndpoint(t,s)).pipe(this.converter.pipeable(be))}loadList(t,s){return this.http.get(this.getUserGroupsEndpoint(t,s)).pipe(this.converter.pipeable(Vn))}loadAvailableOrderApprovalPermissions(t,s,o){return this.http.get(this.getPermissionsEndpoint(t,s,o)).pipe(this.converter.pipeable(Rt))}loadAvailableOrgCustomers(t,s,o){return this.http.get(this.getAvailableCustomersEndpoint(t,s,o)).pipe(this.converter.pipeable(Ye))}create(t,s){return s=this.converter.convert(s,gu),this.http.post(this.getUserGroupsEndpoint(t),s).pipe(this.converter.pipeable(be))}delete(t,s){return this.http.delete(this.getUserGroupEndpoint(t,s)).pipe(this.converter.pipeable(be))}update(t,s,o){return o=this.converter.convert(o,gu),this.http.patch(this.getUserGroupEndpoint(t,s),o).pipe(this.converter.pipeable(be))}assignMember(t,s,o){return this.http.post(this.getMembersEndpoint(t,s,{orgCustomerId:o}),null)}assignOrderApprovalPermission(t,s,o){return this.http.post(this.getOrderApprovalPermissionsEndpoint(t,s,{orderApprovalPermissionCode:o}),null)}unassignMember(t,s,o){return this.http.delete(this.getMemberEndpoint(t,s,o))}unassignAllMembers(t,s){return this.http.delete(this.getMembersEndpoint(t,s))}unassignOrderApprovalPermission(t,s,o){return this.http.delete(this.getOrderApprovalPermissionEndpoint(t,s,o))}getUserGroupEndpoint(t,s){return this.occEndpoints.buildUrl("userGroup",{urlParams:{userId:t,userGroupId:s}})}getUserGroupsEndpoint(t,s){return this.occEndpoints.buildUrl("userGroups",{urlParams:{userId:t},queryParams:s})}getAvailableCustomersEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupAvailableOrgCustomers",{urlParams:{userId:t,userGroupId:s},queryParams:o})}getPermissionsEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupAvailableOrderApprovalPermissions",{urlParams:{userId:t,userGroupId:s},queryParams:o})}getMemberEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupMember",{urlParams:{userId:t,userGroupId:s,orgCustomerId:o}})}getMembersEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupMembers",{urlParams:{userId:t,userGroupId:s},queryParams:o})}getOrderApprovalPermissionsEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermissions",{urlParams:{userId:t,userGroupId:s},queryParams:o})}getOrderApprovalPermissionEndpoint(t,s,o){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermission",{urlParams:{userId:t,userGroupId:s,orderApprovalPermissionCode:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ph=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getPermissionEndpoint(t,s)).pipe(this.converter.pipeable(Ve))}loadList(t,s){return this.http.get(this.getPermissionsEndpoint(t,s)).pipe(this.converter.pipeable(Rt))}create(t,s){return s=this.converter.convert(s,pu),this.http.post(this.getPermissionsEndpoint(t),s).pipe(this.converter.pipeable(Ve))}update(t,s,o){return o=this.converter.convert(o,pu),this.http.patch(this.getPermissionEndpoint(t,s),o).pipe(this.converter.pipeable(Ve))}loadTypes(){return this.http.get(this.getPermissionTypesEndpoint()).pipe(this.converter.pipeable(du))}getPermissionEndpoint(t,s){return this.occEndpoints.buildUrl("permission",{urlParams:{userId:t,orderApprovalPermissionCode:s}})}getPermissionsEndpoint(t,s){return this.occEndpoints.buildUrl("permissions",{urlParams:{userId:t},queryParams:s})}getPermissionTypesEndpoint(){return this.occEndpoints.buildUrl("orderApprovalPermissionTypes")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),gh=(()=>{class r{constructor(t,s,o){this.http=t,this.occEndpoints=s,this.converter=o}load(t,s){return this.http.get(this.getB2BUserEndpoint(t,s)).pipe(this.converter.pipeable(Qe))}loadList(t,s){return this.http.get(this.getB2BUsersEndpoint(t,s)).pipe(this.converter.pipeable(Ye))}create(t,s){return s=this.converter.convert(s,Qn),this.http.post(this.getB2BUsersEndpoint(t),s).pipe(this.converter.pipeable(Qe))}update(t,s,o){return o=this.converter.convert(o,Qn),this.http.patch(this.getB2BUserEndpoint(t,s),o).pipe(this.converter.pipeable(Qe))}loadApprovers(t,s,o){return this.http.get(this.getApproversEndpoint(t,s,o)).pipe(this.converter.pipeable(Ye))}assignApprover(t,s,o){return this.http.post(this.getApproverEndpoint(t,s,o),null)}unassignApprover(t,s,o){return this.http.delete(this.getApproverEndpoint(t,s,o))}loadPermissions(t,s,o){return this.http.get(this.getPermissionsEndpoint(t,s,o)).pipe(this.converter.pipeable(Rt))}assignPermission(t,s,o){return this.http.post(this.getPermissionEndpoint(t,s,o),null)}unassignPermission(t,s,o){return this.http.delete(this.getPermissionEndpoint(t,s,o))}loadUserGroups(t,s,o){return this.http.get(this.getUserGroupsEndpoint(t,s,o)).pipe(this.converter.pipeable(Vn))}assignUserGroup(t,s,o){return this.http.post(this.getUserGroupEndpoint(t,s,o),null)}unassignUserGroup(t,s,o){return this.http.delete(this.getUserGroupEndpoint(t,s,o))}getB2BUserEndpoint(t,s){return this.occEndpoints.buildUrl("b2bUser",{urlParams:{userId:t,orgCustomerId:s}})}getB2BUsersEndpoint(t,s){return this.occEndpoints.buildUrl("b2bUsers",{urlParams:{userId:t},queryParams:s})}getApproverEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserApprover",{urlParams:{userId:t,orgCustomerId:s,approverId:o}})}getApproversEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserApprovers",{urlParams:{userId:t,orgCustomerId:s},queryParams:o})}getPermissionEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserPermission",{urlParams:{userId:t,orgCustomerId:s,premissionId:o}})}getPermissionsEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserPermissions",{urlParams:{userId:t,orgCustomerId:s},queryParams:o})}getUserGroupEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserUserGroup",{urlParams:{userId:t,orgCustomerId:s,userGroupId:o}})}getUserGroupsEndpoint(t,s,o){return this.occEndpoints.buildUrl("b2bUserUserGroups",{urlParams:{userId:t,orgCustomerId:s},queryParams:o})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($e.eN),e.LFG(i.Lz0),e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const mh={backend:{occ:{endpoints:{budgets:"/users/${userId}/budgets",budget:"/users/${userId}/budgets/${budgetCode}",orgUnitsAvailable:"/users/${userId}/availableOrgUnitNodes",orgUnitsTree:"/users/${userId}/orgUnitsRootNodeTree",orgUnitsApprovalProcesses:"/users/${userId}/orgUnitsAvailableApprovalProcesses",orgUnits:"/users/${userId}/orgUnits",orgUnit:"/users/${userId}/orgUnits/${orgUnitId}",orgUnitUsers:"/users/${userId}/orgUnits/${orgUnitId}/availableUsers/${roleId}",orgUnitApprovers:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles",orgUnitApprover:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitUserRoles:"/users/${userId}/orgCustomers/${orgCustomerId}/roles",orgUnitUserRole:"/users/${userId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitsAddresses:"/users/${userId}/orgUnits/${orgUnitId}/addresses",orgUnitsAddress:"/users/${userId}/orgUnits/${orgUnitId}/addresses/${addressId}",userGroups:"/users/${userId}/orgUnitUserGroups",userGroup:"/users/${userId}/orgUnitUserGroups/${userGroupId}",userGroupAvailableOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrderApprovalPermissions",userGroupAvailableOrgCustomers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrgCustomers",userGroupMembers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members",userGroupMember:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members/${orgCustomerId}",userGroupOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions",userGroupOrderApprovalPermission:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions/${orderApprovalPermissionCode}",costCenters:"/costcenters",costCenter:"/costcenters/${costCenterCode}",costCentersAll:"/costcentersall",costCenterBudgets:"/costcenters/${costCenterCode}/budgets",costCenterBudget:"/costcenters/${costCenterCode}/budgets/${budgetCode}",permissions:"/users/${userId}/orderApprovalPermissions",permission:"/users/${userId}/orderApprovalPermissions/${orderApprovalPermissionCode}",orderApprovalPermissionTypes:"/orderApprovalPermissionTypes",b2bUsers:"/users/${userId}/orgCustomers",b2bUser:"/users/${userId}/orgCustomers/${orgCustomerId}",b2bUserApprovers:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers",b2bUserApprover:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers/${approverId}",b2bUserUserGroups:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups",b2bUserUserGroup:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups/${userGroupId}",b2bUserPermissions:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions",b2bUserPermission:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions/${premissionId}"}}}};let fh=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s={...t}),t.startDate&&(s.startDate=i.IMh.convertDateToDatetime(t.startDate)),t.endDate&&(s.endDate=i.IMh.convertDateToDatetime(t.endDate,!0)),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Uh=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s={...t}),s.email=t?.uid,s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hh=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s={...t}),delete s.isAssignedToApprovers,!1===s.active&&(s.roles=[]),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_h=(()=>{class r{constructor(t){this.converter=t}convert(t,s){return void 0===s&&(s={...t}),s.values=t.budgets?.map(o=>({...this.converter.convert(o,je)}))??[],s}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vh=(()=>{class r{convert(t,s){return void 0===s&&(s={...t}),t.startDate&&(s.startDate=i.IMh.convertDatetimeToDate(t.startDate)),t.endDate&&(s.endDate=i.IMh.convertDatetimeToDate(t.endDate)),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Sh=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s=[...t.approvalProcesses]),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ah=(()=>{class r{convert(t,s){return void 0===s&&(s=[...t.unitNodes]),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ch=(()=>{class r{convert(t,s){return void 0===s&&(s={...t}),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xh=(()=>{class r{convert(t,s){return void 0===s&&(s={...t}),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Lh=(()=>{class r{constructor(t){this.converter=t}convert(t,s){return void 0===s&&(s={...t}),s.values=t.orderApprovalPermissions?.map(o=>({...this.converter.convert(o,Ve)}))??[],s}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Eh=(()=>{class r{convert(t,s){return void 0===s&&(s={...t}),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),yh=(()=>{class r{constructor(t){this.converter=t}convert(t,s){return s=t.orderApprovalPermissionTypes?.map(o=>this.converter.convert(o,lu)),s??[]}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ih=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s={...t}),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ph=(()=>{class r{constructor(t){this.converter=t}convert(t,s){return void 0===s&&(s={...t}),s.values=t.orgUnitUserGroups.map(o=>({...this.converter.convert(o,be)})),s}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Th=(()=>{class r{constructor(){}convert(t,s){return void 0===s&&(s={...t}),s}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Dh=(()=>{class r{constructor(t){this.converter=t}convert(t,s){return void 0===s&&(s={...t}),s.values=t.users.map(o=>({...this.converter.convert(o,Qe)})),s}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.IXI))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(mh),{provide:Gs,useClass:ah},{provide:je,useExisting:vh,multi:!0},{provide:jn,useExisting:fh,multi:!0},{provide:Yn,useExisting:_h,multi:!0},{provide:Os,useClass:lh},{provide:Bt,useExisting:xh,multi:!0},{provide:cu,useExisting:Ch,multi:!0},{provide:au,useExisting:Ah,multi:!0},{provide:uu,useExisting:Sh,multi:!0},{provide:ks,useClass:dh},{provide:be,useExisting:Th,multi:!0},{provide:Vn,useExisting:Ph,multi:!0},{provide:Fs,useClass:ph},{provide:Ve,useExisting:Eh,multi:!0},{provide:Rt,useExisting:Lh,multi:!0},{provide:lu,useExisting:Ih,multi:!0},{provide:du,useExisting:yh,multi:!0},{provide:Rs,useClass:uh},{provide:Ds,useClass:gh},{provide:Qe,useExisting:Uh,multi:!0},{provide:Qn,useExisting:hh,multi:!0},{provide:Ye,useExisting:Dh,multi:!0}],imports:[g.ez,i.nWM]}),r})(),Gh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[pd.forRoot(),bh,ch]}),r})()}}]);