(self.webpackChunkolf=self.webpackChunkolf||[]).push([[179],{4371:(de,Q,m)=>{"use strict";var u=m(1481),e=m(4650),h=m(529),N=m(5024),D=m(1848),P=m(8555);var M=m(1446),G=m(610),V=m(599),I=m(9057);const H=function(){return{cxRoute:"login"}};let $=(()=>{class ue{constructor(){}ngOnInit(){}}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-desktop-header"]],decls:17,vars:6,consts:[[1,"top-header","py-2"],[1,"container"],[1,"row","justify-content-between","align-items-center"],["position","SiteLinks"],["position","SiteContext",1,"d-flex","align-items-center"],[1,"d-none","d-lg-block",3,"url"],["src","assets/olf.png"],["position","NavigationBar",1,"d-none","d-lg-block"],[1,"d-none","d-lg-block"],[1,"header-icons","d-none","d-lg-flex"],[3,"url"],[3,"cxIcon"],["position","HeaderLinks",1,"header-links"]],template:function(et,Bt){1&et&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"cx-page-slot",3)(4,"cx-page-slot",4),e.qZA()()(),e.TgZ(5,"div",1)(6,"div",2)(7,"cx-generic-link",5),e._UZ(8,"img",6),e.qZA(),e._UZ(9,"cx-page-slot",7)(10,"cx-searchbox",8),e.TgZ(11,"div",9)(12,"cx-generic-link",10),e.ALo(13,"cxUrl"),e._UZ(14,"cx-icon",11),e.qZA(),e._UZ(15,"cx-page-slot",12)(16,"cx-mini-cart"),e.qZA()()()),2&et&&(e.xp6(7),e.Q6J("url","/"),e.xp6(5),e.Q6J("url",e.lcZ(13,3,e.DdM(5,H))),e.xp6(2),e.Q6J("cxIcon","USER"))},dependencies:[M.upR,M.JSc,M.Bvt,M.oJW,V.MiniCartComponent,I.l2T],styles:[".top-header[_ngcontent-%COMP%]{background-color:var(--cx-color-secondary);font-size:.9rem}.header-icons[_ngcontent-%COMP%]{display:flex;gap:2rem}.SiteLinks[_ngcontent-%COMP%]{--cx-margin: .5rem 8px}img[_ngcontent-%COMP%]{height:60px;width:100px}.cx-link[_ngcontent-%COMP%]{color:#f1f2f3}.cx-page-slot[_ngcontent-%COMP%]{position:relative;opacity:0}.header-links[_ngcontent-%COMP%]{position:absolute}"]}),ue})();var J=m(1059),re=m(4850),ae=m(9505),De=m(6895);const Ze=function(){return{cxRoute:"login"}},Xe=function(){return{cxRoute:"cart"}};let Le=(()=>{class ue{constructor(et){this.activeCartService=et,this.quantity$=this.activeCartService.getActive().pipe((0,J.O)({deliveryItemsQuantity:0}),(0,re.U)(Bt=>Bt.deliveryItemsQuantity||0))}}return ue.\u0275fac=function(et){return new(et||ue)(e.Y36(ae.CP))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-mobile-header"]],decls:34,vars:18,consts:[[1,"top-header","py-2"],[1,"container"],[1,"row","justify-content-between","align-items-center","px-2"],[3,"url"],[1,"text-center",3,"url"],["src","assets/olf-mobile.png",1,"logo"],["position","SiteContext",1,"d-flex","align-items-end","flex-column"],[1,"bottom-nav","px-4","py-2","fixed-bottom","d-flex","justify-content-between","align-items-end","text-center"],[1,"text-decoration-none",3,"url"],[3,"cxIcon"],[1,"cart-bulb"],[1,"text-white",3,"cxIcon"],[1,"count"]],template:function(et,Bt){1&et&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"cx-generic-link",3),e._uU(4," Help"),e.qZA(),e.TgZ(5,"cx-generic-link",4),e._UZ(6,"img",5),e.qZA(),e._UZ(7,"cx-page-slot",6),e.qZA()()(),e.TgZ(8,"div",7)(9,"div")(10,"cx-generic-link",8),e._UZ(11,"cx-icon",9),e.TgZ(12,"div"),e._uU(13,"Home"),e.qZA()()(),e.TgZ(14,"div"),e._UZ(15,"cx-icon",9),e.TgZ(16,"div"),e._uU(17,"Menu"),e.qZA()(),e.TgZ(18,"div")(19,"cx-generic-link",8),e.ALo(20,"cxUrl"),e._UZ(21,"cx-icon",9),e.TgZ(22,"div"),e._uU(23,"User"),e.qZA()()(),e.TgZ(24,"div")(25,"div",10),e._UZ(26,"cx-icon",11),e.TgZ(27,"span",12),e._uU(28),e.ALo(29,"async"),e.qZA()(),e.TgZ(30,"cx-generic-link",8),e.ALo(31,"cxUrl"),e.TgZ(32,"div"),e._uU(33,"Cart"),e.qZA()()()()),2&et&&(e.xp6(3),e.Q6J("url","/faq"),e.xp6(2),e.Q6J("url","/"),e.xp6(5),e.Q6J("url","/"),e.xp6(1),e.Q6J("cxIcon","HOME"),e.xp6(4),e.Q6J("cxIcon","MENU"),e.xp6(4),e.Q6J("url",e.lcZ(20,10,e.DdM(16,Ze))),e.xp6(2),e.Q6J("cxIcon","USER"),e.xp6(5),e.Q6J("cxIcon","CART"),e.xp6(2),e.hij(" ",e.lcZ(29,12,Bt.quantity$)," "),e.xp6(2),e.Q6J("url",e.lcZ(31,14,e.DdM(17,Xe))))},dependencies:[M.upR,M.JSc,M.oJW,De.Ov,I.l2T],styles:[".bottom-nav[_ngcontent-%COMP%]{background-color:#fff;height:4.5em}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.cart-bulb[_ngcontent-%COMP%]{align-items:center;background-color:#1071ff;border-radius:100%;display:flex;height:66px;justify-content:center;width:66px}.count[_ngcontent-%COMP%]{color:currentColor;align-self:center;padding-inline-start:10px;font-size:var(--cx-font-size, .9rem);font-weight:var(--cx-font-weight-bold);padding-inline-end:0;margin-bottom:-5px}"]}),ue})(),Ge=(()=>{class ue{constructor(){}ngOnInit(){}}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-olf-header"]],decls:2,vars:0,consts:[[1,"desktop"],[1,"mobile"]],template:function(et,Bt){1&et&&e._UZ(0,"app-desktop-header",0)(1,"app-mobile-header",1)},dependencies:[$,Le],styles:[".mobile[_ngcontent-%COMP%]{display:block}@media (min-width: 1024px){.mobile[_ngcontent-%COMP%]{display:none}}.desktop[_ngcontent-%COMP%]{display:none}@media (min-width: 1024px){.desktop[_ngcontent-%COMP%]{display:block}}"]}),ue})();const me=function(){return{disableMouseFocus:!0}};function se(ue,nt){if(1&ue){const et=e.EpF();e.TgZ(0,"header",4),e.NdJ("keydown.escape",function(){e.CHM(et);const vn=e.oxw(2);return e.KtG(vn.collapseMenu())})("click",function(vn){e.CHM(et);const Wn=e.oxw(2);return e.KtG(Wn.collapseMenuIfClickOutside(vn))}),e.ALo(1,"async"),e._UZ(2,"app-olf-header"),e.qZA(),e._UZ(3,"cx-page-slot",5)(4,"cx-global-message",6)}if(2&ue){const et=e.oxw(2);e.ekj("is-expanded",e.lcZ(1,3,et.isExpanded$)),e.Q6J("cxFocus",e.DdM(5,me))}}function Ne(ue,nt){1&ue&&(e.TgZ(0,"footer",7),e._UZ(1,"cx-page-layout",8),e.qZA()),2&ue&&e.Q6J("cxFocus",e.DdM(1,me))}const ze=function(){return{disableMouseFocus:!1}};function Ie(ue,nt){1&ue&&(e.YNc(0,se,5,6,"ng-template",1),e.TgZ(1,"main",2),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,Ne,2,2,"ng-template",3)),2&ue&&(e.xp6(1),e.Q6J("cxFocus",e.DdM(1,ze)))}let he=(()=>{class ue extends M.gJ4{}return ue.\u0275fac=function(){let nt;return function(Bt){return(nt||(nt=e.n5z(ue)))(Bt||ue)}}(),ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-olf"]],features:[e.qOj],decls:1,vars:1,consts:[["cxPageTemplateStyle","",3,"cxOutlet"],["cxOutlet","cx-header"],["cxSkipLink","cx-main",3,"cxFocus"],["cxOutlet","cx-footer"],["cxSkipLink","cx-header",3,"cxFocus","keydown.escape","click"],["position","BottomHeaderSlot"],["aria-atomic","true","aria-live","assertive"],["cxSkipLink","cx-footer",3,"cxFocus"],["section","footer"]],template:function(et,Bt){1&et&&e.YNc(0,Ie,4,2,"ng-template",0),2&et&&e.Q6J("cxOutlet",Bt.StorefrontOutlets.STOREFRONT)},dependencies:[G.lC,M.srj,M.$3S,M.RRe,M.wAB,M.vFz,M.H7c,M.JSc,Ge,De.Ov]}),ue})(),pe=(()=>{class ue{constructor(){this.title="olf"}}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-root"]],decls:1,vars:0,template:function(et,Bt){1&et&&e._UZ(0,"app-olf")},dependencies:[he]}),ue})();const ne={common:["common","spinner","searchBox","navigation","sorting","httpHandlers","pageMetaResolver","miniCart","skipLink","formErrors","errorHandlers","carousel","assistiveMessage","passwordVisibility"],address:["addressForm","addressBook","addressCard","addressSuggestion","addressMessages"],payment:["paymentForm","paymentMethods","paymentCard","paymentTypes","paymentMessages"],myAccount:["orderDetails","orderHistory","closeAccount","updatePasswordForm","updateProfileForm","consentManagementForm","myCoupons","notificationPreference","myInterests","AccountOrderHistoryTabContainer","returnRequestList","returnRequest"],pwa:["pwa"],product:["productDetails","productList","productFacetNavigation","productCarousel","productSummary","productReview","addToCart","addToWishList","CMSTabParagraphContainer","stockNotification","TabPanelContainer","itemCounter","productView"],user:["anonymousConsents","loginRegister","checkoutLogin","authMessages"],video:["player"]},Lt={backend:{occ:{endpoints:{user:"orgUsers/${userId}",userUpdateProfile:"users/${userId}",userCloseAccount:"users/${userId}",addEntries:"orgUsers/${userId}/carts/${cartId}/entries?quantity=${quantity}",placeOrder:"orgUsers/${userId}/orders?fields=FULL",scheduleReplenishmentOrder:"orgUsers/${userId}/replenishmentOrders?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType"}}}};let Pn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)(M.TrH),(0,I.A2H)(M.MuM),...M.XiQ,(0,I.A2H)({backend:{occ:{baseUrl:"https://api.cgerw3wv0y-thevaluec1-d1-public.model-t.cc.commerce.ondemand.com/"}}}),(0,I.A2H)({context:{urlParameters:["baseSite","language","currency"],baseSite:["olf"],language:["fr","en"],currency:["EUR","CHF"]}}),(0,I.A2H)({i18n:{backend:{loadPath:"assets/i18n-assets/{{lng}}/{{ns}}.json"},chunks:ne,fallbackLang:"en"}}),(0,I.A2H)({features:{level:"5.0"}}),(0,I.A2H)({icon:{symbols:{CART:"cart",HOME:"home",MENU:"menu",USER:"account"},resources:[{type:M.KBw.SVG,url:"./assets/icons-sheet.svg",types:["CART","HOME","MENU","USER"]},{type:M.KBw.LINK,url:"https://use.fontawesome.com/releases/v5.8.1/css/all.css"}]}}),(0,I.A2H)(Lt)]}),ue})();const yn={en:{cart:{cartDetails:{id:"ID",proceedToCheckout:"Proceed to Checkout",cartName:"Cart #{{code}}"},cartItems:{id:"ID",description:"Description",item:"Item",itemPrice:"Item price",quantity:"Qty",quantityTitle:"The quantity represents the total number of this item in your cart.",total:"Total",actions:"Actions",cartTotal:"Cart total ({{count}} item)",cartTotal_other:"Cart total ({{count}} items)",itemRemoved:"Selected item has been removed. Cart total has been updated.",caption:"Shopping cart contents."},orderCost:{orderSummary:"Order Summary",subtotal:"Subtotal after discounts:",shipping:"Shipping:",estimatedShipping:"Estimated shipping:",discount:"You saved:",salesTax:"Sales Tax:",grossTax:"The order total does not include tax of",grossIncludeTax:"The order total includes tax of",total:"Total:",toBeDetermined:"TBD"},voucher:{coupon:"Have a coupon?",coupon_other:"Coupon codes",couponLabel:"Enter a promo code here",apply:"Apply",placeholder:"Promo code",applyVoucherSuccess:"{{voucherCode}} has been applied.",removeVoucherSuccess:"{{voucherCode}} has been removed.",anchorLabel:"Enter or remove your coupon code",vouchersApplied:"Applied coupons",availableCoupons:"Available coupons",availableCouponsLabel:"You can add these coupons to this order."},saveForLaterItems:{itemTotal:"Saved for later ({{count}} item)",itemTotal_other:"Saved for later ({{count}} items)",cartTitle:"Cart",saveForLater:"Save For Later",moveToCart:"Move To Cart",stock:"Stock",forceInStock:"In Stock"},clearCart:{clearCart:"Clear Cart",clearingCart:"Clearing Cart...",cartClearedSuccessfully:"Active cart cleared successfully.",areYouSureToClearCart:"Are you sure you want to clear this cart?",allItemsWillBeRemoved:"All items in your active cart will be removed."},validation:{cartEntriesChangeDuringCheckout:"During checkout we found problems with your entries. Please review your cart.",cartEntryRemoved:"{{name}} was removed from the cart due to being out of stock.",productOutOfStock:"{{name}} has been removed from the cart due to insufficient stock.",lowStock:"Quantity has reduced to {{quantity}} due to insufficient stock.",reviewConfiguration:"Resolve the issues in the configuration for cart entry first.",pricingError:"Configurator pricing is currently not available. Checkout/quote submission is not possible. Please try again later.",unresolvableIssues:"The product configuration requires additional entries in the back end. As a result, you cannot proceed. Please contact support.",inProgress:"Processing"}}}},Ft={cart:["cartDetails","cartItems","orderCost","voucher","saveForLaterItems","clearCart","validation"]};var Zn=m(3749);let Ot=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Zn.O0]:{module:()=>m.e(537).then(m.bind(m,5537)).then(nt=>nt.CartBaseModule)}}}),(0,I.A2H)({featureModules:{[Zn.nw]:{module:()=>Promise.resolve().then(m.bind(m,599)).then(nt=>nt.MiniCartModule)}}}),(0,I.A2H)({featureModules:{[Zn.pl]:{module:()=>m.e(592).then(m.bind(m,1277)).then(nt=>nt.AddToCartModule)}}}),(0,I.A2H)({i18n:{resources:yn,chunks:Ft}})],imports:[Zn.JP]}),ue})();var bt=m(7828),ke=m(679);const St={en:{asm:{asm:{mainLogoLabel:"SAP",mainTitle:"Assisted Service Mode",logout:"Sign Out",hideUi:"Close ASM",toggleUi:{collapse:"Hide ASM",expand:"Show ASM"},loginForm:{submit:"Sign In",userId:{label:"Agent ID",required:"Agent ID is required"},password:{label:"Password",required:"Password is required"}},customerSearch:{searchTerm:{label:"Customer Name/Email Address"},submit:"Start Session",noMatch:"No customer found."},csagentTokenExpired:"Your customer support agent session is expired.",endSession:"End Session",agentSessionTimer:{label:"Session Timeout",minutes:"min",reset:"Reset"},auth:{agentLoggedInError:"Cannot login as user when there is an active CS agent session. Please either emulate user or logout CS agent."},error:{noCustomerId:"No customerId found for selected user. Session cannot be started."}}}}},nn={asm:["asm"]};var _n=m(5344);let it=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[_n.Kj]:{module:()=>m.e(112).then(m.bind(m,5112)).then(nt=>nt.AsmModule)}}}),(0,I.A2H)({i18n:{resources:St,chunks:nn}})],imports:[_n.HZ]}),ue})();const Ae="cartImportExport";let Ee=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.i51)({featureModules:{[Ae]:{cmsComponents:["ImportExportOrderEntriesComponent","ImportOrderEntriesComponent","ExportOrderEntriesComponent"]}}})]}),ue})(),st=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Ae]:{module:()=>m.e(487).then(m.bind(m,6487)).then(nt=>nt.ImportExportModule)}}})],imports:[Ee]}),ue})();var at=m(8581);let Jt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[at.Jx]:{module:()=>m.e(464).then(m.bind(m,8464)).then(nt=>nt.QuickOrderModule)}}})],imports:[at.e$]}),ue})();var Nt=m(950);let an=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Nt.UQ]:{module:()=>Promise.all([m.e(592),m.e(634)]).then(m.bind(m,634)).then(nt=>nt.SavedCartModule)}}})],imports:[Nt.$O]}),ue})();const mn={en:{checkoutB2B:{checkoutB2B:{noPoNumber:"None",poNumber:"Purchase order number (optional)",costCenter:"Cost Center",placeholder:"Enter P.O",availableLabel:"Delivery addresses available to you depend on the cost center's unit",invalid:{accountType:"Your account does not allow you to checkout here."},methodOfPayment:{paymentType:"Payment Type"},review:{poNumber:"Purchase Order Number"},progress:{methodOfPayment:"Method of Payment"}}}}},tr={checkoutB2B:["checkoutB2B"]};var rn=m(1487);const Et={en:{checkout:{checkout:{backToCart:"Back to cart"},checkoutProgress:{label:"Checkout Progress",deliveryAddress:"Delivery Address",deliveryMode:"Delivery Mode",paymentDetails:"Payment Details",reviewOrder:"Review Order"},checkoutAddress:{deliveryAddress:"Delivery Address",selectYourDeliveryAddress:"Select your Delivery Address",defaultDeliveryAddress:"Default Delivery Address",addNewAddress:"Add New Address",shipToThisAddress:"Ship to this address",deliveryAddressSelected:"Delivery address selected"},checkoutMode:{deliveryMethod:"Delivery Method",standardDelivery:"Standard Delivery",premiumDelivery:"Premium Delivery"},checkoutReview:{review:"Review",orderItems:"Order Items",confirmThatRead:"I am confirming that I have read and agreed with the",placeOrder:"Place Order",termsAndConditions:"Terms & Conditions",editDeliveryAddressDetails:"Edit delivery address details, opens Delivery Address page",editPaymentDetails:"Edit payment details, opens Payment Details page",editPaymentType:"Edit payment method, opens Method of Payment page",editDeliveryMode:"Edit delivery mode, opens Delivery Mode page",orderInProcess:"Order is in process. Please wait."},checkoutOrderConfirmation:{confirmationOfOrder:"Confirmation of Order:",thankYou:"Thank you for your order!",invoiceHasBeenSentByEmail:"An invoice has been sent by email. You should receive it soon.",orderItems:"Order Items",orderPlacedSuccessfully:"Order placed successfully",createAccount:"Create an account?",createAccountForNext:"Create an account for <{{email}}> for a faster checkout on your next visit."}}}},_t={checkout:["checkout","checkoutProgress","checkoutAddress","checkoutMode","checkoutReview","checkoutOrderConfirmation"]};var Ct=m(7935);let qt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Ct.W$]:{module:()=>m.e(124).then(m.bind(m,7124)).then(nt=>nt.CheckoutWrapperModule)}}}),(0,I.A2H)({i18n:{resources:Et,chunks:_t}}),(0,I.A2H)({i18n:{resources:mn,chunks:tr}})],imports:[Ct.Rv,rn.CN]}),ue})();var Tt=m(4129);let Ke=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Tt.GH]:{module:()=>Promise.all([m.e(592),m.e(282)]).then(m.bind(m,282)).then(nt=>nt.OrderModule)}}})],imports:[Tt.pF]}),ue})();var Dn=m(5883);let Nn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Dn.E1]:{module:()=>m.e(446).then(m.bind(m,4446)).then(nt=>nt.AdministrationModule)}}})],imports:[Dn.al]}),ue})();const kn="productBulkPricing";function hr(){return{featureModules:{[kn]:{cmsComponents:["BulkPricingTableComponent"]}}}}let un=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.x2j)(hr)]}),ue})(),An=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[kn]:{module:()=>m.e(680).then(m.bind(m,6680)).then(nt=>nt.BulkPricingModule)}}})],imports:[un]}),ue})();const Sn="productImageZoom";function Vn(){return{featureModules:{[Sn]:{cmsComponents:["ProductImagesComponent"]}}}}let Jn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.x2j)(Vn)]}),ue})(),Qn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Sn]:{module:()=>m.e(617).then(m.bind(m,9617)).then(nt=>nt.ProductImageZoomModule)}}})],imports:[Jn]}),ue})();var ye=m(2654),Te=m(8896);function ie(ue,nt){if(1&ue&&(e.TgZ(0,"li"),e._UZ(1,"img"),e.qZA()),2&ue){const et=nt.$implicit,Bt=e.oxw(2);e.xp6(1),e.uIk("src",Bt.getVariantThumbnailUrl(et.variantOptionQualifiers),e.LSH)("title",Bt.variantNames[et.code])("alt",Bt.variantNames[et.code])}}function z(ue,nt){if(1&ue&&(e.TgZ(0,"ul",1),e.YNc(1,ie,2,3,"li",2),e.qZA()),2&ue){const et=e.oxw();e.xp6(1),e.Q6J("ngForOf",et.variants)}}const Z="productVariants";let x=(()=>{class ue{constructor(et,Bt){this.config=et,this.productListItemContext=Bt,this.subscriptions=new ye.w,this.ProductListOutlets=M.RVA,this.product$=this.productListItemContext?.product$??Te.E,this.variantNames={}}ngOnInit(){this.setVariantsNames(),this.subscriptions.add(this.product$.subscribe(et=>{et.variantOptions&&et.variantOptions.length&&(this.variants=et.variantOptions,this.setVariantsNames())}))}setVariantsNames(){this.variants?.forEach(et=>{et.code&&et.variantOptionQualifiers&&(this.variantNames[et.code]=this.getVariantName(et.variantOptionQualifiers)||"")})}getVariantThumbnailUrl(et){const Bt=et.find(vn=>vn.qualifier===I.zYO.THUMBNAIL);return Bt?`${this.config?.backend?.occ?.baseUrl}${Bt.image?.url}`:""}getVariantName(et){const Bt=et.find(Wn=>Wn.qualifier===I.zYO.ROLLUP_PROPERTY),vn=Bt?et.find(Wn=>Wn.qualifier===Bt.value):null;return vn?vn.value:""}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ue.\u0275fac=function(et){return new(et||ue)(e.Y36(I.Vri),e.Y36(M.Z6X,8))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["cx-variant-style-icons"]],inputs:{variants:"variants"},decls:1,vars:1,consts:[["class","variant-list",4,"ngIf"],[1,"variant-list"],[4,"ngFor","ngForOf"]],template:function(et,Bt){1&et&&e.YNc(0,z,2,1,"ul",0),2&et&&e.Q6J("ngIf",Bt.variants&&Bt.variants.length)},dependencies:[De.sg,De.O5],styles:["ul[_ngcontent-%COMP%]{padding:0;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}"],changeDetection:0}),ue})(),le=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,G.Bz,I.bhT,I.LUR]}),ue})();function He(){return{featureModules:{[Z]:{cmsComponents:["ProductVariantSelectorComponent"]}}}}let ct=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.x2j)(He),(0,M.qCb)({id:M.RVA.ITEM_DETAILS,position:M.otu.AFTER,component:x})],imports:[le]}),ue})(),Gt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Z]:{module:()=>m.e(694).then(m.bind(m,1532)).then(nt=>nt.ProductVariantsModule)}}})],imports:[ct]}),ue})();var Ut=m(5457);let Tn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[Ut.kd]:{module:()=>m.e(479).then(m.bind(m,5479)).then(nt=>nt.SmartEditModule)}}}),(0,I.A2H)({smartEdit:{allowOrigin:"localhost:9002, *.*.model-t.cc.commerce.ondemand.com:443"}})],imports:[Ut.Vg]}),ue})();const bn={layoutSlots:{StoreFinderPageTemplate:{slots:["MiddleContent","SideContent"]}}},or="storeFinder";function Un(){return{featureModules:{[or]:{cmsComponents:["StoreFinderComponent"]}}}}let En=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.i51)(bn),(0,I.x2j)(Un)]}),ue})(),qn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[or]:{module:()=>m.e(442).then(m.bind(m,2442)).then(nt=>nt.StoreFinderModule)}}})],imports:[En]}),ue})();var Ar=m(2994);let Ln=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275prov=e.Yz7({token:ue,factory:function(et){let Bt=null;return Bt=et?new(et||ue):e.LFG(I.DeH),Bt},providedIn:"root"}),ue})();const yr="personalization",Tr={personalization:{enabled:!1,httpHeaderName:{id:"Occ-Personalization-Id",timestamp:"Occ-Personalization-Time"},context:{slotPosition:"PlaceholderContentSlot",componentId:"PersonalizationScriptComponent"}}},ir=[{provide:h.TP,useExisting:(()=>{class ue{constructor(et,Bt,vn){this.config=et,this.occEndpoints=Bt,this.winRef=vn,this.enabled=!1,this.PERSONALIZATION_ID_KEY="personalization-id",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.id.toLowerCase(),this.personalizationId=this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_ID_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_ID_KEY))}intercept(et,Bt){return this.enabled?(this.requestHeader&&this.personalizationId&&et.url.includes(this.occEndpoints.getBaseUrl())&&(et=et.clone({setHeaders:{[this.requestHeader]:this.personalizationId}})),Bt.handle(et).pipe((0,Ar.b)(vn=>{if(vn instanceof h.Zn&&this.requestHeader&&vn.headers.keys().includes(this.requestHeader)){const Wn=vn.headers.get(this.requestHeader);this.personalizationId!==Wn&&(this.personalizationId=Wn,this.personalizationId&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_ID_KEY,this.personalizationId))}}))):Bt.handle(et)}}return ue.\u0275fac=function(et){return new(et||ue)(e.LFG(Ln),e.LFG(I.Lz0),e.LFG(I.X9E))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),multi:!0},{provide:h.TP,useExisting:(()=>{class ue{constructor(et,Bt,vn){this.config=et,this.occEndpoints=Bt,this.winRef=vn,this.enabled=!1,this.PERSONALIZATION_TIME_KEY="personalization-time",this.winRef.isBrowser()&&(this.enabled=this.winRef.localStorage&&this.config.personalization?.enabled||!1,this.enabled?(!this.config.personalization?.httpHeaderName&&(0,e.X6Q)()&&console.warn("There is no httpHeaderName configured in Personalization"),this.requestHeader=this.config.personalization?.httpHeaderName?.timestamp.toLowerCase(),this.timestamp=this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)):this.winRef.localStorage?.getItem(this.PERSONALIZATION_TIME_KEY)&&this.winRef.localStorage.removeItem(this.PERSONALIZATION_TIME_KEY))}intercept(et,Bt){return this.enabled?(this.requestHeader&&this.timestamp&&et.url.includes(this.occEndpoints.getBaseUrl())&&(et=et.clone({setHeaders:{[this.requestHeader]:this.timestamp}})),Bt.handle(et).pipe((0,Ar.b)(vn=>{if(vn instanceof h.Zn&&this.requestHeader&&vn.headers.keys().includes(this.requestHeader)){const Wn=vn.headers.get(this.requestHeader);this.timestamp!==Wn&&(this.timestamp=Wn,this.timestamp&&this.winRef.localStorage?.setItem(this.PERSONALIZATION_TIME_KEY,this.timestamp))}}))):Bt.handle(et)}}return ue.\u0275fac=function(et){return new(et||ue)(e.LFG(Ln),e.LFG(I.Lz0),e.LFG(I.X9E))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),multi:!0}];function sr(){return{featureModules:{[yr]:{cmsComponents:["PersonalizationScriptComponent"]}}}}let Sr=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[...ir,(0,I.i51)(Tr),(0,I.x2j)(sr)]}),ue})(),br=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[yr]:{module:()=>m.e(26).then(m.bind(m,4026)).then(nt=>nt.PersonalizationModule)}}})],imports:[Sr]}),ue})();var gr=m(7212),Mn=m(6538),Rn=m(9873),ur=m(4006);function Xn(ue,nt){1&ue&&e._UZ(0,"cx-spinner",11)}const nr=function(){return{cxRoute:"forgotPassword"}},Br=function(){return{cxRoute:"register"}};let wr=(()=>{class ue extends Rn.$N{}return ue.\u0275fac=function(){let nt;return function(Bt){return(nt||(nt=e.n5z(ue)))(Bt||ue)}}(),ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-olf-login"]],features:[e.qOj],decls:33,vars:42,consts:[["class","overlay",4,"ngIf"],[1,"login-customer-form",3,"formGroup","ngSubmit"],[1,"label-content"],["required","true","type","email","formControlName","userId",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn-link",3,"routerLink"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"register-section"],[1,"register-lable"],[1,"btn","btn-link",3,"routerLink"],[1,"overlay"]],template:function(et,Bt){1&et&&(e.YNc(0,Xn,1,0,"cx-spinner",0),e.ALo(1,"async"),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return Bt.onSubmit()}),e.TgZ(3,"label")(4,"span",2),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"input",3),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-form-errors",4),e.qZA(),e.TgZ(10,"label")(11,"span",2),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._UZ(14,"input",5),e.ALo(15,"cxTranslate"),e.ALo(16,"cxTranslate"),e._UZ(17,"cx-form-errors",4),e.qZA(),e.TgZ(18,"a",6),e.ALo(19,"cxUrl"),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA(),e.TgZ(22,"button",7),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"div",8)(26,"span",9),e._uU(27),e.ALo(28,"cxTranslate"),e.qZA(),e.TgZ(29,"a",10),e.ALo(30,"cxUrl"),e._uU(31),e.ALo(32,"cxTranslate"),e.qZA()()()),2&et&&(e.Q6J("ngIf",e.lcZ(1,16,Bt.isUpdating$)),e.xp6(2),e.Q6J("formGroup",Bt.form),e.xp6(3),e.Oqu(e.lcZ(6,18,"loginForm.emailAddress.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,20,"loginForm.emailAddress.placeholder")),e.xp6(2),e.Q6J("control",Bt.form.get("userId")),e.xp6(3),e.Oqu(e.lcZ(13,22,"loginForm.password.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,24,"loginForm.password.placeholder")),e.uIk("aria-label",e.lcZ(16,26,"loginForm.password.placeholder")),e.xp6(3),e.Q6J("control",Bt.form.get("password")),e.xp6(1),e.Q6J("routerLink",e.lcZ(19,28,e.DdM(40,nr))),e.xp6(2),e.hij(" ",e.lcZ(21,30,"loginForm.forgotPassword")," "),e.xp6(2),e.Q6J("disabled",Bt.form.disabled),e.xp6(1),e.hij(" ",e.lcZ(24,32,"loginForm.signIn")," "),e.xp6(4),e.hij(" ",e.lcZ(28,34,"loginForm.dontHaveAccount")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(30,36,e.DdM(41,Br))),e.xp6(2),e.hij(" ",e.lcZ(32,38,"loginForm.register")," "))},dependencies:[De.O5,G.yS,M.ORR,ur._Y,ur.Fj,ur.JJ,ur.JL,ur.Q7,ur.sg,ur.u,M.Ahv,De.Ov,I.X$D,I.l2T],styles:[".login-customer-form[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.login-customer-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:0 0 calc(100% - 10px)}.login-customer-form[_ngcontent-%COMP%]   .register-section[_ngcontent-%COMP%]{border-top:2px solid var(--ssf-light-primary);color:rgb(var(--ssf-dark-primary-base));margin:30px 0 0;padding:40px 0 0;text-align:center;width:100%}.login-customer-form[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:var(--ssf-red-olf);display:block}"]}),ue})(),qr=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({providers:[(0,I.A2H)({featureModules:{[gr.gu]:{module:()=>m.e(111).then(m.bind(m,2111)).then(nt=>nt.UserAccountModule)}},cmsComponents:{ReturningCustomerLoginComponent:{component:wr}}}),(0,I.A2H)({featureModules:{[Mn.t5]:{module:()=>m.e(697).then(m.bind(m,8697)).then(nt=>nt.UserProfileModule)}}})],imports:[gr.Jj,Mn.Ye]}),ue})(),Er=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,M.uY5,M.ISW,M.F4,M.QX1,V.MiniCartModule,I.bhT,G.Bz]}),ue})(),Se=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,M.uY5,I.bhT,M.ISW,M.iqf,M.QX1,V.MiniCartModule,I.zZ_]}),ue})(),lt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,Er,Se]}),ue})(),qe=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,M.ISW,G.Bz,I.LUR,I.bhT,M.Fme,ur.UX,M.Fym]}),ue})(),dt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[De.ez,I.LUR,G.Bz,M.NHU,M.f5$,M.OKE,M.oPH,M.GG_,M.ap8,M.ISW,lt,qe]}),ue})(),Vt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[I.nyr.forRoot(),M.Ixg,M.FLS,M.iqf,M.gJ3,M.LOH,M.sy8,M.wtB,M.Fpw,M.R8M,M.Jv5,M.AG5,M.Hyp,M.wHA,I.Y2r,I.zht,M.rSk,M.z2b,M.F9u,M.lzR,M.v5t,M.T2n,M.Kcf,I.cNt.forRoot(),M._VN,M._x$,I.scg.forRoot(),I.bPT,M.knA,M.FHW,M.fw4,M.F4,M.E7s,M.nKP,M.pvk,M.Sk1,M.tFc,M.zah,M.GZp,ae.Jp,bt.Tp,I.nWM,ke.FV,M.xRf,M.mUh,ae.ym,M.dDJ,I.gLQ.forRoot(),qr,br,qn,Tn,An,Gt,Qn,Nn,Ke,qt,Ot,an,Jt,st,it,dt]}),ue})(),Mt=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue}),ue.\u0275inj=e.cJS({imports:[Vt,Pn,M.ncj,M.ncj]}),ue})(),xn=(()=>{class ue{}return ue.\u0275fac=function(et){return new(et||ue)},ue.\u0275mod=e.oAB({type:ue,bootstrap:[pe]}),ue.\u0275inj=e.cJS({providers:[Rn.bQ],imports:[u.b2.withServerTransition({appId:"serverApp"}),h.JF,M.qst,P.Aw.forRoot({}),N.sQ.forRoot([]),Mt,dt,D.Wr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),u.Cu]}),ue})();(0,e.G48)(),document.addEventListener("DOMContentLoaded",()=>{u.q6().bootstrapModule(xn).catch(ue=>console.error(ue))})},8472:function(de,Q){var h,m=typeof self<"u"?self:this,u=function(){function h(){this.fetch=!1,this.DOMException=m.DOMException}return h.prototype=m,new h}();h=u,function(D){var P_searchParams="URLSearchParams"in h,P_iterable="Symbol"in h&&"iterator"in Symbol,P_blob="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),P_formData="FormData"in h,P_arrayBuffer="ArrayBuffer"in h;if(P_arrayBuffer)var M=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],G=ArrayBuffer.isView||function(ne){return ne&&M.indexOf(Object.prototype.toString.call(ne))>-1};function V(ne){if("string"!=typeof ne&&(ne=String(ne)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ne))throw new TypeError("Invalid character in header field name");return ne.toLowerCase()}function I(ne){return"string"!=typeof ne&&(ne=String(ne)),ne}function H(ne){var _e={next:function(){var be=ne.shift();return{done:void 0===be,value:be}}};return P_iterable&&(_e[Symbol.iterator]=function(){return _e}),_e}function $(ne){this.map={},ne instanceof $?ne.forEach(function(_e,be){this.append(be,_e)},this):Array.isArray(ne)?ne.forEach(function(_e){this.append(_e[0],_e[1])},this):ne&&Object.getOwnPropertyNames(ne).forEach(function(_e){this.append(_e,ne[_e])},this)}function J(ne){if(ne.bodyUsed)return Promise.reject(new TypeError("Already read"));ne.bodyUsed=!0}function re(ne){return new Promise(function(_e,be){ne.onload=function(){_e(ne.result)},ne.onerror=function(){be(ne.error)}})}function ae(ne){var _e=new FileReader,be=re(_e);return _e.readAsArrayBuffer(ne),be}function Xe(ne){if(ne.slice)return ne.slice(0);var _e=new Uint8Array(ne.byteLength);return _e.set(new Uint8Array(ne)),_e.buffer}function Le(){return this.bodyUsed=!1,this._initBody=function(ne){this._bodyInit=ne,ne?"string"==typeof ne?this._bodyText=ne:P_blob&&Blob.prototype.isPrototypeOf(ne)?this._bodyBlob=ne:P_formData&&FormData.prototype.isPrototypeOf(ne)?this._bodyFormData=ne:P_searchParams&&URLSearchParams.prototype.isPrototypeOf(ne)?this._bodyText=ne.toString():P_arrayBuffer&&P_blob&&function k(ne){return ne&&DataView.prototype.isPrototypeOf(ne)}(ne)?(this._bodyArrayBuffer=Xe(ne.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):P_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ne)||G(ne))?this._bodyArrayBuffer=Xe(ne):this._bodyText=ne=Object.prototype.toString.call(ne):this._bodyText="",this.headers.get("content-type")||("string"==typeof ne?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):P_searchParams&&URLSearchParams.prototype.isPrototypeOf(ne)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},P_blob&&(this.blob=function(){var ne=J(this);if(ne)return ne;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?J(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ae)}),this.text=function(){var ne=J(this);if(ne)return ne;if(this._bodyBlob)return function De(ne){var _e=new FileReader,be=re(_e);return _e.readAsText(ne),be}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Ze(ne){for(var _e=new Uint8Array(ne),be=new Array(_e.length),oe=0;oe<_e.length;oe++)be[oe]=String.fromCharCode(_e[oe]);return be.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},P_formData&&(this.formData=function(){return this.text().then(Ne)}),this.json=function(){return this.text().then(JSON.parse)},this}$.prototype.append=function(ne,_e){ne=V(ne),_e=I(_e);var be=this.map[ne];this.map[ne]=be?be+", "+_e:_e},$.prototype.delete=function(ne){delete this.map[V(ne)]},$.prototype.get=function(ne){return ne=V(ne),this.has(ne)?this.map[ne]:null},$.prototype.has=function(ne){return this.map.hasOwnProperty(V(ne))},$.prototype.set=function(ne,_e){this.map[V(ne)]=I(_e)},$.prototype.forEach=function(ne,_e){for(var be in this.map)this.map.hasOwnProperty(be)&&ne.call(_e,this.map[be],be,this)},$.prototype.keys=function(){var ne=[];return this.forEach(function(_e,be){ne.push(be)}),H(ne)},$.prototype.values=function(){var ne=[];return this.forEach(function(_e){ne.push(_e)}),H(ne)},$.prototype.entries=function(){var ne=[];return this.forEach(function(_e,be){ne.push([be,_e])}),H(ne)},P_iterable&&($.prototype[Symbol.iterator]=$.prototype.entries);var Ge=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function se(ne,_e){var be=(_e=_e||{}).body;if(ne instanceof se){if(ne.bodyUsed)throw new TypeError("Already read");this.url=ne.url,this.credentials=ne.credentials,_e.headers||(this.headers=new $(ne.headers)),this.method=ne.method,this.mode=ne.mode,this.signal=ne.signal,!be&&null!=ne._bodyInit&&(be=ne._bodyInit,ne.bodyUsed=!0)}else this.url=String(ne);if(this.credentials=_e.credentials||this.credentials||"same-origin",(_e.headers||!this.headers)&&(this.headers=new $(_e.headers)),this.method=function me(ne){var _e=ne.toUpperCase();return Ge.indexOf(_e)>-1?_e:ne}(_e.method||this.method||"GET"),this.mode=_e.mode||this.mode||null,this.signal=_e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&be)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(be)}function Ne(ne){var _e=new FormData;return ne.trim().split("&").forEach(function(be){if(be){var oe=be.split("="),Fe=oe.shift().replace(/\+/g," "),Re=oe.join("=").replace(/\+/g," ");_e.append(decodeURIComponent(Fe),decodeURIComponent(Re))}}),_e}function ze(ne){var _e=new $;return ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(oe){var Fe=oe.split(":"),Re=Fe.shift().trim();if(Re){var pt=Fe.join(":").trim();_e.append(Re,pt)}}),_e}function Ie(ne,_e){_e||(_e={}),this.type="default",this.status=void 0===_e.status?200:_e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _e?_e.statusText:"OK",this.headers=new $(_e.headers),this.url=_e.url||"",this._initBody(ne)}se.prototype.clone=function(){return new se(this,{body:this._bodyInit})},Le.call(se.prototype),Le.call(Ie.prototype),Ie.prototype.clone=function(){return new Ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $(this.headers),url:this.url})},Ie.error=function(){var ne=new Ie(null,{status:0,statusText:""});return ne.type="error",ne};var he=[301,302,303,307,308];Ie.redirect=function(ne,_e){if(-1===he.indexOf(_e))throw new RangeError("Invalid status code");return new Ie(null,{status:_e,headers:{location:ne}})},D.DOMException=h.DOMException;try{new D.DOMException}catch{D.DOMException=function(_e,be){this.message=_e,this.name=be;var oe=Error(_e);this.stack=oe.stack},D.DOMException.prototype=Object.create(Error.prototype),D.DOMException.prototype.constructor=D.DOMException}function pe(ne,_e){return new Promise(function(be,oe){var Fe=new se(ne,_e);if(Fe.signal&&Fe.signal.aborted)return oe(new D.DOMException("Aborted","AbortError"));var Re=new XMLHttpRequest;function pt(){Re.abort()}Re.onload=function(){var Qe={status:Re.status,statusText:Re.statusText,headers:ze(Re.getAllResponseHeaders()||"")};Qe.url="responseURL"in Re?Re.responseURL:Qe.headers.get("X-Request-URL"),be(new Ie("response"in Re?Re.response:Re.responseText,Qe))},Re.onerror=function(){oe(new TypeError("Network request failed"))},Re.ontimeout=function(){oe(new TypeError("Network request failed"))},Re.onabort=function(){oe(new D.DOMException("Aborted","AbortError"))},Re.open(Fe.method,Fe.url,!0),"include"===Fe.credentials?Re.withCredentials=!0:"omit"===Fe.credentials&&(Re.withCredentials=!1),"responseType"in Re&&P_blob&&(Re.responseType="blob"),Fe.headers.forEach(function(Qe,rt){Re.setRequestHeader(rt,Qe)}),Fe.signal&&(Fe.signal.addEventListener("abort",pt),Re.onreadystatechange=function(){4===Re.readyState&&Fe.signal.removeEventListener("abort",pt)}),Re.send(typeof Fe._bodyInit>"u"?null:Fe._bodyInit)})}pe.polyfill=!0,h.fetch||(h.fetch=pe,h.Headers=$,h.Request=se,h.Response=Ie),D.Headers=$,D.Request=se,D.Response=Ie,D.fetch=pe,Object.defineProperty(D,"__esModule",{value:!0})}({}),u.fetch.ponyfill=!0,delete u.fetch.polyfill;var e=u;(Q=e.fetch).default=e.fetch,Q.fetch=e.fetch,Q.Headers=e.Headers,Q.Request=e.Request,Q.Response=e.Response,de.exports=Q},1302:function(de,Q,m){var u;!function(e,h){var N={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function N($,J,re,ae,De){for(var Ze,Xe,Le,Ge,me,se,Ne,ze,Ie,he,pe,ne,_e;De>=64;){for(Ze=J[0],Xe=J[1],Le=J[2],Ge=J[3],me=J[4],se=J[5],Ne=J[6],ze=J[7],he=0;he<16;he++)$[he]=(255&re[pe=ae+4*he])<<24|(255&re[pe+1])<<16|(255&re[pe+2])<<8|255&re[pe+3];for(he=16;he<64;he++)$[he]=((ne=((Ie=$[he-2])>>>17|Ie<<15)^(Ie>>>19|Ie<<13)^Ie>>>10)+$[he-7]|0)+((_e=((Ie=$[he-15])>>>7|Ie<<25)^(Ie>>>18|Ie<<14)^Ie>>>3)+$[he-16]|0);for(he=0;he<64;he++)ne=(((me>>>6|me<<26)^(me>>>11|me<<21)^(me>>>25|me<<7))+(me&se^~me&Ne)|0)+(ze+(h[he]+$[he]|0)|0)|0,_e=((Ze>>>2|Ze<<30)^(Ze>>>13|Ze<<19)^(Ze>>>22|Ze<<10))+(Ze&Xe^Ze&Le^Xe&Le)|0,ze=Ne,Ne=se,se=me,me=Ge+ne|0,Ge=Le,Le=Xe,Xe=Ze,Ze=ne+_e|0;J[0]+=Ze,J[1]+=Xe,J[2]+=Le,J[3]+=Ge,J[4]+=me,J[5]+=se,J[6]+=Ne,J[7]+=ze,ae+=64,De-=64}return ae}var D=function(){function $(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return $.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},$.prototype.clean=function(){for(var J=0;J<this.buffer.length;J++)this.buffer[J]=0;for(J=0;J<this.temp.length;J++)this.temp[J]=0;this.reset()},$.prototype.update=function(J,re){if(void 0===re&&(re=J.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var ae=0;if(this.bytesHashed+=re,this.bufferLength>0){for(;this.bufferLength<64&&re>0;)this.buffer[this.bufferLength++]=J[ae++],re--;64===this.bufferLength&&(N(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(re>=64&&(ae=N(this.temp,this.state,J,ae,re),re%=64);re>0;)this.buffer[this.bufferLength++]=J[ae++],re--;return this},$.prototype.finish=function(J){if(!this.finished){var re=this.bytesHashed,ae=this.bufferLength,De=re/536870912|0,Ze=re<<3,Xe=re%64<56?64:128;this.buffer[ae]=128;for(var Le=ae+1;Le<Xe-8;Le++)this.buffer[Le]=0;this.buffer[Xe-8]=De>>>24&255,this.buffer[Xe-7]=De>>>16&255,this.buffer[Xe-6]=De>>>8&255,this.buffer[Xe-5]=De>>>0&255,this.buffer[Xe-4]=Ze>>>24&255,this.buffer[Xe-3]=Ze>>>16&255,this.buffer[Xe-2]=Ze>>>8&255,this.buffer[Xe-1]=Ze>>>0&255,N(this.temp,this.state,this.buffer,0,Xe),this.finished=!0}for(Le=0;Le<8;Le++)J[4*Le+0]=this.state[Le]>>>24&255,J[4*Le+1]=this.state[Le]>>>16&255,J[4*Le+2]=this.state[Le]>>>8&255,J[4*Le+3]=this.state[Le]>>>0&255;return this},$.prototype.digest=function(){var J=new Uint8Array(this.digestLength);return this.finish(J),J},$.prototype._saveState=function(J){for(var re=0;re<this.state.length;re++)J[re]=this.state[re]},$.prototype._restoreState=function(J,re){for(var ae=0;ae<this.state.length;ae++)this.state[ae]=J[ae];this.bytesHashed=re,this.finished=!1,this.bufferLength=0},$}();e.Hash=D;var P=function(){function $(J){this.inner=new D,this.outer=new D,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var re=new Uint8Array(this.blockSize);if(J.length>this.blockSize)(new D).update(J).finish(re).clean();else for(var ae=0;ae<J.length;ae++)re[ae]=J[ae];for(ae=0;ae<re.length;ae++)re[ae]^=54;for(this.inner.update(re),ae=0;ae<re.length;ae++)re[ae]^=106;for(this.outer.update(re),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),ae=0;ae<re.length;ae++)re[ae]=0}return $.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},$.prototype.clean=function(){for(var J=0;J<this.istate.length;J++)this.ostate[J]=this.istate[J]=0;this.inner.clean(),this.outer.clean()},$.prototype.update=function(J){return this.inner.update(J),this},$.prototype.finish=function(J){return this.outer.finished?this.outer.finish(J):(this.inner.finish(J),this.outer.update(J,this.digestLength).finish(J)),this},$.prototype.digest=function(){var J=new Uint8Array(this.digestLength);return this.finish(J),J},$}();function k($){var J=(new D).update($),re=J.digest();return J.clean(),re}function M($,J){var re=new P($).update(J),ae=re.digest();return re.clean(),ae}function G($,J,re,ae){var De=ae[0];if(0===De)throw new Error("hkdf: cannot expand more");J.reset(),De>1&&J.update($),re&&J.update(re),J.update(ae),J.finish($),ae[0]++}e.HMAC=P,e.hash=k,e.default=k,e.hmac=M;var V=new Uint8Array(e.digestLength);e.hkdf=function I($,J,re,ae){void 0===J&&(J=V),void 0===ae&&(ae=32);for(var De=new Uint8Array([1]),Ze=M(J,$),Xe=new P(Ze),Le=new Uint8Array(Xe.digestLength),Ge=Le.length,me=new Uint8Array(ae),se=0;se<ae;se++)Ge===Le.length&&(G(Le,Xe,re,De),Ge=0),me[se]=Le[Ge++];return Xe.clean(),Le.fill(0),De.fill(0),me},e.pbkdf2=function H($,J,re,ae){for(var De=new P($),Ze=De.digestLength,Xe=new Uint8Array(4),Le=new Uint8Array(Ze),Ge=new Uint8Array(Ze),me=new Uint8Array(ae),se=0;se*Ze<ae;se++){var Ne=se+1;Xe[0]=Ne>>>24&255,Xe[1]=Ne>>>16&255,Xe[2]=Ne>>>8&255,Xe[3]=Ne>>>0&255,De.reset(),De.update(J),De.update(Xe),De.finish(Ge);for(var ze=0;ze<Ze;ze++)Le[ze]=Ge[ze];for(ze=2;ze<=re;ze++){De.reset(),De.update(Ge).finish(Ge);for(var Ie=0;Ie<Ze;Ie++)Le[Ie]^=Ge[Ie]}for(ze=0;ze<Ze&&se*Ze+ze<ae;ze++)me[se*Ze+ze]=Le[ze]}for(se=0;se<Ze;se++)Le[se]=Ge[se]=0;for(se=0;se<4;se++)Xe[se]=0;return De.clean(),me}}(N);var D=N.default;for(var P in N)D[P]=N[P];"object"==typeof de.exports?de.exports=D:void 0!==(u=function(){return D}.call(N,m,N,de))&&(de.exports=u)}()},591:(de,Q,m)=>{"use strict";m.d(Q,{X:()=>h});var u=m(8929),e=m(5279);class h extends u.xQ{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const P=super._subscribe(D);return P&&!P.closed&&D.next(this._value),P}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new e.N;return this._value}next(D){super.next(this._value=D)}}},9312:(de,Q,m)=>{"use strict";m.d(Q,{P:()=>D});var u=m(8896),e=m(1086),h=m(1737);class D{constructor(k,M,G){this.kind=k,this.value=M,this.error=G,this.hasValue="N"===k}observe(k){switch(this.kind){case"N":return k.next&&k.next(this.value);case"E":return k.error&&k.error(this.error);case"C":return k.complete&&k.complete()}}do(k,M,G){switch(this.kind){case"N":return k&&k(this.value);case"E":return M&&M(this.error);case"C":return G&&G()}}accept(k,M,G){return k&&"function"==typeof k.next?this.observe(k):this.do(k,M,G)}toObservable(){switch(this.kind){case"N":return(0,e.of)(this.value);case"E":return(0,h._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(k){return typeof k<"u"?new D("N",k):D.undefinedValueNotification}static createError(k){return new D("E",void 0,k)}static createComplete(){return D.completeNotification}}D.completeNotification=new D("C"),D.undefinedValueNotification=new D("N",void 0)},6498:(de,Q,m)=>{"use strict";m.d(Q,{y:()=>G});var u=m(3489),h=m(7668),N=m(3292),P=m(3821),k=m(4843),M=m(2830);let G=(()=>{class I{constructor($){this._isScalar=!1,$&&(this._subscribe=$)}lift($){const J=new I;return J.source=this,J.operator=$,J}subscribe($,J,re){const{operator:ae}=this,De=function D(I,H,$){if(I){if(I instanceof u.L)return I;if(I[h.b])return I[h.b]()}return I||H||$?new u.L(I,H,$):new u.L(N.c)}($,J,re);if(De.add(ae?ae.call(De,this.source):this.source||M.v.useDeprecatedSynchronousErrorHandling&&!De.syncErrorThrowable?this._subscribe(De):this._trySubscribe(De)),M.v.useDeprecatedSynchronousErrorHandling&&De.syncErrorThrowable&&(De.syncErrorThrowable=!1,De.syncErrorThrown))throw De.syncErrorValue;return De}_trySubscribe($){try{return this._subscribe($)}catch(J){M.v.useDeprecatedSynchronousErrorHandling&&($.syncErrorThrown=!0,$.syncErrorValue=J),function e(I){for(;I;){const{closed:H,destination:$,isStopped:J}=I;if(H||J)return!1;I=$&&$ instanceof u.L?$:null}return!0}($)?$.error(J):console.warn(J)}}forEach($,J){return new(J=V(J))((re,ae)=>{let De;De=this.subscribe(Ze=>{try{$(Ze)}catch(Xe){ae(Xe),De&&De.unsubscribe()}},ae,re)})}_subscribe($){const{source:J}=this;return J&&J.subscribe($)}[P.L](){return this}pipe(...$){return 0===$.length?this:(0,k.U)($)(this)}toPromise($){return new($=V($))((J,re)=>{let ae;this.subscribe(De=>ae=De,De=>re(De),()=>J(ae))})}}return I.create=H=>new I(H),I})();function V(I){if(I||(I=M.v.Promise||Promise),!I)throw new Error("no Promise impl found");return I}},3292:(de,Q,m)=>{"use strict";m.d(Q,{c:()=>h});var u=m(2830),e=m(2782);const h={closed:!0,next(N){},error(N){if(u.v.useDeprecatedSynchronousErrorHandling)throw N;(0,e.z)(N)},complete(){}}},826:(de,Q,m)=>{"use strict";m.d(Q,{L:()=>e});var u=m(3489);class e extends u.L{notifyNext(N,D,P,k,M){this.destination.next(D)}notifyError(N,D){this.destination.error(N)}notifyComplete(N){this.destination.complete()}}},839:(de,Q,m)=>{"use strict";m.d(Q,{t:()=>k});var u=m(8929),e=m(341),h=m(2654),N=m(7770),D=m(5279),P=m(5283);class k extends u.xQ{constructor(V=Number.POSITIVE_INFINITY,I=Number.POSITIVE_INFINITY,H){super(),this.scheduler=H,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=V<1?1:V,this._windowTime=I<1?1:I,I===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(V){if(!this.isStopped){const I=this._events;I.push(V),I.length>this._bufferSize&&I.shift()}super.next(V)}nextTimeWindow(V){this.isStopped||(this._events.push(new M(this._getNow(),V)),this._trimBufferThenGetEvents()),super.next(V)}_subscribe(V){const I=this._infiniteTimeWindow,H=I?this._events:this._trimBufferThenGetEvents(),$=this.scheduler,J=H.length;let re;if(this.closed)throw new D.N;if(this.isStopped||this.hasError?re=h.w.EMPTY:(this.observers.push(V),re=new P.W(this,V)),$&&V.add(V=new N.ht(V,$)),I)for(let ae=0;ae<J&&!V.closed;ae++)V.next(H[ae]);else for(let ae=0;ae<J&&!V.closed;ae++)V.next(H[ae].value);return this.hasError?V.error(this.thrownError):this.isStopped&&V.complete(),re}_getNow(){return(this.scheduler||e.c).now()}_trimBufferThenGetEvents(){const V=this._getNow(),I=this._bufferSize,H=this._windowTime,$=this._events,J=$.length;let re=0;for(;re<J&&!(V-$[re].time<H);)re++;return J>I&&(re=Math.max(re,J-I)),re>0&&$.splice(0,re),$}}class M{constructor(V,I){this.time=V,this.value=I}}},8929:(de,Q,m)=>{"use strict";m.d(Q,{Yc:()=>k,xQ:()=>M});var u=m(6498),e=m(3489),h=m(2654),N=m(5279),D=m(5283),P=m(7668);class k extends e.L{constructor(I){super(I),this.destination=I}}let M=(()=>{class V extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[P.b](){return new k(this)}lift(H){const $=new G(this,this);return $.operator=H,$}next(H){if(this.closed)throw new N.N;if(!this.isStopped){const{observers:$}=this,J=$.length,re=$.slice();for(let ae=0;ae<J;ae++)re[ae].next(H)}}error(H){if(this.closed)throw new N.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:$}=this,J=$.length,re=$.slice();for(let ae=0;ae<J;ae++)re[ae].error(H);this.observers.length=0}complete(){if(this.closed)throw new N.N;this.isStopped=!0;const{observers:H}=this,$=H.length,J=H.slice();for(let re=0;re<$;re++)J[re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new N.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new N.N;return this.hasError?(H.error(this.thrownError),h.w.EMPTY):this.isStopped?(H.complete(),h.w.EMPTY):(this.observers.push(H),new D.W(this,H))}asObservable(){const H=new u.y;return H.source=this,H}}return V.create=(I,H)=>new G(I,H),V})();class G extends M{constructor(I,H){super(),this.destination=I,this.source=H}next(I){const{destination:H}=this;H&&H.next&&H.next(I)}error(I){const{destination:H}=this;H&&H.error&&this.destination.error(I)}complete(){const{destination:I}=this;I&&I.complete&&this.destination.complete()}_subscribe(I){const{source:H}=this;return H?this.source.subscribe(I):h.w.EMPTY}}},5283:(de,Q,m)=>{"use strict";m.d(Q,{W:()=>e});var u=m(2654);class e extends u.w{constructor(N,D){super(),this.subject=N,this.subscriber=D,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const N=this.subject,D=N.observers;if(this.subject=null,!D||0===D.length||N.isStopped||N.closed)return;const P=D.indexOf(this.subscriber);-1!==P&&D.splice(P,1)}}},3489:(de,Q,m)=>{"use strict";m.d(Q,{L:()=>k});var u=m(7043),e=m(3292),h=m(2654),N=m(7668),D=m(2830),P=m(2782);class k extends h.w{constructor(V,I,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=e.c;break;case 1:if(!V){this.destination=e.c;break}if("object"==typeof V){V instanceof k?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new M(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new M(this,V,I,H)}}[N.b](){return this}static create(V,I,H){const $=new k(V,I,H);return $.syncErrorThrowable=!1,$}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class M extends k{constructor(V,I,H,$){super(),this._parentSubscriber=V;let J,re=this;(0,u.m)(I)?J=I:I&&(J=I.next,H=I.error,$=I.complete,I!==e.c&&(re=Object.create(I),(0,u.m)(re.unsubscribe)&&this.add(re.unsubscribe.bind(re)),re.unsubscribe=this.unsubscribe.bind(this))),this._context=re,this._next=J,this._error=H,this._complete=$}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:I}=this;D.v.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable?this.__tryOrSetError(I,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:I}=this,{useDeprecatedSynchronousErrorHandling:H}=D.v;if(this._error)H&&I.syncErrorThrowable?(this.__tryOrSetError(I,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(I.syncErrorThrowable)H?(I.syncErrorValue=V,I.syncErrorThrown=!0):(0,P.z)(V),this.unsubscribe();else{if(this.unsubscribe(),H)throw V;(0,P.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const I=()=>this._complete.call(this._context);D.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,I),this.unsubscribe()):(this.__tryOrUnsub(I),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,I){try{V.call(this._context,I)}catch(H){if(this.unsubscribe(),D.v.useDeprecatedSynchronousErrorHandling)throw H;(0,P.z)(H)}}__tryOrSetError(V,I,H){if(!D.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{I.call(this._context,H)}catch($){return D.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=$,V.syncErrorThrown=!0,!0):((0,P.z)($),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(de,Q,m)=>{"use strict";m.d(Q,{w:()=>P});var u=m(6688),e=m(7830),h=m(7043);const D=(()=>{function M(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((V,I)=>`${I+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return M.prototype=Object.create(Error.prototype),M})();class P{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:I,_unsubscribe:H,_subscriptions:$}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof P)V.remove(this);else if(null!==V)for(let J=0;J<V.length;++J)V[J].remove(this);if((0,h.m)(H)){I&&(this._unsubscribe=void 0);try{H.call(this)}catch(J){G=J instanceof D?k(J.errors):[J]}}if((0,u.k)($)){let J=-1,re=$.length;for(;++J<re;){const ae=$[J];if((0,e.K)(ae))try{ae.unsubscribe()}catch(De){G=G||[],De instanceof D?G=G.concat(k(De.errors)):G.push(De)}}}if(G)throw new D(G)}add(G){let V=G;if(!G)return P.EMPTY;switch(typeof G){case"function":V=new P(G);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof P)){const $=V;V=new P,V._subscriptions=[$]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:I}=V;if(null===I)V._parentOrParents=this;else if(I instanceof P){if(I===this)return V;V._parentOrParents=[I,this]}else{if(-1!==I.indexOf(this))return V;I.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[V]:H.push(V),V}remove(G){const V=this._subscriptions;if(V){const I=V.indexOf(G);-1!==I&&V.splice(I,1)}}}var M;function k(M){return M.reduce((G,V)=>G.concat(V instanceof D?V.errors:V),[])}P.EMPTY=((M=new P).closed=!0,M)},2830:(de,Q,m)=>{"use strict";m.d(Q,{v:()=>e});let u=!1;const e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(h){if(h){const N=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+N.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=h},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(de,Q,m)=>{"use strict";m.d(Q,{Ds:()=>P,IY:()=>N,ft:()=>M});var u=m(3489),e=m(6498),h=m(9249);class N extends u.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class P extends u.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function M(G,V){if(V.closed)return;if(G instanceof e.y)return G.subscribe(V);let I;try{I=(0,h.s)(G)(V)}catch(H){V.error(H)}return I}},1762:(de,Q,m)=>{"use strict";m.d(Q,{N:()=>P,c:()=>D});var u=m(8929),e=m(6498),h=m(2654),N=m(4327);class D extends e.y{constructor(I,H){super(),this.source=I,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let I=this._connection;return I||(this._isComplete=!1,I=this._connection=new h.w,I.add(this.source.subscribe(new k(this.getSubject(),this))),I.closed&&(this._connection=null,I=h.w.EMPTY)),I}refCount(){return(0,N.x)()(this)}}const P=(()=>{const V=D.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class k extends u.Yc{constructor(I,H){super(I),this.connectable=H}_error(I){this._unsubscribe(),super._error(I)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const I=this.connectable;if(I){this.connectable=null;const H=I._connection;I._refCount=0,I._subject=null,I._connection=null,H&&H.unsubscribe()}}}},6053:(de,Q,m)=>{"use strict";m.d(Q,{aj:()=>k});var u=m(2866),e=m(6688),h=m(826),N=m(448),D=m(3009);const P={};function k(...V){let I,H;return(0,u.K)(V[V.length-1])&&(H=V.pop()),"function"==typeof V[V.length-1]&&(I=V.pop()),1===V.length&&(0,e.k)(V[0])&&(V=V[0]),(0,D.n)(V,H).lift(new M(I))}class M{constructor(I){this.resultSelector=I}call(I,H){return H.subscribe(new G(I,this.resultSelector))}}class G extends h.L{constructor(I,H){super(I),this.resultSelector=H,this.active=0,this.values=[],this.observables=[]}_next(I){this.values.push(P),this.observables.push(I)}_complete(){const I=this.observables,H=I.length;if(0===H)this.destination.complete();else{this.active=H,this.toRespond=H;for(let $=0;$<H;$++)this.add((0,N.D)(this,I[$],void 0,$))}}notifyComplete(I){0==(this.active-=1)&&this.destination.complete()}notifyNext(I,H,$){const J=this.values,ae=this.toRespond?J[$]===P?--this.toRespond:this.toRespond:0;J[$]=H,0===ae&&(this.resultSelector?this._tryResultSelector(J):this.destination.next(J.slice()))}_tryResultSelector(I){let H;try{H=this.resultSelector.apply(this,I)}catch($){return void this.destination.error($)}this.destination.next(H)}}},1221:(de,Q,m)=>{"use strict";m.d(Q,{z:()=>N});var u=m(1086),e=m(9146);function N(...D){return function h(){return(0,e.J)(1)}()((0,u.of)(...D))}},8514:(de,Q,m)=>{"use strict";m.d(Q,{P:()=>N});var u=m(6498),e=m(5254),h=m(8896);function N(D){return new u.y(P=>{let k;try{k=D()}catch(G){return void P.error(G)}return(k?(0,e.D)(k):(0,h.c)()).subscribe(P)})}},8896:(de,Q,m)=>{"use strict";m.d(Q,{E:()=>e,c:()=>h});var u=m(6498);const e=new u.y(D=>D.complete());function h(D){return D?function N(D){return new u.y(P=>D.schedule(()=>P.complete()))}(D):e}},567:(de,Q,m)=>{"use strict";m.d(Q,{D:()=>P});var u=m(6498),e=m(6688),h=m(4850),N=m(7830),D=m(5254);function P(...M){if(1===M.length){const G=M[0];if((0,e.k)(G))return k(G,null);if((0,N.K)(G)&&Object.getPrototypeOf(G)===Object.prototype){const V=Object.keys(G);return k(V.map(I=>G[I]),V)}}if("function"==typeof M[M.length-1]){const G=M.pop();return k(M=1===M.length&&(0,e.k)(M[0])?M[0]:M,null).pipe((0,h.U)(V=>G(...V)))}return k(M,null)}function k(M,G){return new u.y(V=>{const I=M.length;if(0===I)return void V.complete();const H=new Array(I);let $=0,J=0;for(let re=0;re<I;re++){const ae=(0,D.D)(M[re]);let De=!1;V.add(ae.subscribe({next:Ze=>{De||(De=!0,J++),H[re]=Ze},error:Ze=>V.error(Ze),complete:()=>{$++,($===I||!De)&&(J===I&&V.next(G?G.reduce((Ze,Xe,Le)=>(Ze[Xe]=H[Le],Ze),{}):H),V.complete())}}))}})}},5254:(de,Q,m)=>{"use strict";m.d(Q,{D:()=>re});var u=m(6498),e=m(9249),h=m(2654),N=m(3821),k=m(6454),M=m(5430),I=m(8955),H=m(8515);function re(ae,De){return De?function J(ae,De){if(null!=ae){if(function V(ae){return ae&&"function"==typeof ae[N.L]}(ae))return function D(ae,De){return new u.y(Ze=>{const Xe=new h.w;return Xe.add(De.schedule(()=>{const Le=ae[N.L]();Xe.add(Le.subscribe({next(Ge){Xe.add(De.schedule(()=>Ze.next(Ge)))},error(Ge){Xe.add(De.schedule(()=>Ze.error(Ge)))},complete(){Xe.add(De.schedule(()=>Ze.complete()))}}))})),Xe})}(ae,De);if((0,I.t)(ae))return function P(ae,De){return new u.y(Ze=>{const Xe=new h.w;return Xe.add(De.schedule(()=>ae.then(Le=>{Xe.add(De.schedule(()=>{Ze.next(Le),Xe.add(De.schedule(()=>Ze.complete()))}))},Le=>{Xe.add(De.schedule(()=>Ze.error(Le)))}))),Xe})}(ae,De);if((0,H.z)(ae))return(0,k.r)(ae,De);if(function $(ae){return ae&&"function"==typeof ae[M.hZ]}(ae)||"string"==typeof ae)return function G(ae,De){if(!ae)throw new Error("Iterable cannot be null");return new u.y(Ze=>{const Xe=new h.w;let Le;return Xe.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),Xe.add(De.schedule(()=>{Le=ae[M.hZ](),Xe.add(De.schedule(function(){if(Ze.closed)return;let Ge,me;try{const se=Le.next();Ge=se.value,me=se.done}catch(se){return void Ze.error(se)}me?Ze.complete():(Ze.next(Ge),this.schedule())}))})),Xe})}(ae,De)}throw new TypeError((null!==ae&&typeof ae||ae)+" is not observable")}(ae,De):ae instanceof u.y?ae:new u.y((0,e.s)(ae))}},3009:(de,Q,m)=>{"use strict";m.d(Q,{n:()=>N});var u=m(6498),e=m(3650),h=m(6454);function N(D,P){return P?(0,h.r)(D,P):new u.y((0,e.V)(D))}},3753:(de,Q,m)=>{"use strict";m.d(Q,{R:()=>P});var u=m(6498),e=m(6688),h=m(7043),N=m(4850);function P(I,H,$,J){return(0,h.m)($)&&(J=$,$=void 0),J?P(I,H,$).pipe((0,N.U)(re=>(0,e.k)(re)?J(...re):J(re))):new u.y(re=>{k(I,H,function ae(De){re.next(arguments.length>1?Array.prototype.slice.call(arguments):De)},re,$)})}function k(I,H,$,J,re){let ae;if(function V(I){return I&&"function"==typeof I.addEventListener&&"function"==typeof I.removeEventListener}(I)){const De=I;I.addEventListener(H,$,re),ae=()=>De.removeEventListener(H,$,re)}else if(function G(I){return I&&"function"==typeof I.on&&"function"==typeof I.off}(I)){const De=I;I.on(H,$),ae=()=>De.off(H,$)}else if(function M(I){return I&&"function"==typeof I.addListener&&"function"==typeof I.removeListener}(I)){const De=I;I.addListener(H,$),ae=()=>De.removeListener(H,$)}else{if(!I||!I.length)throw new TypeError("Invalid event target");for(let De=0,Ze=I.length;De<Ze;De++)k(I[De],H,$,J,re)}J.add(ae)}},6787:(de,Q,m)=>{"use strict";m.d(Q,{T:()=>D});var u=m(6498),e=m(2866),h=m(9146),N=m(3009);function D(...P){let k=Number.POSITIVE_INFINITY,M=null,G=P[P.length-1];return(0,e.K)(G)?(M=P.pop(),P.length>1&&"number"==typeof P[P.length-1]&&(k=P.pop())):"number"==typeof G&&(k=P.pop()),null===M&&1===P.length&&P[0]instanceof u.y?P[0]:(0,h.J)(k)((0,N.n)(P,M))}},1086:(de,Q,m)=>{"use strict";m.d(Q,{of:()=>N});var u=m(2866),e=m(3009),h=m(6454);function N(...D){let P=D[D.length-1];return(0,u.K)(P)?(D.pop(),(0,h.r)(D,P)):(0,e.n)(D)}},1946:(de,Q,m)=>{"use strict";m.d(Q,{S3:()=>D});var u=m(6688),e=m(3009),h=m(826),N=m(448);function D(...M){if(1===M.length){if(!(0,u.k)(M[0]))return M[0];M=M[0]}return(0,e.n)(M,void 0).lift(new P)}class P{call(G,V){return V.subscribe(new k(G))}}class k extends h.L{constructor(G){super(G),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(G){this.observables.push(G)}_complete(){const G=this.observables,V=G.length;if(0===V)this.destination.complete();else{for(let I=0;I<V&&!this.hasFirst;I++){const $=(0,N.D)(this,G[I],void 0,I);this.subscriptions&&this.subscriptions.push($),this.add($)}this.observables=null}}notifyNext(G,V,I){if(!this.hasFirst){this.hasFirst=!0;for(let H=0;H<this.subscriptions.length;H++)if(H!==I){let $=this.subscriptions[H];$.unsubscribe(),this.remove($)}this.subscriptions=null}this.destination.next(V)}}},1737:(de,Q,m)=>{"use strict";m.d(Q,{_:()=>e});var u=m(6498);function e(N,D){return new u.y(D?P=>D.schedule(h,0,{error:N,subscriber:P}):P=>P.error(N))}function h({error:N,subscriber:D}){D.error(N)}},8723:(de,Q,m)=>{"use strict";m.d(Q,{H:()=>D});var u=m(6498),e=m(353),h=m(4241),N=m(2866);function D(k=0,M,G){let V=-1;return(0,h.k)(M)?V=Number(M)<1?1:Number(M):(0,N.K)(M)&&(G=M),(0,N.K)(G)||(G=e.P),new u.y(I=>{const H=(0,h.k)(k)?k:+k-G.now();return G.schedule(P,H,{index:0,period:V,subscriber:I})})}function P(k){const{index:M,period:G,subscriber:V}=k;if(V.next(M),!V.closed){if(-1===G)return V.complete();k.index=M+1,this.schedule(k,G)}}},5409:(de,Q,m)=>{"use strict";m.d(Q,{g:()=>N});var u=m(6498),e=m(5254),h=m(8896);function N(D,P){return new u.y(k=>{let M,G;try{M=D()}catch(H){return void k.error(H)}try{G=P(M)}catch(H){return void k.error(H)}const I=(G?(0,e.D)(G):h.E).subscribe(k);return()=>{I.unsubscribe(),M&&M.unsubscribe()}})}},384:(de,Q,m)=>{"use strict";m.d(Q,{U:()=>e});var u=m(1177);function e(D){return function(k){return k.lift(new h(D))}}class h{constructor(P){this.durationSelector=P}call(P,k){return k.subscribe(new N(P,this.durationSelector))}}class N extends u.Ds{constructor(P,k){super(P),this.durationSelector=k,this.hasValue=!1}_next(P){if(this.value=P,this.hasValue=!0,!this.throttled){let k;try{const{durationSelector:G}=this;k=G(P)}catch(G){return this.destination.error(G)}const M=(0,u.ft)(k,new u.IY(this));!M||M.closed?this.clearThrottle():this.add(this.throttled=M)}}clearThrottle(){const{value:P,hasValue:k,throttled:M}=this;M&&(this.remove(M),this.throttled=void 0,M.unsubscribe()),k&&(this.value=void 0,this.hasValue=!1,this.destination.next(P))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}},7568:(de,Q,m)=>{"use strict";m.d(Q,{e:()=>N});var u=m(353),e=m(384),h=m(8723);function N(D,P=u.P){return(0,e.U)(()=>(0,h.H)(D,P))}},7221:(de,Q,m)=>{"use strict";m.d(Q,{K:()=>e});var u=m(1177);function e(D){return function(k){const M=new h(D),G=k.lift(M);return M.caught=G}}class h{constructor(P){this.selector=P}call(P,k){return k.subscribe(new N(P,this.selector,this.caught))}}class N extends u.Ds{constructor(P,k,M){super(P),this.selector=k,this.caught=M}error(P){if(!this.isStopped){let k;try{k=this.selector(P,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const M=new u.IY(this);this.add(M);const G=(0,u.ft)(k,M);G!==M&&this.add(G)}}}},1406:(de,Q,m)=>{"use strict";m.d(Q,{b:()=>e});var u=m(1709);function e(h,N){return(0,u.zg)(h,N,1)}},13:(de,Q,m)=>{"use strict";m.d(Q,{b:()=>h});var u=m(3489),e=m(353);function h(k,M=e.P){return G=>G.lift(new N(k,M))}class N{constructor(M,G){this.dueTime=M,this.scheduler=G}call(M,G){return G.subscribe(new D(M,this.dueTime,this.scheduler))}}class D extends u.L{constructor(M,G,V){super(M),this.dueTime=G,this.scheduler=V,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(M){this.clearDebounce(),this.lastValue=M,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(P,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:M}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(M)}}clearDebounce(){const M=this.debouncedSubscription;null!==M&&(this.remove(M),M.unsubscribe(),this.debouncedSubscription=null)}}function P(k){k.debouncedNext()}},7314:(de,Q,m)=>{"use strict";m.d(Q,{d:()=>e});var u=m(3489);function e(D=null){return P=>P.lift(new h(D))}class h{constructor(P){this.defaultValue=P}call(P,k){return k.subscribe(new N(P,this.defaultValue))}}class N extends u.L{constructor(P,k){super(P),this.defaultValue=k,this.isEmpty=!0}_next(P){this.isEmpty=!1,this.destination.next(P)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},943:(de,Q,m)=>{"use strict";m.d(Q,{g:()=>D});var u=m(353),e=m(2697),h=m(3489),N=m(9312);function D(G,V=u.P){const H=(0,e.J)(G)?+G-V.now():Math.abs(G);return $=>$.lift(new P(H,V))}class P{constructor(V,I){this.delay=V,this.scheduler=I}call(V,I){return I.subscribe(new k(V,this.delay,this.scheduler))}}class k extends h.L{constructor(V,I,H){super(V),this.delay=I,this.scheduler=H,this.queue=[],this.active=!1,this.errored=!1}static dispatch(V){const I=V.source,H=I.queue,$=V.scheduler,J=V.destination;for(;H.length>0&&H[0].time-$.now()<=0;)H.shift().notification.observe(J);if(H.length>0){const re=Math.max(0,H[0].time-$.now());this.schedule(V,re)}else this.unsubscribe(),I.active=!1}_schedule(V){this.active=!0,this.destination.add(V.schedule(k.dispatch,this.delay,{source:this,destination:this.destination,scheduler:V}))}scheduleNotification(V){if(!0===this.errored)return;const I=this.scheduler,H=new M(I.now()+this.delay,V);this.queue.push(H),!1===this.active&&this._schedule(I)}_next(V){this.scheduleNotification(N.P.createNext(V))}_error(V){this.errored=!0,this.queue=[],this.destination.error(V),this.unsubscribe()}_complete(){this.scheduleNotification(N.P.createComplete()),this.unsubscribe()}}class M{constructor(V,I){this.time=V,this.notification=I}}},8003:(de,Q,m)=>{"use strict";m.d(Q,{j:()=>D});var u=m(3489),e=m(6498),h=m(826),N=m(448);function D(V,I){return I?H=>new M(H,I).lift(new P(V)):H=>H.lift(new P(V))}class P{constructor(I){this.delayDurationSelector=I}call(I,H){return H.subscribe(new k(I,this.delayDurationSelector))}}class k extends h.L{constructor(I,H){super(I),this.delayDurationSelector=H,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(I,H,$,J,re){this.destination.next(I),this.removeSubscription(re),this.tryComplete()}notifyError(I,H){this._error(I)}notifyComplete(I){const H=this.removeSubscription(I);H&&this.destination.next(H),this.tryComplete()}_next(I){const H=this.index++;try{const $=this.delayDurationSelector(I,H);$&&this.tryDelay($,I)}catch($){this.destination.error($)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(I){I.unsubscribe();const H=this.delayNotifierSubscriptions.indexOf(I);return-1!==H&&this.delayNotifierSubscriptions.splice(H,1),I.outerValue}tryDelay(I,H){const $=(0,N.D)(this,I,H);$&&!$.closed&&(this.destination.add($),this.delayNotifierSubscriptions.push($))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class M extends e.y{constructor(I,H){super(),this.source=I,this.subscriptionDelay=H}_subscribe(I){this.subscriptionDelay.subscribe(new G(I,this.source))}}class G extends u.L{constructor(I,H){super(),this.parent=I,this.source=H,this.sourceSubscribed=!1}_next(I){this.subscribeToSource()}_error(I){this.unsubscribe(),this.parent.error(I)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}},5778:(de,Q,m)=>{"use strict";m.d(Q,{x:()=>e});var u=m(3489);function e(D,P){return k=>k.lift(new h(D,P))}class h{constructor(P,k){this.compare=P,this.keySelector=k}call(P,k){return k.subscribe(new N(P,this.compare,this.keySelector))}}class N extends u.L{constructor(P,k,M){super(P),this.keySelector=M,this.hasKey=!1,"function"==typeof k&&(this.compare=k)}compare(P,k){return P===k}_next(P){let k;try{const{keySelector:G}=this;k=G?G(P):P}catch(G){return this.destination.error(G)}let M=!1;if(this.hasKey)try{const{compare:G}=this;M=G(this.key,k)}catch(G){return this.destination.error(G)}else this.hasKey=!0;M||(this.key=k,this.destination.next(P))}}},8807:(de,Q,m)=>{"use strict";m.d(Q,{z:()=>N});var u=m(4850),e=m(5254),h=m(1177);function N(k,M){return M?G=>G.pipe(N((V,I)=>(0,e.D)(k(V,I)).pipe((0,u.U)((H,$)=>M(V,H,I,$))))):G=>G.lift(new D(k))}class D{constructor(M){this.project=M}call(M,G){return G.subscribe(new P(M,this.project))}}class P extends h.Ds{constructor(M,G){super(M),this.project=G,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(M){this.hasSubscription||this.tryNext(M)}tryNext(M){let G;const V=this.index++;try{G=this.project(M,V)}catch(I){return void this.destination.error(I)}this.hasSubscription=!0,this._innerSub(G)}_innerSub(M){const G=new h.IY(this),V=this.destination;V.add(G);const I=(0,h.ft)(M,G);I!==G&&V.add(I)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(M){this.destination.next(M)}notifyError(M){this.destination.error(M)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}},2198:(de,Q,m)=>{"use strict";m.d(Q,{h:()=>e});var u=m(3489);function e(D,P){return function(M){return M.lift(new h(D,P))}}class h{constructor(P,k){this.predicate=P,this.thisArg=k}call(P,k){return k.subscribe(new N(P,this.predicate,this.thisArg))}}class N extends u.L{constructor(P,k,M){super(P),this.predicate=k,this.thisArg=M,this.count=0}_next(P){let k;try{k=this.predicate.call(this.thisArg,P,this.count++)}catch(M){return void this.destination.error(M)}k&&this.destination.next(P)}}},537:(de,Q,m)=>{"use strict";m.d(Q,{x:()=>h});var u=m(3489),e=m(2654);function h(P){return k=>k.lift(new N(P))}class N{constructor(k){this.callback=k}call(k,M){return M.subscribe(new D(k,this.callback))}}class D extends u.L{constructor(k,M){super(k),this.add(new e.w(M))}}},7224:(de,Q,m)=>{"use strict";m.d(Q,{P:()=>k});var u=m(4450),e=m(2198),h=m(2986),N=m(7314),D=m(4907),P=m(5379);function k(M,G){const V=arguments.length>=2;return I=>I.pipe(M?(0,e.h)((H,$)=>M(H,$,I)):P.y,(0,h.q)(1),V?(0,N.d)(G):(0,D.T)(()=>new u.K))}},4002:(de,Q,m)=>{"use strict";m.d(Q,{v:()=>D});var u=m(3489),e=m(2654),h=m(6498),N=m(8929);function D(I,H,$,J){return re=>re.lift(new P(I,H,$,J))}class P{constructor(H,$,J,re){this.keySelector=H,this.elementSelector=$,this.durationSelector=J,this.subjectSelector=re}call(H,$){return $.subscribe(new k(H,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class k extends u.L{constructor(H,$,J,re,ae){super(H),this.keySelector=$,this.elementSelector=J,this.durationSelector=re,this.subjectSelector=ae,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(H){let $;try{$=this.keySelector(H)}catch(J){return void this.error(J)}this._group(H,$)}_group(H,$){let J=this.groups;J||(J=this.groups=new Map);let ae,re=J.get($);if(this.elementSelector)try{ae=this.elementSelector(H)}catch(De){this.error(De)}else ae=H;if(!re){re=this.subjectSelector?this.subjectSelector():new N.xQ,J.set($,re);const De=new G($,re,this);if(this.destination.next(De),this.durationSelector){let Ze;try{Ze=this.durationSelector(new G($,re))}catch(Xe){return void this.error(Xe)}this.add(Ze.subscribe(new M($,re,this)))}}re.closed||re.next(ae)}_error(H){const $=this.groups;$&&($.forEach((J,re)=>{J.error(H)}),$.clear()),this.destination.error(H)}_complete(){const H=this.groups;H&&(H.forEach(($,J)=>{$.complete()}),H.clear()),this.destination.complete()}removeGroup(H){this.groups.delete(H)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class M extends u.L{constructor(H,$,J){super($),this.key=H,this.group=$,this.parent=J}_next(H){this.complete()}_unsubscribe(){const{parent:H,key:$}=this;this.key=this.parent=null,H&&H.removeGroup($)}}class G extends h.y{constructor(H,$,J){super(),this.key=H,this.groupSubject=$,this.refCountSubscription=J}_subscribe(H){const $=new e.w,{refCountSubscription:J,groupSubject:re}=this;return J&&!J.closed&&$.add(new V(J)),$.add(re.subscribe(H)),$}}class V extends e.w{constructor(H){super(),this.parent=H,H.count++}unsubscribe(){const H=this.parent;!H.closed&&!this.closed&&(super.unsubscribe(),H.count-=1,0===H.count&&H.attemptedToUnsubscribe&&H.unsubscribe())}}},4850:(de,Q,m)=>{"use strict";m.d(Q,{U:()=>e});var u=m(3489);function e(D,P){return function(M){if("function"!=typeof D)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return M.lift(new h(D,P))}}class h{constructor(P,k){this.project=P,this.thisArg=k}call(P,k){return k.subscribe(new N(P,this.project,this.thisArg))}}class N extends u.L{constructor(P,k,M){super(P),this.project=k,this.count=0,this.thisArg=M||this}_next(P){let k;try{k=this.project.call(this.thisArg,P,this.count++)}catch(M){return void this.destination.error(M)}this.destination.next(k)}}},7604:(de,Q,m)=>{"use strict";m.d(Q,{h:()=>e});var u=m(3489);function e(D){return P=>P.lift(new h(D))}class h{constructor(P){this.value=P}call(P,k){return k.subscribe(new N(P,this.value))}}class N extends u.L{constructor(P,k){super(P),this.value=k}_next(P){this.destination.next(this.value)}}},9146:(de,Q,m)=>{"use strict";m.d(Q,{J:()=>h});var u=m(1709),e=m(5379);function h(N=Number.POSITIVE_INFINITY){return(0,u.zg)(e.y,N)}},1709:(de,Q,m)=>{"use strict";m.d(Q,{zg:()=>N});var u=m(4850),e=m(5254),h=m(1177);function N(M,G,V=Number.POSITIVE_INFINITY){return"function"==typeof G?I=>I.pipe(N((H,$)=>(0,e.D)(M(H,$)).pipe((0,u.U)((J,re)=>G(H,J,$,re))),V)):("number"==typeof G&&(V=G),I=>I.lift(new D(M,V)))}class D{constructor(G,V=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=V}call(G,V){return V.subscribe(new P(G,this.project,this.concurrent))}}class P extends h.Ds{constructor(G,V,I=Number.POSITIVE_INFINITY){super(G),this.project=V,this.concurrent=I,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let V;const I=this.index++;try{V=this.project(G,I)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(V)}_innerSub(G){const V=new h.IY(this),I=this.destination;I.add(V);const H=(0,h.ft)(G,V);H!==V&&I.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(de,Q,m)=>{"use strict";m.d(Q,{O:()=>e});var u=m(1762);function e(N,D){return function(k){let M;if(M="function"==typeof N?N:function(){return N},"function"==typeof D)return k.lift(new h(M,D));const G=Object.create(k,u.N);return G.source=k,G.subjectFactory=M,G}}class h{constructor(D,P){this.subjectFactory=D,this.selector=P}call(D,P){const{selector:k}=this,M=this.subjectFactory(),G=k(M).subscribe(D);return G.add(P.subscribe(M)),G}}},7770:(de,Q,m)=>{"use strict";m.d(Q,{QV:()=>h,ht:()=>D});var u=m(3489),e=m(9312);function h(k,M=0){return function(V){return V.lift(new N(k,M))}}class N{constructor(M,G=0){this.scheduler=M,this.delay=G}call(M,G){return G.subscribe(new D(M,this.scheduler,this.delay))}}class D extends u.L{constructor(M,G,V=0){super(M),this.scheduler=G,this.delay=V}static dispatch(M){const{notification:G,destination:V}=M;G.observe(V),this.unsubscribe()}scheduleMessage(M){this.destination.add(this.scheduler.schedule(D.dispatch,this.delay,new P(M,this.destination)))}_next(M){this.scheduleMessage(e.P.createNext(M))}_error(M){this.scheduleMessage(e.P.createError(M)),this.unsubscribe()}_complete(){this.scheduleMessage(e.P.createComplete()),this.unsubscribe()}}class P{constructor(M,G){this.notification=M,this.destination=G}}},519:(de,Q,m)=>{"use strict";m.d(Q,{G:()=>e});var u=m(3489);function e(){return D=>D.lift(new h)}class h{call(P,k){return k.subscribe(new N(P))}}class N extends u.L{constructor(P){super(P),this.hasPrev=!1}_next(P){let k;this.hasPrev?k=[this.prev,P]:this.hasPrev=!0,this.prev=P,k&&this.destination.next(k)}}},373:(de,Q,m)=>{"use strict";m.d(Q,{j:()=>e});var u=m(4850);function e(...N){const D=N.length;if(0===D)throw new Error("list of properties cannot be empty.");return P=>(0,u.U)(function h(N,D){return k=>{let M=k;for(let G=0;G<D;G++){const V=M?.[N[G]];if(void 0===V)return;M=V}return M}}(N,D))(P)}},4327:(de,Q,m)=>{"use strict";m.d(Q,{x:()=>e});var u=m(3489);function e(){return function(P){return P.lift(new h(P))}}class h{constructor(P){this.connectable=P}call(P,k){const{connectable:M}=this;M._refCount++;const G=new N(P,M),V=k.subscribe(G);return G.closed||(G.connection=M.connect()),V}}class N extends u.L{constructor(P,k){super(P),this.connectable=k}_unsubscribe(){const{connectable:P}=this;if(!P)return void(this.connection=null);this.connectable=null;const k=P._refCount;if(k<=0)return void(this.connection=null);if(P._refCount=k-1,k>1)return void(this.connection=null);const{connection:M}=this,G=P._connection;this.connection=null,G&&(!M||G===M)&&G.unsubscribe()}}},2014:(de,Q,m)=>{"use strict";m.d(Q,{R:()=>e});var u=m(3489);function e(D,P){let k=!1;return arguments.length>=2&&(k=!0),function(G){return G.lift(new h(D,P,k))}}class h{constructor(P,k,M=!1){this.accumulator=P,this.seed=k,this.hasSeed=M}call(P,k){return k.subscribe(new N(P,this.accumulator,this.seed,this.hasSeed))}}class N extends u.L{constructor(P,k,M,G){super(P),this.accumulator=k,this._seed=M,this.hasSeed=G,this.index=0}get seed(){return this._seed}set seed(P){this.hasSeed=!0,this._seed=P}_next(P){if(this.hasSeed)return this._tryNext(P);this.seed=P,this.destination.next(P)}_tryNext(P){const k=this.index++;let M;try{M=this.accumulator(this.seed,P,k)}catch(G){this.destination.error(G)}this.seed=M,this.destination.next(M)}}},8117:(de,Q,m)=>{"use strict";m.d(Q,{B:()=>D});var u=m(2536),e=m(4327),h=m(8929);function N(){return new h.xQ}function D(){return P=>(0,e.x)()((0,u.O)(N)(P))}},5154:(de,Q,m)=>{"use strict";m.d(Q,{d:()=>e});var u=m(839);function e(N,D,P){let k;return k=N&&"object"==typeof N?N:{bufferSize:N,windowTime:D,refCount:!1,scheduler:P},M=>M.lift(function h({bufferSize:N=Number.POSITIVE_INFINITY,windowTime:D=Number.POSITIVE_INFINITY,refCount:P,scheduler:k}){let M,V,G=0,I=!1,H=!1;return function(J){let re;G++,!M||I?(I=!1,M=new u.t(N,D,k),re=M.subscribe(this),V=J.subscribe({next(ae){M.next(ae)},error(ae){I=!0,M.error(ae)},complete(){H=!0,V=void 0,M.complete()}}),H&&(V=void 0)):re=M.subscribe(this),this.add(()=>{G--,re.unsubscribe(),re=void 0,V&&!H&&P&&0===G&&(V.unsubscribe(),V=void 0,M=void 0)})}}(k))}},1307:(de,Q,m)=>{"use strict";m.d(Q,{T:()=>e});var u=m(3489);function e(D){return P=>P.lift(new h(D))}class h{constructor(P){this.total=P}call(P,k){return k.subscribe(new N(P,this.total))}}class N extends u.L{constructor(P,k){super(P),this.total=k,this.count=0}_next(P){++this.count>this.total&&this.destination.next(P)}}},9403:(de,Q,m)=>{"use strict";m.d(Q,{n:()=>e});var u=m(3489);function e(D){return P=>P.lift(new h(D))}class h{constructor(P){this.predicate=P}call(P,k){return k.subscribe(new N(P,this.predicate))}}class N extends u.L{constructor(P,k){super(P),this.predicate=k,this.skipping=!0,this.index=0}_next(P){const k=this.destination;this.skipping&&this.tryCallPredicate(P),this.skipping||k.next(P)}tryCallPredicate(P){try{const k=this.predicate(P,this.index++);this.skipping=Boolean(k)}catch(k){this.destination.error(k)}}}},1059:(de,Q,m)=>{"use strict";m.d(Q,{O:()=>h});var u=m(1221),e=m(2866);function h(...N){const D=N[N.length-1];return(0,e.K)(D)?(N.pop(),P=>(0,u.z)(N,P,D)):P=>(0,u.z)(N,P)}},7545:(de,Q,m)=>{"use strict";m.d(Q,{w:()=>N});var u=m(4850),e=m(5254),h=m(1177);function N(k,M){return"function"==typeof M?G=>G.pipe(N((V,I)=>(0,e.D)(k(V,I)).pipe((0,u.U)((H,$)=>M(V,H,I,$))))):G=>G.lift(new D(k))}class D{constructor(M){this.project=M}call(M,G){return G.subscribe(new P(M,this.project))}}class P extends h.Ds{constructor(M,G){super(M),this.project=G,this.index=0}_next(M){let G;const V=this.index++;try{G=this.project(M,V)}catch(I){return void this.destination.error(I)}this._innerSub(G)}_innerSub(M){const G=this.innerSubscription;G&&G.unsubscribe();const V=new h.IY(this),I=this.destination;I.add(V),this.innerSubscription=(0,h.ft)(M,V),this.innerSubscription!==V&&I.add(this.innerSubscription)}_complete(){const{innerSubscription:M}=this;(!M||M.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(M){this.destination.next(M)}}},2313:(de,Q,m)=>{"use strict";m.d(Q,{c:()=>e});var u=m(7545);function e(h,N){return N?(0,u.w)(()=>h,N):(0,u.w)(()=>h)}},2986:(de,Q,m)=>{"use strict";m.d(Q,{q:()=>N});var u=m(3489),e=m(4231),h=m(8896);function N(k){return M=>0===k?(0,h.c)():M.lift(new D(k))}class D{constructor(M){if(this.total=M,this.total<0)throw new e.W}call(M,G){return G.subscribe(new P(M,this.total))}}class P extends u.L{constructor(M,G){super(M),this.total=G,this.count=0}_next(M){const G=this.total,V=++this.count;V<=G&&(this.destination.next(M),V===G&&(this.destination.complete(),this.unsubscribe()))}}},7625:(de,Q,m)=>{"use strict";m.d(Q,{R:()=>e});var u=m(1177);function e(D){return P=>P.lift(new h(D))}class h{constructor(P){this.notifier=P}call(P,k){const M=new N(P),G=(0,u.ft)(this.notifier,new u.IY(M));return G&&!M.seenValue?(M.add(G),k.subscribe(M)):M}}class N extends u.Ds{constructor(P){super(P),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},4290:(de,Q,m)=>{"use strict";m.d(Q,{o:()=>e});var u=m(3489);function e(D,P=!1){return k=>k.lift(new h(D,P))}class h{constructor(P,k){this.predicate=P,this.inclusive=k}call(P,k){return k.subscribe(new N(P,this.predicate,this.inclusive))}}class N extends u.L{constructor(P,k,M){super(P),this.predicate=k,this.inclusive=M,this.index=0}_next(P){const k=this.destination;let M;try{M=this.predicate(P,this.index++)}catch(G){return void k.error(G)}this.nextOrComplete(P,M)}nextOrComplete(P,k){const M=this.destination;Boolean(k)?M.next(P):(this.inclusive&&M.next(P),M.complete())}}},2994:(de,Q,m)=>{"use strict";m.d(Q,{b:()=>N});var u=m(3489),e=m(7876),h=m(7043);function N(k,M,G){return function(I){return I.lift(new D(k,M,G))}}class D{constructor(M,G,V){this.nextOrObserver=M,this.error=G,this.complete=V}call(M,G){return G.subscribe(new P(M,this.nextOrObserver,this.error,this.complete))}}class P extends u.L{constructor(M,G,V,I){super(M),this._tapNext=e.Z,this._tapError=e.Z,this._tapComplete=e.Z,this._tapError=V||e.Z,this._tapComplete=I||e.Z,(0,h.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||e.Z,this._tapError=G.error||e.Z,this._tapComplete=G.complete||e.Z)}_next(M){try{this._tapNext.call(this._context,M)}catch(G){return void this.destination.error(G)}this.destination.next(M)}_error(M){try{this._tapError.call(this._context,M)}catch(G){return void this.destination.error(G)}this.destination.error(M)}_complete(){try{this._tapComplete.call(this._context)}catch(M){return void this.destination.error(M)}return this.destination.complete()}}},4907:(de,Q,m)=>{"use strict";m.d(Q,{T:()=>h});var u=m(4450),e=m(3489);function h(k=P){return M=>M.lift(new N(k))}class N{constructor(M){this.errorFactory=M}call(M,G){return G.subscribe(new D(M,this.errorFactory))}}class D extends e.L{constructor(M,G){super(M),this.errorFactory=G,this.hasValue=!1}_next(M){this.hasValue=!0,this.destination.next(M)}_complete(){if(this.hasValue)return this.destination.complete();{let M;try{M=this.errorFactory()}catch(G){M=G}this.destination.error(M)}}}function P(){return new u.K}},6227:(de,Q,m)=>{"use strict";m.d(Q,{V:()=>V});var u=m(353);const h=(()=>{function I(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return I.prototype=Object.create(Error.prototype),I})();var N=m(2697),D=m(1177);class k{constructor(H,$,J,re){this.waitFor=H,this.absoluteTimeout=$,this.withObservable=J,this.scheduler=re}call(H,$){return $.subscribe(new M(H,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class M extends D.Ds{constructor(H,$,J,re,ae){super(H),this.absoluteTimeout=$,this.waitFor=J,this.withObservable=re,this.scheduler=ae,this.scheduleTimeout()}static dispatchTimeout(H){const{withObservable:$}=H;H._unsubscribeAndRecycle(),H.add((0,D.ft)($,new D.IY(H)))}scheduleTimeout(){const{action:H}=this;H?this.action=H.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(M.dispatchTimeout,this.waitFor,this))}_next(H){this.absoluteTimeout||this.scheduleTimeout(),super._next(H)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var G=m(1737);function V(I,H=u.P){return function P(I,H,$=u.P){return J=>{let re=(0,N.J)(I),ae=re?+I-$.now():Math.abs(I);return J.lift(new k(ae,re,H,$))}}(I,(0,G._)(new h),H)}},7168:(de,Q,m)=>{"use strict";m.d(Q,{M:()=>h});var u=m(826),e=m(448);function h(...P){return k=>{let M;return"function"==typeof P[P.length-1]&&(M=P.pop()),k.lift(new N(P,M))}}class N{constructor(k,M){this.observables=k,this.project=M}call(k,M){return M.subscribe(new D(k,this.observables,this.project))}}class D extends u.L{constructor(k,M,G){super(k),this.observables=M,this.project=G,this.toRespond=[];const V=M.length;this.values=new Array(V);for(let I=0;I<V;I++)this.toRespond.push(I);for(let I=0;I<V;I++)this.add((0,e.D)(this,M[I],void 0,I))}notifyNext(k,M,G){this.values[G]=M;const V=this.toRespond;if(V.length>0){const I=V.indexOf(G);-1!==I&&V.splice(I,1)}}notifyComplete(){}_next(k){if(0===this.toRespond.length){const M=[k,...this.values];this.project?this._tryProject(M):this.destination.next(M)}}_tryProject(k){let M;try{M=this.project.apply(this,k)}catch(G){return void this.destination.error(G)}this.destination.next(M)}}},6454:(de,Q,m)=>{"use strict";m.d(Q,{r:()=>h});var u=m(6498),e=m(2654);function h(N,D){return new u.y(P=>{const k=new e.w;let M=0;return k.add(D.schedule(function(){M!==N.length?(P.next(N[M++]),P.closed||k.add(this.schedule())):P.complete()})),k})}},6686:(de,Q,m)=>{"use strict";m.d(Q,{o:()=>h});var u=m(2654);class e extends u.w{constructor(D,P){super()}schedule(D,P=0){return this}}class h extends e{constructor(D,P){super(D,P),this.scheduler=D,this.work=P,this.pending=!1}schedule(D,P=0){if(this.closed)return this;this.state=D;const k=this.id,M=this.scheduler;return null!=k&&(this.id=this.recycleAsyncId(M,k,P)),this.pending=!0,this.delay=P,this.id=this.id||this.requestAsyncId(M,this.id,P),this}requestAsyncId(D,P,k=0){return setInterval(D.flush.bind(D,this),k)}recycleAsyncId(D,P,k=0){if(null!==k&&this.delay===k&&!1===this.pending)return P;clearInterval(P)}execute(D,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const k=this._execute(D,P);if(k)return k;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,P){let M,k=!1;try{this.work(D)}catch(G){k=!0,M=!!G&&G||new Error(G)}if(k)return this.unsubscribe(),M}_unsubscribe(){const D=this.id,P=this.scheduler,k=P.actions,M=k.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==M&&k.splice(M,1),null!=D&&(this.id=this.recycleAsyncId(P,D,null)),this.delay=null}}},2268:(de,Q,m)=>{"use strict";m.d(Q,{v:()=>e});let u=(()=>{class h{constructor(D,P=h.now){this.SchedulerAction=D,this.now=P}schedule(D,P=0,k){return new this.SchedulerAction(this,D).schedule(k,P)}}return h.now=()=>Date.now(),h})();class e extends u{constructor(N,D=u.now){super(N,()=>e.delegate&&e.delegate!==this?e.delegate.now():D()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(N,D=0,P){return e.delegate&&e.delegate!==this?e.delegate.schedule(N,D,P):super.schedule(N,D,P)}flush(N){const{actions:D}=this;if(this.active)return void D.push(N);let P;this.active=!0;do{if(P=N.execute(N.state,N.delay))break}while(N=D.shift());if(this.active=!1,P){for(;N=D.shift();)N.unsubscribe();throw P}}}},8139:(de,Q,m)=>{"use strict";m.d(Q,{E:()=>I});let u=1;const e=Promise.resolve(),h={};function N($){return $ in h&&(delete h[$],!0)}const D={setImmediate($){const J=u++;return h[J]=!0,e.then(()=>N(J)&&$()),J},clearImmediate($){N($)}};var k=m(6686),G=m(2268);const I=new class V extends G.v{flush(J){this.active=!0,this.scheduled=void 0;const{actions:re}=this;let ae,De=-1,Ze=re.length;J=J||re.shift();do{if(ae=J.execute(J.state,J.delay))break}while(++De<Ze&&(J=re.shift()));if(this.active=!1,ae){for(;++De<Ze&&(J=re.shift());)J.unsubscribe();throw ae}}}(class M extends k.o{constructor(J,re){super(J,re),this.scheduler=J,this.work=re}requestAsyncId(J,re,ae=0){return null!==ae&&ae>0?super.requestAsyncId(J,re,ae):(J.actions.push(this),J.scheduled||(J.scheduled=D.setImmediate(J.flush.bind(J,null))))}recycleAsyncId(J,re,ae=0){if(null!==ae&&ae>0||null===ae&&this.delay>0)return super.recycleAsyncId(J,re,ae);0===J.actions.length&&(D.clearImmediate(re),J.scheduled=void 0)}})},353:(de,Q,m)=>{"use strict";m.d(Q,{P:()=>N});var u=m(6686);const N=new(m(2268).v)(u.o)},341:(de,Q,m)=>{"use strict";m.d(Q,{c:()=>P,N:()=>D});var u=m(6686),h=m(2268);const D=new class N extends h.v{}(class e extends u.o{constructor(M,G){super(M,G),this.scheduler=M,this.work=G}schedule(M,G=0){return G>0?super.schedule(M,G):(this.delay=G,this.state=M,this.scheduler.flush(this),this)}execute(M,G){return G>0||this.closed?super.execute(M,G):this._execute(M,G)}requestAsyncId(M,G,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(M,G,V):M.flush(this)}}),P=D},5430:(de,Q,m)=>{"use strict";m.d(Q,{hZ:()=>e});const e=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(de,Q,m)=>{"use strict";m.d(Q,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(de,Q,m)=>{"use strict";m.d(Q,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(de,Q,m)=>{"use strict";m.d(Q,{W:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})()},4450:(de,Q,m)=>{"use strict";m.d(Q,{K:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return h.prototype=Object.create(Error.prototype),h})()},5279:(de,Q,m)=>{"use strict";m.d(Q,{N:()=>e});const e=(()=>{function h(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return h.prototype=Object.create(Error.prototype),h})()},2782:(de,Q,m)=>{"use strict";function u(e){setTimeout(()=>{throw e},0)}m.d(Q,{z:()=>u})},5379:(de,Q,m)=>{"use strict";function u(e){return e}m.d(Q,{y:()=>u})},6688:(de,Q,m)=>{"use strict";m.d(Q,{k:()=>u});const u=Array.isArray||(e=>e&&"number"==typeof e.length)},8515:(de,Q,m)=>{"use strict";m.d(Q,{z:()=>u});const u=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2697:(de,Q,m)=>{"use strict";function u(e){return e instanceof Date&&!isNaN(+e)}m.d(Q,{J:()=>u})},7043:(de,Q,m)=>{"use strict";function u(e){return"function"==typeof e}m.d(Q,{m:()=>u})},4241:(de,Q,m)=>{"use strict";m.d(Q,{k:()=>e});var u=m(6688);function e(h){return!(0,u.k)(h)&&h-parseFloat(h)+1>=0}},7830:(de,Q,m)=>{"use strict";function u(e){return null!==e&&"object"==typeof e}m.d(Q,{K:()=>u})},4715:(de,Q,m)=>{"use strict";m.d(Q,{b:()=>e});var u=m(6498);function e(h){return!!h&&(h instanceof u.y||"function"==typeof h.lift&&"function"==typeof h.subscribe)}},8955:(de,Q,m)=>{"use strict";function u(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}m.d(Q,{t:()=>u})},2866:(de,Q,m)=>{"use strict";function u(e){return e&&"function"==typeof e.schedule}m.d(Q,{K:()=>u})},7876:(de,Q,m)=>{"use strict";function u(){}m.d(Q,{Z:()=>u})},4843:(de,Q,m)=>{"use strict";m.d(Q,{U:()=>h,z:()=>e});var u=m(5379);function e(...N){return h(N)}function h(N){return 0===N.length?u.y:1===N.length?N[0]:function(P){return N.reduce((k,M)=>M(k),P)}}},9249:(de,Q,m)=>{"use strict";m.d(Q,{s:()=>I});var u=m(3650),e=m(2782),N=m(5430),P=m(3821),M=m(8515),G=m(8955),V=m(7830);const I=H=>{if(H&&"function"==typeof H[P.L])return(H=>$=>{const J=H[P.L]();if("function"!=typeof J.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return J.subscribe($)})(H);if((0,M.z)(H))return(0,u.V)(H);if((0,G.t)(H))return(H=>$=>(H.then(J=>{$.closed||($.next(J),$.complete())},J=>$.error(J)).then(null,e.z),$))(H);if(H&&"function"==typeof H[N.hZ])return(H=>$=>{const J=H[N.hZ]();for(;;){let re;try{re=J.next()}catch(ae){return $.error(ae),$}if(re.done){$.complete();break}if($.next(re.value),$.closed)break}return"function"==typeof J.return&&$.add(()=>{J.return&&J.return()}),$})(H);{const J=`You provided ${(0,V.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(J)}}},3650:(de,Q,m)=>{"use strict";m.d(Q,{V:()=>u});const u=e=>h=>{for(let N=0,D=e.length;N<D&&!h.closed;N++)h.next(e[N]);h.complete()}},448:(de,Q,m)=>{"use strict";m.d(Q,{D:()=>D});var u=m(3489);class e extends u.L{constructor(k,M,G){super(),this.parent=k,this.outerValue=M,this.outerIndex=G,this.index=0}_next(k){this.parent.notifyNext(this.outerValue,k,this.outerIndex,this.index++,this)}_error(k){this.parent.notifyError(k,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var h=m(9249),N=m(6498);function D(P,k,M,G,V=new e(P,M,G)){if(!V.closed)return k instanceof N.y?k.subscribe(V):(0,h.s)(k)(V)}},655:(de,Q,m)=>{"use strict";function D(pe,ne,_e,be){var Re,oe=arguments.length,Fe=oe<3?ne:null===be?be=Object.getOwnPropertyDescriptor(ne,_e):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(pe,ne,_e,be);else for(var pt=pe.length-1;pt>=0;pt--)(Re=pe[pt])&&(Fe=(oe<3?Re(Fe):oe>3?Re(ne,_e,Fe):Re(ne,_e))||Fe);return oe>3&&Fe&&Object.defineProperty(ne,_e,Fe),Fe}function P(pe,ne){return function(_e,be){ne(_e,be,pe)}}m.d(Q,{fM:()=>P,gn:()=>D})},2136:(de,Q,m)=>{var u;if("function"==typeof fetch&&(u=typeof global<"u"&&global.fetch?global.fetch:typeof window<"u"&&window.fetch?window.fetch:fetch),typeof window>"u"||typeof window.document>"u"){var e=u||m(8472);e.default&&(e=e.default),Q.default=e,de.exports=Q.default}},6895:(de,Q,m)=>{"use strict";m.d(Q,{Do:()=>Le,ED:()=>qr,EM:()=>ri,HT:()=>D,JF:()=>Pe,JJ:()=>Ao,K0:()=>k,Mx:()=>Tr,NF:()=>Fo,Nd:()=>Oi,O5:()=>Rn,OU:()=>ei,Ov:()=>Bt,PM:()=>vo,RF:()=>Br,S$:()=>De,Ts:()=>go,V_:()=>V,Ye:()=>Ge,b0:()=>Xe,bD:()=>Lo,ez:()=>ni,i8:()=>vn,jK:()=>je,mk:()=>hn,n9:()=>wr,q:()=>h,sg:()=>br,tP:()=>dt,uU:()=>gi,wM:()=>Fe,w_:()=>P,xG:()=>ct});var u=m(4650);let e=null;function h(){return e}function D(b){e||(e=b)}class P{}const k=new u.OlP("DocumentToken");let M=(()=>{class b{historyGo(L){throw new Error("Not implemented")}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275prov=u.Yz7({token:b,factory:function(){return function G(){return(0,u.LFG)(I)}()},providedIn:"platform"}),b})();const V=new u.OlP("Location Initialized");let I=(()=>{class b extends M{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(L){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",L,!1),()=>X.removeEventListener("popstate",L)}onHashChange(L){const X=h().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",L,!1),()=>X.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,X,xe){H()?this._history.pushState(L,X,xe):this.location.hash=xe}replaceState(L,X,xe){H()?this._history.replaceState(L,X,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return b.\u0275fac=function(L){return new(L||b)(u.LFG(k))},b.\u0275prov=u.Yz7({token:b,factory:function(){return function $(){return new I((0,u.LFG)(k))}()},providedIn:"platform"}),b})();function H(){return!!window.history.pushState}function J(b,Y){if(0==b.length)return Y;if(0==Y.length)return b;let L=0;return b.endsWith("/")&&L++,Y.startsWith("/")&&L++,2==L?b+Y.substring(1):1==L?b+Y:b+"/"+Y}function re(b){const Y=b.match(/#|\?|$/),L=Y&&Y.index||b.length;return b.slice(0,L-("/"===b[L-1]?1:0))+b.slice(L)}function ae(b){return b&&"?"!==b[0]?"?"+b:b}let De=(()=>{class b{historyGo(L){throw new Error("Not implemented")}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275prov=u.Yz7({token:b,factory:function(){return(0,u.f3M)(Xe)},providedIn:"root"}),b})();const Ze=new u.OlP("appBaseHref");let Xe=(()=>{class b extends De{constructor(L,X){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(k).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return J(this._baseHref,L)}path(L=!1){const X=this._platformLocation.pathname+ae(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&L?`${X}${xe}`:X}pushState(L,X,xe,ut){const vt=this.prepareExternalUrl(xe+ae(ut));this._platformLocation.pushState(L,X,vt)}replaceState(L,X,xe,ut){const vt=this.prepareExternalUrl(xe+ae(ut));this._platformLocation.replaceState(L,X,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return b.\u0275fac=function(L){return new(L||b)(u.LFG(M),u.LFG(Ze,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Le=(()=>{class b extends De{constructor(L,X){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(L){const X=J(this._baseHref,L);return X.length>0?"#"+X:X}pushState(L,X,xe,ut){let vt=this.prepareExternalUrl(xe+ae(ut));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(L,X,vt)}replaceState(L,X,xe,ut){let vt=this.prepareExternalUrl(xe+ae(ut));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(L,X,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return b.\u0275fac=function(L){return new(L||b)(u.LFG(M),u.LFG(Ze,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),Ge=(()=>{class b{constructor(L){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const X=this._locationStrategy.getBaseHref();this._baseHref=re(Ne(X)),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,X=""){return this.path()==this.normalize(L+ae(X))}normalize(L){return b.stripTrailingSlash(function se(b,Y){return b&&Y.startsWith(b)?Y.substring(b.length):Y}(this._baseHref,Ne(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,X="",xe=null){this._locationStrategy.pushState(xe,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ae(X)),xe)}replaceState(L,X="",xe=null){this._locationStrategy.replaceState(xe,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ae(X)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",X){this._urlChangeListeners.forEach(xe=>xe(L,X))}subscribe(L,X,xe){return this._subject.subscribe({next:L,error:X,complete:xe})}}return b.normalizeQueryParams=ae,b.joinWithSlash=J,b.stripTrailingSlash=re,b.\u0275fac=function(L){return new(L||b)(u.LFG(De))},b.\u0275prov=u.Yz7({token:b,factory:function(){return function me(){return new Ge((0,u.LFG)(De))}()},providedIn:"root"}),b})();function Ne(b){return b.replace(/\/index.html$/,"")}const ze={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ie=(()=>((Ie=Ie||{})[Ie.Decimal=0]="Decimal",Ie[Ie.Percent=1]="Percent",Ie[Ie.Currency=2]="Currency",Ie[Ie.Scientific=3]="Scientific",Ie))(),pe=(()=>((pe=pe||{})[pe.Format=0]="Format",pe[pe.Standalone=1]="Standalone",pe))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),be=(()=>((be=be||{})[be.Decimal=0]="Decimal",be[be.Group=1]="Group",be[be.List=2]="List",be[be.PercentSign=3]="PercentSign",be[be.PlusSign=4]="PlusSign",be[be.MinusSign=5]="MinusSign",be[be.Exponential=6]="Exponential",be[be.SuperscriptingExponent=7]="SuperscriptingExponent",be[be.PerMille=8]="PerMille",be[be.Infinity=9]="Infinity",be[be.NaN=10]="NaN",be[be.TimeSeparator=11]="TimeSeparator",be[be.CurrencyDecimal=12]="CurrencyDecimal",be[be.CurrencyGroup=13]="CurrencyGroup",be))();function Fe(b){return(0,u.cg1)(b)[u.wAp.LocaleId]}function zt(b,Y){return bt((0,u.cg1)(b)[u.wAp.DateFormat],Y)}function Xt(b,Y){return bt((0,u.cg1)(b)[u.wAp.TimeFormat],Y)}function gt(b,Y){return bt((0,u.cg1)(b)[u.wAp.DateTimeFormat],Y)}function Qt(b,Y){const L=(0,u.cg1)(b),X=L[u.wAp.NumberSymbols][Y];if(typeof X>"u"){if(Y===be.CurrencyDecimal)return L[u.wAp.NumberSymbols][be.Decimal];if(Y===be.CurrencyGroup)return L[u.wAp.NumberSymbols][be.Group]}return X}function Wt(b,Y){return(0,u.cg1)(b)[u.wAp.NumberFormats][Y]}function yn(b){if(!b[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${b[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bt(b,Y){for(let L=Y;L>-1;L--)if(typeof b[L]<"u")return b[L];throw new Error("Locale data API: locale data undefined")}function ke(b){const[Y,L]=b.split(":");return{hours:+Y,minutes:+L}}function je(b,Y,L="en"){const X=function Rt(b){return(0,u.cg1)(b)[u.wAp.Currencies]}(L)[b]||ze[b]||[],xe=X[1];return"narrow"===Y&&"string"==typeof xe?xe:X[0]||b}const nn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_n={},it=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.ShortGMT=1]="ShortGMT",Ae[Ae.Long=2]="Long",Ae[Ae.Extended=3]="Extended",Ae))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function at(b,Y,L,X){let xe=function An(b){if(Vn(b))return b;if("number"==typeof b&&!isNaN(b))return new Date(b);if("string"==typeof b){if(b=b.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(b)){const[xe,ut=1,vt=1]=b.split("-").map(en=>+en);return Jt(xe,ut-1,vt)}const L=parseFloat(b);if(!isNaN(b-L))return new Date(L);let X;if(X=b.match(nn))return function Sn(b){const Y=new Date(0);let L=0,X=0;const xe=b[8]?Y.setUTCFullYear:Y.setFullYear,ut=b[8]?Y.setUTCHours:Y.setHours;b[9]&&(L=Number(b[9]+b[10]),X=Number(b[9]+b[11])),xe.call(Y,Number(b[1]),Number(b[2])-1,Number(b[3]));const vt=Number(b[4]||0)-L,en=Number(b[5]||0)-X,$n=Number(b[6]||0),zn=Math.floor(1e3*parseFloat("0."+(b[7]||0)));return ut.call(Y,vt,en,$n,zn),Y}(X)}const Y=new Date(b);if(!Vn(Y))throw new Error(`Unable to convert "${b}" into a date`);return Y}(b);Y=Nt(L,Y)||Y;let en,vt=[];for(;Y;){if(en=it.exec(Y),!en){vt.push(Y);break}{vt=vt.concat(en.slice(1));const Kn=vt.pop();if(!Kn)break;Y=Kn}}let $n=xe.getTimezoneOffset();X&&($n=kn(X,$n),xe=function un(b,Y,L){const X=L?-1:1,xe=b.getTimezoneOffset();return function hr(b,Y){return(b=new Date(b.getTime())).setMinutes(b.getMinutes()+Y),b}(b,X*(kn(Y,xe)-xe))}(xe,X,!0));let zn="";return vt.forEach(Kn=>{const Hn=function Nn(b){if(Dn[b])return Dn[b];let Y;switch(b){case"G":case"GG":case"GGG":Y=rn(st.Eras,ne.Abbreviated);break;case"GGGG":Y=rn(st.Eras,ne.Wide);break;case"GGGGG":Y=rn(st.Eras,ne.Narrow);break;case"y":Y=mn(Ee.FullYear,1,0,!1,!0);break;case"yy":Y=mn(Ee.FullYear,2,0,!0,!0);break;case"yyy":Y=mn(Ee.FullYear,3,0,!1,!0);break;case"yyyy":Y=mn(Ee.FullYear,4,0,!1,!0);break;case"Y":Y=Ke(1);break;case"YY":Y=Ke(2,!0);break;case"YYY":Y=Ke(3);break;case"YYYY":Y=Ke(4);break;case"M":case"L":Y=mn(Ee.Month,1,1);break;case"MM":case"LL":Y=mn(Ee.Month,2,1);break;case"MMM":Y=rn(st.Months,ne.Abbreviated);break;case"MMMM":Y=rn(st.Months,ne.Wide);break;case"MMMMM":Y=rn(st.Months,ne.Narrow);break;case"LLL":Y=rn(st.Months,ne.Abbreviated,pe.Standalone);break;case"LLLL":Y=rn(st.Months,ne.Wide,pe.Standalone);break;case"LLLLL":Y=rn(st.Months,ne.Narrow,pe.Standalone);break;case"w":Y=Tt(1);break;case"ww":Y=Tt(2);break;case"W":Y=Tt(1,!0);break;case"d":Y=mn(Ee.Date,1);break;case"dd":Y=mn(Ee.Date,2);break;case"c":case"cc":Y=mn(Ee.Day,1);break;case"ccc":Y=rn(st.Days,ne.Abbreviated,pe.Standalone);break;case"cccc":Y=rn(st.Days,ne.Wide,pe.Standalone);break;case"ccccc":Y=rn(st.Days,ne.Narrow,pe.Standalone);break;case"cccccc":Y=rn(st.Days,ne.Short,pe.Standalone);break;case"E":case"EE":case"EEE":Y=rn(st.Days,ne.Abbreviated);break;case"EEEE":Y=rn(st.Days,ne.Wide);break;case"EEEEE":Y=rn(st.Days,ne.Narrow);break;case"EEEEEE":Y=rn(st.Days,ne.Short);break;case"a":case"aa":case"aaa":Y=rn(st.DayPeriods,ne.Abbreviated);break;case"aaaa":Y=rn(st.DayPeriods,ne.Wide);break;case"aaaaa":Y=rn(st.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":Y=rn(st.DayPeriods,ne.Abbreviated,pe.Standalone,!0);break;case"bbbb":Y=rn(st.DayPeriods,ne.Wide,pe.Standalone,!0);break;case"bbbbb":Y=rn(st.DayPeriods,ne.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":Y=rn(st.DayPeriods,ne.Abbreviated,pe.Format,!0);break;case"BBBB":Y=rn(st.DayPeriods,ne.Wide,pe.Format,!0);break;case"BBBBB":Y=rn(st.DayPeriods,ne.Narrow,pe.Format,!0);break;case"h":Y=mn(Ee.Hours,1,-12);break;case"hh":Y=mn(Ee.Hours,2,-12);break;case"H":Y=mn(Ee.Hours,1);break;case"HH":Y=mn(Ee.Hours,2);break;case"m":Y=mn(Ee.Minutes,1);break;case"mm":Y=mn(Ee.Minutes,2);break;case"s":Y=mn(Ee.Seconds,1);break;case"ss":Y=mn(Ee.Seconds,2);break;case"S":Y=mn(Ee.FractionalSeconds,1);break;case"SS":Y=mn(Ee.FractionalSeconds,2);break;case"SSS":Y=mn(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=We(Ae.Short);break;case"ZZZZZ":Y=We(Ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=We(Ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=We(Ae.Long);break;default:return null}return Dn[b]=Y,Y}(Kn);zn+=Hn?Hn(xe,L,$n):"''"===Kn?"'":Kn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),zn}function Jt(b,Y,L){const X=new Date(0);return X.setFullYear(b,Y,L),X.setHours(0,0,0),X}function Nt(b,Y){const L=Fe(b);if(_n[L]=_n[L]||{},_n[L][Y])return _n[L][Y];let X="";switch(Y){case"shortDate":X=zt(b,_e.Short);break;case"mediumDate":X=zt(b,_e.Medium);break;case"longDate":X=zt(b,_e.Long);break;case"fullDate":X=zt(b,_e.Full);break;case"shortTime":X=Xt(b,_e.Short);break;case"mediumTime":X=Xt(b,_e.Medium);break;case"longTime":X=Xt(b,_e.Long);break;case"fullTime":X=Xt(b,_e.Full);break;case"short":const xe=Nt(b,"shortTime"),ut=Nt(b,"shortDate");X=an(gt(b,_e.Short),[xe,ut]);break;case"medium":const vt=Nt(b,"mediumTime"),en=Nt(b,"mediumDate");X=an(gt(b,_e.Medium),[vt,en]);break;case"long":const $n=Nt(b,"longTime"),zn=Nt(b,"longDate");X=an(gt(b,_e.Long),[$n,zn]);break;case"full":const Kn=Nt(b,"fullTime"),Hn=Nt(b,"fullDate");X=an(gt(b,_e.Full),[Kn,Hn])}return X&&(_n[L][Y]=X),X}function an(b,Y){return Y&&(b=b.replace(/\{([^}]+)}/g,function(L,X){return null!=Y&&X in Y?Y[X]:L})),b}function kt(b,Y,L="-",X,xe){let ut="";(b<0||xe&&b<=0)&&(xe?b=1-b:(b=-b,ut=L));let vt=String(b);for(;vt.length<Y;)vt="0"+vt;return X&&(vt=vt.slice(vt.length-Y)),ut+vt}function mn(b,Y,L=0,X=!1,xe=!1){return function(ut,vt){let en=function tr(b,Y){switch(b){case Ee.FullYear:return Y.getFullYear();case Ee.Month:return Y.getMonth();case Ee.Date:return Y.getDate();case Ee.Hours:return Y.getHours();case Ee.Minutes:return Y.getMinutes();case Ee.Seconds:return Y.getSeconds();case Ee.FractionalSeconds:return Y.getMilliseconds();case Ee.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${b}".`)}}(b,ut);if((L>0||en>-L)&&(en+=L),b===Ee.Hours)0===en&&-12===L&&(en=12);else if(b===Ee.FractionalSeconds)return function gn(b,Y){return kt(b,3).substring(0,Y)}(en,Y);const $n=Qt(vt,be.MinusSign);return kt(en,Y,$n,X,xe)}}function rn(b,Y,L=pe.Format,X=!1){return function(xe,ut){return function fn(b,Y,L,X,xe,ut){switch(L){case st.Months:return function Qe(b,Y,L){const X=(0,u.cg1)(b),ut=bt([X[u.wAp.MonthsFormat],X[u.wAp.MonthsStandalone]],Y);return bt(ut,L)}(Y,xe,X)[b.getMonth()];case st.Days:return function pt(b,Y,L){const X=(0,u.cg1)(b),ut=bt([X[u.wAp.DaysFormat],X[u.wAp.DaysStandalone]],Y);return bt(ut,L)}(Y,xe,X)[b.getDay()];case st.DayPeriods:const vt=b.getHours(),en=b.getMinutes();if(ut){const zn=function Ft(b){const Y=(0,u.cg1)(b);return yn(Y),(Y[u.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?ke(X):[ke(X[0]),ke(X[1])])}(Y),Kn=function Zn(b,Y,L){const X=(0,u.cg1)(b);yn(X);const ut=bt([X[u.wAp.ExtraData][0],X[u.wAp.ExtraData][1]],Y)||[];return bt(ut,L)||[]}(Y,xe,X),Hn=zn.findIndex(Mr=>{if(Array.isArray(Mr)){const[Yn,Nr]=Mr,oo=vt>=Yn.hours&&en>=Yn.minutes,Mo=vt<Nr.hours||vt===Nr.hours&&en<Nr.minutes;if(Yn.hours<Nr.hours){if(oo&&Mo)return!0}else if(oo||Mo)return!0}else if(Mr.hours===vt&&Mr.minutes===en)return!0;return!1});if(-1!==Hn)return Kn[Hn]}return function Re(b,Y,L){const X=(0,u.cg1)(b),ut=bt([X[u.wAp.DayPeriodsFormat],X[u.wAp.DayPeriodsStandalone]],Y);return bt(ut,L)}(Y,xe,X)[vt<12?0:1];case st.Eras:return function rt(b,Y){return bt((0,u.cg1)(b)[u.wAp.Eras],Y)}(Y,X)[b.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(xe,ut,b,Y,L,X)}}function We(b){return function(Y,L,X){const xe=-1*X,ut=Qt(L,be.MinusSign),vt=xe>0?Math.floor(xe/60):Math.ceil(xe/60);switch(b){case Ae.Short:return(xe>=0?"+":"")+kt(vt,2,ut)+kt(Math.abs(xe%60),2,ut);case Ae.ShortGMT:return"GMT"+(xe>=0?"+":"")+kt(vt,1,ut);case Ae.Long:return"GMT"+(xe>=0?"+":"")+kt(vt,2,ut)+":"+kt(Math.abs(xe%60),2,ut);case Ae.Extended:return 0===X?"Z":(xe>=0?"+":"")+kt(vt,2,ut)+":"+kt(Math.abs(xe%60),2,ut);default:throw new Error(`Unknown zone width "${b}"`)}}}function qt(b){return Jt(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))}function Tt(b,Y=!1){return function(L,X){let xe;if(Y){const ut=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,vt=L.getDate();xe=1+Math.floor((vt+ut)/7)}else{const ut=qt(L),vt=function Ct(b){const Y=Jt(b,0,1).getDay();return Jt(b,0,1+(Y<=4?4:11)-Y)}(ut.getFullYear()),en=ut.getTime()-vt.getTime();xe=1+Math.round(en/6048e5)}return kt(xe,b,Qt(X,be.MinusSign))}}function Ke(b,Y=!1){return function(L,X){return kt(qt(L).getFullYear(),b,Qt(X,be.MinusSign),Y)}}const Dn={};function kn(b,Y){b=b.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(L)?Y:L}function Vn(b){return b instanceof Date&&!isNaN(b.valueOf())}const Jn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function He(b,Y,L,X,xe,ut,vt=!1){let en="",$n=!1;if(isFinite(b)){let zn=function or(b){let X,xe,ut,vt,en,Y=Math.abs(b)+"",L=0;for((xe=Y.indexOf("."))>-1&&(Y=Y.replace(".","")),(ut=Y.search(/e/i))>0?(xe<0&&(xe=ut),xe+=+Y.slice(ut+1),Y=Y.substring(0,ut)):xe<0&&(xe=Y.length),ut=0;"0"===Y.charAt(ut);ut++);if(ut===(en=Y.length))X=[0],xe=1;else{for(en--;"0"===Y.charAt(en);)en--;for(xe-=ut,X=[],vt=0;ut<=en;ut++,vt++)X[vt]=Number(Y.charAt(ut))}return xe>22&&(X=X.splice(0,21),L=xe-1,xe=1),{digits:X,exponent:L,integerLen:xe}}(b);vt&&(zn=function bn(b){if(0===b.digits[0])return b;const Y=b.digits.length-b.integerLen;return b.exponent?b.exponent+=2:(0===Y?b.digits.push(0,0):1===Y&&b.digits.push(0),b.integerLen+=2),b}(zn));let Kn=Y.minInt,Hn=Y.minFrac,Mr=Y.maxFrac;if(ut){const si=ut.match(Jn);if(null===si)throw new Error(`${ut} is not a valid digit info`);const zo=si[1],Ni=si[3],ia=si[5];null!=zo&&(Kn=En(zo)),null!=Ni&&(Hn=En(Ni)),null!=ia?Mr=En(ia):null!=Ni&&Hn>Mr&&(Mr=Hn)}!function Un(b,Y,L){if(Y>L)throw new Error(`The minimum number of digits after fraction (${Y}) is higher than the maximum (${L}).`);let X=b.digits,xe=X.length-b.integerLen;const ut=Math.min(Math.max(Y,xe),L);let vt=ut+b.integerLen,en=X[vt];if(vt>0){X.splice(Math.max(b.integerLen,vt));for(let Hn=vt;Hn<X.length;Hn++)X[Hn]=0}else{xe=Math.max(0,xe),b.integerLen=1,X.length=Math.max(1,vt=ut+1),X[0]=0;for(let Hn=1;Hn<vt;Hn++)X[Hn]=0}if(en>=5)if(vt-1<0){for(let Hn=0;Hn>vt;Hn--)X.unshift(0),b.integerLen++;X.unshift(1),b.integerLen++}else X[vt-1]++;for(;xe<Math.max(0,ut);xe++)X.push(0);let $n=0!==ut;const zn=Y+b.integerLen,Kn=X.reduceRight(function(Hn,Mr,Yn,Nr){return Nr[Yn]=(Mr+=Hn)<10?Mr:Mr-10,$n&&(0===Nr[Yn]&&Yn>=zn?Nr.pop():$n=!1),Mr>=10?1:0},0);Kn&&(X.unshift(Kn),b.integerLen++)}(zn,Hn,Mr);let Yn=zn.digits,Nr=zn.integerLen;const oo=zn.exponent;let Mo=[];for($n=Yn.every(si=>!si);Nr<Kn;Nr++)Yn.unshift(0);for(;Nr<0;Nr++)Yn.unshift(0);Nr>0?Mo=Yn.splice(Nr,Yn.length):(Mo=Yn,Yn=[0]);const Ci=[];for(Yn.length>=Y.lgSize&&Ci.unshift(Yn.splice(-Y.lgSize,Yn.length).join(""));Yn.length>Y.gSize;)Ci.unshift(Yn.splice(-Y.gSize,Yn.length).join(""));Yn.length&&Ci.unshift(Yn.join("")),en=Ci.join(Qt(L,X)),Mo.length&&(en+=Qt(L,xe)+Mo.join("")),oo&&(en+=Qt(L,be.Exponential)+"+"+oo)}else en=Qt(L,be.Infinity);return en=b<0&&!$n?Y.negPre+en+Y.negSuf:Y.posPre+en+Y.posSuf,en}function ct(b,Y,L,X,xe){const vt=Tn(Wt(Y,Ie.Currency),Qt(Y,be.MinusSign));return vt.minFrac=function St(b){let Y;const L=ze[b];return L&&(Y=L[2]),"number"==typeof Y?Y:2}(X),vt.maxFrac=vt.minFrac,He(b,vt,Y,be.CurrencyGroup,be.CurrencyDecimal,xe).replace("\xa4",L).replace("\xa4","").trim()}function Tn(b,Y="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=b.split(";"),xe=X[0],ut=X[1],vt=-1!==xe.indexOf(".")?xe.split("."):[xe.substring(0,xe.lastIndexOf("0")+1),xe.substring(xe.lastIndexOf("0")+1)],en=vt[0],$n=vt[1]||"";L.posPre=en.substring(0,en.indexOf("#"));for(let Kn=0;Kn<$n.length;Kn++){const Hn=$n.charAt(Kn);"0"===Hn?L.minFrac=L.maxFrac=Kn+1:"#"===Hn?L.maxFrac=Kn+1:L.posSuf+=Hn}const zn=en.split(",");if(L.gSize=zn[1]?zn[1].length:0,L.lgSize=zn[2]||zn[1]?(zn[2]||zn[1]).length:0,ut){const Kn=xe.length-L.posPre.length-L.posSuf.length,Hn=ut.indexOf("#");L.negPre=ut.substring(0,Hn).replace(/'/g,""),L.negSuf=ut.slice(Hn+Kn).replace(/'/g,"")}else L.negPre=Y+L.posPre,L.negSuf=L.posSuf;return L}function En(b){const Y=parseInt(b);if(isNaN(Y))throw new Error("Invalid integer literal when parsing "+b);return Y}function Tr(b,Y){Y=encodeURIComponent(Y);for(const L of b.split(";")){const X=L.indexOf("="),[xe,ut]=-1==X?[L,""]:[L.slice(0,X),L.slice(X+1)];if(xe.trim()===Y)return decodeURIComponent(ut)}return null}let hn=(()=>{class b{constructor(L,X,xe,ut){this._iterableDiffers=L,this._keyValueDiffers=X,this._ngEl=xe,this._renderer=ut,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),L.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!0)):Object.keys(L).forEach(X=>this._toggleClass(X,!!L[X])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!1)):Object.keys(L).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(L,X){(L=L.trim())&&L.split(/\s+/g).forEach(xe=>{X?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class Sr{constructor(Y,L,X,xe){this.$implicit=Y,this.ngForOf=L,this.index=X,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{class b{constructor(L,X,xe){this._viewContainer=L,this._template=X,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const X=this._viewContainer;L.forEachOperation((xe,ut,vt)=>{if(null==xe.previousIndex)X.createEmbeddedView(this._template,new Sr(xe.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)X.remove(null===ut?void 0:ut);else if(null!==ut){const en=X.get(ut);X.move(en,vt),gr(en,xe)}});for(let xe=0,ut=X.length;xe<ut;xe++){const en=X.get(xe).context;en.index=xe,en.count=ut,en.ngForOf=this._ngForOf}L.forEachIdentityChange(xe=>{gr(X.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(L,X){return!0}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function gr(b,Y){b.context.$implicit=Y.item}let Rn=(()=>{class b{constructor(L,X){this._viewContainer=L,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Xn("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Xn("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,X){return!0}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.s_b),u.Y36(u.Rgc))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Xn(b,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,u.AaK)(Y)}'.`)}class nr{constructor(Y,L){this._viewContainerRef=Y,this._templateRef=L,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Y){Y&&!this._created?this.create():!Y&&this._created&&this.destroy()}}let Br=(()=>{class b{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(L){this._ngSwitch=L,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(L){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(L)}_matchCase(L){const X=L==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(L){if(this._defaultViews&&L!==this._defaultUsed){this._defaultUsed=L;for(let X=0;X<this._defaultViews.length;X++)this._defaultViews[X].enforceState(L)}}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275dir=u.lG2({type:b,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),b})(),wr=(()=>{class b{constructor(L,X,xe){this.ngSwitch=xe,xe._addCase(),this._view=new nr(L,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Br,9))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),b})(),qr=(()=>{class b{constructor(L,X,xe){xe._addDefault(new nr(L,X))}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Br,9))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngSwitchDefault",""]],standalone:!0}),b})(),dt=(()=>{class b{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:xe,ngTemplateOutletContext:ut,ngTemplateOutletInjector:vt}=this;this._viewRef=X.createEmbeddedView(xe,ut,vt?{injector:vt}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.s_b))},b.\u0275dir=u.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),b})();function Mt(b,Y){return new u.vHH(2100,!1)}class xn{createSubscription(Y,L){return Y.subscribe({next:L,error:X=>{throw X}})}dispose(Y){Y.unsubscribe()}}class ue{createSubscription(Y,L){return Y.then(L,X=>{throw X})}dispose(Y){}}const nt=new ue,et=new xn;let Bt=(()=>{class b{constructor(L){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=L}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,X=>this._updateLatestValue(L,X))}_selectStrategy(L){if((0,u.QGY)(L))return nt;if((0,u.F4k)(L))return et;throw Mt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,X){L===this._obj&&(this._latestValue=X,this._ref.markForCheck())}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.sBO,16))},b.\u0275pipe=u.Yjl({name:"async",type:b,pure:!1,standalone:!0}),b})(),vn=(()=>{class b{transform(L){if(null==L)return null;if("string"!=typeof L)throw Mt();return L.toLowerCase()}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275pipe=u.Yjl({name:"lowercase",type:b,pure:!0,standalone:!0}),b})();const hi=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let gi=(()=>{class b{constructor(L,X){this.locale=L,this.defaultTimezone=X}transform(L,X="mediumDate",xe,ut){if(null==L||""===L||L!=L)return null;try{return at(L,X,ut||this.locale,xe??this.defaultTimezone??void 0)}catch(vt){throw Mt()}}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.soG,16),u.Y36(hi,24))},b.\u0275pipe=u.Yjl({name:"date",type:b,pure:!0,standalone:!0}),b})(),go=(()=>{class b{transform(L){return JSON.stringify(L,null,2)}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275pipe=u.Yjl({name:"json",type:b,pure:!1,standalone:!0}),b})(),Oi=(()=>{class b{constructor(L){this.differs=L,this.keyValues=[],this.compareFn=mo}transform(L,X=mo){if(!L||!(L instanceof Map)&&"object"!=typeof L)return null;this.differ||(this.differ=this.differs.find(L).create());const xe=this.differ.diff(L),ut=X!==this.compareFn;return xe&&(this.keyValues=[],xe.forEachItem(vt=>{this.keyValues.push(function Po(b,Y){return{key:b,value:Y}}(vt.key,vt.currentValue))})),(xe||ut)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.aQg,16))},b.\u0275pipe=u.Yjl({name:"keyvalue",type:b,pure:!1,standalone:!0}),b})();function mo(b,Y){const L=b.key,X=Y.key;if(L===X)return 0;if(void 0===L)return 1;if(void 0===X)return-1;if(null===L)return 1;if(null===X)return-1;if("string"==typeof L&&"string"==typeof X)return L<X?-1:1;if("number"==typeof L&&"number"==typeof X)return L-X;if("boolean"==typeof L&&"boolean"==typeof X)return L<X?-1:1;const xe=String(L),ut=String(X);return xe==ut?0:xe<ut?-1:1}let Ao=(()=>{class b{constructor(L){this._locale=L}transform(L,X,xe){if(!function To(b){return!(null==b||""===b||b!=b)}(L))return null;xe=xe||this._locale;try{return function Ut(b,Y,L){return He(b,Tn(Wt(Y,Ie.Decimal),Qt(Y,be.MinusSign)),Y,be.Group,be.Decimal,L)}(function mr(b){if("string"==typeof b&&!isNaN(Number(b)-parseFloat(b)))return Number(b);if("number"!=typeof b)throw new Error(`${b} is not a number`);return b}(L),xe,X)}catch(ut){throw Mt()}}}return b.\u0275fac=function(L){return new(L||b)(u.Y36(u.soG,16))},b.\u0275pipe=u.Yjl({name:"number",type:b,pure:!0,standalone:!0}),b})();let ei=(()=>{class b{transform(L,X,xe){if(null==L)return null;if(!this.supports(L))throw Mt();return L.slice(X,xe)}supports(L){return"string"==typeof L||Array.isArray(L)}}return b.\u0275fac=function(L){return new(L||b)},b.\u0275pipe=u.Yjl({name:"slice",type:b,pure:!1,standalone:!0}),b})(),ni=(()=>{class b{}return b.\u0275fac=function(L){return new(L||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({}),b})();const Lo="browser";function Fo(b){return b===Lo}function vo(b){return"server"===b}let ri=(()=>{class b{}return b.\u0275prov=(0,u.Yz7)({token:b,providedIn:"root",factory:()=>new Gr((0,u.LFG)(k),window)}),b})();class Gr{constructor(Y,L){this.document=Y,this.window=L,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const L=function Or(b,Y){const L=b.getElementById(Y)||b.getElementsByName(Y)[0];if(L)return L;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const X=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let xe=X.currentNode;for(;xe;){const ut=xe.shadowRoot;if(ut){const vt=ut.getElementById(Y)||ut.querySelector(`[name="${Y}"]`);if(vt)return vt}xe=X.nextNode()}}return null}(this.document,Y);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Y)}}scrollToElement(Y){const L=Y.getBoundingClientRect(),X=L.left+this.window.pageXOffset,xe=L.top+this.window.pageYOffset,ut=this.offset();this.window.scrollTo(X-ut[0],xe-ut[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=$o(this.window.history)||$o(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $o(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class Pe{}},529:(de,Q,m)=>{"use strict";m.d(Q,{JF:()=>St,LE:()=>Ze,TP:()=>pt,UA:()=>be,WM:()=>V,Zn:()=>_e,eN:()=>Fe,mL:()=>H});var u=m(6895),e=m(4650),h=m(1086),N=m(6498),D=m(1406),P=m(2198),k=m(4850);class M{}class G{}class V{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?this.lazyInit="string"==typeof Ae?()=>{this.headers=new Map,Ae.split("\n").forEach(Ee=>{const st=Ee.indexOf(":");if(st>0){const at=Ee.slice(0,st),Jt=at.toLowerCase(),Nt=Ee.slice(st+1).trim();this.maybeSetNormalizedName(at,Jt),this.headers.has(Jt)?this.headers.get(Jt).push(Nt):this.headers.set(Jt,[Nt])}})}:()=>{this.headers=new Map,Object.keys(Ae).forEach(Ee=>{let st=Ae[Ee];const at=Ee.toLowerCase();"string"==typeof st&&(st=[st]),st.length>0&&(this.headers.set(at,st),this.maybeSetNormalizedName(Ee,at))})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const Ee=this.headers.get(Ae.toLowerCase());return Ee&&Ee.length>0?Ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,Ee){return this.clone({name:Ae,value:Ee,op:"a"})}set(Ae,Ee){return this.clone({name:Ae,value:Ee,op:"s"})}delete(Ae,Ee){return this.clone({name:Ae,value:Ee,op:"d"})}maybeSetNormalizedName(Ae,Ee){this.normalizedNames.has(Ee)||this.normalizedNames.set(Ee,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(Ee=>{this.headers.set(Ee,Ae.headers.get(Ee)),this.normalizedNames.set(Ee,Ae.normalizedNames.get(Ee))})}clone(Ae){const Ee=new V;return Ee.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,Ee.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),Ee}applyUpdate(Ae){const Ee=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let st=Ae.value;if("string"==typeof st&&(st=[st]),0===st.length)return;this.maybeSetNormalizedName(Ae.name,Ee);const at=("a"===Ae.op?this.headers.get(Ee):void 0)||[];at.push(...st),this.headers.set(Ee,at);break;case"d":const Jt=Ae.value;if(Jt){let Nt=this.headers.get(Ee);if(!Nt)return;Nt=Nt.filter(an=>-1===Jt.indexOf(an)),0===Nt.length?(this.headers.delete(Ee),this.normalizedNames.delete(Ee)):this.headers.set(Ee,Nt)}else this.headers.delete(Ee),this.normalizedNames.delete(Ee)}}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ee=>Ae(this.normalizedNames.get(Ee),this.headers.get(Ee)))}}class H{encodeKey(Ae){return ae(Ae)}encodeValue(Ae){return ae(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const J=/%(\d[a-f0-9])/gi,re={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ae(it){return encodeURIComponent(it).replace(J,(Ae,Ee)=>re[Ee]??Ae)}function De(it){return`${it}`}class Ze{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new H,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $(it,Ae){const Ee=new Map;return it.length>0&&it.replace(/^\?/,"").split("&").forEach(at=>{const Jt=at.indexOf("="),[Nt,an]=-1==Jt?[Ae.decodeKey(at),""]:[Ae.decodeKey(at.slice(0,Jt)),Ae.decodeValue(at.slice(Jt+1))],kt=Ee.get(Nt)||[];kt.push(an),Ee.set(Nt,kt)}),Ee}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(Ee=>{const st=Ae.fromObject[Ee],at=Array.isArray(st)?st.map(De):[De(st)];this.map.set(Ee,at)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const Ee=this.map.get(Ae);return Ee?Ee[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,Ee){return this.clone({param:Ae,value:Ee,op:"a"})}appendAll(Ae){const Ee=[];return Object.keys(Ae).forEach(st=>{const at=Ae[st];Array.isArray(at)?at.forEach(Jt=>{Ee.push({param:st,value:Jt,op:"a"})}):Ee.push({param:st,value:at,op:"a"})}),this.clone(Ee)}set(Ae,Ee){return this.clone({param:Ae,value:Ee,op:"s"})}delete(Ae,Ee){return this.clone({param:Ae,value:Ee,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const Ee=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(st=>Ee+"="+this.encoder.encodeValue(st)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const Ee=new Ze({encoder:this.encoder});return Ee.cloneFrom=this.cloneFrom||this,Ee.updates=(this.updates||[]).concat(Ae),Ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const Ee=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];Ee.push(De(Ae.value)),this.map.set(Ae.param,Ee);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let st=this.map.get(Ae.param)||[];const at=st.indexOf(De(Ae.value));-1!==at&&st.splice(at,1),st.length>0?this.map.set(Ae.param,st):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class Le{constructor(){this.map=new Map}set(Ae,Ee){return this.map.set(Ae,Ee),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function me(it){return typeof ArrayBuffer<"u"&&it instanceof ArrayBuffer}function se(it){return typeof Blob<"u"&&it instanceof Blob}function Ne(it){return typeof FormData<"u"&&it instanceof FormData}class Ie{constructor(Ae,Ee,st,at){let Jt;if(this.url=Ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function Ge(it){switch(it){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||at?(this.body=void 0!==st?st:null,Jt=at):Jt=st,Jt&&(this.reportProgress=!!Jt.reportProgress,this.withCredentials=!!Jt.withCredentials,Jt.responseType&&(this.responseType=Jt.responseType),Jt.headers&&(this.headers=Jt.headers),Jt.context&&(this.context=Jt.context),Jt.params&&(this.params=Jt.params)),this.headers||(this.headers=new V),this.context||(this.context=new Le),this.params){const Nt=this.params.toString();if(0===Nt.length)this.urlWithParams=Ee;else{const an=Ee.indexOf("?");this.urlWithParams=Ee+(-1===an?"?":an<Ee.length-1?"&":"")+Nt}}else this.params=new Ze,this.urlWithParams=Ee}serializeBody(){return null===this.body?null:me(this.body)||se(this.body)||Ne(this.body)||function ze(it){return typeof URLSearchParams<"u"&&it instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ne(this.body)?null:se(this.body)?this.body.type||null:me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const Ee=Ae.method||this.method,st=Ae.url||this.url,at=Ae.responseType||this.responseType,Jt=void 0!==Ae.body?Ae.body:this.body,Nt=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,an=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let kt=Ae.headers||this.headers,gn=Ae.params||this.params;const mn=Ae.context??this.context;return void 0!==Ae.setHeaders&&(kt=Object.keys(Ae.setHeaders).reduce((tr,rn)=>tr.set(rn,Ae.setHeaders[rn]),kt)),Ae.setParams&&(gn=Object.keys(Ae.setParams).reduce((tr,rn)=>tr.set(rn,Ae.setParams[rn]),gn)),new Ie(Ee,st,Jt,{params:gn,headers:kt,context:mn,reportProgress:an,responseType:at,withCredentials:Nt})}}var he=(()=>((he=he||{})[he.Sent=0]="Sent",he[he.UploadProgress=1]="UploadProgress",he[he.ResponseHeader=2]="ResponseHeader",he[he.DownloadProgress=3]="DownloadProgress",he[he.Response=4]="Response",he[he.User=5]="User",he))();class pe{constructor(Ae,Ee=200,st="OK"){this.headers=Ae.headers||new V,this.status=void 0!==Ae.status?Ae.status:Ee,this.statusText=Ae.statusText||st,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class ne extends pe{constructor(Ae={}){super(Ae),this.type=he.ResponseHeader}clone(Ae={}){return new ne({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class _e extends pe{constructor(Ae={}){super(Ae),this.type=he.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new _e({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class be extends pe{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function oe(it,Ae){return{body:Ae,headers:it.headers,context:it.context,observe:it.observe,params:it.params,reportProgress:it.reportProgress,responseType:it.responseType,withCredentials:it.withCredentials}}let Fe=(()=>{class it{constructor(Ee){this.handler=Ee}request(Ee,st,at={}){let Jt;if(Ee instanceof Ie)Jt=Ee;else{let kt,gn;kt=at.headers instanceof V?at.headers:new V(at.headers),at.params&&(gn=at.params instanceof Ze?at.params:new Ze({fromObject:at.params})),Jt=new Ie(Ee,st,void 0!==at.body?at.body:null,{headers:kt,context:at.context,params:gn,reportProgress:at.reportProgress,responseType:at.responseType||"json",withCredentials:at.withCredentials})}const Nt=(0,h.of)(Jt).pipe((0,D.b)(kt=>this.handler.handle(kt)));if(Ee instanceof Ie||"events"===at.observe)return Nt;const an=Nt.pipe((0,P.h)(kt=>kt instanceof _e));switch(at.observe||"body"){case"body":switch(Jt.responseType){case"arraybuffer":return an.pipe((0,k.U)(kt=>{if(null!==kt.body&&!(kt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return kt.body}));case"blob":return an.pipe((0,k.U)(kt=>{if(null!==kt.body&&!(kt.body instanceof Blob))throw new Error("Response is not a Blob.");return kt.body}));case"text":return an.pipe((0,k.U)(kt=>{if(null!==kt.body&&"string"!=typeof kt.body)throw new Error("Response is not a string.");return kt.body}));default:return an.pipe((0,k.U)(kt=>kt.body))}case"response":return an;default:throw new Error(`Unreachable: unhandled observe type ${at.observe}}`)}}delete(Ee,st={}){return this.request("DELETE",Ee,st)}get(Ee,st={}){return this.request("GET",Ee,st)}head(Ee,st={}){return this.request("HEAD",Ee,st)}jsonp(Ee,st){return this.request("JSONP",Ee,{params:(new Ze).append(st,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ee,st={}){return this.request("OPTIONS",Ee,st)}patch(Ee,st,at={}){return this.request("PATCH",Ee,oe(at,st))}post(Ee,st,at={}){return this.request("POST",Ee,oe(at,st))}put(Ee,st,at={}){return this.request("PUT",Ee,oe(at,st))}}return it.\u0275fac=function(Ee){return new(Ee||it)(e.LFG(M))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})();class Re{constructor(Ae,Ee){this.next=Ae,this.interceptor=Ee}handle(Ae){return this.interceptor.intercept(Ae,this.next)}}const pt=new e.OlP("HTTP_INTERCEPTORS");let Qe=(()=>{class it{intercept(Ee,st){return st.handle(Ee)}}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})();const wt=/^\)\]\}',?\n/;let Rt=(()=>{class it{constructor(Ee){this.xhrFactory=Ee}handle(Ee){if("JSONP"===Ee.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N.y(st=>{const at=this.xhrFactory.build();if(at.open(Ee.method,Ee.urlWithParams),Ee.withCredentials&&(at.withCredentials=!0),Ee.headers.forEach((fn,We)=>at.setRequestHeader(fn,We.join(","))),Ee.headers.has("Accept")||at.setRequestHeader("Accept","application/json, text/plain, */*"),!Ee.headers.has("Content-Type")){const fn=Ee.detectContentTypeHeader();null!==fn&&at.setRequestHeader("Content-Type",fn)}if(Ee.responseType){const fn=Ee.responseType.toLowerCase();at.responseType="json"!==fn?fn:"text"}const Jt=Ee.serializeBody();let Nt=null;const an=()=>{if(null!==Nt)return Nt;const fn=at.statusText||"OK",We=new V(at.getAllResponseHeaders()),Et=function Pn(it){return"responseURL"in it&&it.responseURL?it.responseURL:/^X-Request-URL:/m.test(it.getAllResponseHeaders())?it.getResponseHeader("X-Request-URL"):null}(at)||Ee.url;return Nt=new ne({headers:We,status:at.status,statusText:fn,url:Et}),Nt},kt=()=>{let{headers:fn,status:We,statusText:Et,url:_t}=an(),Ct=null;204!==We&&(Ct=typeof at.response>"u"?at.responseText:at.response),0===We&&(We=Ct?200:0);let qt=We>=200&&We<300;if("json"===Ee.responseType&&"string"==typeof Ct){const Tt=Ct;Ct=Ct.replace(wt,"");try{Ct=""!==Ct?JSON.parse(Ct):null}catch(Ke){Ct=Tt,qt&&(qt=!1,Ct={error:Ke,text:Ct})}}qt?(st.next(new _e({body:Ct,headers:fn,status:We,statusText:Et,url:_t||void 0})),st.complete()):st.error(new be({error:Ct,headers:fn,status:We,statusText:Et,url:_t||void 0}))},gn=fn=>{const{url:We}=an(),Et=new be({error:fn,status:at.status||0,statusText:at.statusText||"Unknown Error",url:We||void 0});st.error(Et)};let mn=!1;const tr=fn=>{mn||(st.next(an()),mn=!0);let We={type:he.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(We.total=fn.total),"text"===Ee.responseType&&!!at.responseText&&(We.partialText=at.responseText),st.next(We)},rn=fn=>{let We={type:he.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(We.total=fn.total),st.next(We)};return at.addEventListener("load",kt),at.addEventListener("error",gn),at.addEventListener("timeout",gn),at.addEventListener("abort",gn),Ee.reportProgress&&(at.addEventListener("progress",tr),null!==Jt&&at.upload&&at.upload.addEventListener("progress",rn)),at.send(Jt),st.next({type:he.Sent}),()=>{at.removeEventListener("error",gn),at.removeEventListener("abort",gn),at.removeEventListener("load",kt),at.removeEventListener("timeout",gn),Ee.reportProgress&&(at.removeEventListener("progress",tr),null!==Jt&&at.upload&&at.upload.removeEventListener("progress",rn)),at.readyState!==at.DONE&&at.abort()}})}}return it.\u0275fac=function(Ee){return new(Ee||it)(e.LFG(u.JF))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})();const cn=new e.OlP("XSRF_COOKIE_NAME"),yn=new e.OlP("XSRF_HEADER_NAME");class Ft{}let Zn=(()=>{class it{constructor(Ee,st,at){this.doc=Ee,this.platform=st,this.cookieName=at,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ee=this.doc.cookie||"";return Ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(Ee,this.cookieName),this.lastCookieString=Ee),this.lastToken}}return it.\u0275fac=function(Ee){return new(Ee||it)(e.LFG(u.K0),e.LFG(e.Lbi),e.LFG(cn))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})(),Ot=(()=>{class it{constructor(Ee,st){this.tokenService=Ee,this.headerName=st}intercept(Ee,st){const at=Ee.url.toLowerCase();if("GET"===Ee.method||"HEAD"===Ee.method||at.startsWith("http://")||at.startsWith("https://"))return st.handle(Ee);const Jt=this.tokenService.getToken();return null!==Jt&&!Ee.headers.has(this.headerName)&&(Ee=Ee.clone({headers:Ee.headers.set(this.headerName,Jt)})),st.handle(Ee)}}return it.\u0275fac=function(Ee){return new(Ee||it)(e.LFG(Ft),e.LFG(yn))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})(),bt=(()=>{class it{constructor(Ee,st){this.backend=Ee,this.injector=st,this.chain=null}handle(Ee){if(null===this.chain){const st=this.injector.get(pt,[]);this.chain=st.reduceRight((at,Jt)=>new Re(at,Jt),this.backend)}return this.chain.handle(Ee)}}return it.\u0275fac=function(Ee){return new(Ee||it)(e.LFG(G),e.LFG(e.zs3))},it.\u0275prov=e.Yz7({token:it,factory:it.\u0275fac}),it})(),Dt=(()=>{class it{static disable(){return{ngModule:it,providers:[{provide:Ot,useClass:Qe}]}}static withOptions(Ee={}){return{ngModule:it,providers:[Ee.cookieName?{provide:cn,useValue:Ee.cookieName}:[],Ee.headerName?{provide:yn,useValue:Ee.headerName}:[]]}}}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({providers:[Ot,{provide:pt,useExisting:Ot,multi:!0},{provide:Ft,useClass:Zn},{provide:cn,useValue:"XSRF-TOKEN"},{provide:yn,useValue:"X-XSRF-TOKEN"}]}),it})(),St=(()=>{class it{}return it.\u0275fac=function(Ee){return new(Ee||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({providers:[Fe,{provide:M,useClass:bt},Rt,{provide:G,useExisting:Rt}],imports:[Dt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),it})()},4650:(de,Q,m)=>{"use strict";m.d(Q,{$8M:()=>Ua,$Z:()=>Rg,AFp:()=>XS,ALo:()=>DS,AaK:()=>M,Akn:()=>us,AsE:()=>Kp,BQk:()=>um,CHM:()=>Bn,CRH:()=>US,CZH:()=>Gm,Ckj:()=>Jc,CqO:()=>iy,D6c:()=>tA,DdM:()=>vS,Dn7:()=>bS,EJc:()=>ID,EiD:()=>ji,EpF:()=>n_,F$t:()=>dy,F4k:()=>oy,FYo:()=>Cd,FiY:()=>Lc,G48:()=>VD,Gf:()=>NS,GfV:()=>Sd,GkF:()=>t_,Gpc:()=>I,Gre:()=>hf,Hsn:()=>fy,Ikx:()=>I_,JOm:()=>ts,JVY:()=>pv,Jf7:()=>cc,KtG:()=>ro,L6k:()=>hv,LAX:()=>ng,LFG:()=>jr,LSH:()=>Es,Lbi:()=>tE,Lck:()=>z0,MAs:()=>VE,MGl:()=>dm,MMx:()=>dS,NdJ:()=>o_,OlP:()=>ar,Oqu:()=>Cm,PXZ:()=>kD,PiD:()=>Oh,Q6J:()=>ny,QGY:()=>r_,QP$:()=>Vn,Qsj:()=>hg,R0b:()=>oa,RDi:()=>fr,Rgc:()=>ch,SBq:()=>Yi,Sil:()=>DA,Suo:()=>kS,TTD:()=>Xo,TgZ:()=>sm,Tol:()=>lf,Udp:()=>Wp,VKq:()=>Z_,W1O:()=>HS,WLB:()=>ih,X6Q:()=>HD,XFs:()=>bt,Xpm:()=>_t,Xts:()=>hd,Y36:()=>lc,YKP:()=>Ml,YNc:()=>im,Yjl:()=>hr,Yz7:()=>Xt,Z0I:()=>Lt,ZZ4:()=>vh,_Bn:()=>j_,_UZ:()=>e_,_Vd:()=>js,_Yv:()=>ic,_c5:()=>XD,_uU:()=>D_,aQg:()=>HC,c2e:()=>wC,cJS:()=>Qt,cQ8:()=>a_,cg1:()=>Uy,dDg:()=>LD,dqk:()=>at,eBb:()=>tg,eFA:()=>hE,ekj:()=>uf,eoX:()=>uE,evT:()=>Ed,f3M:()=>Pf,g9A:()=>xC,h0i:()=>oh,hGG:()=>eA,hYB:()=>s_,hij:()=>ff,iGM:()=>FS,ifc:()=>st,ip1:()=>qS,jDz:()=>fS,kEZ:()=>W_,kL8:()=>By,l5B:()=>_S,lG2:()=>kn,lcZ:()=>AS,lnq:()=>ym,lqb:()=>rc,lri:()=>aE,mCW:()=>tc,n5z:()=>bf,oAB:()=>Ke,oJD:()=>ss,oxw:()=>uy,pB0:()=>Mi,q3G:()=>kr,qLn:()=>Ts,qOj:()=>Hp,qZA:()=>am,qbA:()=>K_,qzn:()=>Bs,rWj:()=>cE,s9C:()=>lm,sBO:()=>PA,sIi:()=>Cu,s_b:()=>Im,soG:()=>gh,tBr:()=>Pc,tb:()=>Vm,tp0:()=>fa,uIk:()=>Ms,vHH:()=>re,vpe:()=>na,wAp:()=>Cn,xi3:()=>TS,xp6:()=>nu,ynx:()=>cm,z2F:()=>kC,z3N:()=>io,zSh:()=>gd,zs3:()=>$s});var u=m(8929),e=m(2654),h=m(6498),N=m(6787),D=m(8117);function P(t){for(let n in t)if(t[n]===P)return n;throw Error("Could not find renamed property on target object.")}function k(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function M(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(M).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function G(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const V=P({__forward_ref__:P});function I(t){return t.__forward_ref__=I,t.toString=function(){return M(this())},t}function H(t){return $(t)?t():t}function $(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===I}class re extends Error{constructor(n,o){super(function ae(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,o)),this.code=n}}function De(t){return"string"==typeof t?t:null==t?"":String(t)}function me(t,n){throw new re(-201,!1)}function Qe(t,n){null==t&&function rt(t,n,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function Xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wt(t){return wt(t,yn)||wt(t,Zn)}function Lt(t){return null!==Wt(t)}function wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function cn(t){return t&&(t.hasOwnProperty(Ft)||t.hasOwnProperty(Ot))?t[Ft]:null}const yn=P({\u0275prov:P}),Ft=P({\u0275inj:P}),Zn=P({ngInjectableDef:P}),Ot=P({ngInjectorDef:P});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let ke;function Dt(t){const n=ke;return ke=t,n}function St(t,n,o){const c=Wt(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&bt.Optional?null:void 0!==n?n:void me(M(t))}function _n(t){return{toString:t}.toString()}var it=(()=>((it=it||{})[it.OnPush=0]="OnPush",it[it.Default=1]="Default",it))(),st=(()=>{return(t=st||(st={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",st;var t})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),an={},kt=[],gn=P({\u0275cmp:P}),mn=P({\u0275dir:P}),tr=P({\u0275pipe:P}),rn=P({\u0275mod:P}),fn=P({\u0275fac:P}),We=P({__NG_ELEMENT_ID__:P});let Et=0;function _t(t){return _n(()=>{const o=!0===t.standalone,c={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===it.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||st.Emulated,id:"c"+Et++,styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.dependencies,_=t.features;return d.inputs=Nn(t.inputs,c),d.outputs=Nn(t.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(qt).filter(Tt):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Sn).filter(Tt):null,d})}function qt(t){return un(t)||An(t)}function Tt(t){return null!==t}function Ke(t){return _n(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Nn(t,n){if(null==t)return an;const o={};for(const c in t)if(t.hasOwnProperty(c)){let d=t[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=c,n&&(n[d]=p)}return o}const kn=_t;function hr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function un(t){return t[gn]||null}function An(t){return t[mn]||null}function Sn(t){return t[tr]||null}function Vn(t){const n=un(t)||An(t)||Sn(t);return null!==n&&n.standalone}function Jn(t,n){const o=t[rn]||null;if(!o&&!0===n)throw new Error(`Type ${M(t)} does not have '\u0275mod' property.`);return o}function Xn(t){return Array.isArray(t)&&"object"==typeof t[1]}function nr(t){return Array.isArray(t)&&!0===t[1]}function Br(t){return 0!=(8&t.flags)}function wr(t){return 2==(2&t.flags)}function qr(t){return 1==(1&t.flags)}function Er(t){return null!==t.template}function Se(t){return 0!=(256&t[2])}function mo(t,n){return t.hasOwnProperty(fn)?t[fn]:null}class Ao{constructor(n,o,c){this.previousValue=n,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xo(){return mi}function mi(t){return t.type.prototype.ngOnChanges&&(t.setInput=mr),To}function To(){const t=ti(this),n=t?.current;if(n){const o=t.previous;if(o===an)t.previous=n;else for(let c in n)o[c]=n[c];t.current=null,this.ngOnChanges(n)}}function mr(t,n,o,c){const d=ti(t)||function ni(t,n){return t[ei]=n}(t,{previous:an,current:null}),p=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[o],S=_[C];p[C]=new Ao(S&&S.currentValue,n,_===an),t[c]=n}Xo.ngInherit=!0;const ei="__ngSimpleChanges__";function ti(t){return t[ei]||null}function lr(t){for(;Array.isArray(t);)t=t[0];return t}function $o(t,n){return lr(n[t])}function Or(t,n){return lr(n[t.index])}function Pe(t,n){return t.data[n]}function ft(t,n){return t[n]}function tt(t,n){const o=n[t];return Xn(o)?o:o[0]}function It(t){return 64==(64&t[2])}function ln(t,n){return null==n?null:t[n]}function Xr(t){t[18]=0}function Kr(t,n){t[5]+=n;let o=t,c=t[3];for(;null!==c&&(1===n&&1===o[5]||-1===n&&0===o[5]);)c[5]+=n,o=c,c=c[3]}const dn={lFrame:Fs(null),bindingsEnabled:!0};function ee(){return dn.bindingsEnabled}function ge(){return dn.lFrame.lView}function Ht(){return dn.lFrame.tView}function Bn(t){return dn.lFrame.contextLView=t,t[8]}function ro(t){return dn.lFrame.contextLView=null,t}function Lr(){let t=B();for(;null!==t&&64===t.type;)t=t.parent;return t}function B(){return dn.lFrame.currentTNode}function w(t,n){const o=dn.lFrame;o.currentTNode=t,o.isParent=n}function te(){return dn.lFrame.isParent}function ht(){dn.lFrame.isParent=!1}function Dr(){const t=dn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ii(){return dn.lFrame.bindingIndex}function Fr(){return dn.lFrame.bindingIndex++}function Fi(t){const n=dn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function Iu(t,n){const o=dn.lFrame;o.bindingIndex=o.bindingRootIndex=t,Ps(n)}function Ps(t){dn.lFrame.currentDirectiveIndex=t}function _i(){return dn.lFrame.currentQueryIndex}function ls(t){dn.lFrame.currentQueryIndex=t}function Ls(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function co(t,n,o){if(o&bt.SkipSelf){let d=n,p=t;for(;!(d=d.parent,null!==d||o&bt.Host||(d=Ls(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;n=d,t=p}const c=dn.lFrame=Ru();return c.currentTNode=n,c.lView=t,!0}function ds(t){const n=Ru(),o=t[1];dn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Ru(){const t=dn.lFrame,n=null===t?null:t.child;return null===n?Fs(t):n}function Fs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function jn(){const t=dn.lFrame;return dn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const b=jn;function Y(){const t=jn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xe(){return dn.lFrame.selectedIndex}function ut(t){dn.lFrame.selectedIndex=t}function vt(){const t=dn.lFrame;return Pe(t.tView,t.selectedIndex)}function Yn(t,n){for(let o=n.directiveStart,c=n.directiveEnd;o<c;o++){const p=t.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:O,ngOnDestroy:j}=p;_&&(t.contentHooks||(t.contentHooks=[])).push(-o,_),C&&((t.contentHooks||(t.contentHooks=[])).push(o,C),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,C)),S&&(t.viewHooks||(t.viewHooks=[])).push(-o,S),O&&((t.viewHooks||(t.viewHooks=[])).push(o,O),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,O)),null!=j&&(t.destroyHooks||(t.destroyHooks=[])).push(o,j)}}function Nr(t,n,o){Ci(t,n,3,o)}function oo(t,n,o,c){(3&t[2])===o&&Ci(t,n,o,c)}function Mo(t,n){let o=t[2];(3&o)===n&&(o&=2047,o+=1,t[2]=o)}function Ci(t,n,o,c){const p=c??-1,_=n.length-1;let C=0;for(let S=void 0!==c?65535&t[18]:0;S<_;S++)if("number"==typeof n[S+1]){if(C=n[S],null!=c&&C>=c)break}else n[S]<0&&(t[18]+=65536),(C<p||-1==p)&&(si(t,o,n,S),t[18]=(4294901760&t[18])+S+2),S++}function si(t,n,o,c){const d=o[c]<0,p=o[c+1],C=t[d?-o[c]:o[c]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Ni{constructor(n,o,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Zr(t,n,o){let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const p=o[c++],_=o[c++],C=o[c++];t.setAttribute(n,_,C,p)}else{const p=d,_=o[++c];fs(p)?t.setProperty(n,p,_):t.setAttribute(n,p,_),c++}}return c}function uo(t){return 3===t||4===t||6===t}function fs(t){return 64===t.charCodeAt(0)}function sa(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let c=0;c<n.length;c++){const d=n[c];"number"==typeof d?o=d:0===o||Tc(t,o,d,null,-1===o||2===o?n[++c]:null)}}return t}function Tc(t,n,o,c,d){let p=0,_=t.length;if(-1===n)_=-1;else for(;p<t.length;){const C=t[p++];if("number"==typeof C){if(C===n){_=-1;break}if(C>n){_=p-1;break}}}for(;p<t.length;){const C=t[p];if("number"==typeof C)break;if(C===o){if(null===c)return void(null!==d&&(t[p+1]=d));if(c===t[p+1])return void(t[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(t.splice(_,0,n),p=_+1),t.splice(p++,0,o),null!==c&&t.splice(p++,0,c),null!==d&&t.splice(p++,0,d)}function aa(t){return-1!==t}function ai(t){return 32767&t}function Xi(t,n){let o=function bc(t){return t>>16}(t),c=n;for(;o>0;)c=c[15],o--;return c}let Mc=!0;function ca(t){const n=Mc;return Mc=t,n}let Si=0;const dr={};function ci(t,n){const o=ui(t,n);if(-1!==o)return o;const c=n[1];c.firstCreatePass&&(t.injectorIndex=n.length,Yo(c.data,t),Yo(n,null),Yo(c.blueprint,null));const d=xr(t,n),p=t.injectorIndex;if(aa(d)){const _=ai(d),C=Xi(d,n),S=C[1].data;for(let O=0;O<8;O++)n[p+O]=C[_+O]|S[_+O]}return n[p+8]=d,p}function Yo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ui(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function xr(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,d=n;for(;null!==d;){if(c=ka(d),null===c)return-1;if(o++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function Co(t,n,o){!function lo(t,n,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(We)&&(c=o[We]),null==c&&(c=o[We]=Si++);const d=255&c;n.data[t+(d>>5)]|=1<<d}(t,n,o)}function Ll(t,n,o){if(o&bt.Optional||void 0!==t)return t;me()}function Pu(t,n,o,c){if(o&bt.Optional&&void 0===c&&(c=null),0==(o&(bt.Self|bt.Host))){const d=t[9],p=Dt(void 0);try{return d?d.get(n,c,o&bt.Optional):St(n,c,o&bt.Optional)}finally{Dt(p)}}return Ll(c,0,o)}function Fl(t,n,o,c=bt.Default,d){if(null!==t){if(1024&n[2]){const _=function Mf(t,n,o,c,d){let p=t,_=n;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const C=Fa(p,_,o,c|bt.Self,dr);if(C!==dr)return C;let S=p.parent;if(!S){const O=_[21];if(O){const j=O.get(o,dr,c);if(j!==dr)return j}S=ka(_),_=_[15]}p=S}return d}(t,n,o,c,dr);if(_!==dr)return _}const p=Fa(t,n,o,c,dr);if(p!==dr)return p}return Pu(n,o,c,d)}function Fa(t,n,o,c,d){const p=function Na(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(We)?t[We]:void 0;return"number"==typeof n?n>=0?255&n:xc:n}(o);if("function"==typeof p){if(!co(n,t,c))return c&bt.Host?Ll(d,0,c):Pu(n,o,c,d);try{const _=p(c);if(null!=_||c&bt.Optional)return _;me()}finally{b()}}else if("number"==typeof p){let _=null,C=ui(t,n),S=-1,O=c&bt.Host?n[16][6]:null;for((-1===C||c&bt.SkipSelf)&&(S=-1===C?xr(t,n):n[C+8],-1!==S&&Zo(c,!1)?(_=n[1],C=ai(S),n=Xi(S,n)):C=-1);-1!==C;){const j=n[1];if(ua(p,C,j.data)){const ce=Vr(C,n,o,_,c,O);if(ce!==dr)return ce}S=n[C+8],-1!==S&&Zo(c,n[1].data[C+8]===O)&&ua(p,C,n)?(_=j,C=ai(S),n=Xi(S,n)):C=-1}}return d}function Vr(t,n,o,c,d,p){const _=n[1],C=_.data[t+8],j=ki(C,_,o,null==c?wr(C)&&Mc:c!=_&&0!=(3&C.type),d&bt.Host&&p===C);return null!==j?ks(n,_,j,C):dr}function ki(t,n,o,c,d){const p=t.providerIndexes,_=n.data,C=1048575&p,S=t.directiveStart,j=p>>20,Me=d?C+j:t.directiveEnd;for(let Ye=c?C:C+j;Ye<Me;Ye++){const Je=_[Ye];if(Ye<S&&o===Je||Ye>=S&&Je.type===o)return Ye}if(d){const Ye=_[S];if(Ye&&Er(Ye)&&Ye.type===o)return S}return null}function ks(t,n,o,c){let d=t[o];const p=n.data;if(function ia(t){return t instanceof Ni}(d)){const _=d;_.resolving&&function Xe(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}(p[o]));const C=ca(_.canSeeViewProviders);_.resolving=!0;const S=_.injectImpl?Dt(_.injectImpl):null;co(t,c,bt.Default);try{d=t[o]=_.factory(void 0,p,t,c),n.firstCreatePass&&o>=c.directiveStart&&function Mr(t,n,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=n.type.prototype;if(c){const _=mi(n);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,_)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,p))}(o,p[o],n)}finally{null!==S&&Dt(S),ca(C),_.resolving=!1,b()}}return d}function ua(t,n,o){return!!(o[n+(t>>5)]&1<<t)}function Zo(t,n){return!(t&bt.Self||t&bt.Host&&n)}class ps{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,c){return Fl(this._tNode,this._lView,n,c,o)}}function xc(){return new ps(Lr(),ge())}function bf(t){return _n(()=>{const n=t.prototype.constructor,o=n[fn]||Nl(n),c=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==c;){const p=d[fn]||Nl(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Nl(t){return $(t)?()=>{const n=Nl(H(t));return n&&n()}:mo(t)}function ka(t){const n=t[1],o=n.type;return 2===o?n.declTNode:1===o?t[6]:null}function Ua(t){return function Tf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const p=o[d];if(uo(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(p===n)return o[d+1];d+=2}}}return null}(Lr(),t)}const la="__parameters__";function Ga(t,n,o){return _n(()=>{const c=function Ba(t){return function(...o){if(t){const c=t(...o);for(const d in c)this[d]=c[d]}}}(n);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return C.annotation=_,C;function C(S,O,j){const ce=S.hasOwnProperty(la)?S[la]:Object.defineProperty(S,la,{value:[]})[la];for(;ce.length<=j;)ce.push(null);return(ce[j]=ce[j]||[]).push(_),S}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class ar{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Xt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wo(t,n){void 0===n&&(n=t);for(let o=0;o<t.length;o++){let c=t[o];Array.isArray(c)?(n===t&&(n=t.slice(0,o)),Wo(c,n)):n!==t&&n.push(c)}return n}function Ei(t,n){t.forEach(o=>Array.isArray(o)?Ei(o,n):n(o))}function Uu(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function $a(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function wc(t,n){const o=[];for(let c=0;c<t;c++)o.push(n);return o}function Ce(t,n,o){let c=mt(t,n);return c>=0?t[1|c]=o:(c=~c,function y(t,n,o,c){let d=t.length;if(d==n)t.push(o,c);else if(1===d)t.push(c,t[0]),t[0]=o;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=o,t[n+1]=c}}(t,c,n,o)),c}function Oe(t,n){const o=mt(t,n);if(o>=0)return t[1|o]}function mt(t,n){return function In(t,n,o){let c=0,d=t.length>>o;for(;d!==c;){const p=c+(d-c>>1),_=t[p<<o];if(n===_)return p<<o;_>n?d=p:c=p+1}return~(d<<o)}(t,n,1)}const Bu={},Of="__NG_DI_FLAG__",za="ngTempTokenPath",Mh=/\n/gm,Ul="__source";let Ic;function Gu(t){const n=Ic;return Ic=t,n}function Rc(t,n=bt.Default){if(void 0===Ic)throw new re(-203,!1);return null===Ic?St(t,void 0,n):Ic.get(t,n&bt.Optional?null:void 0,n)}function jr(t,n=bt.Default){return(function je(){return ke}()||Rc)(H(t),n)}function Pf(t,n=bt.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),jr(t,n)}function Bl(t){const n=[];for(let o=0;o<t.length;o++){const c=H(t[o]);if(Array.isArray(c)){if(0===c.length)throw new re(900,!1);let d,p=bt.Default;for(let _=0;_<c.length;_++){const C=c[_],S=wh(C);"number"==typeof S?-1===S?d=C.token:p|=S:d=C}n.push(jr(d,p))}else n.push(jr(c))}return n}function Oc(t,n){return t[Of]=n,t.prototype[Of]=n,t}function wh(t){return t[Of]}const Pc=Oc(Ga("Inject",t=>({token:t})),-1),Lc=Oc(Ga("Optional"),8),Oh=Oc(Ga("Self"),2),fa=Oc(Ga("SkipSelf"),4);var ts=(()=>((ts=ts||{})[ts.Important=1]="Important",ts[ts.DashCase=2]="DashCase",ts))();const Uc=new Map;let rv=0;const zu="__ngContext__";function Io(t,n){Xn(n)?(t[zu]=n[20],function Ti(t){Uc.set(t[20],t)}(n)):t[zu]=n}function ns(t,n){return undefined(t,n)}function Hc(t){const n=t[3];return nr(n)?n[3]:n}function Jl(t){return Ql(t[13])}function Zu(t){return Ql(t[4])}function Ql(t){for(;null!==t&&!nr(t);)t=t[4];return t}function bi(t,n,o,c,d){if(null!=c){let p,_=!1;nr(c)?p=c:Xn(c)&&(_=!0,c=c[0]);const C=lr(c);0===t&&null!==o?null==d?Ju(n,o,C):va(n,o,C,d||null,!0):1===t&&null!==o?va(n,o,C,d||null,!0):2===t?function rd(t,n,o){const c=$c(t,n);c&&function uv(t,n,o,c){t.removeChild(n,o,c)}(t,c,n,o)}(n,C,_):3===t&&n.destroyNode(C),null!=p&&function qu(t,n,o,c,d){const p=o[7];p!==lr(o)&&bi(n,t,c,p,d);for(let C=10;C<o.length;C++){const S=o[C];_a(S[1],S,t,n,c,p)}}(n,t,p,o,d)}}function ql(t,n,o){return t.createElement(n,o)}function Wu(t,n){const o=t[9],c=o.indexOf(n),d=n[3];512&n[2]&&(n[2]&=-513,Kr(d,-1)),o.splice(c,1)}function ed(t,n){if(t.length<=10)return;const o=10+n,c=t[o];if(c){const d=c[17];null!==d&&d!==t&&Wu(d,c),n>0&&(t[o-1][4]=c[4]);const p=$a(t,10+n);!function Xl(t,n){_a(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Ku(t,n){if(!(128&n[2])){const o=n[11];o.destroyNode&&_a(t,n,o,3,null,null),function Kh(t){let n=t[13];if(!n)return Vc(t[1],t);for(;n;){let o=null;if(Xn(n))o=n[13];else{const c=n[10];c&&(o=c)}if(!o){for(;n&&!n[4]&&n!==t;)Xn(n)&&Vc(n[1],n),n=n[3];null===n&&(n=t),Xn(n)&&Vc(n[1],n),o=n&&n[4]}n=o}}(n)}}function Vc(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function Jh(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const d=n[o[c]];if(!(d instanceof Ni)){const p=o[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=d[p[_]],S=p[_+1];try{S.call(C)}finally{}}else try{p.call(d)}finally{}}}}(t,n),function jc(t,n){const o=t.cleanup,c=n[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const _=o[p+1],C="function"==typeof _?_(n):lr(n[_]),S=c[d=o[p+2]],O=o[p+3];"boolean"==typeof O?C.removeEventListener(o[p],S,O):O>=0?c[d=O]():c[d=-O].unsubscribe(),p+=2}else{const _=c[d=o[p+1]];o[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const o=n[17];if(null!==o&&nr(n[3])){o!==n[3]&&Wu(o,n);const c=n[19];null!==c&&c.detachView(t)}!function Hh(t){Uc.delete(t[20])}(n)}}function td(t,n,o){return function $f(t,n,o){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return o[0];if(2&c.flags){const d=t.data[c.directiveStart].encapsulation;if(d===st.None||d===st.Emulated)return null}return Or(c,o)}(t,n.parent,o)}function va(t,n,o,c,d){t.insertBefore(n,o,c,d)}function Ju(t,n,o){t.appendChild(n,o)}function Ro(t,n,o,c,d){null!==c?va(t,n,o,c,d):Ju(t,n,o)}function $c(t,n){return t.parentNode(n)}function Oo(t,n,o){return zc(t,n,o)}let Bo,ad,cr,zc=function rs(t,n,o){return 40&t.type?Or(t,o):null};function nd(t,n,o,c){const d=td(t,c,n),p=n[11],C=Oo(c.parent||n[6],c,n);if(null!=d)if(Array.isArray(o))for(let S=0;S<o.length;S++)Ro(p,d,o[S],C,!1);else Ro(p,d,o,C,!1)}function Yc(t,n){if(null!==n){const o=n.type;if(3&o)return Or(n,t);if(4&o)return Wr(-1,t[n.index]);if(8&o){const c=n.child;if(null!==c)return Yc(t,c);{const d=t[n.index];return nr(d)?Wr(-1,d):lr(d)}}if(32&o)return ns(n,t)()||lr(t[n.index]);{const c=Qa(t,n);return null!==c?Array.isArray(c)?c[0]:Yc(Hc(t[16]),c):Yc(t,n.next)}}return null}function Qa(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Wr(t,n){const o=10+t+1;if(o<n.length){const c=n[o],d=c[1].firstChild;if(null!==d)return Yc(c,d)}return n[7]}function Qu(t,n,o,c,d,p,_){for(;null!=o;){const C=c[o.index],S=o.type;if(_&&0===n&&(C&&Io(lr(C),c),o.flags|=4),64!=(64&o.flags))if(8&S)Qu(t,n,o.child,c,d,p,!1),bi(n,t,d,C,p);else if(32&S){const O=ns(o,c);let j;for(;j=O();)bi(n,t,d,j,p);bi(n,t,d,C,p)}else 16&S?Qh(t,n,c,o,d,p):bi(n,t,d,C,p);o=_?o.projectionNext:o.next}}function _a(t,n,o,c,d,p){Qu(o,c,t.firstChild,n,d,p,!1)}function Qh(t,n,o,c,d,p){const _=o[16],S=_[6].projection[c.projection];if(Array.isArray(S))for(let O=0;O<S.length;O++)bi(n,t,d,S[O],p);else Qu(t,n,S,_[3],d,p,!0)}function od(t,n,o){t.setAttribute(n,"style",o)}function id(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Xa(t){return function Zc(){if(void 0===Bo&&(Bo=null,at.trustedTypes))try{Bo=at.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bo}()?.createHTML(t)||t}function fr(t){ad=t}function eg(t){return function zf(){if(void 0===cr&&(cr=null,at.trustedTypes))try{cr=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cr}()?.createHTML(t)||t}class Wc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jr extends Wc{getTypeName(){return"HTML"}}class ZC extends Wc{getTypeName(){return"Style"}}class dv extends Wc{getTypeName(){return"Script"}}class fv extends Wc{getTypeName(){return"URL"}}class cd extends Wc{getTypeName(){return"ResourceURL"}}function io(t){return t instanceof Wc?t.changingThisBreaksApplicationSecurity:t}function Bs(t,n){const o=function WC(t){return t instanceof Wc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===n}function pv(t){return new Jr(t)}function hv(t){return new ZC(t)}function tg(t){return new dv(t)}function ng(t){return new fv(t)}function Mi(t){return new cd(t)}class gv{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(Xa(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Ca{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(n){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Xa(n),o;const c=this.inertDocument.createElement("body");return c.innerHTML=Xa(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(n){const o=n.attributes;for(let d=o.length-1;0<d;d--){const _=o.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&n.removeAttribute(_)}let c=n.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const og=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tc(t){return(t=String(t)).match(og)?t:"unsafe:"+t}function Ss(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function nc(...t){const n={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(n[c]=!0);return n}const Yf=Ss("area,br,col,hr,img,wbr"),Qr=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zf=Ss("rp,rt"),Xu=nc(Yf,nc(Qr,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nc(Zf,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nc(Zf,Qr)),Qo=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),is=nc(Qo,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wf=Ss("script,style,template");class ig{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!Xu.hasOwnProperty(o))return this.sanitizedSomething=!0,!Wf.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=n.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),_=p.name,C=_.toLowerCase();if(!is.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=p.value;Qo[C]&&(S=tc(S)),this.buf.push(" ",_,'="',ld(S),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();Xu.hasOwnProperty(o)&&!Yf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(ld(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const mv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sa=/([^\#-~ |!])/g;function ld(t){return t.replace(/&/g,"&amp;").replace(mv,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Sa,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dd;function ji(t,n){let o=null;try{dd=dd||function Fn(t){const n=new Ca(t);return function rg(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new gv(n):n}(t);let c=n?String(n):"";o=dd.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=o.innerHTML,o=dd.getInertBodyElement(c)}while(c!==p);return Xa((new ig).sanitizeChildren(_r(o)||o))}finally{if(o){const c=_r(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _r(t){return"content"in t&&function el(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function ss(t){const n=$i();return n?eg(n.sanitize(kr.HTML,t)||""):Bs(t,"HTML")?eg(io(t)):ji(function ec(){return void 0!==ad?ad:typeof document<"u"?document:void 0}(),De(t))}function Jc(t){const n=$i();return n?n.sanitize(kr.STYLE,t)||"":Bs(t,"Style")?io(t):De(t)}function Es(t){const n=$i();return n?n.sanitize(kr.URL,t)||"":Bs(t,"URL")?io(t):tc(De(t))}function $i(){const t=ge();return t&&t[12]}const hd=new ar("ENVIRONMENT_INITIALIZER"),cg=new ar("INJECTOR",-1),ug=new ar("INJECTOR_DEF_TYPES");class _v{get(n,o=Bu){if(o===Bu){const c=new Error(`NullInjectorError: No provider for ${M(n)}!`);throw c.name="NullInjectorError",c}return o}}function Cv(...t){return{\u0275providers:lg(0,t)}}function lg(t,...n){const o=[],c=new Set;let d;return Ei(n,p=>{const _=p;Qf(_,o,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&Jf(d,o),o}function Jf(t,n){for(let o=0;o<t.length;o++){const{providers:d}=t[o];Ei(d,p=>{n.push(p)})}}function Qf(t,n,o,c){if(!(t=H(t)))return!1;let d=null,p=cn(t);const _=!p&&un(t);if(p||_){if(_&&!_.standalone)return!1;d=t}else{const S=t.ngModule;if(p=cn(S),!p)return!1;d=S}const C=c.has(d);if(_){if(C)return!1;if(c.add(d),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const O of S)Qf(O,n,o,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let O;c.add(d);try{Ei(p.imports,j=>{Qf(j,n,o,c)&&(O||(O=[]),O.push(j))})}finally{}void 0!==O&&Jf(O,n)}if(!C){const O=mo(d)||(()=>new d);n.push({provide:d,useFactory:O,deps:kt},{provide:ug,useValue:d,multi:!0},{provide:hd,useValue:()=>jr(d),multi:!0})}const S=p.providers;null==S||C||Ei(S,j=>{n.push(j)})}}return d!==t&&void 0!==t.providers}const Sv=P({provide:String,useValue:P});function tl(t){return null!==t&&"object"==typeof t&&Sv in t}function Gs(t){return"function"==typeof t}const gd=new ar("Set Injector scope."),nl={},Ev={};let md;function Gn(){return void 0===md&&(md=new _v),md}class rc{}class rl extends rc{constructor(n,o,c,d){super(),this.parent=o,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vs(n,_=>this.processProvider(_)),this.records.set(cg,Qc(void 0,this)),d.has("environment")&&this.records.set(rc,Qc(void 0,this));const p=this.records.get(gd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ug.multi,kt,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const o=Gu(this),c=Dt(void 0);try{return n()}finally{Gu(o),Dt(c)}}get(n,o=Bu,c=bt.Default){this.assertNotDestroyed();const d=Gu(this),p=Dt(void 0);try{if(!(c&bt.SkipSelf)){let C=this.records.get(n);if(void 0===C){const S=function Xc(t){return"function"==typeof t||"object"==typeof t&&t instanceof ar}(n)&&Wt(n);C=S&&this.injectableDefInScope(S)?Qc(Ds(n),nl):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(c&bt.Self?Gn():this.parent).get(n,o=c&bt.Optional&&o===Bu?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[za]=_[za]||[]).unshift(M(n)),d)throw _;return function Ih(t,n,o,c){const d=t[za];throw n[Ul]&&d.unshift(n[Ul]),t.message=function Rh(t,n,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=M(n);if(Array.isArray(n))d=n.map(M).join(" -> ");else if("object"==typeof n){let p=[];for(let _ in n)if(n.hasOwnProperty(_)){let C=n[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):M(C)))}d=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${t.replace(Mh,"\n  ")}`}("\n"+t.message,d,o,c),t.ngTokenPath=d,t[za]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{Dt(p),Gu(d)}}resolveInjectorInitializers(){const n=Gu(this),o=Dt(void 0);try{const c=this.get(hd.multi,kt,bt.Self);for(const d of c)d()}finally{Gu(n),Dt(o)}}toString(){const n=[],o=this.records;for(const c of o.keys())n.push(M(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(n){let o=Gs(n=H(n))?n:H(n&&n.provide);const c=function ol(t){return tl(t)?Qc(void 0,t.useValue):Qc(Dv(t),nl)}(n);if(Gs(n)||!0!==n.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Qc(void 0,nl,!0),d.factory=()=>Bl(d.multi),this.records.set(o,d)),o=n,d.multi.push(n)}this.records.set(o,c)}hydrate(n,o){return o.value===nl&&(o.value=Ev,o.value=o.factory()),"object"==typeof o.value&&o.value&&function qc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=H(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ds(t){const n=Wt(t),o=null!==n?n.factory:mo(t);if(null!==o)return o;if(t instanceof ar)throw new re(204,!1);if(t instanceof Function)return function oc(t){const n=t.length;if(n>0)throw wc(n,"?"),new re(204,!1);const o=function Pn(t){const n=t&&(t[yn]||t[Zn]);if(n){const o=function Rt(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),n}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new re(204,!1)}function Dv(t,n,o){let c;if(Gs(t)){const d=H(t);return mo(d)||Ds(d)}if(tl(t))c=()=>H(t.useValue);else if(function fg(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Bl(t.deps||[]));else if(function dg(t){return!(!t||!t.useExisting)}(t))c=()=>jr(H(t.useExisting));else{const d=H(t&&(t.useClass||t.provide));if(!function Hs(t){return!!t.deps}(t))return mo(d)||Ds(d);c=()=>new d(...Bl(t.deps))}return c}function Qc(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function vd(t){return!!t.\u0275providers}function Vs(t,n){for(const o of t)Array.isArray(o)?Vs(o,n):vd(o)?Vs(o.\u0275providers,n):n(o)}class ic{}class di{resolveComponentFactory(n){throw function As(t){const n=Error(`No component factory found for ${M(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let js=(()=>{class t{}return t.NULL=new di,t})();function Ea(){return zi(Lr(),ge())}function zi(t,n){return new Yi(Or(t,n))}let Yi=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Ea,t})();function pr(t){return t instanceof Yi?t.nativeElement:t}class Cd{}let hg=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function yd(){const t=ge(),o=tt(Lr().index,t);return(Xn(o)?o:t)[11]}(),t})(),gg=(()=>{class t{}return t.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>null}),t})();class Sd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const mg=new Sd("14.2.12"),sc={};function Da(t){return t.ngOriginalError}class Ts{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Da(n);for(;o&&Da(o);)o=Da(o);return o||null}}function cc(t){return t.ownerDocument.defaultView}function Ed(t){return t.ownerDocument}function fi(t){return t instanceof Function?t():t}function Cg(t,n,o){let c=t.length;for(;;){const d=t.indexOf(n,o);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const p=n.length;if(d+p===c||t.charCodeAt(d+p)<=32)return d}o=d+1}}const np="ng-template";function al(t,n,o){let c=0;for(;c<t.length;){let d=t[c++];if(o&&"class"===d){if(d=t[c],-1!==Cg(d.toLowerCase(),n,0))return!0}else if(1===d){for(;c<t.length&&"string"==typeof(d=t[c++]);)if(d.toLowerCase()===n)return!0;return!1}}return!1}function Aa(t){return 4===t.type&&t.value!==np}function yg(t,n,o){return n===(4!==t.type||o?t.value:np)}function Dd(t,n,o){let c=4;const d=t.attrs||[],p=function op(t){for(let n=0;n<t.length;n++)if(uo(t[n]))return n;return t.length}(d);let _=!1;for(let C=0;C<n.length;C++){const S=n[C];if("number"!=typeof S){if(!_)if(4&c){if(c=2|1&c,""!==S&&!yg(t,S,o)||""===S&&1===n.length){if(pi(c))return!1;_=!0}}else{const O=8&c?S:n[++C];if(8&c&&null!==t.attrs){if(!al(t.attrs,O,o)){if(pi(c))return!1;_=!0}continue}const ce=cl(8&c?"class":S,d,Aa(t),o);if(-1===ce){if(pi(c))return!1;_=!0;continue}if(""!==O){let Me;Me=ce>p?"":d[ce+1].toLowerCase();const Ye=8&c?Me:null;if(Ye&&-1!==Cg(Ye,O,0)||2&c&&O!==Me){if(pi(c))return!1;_=!0}}}}else{if(!_&&!pi(c)&&!pi(S))return!1;if(_&&pi(S))continue;_=!1,c=S|1&c}}return pi(c)||_}function pi(t){return 0==(1&t)}function cl(t,n,o,c){if(null===n)return-1;let d=0;if(c||!o){let p=!1;for(;d<n.length;){const _=n[d];if(_===t)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=n[++d];for(;"string"==typeof C;)C=n[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function ip(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===n)return o;o++}return-1}(n,t)}function ul(t,n,o=!1){for(let c=0;c<n.length;c++)if(Dd(t,n[c],o))return!0;return!1}function Ur(t,n){e:for(let o=0;o<n.length;o++){const c=n[o];if(t.length===c.length){for(let d=0;d<t.length;d++)if(t[d]!==c[d])continue e;return!0}}return!1}function Ta(t,n){return t?":not("+n.trim()+")":n}function sp(t){let n=t[0],o=1,c=2,d="",p=!1;for(;o<t.length;){let _=t[o];if("string"==typeof _)if(2&c){const C=t[++o];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!pi(_)&&(n+=Ta(p,d),d=""),c=_,p=p||!pi(c);o++}return""!==d&&(n+=Ta(p,d)),n}const wn={};function nu(t){Eg(Ht(),ge(),xe()+t,!1)}function Eg(t,n,o,c){if(!c)if(3==(3&n[2])){const p=t.preOrderCheckHooks;null!==p&&Nr(n,p,o)}else{const p=t.preOrderHooks;null!==p&&oo(n,p,0,o)}ut(o)}function up(t,n=null,o=null,c){const d=lp(t,n,o,c);return d.resolveInjectorInitializers(),d}function lp(t,n=null,o=null,c,d=new Set){const p=[o||kt,Cv(t)];return c=c||("object"==typeof t?void 0:M(t)),new rl(p,n||Gn(),c||null,d)}let $s=(()=>{class t{static create(o,c){if(Array.isArray(o))return up({name:""},c,o,"");{const d=o.name??"";return up({name:d},o.parent,o.providers,d)}}}return t.THROW_IF_NOT_FOUND=Bu,t.NULL=new _v,t.\u0275prov=Xt({token:t,providedIn:"any",factory:()=>jr(cg)}),t.__NG_ELEMENT_ID__=-1,t})();function lc(t,n=bt.Default){const o=ge();return null===o?jr(t,n):Fl(Lr(),o,H(t),n)}function Rg(){throw new Error("invalid")}function fl(t,n){return t<<17|n<<2}function Go(t){return t>>17&32767}function Fd(t){return 2|t}function Zs(t){return(131068&t)>>2}function hl(t,n){return-131069&t|n<<2}function gl(t){return 1|t}function Ip(t,n){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const d=o[c],p=o[c+1];if(-1!==p){const _=t.data[p];ls(d),_.contentQueries(2,n[p],p)}}}function _l(t,n,o,c,d,p,_,C,S,O,j){const ce=n.blueprint.slice();return ce[0]=d,ce[2]=76|c,(null!==j||t&&1024&t[2])&&(ce[2]|=1024),Xr(ce),ce[3]=ce[15]=t,ce[8]=o,ce[10]=_||t&&t[10],ce[11]=C||t&&t[11],ce[12]=S||t&&t[12]||null,ce[9]=O||t&&t[9]||null,ce[6]=p,ce[20]=function Zl(){return rv++}(),ce[21]=j,ce[16]=2==n.type?t[16]:ce,ce}function fc(t,n,o,c,d){let p=t.data[n];if(null===p)p=function zd(t,n,o,c,d){const p=B(),_=te(),S=t.data[n]=function Uv(t,n,o,c,d,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,o,n,c,d);return null===t.firstChild&&(t.firstChild=S),null!==p&&(_?null==p.child&&null!==S.parent&&(p.child=S):null===p.next&&(p.next=S)),S}(t,n,o,c,d),function ao(){return dn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=d;const _=function F(){const t=dn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return w(p,!0),p}function Js(t,n,o,c){if(0===o)return-1;const d=n.length;for(let p=0;p<o;p++)n.push(c),t.blueprint.push(c),t.data.push(null);return d}function pc(t,n,o){ds(n);try{const c=t.viewQuery;null!==c&&rf(1,c,o);const d=t.template;null!==d&&Yd(t,n,d,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ip(t,n),t.staticViewQueries&&rf(2,t.viewQuery,o);const p=t.components;null!==p&&function $g(t,n){for(let o=0;o<n.length;o++)Zg(t,n[o])}(n,p)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[2]&=-5,Y()}}function cu(t,n,o,c){const d=n[2];if(128!=(128&d)){ds(n);try{Xr(n),function Qi(t){return dn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Yd(t,n,o,2,c);const _=3==(3&d);if(_){const O=t.preOrderCheckHooks;null!==O&&Nr(n,O,null)}else{const O=t.preOrderHooks;null!==O&&oo(n,O,0,null),Mo(n,0)}if(function jv(t){for(let n=Jl(t);null!==n;n=Zu(n)){if(!n[2])continue;const o=n[9];for(let c=0;c<o.length;c++){const d=o[c],p=d[3];0==(512&d[2])&&Kr(p,1),d[2]|=512}}}(n),function Vv(t){for(let n=Jl(t);null!==n;n=Zu(n))for(let o=10;o<n.length;o++){const c=n[o],d=c[1];It(c)&&cu(d,c,d.template,c[8])}}(n),null!==t.contentQueries&&Ip(t,n),_){const O=t.contentCheckHooks;null!==O&&Nr(n,O)}else{const O=t.contentHooks;null!==O&&oo(n,O,1),Mo(n,1)}!function Vg(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)ut(~d);else{const p=d,_=o[++c],C=o[++c];Iu(_,p),C(2,n[p])}}}finally{ut(-1)}}(t,n);const C=t.components;null!==C&&function jg(t,n){for(let o=0;o<n.length;o++)tf(t,n[o])}(n,C);const S=t.viewQuery;if(null!==S&&rf(2,S,c),_){const O=t.viewCheckHooks;null!==O&&Nr(n,O)}else{const O=t.viewHooks;null!==O&&oo(n,O,2),Mo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Kr(n[3],-1))}finally{Y()}}}function Yd(t,n,o,c,d){const p=xe(),_=2&c;try{ut(-1),_&&n.length>22&&Eg(t,n,22,!1),o(c,d)}finally{ut(p)}}function Cl(t,n,o){if(Br(n)){const d=n.directiveEnd;for(let p=n.directiveStart;p<d;p++){const _=t.data[p];_.contentQueries&&_.contentQueries(1,o[p],p)}}}function Zd(t,n,o){!ee()||(function lu(t,n,o,c){const d=o.directiveStart,p=o.directiveEnd;t.firstCreatePass||ci(o,n),Io(c,n);const _=o.initialInputs;for(let C=d;C<p;C++){const S=t.data[C],O=Er(S);O&&Xd(n,o,S);const j=ks(n,t,C,o);Io(j,n),null!==_&&fu(0,C-d,j,S,0,_),O&&(tt(o.index,n)[8]=j)}}(t,n,o,Or(o,n)),128==(128&o.flags)&&function Ki(t,n,o){const c=o.directiveStart,d=o.directiveEnd,p=o.index,_=function Ec(){return dn.lFrame.currentDirectiveIndex}();try{ut(p);for(let C=c;C<d;C++){const S=t.data[C],O=n[C];Ps(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&qd(S,O)}}finally{ut(-1),Ps(_)}}(t,n,o))}function Wd(t,n,o=Or){const c=n.localNames;if(null!==c){let d=n.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],C=-1===_?o(n,t):t[_];t[d++]=C}}}function uu(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Rp(t,n,o,c,d,p,_,C,S,O){const j=22+c,ce=j+d,Me=function Op(t,n){const o=[];for(let c=0;c<n;c++)o.push(c<t?null:wn);return o}(j,ce),Ye="function"==typeof O?O():O;return Me[1]={type:t,blueprint:Me,template:o,queries:null,viewQuery:C,declTNode:n,data:Me.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:Ye,incompleteFirstPass:!1}}function Kd(t,n,o,c){const d=sf(n);null===o?d.push(c):(d.push(o),t.firstCreatePass&&Kg(t).push(c,d.length-1))}function Wi(t,n,o){for(let c in t)if(t.hasOwnProperty(c)){const d=t[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(n,d):o[c]=[n,d]}return o}function Jd(t,n){const c=n.directiveEnd,d=t.data,p=n.attrs,_=[];let C=null,S=null;for(let O=n.directiveStart;O<c;O++){const j=d[O],ce=j.inputs,Me=null===p||Aa(n)?null:Gv(ce,p);_.push(Me),C=Wi(ce,O,C),S=Wi(j.outputs,O,S)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=16),C.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=_,n.inputs=C,n.outputs=S}function xi(t,n,o,c,d,p,_,C){const S=Or(n,o);let j,O=n.inputs;!C&&null!=O&&(j=O[c])?(Jg(t,o,j,c,d),wr(n)&&yl(o,n.index)):3&n.type&&(c=function zg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),d=null!=_?_(d,n.value||"",c):d,p.setProperty(S,c,d))}function yl(t,n){const o=tt(n,t);16&o[2]||(o[2]|=32)}function Qd(t,n,o,c){let d=!1;if(ee()){const p=function Lp(t,n,o){const c=t.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];ul(o,_.selectors,!1)&&(d||(d=[]),Co(ci(o,n),t,_.type),Er(_)?(Fp(t,o),d.unshift(_)):d.push(_))}return d}(t,n,o),_=null===c?null:{"":-1};if(null!==p){d=!0,Np(o,t.data.length,p.length);for(let j=0;j<p.length;j++){const ce=p[j];ce.providersResolver&&ce.providersResolver(ce)}let C=!1,S=!1,O=Js(t,n,p.length,null);for(let j=0;j<p.length;j++){const ce=p[j];o.mergedAttrs=sa(o.mergedAttrs,ce.hostAttrs),Sl(t,o,n,O,ce),Qs(O,ce,_),null!==ce.contentQueries&&(o.flags|=8),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(o.flags|=128);const Me=ce.type.prototype;!C&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),C=!0),!S&&(Me.ngOnChanges||Me.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),S=!0),O++}Jd(t,o)}_&&function du(t,n,o){if(n){const c=t.localNames=[];for(let d=0;d<n.length;d+=2){const p=o[n[d+1]];if(null==p)throw new re(-301,!1);c.push(n[d],p)}}}(o,c,_)}return o.mergedAttrs=sa(o.mergedAttrs,o.attrs),d}function hc(t,n,o,c,d,p){const _=p.hostBindings;if(_){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const S=~n.index;(function gc(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(C)!=S&&C.push(S),C.push(c,d,_)}}function qd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fp(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Qs(t,n,o){if(o){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)o[n.exportAs[c]]=t;Er(n)&&(o[""]=t)}}function Np(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}function Sl(t,n,o,c,d){t.data[c]=d;const p=d.factory||(d.factory=mo(d.type)),_=new Ni(p,Er(d),lc);t.blueprint[c]=_,o[c]=_,hc(t,n,0,c,Js(t,o,d.hostVars,wn),d)}function Xd(t,n,o){const c=Or(n,t),d=uu(o),p=t[10],_=Ma(t,_l(t,d,null,o.onPush?32:16,c,n,p,p.createRenderer(c,o),null,null,null));t[n.index]=_}function cs(t,n,o,c,d,p){const _=Or(t,n);!function ef(t,n,o,c,d,p,_){if(null==p)t.removeAttribute(n,d,o);else{const C=null==_?De(p):_(p,c||"",d);t.setAttribute(n,d,C,o)}}(n[11],_,p,t.value,o,c,d)}function fu(t,n,o,c,d,p){const _=p[n];if(null!==_){const C=c.setInput;for(let S=0;S<_.length;){const O=_[S++],j=_[S++],ce=_[S++];null!==C?c.setInput(o,ce,O,j):o[j]=ce}}}function Gv(t,n){let o=null,c=0;for(;c<n.length;){const d=n[c];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,t[d],n[c+1])),c+=2}else c+=2;else c+=4}return o}function Yg(t,n,o,c){return new Array(t,!0,!1,n,null,0,c,o,null,null)}function tf(t,n){const o=tt(n,t);if(It(o)){const c=o[1];48&o[2]?cu(c,o,c.template,o[8]):o[5]>0&&nf(o)}}function nf(t){for(let c=Jl(t);null!==c;c=Zu(c))for(let d=10;d<c.length;d++){const p=c[d];if(It(p))if(512&p[2]){const _=p[1];cu(_,p,_.template,p[8])}else p[5]>0&&nf(p)}const o=t[1].components;if(null!==o)for(let c=0;c<o.length;c++){const d=tt(o[c],t);It(d)&&d[5]>0&&nf(d)}}function Zg(t,n){const o=tt(n,t),c=o[1];(function Wg(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])})(c,o),pc(c,o,o[8])}function Ma(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function pu(t){for(;t;){t[2]|=32;const n=Hc(t);if(Se(t)&&!n)return t;t=n}return null}function hu(t,n,o,c=!0){const d=n[10];d.begin&&d.begin();try{cu(t,n,t.template,o)}catch(_){throw c&&kp(n,_),_}finally{d.end&&d.end()}}function rf(t,n,o){ls(0),n(t,o)}function sf(t){return t[7]||(t[7]=[])}function Kg(t){return t.cleanup||(t.cleanup=[])}function kp(t,n){const o=t[9],c=o?o.get(Ts,null):null;c&&c.handleError(n)}function Jg(t,n,o,c,d){for(let p=0;p<o.length;){const _=o[p++],C=o[p++],S=n[_],O=t.data[_];null!==O.setInput?O.setInput(S,d,c,C):S[C]=d}}function qs(t,n,o){const c=$o(n,t);!function Hf(t,n,o){t.setValue(n,o)}(t[11],c,o)}function af(t,n,o){let c=o?t.styles:null,d=o?t.classes:null,p=0;if(null!==n)for(let _=0;_<n.length;_++){const C=n[_];"number"==typeof C?p=C:1==p?d=G(d,C):2==p&&(c=G(c,C+": "+n[++_]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=d:t.classesWithoutHost=d}function cf(t,n,o,c,d=!1){for(;null!==o;){const p=n[o.index];if(null!==p&&c.push(lr(p)),nr(p))for(let C=10;C<p.length;C++){const S=p[C],O=S[1].firstChild;null!==O&&cf(S[1],S,O,c)}const _=o.type;if(8&_)cf(t,n,o.child,c);else if(32&_){const C=ns(o,n);let S;for(;S=C();)c.push(S)}else if(16&_){const C=Qa(n,o);if(Array.isArray(C))c.push(...C);else{const S=Hc(n[16]);cf(S[1],S,C,c,!0)}}o=d?o.projectionNext:o.next}return c}class gu{constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,o=n[1];return cf(o,n,o.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(nr(n)){const o=n[8],c=o?o.indexOf(this):-1;c>-1&&(ed(n,c),$a(o,c))}this._attachedToViewContainer=!1}Ku(this._lView[1],this._lView)}onDestroy(n){Kd(this._lView[1],this._lView,null,n)}markForCheck(){pu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wh(t,n){_a(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=n}}class mu extends gu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;hu(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Up extends js{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=un(n);return new vu(o,this.ngModule)}}function Qg(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class Wv{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,c){const d=this.injector.get(n,sc,c);return d!==sc||o===sc?d:this.parentInjector.get(n,o,c)}}class vu extends ic{constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Sg(t){return t.map(sp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Qg(this.componentDef.inputs)}get outputs(){return Qg(this.componentDef.outputs)}create(n,o,c,d){let p=(d=d||this.ngModule)instanceof rc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new Wv(n,p):n,C=_.get(Cd,null);if(null===C)throw new re(407,!1);const S=_.get(gg,null),O=C.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",ce=c?function kv(t,n,o){return t.selectRootElement(n,o===st.ShadowDom)}(O,c,this.componentDef.encapsulation):ql(O,j,function Zv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(j)),Me=this.componentDef.onPush?288:272,Ye=Rp(0,null,null,1,0,null,null,null,null,null),Je=_l(null,Ye,null,Me,null,null,C,O,S,_,null);let ot,Pt;ds(Je);try{const $t=function _u(t,n,o,c,d,p){const _=o[1];o[22]=t;const S=fc(_,22,2,"#host",null),O=S.mergedAttrs=n.hostAttrs;null!==O&&(af(S,O,!0),null!==t&&(Zr(d,t,O),null!==S.classes&&id(d,t,S.classes),null!==S.styles&&od(d,t,S.styles)));const j=c.createRenderer(t,n),ce=_l(o,uu(n),null,n.onPush?32:16,o[22],S,c,j,p||null,null,null);return _.firstCreatePass&&(Co(ci(S,o),_,n.type),Fp(_,S),Np(S,o.length,1)),Ma(o,ce),o[22]=ce}(ce,this.componentDef,Je,C,O);if(ce)if(c)Zr(O,ce,["ng-version",mg.full]);else{const{attrs:sn,classes:At}=function ll(t){const n=[],o=[];let c=1,d=2;for(;c<t.length;){let p=t[c];if("string"==typeof p)2===d?""!==p&&n.push(p,t[++c]):8===d&&o.push(p);else{if(!pi(d))break;d=p}c++}return{attrs:n,classes:o}}(this.componentDef.selectors[0]);sn&&Zr(O,ce,sn),At&&At.length>0&&id(O,ce,At.join(" "))}if(Pt=Pe(Ye,22),void 0!==o){const sn=Pt.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const pn=o[At];sn.push(null!=pn?Array.from(pn):null)}}ot=function xa(t,n,o,c){const d=o[1],p=function as(t,n,o){const c=Lr();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Sl(t,c,n,Js(t,n,1,null),o),Jd(t,c));const d=ks(n,t,c.directiveStart,c);Io(d,n);const p=Or(c,n);return p&&Io(p,n),d}(d,o,n);if(t[8]=o[8]=p,null!==c)for(const C of c)C(p,n);if(n.contentQueries){const C=Lr();n.contentQueries(1,p,C.directiveStart)}const _=Lr();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ut(_.index),hc(o[1],_,0,_.directiveStart,_.directiveEnd,n),qd(n,p)),p}($t,this.componentDef,Je,[Gp]),pc(Ye,Je,null)}finally{Y()}return new ey(this.componentType,ot,zi(Pt,Je),Je,Pt)}}class ey extends class eu{}{constructor(n,o,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new mu(d),this.componentType=n}setInput(n,o){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[n])){const p=this._rootLView;Jg(p[1],p,d,n,o),yl(p,this._tNode.index)}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Gp(){const t=Lr();Yn(ge()[1],t)}function Hp(t){let n=function Xg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;n;){let d;if(Er(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new re(903,!1);d=n.\u0275dir}if(d){if(o){c.push(d);const _=t;_.inputs=Vp(t.inputs),_.declaredInputs=Vp(t.declaredInputs),_.outputs=Vp(t.outputs);const C=d.hostBindings;C&&em(t,C);const S=d.viewQuery,O=d.contentQueries;if(S&&mc(t,S),O&&El(t,O),k(t.inputs,d.inputs),k(t.declaredInputs,d.declaredInputs),k(t.outputs,d.outputs),Er(d)&&d.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(t),C===Hp&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Kv(t){let n=0,o=null;for(let c=t.length-1;c>=0;c--){const d=t[c];d.hostVars=n+=d.hostVars,d.hostAttrs=sa(d.hostAttrs,o=sa(o,d.hostAttrs))}}(c)}function Vp(t){return t===an?{}:t===kt?[]:t}function mc(t,n){const o=t.viewQuery;t.viewQuery=o?(c,d)=>{n(c,d),o(c,d)}:n}function El(t,n){const o=t.contentQueries;t.contentQueries=o?(c,d,p)=>{n(c,d,p),o(c,d,p)}:n}function em(t,n){const o=t.hostBindings;t.hostBindings=o?(c,d)=>{n(c,d),o(c,d)}:n}let Dl=null;function Xs(){if(!Dl){const t=at.Symbol;if(t&&t.iterator)Dl=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<n.length;++o){const c=n[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Dl=c)}}}return Dl}function Cu(t){return!!$p(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xs()in t)}function $p(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function wi(t,n,o){return t[n]=o}function Al(t,n){return t[n]}function Eo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function ea(t,n,o,c){const d=Eo(t,n,o);return Eo(t,n+1,c)||d}function yu(t,n,o,c,d){const p=ea(t,n,o,c);return Eo(t,n+2,d)||p}function Ii(t,n,o,c,d,p){const _=ea(t,n,o,c);return ea(t,n+2,d,p)||_}function Ms(t,n,o,c){const d=ge();return Eo(d,Fr(),n)&&(Ht(),cs(vt(),d,t,n,o,c)),Ms}function a(t,n,o,c){return Eo(t,Fr(),o)?n+De(o)+c:wn}function g(t,n,o,c,d,p){const C=ea(t,ii(),o,d);return Fi(2),C?n+De(o)+c+De(d)+p:wn}function r(t,n,o,c,d,p,_,C){const O=yu(t,ii(),o,d,_);return Fi(3),O?n+De(o)+c+De(d)+p+De(_)+C:wn}function im(t,n,o,c,d,p,_,C){const S=ge(),O=Ht(),j=t+22,ce=O.firstCreatePass?function Xv(t,n,o,c,d,p,_,C,S){const O=n.consts,j=fc(n,t,4,_||null,ln(O,C));Qd(n,o,j,ln(O,S)),Yn(n,j);const ce=j.tViews=Rp(2,j,c,d,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O);return null!==n.queries&&(n.queries.template(n,j),ce.queries=n.queries.embeddedTView(j)),j}(j,O,S,n,o,c,d,p,_):O.data[j];w(ce,!1);const Me=S[11].createComment("");nd(O,S,Me,ce),Io(Me,S),Ma(S,S[j]=Yg(Me,S,Me,ce)),qr(ce)&&Zd(O,S,ce),null!=_&&Wd(S,ce,C)}function VE(t){return ft(function Hr(){return dn.lFrame.contextLView}(),22+t)}function ny(t,n,o){const c=ge();return Eo(c,Fr(),n)&&xi(Ht(),vt(),c,t,n,c[11],o,!1),ny}function ry(t,n,o,c,d){const _=d?"class":"style";Jg(t,o,n.inputs[_],_,c)}function sm(t,n,o,c){const d=ge(),p=Ht(),_=22+t,C=d[11],S=d[_]=ql(C,n,function Hn(){return dn.lFrame.currentNamespace}()),O=p.firstCreatePass?function jE(t,n,o,c,d,p,_){const C=n.consts,O=fc(n,t,2,d,ln(C,p));return Qd(n,o,O,ln(C,_)),null!==O.attrs&&af(O,O.attrs,!1),null!==O.mergedAttrs&&af(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(_,p,d,0,n,o,c):p.data[_];w(O,!0);const j=O.mergedAttrs;null!==j&&Zr(C,S,j);const ce=O.classes;null!==ce&&id(C,S,ce);const Me=O.styles;return null!==Me&&od(C,S,Me),64!=(64&O.flags)&&nd(p,d,S,O),0===function Pr(){return dn.lFrame.elementDepthCount}()&&Io(S,d),function fe(){dn.lFrame.elementDepthCount++}(),qr(O)&&(Zd(p,d,O),Cl(p,O,d)),null!==c&&Wd(d,O),sm}function am(){let t=Lr();te()?ht():(t=t.parent,w(t,!1));const n=t;!function Ue(){dn.lFrame.elementDepthCount--}();const o=Ht();return o.firstCreatePass&&(Yn(o,t),Br(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ou(t){return 0!=(16&t.flags)}(n)&&ry(o,n,ge(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Dc(t){return 0!=(32&t.flags)}(n)&&ry(o,n,ge(),n.stylesWithoutHost,!1),am}function e_(t,n,o,c){return sm(t,n,o,c),am(),e_}function cm(t,n,o){const c=ge(),d=Ht(),p=t+22,_=d.firstCreatePass?function $E(t,n,o,c,d){const p=n.consts,_=ln(p,c),C=fc(n,t,8,"ng-container",_);return null!==_&&af(C,_,!0),Qd(n,o,C,ln(p,d)),null!==n.queries&&n.queries.elementStart(n,C),C}(p,d,c,n,o):d.data[p];w(_,!0);const C=c[p]=c[11].createComment("");return nd(d,c,C,_),Io(C,c),qr(_)&&(Zd(d,c,_),Cl(d,_,c)),null!=o&&Wd(c,_),cm}function um(){let t=Lr();const n=Ht();return te()?ht():(t=t.parent,w(t,!1)),n.firstCreatePass&&(Yn(n,t),Br(t)&&n.queries.elementEnd(t)),um}function t_(t,n,o){return cm(t,n,o),um(),t_}function n_(){return ge()}function r_(t){return!!t&&"function"==typeof t.then}function oy(t){return!!t&&"function"==typeof t.subscribe}const iy=oy;function o_(t,n,o,c){const d=ge(),p=Ht(),_=Lr();return function sy(t,n,o,c,d,p,_,C){const S=qr(c),j=t.firstCreatePass&&Kg(t),ce=n[8],Me=sf(n);let Ye=!0;if(3&c.type||C){const Pt=Or(c,n),$t=C?C(Pt):Pt,sn=Me.length,At=C?er=>C(lr(er[c.index])):c.index;let pn=null;if(!C&&S&&(pn=function zE(t,n,o,c){const d=t.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===o&&d[p+1]===c){const C=n[7],S=d[p+2];return C.length>S?C[S]:null}"string"==typeof _&&(p+=2)}return null}(t,n,d,c.index)),null!==pn)(pn.__ngLastListenerFn__||pn).__ngNextListenerFn__=p,pn.__ngLastListenerFn__=p,Ye=!1;else{p=cy(c,n,ce,p,!1);const er=o.listen($t,d,p);Me.push(p,er),j&&j.push(d,At,sn,sn+1)}}else p=cy(c,n,ce,p,!1);const Je=c.outputs;let ot;if(Ye&&null!==Je&&(ot=Je[d])){const Pt=ot.length;if(Pt)for(let $t=0;$t<Pt;$t+=2){const Cr=n[ot[$t]][ot[$t+1]].subscribe(p),Ji=Me.length;Me.push(p,Cr),j&&j.push(d,c.index,Ji,-(Ji+1))}}}(p,d,d[11],_,t,n,0,c),o_}function ay(t,n,o,c){try{return!1!==o(c)}catch(d){return kp(t,d),!1}}function cy(t,n,o,c,d){return function p(_){if(_===Function)return c;pu(2&t.flags?tt(t.index,n):n);let S=ay(n,0,c,_),O=p.__ngNextListenerFn__;for(;O;)S=ay(n,0,O,_)&&S,O=O.__ngNextListenerFn__;return d&&!1===S&&(_.preventDefault(),_.returnValue=!1),S}}function uy(t=1){return function L(t){return(dn.lFrame.contextLView=function X(t,n){for(;t>0;)n=n[15],t--;return n}(t,dn.lFrame.contextLView))[8]}(t)}function ly(t,n){let o=null;const c=function rp(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(0==(1&o))return n[o+1]}return null}(t);for(let d=0;d<n.length;d++){const p=n[d];if("*"!==p){if(null===c?ul(t,p,!0):Ur(c,p))return d}else o=d}return o}function dy(t){const n=ge()[16][6];if(!n.projection){const c=n.projection=wc(t?t.length:1,null),d=c.slice();let p=n.child;for(;null!==p;){const _=t?ly(p,t):0;null!==_&&(d[_]?d[_].projectionNext=p:c[_]=p,d[_]=p),p=p.next}}}function fy(t,n=0,o){const c=ge(),d=Ht(),p=fc(d,22+t,16,null,o||null);null===p.projection&&(p.projection=n),ht(),64!=(64&p.flags)&&function qa(t,n,o){Qh(n[11],0,n,o,td(t,o,n),Oo(o.parent||n[6],o,n))}(d,c,p)}function lm(t,n,o){return dm(t,"",n,"",o),lm}function dm(t,n,o,c,d){const p=ge(),_=a(p,n,o,c);return _!==wn&&xi(Ht(),vt(),p,t,_,p[11],d,!1),dm}function s_(t,n,o,c,d,p,_){const C=ge(),S=g(C,n,o,c,d,p);return S!==wn&&xi(Ht(),vt(),C,t,S,C[11],_,!1),s_}function a_(t,n,o,c,d,p,_,C,S){const O=ge(),j=r(O,n,o,c,d,p,_,C);return j!==wn&&xi(Ht(),vt(),O,t,j,O[11],S,!1),a_}function zp(t,n,o,c,d){const p=t[o+1],_=null===n;let C=c?Go(p):Zs(p),S=!1;for(;0!==C&&(!1===S||_);){const j=t[C+1];Yp(t[C],n)&&(S=!0,t[C+1]=c?gl(j):Fd(j)),C=c?Go(j):Zs(j)}S&&(t[o+1]=c?Fd(p):gl(p))}function Yp(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&mt(t,n)>=0}const so={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zp(t){return t.substring(so.key,so.keyEnd)}function fm(t){return t.substring(so.value,so.valueEnd)}function hm(t,n){const o=so.textEnd;return o===n?-1:(n=so.keyEnd=function _y(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,so.key=n,o),Au(t,n,o))}function d_(t,n){const o=so.textEnd;let c=so.key=Au(t,n,o);return o===c?-1:(c=so.keyEnd=function p_(t,n,o){let c;for(;n<o&&(45===(c=t.charCodeAt(n))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)n++;return n}(t,c,o),c=h_(t,c,o),c=so.value=Au(t,c,o),c=so.valueEnd=function g_(t,n,o){let c=-1,d=-1,p=-1,_=n,C=_;for(;_<o;){const S=t.charCodeAt(_++);if(59===S)return C;34===S||39===S?C=_=m_(t,S,_,o):n===_-4&&85===p&&82===d&&76===c&&40===S?C=_=m_(t,41,_,o):S>32&&(C=_),p=d,d=c,c=-33&S}return C}(t,c,o),h_(t,c,o))}function f_(t){so.key=0,so.keyEnd=0,so.value=0,so.valueEnd=0,so.textEnd=t.length}function Au(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function h_(t,n,o,c){return(n=Au(t,n,o))<o&&n++,n}function m_(t,n,o,c){let d=-1,p=o;for(;p<c;){const _=t.charCodeAt(p++);if(_==n&&92!==d)return p;d=92==_&&92===d?0:_}throw new Error}function Wp(t,n,o){return xs(t,n,o,!1),Wp}function uf(t,n){return xs(t,n,null,!0),uf}function us(t){ws(S_,v_,t,!1)}function v_(t,n){for(let o=function l_(t){return f_(t),d_(t,Au(t,0,so.textEnd))}(n);o>=0;o=d_(n,o))S_(t,Zp(n),fm(n))}function lf(t){ws(Ce,ta,t,!0)}function ta(t,n){for(let o=function pm(t){return f_(t),hm(t,Au(t,0,so.textEnd))}(n);o>=0;o=hm(n,o))Ce(t,Zp(n),!0)}function xs(t,n,o,c){const d=ge(),p=Ht(),_=Fi(2);p.firstUpdatePass&&WE(p,t,_,c),n!==wn&&Eo(d,_,n)&&E_(p,p.data[xe()],d,d[11],t,d[_+1]=function KE(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=M(io(t)))),t}(n,o),c,_)}function ws(t,n,o,c){const d=Ht(),p=Fi(2);d.firstUpdatePass&&WE(d,null,p,c);const _=ge();if(o!==wn&&Eo(_,p,o)){const C=d.data[xe()];if(_m(C,c)&&!__(d,p)){let S=c?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(o=G(S,o||"")),ry(d,C,_,o,c)}else!function Ey(t,n,o,c,d,p,_,C){d===wn&&(d=kt);let S=0,O=0,j=0<d.length?d[0]:null,ce=0<p.length?p[0]:null;for(;null!==j||null!==ce;){const Me=S<d.length?d[S+1]:void 0,Ye=O<p.length?p[O+1]:void 0;let ot,Je=null;j===ce?(S+=2,O+=2,Me!==Ye&&(Je=ce,ot=Ye)):null===ce||null!==j&&j<ce?(S+=2,Je=j):(O+=2,Je=ce,ot=Ye),null!==Je&&E_(t,n,o,c,Je,ot,_,C),j=S<d.length?d[S]:null,ce=O<p.length?p[O]:null}}(d,C,_,_[11],_[p+1],_[p+1]=function Sy(t,n,o){if(null==o||""===o)return kt;const c=[],d=io(o);if(Array.isArray(d))for(let p=0;p<d.length;p++)t(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&t(c,p,d[p]);else"string"==typeof d&&n(c,d);return c}(t,n,o),c,p)}}function __(t,n){return n>=t.expandoStartIndex}function WE(t,n,o,c){const d=t.data;if(null===d[o+1]){const p=d[xe()],_=__(t,o);_m(p,c)&&null===n&&!_&&(n=!1),n=function gm(t,n,o,c){const d=function qi(t){const n=dn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=c?n.residualClasses:n.residualStyles;if(null===d)0===(c?n.classBindings:n.styleBindings)&&(o=df(o=mm(null,t,n,o,c),n.attrs,c),p=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==d)if(o=mm(d,t,n,o,c),null===p){let S=function yy(t,n,o){const c=o?n.classBindings:n.styleBindings;if(0!==Zs(c))return t[Go(c)]}(t,n,c);void 0!==S&&Array.isArray(S)&&(S=mm(null,t,n,S[1],c),S=df(S,n.attrs,c),function C_(t,n,o,c){t[Go(o?n.classBindings:n.styleBindings)]=c}(t,n,c,S))}else p=function y_(t,n,o){let c;const d=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<d;p++)c=df(c,t[p].hostAttrs,o);return df(c,n.attrs,o)}(t,n,c)}return void 0!==p&&(c?n.residualClasses=p:n.residualStyles=p),o}(d,p,n,c),function ZE(t,n,o,c,d,p){let _=p?n.classBindings:n.styleBindings,C=Go(_),S=Zs(_);t[c]=o;let j,O=!1;if(Array.isArray(o)){const ce=o;j=ce[1],(null===j||mt(ce,j)>0)&&(O=!0)}else j=o;if(d)if(0!==S){const Me=Go(t[C+1]);t[c+1]=fl(Me,C),0!==Me&&(t[Me+1]=hl(t[Me+1],c)),t[C+1]=function Pg(t,n){return 131071&t|n<<17}(t[C+1],c)}else t[c+1]=fl(C,0),0!==C&&(t[C+1]=hl(t[C+1],c)),C=c;else t[c+1]=fl(S,0),0===C?C=c:t[S+1]=hl(t[S+1],c),S=c;O&&(t[c+1]=Fd(t[c+1])),zp(t,j,c,!0),zp(t,j,c,!1),function u_(t,n,o,c,d){const p=d?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&mt(p,n)>=0&&(o[c+1]=gl(o[c+1]))}(n,j,t,c,p),_=fl(C,S),p?n.classBindings=_:n.styleBindings=_}(d,p,n,o,_,c)}}function mm(t,n,o,c,d){let p=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(p=n[C],c=df(c,p.hostAttrs,d),p!==t);)C++;return null!==t&&(o.directiveStylingLast=C),c}function df(t,n,o){const c=o?1:2;let d=-1;if(null!==n)for(let p=0;p<n.length;p++){const _=n[p];"number"==typeof _?d=_:d===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ce(t,_,!!o||n[++p]))}return void 0===t?null:t}function S_(t,n,o){Ce(t,n,io(o))}function E_(t,n,o,c,d,p,_,C){if(!(3&n.type))return;const S=t.data,O=S[C+1];vm(function Nd(t){return 1==(1&t)}(O)?Dy(S,n,o,d,Zs(O),_):void 0)||(vm(p)||function pl(t){return 2==(2&t)}(O)&&(p=Dy(S,null,o,d,C,_)),function qh(t,n,o,c,d){if(n)d?t.addClass(o,c):t.removeClass(o,c);else{let p=-1===c.indexOf("-")?void 0:ts.DashCase;null==d?t.removeStyle(o,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ts.Important),t.setStyle(o,c,d,p))}}(c,_,$o(xe(),o),d,p))}function Dy(t,n,o,c,d,p){const _=null===n;let C;for(;d>0;){const S=t[d],O=Array.isArray(S),j=O?S[1]:S,ce=null===j;let Me=o[d+1];Me===wn&&(Me=ce?kt:void 0);let Ye=ce?Oe(Me,c):j===c?Me:void 0;if(O&&!vm(Ye)&&(Ye=Oe(S,c)),vm(Ye)&&(C=Ye,_))return C;const Je=t[d+1];d=_?Go(Je):Zs(Je)}if(null!==n){let S=p?n.residualClasses:n.residualStyles;null!=S&&(C=Oe(S,c))}return C}function vm(t){return void 0!==t}function _m(t,n){return 0!=(t.flags&(n?16:32))}function D_(t,n=""){const o=ge(),c=Ht(),d=t+22,p=c.firstCreatePass?fc(c,d,1,n,null):c.data[d],_=o[d]=function Ja(t,n){return t.createText(n)}(o[11],n);nd(c,o,_,p),w(p,!1)}function Cm(t){return ff("",t,""),Cm}function ff(t,n,o){const c=ge(),d=a(c,t,n,o);return d!==wn&&qs(c,xe(),d),ff}function Kp(t,n,o,c,d){const p=ge(),_=g(p,t,n,o,c,d);return _!==wn&&qs(p,xe(),_),Kp}function ym(t,n,o,c,d,p,_){const C=ge(),S=r(C,t,n,o,c,d,p,_);return S!==wn&&qs(C,xe(),S),ym}function hf(t,n,o){ws(Ce,ta,a(ge(),t,n,o),!0)}function I_(t,n,o){const c=ge();return Eo(c,Fr(),n)&&xi(Ht(),vt(),c,t,n,c[11],o,!0),I_}const gf=void 0;var n0=["en",[["a","p"],["AM","PM"],gf],[["AM","PM"],gf,gf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gf,"{1} 'at' {0}",gf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ky(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let _c={};function Uy(t){const n=function r0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Gy(n);if(o)return o;const c=n.split("-")[0];if(o=Gy(c),o)return o;if("en"===c)return n0;throw new re(701,!1)}function By(t){return Uy(t)[Cn.PluralCase]}function Gy(t){return t in _c||(_c[t]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[t]),_c[t]}var Cn=(()=>((Cn=Cn||{})[Cn.LocaleId=0]="LocaleId",Cn[Cn.DayPeriodsFormat=1]="DayPeriodsFormat",Cn[Cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Cn[Cn.DaysFormat=3]="DaysFormat",Cn[Cn.DaysStandalone=4]="DaysStandalone",Cn[Cn.MonthsFormat=5]="MonthsFormat",Cn[Cn.MonthsStandalone=6]="MonthsStandalone",Cn[Cn.Eras=7]="Eras",Cn[Cn.FirstDayOfWeek=8]="FirstDayOfWeek",Cn[Cn.WeekendRange=9]="WeekendRange",Cn[Cn.DateFormat=10]="DateFormat",Cn[Cn.TimeFormat=11]="TimeFormat",Cn[Cn.DateTimeFormat=12]="DateTimeFormat",Cn[Cn.NumberSymbols=13]="NumberSymbols",Cn[Cn.NumberFormats=14]="NumberFormats",Cn[Cn.CurrencyCode=15]="CurrencyCode",Cn[Cn.CurrencySymbol=16]="CurrencySymbol",Cn[Cn.CurrencyName=17]="CurrencyName",Cn[Cn.Currencies=18]="Currencies",Cn[Cn.Directionality=19]="Directionality",Cn[Cn.PluralCase=20]="PluralCase",Cn[Cn.ExtraData=21]="ExtraData",Cn))();const bl="en-US";let Vy=bl;function Mm(t,n,o,c,d){if(t=H(t),Array.isArray(t))for(let p=0;p<t.length;p++)Mm(t[p],n,o,c,d);else{const p=Ht(),_=ge();let C=Gs(t)?t:H(t.provide),S=Dv(t);const O=Lr(),j=1048575&O.providerIndexes,ce=O.directiveStart,Me=O.providerIndexes>>20;if(Gs(t)||!t.multi){const Ye=new Ni(S,d,lc),Je=H_(C,n,d?j:j+Me,ce);-1===Je?(Co(ci(O,_),p,C),G_(p,t,n.length),n.push(C),O.directiveStart++,O.directiveEnd++,d&&(O.providerIndexes+=1048576),o.push(Ye),_.push(Ye)):(o[Je]=Ye,_[Je]=Ye)}else{const Ye=H_(C,n,j+Me,ce),Je=H_(C,n,j,j+Me),ot=Ye>=0&&o[Ye],Pt=Je>=0&&o[Je];if(d&&!Pt||!d&&!ot){Co(ci(O,_),p,C);const $t=function V_(t,n,o,c,d){const p=new Ni(t,o,lc);return p.multi=[],p.index=n,p.componentProviders=0,j0(p,d,c&&!o),p}(d?$0:mA,o.length,d,c,S);!d&&Pt&&(o[Je].providerFactory=$t),G_(p,t,n.length,0),n.push(C),O.directiveStart++,O.directiveEnd++,d&&(O.providerIndexes+=1048576),o.push($t),_.push($t)}else G_(p,t,Ye>-1?Ye:Je,j0(o[d?Je:Ye],S,!d&&c));!d&&c&&Pt&&o[Je].componentProviders++}}}function G_(t,n,o,c){const d=Gs(n),p=function pg(t){return!!t.useClass}(n);if(d||p){const S=(p?H(n.useClass):n).prototype.ngOnDestroy;if(S){const O=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const j=O.indexOf(o);-1===j?O.push(o,[c,S]):O[j+1].push(c,S)}else O.push(o,S)}}}function j0(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function H_(t,n,o,c){for(let d=o;d<c;d++)if(n[d]===t)return d;return-1}function mA(t,n,o,c){return rh(this.multi,[])}function $0(t,n,o,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=ks(o,o[1],this.providerFactory.index,c);p=C.slice(0,_),rh(d,p);for(let S=_;S<C.length;S++)p.push(C[S])}else p=[],rh(d,p);return p}function rh(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function j_(t,n=[]){return o=>{o.providersResolver=(c,d)=>function V0(t,n,o){const c=Ht();if(c.firstCreatePass){const d=Er(t);Mm(o,c.data,c.blueprint,d,!0),Mm(n,c.data,c.blueprint,d,!1)}}(c,d?d(t):t,n)}}class oh{}class Ml{}function z0(t,n){return new lS(t,n??null)}class lS extends oh{constructor(n,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Up(this);const c=Jn(n);this._bootstrapComponents=fi(c.bootstrap),this._r3Injector=lp(n,o,[{provide:oh,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],M(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class $_ extends Ml{constructor(n){super(),this.moduleType=n}create(n){return new lS(this.moduleType,n)}}class Y0 extends oh{constructor(n,o,c){super(),this.componentFactoryResolver=new Up(this),this.instance=null;const d=new rl([...n,{provide:oh,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],o||Gn(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function dS(t,n,o=null){return new Y0(t,n,o).injector}let Z0=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const c=lg(0,o.type),d=c.length>0?dS([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Xt({token:t,providedIn:"environment",factory:()=>new t(jr(rc))}),t})();function fS(t){t.getStandaloneInjector=n=>n.get(Z0).getOrCreateStandaloneInjector(t)}function vS(t,n,o){const c=Dr()+t,d=ge();return d[c]===wn?wi(d,c,o?n.call(o):n()):Al(d,c)}function Z_(t,n,o,c){return J_(ge(),Dr(),t,n,o,c)}function ih(t,n,o,c,d){return Q_(ge(),Dr(),t,n,o,c,d)}function W_(t,n,o,c,d,p){return yS(ge(),Dr(),t,n,o,c,d,p)}function _S(t,n,o,c,d,p,_){return function SS(t,n,o,c,d,p,_,C,S){const O=n+o;return Ii(t,O,d,p,_,C)?wi(t,O+4,S?c.call(S,d,p,_,C):c(d,p,_,C)):vf(t,O+4)}(ge(),Dr(),t,n,o,c,d,p,_)}function K_(t,n,o,c,d,p,_,C){const S=Dr()+t,O=ge(),j=Ii(O,S,o,c,d,p);return Eo(O,S+4,_)||j?wi(O,S+5,C?n.call(C,o,c,d,p,_):n(o,c,d,p,_)):Al(O,S+5)}function vf(t,n){const o=t[n];return o===wn?void 0:o}function J_(t,n,o,c,d,p){const _=n+o;return Eo(t,_,d)?wi(t,_+1,p?c.call(p,d):c(d)):vf(t,_+1)}function Q_(t,n,o,c,d,p,_){const C=n+o;return ea(t,C,d,p)?wi(t,C+2,_?c.call(_,d,p):c(d,p)):vf(t,C+2)}function yS(t,n,o,c,d,p,_,C){const S=n+o;return yu(t,S,d,p,_)?wi(t,S+3,C?c.call(C,d,p,_):c(d,p,_)):vf(t,S+3)}function DS(t,n){const o=Ht();let c;const d=t+22;o.firstCreatePass?(c=function sD(t,n){if(n)for(let o=n.length-1;o>=0;o--){const c=n[o];if(t===c.name)return c}}(n,o.pipeRegistry),o.data[d]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,c.onDestroy)):c=o.data[d];const p=c.factory||(c.factory=mo(c.type)),_=Dt(lc);try{const C=ca(!1),S=p();return ca(C),function HE(t,n,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=c}(o,ge(),d,S),S}finally{Dt(_)}}function AS(t,n,o){const c=t+22,d=ge(),p=ft(d,c);return sh(d,c)?J_(d,Dr(),n,p.transform,o,p):p.transform(o)}function TS(t,n,o,c){const d=t+22,p=ge(),_=ft(p,d);return sh(p,d)?Q_(p,Dr(),n,_.transform,o,c,_):_.transform(o,c)}function bS(t,n,o,c,d){const p=t+22,_=ge(),C=ft(_,p);return sh(_,p)?yS(_,Dr(),n,C.transform,o,c,d,C):C.transform(o,c,d)}function sh(t,n){return t[1].data[n].pure}function ah(t){return n=>{setTimeout(t,void 0,n)}}const na=class cD extends u.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,c){let d=n,p=o||(()=>null),_=c;if(n&&"object"==typeof n){const S=n;d=S.next?.bind(S),p=S.error?.bind(S),_=S.complete?.bind(S)}this.__isAsync&&(p=ah(p),d&&(d=ah(d)),_&&(_=ah(_)));const C=super.subscribe({next:d,error:p,complete:_});return n instanceof e.w&&n.add(C),C}};function xm(){return this._results[Xs()]()}class X_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Xs(),c=X_.prototype;c[o]||(c[o]=xm)}get changes(){return this._changes||(this._changes=new na)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const c=this;c.dirty=!1;const d=Wo(n);(this._changesDetected=!function kl(t,n,o){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let d=t[c],p=n[c];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ch=(()=>{class t{}return t.__NG_ELEMENT_ID__=xS,t})();const uD=ch,MS=class extends uD{constructor(n,o,c){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(n,o){const c=this._declarationTContainer.tViews,d=_l(this._declarationLView,c,n,16,null,c.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),pc(c,d,n),new gu(d)}};function xS(){return wm(Lr(),ge())}function wm(t,n){return 4&t.type?new MS(n,t,zi(t,n)):null}let Im=(()=>{class t{}return t.__NG_ELEMENT_ID__=lD,t})();function lD(){return RS(Lr(),ge())}const wS=Im,IS=class extends wS{constructor(n,o,c){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=c}get element(){return zi(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const n=xr(this._hostTNode,this._hostLView);if(aa(n)){const o=Xi(n,this._hostLView),c=ai(n);return new ps(o[1].data[c+8],o)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=eC(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,o,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=n.createEmbeddedView(o||{},p);return this.insert(_,d),_}createComponent(n,o,c,d,p){const _=n&&!function ja(t){return"function"==typeof t}(n);let C;if(_)C=o;else{const ce=o||{};C=ce.index,c=ce.injector,d=ce.projectableNodes,p=ce.environmentInjector||ce.ngModuleRef}const S=_?n:new vu(un(n)),O=c||this.parentInjector;if(!p&&null==S.ngModule){const Me=(_?O:this.parentInjector).get(rc,null);Me&&(p=Me)}const j=S.create(O,d,void 0,p);return this.insert(j.hostView,C),j}insert(n,o){const c=n._lView,d=c[1];if(function Zt(t){return nr(t[3])}(c)){const j=this.indexOf(n);if(-1!==j)this.detach(j);else{const ce=c[3],Me=new IS(ce,ce[6],ce[3]);Me.detach(Me.indexOf(n))}}const p=this._adjustIndex(o),_=this._lContainer;!function jf(t,n,o,c){const d=10+c,p=o.length;c>0&&(o[d-1][4]=n),c<p-10?(n[4]=o[d],Uu(o,10+c,n)):(o.push(n),n[4]=null),n[3]=o;const _=n[17];null!==_&&o!==_&&function cv(t,n){const o=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===o?t[9]=[n]:o.push(n)}(_,n);const C=n[19];null!==C&&C.insertView(t),n[2]|=64}(d,c,_,p);const C=Wr(p,_),S=c[11],O=$c(S,_[7]);return null!==O&&function Vf(t,n,o,c,d,p){c[0]=d,c[6]=n,_a(t,c,o,1,d,p)}(d,_[6],S,c,O,C),n.attachToViewContainerRef(),Uu(tC(_),p,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=eC(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),c=ed(this._lContainer,o);c&&($a(tC(this._lContainer),o),Ku(c[1],c))}detach(n){const o=this._adjustIndex(n,-1),c=ed(this._lContainer,o);return c&&null!=$a(tC(this._lContainer),o)?new gu(c):null}_adjustIndex(n,o=0){return n??this.length+o}};function eC(t){return t[8]}function tC(t){return t[8]||(t[8]=[])}function RS(t,n){let o;const c=n[t.index];if(nr(c))o=c;else{let d;if(8&t.type)d=lr(c);else{const p=n[11];d=p.createComment("");const _=Or(t,n);va(p,$c(p,_),d,function ys(t,n){return t.nextSibling(n)}(p,_),!1)}n[t.index]=o=Yg(c,n,d,t),Ma(n,o)}return new IS(o,t,n)}class Rm{constructor(n){this.queryList=n,this.matches=null}clone(){return new Rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Om{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const c=null!==n.contentQueries?n.contentQueries[0]:o.length,d=[];for(let p=0;p<c;p++){const _=o.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Om(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==GS(n,o).matches&&this.queries[o].setDirty()}}class nC{constructor(n,o,c=null){this.predicate=n,this.flags=o,this.read=c}}class rC{constructor(n=[]){this.queries=n}elementStart(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(n,d);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new rC(o):null}template(n,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class oC{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new oC(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(n,o,fD(o,p)),this.matchTNodeWithReadOption(n,o,ki(o,n,p,!1,!1))}else c===ch?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,ki(o,n,c,!1,!1))}matchTNodeWithReadOption(n,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Yi||d===Im||d===ch&&4&o.type)this.addMatch(o.index,-2);else{const p=ki(o,n,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function fD(t,n){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===n)return o[c+1];return null}function hD(t,n,o,c){return-1===o?function pD(t,n){return 11&t.type?zi(t,n):4&t.type?wm(t,n):null}(n,t):-2===o?function gD(t,n,o){return o===Yi?zi(n,t):o===ch?wm(n,t):o===Im?RS(n,t):void 0}(t,n,c):ks(t,t[1],o,n)}function LS(t,n,o,c){const d=n[19].queries[c];if(null===d.matches){const p=t.data,_=o.matches,C=[];for(let S=0;S<_.length;S+=2){const O=_[S];C.push(O<0?null:hD(n,p[O],_[S+1],o.metadata.read))}d.matches=C}return d.matches}function iC(t,n,o,c){const d=t.queries.getByIndex(o),p=d.matches;if(null!==p){const _=LS(t,n,d,o);for(let C=0;C<p.length;C+=2){const S=p[C];if(S>0)c.push(_[C/2]);else{const O=p[C+1],j=n[-S];for(let ce=10;ce<j.length;ce++){const Me=j[ce];Me[17]===Me[3]&&iC(Me[1],Me,O,c)}if(null!==j[9]){const ce=j[9];for(let Me=0;Me<ce.length;Me++){const Ye=ce[Me];iC(Ye[1],Ye,O,c)}}}}}return c}function FS(t){const n=ge(),o=Ht(),c=_i();ls(c+1);const d=GS(o,c);if(t.dirty&&function xt(t){return 4==(4&t[2])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const p=d.crossesNgTemplate?iC(o,n,c,[]):LS(o,n,d,c);t.reset(p,pr),t.notifyOnChanges()}return!0}return!1}function NS(t,n,o){const c=Ht();c.firstCreatePass&&(sC(c,new nC(t,n,o),-1),2==(2&n)&&(c.staticViewQueries=!0)),BS(c,ge(),n)}function kS(t,n,o,c){const d=Ht();if(d.firstCreatePass){const p=Lr();sC(d,new nC(n,o,c),p.index),function vD(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(d,t),2==(2&o)&&(d.staticContentQueries=!0)}BS(d,ge(),o)}function US(){return function mD(t,n){return t[19].queries[n].queryList}(ge(),_i())}function BS(t,n,o){const c=new X_(4==(4&o));Kd(t,n,c,c.destroy),null===n[19]&&(n[19]=new Om),n[19].queries.push(new Rm(c))}function sC(t,n,o){null===t.queries&&(t.queries=new rC),t.queries.track(new oC(n,o))}function GS(t,n){return t.queries.getByIndex(n)}function HS(t,n){return wm(t,n)}function ph(...t){}const qS=new ar("Application Initializer");let Gm=(()=>{class t{constructor(o){this.appInits=o,this.resolve=ph,this.reject=ph,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(r_(p))o.push(p);else if(iy(p)){const _=new Promise((C,S)=>{p.subscribe({complete:C,error:S})});o.push(_)}}Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(jr(qS,8))},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const XS=new ar("AppId",{providedIn:"root",factory:function eE(){return`${Hm()}${Hm()}${Hm()}`}});function Hm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xC=new ar("Platform Initializer"),tE=new ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vm=new ar("appBootstrapListener");let wC=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const gh=new ar("LocaleId",{providedIn:"root",factory:()=>Pf(gh,bt.Optional|bt.SkipSelf)||function nE(){return typeof $localize<"u"&&$localize.locale||bl}()}),ID=new ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class RD{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let DA=(()=>{class t{compileModuleSync(o){return new $_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=fi(Jn(o).declarations).reduce((_,C)=>{const S=un(C);return S&&_.push(new vu(S)),_},[]);return new RD(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iE=(()=>Promise.resolve(0))();function IC(t){typeof Zone>"u"?iE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class oa{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function MA(){let t=at.requestAnimationFrame,n=at.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function wA(t){const n=()=>{!function xA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(at,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,OC(t),t.isCheckStableRunning=!0,RC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),OC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,p,_,C)=>{try{return PC(t),o.invokeTask(d,p,_,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),sE(t)}},onInvoke:(o,c,d,p,_,C,S)=>{try{return PC(t),o.invoke(d,p,_,C,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),sE(t)}},onHasTask:(o,c,d,p)=>{o.hasTask(d,p),c===d&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,OC(t),RC(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,d,p)=>(o.handleError(d,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oa.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(oa.isInAngularZone())throw new re(909,!1)}run(n,o,c){return this._inner.run(n,o,c)}runTask(n,o,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,n,OD,ph,ph);try{return p.runTask(_,o,c)}finally{p.cancelTask(_)}}runGuarded(n,o,c){return this._inner.runGuarded(n,o,c)}runOutsideAngular(n){return this._outer.run(n)}}const OD={};function RC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sE(t){t._nesting--,RC(t)}class PD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(n,o,c){return n.apply(o,c)}runGuarded(n,o,c){return n.apply(o,c)}runOutsideAngular(n){return n()}runTask(n,o,c,d){return n.apply(o,c)}}const aE=new ar(""),cE=new ar("");let LC,LD=(()=>{class t{constructor(o,c,d){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LC||(function lE(t){LC=t}(d),d.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oa.assertNotInAngularZone(),IC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())IC(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,d){return[]}}return t.\u0275fac=function(o){return new(o||t)(jr(oa),jr(uE),jr(cE))},t.\u0275prov=Xt({token:t,factory:t.\u0275fac}),t})(),uE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return LC?.findTestabilityInTree(this,o,c)??null}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),bu=null;const dE=new ar("AllowMultipleToken"),FC=new ar("PlatformDestroyListeners");class kD{constructor(n,o){this.name=n,this.token=o}}function hE(t,n,o=[]){const c=`Platform: ${n}`,d=new ar(c);return(p=[])=>{let _=jm();if(!_||_.injector.get(dE,!1)){const C=[...o,...p,{provide:d,useValue:!0}];t?t(C):function fE(t){if(bu&&!bu.get(dE,!1))throw new re(400,!1);bu=t;const n=t.get(gE);(function pE(t){const n=t.get(xC,null);n&&n.forEach(o=>o())})(t)}(function Rl(t=[],n){return $s.create({name:n,providers:[{provide:gd,useValue:"platform"},{provide:FC,useValue:new Set([()=>bu=null])},...t]})}(C,c))}return function BD(t){const n=jm();if(!n)throw new re(401,!1);return n}()}}function jm(){return bu?.get(gE)??null}let gE=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const d=function vE(t,n){let o;return o="noop"===t?new PD:("zone.js"===t?void 0:t)||new oa(n),o}(c?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:oa,useValue:d}];return d.run(()=>{const _=$s.create({providers:p,parent:this.injector,name:o.moduleType.name}),C=o.create(_),S=C.injector.get(Ts,null);if(!S)throw new re(402,!1);return d.runOutsideAngular(()=>{const O=d.onError.subscribe({next:j=>{S.handleError(j)}});C.onDestroy(()=>{$m(this._modules,C),O.unsubscribe()})}),function NC(t,n,o){try{const c=o();return r_(c)?c.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(S,d,()=>{const O=C.injector.get(Gm);return O.runInitializers(),O.donePromise.then(()=>(function jy(t){Qe(t,"Expected localeId to be defined"),"string"==typeof t&&(Vy=t.toLowerCase().replace(/_/g,"-"))}(C.injector.get(gh,bl)||bl),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,c=[]){const d=_E({},c);return function FD(t,n,o){const c=new $_(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const c=o.injector.get(kC);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new re(403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(FC,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(jr($s))},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _E(t,n){return Array.isArray(n)?n.reduce(_E,t):{...t,...n}}let kC=(()=>{class t{constructor(o,c,d){this._zone=o,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new h.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new h.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{oa.assertNotInAngularZone(),IC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,N.T)(p,_.pipe((0,D.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const d=o instanceof ic;if(!this._injector.get(Gm).done)throw!d&&Vn(o),new re(405,false);let _;_=d?o:this._injector.get(js).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const C=function ND(t){return t.isBoundToModule}(_)?void 0:this._injector.get(oh),O=_.create($s.NULL,[],c||_.selector,C),j=O.location.nativeElement,ce=O.injector.get(aE,null);return ce?.registerApplication(j),O.onDestroy(()=>{this.detachView(O.hostView),$m(this.components,O),ce?.unregisterApplication(j)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;$m(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Vm,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$m(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new re(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(o){return new(o||t)(jr(oa),jr(rc),jr(Ts))},t.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $m(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}let yE=!0,SE=!1;function HD(){return SE=!0,yE}function VD(){if(SE)throw new Error("Cannot enable prod mode after platform setup.");yE=!1}let PA=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ym,t})();function Ym(t){return function jD(t,n,o){if(wr(t)&&!o){const c=tt(t.index,n);return new gu(c,c)}return 47&t.type?new gu(n[16],n):null}(Lr(),ge(),16==(16&t))}class xE{constructor(){}supports(n){return Cu(n)}create(n){return new WD(n)}}const wE=(t,n)=>n;class WD{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wE}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,c=this._removalsHead,d=0,p=null;for(;o||c;){const _=!c||o&&o.currentIndex<IE(c,d,p)?o:c,C=IE(_,d,p),S=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(o=o._next,null==_.previousIndex)d++;else{p||(p=[]);const O=C-d,j=S-d;if(O!=j){for(let Me=0;Me<O;Me++){const Ye=Me<p.length?p[Me]:p[Me]=0,Je=Ye+Me;j<=Je&&Je<O&&(p[Me]=Ye+1)}p[_.previousIndex]=j-O}}C!==S&&n(_,C,S)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Cu(n))throw new re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,p,_,o=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)p=n[C],_=this._trackByFn(C,p),null!==o&&Object.is(o.trackById,_)?(c&&(o=this._verifyReinsertion(o,p,_,C)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,_,C),c=!0),o=o._next}else d=0,function qv(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Xs()]();let c;for(;!(c=o.next()).done;)n(c.value)}}(n,C=>{_=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,_)?(c&&(o=this._verifyReinsertion(o,C,_,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,c,d){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,p,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,p,d)):n=this._addAfter(new BC(o,c),p,d),n}_verifyReinsertion(n,o,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?n=this._reinsertAfter(p,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,p=n._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(n,o,c),this._addToMoves(n,c),n}_moveAfter(n,o,c){return this._unlink(n),this._insertAfter(n,o,c),this._addToMoves(n,c),n}_addAfter(n,o,c){return this._insertAfter(n,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,c){const d=null===o?this._itHead:o._next;return n._next=d,n._prev=o,null===d?this._itTail=n:d._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new Wm),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,c=n._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wm),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class BC{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const o=n._prevDup,c=n._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Wm{constructor(){this.map=new Map}put(n){const o=n.trackById;let c=this.map.get(o);c||(c=new KD,this.map.set(o,c)),c.add(n)}get(n,o){const d=this.map.get(n);return d?d.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IE(t,n,o){const c=t.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+n+d}class Km{constructor(){}supports(n){return n instanceof Map||$p(n)}create(){return new JD}}class JD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||$p(n)))throw new re(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const c=n._prev;return o._next=n,o._prev=c,n._prev=o,c&&(c._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,o);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new RE(n);return this._records.set(n,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(c=>o(n[c],c))}}class RE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OE(){return new vh([new xE])}let vh=(()=>{class t{constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||OE()),deps:[[t,new fa,new Lc]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new re(901,!1)}}return t.\u0275prov=Xt({token:t,providedIn:"root",factory:OE}),t})();function GC(){return new HC([new Km])}let HC=(()=>{class t{constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||GC()),deps:[[t,new fa,new Lc]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(c)return c;throw new re(901,!1)}}return t.\u0275prov=Xt({token:t,providedIn:"root",factory:GC}),t})();const XD=hE(null,"core",[]);let eA=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(jr(kC))},t.\u0275mod=Ke({type:t}),t.\u0275inj=Qt({}),t})();function tA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},4006:(de,Q,m)=>{"use strict";m.d(Q,{CE:()=>Po,F:()=>sr,Fd:()=>lr,Fj:()=>J,JJ:()=>bt,JL:()=>ke,JU:()=>M,On:()=>qe,Q7:()=>no,QS:()=>ro,UX:()=>Ue,Wl:()=>V,Zs:()=>Pe,_:()=>Bt,_Y:()=>dt,c5:()=>Kr,kI:()=>Ge,nJ:()=>An,oH:()=>hi,p4:()=>Mn,qQ:()=>Gr,sg:()=>Ir,u:()=>Ao,u5:()=>fe,vC:()=>Ve,wV:()=>Mt,x0:()=>ho});var u=m(4650),e=m(6895),h=m(5254),N=m(567),D=m(4850);let P=(()=>{class B{constructor(w,te){this._renderer=w,this._elementRef=te,this.onChange=ht=>{},this.onTouched=()=>{}}setProperty(w,te){this._renderer.setProperty(this._elementRef.nativeElement,w,te)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(u.Qsj),u.Y36(u.SBq))},B.\u0275dir=u.lG2({type:B}),B})(),k=(()=>{class B extends P{}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,features:[u.qOj]}),B})();const M=new u.OlP("NgValueAccessor"),G={provide:M,useExisting:(0,u.Gpc)(()=>V),multi:!0};let V=(()=>{class B extends k{writeValue(w){this.setProperty("checked",w)}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(w,te){1&w&&u.NdJ("change",function(on){return te.onChange(on.target.checked)})("blur",function(){return te.onTouched()})},features:[u._Bn([G]),u.qOj]}),B})();const I={provide:M,useExisting:(0,u.Gpc)(()=>J),multi:!0},$=new u.OlP("CompositionEventMode");let J=(()=>{class B extends P{constructor(w,te,ht){super(w,te),this._compositionMode=ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function H(){const B=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36($,8))},B.\u0275dir=u.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(w,te){1&w&&u.NdJ("input",function(on){return te._handleInput(on.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(on){return te._compositionEnd(on.target.value)})},features:[u._Bn([I]),u.qOj]}),B})();function ae(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function De(B){return null!=B&&"number"==typeof B.length}const Ze=new u.OlP("NgValidators"),Xe=new u.OlP("NgAsyncValidators"),Le=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(F){return me(F)}static max(F){return se(F)}static required(F){return Ne(F)}static requiredTrue(F){return ze(F)}static email(F){return function Ie(B){return ae(B.value)||Le.test(B.value)?null:{email:!0}}(F)}static minLength(F){return function he(B){return F=>ae(F.value)||!De(F.value)?null:F.value.length<B?{minlength:{requiredLength:B,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function pe(B){return F=>De(F.value)&&F.value.length>B?{maxlength:{requiredLength:B,actualLength:F.value.length}}:null}(F)}static pattern(F){return ne(F)}static nullValidator(F){return null}static compose(F){return rt(F)}static composeAsync(F){return Yt(F)}}function me(B){return F=>{if(ae(F.value)||ae(B))return null;const w=parseFloat(F.value);return!isNaN(w)&&w<B?{min:{min:B,actual:F.value}}:null}}function se(B){return F=>{if(ae(F.value)||ae(B))return null;const w=parseFloat(F.value);return!isNaN(w)&&w>B?{max:{max:B,actual:F.value}}:null}}function Ne(B){return ae(B.value)?{required:!0}:null}function ze(B){return!0===B.value?null:{required:!0}}function ne(B){if(!B)return _e;let F,w;return"string"==typeof B?(w="","^"!==B.charAt(0)&&(w+="^"),w+=B,"$"!==B.charAt(B.length-1)&&(w+="$"),F=new RegExp(w)):(w=B.toString(),F=B),te=>{if(ae(te.value))return null;const ht=te.value;return F.test(ht)?null:{pattern:{requiredPattern:w,actualValue:ht}}}}function _e(B){return null}function be(B){return null!=B}function oe(B){return(0,u.QGY)(B)?(0,h.D)(B):B}function Fe(B){let F={};return B.forEach(w=>{F=null!=w?{...F,...w}:F}),0===Object.keys(F).length?null:F}function Re(B,F){return F.map(w=>w(B))}function Qe(B){return B.map(F=>function pt(B){return!B.validate}(F)?F:w=>F.validate(w))}function rt(B){if(!B)return null;const F=B.filter(be);return 0==F.length?null:function(w){return Fe(Re(w,F))}}function we(B){return null!=B?rt(Qe(B)):null}function Yt(B){if(!B)return null;const F=B.filter(be);return 0==F.length?null:function(w){const te=Re(w,F).map(oe);return(0,N.D)(te).pipe((0,D.U)(Fe))}}function zt(B){return null!=B?Yt(Qe(B)):null}function Xt(B,F){return null===B?[F]:Array.isArray(B)?[...B,F]:[B,F]}function gt(B){return B._rawValidators}function Qt(B){return B._rawAsyncValidators}function Wt(B){return B?Array.isArray(B)?B:[B]:[]}function Lt(B,F){return Array.isArray(B)?B.includes(F):B===F}function wt(B,F){const w=Wt(F);return Wt(B).forEach(ht=>{Lt(w,ht)||w.push(ht)}),w}function Pn(B,F){return Wt(F).filter(w=>!Lt(B,w))}class Rt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=we(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,w){return!!this.control&&this.control.hasError(F,w)}getError(F,w){return this.control?this.control.getError(F,w):null}}class cn extends Rt{get formDirective(){return null}get path(){return null}}class yn extends Rt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ft{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bt=(()=>{class B extends Ft{constructor(w){super(w)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(yn,2))},B.\u0275dir=u.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(w,te){2&w&&u.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)},features:[u.qOj]}),B})(),ke=(()=>{class B extends Ft{constructor(w){super(w)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(cn,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(w,te){2&w&&u.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)("ng-submitted",te.isSubmitted)},features:[u.qOj]}),B})();const fn="VALID",We="INVALID",Et="PENDING",_t="DISABLED";function Ct(B){return(Dn(B)?B.validators:B)||null}function qt(B){return Array.isArray(B)?we(B):B||null}function Tt(B,F){return(Dn(F)?F.asyncValidators:B)||null}function Ke(B){return Array.isArray(B)?zt(B):B||null}function Dn(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function Nn(B,F,w){const te=B.controls;if(!(F?Object.keys(te):te).length)throw new u.vHH(1e3,"");if(!te[w])throw new u.vHH(1001,"")}function kn(B,F,w){B._forEachChild((te,ht)=>{if(void 0===w[ht])throw new u.vHH(1002,"")})}class hr{constructor(F,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=w,this._composedValidatorFn=qt(this._rawValidators),this._composedAsyncValidatorFn=Ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===We}get pending(){return this.status==Et}get disabled(){return this.status===_t}get enabled(){return this.status!==_t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=qt(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Ke(F)}addValidators(F){this.setValidators(wt(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(wt(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Pn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Pn(F,this._rawAsyncValidators))}hasValidator(F){return Lt(this._rawValidators,F)}hasAsyncValidator(F){return Lt(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(w=>{w.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(w=>{w.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Et,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const w=this._parentMarkedDirty(F.onlySelf);this.status=_t,this.errors=null,this._forEachChild(te=>{te.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:w}),this._onDisabledChange.forEach(te=>te(!0))}enable(F={}){const w=this._parentMarkedDirty(F.onlySelf);this.status=fn,this._forEachChild(te=>{te.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:w}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===Et)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_t:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Et,this._hasOwnPendingAsyncValidator=!0;const w=oe(this.asyncValidator(this));this._asyncValidationSubscription=w.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,w={}){this.errors=F,this._updateControlsErrors(!1!==w.emitEvent)}get(F){let w=F;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((te,ht)=>te&&te._find(ht),this)}getError(F,w){const te=w?this.get(w):this;return te&&te.errors?te.errors[F]:null}hasError(F,w){return!!this.getError(F,w)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?_t:this.errors?We:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Et)?Et:this._anyControlsHaveStatus(We)?We:fn}_anyControlsHaveStatus(F){return this._anyControls(w=>w.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Dn(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}}class un extends hr{constructor(F,w,te){super(Ct(w),Tt(te,w)),this.controls=F,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,w){return this.controls[F]?this.controls[F]:(this.controls[F]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(F,w,te={}){this.registerControl(F,w),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(F,w={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(F,w,te={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],w&&this.registerControl(F,w),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,w={}){kn(this,0,F),Object.keys(F).forEach(te=>{Nn(this,!0,te),this.controls[te].setValue(F[te],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(F,w={}){null!=F&&(Object.keys(F).forEach(te=>{const ht=this.controls[te];ht&&ht.patchValue(F[te],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(F={},w={}){this._forEachChild((te,ht)=>{te.reset(F[ht],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(F,w,te)=>(F[te]=w.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(w,te)=>!!te._syncPendingControls()||w);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(w=>{const te=this.controls[w];te&&F(te,w)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[w,te]of Object.entries(this.controls))if(this.contains(w)&&F(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,te,ht)=>((te.enabled||this.disabled)&&(w[ht]=te.value),w))}_reduceChildren(F,w){let te=F;return this._forEachChild((ht,on)=>{te=w(te,ht,on)}),te}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const An=un;class Vn extends un{}function Qn(B,F){return[...F.path,B]}function ye(B,F){Z(B,F),F.valueAccessor.writeValue(B.value),B.disabled&&F.valueAccessor.setDisabledState?.(!0),function le(B,F){F.valueAccessor.registerOnChange(w=>{B._pendingValue=w,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&ct(B,F)})}(B,F),function Gt(B,F){const w=(te,ht)=>{F.valueAccessor.writeValue(te),ht&&F.viewToModelUpdate(te)};B.registerOnChange(w),F._registerOnDestroy(()=>{B._unregisterOnChange(w)})}(B,F),function He(B,F){F.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&ct(B,F),"submit"!==B.updateOn&&B.markAsTouched()})}(B,F),function z(B,F){if(F.valueAccessor.setDisabledState){const w=te=>{F.valueAccessor.setDisabledState(te)};B.registerOnDisabledChange(w),F._registerOnDestroy(()=>{B._unregisterOnDisabledChange(w)})}}(B,F)}function Te(B,F,w=!0){const te=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(te),F.valueAccessor.registerOnTouched(te)),x(B,F),B&&(F._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function ie(B,F){B.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(F)})}function Z(B,F){const w=gt(B);null!==F.validator?B.setValidators(Xt(w,F.validator)):"function"==typeof w&&B.setValidators([w]);const te=Qt(B);null!==F.asyncValidator?B.setAsyncValidators(Xt(te,F.asyncValidator)):"function"==typeof te&&B.setAsyncValidators([te]);const ht=()=>B.updateValueAndValidity();ie(F._rawValidators,ht),ie(F._rawAsyncValidators,ht)}function x(B,F){let w=!1;if(null!==B){if(null!==F.validator){const ht=gt(B);if(Array.isArray(ht)&&ht.length>0){const on=ht.filter(Hr=>Hr!==F.validator);on.length!==ht.length&&(w=!0,B.setValidators(on))}}if(null!==F.asyncValidator){const ht=Qt(B);if(Array.isArray(ht)&&ht.length>0){const on=ht.filter(Hr=>Hr!==F.asyncValidator);on.length!==ht.length&&(w=!0,B.setAsyncValidators(on))}}}const te=()=>{};return ie(F._rawValidators,te),ie(F._rawAsyncValidators,te),w}function ct(B,F){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function Ut(B,F){Z(B,F)}function qn(B,F){if(!B.hasOwnProperty("model"))return!1;const w=B.model;return!!w.isFirstChange()||!Object.is(F,w.currentValue)}function Ln(B,F){B._syncPendingControls(),F.forEach(w=>{const te=w.control;"submit"===te.updateOn&&te._pendingChange&&(w.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function yr(B,F){if(!F)return null;let w,te,ht;return Array.isArray(F),F.forEach(on=>{on.constructor===J?w=on:function Ar(B){return Object.getPrototypeOf(B.constructor)===k}(on)?te=on:ht=on}),ht||te||w||null}const $r={provide:cn,useExisting:(0,u.Gpc)(()=>sr)},ir=(()=>Promise.resolve())();let sr=(()=>{class B extends cn{constructor(w,te){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new un({},we(w),zt(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(w){ir.then(()=>{const te=this._findContainer(w.path);w.control=te.registerControl(w.name,w.control),ye(w.control,w),w.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(w)})}getControl(w){return this.form.get(w.path)}removeControl(w){ir.then(()=>{const te=this._findContainer(w.path);te&&te.removeControl(w.name),this._directives.delete(w)})}addFormGroup(w){ir.then(()=>{const te=this._findContainer(w.path),ht=new un({});Ut(ht,w),te.registerControl(w.name,ht),ht.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(w){ir.then(()=>{const te=this._findContainer(w.path);te&&te.removeControl(w.name)})}getFormGroup(w){return this.form.get(w.path)}updateModel(w,te){ir.then(()=>{this.form.get(w.path).setValue(te)})}setValue(w){this.control.setValue(w)}onSubmit(w){return this.submitted=!0,Ln(this.form,this._directives),this.ngSubmit.emit(w),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w){this.form.reset(w),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(w){return w.pop(),w.length?this.form.get(w):this.form}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(Ze,10),u.Y36(Xe,10))},B.\u0275dir=u.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(w,te){1&w&&u.NdJ("submit",function(on){return te.onSubmit(on)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([$r]),u.qOj]}),B})();function Sr(B,F){const w=B.indexOf(F);w>-1&&B.splice(w,1)}function br(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const gr=class extends hr{constructor(F=null,w,te){super(Ct(w),Tt(te,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dn(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=br(F)?F.value:F)}setValue(F,w={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(F,w={}){this.setValue(F,w)}reset(F=this.defaultValue,w={}){this._applyFormState(F),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){Sr(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){Sr(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){br(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Mn=gr;let ur=(()=>{class B extends cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,features:[u.qOj]}),B})();const Se={provide:yn,useExisting:(0,u.Gpc)(()=>qe)},lt=(()=>Promise.resolve())();let qe=(()=>{class B extends yn{constructor(w,te,ht,on,Hr){super(),this._changeDetectorRef=Hr,this.control=new gr,this._registered=!1,this.update=new u.vpe,this._parent=w,this._setValidators(te),this._setAsyncValidators(ht),this.valueAccessor=yr(0,on)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const te=w.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),qn(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ye(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){lt.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const te=w.isDisabled.currentValue,ht=0!==te&&(0,u.D6c)(te);lt.then(()=>{ht&&!this.control.disabled?this.control.disable():!ht&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?Qn(w,this._parent):[w]}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(cn,9),u.Y36(Ze,10),u.Y36(Xe,10),u.Y36(M,10),u.Y36(u.sBO,8))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Se]),u.qOj,u.TTD]}),B})(),dt=(()=>{class B{}return B.\u0275fac=function(w){return new(w||B)},B.\u0275dir=u.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})();const Vt={provide:M,useExisting:(0,u.Gpc)(()=>Mt),multi:!0};let Mt=(()=>{class B extends k{writeValue(w){this.setProperty("value",w??"")}registerOnChange(w){this.onChange=te=>{w(""==te?null:parseFloat(te))}}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(w,te){1&w&&u.NdJ("input",function(on){return te.onChange(on.target.value)})("blur",function(){return te.onTouched()})},features:[u._Bn([Vt]),u.qOj]}),B})();const xn={provide:M,useExisting:(0,u.Gpc)(()=>Bt),multi:!0};let nt=(()=>{class B{}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({}),B})(),et=(()=>{class B{constructor(){this._accessors=[]}add(w,te){this._accessors.push([w,te])}remove(w){for(let te=this._accessors.length-1;te>=0;--te)if(this._accessors[te][1]===w)return void this._accessors.splice(te,1)}select(w){this._accessors.forEach(te=>{this._isSameGroup(te,w)&&te[1]!==w&&te[1].fireUncheck(w.value)})}_isSameGroup(w,te){return!!w[0].control&&w[0]._parent===te._control._parent&&w[1].name===te.name}}return B.\u0275fac=function(w){return new(w||B)},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac,providedIn:nt}),B})(),Bt=(()=>{class B extends k{constructor(w,te,ht,on){super(w,te),this._registry=ht,this._injector=on,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(yn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(w){this._state=w===this.value,this.setProperty("checked",this._state)}registerOnChange(w){this._fn=w,this.onChange=()=>{w(this.value),this._registry.select(this)}}fireUncheck(w){this.writeValue(w)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(et),u.Y36(u.zs3))},B.\u0275dir=u.lG2({type:B,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(w,te){1&w&&u.NdJ("change",function(){return te.onChange()})("blur",function(){return te.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u._Bn([xn]),u.qOj]}),B})();const zr=new u.OlP("NgModelWithFormControlWarning"),Yr={provide:yn,useExisting:(0,u.Gpc)(()=>hi)};let hi=(()=>{class B extends yn{constructor(w,te,ht,on){super(),this._ngModelWarningConfig=on,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(w),this._setAsyncValidators(te),this.valueAccessor=yr(0,ht)}set isDisabled(w){}ngOnChanges(w){if(this._isControlChanged(w)){const te=w.form.previousValue;te&&Te(te,this,!1),ye(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}qn(w,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_isControlChanged(w){return w.hasOwnProperty("form")}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(w){return new(w||B)(u.Y36(Ze,10),u.Y36(Xe,10),u.Y36(M,10),u.Y36(zr,8))},B.\u0275dir=u.lG2({type:B,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([Yr]),u.qOj,u.TTD]}),B})();const gi={provide:cn,useExisting:(0,u.Gpc)(()=>Ir)};let Ir=(()=>{class B extends cn{constructor(w,te){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(w),this._setAsyncValidators(te)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const te=this.form.get(w.path);return ye(te,w),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),te}getControl(w){return this.form.get(w.path)}removeControl(w){Te(w.control||null,w,!1),function Tr(B,F){const w=B.indexOf(F);w>-1&&B.splice(w,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,te){this.form.get(w.path).setValue(te)}onSubmit(w){return this.submitted=!0,Ln(this.form,this.directives),this.ngSubmit.emit(w),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w){this.form.reset(w),this.submitted=!1}_updateDomValue(){this.directives.forEach(w=>{const te=w.control,ht=this.form.get(w.path);te!==ht&&(Te(te||null,w),(B=>B instanceof gr)(ht)&&(ye(ht,w),w.control=ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const te=this.form.get(w.path);Ut(te,w),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const te=this.form.get(w.path);te&&function Tn(B,F){return x(B,F)}(te,w)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Z(this.form,this),this._oldForm&&x(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(Ze,10),u.Y36(Xe,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(w,te){1&w&&u.NdJ("submit",function(on){return te.onSubmit(on)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([gi]),u.qOj,u.TTD]}),B})();const Vo={provide:cn,useExisting:(0,u.Gpc)(()=>ho)};let ho=(()=>{class B extends ur{constructor(w,te,ht){super(),this._parent=w,this._setValidators(te),this._setAsyncValidators(ht)}_checkParentType(){Oi(this._parent)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(cn,13),u.Y36(Ze,10),u.Y36(Xe,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[u._Bn([Vo]),u.qOj]}),B})();const go={provide:cn,useExisting:(0,u.Gpc)(()=>Po)};let Po=(()=>{class B extends cn{constructor(w,te,ht){super(),this._parent=w,this._setValidators(te),this._setAsyncValidators(ht)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Oi(this._parent)}}return B.\u0275fac=function(w){return new(w||B)(u.Y36(cn,13),u.Y36(Ze,10),u.Y36(Xe,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[u._Bn([go]),u.qOj]}),B})();function Oi(B){return!(B instanceof ho||B instanceof Ir||B instanceof Po)}const mo={provide:yn,useExisting:(0,u.Gpc)(()=>Ao)};let Ao=(()=>{class B extends yn{constructor(w,te,ht,on,Hr){super(),this._ngModelWarningConfig=Hr,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(te),this._setAsyncValidators(ht),this.valueAccessor=yr(0,on)}set isDisabled(w){}ngOnChanges(w){this._added||this._setUpControl(),qn(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return Qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(w){return new(w||B)(u.Y36(cn,13),u.Y36(Ze,10),u.Y36(Xe,10),u.Y36(M,10),u.Y36(zr,8))},B.\u0275dir=u.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([mo]),u.qOj,u.TTD]}),B})();function vo(B){return"number"==typeof B?B:parseFloat(B)}let to=(()=>{class B{constructor(){this._validator=_e}ngOnChanges(w){if(this.inputName in w){const te=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):_e,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}}return B.\u0275fac=function(w){return new(w||B)},B.\u0275dir=u.lG2({type:B,features:[u.TTD]}),B})();const Pi={provide:Ze,useExisting:(0,u.Gpc)(()=>lr),multi:!0};let lr=(()=>{class B extends to{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=w=>vo(w),this.createValidator=w=>se(w)}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(w,te){2&w&&u.uIk("max",te._enabled?te.max:null)},inputs:{max:"max"},features:[u._Bn([Pi]),u.qOj]}),B})();const ri={provide:Ze,useExisting:(0,u.Gpc)(()=>Gr),multi:!0};let Gr=(()=>{class B extends to{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=w=>vo(w),this.createValidator=w=>me(w)}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(w,te){2&w&&u.uIk("min",te._enabled?te.min:null)},inputs:{min:"min"},features:[u._Bn([ri]),u.qOj]}),B})();const $o={provide:Ze,useExisting:(0,u.Gpc)(()=>no),multi:!0},Or={provide:Ze,useExisting:(0,u.Gpc)(()=>Pe),multi:!0};let no=(()=>{class B extends to{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=w=>Ne}enabled(w){return w}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(w,te){2&w&&u.uIk("required",te._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([$o]),u.qOj]}),B})(),Pe=(()=>{class B extends no{constructor(){super(...arguments),this.createValidator=w=>ze}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(w,te){2&w&&u.uIk("required",te._enabled?"":null)},features:[u._Bn([Or]),u.qOj]}),B})();const Xr={provide:Ze,useExisting:(0,u.Gpc)(()=>Kr),multi:!0};let Kr=(()=>{class B extends to{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=w=>w,this.createValidator=w=>ne(w)}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275dir=u.lG2({type:B,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(w,te){2&w&&u.uIk("pattern",te._enabled?te.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([Xr]),u.qOj]}),B})(),Pr=(()=>{class B{}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[nt]}),B})(),fe=(()=>{class B{}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[Pr]}),B})(),Ue=(()=>{class B{static withConfig(w){return{ngModule:B,providers:[{provide:zr,useValue:w.warnOnNgModelWithFormControl}]}}}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[Pr]}),B})();class ee extends hr{constructor(F,w,te){super(Ct(w),Tt(te,w)),this.controls=F,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,w={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(F,w,te={}){this.controls.splice(F,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(F,w={}){let te=this._adjustIndex(F);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(F,w,te={}){let ht=this._adjustIndex(F);ht<0&&(ht=0),this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),this.controls.splice(ht,1),w&&(this.controls.splice(ht,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,w={}){kn(this,0,F),F.forEach((te,ht)=>{Nn(this,!1,ht),this.at(ht).setValue(te,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(F,w={}){null!=F&&(F.forEach((te,ht)=>{this.at(ht)&&this.at(ht).patchValue(te,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(F=[],w={}){this._forEachChild((te,ht)=>{te.reset(F[ht],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w),this._updateTouched(w),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((w,te)=>!!te._syncPendingControls()||w,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((w,te)=>{F(w,te)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(w=>w.enabled&&F(w))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}const Ve=ee;function ge(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Ht=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const w=new B;return w.useNonNullable=!0,w}group(w,te=null){const ht=this._reduceControls(w);let on={};return ge(te)?on=te:null!==te&&(on.validators=te.validator,on.asyncValidators=te.asyncValidator),new un(ht,on)}record(w,te=null){const ht=this._reduceControls(w);return new Vn(ht,te)}control(w,te,ht){let on={};return this.useNonNullable?(ge(te)?on=te:(on.validators=te,on.asyncValidators=ht),new gr(w,{...on,nonNullable:!0})):new gr(w,te,ht)}array(w,te,ht){const on=w.map(Hr=>this._createControl(Hr));return new ee(on,te,ht)}_reduceControls(w){const te={};return Object.keys(w).forEach(ht=>{te[ht]=this._createControl(w[ht])}),te}_createControl(w){return w instanceof gr||w instanceof hr?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}}return B.\u0275fac=function(w){return new(w||B)},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac,providedIn:Ue}),B})(),ro=(()=>{class B extends Ht{group(w,te=null){return super.group(w,te)}control(w,te,ht){return super.control(w,te,ht)}array(w,te,ht){return super.array(w,te,ht)}}return B.\u0275fac=function(){let F;return function(te){return(F||(F=u.n5z(B)))(te||B)}}(),B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac,providedIn:Ue}),B})()},1481:(de,Q,m)=>{"use strict";m.d(Q,{Cb:()=>Et,Cu:()=>qt,Dx:()=>it,H7:()=>Sn,b2:()=>je,h_:()=>St,ki:()=>_t,q6:()=>Zn});var u=m(6895),e=m(4650);class h extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends h{static makeCurrent(){(0,u.HT)(new N)}onAndCancel(Te,ie,z){return Te.addEventListener(ie,z,!1),()=>{Te.removeEventListener(ie,z,!1)}}dispatchEvent(Te,ie){Te.dispatchEvent(ie)}remove(Te){Te.parentNode&&Te.parentNode.removeChild(Te)}createElement(Te,ie){return(ie=ie||this.getDefaultDocument()).createElement(Te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Te){return Te.nodeType===Node.ELEMENT_NODE}isShadowRoot(Te){return Te instanceof DocumentFragment}getGlobalEventTarget(Te,ie){return"window"===ie?window:"document"===ie?Te:"body"===ie?Te.body:null}getBaseHref(Te){const ie=function P(){return D=D||document.querySelector("base"),D?D.getAttribute("href"):null}();return null==ie?null:function M(ye){k=k||document.createElement("a"),k.setAttribute("href",ye);const Te=k.pathname;return"/"===Te.charAt(0)?Te:`/${Te}`}(ie)}resetBaseElement(){D=null}getUserAgent(){return window.navigator.userAgent}getCookie(Te){return(0,u.Mx)(document.cookie,Te)}}let k,D=null;const G=new e.OlP("TRANSITION_ID"),I=[{provide:e.ip1,useFactory:function V(ye,Te,ie){return()=>{ie.get(e.CZH).donePromise.then(()=>{const z=(0,u.q)(),Z=Te.querySelectorAll(`style[ng-transition="${ye}"]`);for(let x=0;x<Z.length;x++)z.remove(Z[x])})}},deps:[G,u.K0,e.zs3],multi:!0}];let $=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(ie){return new(ie||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const J=new e.OlP("EventManagerPlugins");let re=(()=>{class ye{constructor(ie,z){this._zone=z,this._eventNameToPlugin=new Map,ie.forEach(Z=>Z.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,z,Z){return this._findPluginFor(z).addEventListener(ie,z,Z)}addGlobalEventListener(ie,z,Z){return this._findPluginFor(z).addGlobalEventListener(ie,z,Z)}getZone(){return this._zone}_findPluginFor(ie){const z=this._eventNameToPlugin.get(ie);if(z)return z;const Z=this._plugins;for(let x=0;x<Z.length;x++){const le=Z[x];if(le.supports(ie))return this._eventNameToPlugin.set(ie,le),le}throw new Error(`No event manager plugin found for event ${ie}`)}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(J),e.LFG(e.R0b))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class ae{constructor(Te){this._doc=Te}addGlobalEventListener(Te,ie,z){const Z=(0,u.q)().getGlobalEventTarget(this._doc,Te);if(!Z)throw new Error(`Unsupported event target ${Z} for event ${ie}`);return this.addEventListener(Z,ie,z)}}let De=(()=>{class ye{constructor(){this._stylesSet=new Set}addStyles(ie){const z=new Set;ie.forEach(Z=>{this._stylesSet.has(Z)||(this._stylesSet.add(Z),z.add(Z))}),this.onStylesAdded(z)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return ye.\u0275fac=function(ie){return new(ie||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Ze=(()=>{class ye extends De{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,z,Z){ie.forEach(x=>{const le=this._doc.createElement("style");le.textContent=x,Z.push(z.appendChild(le))})}addHost(ie){const z=[];this._addStylesToHost(this._stylesSet,ie,z),this._hostNodes.set(ie,z)}removeHost(ie){const z=this._hostNodes.get(ie);z&&z.forEach(Xe),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((z,Z)=>{this._addStylesToHost(ie,Z,z)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Xe))}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function Xe(ye){(0,u.q)().remove(ye)}const Le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function pe(ye,Te,ie){for(let z=0;z<Te.length;z++){let Z=Te[z];Array.isArray(Z)?pe(ye,Z,ie):(Z=Z.replace(Ge,ye),ie.push(Z))}return ie}function ne(ye){return Te=>{if("__ngUnwrap__"===Te)return ye;!1===ye(Te)&&(Te.preventDefault(),Te.returnValue=!1)}}let be=(()=>{class ye{constructor(ie,z,Z){this.eventManager=ie,this.sharedStylesHost=z,this.appId=Z,this.rendererByCompId=new Map,this.defaultRenderer=new oe(ie)}createRenderer(ie,z){if(!ie||!z)return this.defaultRenderer;switch(z.encapsulation){case e.ifc.Emulated:{let Z=this.rendererByCompId.get(z.id);return Z||(Z=new Qe(this.eventManager,this.sharedStylesHost,z,this.appId),this.rendererByCompId.set(z.id,Z)),Z.applyToHost(ie),Z}case 1:case e.ifc.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,ie,z);default:if(!this.rendererByCompId.has(z.id)){const Z=pe(z.id,z.styles,[]);this.sharedStylesHost.addStyles(Z),this.rendererByCompId.set(z.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(re),e.LFG(Ze),e.LFG(e.AFp))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class oe{constructor(Te){this.eventManager=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Te,ie){return ie?document.createElementNS(Le[ie]||ie,Te):document.createElement(Te)}createComment(Te){return document.createComment(Te)}createText(Te){return document.createTextNode(Te)}appendChild(Te,ie){(pt(Te)?Te.content:Te).appendChild(ie)}insertBefore(Te,ie,z){Te&&(pt(Te)?Te.content:Te).insertBefore(ie,z)}removeChild(Te,ie){Te&&Te.removeChild(ie)}selectRootElement(Te,ie){let z="string"==typeof Te?document.querySelector(Te):Te;if(!z)throw new Error(`The selector "${Te}" did not match any elements`);return ie||(z.textContent=""),z}parentNode(Te){return Te.parentNode}nextSibling(Te){return Te.nextSibling}setAttribute(Te,ie,z,Z){if(Z){ie=Z+":"+ie;const x=Le[Z];x?Te.setAttributeNS(x,ie,z):Te.setAttribute(ie,z)}else Te.setAttribute(ie,z)}removeAttribute(Te,ie,z){if(z){const Z=Le[z];Z?Te.removeAttributeNS(Z,ie):Te.removeAttribute(`${z}:${ie}`)}else Te.removeAttribute(ie)}addClass(Te,ie){Te.classList.add(ie)}removeClass(Te,ie){Te.classList.remove(ie)}setStyle(Te,ie,z,Z){Z&(e.JOm.DashCase|e.JOm.Important)?Te.style.setProperty(ie,z,Z&e.JOm.Important?"important":""):Te.style[ie]=z}removeStyle(Te,ie,z){z&e.JOm.DashCase?Te.style.removeProperty(ie):Te.style[ie]=""}setProperty(Te,ie,z){Te[ie]=z}setValue(Te,ie){Te.nodeValue=ie}listen(Te,ie,z){return"string"==typeof Te?this.eventManager.addGlobalEventListener(Te,ie,ne(z)):this.eventManager.addEventListener(Te,ie,ne(z))}}function pt(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class Qe extends oe{constructor(Te,ie,z,Z){super(Te),this.component=z;const x=pe(Z+"-"+z.id,z.styles,[]);ie.addStyles(x),this.contentAttr=function Ie(ye){return"_ngcontent-%COMP%".replace(Ge,ye)}(Z+"-"+z.id),this.hostAttr=function he(ye){return"_nghost-%COMP%".replace(Ge,ye)}(Z+"-"+z.id)}applyToHost(Te){super.setAttribute(Te,this.hostAttr,"")}createElement(Te,ie){const z=super.createElement(Te,ie);return super.setAttribute(z,this.contentAttr,""),z}}class rt extends oe{constructor(Te,ie,z,Z){super(Te),this.sharedStylesHost=ie,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=pe(Z.id,Z.styles,[]);for(let le=0;le<x.length;le++){const He=document.createElement("style");He.textContent=x[le],this.shadowRoot.appendChild(He)}}nodeOrShadowRoot(Te){return Te===this.hostEl?this.shadowRoot:Te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Te,ie){return super.appendChild(this.nodeOrShadowRoot(Te),ie)}insertBefore(Te,ie,z){return super.insertBefore(this.nodeOrShadowRoot(Te),ie,z)}removeChild(Te,ie){return super.removeChild(this.nodeOrShadowRoot(Te),ie)}parentNode(Te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Te)))}}let we=(()=>{class ye extends ae{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,z,Z){return ie.addEventListener(z,Z,!1),()=>this.removeEventListener(ie,z,Z)}removeEventListener(ie,z,Z){return ie.removeEventListener(z,Z)}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Yt=["alt","control","meta","shift"],zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let gt=(()=>{class ye extends ae{constructor(ie){super(ie)}supports(ie){return null!=ye.parseEventName(ie)}addEventListener(ie,z,Z){const x=ye.parseEventName(z),le=ye.eventCallback(x.fullKey,Z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(ie,x.domEventName,le))}static parseEventName(ie){const z=ie.toLowerCase().split("."),Z=z.shift();if(0===z.length||"keydown"!==Z&&"keyup"!==Z)return null;const x=ye._normalizeKey(z.pop());let le="",He=z.indexOf("code");if(He>-1&&(z.splice(He,1),le="code."),Yt.forEach(Gt=>{const Ut=z.indexOf(Gt);Ut>-1&&(z.splice(Ut,1),le+=Gt+".")}),le+=x,0!=z.length||0===x.length)return null;const ct={};return ct.domEventName=Z,ct.fullKey=le,ct}static matchEventFullKeyCode(ie,z){let Z=zt[ie.key]||ie.key,x="";return z.indexOf("code.")>-1&&(Z=ie.code,x="code."),!(null==Z||!Z)&&(Z=Z.toLowerCase()," "===Z?Z="space":"."===Z&&(Z="dot"),Yt.forEach(le=>{le!==Z&&(0,Xt[le])(ie)&&(x+=le+".")}),x+=Z,x===z)}static eventCallback(ie,z,Z){return x=>{ye.matchEventFullKeyCode(x,ie)&&Z.runGuarded(()=>z(x))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Zn=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:u.bD},{provide:e.g9A,useValue:function Rt(){N.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function yn(){return(0,e.RDi)(document),document},deps:[]}]),Ot=new e.OlP(""),bt=[{provide:e.rWj,useClass:class H{addToWindow(Te){e.dqk.getAngularTestability=(z,Z=!0)=>{const x=Te.findTestabilityInTree(z,Z);if(null==x)throw new Error("Could not find testability for element.");return x},e.dqk.getAllAngularTestabilities=()=>Te.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>Te.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(z=>{const Z=e.dqk.getAllAngularTestabilities();let x=Z.length,le=!1;const He=function(ct){le=le||ct,x--,0==x&&z(le)};Z.forEach(function(ct){ct.whenStable(He)})})}findTestabilityInTree(Te,ie,z){return null==ie?null:Te.getTestability(ie)??(z?(0,u.q)().isShadowRoot(ie)?this.findTestabilityInTree(Te,ie.host,!0):this.findTestabilityInTree(Te,ie.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],ke=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function cn(){return new e.qLn},deps:[]},{provide:J,useClass:we,multi:!0,deps:[u.K0,e.R0b,e.Lbi]},{provide:J,useClass:gt,multi:!0,deps:[u.K0]},{provide:be,useClass:be,deps:[re,Ze,e.AFp]},{provide:e.FYo,useExisting:be},{provide:De,useExisting:Ze},{provide:Ze,useClass:Ze,deps:[u.K0]},{provide:re,useClass:re,deps:[J,e.R0b]},{provide:u.JF,useClass:$,deps:[]},[]];let je=(()=>{class ye{constructor(ie){}static withServerTransition(ie){return{ngModule:ye,providers:[{provide:e.AFp,useValue:ie.appId},{provide:G,useExisting:e.AFp},I]}}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(Ot,12))},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({providers:[...ke,...bt],imports:[u.ez,e.hGG]}),ye})(),St=(()=>{class ye{constructor(ie){this._doc=ie,this._dom=(0,u.q)()}addTag(ie,z=!1){return ie?this._getOrCreateElement(ie,z):null}addTags(ie,z=!1){return ie?ie.reduce((Z,x)=>(x&&Z.push(this._getOrCreateElement(x,z)),Z),[]):[]}getTag(ie){return ie&&this._doc.querySelector(`meta[${ie}]`)||null}getTags(ie){if(!ie)return[];const z=this._doc.querySelectorAll(`meta[${ie}]`);return z?[].slice.call(z):[]}updateTag(ie,z){if(!ie)return null;z=z||this._parseSelector(ie);const Z=this.getTag(z);return Z?this._setMetaElementAttributes(ie,Z):this._getOrCreateElement(ie,!0)}removeTag(ie){this.removeTagElement(this.getTag(ie))}removeTagElement(ie){ie&&this._dom.remove(ie)}_getOrCreateElement(ie,z=!1){if(!z){const le=this._parseSelector(ie),He=this.getTags(le).filter(ct=>this._containsAttributes(ie,ct))[0];if(void 0!==He)return He}const Z=this._dom.createElement("meta");return this._setMetaElementAttributes(ie,Z),this._doc.getElementsByTagName("head")[0].appendChild(Z),Z}_setMetaElementAttributes(ie,z){return Object.keys(ie).forEach(Z=>z.setAttribute(this._getMetaKeyMap(Z),ie[Z])),z}_parseSelector(ie){const z=ie.name?"name":"property";return`${z}="${ie[z]}"`}_containsAttributes(ie,z){return Object.keys(ie).every(Z=>z.getAttribute(this._getMetaKeyMap(Z))===ie[Z])}_getMetaKeyMap(ie){return nn[ie]||ie}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:function(ie){let z=null;return z=ie?new ie:function Dt(){return new St((0,e.LFG)(u.K0))}(),z},providedIn:"root"}),ye})();const nn={httpEquiv:"http-equiv"};let it=(()=>{class ye{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:function(ie){let z=null;return z=ie?new ie:function _n(){return new it((0,e.LFG)(u.K0))}(),z},providedIn:"root"}),ye})();function Et(ye){return ye}typeof window<"u"&&window;let _t=(()=>{class ye{constructor(){this.store={},this.onSerializeCallbacks={}}get(ie,z){return void 0!==this.store[ie]?this.store[ie]:z}set(ie,z){this.store[ie]=z}remove(ie){delete this.store[ie]}hasKey(ie){return this.store.hasOwnProperty(ie)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(ie,z){this.onSerializeCallbacks[ie]=z}toJson(){for(const ie in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(ie))try{this.store[ie]=this.onSerializeCallbacks[ie]()}catch(z){console.warn("Exception in onSerialize callback: ",z)}return JSON.stringify(this.store)}}return ye.\u0275fac=function(ie){return new(ie||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:function(){return(()=>{const Te=(0,e.f3M)(u.K0),ie=(0,e.f3M)(e.AFp),z=new ye;return z.store=function Ct(ye,Te){const ie=ye.getElementById(Te+"-state");let z={};if(ie&&ie.textContent)try{z=JSON.parse(function We(ye){const Te={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return ye.replace(/&[^;]+;/g,ie=>Te[ie])}(ie.textContent))}catch(Z){console.warn("Exception while restoring TransferState for app "+Te,Z)}return z}(Te,ie),z})()},providedIn:"root"}),ye})(),qt=(()=>{class ye{}return ye.\u0275fac=function(ie){return new(ie||ye)},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({}),ye})(),Sn=(()=>{class ye{}return ye.\u0275fac=function(ie){return new(ie||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:function(ie){let z=null;return z=ie?new(ie||ye):e.LFG(Jn),z},providedIn:"root"}),ye})(),Jn=(()=>{class ye extends Sn{constructor(ie){super(),this._doc=ie}sanitize(ie,z){if(null==z)return null;switch(ie){case e.q3G.NONE:return z;case e.q3G.HTML:return(0,e.qzn)(z,"HTML")?(0,e.z3N)(z):(0,e.EiD)(this._doc,String(z)).toString();case e.q3G.STYLE:return(0,e.qzn)(z,"Style")?(0,e.z3N)(z):z;case e.q3G.SCRIPT:if((0,e.qzn)(z,"Script"))return(0,e.z3N)(z);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(z,"URL")?(0,e.z3N)(z):(0,e.mCW)(String(z));case e.q3G.RESOURCE_URL:if((0,e.qzn)(z,"ResourceURL"))return(0,e.z3N)(z);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,e.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,e.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,e.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,e.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,e.pB0)(ie)}}return ye.\u0275fac=function(ie){return new(ie||ye)(e.LFG(u.K0))},ye.\u0275prov=e.Yz7({token:ye,factory:function(ie){let z=null;return z=ie?new ie:function Vn(ye){return new Jn(ye.get(u.K0))}(e.LFG(e.zs3)),z},providedIn:"root"}),ye})()},610:(de,Q,m)=>{"use strict";m.d(Q,{gz:()=>Ir,sz:()=>rn,gk:()=>Xn,m2:()=>ur,Q3:()=>nr,OD:()=>Rn,eC:()=>gt,F0:()=>Vr,rH:()=>Na,Od:()=>Zo,yS:()=>ua,Bz:()=>Va,lC:()=>to,R9:()=>Br,Xs:()=>ue,Hx:()=>tr});var u=m(4650),e=m(5254),h=m(1086),N=m(591),D=m(4450),P=m(6053),k=m(1221),M=m(8514),G=m(4843),V=m(1737),I=m(6498),H=m(8896),$=m(1762),J=m(8929),re=m(6895),ae=m(4850),De=m(7545),Ze=m(2986),Xe=m(1059),Le=m(2198),Ge=m(1709),me=m(7224),se=m(1406),Ne=m(2994),ze=m(7221),Ie=m(2014),he=m(3489),pe=m(4231);function ne(E){return function(y){return 0===E?(0,H.c)():y.lift(new _e(E))}}class _e{constructor(A){if(this.total=A,this.total<0)throw new pe.W}call(A,y){return y.subscribe(new be(A,this.total))}}class be extends he.L{constructor(A,y){super(A),this.total=y,this.ring=new Array,this.count=0}_next(A){const y=this.ring,R=this.total,U=this.count++;y.length<R?y.push(A):y[U%R]=A}_complete(){const A=this.destination;let y=this.count;if(y>0){const R=this.count>=this.total?this.total:this.count,U=this.ring;for(let q=0;q<R;q++){const Ce=y++%R;A.next(U[Ce])}}A.complete()}}var oe=m(4907),Fe=m(7314),Re=m(5379);function pt(E,A){const y=arguments.length>=2;return R=>R.pipe(E?(0,Le.h)((U,q)=>E(U,q,R)):Re.y,ne(1),y?(0,Fe.d)(A):(0,oe.T)(()=>new D.K))}var Qe=m(4290),rt=m(7604),we=m(537),Yt=m(4327),zt=m(9146),Xt=m(1481);const gt="primary",Qt=Symbol("RouteTitle");class Wt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const y=this.params[A];return Array.isArray(y)?y[0]:y}return null}getAll(A){if(this.has(A)){const y=this.params[A];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Lt(E){return new Wt(E)}function wt(E,A,y){const R=y.path.split("/");if(R.length>E.length||"full"===y.pathMatch&&(A.hasChildren()||R.length<E.length))return null;const U={};for(let q=0;q<R.length;q++){const Ce=R[q],Oe=E[q];if(Ce.startsWith(":"))U[Ce.substring(1)]=Oe;else if(Ce!==Oe.path)return null}return{consumed:E.slice(0,R.length),posParams:U}}function Rt(E,A){const y=E?Object.keys(E):void 0,R=A?Object.keys(A):void 0;if(!y||!R||y.length!=R.length)return!1;let U;for(let q=0;q<y.length;q++)if(U=y[q],!cn(E[U],A[U]))return!1;return!0}function cn(E,A){if(Array.isArray(E)&&Array.isArray(A)){if(E.length!==A.length)return!1;const y=[...E].sort(),R=[...A].sort();return y.every((U,q)=>R[q]===U)}return E===A}function yn(E){return Array.prototype.concat.apply([],E)}function Ft(E){return E.length>0?E[E.length-1]:null}function Ot(E,A){for(const y in E)E.hasOwnProperty(y)&&A(E[y],y)}function bt(E){return(0,u.CqO)(E)?E:(0,u.QGY)(E)?(0,e.D)(Promise.resolve(E)):(0,h.of)(E)}const Dt={exact:function it(E,A,y){if(!gn(E.segments,A.segments)||!at(E.segments,A.segments,y)||E.numberOfChildren!==A.numberOfChildren)return!1;for(const R in A.children)if(!E.children[R]||!it(E.children[R],A.children[R],y))return!1;return!0},subset:Ee},St={exact:function _n(E,A){return Rt(E,A)},subset:function Ae(E,A){return Object.keys(A).length<=Object.keys(E).length&&Object.keys(A).every(y=>cn(E[y],A[y]))},ignored:()=>!0};function nn(E,A,y){return Dt[y.paths](E.root,A.root,y.matrixParams)&&St[y.queryParams](E.queryParams,A.queryParams)&&!("exact"===y.fragment&&E.fragment!==A.fragment)}function Ee(E,A,y){return st(E,A,A.segments,y)}function st(E,A,y,R){if(E.segments.length>y.length){const U=E.segments.slice(0,y.length);return!(!gn(U,y)||A.hasChildren()||!at(U,y,R))}if(E.segments.length===y.length){if(!gn(E.segments,y)||!at(E.segments,y,R))return!1;for(const U in A.children)if(!E.children[U]||!Ee(E.children[U],A.children[U],R))return!1;return!0}{const U=y.slice(0,E.segments.length),q=y.slice(E.segments.length);return!!(gn(E.segments,U)&&at(E.segments,U,R)&&E.children[gt])&&st(E.children[gt],A,q,R)}}function at(E,A,y){return A.every((R,U)=>St[y](E[U].parameters,R.parameters))}class Jt{constructor(A,y,R){this.root=A,this.queryParams=y,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class Nt{constructor(A,y){this.segments=A,this.children=y,this.parent=null,Ot(y,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class an{constructor(A,y){this.path=A,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Lt(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function gn(E,A){return E.length===A.length&&E.every((y,R)=>y.path===A[R].path)}let tr=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=u.Yz7({token:E,factory:function(){return new rn},providedIn:"root"}),E})();class rn{parse(A){const y=new ye(A);return new Jt(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(A){const y=`/${Et(A.root,!0)}`,R=function hr(E){const A=Object.keys(E).map(y=>{const R=E[y];return Array.isArray(R)?R.map(U=>`${Ct(y)}=${Ct(U)}`).join("&"):`${Ct(y)}=${Ct(R)}`}).filter(y=>!!y);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${y}${R}${"string"==typeof A.fragment?`#${function qt(E){return encodeURI(E)}(A.fragment)}`:""}`}}const fn=new rn;function We(E){return E.segments.map(A=>Nn(A)).join("/")}function Et(E,A){if(!E.hasChildren())return We(E);if(A){const y=E.children[gt]?Et(E.children[gt],!1):"",R=[];return Ot(E.children,(U,q)=>{q!==gt&&R.push(`${q}:${Et(U,!1)}`)}),R.length>0?`${y}(${R.join("//")})`:y}{const y=function mn(E,A){let y=[];return Ot(E.children,(R,U)=>{U===gt&&(y=y.concat(A(R,U)))}),Ot(E.children,(R,U)=>{U!==gt&&(y=y.concat(A(R,U)))}),y}(E,(R,U)=>U===gt?[Et(E.children[gt],!1)]:[`${U}:${Et(R,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[gt]?`${We(E)}/${y[0]}`:`${We(E)}/(${y.join("//")})`}}function _t(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ct(E){return _t(E).replace(/%3B/gi,";")}function Tt(E){return _t(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ke(E){return decodeURIComponent(E)}function Dn(E){return Ke(E.replace(/\+/g,"%20"))}function Nn(E){return`${Tt(E.path)}${function kn(E){return Object.keys(E).map(A=>`;${Tt(A)}=${Tt(E[A])}`).join("")}(E.parameters)}`}const un=/^[^\/()?;=#]+/;function An(E){const A=E.match(un);return A?A[0]:""}const Sn=/^[^=?&#]+/,Jn=/^[^&#]+/;class ye{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(A.length>0||Object.keys(y).length>0)&&(R[gt]=new Nt(A,y)),R}parseSegment(){const A=An(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(A),new an(Ke(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const y=An(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const U=An(this.remaining);U&&(R=U,this.capture(R))}A[Ke(y)]=Ke(R)}parseQueryParam(A){const y=function Vn(E){const A=E.match(Sn);return A?A[0]:""}(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const Ce=function Qn(E){const A=E.match(Jn);return A?A[0]:""}(this.remaining);Ce&&(R=Ce,this.capture(R))}const U=Dn(y),q=Dn(R);if(A.hasOwnProperty(U)){let Ce=A[U];Array.isArray(Ce)||(Ce=[Ce],A[U]=Ce),Ce.push(q)}else A[U]=q}parseParens(A){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=An(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new u.vHH(4010,!1);let q;R.indexOf(":")>-1?(q=R.slice(0,R.indexOf(":")),this.capture(q),this.capture(":")):A&&(q=gt);const Ce=this.parseChildren();y[q]=1===Object.keys(Ce).length?Ce[gt]:new Nt([],Ce),this.consumeOptional("//")}return y}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new u.vHH(4011,!1)}}function Te(E){return E.segments.length>0?new Nt([],{[gt]:E}):E}function ie(E){const A={};for(const R of Object.keys(E.children)){const q=ie(E.children[R]);(q.segments.length>0||q.hasChildren())&&(A[R]=q)}return function z(E){if(1===E.numberOfChildren&&E.children[gt]){const A=E.children[gt];return new Nt(E.segments.concat(A.segments),A.children)}return E}(new Nt(E.segments,A))}function Z(E){return E instanceof Jt}const x=!1;function Gt(E,A,y,R,U){if(0===y.length)return bn(A.root,A.root,A.root,R,U);const q=function En(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Un(!0,0,E);let A=0,y=!1;const R=E.reduce((U,q,Ce)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Oe={};return Ot(q.outlets,(mt,Kt)=>{Oe[Kt]="string"==typeof mt?mt.split("/"):mt}),[...U,{outlets:Oe}]}if(q.segmentPath)return[...U,q.segmentPath]}return"string"!=typeof q?[...U,q]:0===Ce?(q.split("/").forEach((Oe,mt)=>{0==mt&&"."===Oe||(0==mt&&""===Oe?y=!0:".."===Oe?A++:""!=Oe&&U.push(Oe))}),U):[...U,q]},[]);return new Un(y,A,R)}(y);return q.toRoot()?bn(A.root,A.root,new Nt([],{}),R,U):function Ce(mt){const Kt=function Ln(E,A,y,R){if(E.isAbsolute)return new qn(A.root,!0,0);if(-1===R)return new qn(y,y===A.root,0);return function yr(E,A,y){let R=E,U=A,q=y;for(;q>U;){if(q-=U,R=R.parent,!R)throw new u.vHH(4005,x);U=R.segments.length}return new qn(R,!1,U-q)}(y,R+(Ut(E.commands[0])?0:1),E.numberOfDoubleDots)}(q,A,E.snapshot?._urlSegment,mt),In=Kt.processChildren?$r(Kt.segmentGroup,Kt.index,q.commands):hn(Kt.segmentGroup,Kt.index,q.commands);return bn(A.root,Kt.segmentGroup,In,R,U)}(E.snapshot?._lastPathIndex)}function Ut(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Tn(E){return"object"==typeof E&&null!=E&&E.outlets}function bn(E,A,y,R,U){let Ce,q={};R&&Ot(R,(mt,Kt)=>{q[Kt]=Array.isArray(mt)?mt.map(In=>`${In}`):`${mt}`}),Ce=E===A?y:or(E,A,y);const Oe=Te(ie(Ce));return new Jt(Oe,q,U)}function or(E,A,y){const R={};return Ot(E.children,(U,q)=>{R[q]=U===A?y:or(U,A,y)}),new Nt(E.segments,R)}class Un{constructor(A,y,R){if(this.isAbsolute=A,this.numberOfDoubleDots=y,this.commands=R,A&&R.length>0&&Ut(R[0]))throw new u.vHH(4003,x);const U=R.find(Tn);if(U&&U!==Ft(R))throw new u.vHH(4004,x)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(A,y,R){this.segmentGroup=A,this.processChildren=y,this.index=R}}function hn(E,A,y){if(E||(E=new Nt([],{})),0===E.segments.length&&E.hasChildren())return $r(E,A,y);const R=function ir(E,A,y){let R=0,U=A;const q={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(R>=y.length)return q;const Ce=E.segments[U],Oe=y[R];if(Tn(Oe))break;const mt=`${Oe}`,Kt=R<y.length-1?y[R+1]:null;if(U>0&&void 0===mt)break;if(mt&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!gr(mt,Kt,Ce))return q;R+=2}else{if(!gr(mt,{},Ce))return q;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(E,A,y),U=y.slice(R.commandIndex);if(R.match&&R.pathIndex<E.segments.length){const q=new Nt(E.segments.slice(0,R.pathIndex),{});return q.children[gt]=new Nt(E.segments.slice(R.pathIndex),E.children),$r(q,0,U)}return R.match&&0===U.length?new Nt(E.segments,{}):R.match&&!E.hasChildren()?sr(E,A,y):R.match?$r(E,0,U):sr(E,A,y)}function $r(E,A,y){if(0===y.length)return new Nt(E.segments,{});{const R=function Tr(E){return Tn(E[0])?E[0].outlets:{[gt]:E}}(y),U={};return Ot(R,(q,Ce)=>{"string"==typeof q&&(q=[q]),null!==q&&(U[Ce]=hn(E.children[Ce],A,q))}),Ot(E.children,(q,Ce)=>{void 0===R[Ce]&&(U[Ce]=q)}),new Nt(E.segments,U)}}function sr(E,A,y){const R=E.segments.slice(0,A);let U=0;for(;U<y.length;){const q=y[U];if(Tn(q)){const mt=Sr(q.outlets);return new Nt(R,mt)}if(0===U&&Ut(y[0])){R.push(new an(E.segments[A].path,br(y[0]))),U++;continue}const Ce=Tn(q)?q.outlets[gt]:`${q}`,Oe=U<y.length-1?y[U+1]:null;Ce&&Oe&&Ut(Oe)?(R.push(new an(Ce,br(Oe))),U+=2):(R.push(new an(Ce,{})),U++)}return new Nt(R,{})}function Sr(E){const A={};return Ot(E,(y,R)=>{"string"==typeof y&&(y=[y]),null!==y&&(A[R]=sr(new Nt([],{}),0,y))}),A}function br(E){const A={};return Ot(E,(y,R)=>A[R]=`${y}`),A}function gr(E,A,y){return E==y.path&&Rt(A,y.parameters)}class Mn{constructor(A,y){this.id=A,this.url=y}}class Rn extends Mn{constructor(A,y,R="imperative",U=null){super(A,y),this.type=0,this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ur extends Mn{constructor(A,y,R){super(A,y),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xn extends Mn{constructor(A,y,R,U){super(A,y),this.reason=R,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends Mn{constructor(A,y,R,U){super(A,y),this.error=R,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Br extends Mn{constructor(A,y,R,U){super(A,y),this.urlAfterRedirects=R,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends Mn{constructor(A,y,R,U){super(A,y),this.urlAfterRedirects=R,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Mn{constructor(A,y,R,U,q){super(A,y),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends Mn{constructor(A,y,R,U){super(A,y),this.urlAfterRedirects=R,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends Mn{constructor(A,y,R,U){super(A,y),this.urlAfterRedirects=R,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qe{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dt{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mt{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ue{constructor(A,y,R){this.routerEvent=A,this.position=y,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class et{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const y=this.pathFromRoot(A);return y.length>1?y[y.length-2]:null}children(A){const y=Bt(A,this._root);return y?y.children.map(R=>R.value):[]}firstChild(A){const y=Bt(A,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(A){const y=vn(A,this._root);return y.length<2?[]:y[y.length-2].children.map(U=>U.value).filter(U=>U!==A)}pathFromRoot(A){return vn(A,this._root).map(y=>y.value)}}function Bt(E,A){if(E===A.value)return A;for(const y of A.children){const R=Bt(E,y);if(R)return R}return null}function vn(E,A){if(E===A.value)return[A];for(const y of A.children){const R=vn(E,y);if(R.length)return R.unshift(A),R}return[]}class Wn{constructor(A,y){this.value=A,this.children=y}toString(){return`TreeNode(${this.value})`}}function zr(E){const A={};return E&&E.children.forEach(y=>A[y.value.outlet]=y),A}class Yr extends et{constructor(A,y){super(A),this.snapshot=y,Oi(this,A)}toString(){return this.snapshot.toString()}}function hi(E,A){const y=function gi(E,A){const Ce=new go([],{},{},"",{},gt,A,null,E.root,-1,{});return new Po("",new Wn(Ce,[]))}(E,A),R=new N.X([new an("",{})]),U=new N.X({}),q=new N.X({}),Ce=new N.X({}),Oe=new N.X(""),mt=new Ir(R,U,Ce,Oe,q,gt,A,y.root);return mt.snapshot=y.root,new Yr(new Wn(mt,[]),y)}class Ir{constructor(A,y,R,U,q,Ce,Oe,mt){this.url=A,this.params=y,this.queryParams=R,this.fragment=U,this.data=q,this.outlet=Ce,this.component=Oe,this.title=this.data?.pipe((0,ae.U)(Kt=>Kt[Qt]))??(0,h.of)(void 0),this._futureSnapshot=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ae.U)(A=>Lt(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ae.U)(A=>Lt(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vo(E,A="emptyOnly"){const y=E.pathFromRoot;let R=0;if("always"!==A)for(R=y.length-1;R>=1;){const U=y[R],q=y[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(q.component)break;R--}}return function ho(E){return E.reduce((A,y)=>({params:{...A.params,...y.params},data:{...A.data,...y.data},resolve:{...y.data,...A.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(R))}class go{constructor(A,y,R,U,q,Ce,Oe,mt,Kt,In,tn,rr){this.url=A,this.params=y,this.queryParams=R,this.fragment=U,this.data=q,this.outlet=Ce,this.component=Oe,this.title=this.data?.[Qt],this.routeConfig=mt,this._urlSegment=Kt,this._lastPathIndex=In,this._correctedLastPathIndex=rr??In,this._resolve=tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Po extends et{constructor(A,y){super(y),this.url=A,Oi(this,y)}toString(){return mo(this._root)}}function Oi(E,A){A.value._routerState=E,A.children.forEach(y=>Oi(E,y))}function mo(E){const A=E.children.length>0?` { ${E.children.map(mo).join(", ")} } `:"";return`${E.value}${A}`}function Ao(E){if(E.snapshot){const A=E.snapshot,y=E._futureSnapshot;E.snapshot=y,Rt(A.queryParams,y.queryParams)||E.queryParams.next(y.queryParams),A.fragment!==y.fragment&&E.fragment.next(y.fragment),Rt(A.params,y.params)||E.params.next(y.params),function Pn(E,A){if(E.length!==A.length)return!1;for(let y=0;y<E.length;++y)if(!Rt(E[y],A[y]))return!1;return!0}(A.url,y.url)||E.url.next(y.url),Rt(A.data,y.data)||E.data.next(y.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Xo(E,A){const y=Rt(E.params,A.params)&&function kt(E,A){return gn(E,A)&&E.every((y,R)=>Rt(y.parameters,A[R].parameters))}(E.url,A.url);return y&&!(!E.parent!=!A.parent)&&(!E.parent||Xo(E.parent,A.parent))}function To(E,A,y){if(y&&E.shouldReuseRoute(A.value,y.value.snapshot)){const R=y.value;R._futureSnapshot=A.value;const U=function mr(E,A,y){return A.children.map(R=>{for(const U of y.children)if(E.shouldReuseRoute(R.value,U.value.snapshot))return To(E,R,U);return To(E,R)})}(E,A,y);return new Wn(R,U)}{if(E.shouldAttach(A.value)){const q=E.retrieve(A.value);if(null!==q){const Ce=q.route;return Ce.value._futureSnapshot=A.value,Ce.children=A.children.map(Oe=>To(E,Oe)),Ce}}const R=function ei(E){return new Ir(new N.X(E.url),new N.X(E.params),new N.X(E.queryParams),new N.X(E.fragment),new N.X(E.data),E.outlet,E.component,E)}(A.value),U=A.children.map(q=>To(E,q));return new Wn(R,U)}}const ti="ngNavigationCancelingError";function ni(E,A){const{redirectTo:y,navigationBehaviorOptions:R}=Z(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,U=Lo(!1,0,A);return U.url=y,U.navigationBehaviorOptions=R,U}function Lo(E,A,y){const R=new Error("NavigationCancelingError: "+(E||""));return R[ti]=!0,R.cancellationCode=A,y&&(R.url=y),R}function vi(E){return Rr(E)&&Z(E.url)}function Rr(E){return E&&E[ti]}class jo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fo,this.attachRef=null}}let Fo=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(y,R){const U=this.getOrCreateContext(y);U.outlet=R,this.contexts.set(y,U)}onChildOutletDestroyed(y){const R=this.getContext(y);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let R=this.getContext(y);return R||(R=new jo,this.contexts.set(y,R)),R}getContext(y){return this.contexts.get(y)||null}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const vo=!1;let to=(()=>{class E{constructor(y,R,U,q,Ce){this.parentContexts=y,this.location=R,this.changeDetector=q,this.environmentInjector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=U||gt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,vo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,vo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,vo);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,R){this.activated=y,this._activatedRoute=R,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,R){if(this.isActivated)throw new u.vHH(4013,vo);this._activatedRoute=y;const U=this.location,Ce=y._futureSnapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,mt=new Pi(y,Oe,U.injector);if(R&&function lr(E){return!!E.resolveComponentFactory}(R)){const Kt=R.resolveComponentFactory(Ce);this.activated=U.createComponent(Kt,U.length,mt)}else this.activated=U.createComponent(Ce,{index:U.length,injector:mt,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(y){return new(y||E)(u.Y36(Fo),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},E.\u0275dir=u.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class Pi{constructor(A,y,R){this.route=A,this.childContexts=y,this.parent=R}get(A,y){return A===Ir?this.route:A===Fo?this.childContexts:this.parent.get(A,y)}}let ri=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275cmp=u.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(y,R){1&y&&u._UZ(0,"router-outlet")},dependencies:[to],encapsulation:2}),E})();function Gr(E,A){return E.providers&&!E._injector&&(E._injector=(0,u.MMx)(E.providers,A,`Route: ${E.path}`)),E._injector??A}function Zt(E){const A=E.children&&E.children.map(Zt),y=A?{...E,children:A}:{...E};return!y.component&&!y.loadComponent&&(A||y.loadChildren)&&y.outlet&&y.outlet!==gt&&(y.component=ri),y}function ln(E){return E.outlet||gt}function Xr(E,A){const y=E.filter(R=>ln(R)===A);return y.push(...E.filter(R=>ln(R)!==A)),y}function Kr(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let A=E.parent;A;A=A.parent){const y=A.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class No{constructor(A,y,R,U){this.routeReuseStrategy=A,this.futureState=y,this.currState=R,this.forwardEvent=U}activate(A){const y=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,R,A),Ao(this.futureState.root),this.activateChildRoutes(y,R,A)}deactivateChildRoutes(A,y,R){const U=zr(y);A.children.forEach(q=>{const Ce=q.value.outlet;this.deactivateRoutes(q,U[Ce],R),delete U[Ce]}),Ot(U,(q,Ce)=>{this.deactivateRouteAndItsChildren(q,R)})}deactivateRoutes(A,y,R){const U=A.value,q=y?y.value:null;if(U===q)if(U.component){const Ce=R.getContext(U.outlet);Ce&&this.deactivateChildRoutes(A,y,Ce.children)}else this.deactivateChildRoutes(A,y,R);else q&&this.deactivateRouteAndItsChildren(y,R)}deactivateRouteAndItsChildren(A,y){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,y):this.deactivateRouteAndOutlet(A,y)}detachAndStoreRouteSubtree(A,y){const R=y.getContext(A.value.outlet),U=R&&A.value.component?R.children:y,q=zr(A);for(const Ce of Object.keys(q))this.deactivateRouteAndItsChildren(q[Ce],U);if(R&&R.outlet){const Ce=R.outlet.detach(),Oe=R.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Ce,route:A,contexts:Oe})}}deactivateRouteAndOutlet(A,y){const R=y.getContext(A.value.outlet),U=R&&A.value.component?R.children:y,q=zr(A);for(const Ce of Object.keys(q))this.deactivateRouteAndItsChildren(q[Ce],U);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(A,y,R){const U=zr(y);A.children.forEach(q=>{this.activateRoutes(q,U[q.value.outlet],R),this.forwardEvent(new xn(q.value.snapshot))}),A.children.length&&this.forwardEvent(new Vt(A.value.snapshot))}activateRoutes(A,y,R){const U=A.value,q=y?y.value:null;if(Ao(U),U===q)if(U.component){const Ce=R.getOrCreateContext(U.outlet);this.activateChildRoutes(A,y,Ce.children)}else this.activateChildRoutes(A,y,R);else if(U.component){const Ce=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Oe=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Ce.children.onOutletReAttached(Oe.contexts),Ce.attachRef=Oe.componentRef,Ce.route=Oe.route.value,Ce.outlet&&Ce.outlet.attach(Oe.componentRef,Oe.route.value),Ao(Oe.route.value),this.activateChildRoutes(A,null,Ce.children)}else{const Oe=Kr(U.snapshot),mt=Oe?.get(u._Vd)??null;Ce.attachRef=null,Ce.route=U,Ce.resolver=mt,Ce.injector=Oe,Ce.outlet&&Ce.outlet.activateWith(U,Ce.injector),this.activateChildRoutes(A,null,Ce.children)}}else this.activateChildRoutes(A,null,R)}}class Li{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Pr{constructor(A,y){this.component=A,this.route=y}}function fe(E,A,y){const R=E._root;return Ve(R,A?A._root:null,y,[R.value])}function ee(E,A){const y=Symbol(),R=A.get(E,y);return R===y?"function"!=typeof E||(0,u.Z0I)(E)?A.get(E):E:R}function Ve(E,A,y,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const q=zr(A);return E.children.forEach(Ce=>{(function $e(E,A,y,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const q=E.value,Ce=A?A.value:null,Oe=y?y.getContext(E.value.outlet):null;if(Ce&&q.routeConfig===Ce.routeConfig){const mt=function ge(E,A,y){if("function"==typeof y)return y(E,A);switch(y){case"pathParamsChange":return!gn(E.url,A.url);case"pathParamsOrQueryParamsChange":return!gn(E.url,A.url)||!Rt(E.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xo(E,A)||!Rt(E.queryParams,A.queryParams);default:return!Xo(E,A)}}(Ce,q,q.routeConfig.runGuardsAndResolvers);mt?U.canActivateChecks.push(new Li(R)):(q.data=Ce.data,q._resolvedData=Ce._resolvedData),Ve(E,A,q.component?Oe?Oe.children:null:y,R,U),mt&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&U.canDeactivateChecks.push(new Pr(Oe.outlet.component,Ce))}else Ce&&Ht(A,Oe,U),U.canActivateChecks.push(new Li(R)),Ve(E,null,q.component?Oe?Oe.children:null:y,R,U)})(Ce,q[Ce.value.outlet],y,R.concat([Ce.value]),U),delete q[Ce.value.outlet]}),Ot(q,(Ce,Oe)=>Ht(Ce,y.getContext(Oe),U)),U}function Ht(E,A,y){const R=zr(E),U=E.value;Ot(R,(q,Ce)=>{Ht(q,U.component?A?A.children.getContext(Ce):null:A,y)}),y.canDeactivateChecks.push(new Pr(U.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,U))}function Bn(E){return"function"==typeof E}function Hr(E){return E instanceof D.K||"EmptyError"===E?.name}const oi=Symbol("INITIAL_VALUE");function bo(){return(0,De.w)(E=>(0,P.aj)(E.map(A=>A.pipe((0,Ze.q)(1),(0,Xe.O)(oi)))).pipe((0,ae.U)(A=>{for(const y of A)if(!0!==y){if(y===oi)return oi;if(!1===y||y instanceof Jt)return y}return!0}),(0,Le.h)(A=>A!==oi),(0,Ze.q)(1)))}function Ps(E){return(0,G.z)((0,Ne.b)(A=>{if(Z(A))throw ni(0,A)}),(0,ae.U)(A=>!0===A))}const _i={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ls(E,A,y,R,U){const q=Ls(E,A,y);return q.matched?function qi(E,A,y,R){const U=A.canMatch;if(!U||0===U.length)return(0,h.of)(!0);const q=U.map(Ce=>{const Oe=ee(Ce,E);return bt(function te(E){return E&&Bn(E.canMatch)}(Oe)?Oe.canMatch(A,y):E.runInContext(()=>Oe(A,y)))});return(0,h.of)(q).pipe(bo(),Ps())}(R=Gr(A,R),A,y).pipe((0,ae.U)(Ce=>!0===Ce?q:{..._i})):(0,h.of)(q)}function Ls(E,A,y){if(""===A.path)return"full"===A.pathMatch&&(E.hasChildren()||y.length>0)?{..._i}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const U=(A.matcher||wt)(y,E,A);if(!U)return{..._i};const q={};Ot(U.posParams,(Oe,mt)=>{q[mt]=Oe.path});const Ce=U.consumed.length>0?{...q,...U.consumed[U.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:U.consumed,remainingSegments:y.slice(U.consumed.length),parameters:Ce,positionalParamSegments:U.posParams??{}}}function co(E,A,y,R,U="corrected"){if(y.length>0&&function Fs(E,A,y){return y.some(R=>b(E,A,R)&&ln(R)!==gt)}(E,y,R)){const Ce=new Nt(A,function Ru(E,A,y,R){const U={};U[gt]=R,R._sourceSegment=E,R._segmentIndexShift=A.length;for(const q of y)if(""===q.path&&ln(q)!==gt){const Ce=new Nt([],{});Ce._sourceSegment=E,Ce._segmentIndexShift=A.length,U[ln(q)]=Ce}return U}(E,A,R,new Nt(y,E.children)));return Ce._sourceSegment=E,Ce._segmentIndexShift=A.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===y.length&&function jn(E,A,y){return y.some(R=>b(E,A,R))}(E,y,R)){const Ce=new Nt(E.segments,function ds(E,A,y,R,U,q){const Ce={};for(const Oe of R)if(b(E,y,Oe)&&!U[ln(Oe)]){const mt=new Nt([],{});mt._sourceSegment=E,mt._segmentIndexShift="legacy"===q?E.segments.length:A.length,Ce[ln(Oe)]=mt}return{...U,...Ce}}(E,A,y,R,E.children,U));return Ce._sourceSegment=E,Ce._segmentIndexShift=A.length,{segmentGroup:Ce,slicedSegments:y}}const q=new Nt(E.segments,E.children);return q._sourceSegment=E,q._segmentIndexShift=A.length,{segmentGroup:q,slicedSegments:y}}function b(E,A,y){return(!(E.hasChildren()||A.length>0)||"full"!==y.pathMatch)&&""===y.path}function Y(E,A,y,R){return!!(ln(E)===R||R!==gt&&b(A,y,E))&&("**"===E.path||Ls(A,E,y).matched)}function L(E,A,y){return 0===A.length&&!E.children[y]}const X=!1;class xe{constructor(A){this.segmentGroup=A||null}}class ut{constructor(A){this.urlTree=A}}function vt(E){return(0,V._)(new xe(E))}function en(E){return(0,V._)(new ut(E))}class Hn{constructor(A,y,R,U,q){this.injector=A,this.configLoader=y,this.urlSerializer=R,this.urlTree=U,this.config=q,this.allowRedirects=!0}apply(){const A=co(this.urlTree.root,[],[],this.config).segmentGroup,y=new Nt(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,y,gt).pipe((0,ae.U)(q=>this.createUrlTree(ie(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ze.K)(q=>{if(q instanceof ut)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof xe?this.noMatchError(q):q}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,gt).pipe((0,ae.U)(U=>this.createUrlTree(ie(U),A.queryParams,A.fragment))).pipe((0,ze.K)(U=>{throw U instanceof xe?this.noMatchError(U):U}))}noMatchError(A){return new u.vHH(4002,X)}createUrlTree(A,y,R){const U=Te(A);return new Jt(U,y,R)}expandSegmentGroup(A,y,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(A,y,R).pipe((0,ae.U)(q=>new Nt([],q))):this.expandSegment(A,R,y,R.segments,U,!0)}expandChildren(A,y,R){const U=[];for(const q of Object.keys(R.children))"primary"===q?U.unshift(q):U.push(q);return(0,e.D)(U).pipe((0,se.b)(q=>{const Ce=R.children[q],Oe=Xr(y,q);return this.expandSegmentGroup(A,Oe,Ce,q).pipe((0,ae.U)(mt=>({segment:mt,outlet:q})))}),(0,Ie.R)((q,Ce)=>(q[Ce.outlet]=Ce.segment,q),{}),pt())}expandSegment(A,y,R,U,q,Ce){return(0,e.D)(R).pipe((0,se.b)(Oe=>this.expandSegmentAgainstRoute(A,y,R,Oe,U,q,Ce).pipe((0,ze.K)(Kt=>{if(Kt instanceof xe)return(0,h.of)(null);throw Kt}))),(0,me.P)(Oe=>!!Oe),(0,ze.K)((Oe,mt)=>{if(Hr(Oe))return L(y,U,q)?(0,h.of)(new Nt([],{})):vt(y);throw Oe}))}expandSegmentAgainstRoute(A,y,R,U,q,Ce,Oe){return Y(U,y,q,Ce)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(A,y,U,q,Ce):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,y,R,U,q,Ce):vt(y):vt(y)}expandSegmentAgainstRouteUsingRedirect(A,y,R,U,q,Ce){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,R,U,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(A,y,R,U,q,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,y,R,U){const q=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?en(q):this.lineralizeSegments(R,q).pipe((0,Ge.zg)(Ce=>{const Oe=new Nt(Ce,{});return this.expandSegment(A,Oe,y,Ce,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,y,R,U,q,Ce){const{matched:Oe,consumedSegments:mt,remainingSegments:Kt,positionalParamSegments:In}=Ls(y,U,q);if(!Oe)return vt(y);const tn=this.applyRedirectCommands(mt,U.redirectTo,In);return U.redirectTo.startsWith("/")?en(tn):this.lineralizeSegments(U,tn).pipe((0,Ge.zg)(rr=>this.expandSegment(A,y,R,rr.concat(Kt),Ce,!1)))}matchSegmentAgainstRoute(A,y,R,U,q){return"**"===R.path?(A=Gr(R,A),R.loadChildren?(R._loadedRoutes?(0,h.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(A,R)).pipe((0,ae.U)(Oe=>(R._loadedRoutes=Oe.routes,R._loadedInjector=Oe.injector,new Nt(U,{})))):(0,h.of)(new Nt(U,{}))):ls(y,R,U,A).pipe((0,De.w)(({matched:Ce,consumedSegments:Oe,remainingSegments:mt})=>Ce?this.getChildConfig(A=R._injector??A,R,U).pipe((0,Ge.zg)(In=>{const tn=In.injector??A,rr=In.routes,{segmentGroup:yo,slicedSegments:Di}=co(y,Oe,mt,rr),es=new Nt(yo.segments,yo.children);if(0===Di.length&&es.hasChildren())return this.expandChildren(tn,rr,es).pipe((0,ae.U)(Rf=>new Nt(Oe,Rf)));if(0===rr.length&&0===Di.length)return(0,h.of)(new Nt(Oe,{}));const Ko=ln(R)===q;return this.expandSegment(tn,es,rr,Di,Ko?gt:q,!0).pipe((0,ae.U)(Bi=>new Nt(Oe.concat(Bi.segments),Bi.children)))})):vt(y)))}getChildConfig(A,y,R){return y.children?(0,h.of)({routes:y.children,injector:A}):y.loadChildren?void 0!==y._loadedRoutes?(0,h.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Ec(E,A,y,R){const U=A.canLoad;if(void 0===U||0===U.length)return(0,h.of)(!0);const q=U.map(Ce=>{const Oe=ee(Ce,E);return bt(function Lr(E){return E&&Bn(E.canLoad)}(Oe)?Oe.canLoad(A,y):E.runInContext(()=>Oe(A,y)))});return(0,h.of)(q).pipe(bo(),Ps())}(A,y,R).pipe((0,Ge.zg)(U=>U?this.configLoader.loadChildren(A,y).pipe((0,Ne.b)(q=>{y._loadedRoutes=q.routes,y._loadedInjector=q.injector})):function zn(E){return(0,V._)(Lo(X,3))}())):(0,h.of)({routes:[],injector:A})}lineralizeSegments(A,y){let R=[],U=y.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,h.of)(R);if(U.numberOfChildren>1||!U.children[gt])return(0,V._)(new u.vHH(4e3,X));U=U.children[gt]}}applyRedirectCommands(A,y,R){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),A,R)}applyRedirectCreateUrlTree(A,y,R,U){const q=this.createSegmentGroup(A,y.root,R,U);return new Jt(q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(A,y){const R={};return Ot(A,(U,q)=>{if("string"==typeof U&&U.startsWith(":")){const Oe=U.substring(1);R[q]=y[Oe]}else R[q]=U}),R}createSegmentGroup(A,y,R,U){const q=this.createSegments(A,y.segments,R,U);let Ce={};return Ot(y.children,(Oe,mt)=>{Ce[mt]=this.createSegmentGroup(A,Oe,R,U)}),new Nt(q,Ce)}createSegments(A,y,R,U){return y.map(q=>q.path.startsWith(":")?this.findPosParam(A,q,U):this.findOrReturn(q,R))}findPosParam(A,y,R){const U=R[y.path.substring(1)];if(!U)throw new u.vHH(4001,X);return U}findOrReturn(A,y){let R=0;for(const U of y){if(U.path===A.path)return y.splice(R),U;R++}return A}}class Nr{}class Ci{constructor(A,y,R,U,q,Ce,Oe,mt){this.injector=A,this.rootComponentType=y,this.config=R,this.urlTree=U,this.url=q,this.paramsInheritanceStrategy=Ce,this.relativeLinkResolution=Oe,this.urlSerializer=mt}recognize(){const A=co(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,gt).pipe((0,ae.U)(y=>{if(null===y)return null;const R=new go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Wn(R,y),q=new Po(this.url,U);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(A){const y=A.value,R=Vo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(R.params),y.data=Object.freeze(R.data),A.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(A,y,R,U){return 0===R.segments.length&&R.hasChildren()?this.processChildren(A,y,R):this.processSegment(A,y,R,R.segments,U)}processChildren(A,y,R){return(0,e.D)(Object.keys(R.children)).pipe((0,se.b)(U=>{const q=R.children[U],Ce=Xr(y,U);return this.processSegmentGroup(A,Ce,q,U)}),(0,Ie.R)((U,q)=>U&&q?(U.push(...q),U):null),(0,Qe.o)(U=>null!==U),(0,Fe.d)(null),pt(),(0,ae.U)(U=>{if(null===U)return null;const q=ia(U);return function si(E){E.sort((A,y)=>A.value.outlet===gt?-1:y.value.outlet===gt?1:A.value.outlet.localeCompare(y.value.outlet))}(q),q}))}processSegment(A,y,R,U,q){return(0,e.D)(y).pipe((0,se.b)(Ce=>this.processSegmentAgainstRoute(Ce._injector??A,Ce,R,U,q)),(0,me.P)(Ce=>!!Ce),(0,ze.K)(Ce=>{if(Hr(Ce))return L(R,U,q)?(0,h.of)([]):(0,h.of)(null);throw Ce}))}processSegmentAgainstRoute(A,y,R,U,q){if(y.redirectTo||!Y(y,R,U,q))return(0,h.of)(null);let Ce;if("**"===y.path){const Oe=U.length>0?Ft(U).parameters:{},mt=La(R)+U.length,Kt=new go(U,Oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(y),ln(y),y.component??y._loadedComponent??null,y,Ns(R),mt,Ac(y),mt);Ce=(0,h.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]})}else Ce=ls(R,y,U,A).pipe((0,ae.U)(({matched:Oe,consumedSegments:mt,remainingSegments:Kt,parameters:In})=>{if(!Oe)return null;const tn=La(R)+mt.length;return{snapshot:new go(mt,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(y),ln(y),y.component??y._loadedComponent??null,y,Ns(R),tn,Ac(y),tn),consumedSegments:mt,remainingSegments:Kt}}));return Ce.pipe((0,De.w)(Oe=>{if(null===Oe)return(0,h.of)(null);const{snapshot:mt,consumedSegments:Kt,remainingSegments:In}=Oe;A=y._injector??A;const tn=y._loadedInjector??A,rr=function zo(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(y),{segmentGroup:yo,slicedSegments:Di}=co(R,Kt,In,rr.filter(Ko=>void 0===Ko.redirectTo),this.relativeLinkResolution);if(0===Di.length&&yo.hasChildren())return this.processChildren(tn,rr,yo).pipe((0,ae.U)(Ko=>null===Ko?null:[new Wn(mt,Ko)]));if(0===rr.length&&0===Di.length)return(0,h.of)([new Wn(mt,[])]);const es=ln(y)===q;return this.processSegment(tn,rr,yo,Di,es?gt:q).pipe((0,ae.U)(Ko=>null===Ko?null:[new Wn(mt,Ko)]))}))}}function Ni(E){const A=E.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function ia(E){const A=[],y=new Set;for(const R of E){if(!Ni(R)){A.push(R);continue}const U=A.find(q=>R.value.routeConfig===q.value.routeConfig);void 0!==U?(U.children.push(...R.children),y.add(U)):A.push(R)}for(const R of y){const U=ia(R.children);A.push(new Wn(R.value,U))}return A.filter(R=>!y.has(R))}function Ns(E){let A=E;for(;A._sourceSegment;)A=A._sourceSegment;return A}function La(E){let A=E,y=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,y+=A._segmentIndexShift??0;return y-1}function Dc(E){return E.data||{}}function Ac(E){return E.resolve||{}}function aa(E){return"string"==typeof E.title||null===E.title}function ai(E){return(0,De.w)(A=>{const y=E(A);return y?(0,e.D)(y).pipe((0,ae.U)(()=>A)):(0,h.of)(A)})}let bc=(()=>{class E{buildTitle(y){let R,U=y.root;for(;void 0!==U;)R=this.getResolvedTitleForRoute(U)??R,U=U.children.find(q=>q.outlet===gt);return R}getResolvedTitleForRoute(y){return y.data[Qt]}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=u.Yz7({token:E,factory:function(){return(0,u.f3M)(Xi)},providedIn:"root"}),E})(),Xi=(()=>{class E extends bc{constructor(y){super(),this.title=y}updateTitle(y){const R=this.buildTitle(y);void 0!==R&&this.title.setTitle(R)}}return E.\u0275fac=function(y){return new(y||E)(u.LFG(Xt.Dx))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class ca{}class ko extends class yi{shouldDetach(A){return!1}store(A,y){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,y){return A.routeConfig===y.routeConfig}}{}const Si=new u.OlP("",{providedIn:"root",factory:()=>({})}),lo=new u.OlP("ROUTES");let ci=(()=>{class E{constructor(y,R){this.injector=y,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,h.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const R=bt(y.loadComponent()).pipe((0,Ne.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=q}),(0,we.x)(()=>{this.componentLoaders.delete(y)})),U=new $.c(R,()=>new J.xQ).pipe((0,Yt.x)());return this.componentLoaders.set(y,U),U}loadChildren(y,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,h.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const q=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,ae.U)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(R);let mt,Kt,In=!1;Array.isArray(Oe)?Kt=Oe:(mt=Oe.create(y).injector,Kt=yn(mt.get(lo,[],u.XFs.Self|u.XFs.Optional)));return{routes:Kt.map(Zt),injector:mt}}),(0,we.x)(()=>{this.childrenLoaders.delete(R)})),Ce=new $.c(q,()=>new J.xQ).pipe((0,Yt.x)());return this.childrenLoaders.set(R,Ce),Ce}loadModuleFactoryOrRoutes(y){return bt(y()).pipe((0,Ge.zg)(R=>R instanceof u.YKP||Array.isArray(R)?(0,h.of)(R):(0,e.D)(this.compiler.compileModuleAsync(R))))}}return E.\u0275fac=function(y){return new(y||E)(u.LFG(u.zs3),u.LFG(u.Sil))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Yo{}class ui{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,y){return A}}function Co(E){throw E}function Tf(E,A,y){return A.parse("/")}const Ll={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Fa(){const E=(0,u.f3M)(tr),A=(0,u.f3M)(Fo),y=(0,u.f3M)(re.Ye),R=(0,u.f3M)(u.zs3),U=(0,u.f3M)(u.Sil),q=(0,u.f3M)(lo,{optional:!0})??[],Ce=(0,u.f3M)(Si,{optional:!0})??{},Oe=(0,u.f3M)(Xi),mt=(0,u.f3M)(bc,{optional:!0}),Kt=(0,u.f3M)(Yo,{optional:!0}),In=(0,u.f3M)(ca,{optional:!0}),tn=new Vr(null,E,A,y,R,U,yn(q));return Kt&&(tn.urlHandlingStrategy=Kt),In&&(tn.routeReuseStrategy=In),tn.titleStrategy=mt??Oe,function Fl(E,A){E.errorHandler&&(A.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(A.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(A.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(A.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(A.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(A.canceledNavigationResolution=E.canceledNavigationResolution)}(Ce,tn),tn}let Vr=(()=>{class E{constructor(y,R,U,q,Ce,Oe,mt){this.rootComponentType=y,this.urlSerializer=R,this.rootContexts=U,this.location=q,this.config=mt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new J.xQ,this.errorHandler=Co,this.malformedUriErrorHandler=Tf,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,h.of)(void 0),this.urlHandlingStrategy=new ui,this.routeReuseStrategy=new ko,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ce.get(ci),this.configLoader.onLoadEndListener=rr=>this.triggerEvent(new qe(rr)),this.configLoader.onLoadStartListener=rr=>this.triggerEvent(new lt(rr)),this.ngModule=Ce.get(u.h0i),this.console=Ce.get(u.c2e);const tn=Ce.get(u.R0b);this.isNgZoneEnabled=tn instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(mt),this.currentUrlTree=function je(){return new Jt(new Nt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hi(this.currentUrlTree,this.rootComponentType),this.transitions=new N.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const R=this.events;return y.pipe((0,Le.h)(U=>0!==U.id),(0,ae.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,De.w)(U=>{let q=!1,Ce=!1;return(0,h.of)(U).pipe((0,Ne.b)(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.rawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(Oe=>{const mt=this.browserUrlTree.toString(),Kt=!this.navigated||Oe.extractedUrl.toString()!==mt||mt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Kt)&&this.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl))return ks(Oe.source)&&(this.browserUrlTree=Oe.extractedUrl),(0,h.of)(Oe).pipe((0,De.w)(tn=>{const rr=this.transitions.getValue();return R.next(new Rn(tn.id,this.serializeUrl(tn.extractedUrl),tn.source,tn.restoredState)),rr!==this.transitions.getValue()?H.E:Promise.resolve(tn)}),function Mr(E,A,y,R){return(0,De.w)(U=>function Kn(E,A,y,R,U){return new Hn(E,A,y,R,U).apply()}(E,A,y,U.extractedUrl,R).pipe((0,ae.U)(q=>({...U,urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ne.b)(tn=>{this.currentNavigation={...this.currentNavigation,finalUrl:tn.urlAfterRedirects},U.urlAfterRedirects=tn.urlAfterRedirects}),function xo(E,A,y,R,U,q){return(0,Ge.zg)(Ce=>function Mo(E,A,y,R,U,q,Ce="emptyOnly",Oe="legacy"){return new Ci(E,A,y,R,U,Ce,Oe,q).recognize().pipe((0,De.w)(mt=>null===mt?function oo(E){return new I.y(A=>A.error(E))}(new Nr):(0,h.of)(mt)))}(E,A,y,Ce.urlAfterRedirects,R.serialize(Ce.urlAfterRedirects),R,U,q).pipe((0,ae.U)(Oe=>({...Ce,targetSnapshot:Oe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ne.b)(tn=>{if(U.targetSnapshot=tn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!tn.extras.skipLocationChange){const yo=this.urlHandlingStrategy.merge(tn.urlAfterRedirects,tn.rawUrl);this.setBrowserUrl(yo,tn)}this.browserUrlTree=tn.urlAfterRedirects}const rr=new Br(tn.id,this.serializeUrl(tn.extractedUrl),this.serializeUrl(tn.urlAfterRedirects),tn.targetSnapshot);R.next(rr)}));if(Kt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:rr,extractedUrl:yo,source:Di,restoredState:es,extras:Ko}=Oe,da=new Rn(rr,this.serializeUrl(yo),Di,es);R.next(da);const Bi=hi(yo,this.rootComponentType).snapshot;return U={...Oe,targetSnapshot:Bi,urlAfterRedirects:yo,extras:{...Ko,skipLocationChange:!1,replaceUrl:!1}},(0,h.of)(U)}return this.rawUrlTree=Oe.rawUrl,Oe.resolve(null),H.E}),(0,Ne.b)(Oe=>{const mt=new wr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(mt)}),(0,ae.U)(Oe=>U={...Oe,guards:fe(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)}),function Dr(E,A){return(0,Ge.zg)(y=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:q,canDeactivateChecks:Ce}}=y;return 0===Ce.length&&0===q.length?(0,h.of)({...y,guardsResult:!0}):function ii(E,A,y,R){return(0,e.D)(E).pipe((0,Ge.zg)(U=>function Iu(E,A,y,R,U){const q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,h.of)(!0);const Ce=q.map(Oe=>{const mt=Kr(A)??U,Kt=ee(Oe,mt);return bt(function w(E){return E&&Bn(E.canDeactivate)}(Kt)?Kt.canDeactivate(E,A,y,R):mt.runInContext(()=>Kt(E,A,y,R))).pipe((0,me.P)())});return(0,h.of)(Ce).pipe(bo())}(U.component,U.route,y,A,R)),(0,me.P)(U=>!0!==U,!0))}(Ce,R,U,E).pipe((0,Ge.zg)(Oe=>Oe&&function ro(E){return"boolean"==typeof E}(Oe)?function Qi(E,A,y,R){return(0,e.D)(A).pipe((0,se.b)(U=>(0,k.z)(function Fi(E,A){return null!==E&&A&&A(new dt(E)),(0,h.of)(!0)}(U.route.parent,R),function Fr(E,A){return null!==E&&A&&A(new Mt(E)),(0,h.of)(!0)}(U.route,R),function wu(E,A,y){const R=A[A.length-1],q=A.slice(0,A.length-1).reverse().map(Ce=>function Ue(E){const A=E.routeConfig?E.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:E,guards:A}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>(0,M.P)(()=>{const Oe=Ce.guards.map(mt=>{const Kt=Kr(Ce.node)??y,In=ee(mt,Kt);return bt(function F(E){return E&&Bn(E.canActivateChild)}(In)?In.canActivateChild(R,E):Kt.runInContext(()=>In(R,E))).pipe((0,me.P)())});return(0,h.of)(Oe).pipe(bo())}));return(0,h.of)(q).pipe(bo())}(E,U.path,y),function ao(E,A,y){const R=A.routeConfig?A.routeConfig.canActivate:null;if(!R||0===R.length)return(0,h.of)(!0);const U=R.map(q=>(0,M.P)(()=>{const Ce=Kr(A)??y,Oe=ee(q,Ce);return bt(function B(E){return E&&Bn(E.canActivate)}(Oe)?Oe.canActivate(A,E):Ce.runInContext(()=>Oe(A,E))).pipe((0,me.P)())}));return(0,h.of)(U).pipe(bo())}(E,U.route,y))),(0,me.P)(U=>!0!==U,!0))}(R,q,E,A):(0,h.of)(Oe)),(0,ae.U)(Oe=>({...y,guardsResult:Oe})))})}(this.ngModule.injector,Oe=>this.triggerEvent(Oe)),(0,Ne.b)(Oe=>{if(U.guardsResult=Oe.guardsResult,Z(Oe.guardsResult))throw ni(0,Oe.guardsResult);const mt=new qr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.triggerEvent(mt)}),(0,Le.h)(Oe=>!!Oe.guardsResult||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"",3),!1)),ai(Oe=>{if(Oe.guards.canActivateChecks.length)return(0,h.of)(Oe).pipe((0,Ne.b)(mt=>{const Kt=new Er(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(Kt)}),(0,De.w)(mt=>{let Kt=!1;return(0,h.of)(mt).pipe(function Zr(E,A){return(0,Ge.zg)(y=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=y;if(!U.length)return(0,h.of)(y);let q=0;return(0,e.D)(U).pipe((0,se.b)(Ce=>function uo(E,A,y,R){const U=E.routeConfig,q=E._resolve;return void 0!==U?.title&&!aa(U)&&(q[Qt]=U.title),function fs(E,A,y,R){const U=function sa(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===U.length)return(0,h.of)({});const q={};return(0,e.D)(U).pipe((0,Ge.zg)(Ce=>function Tc(E,A,y,R){const U=Kr(A)??R,q=ee(E,U);return bt(q.resolve?q.resolve(A,y):U.runInContext(()=>q(A,y)))}(E[Ce],A,y,R).pipe((0,me.P)(),(0,Ne.b)(Oe=>{q[Ce]=Oe}))),ne(1),(0,rt.h)(q),(0,ze.K)(Ce=>Hr(Ce)?H.E:(0,V._)(Ce)))}(q,E,A,R).pipe((0,ae.U)(Ce=>(E._resolvedData=Ce,E.data=Vo(E,y).resolve,U&&aa(U)&&(E.data[Qt]=U.title),null)))}(Ce.route,R,E,A)),(0,Ne.b)(()=>q++),ne(1),(0,Ge.zg)(Ce=>q===U.length?(0,h.of)(y):H.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ne.b)({next:()=>Kt=!0,complete:()=>{Kt||(this.restoreHistory(mt),this.cancelNavigationTransition(mt,"",2))}}))}),(0,Ne.b)(mt=>{const Kt=new Se(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);this.triggerEvent(Kt)}))}),ai(Oe=>{const mt=Kt=>{const In=[];Kt.routeConfig?.loadComponent&&!Kt.routeConfig._loadedComponent&&In.push(this.configLoader.loadComponent(Kt.routeConfig).pipe((0,Ne.b)(tn=>{Kt.component=tn}),(0,ae.U)(()=>{})));for(const tn of Kt.children)In.push(...mt(tn));return In};return(0,P.aj)(mt(Oe.targetSnapshot.root)).pipe((0,Fe.d)(),(0,Ze.q)(1))}),ai(()=>this.afterPreactivation()),(0,ae.U)(Oe=>{const mt=function mi(E,A,y){const R=To(E,A._root,y?y._root:void 0);return new Yr(R,A)}(this.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return U={...Oe,targetRouterState:mt}}),(0,Ne.b)(Oe=>{this.currentUrlTree=Oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.urlAfterRedirects,Oe.rawUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe),this.browserUrlTree=Oe.urlAfterRedirects)}),((E,A,y)=>(0,ae.U)(R=>(new No(A,R.targetRouterState,R.currentRouterState,y).activate(E),R)))(this.rootContexts,this.routeReuseStrategy,Oe=>this.triggerEvent(Oe)),(0,Ne.b)({next(){q=!0},complete(){q=!0}}),(0,we.x)(()=>{q||Ce||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),(0,ze.K)(Oe=>{if(Ce=!0,Rr(Oe)){vi(Oe)||(this.navigated=!0,this.restoreHistory(U,!0));const mt=new Xn(U.id,this.serializeUrl(U.extractedUrl),Oe.message,Oe.cancellationCode);if(R.next(mt),vi(Oe)){const Kt=this.urlHandlingStrategy.merge(Oe.url,this.rawUrlTree),In={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ks(U.source)};this.scheduleNavigation(Kt,"imperative",null,In,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const mt=new nr(U.id,this.serializeUrl(U.extractedUrl),Oe,U.targetSnapshot??void 0);R.next(mt);try{U.resolve(this.errorHandler(Oe))}catch(Kt){U.reject(Kt)}}return H.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const R="popstate"===y.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const U={replaceUrl:!0},q=y.state?.navigationId?y.state:null;if(q){const Oe={...q};delete Oe.navigationId,delete Oe.\u0275routerPageId,0!==Object.keys(Oe).length&&(U.state=Oe)}const Ce=this.parseUrl(y.url);this.scheduleNavigation(Ce,R,q,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(Zt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,R={}){const{relativeTo:U,queryParams:q,fragment:Ce,queryParamsHandling:Oe,preserveFragment:mt}=R,Kt=U||this.routerState.root,In=mt?this.currentUrlTree.fragment:Ce;let tn=null;switch(Oe){case"merge":tn={...this.currentUrlTree.queryParams,...q};break;case"preserve":tn=this.currentUrlTree.queryParams;break;default:tn=q||null}return null!==tn&&(tn=this.removeEmptyProps(tn)),Gt(Kt,this.currentUrlTree,y,tn,In??null)}navigateByUrl(y,R={skipLocationChange:!1}){const U=Z(y)?y:this.parseUrl(y),q=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,R)}navigate(y,R={skipLocationChange:!1}){return function ki(E){for(let A=0;A<E.length;A++){if(null==E[A])throw new u.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,R),R)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let R;try{R=this.urlSerializer.parse(y)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,y)}return R}isActive(y,R){let U;if(U=!0===R?{...Ll}:!1===R?{...Pu}:R,Z(y))return nn(this.currentUrlTree,y,U);const q=this.parseUrl(y);return nn(this.currentUrlTree,q,U)}removeEmptyProps(y){return Object.keys(y).reduce((R,U)=>{const q=y[U];return null!=q&&(R[U]=q),R},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new ur(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,R,U,q,Ce){if(this.disposed)return Promise.resolve(!1);let Oe,mt,Kt;Ce?(Oe=Ce.resolve,mt=Ce.reject,Kt=Ce.promise):Kt=new Promise((rr,yo)=>{Oe=rr,mt=yo});const In=++this.navigationId;let tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),tn=U&&U.\u0275routerPageId?U.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):tn=0,this.setTransition({id:In,targetPageId:tn,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:q,resolve:Oe,reject:mt,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(rr=>Promise.reject(rr))}setBrowserUrl(y,R){const U=this.urlSerializer.serialize(y),q={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl?this.location.replaceState(U,"",q):this.location.go(U,"",q)}restoreHistory(y,R=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,R,U){const q=new Xn(y.id,this.serializeUrl(y.extractedUrl),R,U);this.triggerEvent(q),y.resolve(!1)}generateNgRouterState(y,R){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:R}:{navigationId:y}}}return E.\u0275fac=function(y){u.$Z()},E.\u0275prov=u.Yz7({token:E,factory:function(){return Fa()},providedIn:"root"}),E})();function ks(E){return"imperative"!==E}let Na=(()=>{class E{constructor(y,R,U,q,Ce){this.router=y,this.route=R,this.tabIndexAttribute=U,this.renderer=q,this.el=Ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new J.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const R=this.renderer,U=this.el.nativeElement;null!==y?R.setAttribute(U,"tabindex",y):R.removeAttribute(U,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(y){return new(y||E)(u.Y36(Vr),u.Y36(Ir),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},E.\u0275dir=u.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,R){1&y&&u.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),E})(),ua=(()=>{class E{constructor(y,R,U){this.router=y,this.route=R,this.locationStrategy=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new J.xQ,this.subscription=y.events.subscribe(q=>{q instanceof ur&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,R,U,q,Ce){return!!(0!==y||R||U||q||Ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(y){return new(y||E)(u.Y36(Vr),u.Y36(Ir),u.Y36(re.S$))},E.\u0275dir=u.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,R){1&y&&u.NdJ("click",function(q){return R.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&y&&u.uIk("target",R.target)("href",R.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),E})(),Zo=(()=>{class E{constructor(y,R,U,q,Ce,Oe){this.router=y,this.element=R,this.renderer=U,this.cdr=q,this.link=Ce,this.linkWithHref=Oe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=y.events.subscribe(mt=>{mt instanceof ur&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,this.linksWithHrefs.changes,(0,h.of)(null)).pipe((0,zt.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,e.D)(y).pipe((0,zt.J)()).subscribe(R=>{this.isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(y){const R=Array.isArray(y)?y:y.split(" ");this.classes=R.filter(U=>!!U)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(R=>{y?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const R=function ps(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&y.isActive(U.urlTree,R)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return E.\u0275fac=function(y){return new(y||E)(u.Y36(Vr),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Na,8),u.Y36(ua,8))},E.\u0275dir=u.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(y,R,U){if(1&y&&(u.Suo(U,Na,5),u.Suo(U,ua,5)),2&y){let q;u.iGM(q=u.CRH())&&(R.links=q),u.iGM(q=u.CRH())&&(R.linksWithHrefs=q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),E})();class xc{}let Mf=(()=>{class E{constructor(y,R,U,q,Ce){this.router=y,this.injector=U,this.preloadingStrategy=q,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.h)(y=>y instanceof ur),(0,se.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,R){const U=[];for(const q of R){q.providers&&!q._injector&&(q._injector=(0,u.MMx)(q.providers,y,`Route: ${q.path}`));const Ce=q._injector??y,Oe=q._loadedInjector??Ce;q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent?U.push(this.preloadConfig(Ce,q)):(q.children||q._loadedRoutes)&&U.push(this.processRoutes(Oe,q.children??q._loadedRoutes))}return(0,e.D)(U).pipe((0,zt.J)())}preloadConfig(y,R){return this.preloadingStrategy.preload(R,()=>{let U;U=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(y,R):(0,h.of)(null);const q=U.pipe((0,Ge.zg)(Ce=>null===Ce?(0,h.of)(void 0):(R._loadedRoutes=Ce.routes,R._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??y,Ce.routes))));if(R.loadComponent&&!R._loadedComponent){const Ce=this.loader.loadComponent(R);return(0,e.D)([q,Ce]).pipe((0,zt.J)())}return q})}}return E.\u0275fac=function(y){return new(y||E)(u.LFG(Vr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(xc),u.LFG(ci))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ka=new u.OlP("");let Ua=(()=>{class E{constructor(y,R,U={}){this.router=y,this.viewportScroller=R,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ur&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ue&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,R){this.router.triggerEvent(new ue(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(y){u.$Z()},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac}),E})();function gs(E,A){return{\u0275kind:E,\u0275providers:A}}function Ba(E){return[{provide:lo,multi:!0,useValue:E}]}function xf(){const E=(0,u.f3M)(u.zs3);return A=>{const y=E.get(u.z2F);if(A!==y.components[0])return;const R=E.get(Vr),U=E.get(Lu);1===E.get(ar)&&R.initialNavigation(),E.get(If,null,u.XFs.Optional)?.setUpPreloading(),E.get(ka,null,u.XFs.Optional)?.init(),R.resetRootComponentType(y.componentTypes[0]),U.closed||(U.next(),U.unsubscribe())}}const Lu=new u.OlP("",{factory:()=>new J.xQ}),ar=new u.OlP("",{providedIn:"root",factory:()=>1});const If=new u.OlP("");function Dh(E){return gs(0,[{provide:If,useExisting:Mf},{provide:xc,useExisting:E}])}const ku=new u.OlP("ROUTER_FORROOT_GUARD"),Ah=[re.Ye,{provide:tr,useClass:rn},{provide:Vr,useFactory:Fa},Fo,{provide:Ir,useFactory:function hs(E){return E.routerState.root},deps:[Vr]},ci];function eo(){return new u.PXZ("Router",Vr)}let Va=(()=>{class E{constructor(y){}static forRoot(y,R){return{ngModule:E,providers:[Ah,[],Ba(y),{provide:ku,useFactory:Wo,deps:[[Vr,new u.FiY,new u.tp0]]},{provide:Si,useValue:R||{}},R?.useHash?{provide:re.S$,useClass:re.Do}:{provide:re.S$,useClass:re.b0},{provide:ka,useFactory:()=>{const E=(0,u.f3M)(Vr),A=(0,u.f3M)(re.EM),y=(0,u.f3M)(Si);return y.scrollOffset&&A.setOffset(y.scrollOffset),new Ua(E,A,y)}},R?.preloadingStrategy?Dh(R.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:eo},R?.initialNavigation?Ei(R):[],[{provide:Uu,useFactory:xf},{provide:u.tb,multi:!0,useExisting:Uu}]]}}static forChild(y){return{ngModule:E,providers:[Ba(y)]}}}return E.\u0275fac=function(y){return new(y||E)(u.LFG(ku,8))},E.\u0275mod=u.oAB({type:E}),E.\u0275inj=u.cJS({imports:[ri]}),E})();function Wo(E){return"guarded"}function Ei(E){return["disabled"===E.initialNavigation?gs(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const A=(0,u.f3M)(Vr);return()=>{A.setUpLocationChangeListener()}}},{provide:ar,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?gs(2,[{provide:ar,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:A=>{const y=A.get(re.V_,Promise.resolve());let R=!1;return()=>y.then(()=>new Promise(q=>{const Ce=A.get(Vr),Oe=A.get(Lu);(function U(q){A.get(Vr).events.pipe((0,Le.h)(Oe=>Oe instanceof ur||Oe instanceof Xn||Oe instanceof nr),(0,ae.U)(Oe=>Oe instanceof ur||Oe instanceof Xn&&(0===Oe.code||1===Oe.code)&&null),(0,Le.h)(Oe=>null!==Oe),(0,Ze.q)(1)).subscribe(()=>{q()})})(()=>{q(!0),R=!0}),Ce.afterPreactivation=()=>(q(!0),R||Oe.closed?(0,h.of)(void 0):Oe),Ce.initialNavigation()}))}}]).\u0275providers:[]]}const Uu=new u.OlP("")},1848:(de,Q,m)=>{"use strict";m.d(Q,{Wr:()=>Fe,JB:()=>he});var u=m(6895),e=m(4650),h=m(8514),N=m(1737),D=m(3753),P=m(1086),k=m(1221),M=m(8929),G=m(6498),V=m(7876);const I=new G.y(V.Z);var $=m(6787),J=m(4850),re=m(2198),ae=m(7545),De=m(2536),Xe=m(2986),Le=m(2994),Ge=m(943);const me="Service workers are disabled or not supported by this browser";class Ne{constructor(pt){if(this.serviceWorker=pt,pt){const rt=(0,D.R)(pt,"controllerchange").pipe((0,J.U)(()=>pt.controller)),we=(0,h.P)(()=>(0,P.of)(pt.controller)),Yt=(0,k.z)(we,rt);this.worker=Yt.pipe((0,re.h)(Wt=>!!Wt)),this.registration=this.worker.pipe((0,ae.w)(()=>pt.getRegistration()));const Qt=(0,D.R)(pt,"message").pipe((0,J.U)(Wt=>Wt.data)).pipe((0,re.h)(Wt=>Wt&&Wt.type)).pipe(function Ze(Re){return Re?(0,De.O)(()=>new M.xQ,Re):(0,De.O)(new M.xQ)}());Qt.connect(),this.events=Qt}else this.worker=this.events=this.registration=function se(Re){return(0,h.P)(()=>(0,N._)(new Error(Re)))}(me)}postMessage(pt,Qe){return this.worker.pipe((0,Xe.q)(1),(0,Le.b)(rt=>{rt.postMessage({action:pt,...Qe})})).toPromise().then(()=>{})}postMessageWithOperation(pt,Qe,rt){const we=this.waitForOperationCompleted(rt),Yt=this.postMessage(pt,Qe);return Promise.all([Yt,we]).then(([,zt])=>zt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(pt){let Qe;return Qe="string"==typeof pt?rt=>rt.type===pt:rt=>pt.includes(rt.type),this.events.pipe((0,re.h)(Qe))}nextEventOfType(pt){return this.eventsOfType(pt).pipe((0,Xe.q)(1))}waitForOperationCompleted(pt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,re.h)(Qe=>Qe.nonce===pt),(0,Xe.q)(1),(0,J.U)(Qe=>{if(void 0!==Qe.result)return Qe.result;throw new Error(Qe.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ze=(()=>{class Re{constructor(Qe){if(this.sw=Qe,this.subscriptionChanges=new M.xQ,!Qe.isEnabled)return this.messages=I,this.notificationClicks=I,void(this.subscription=I);this.messages=this.sw.eventsOfType("PUSH").pipe((0,J.U)(we=>we.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,J.U)(we=>we.data)),this.pushManager=this.sw.registration.pipe((0,J.U)(we=>we.pushManager));const rt=this.pushManager.pipe((0,ae.w)(we=>we.getSubscription()));this.subscription=(0,$.T)(rt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Qe){if(!this.sw.isEnabled)return Promise.reject(new Error(me));const rt={userVisibleOnly:!0};let we=this.decodeBase64(Qe.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Yt=new Uint8Array(new ArrayBuffer(we.length));for(let zt=0;zt<we.length;zt++)Yt[zt]=we.charCodeAt(zt);return rt.applicationServerKey=Yt,this.pushManager.pipe((0,ae.w)(zt=>zt.subscribe(rt)),(0,Xe.q)(1)).toPromise().then(zt=>(this.subscriptionChanges.next(zt),zt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Xe.q)(1),(0,ae.w)(rt=>{if(null===rt)throw new Error("Not subscribed to push notifications.");return rt.unsubscribe().then(we=>{if(!we)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(me))}decodeBase64(Qe){return atob(Qe)}}return Re.\u0275fac=function(Qe){return new(Qe||Re)(e.LFG(Ne))},Re.\u0275prov=e.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Ie=(()=>{class Re{constructor(Qe){if(this.sw=Qe,!Qe.isEnabled)return this.versionUpdates=I,this.available=I,this.activated=I,void(this.unrecoverable=I);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,re.h)(rt=>"VERSION_READY"===rt.type),(0,J.U)(rt=>({type:"UPDATE_AVAILABLE",current:rt.currentVersion,available:rt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(me));const Qe=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Qe},Qe)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(me));const Qe=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Qe},Qe)}}return Re.\u0275fac=function(Qe){return new(Qe||Re)(e.LFG(Ne))},Re.\u0275prov=e.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class he{}const pe=new e.OlP("NGSW_REGISTER_SCRIPT");function ne(Re,pt,Qe,rt){return()=>{if(!(0,u.NF)(rt)||!("serviceWorker"in navigator)||!1===Qe.enabled)return;let we;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Qe.registrationStrategy)we=Qe.registrationStrategy();else{const[zt,...Xt]=(Qe.registrationStrategy||"registerWhenStable:30000").split(":");switch(zt){case"registerImmediately":we=(0,P.of)(null);break;case"registerWithDelay":we=_e(+Xt[0]||0);break;case"registerWhenStable":we=Xt[0]?(0,$.T)(be(Re),_e(+Xt[0])):be(Re);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Qe.registrationStrategy}`)}}Re.get(e.R0b).runOutsideAngular(()=>we.pipe((0,Xe.q)(1)).subscribe(()=>navigator.serviceWorker.register(pt,{scope:Qe.scope}).catch(zt=>console.error("Service worker registration failed with:",zt))))}}function _e(Re){return(0,P.of)(null).pipe((0,Ge.g)(Re))}function be(Re){return Re.get(e.z2F).isStable.pipe((0,re.h)(Qe=>Qe))}function oe(Re,pt){return new Ne((0,u.NF)(pt)&&!1!==Re.enabled?navigator.serviceWorker:void 0)}let Fe=(()=>{class Re{static register(Qe,rt={}){return{ngModule:Re,providers:[{provide:pe,useValue:Qe},{provide:he,useValue:rt},{provide:Ne,useFactory:oe,deps:[he,e.Lbi]},{provide:e.ip1,useFactory:ne,deps:[e.zs3,pe,he,e.Lbi],multi:!0}]}}}return Re.\u0275fac=function(Qe){return new(Qe||Re)},Re.\u0275mod=e.oAB({type:Re}),Re.\u0275inj=e.cJS({providers:[ze,Ie]}),Re})()},7039:(de,Q,m)=>{"use strict";m.d(Q,{jq:()=>An,w9:()=>Qn,A0:()=>ie});var u=m(4650),e=m(4006),h=m(7625),N=m(7568),D=m(1059),P=m(2994),k=m(13),M=m(2198),G=m(4850),V=m(6686),H=m(2268);const J=new class $ extends H.v{flush(Z){this.active=!0,this.scheduled=void 0;const{actions:x}=this;let le,He=-1,ct=x.length;Z=Z||x.shift();do{if(le=Z.execute(Z.state,Z.delay))break}while(++He<ct&&(Z=x.shift()));if(this.active=!1,le){for(;++He<ct&&(Z=x.shift());)Z.unsubscribe();throw le}}}(class I extends V.o{constructor(Z,x){super(Z,x),this.scheduler=Z,this.work=x}requestAsyncId(Z,x,le=0){return null!==le&&le>0?super.requestAsyncId(Z,x,le):(Z.actions.push(this),Z.scheduled||(Z.scheduled=requestAnimationFrame(()=>Z.flush(null))))}recycleAsyncId(Z,x,le=0){if(null!==le&&le>0||null===le&&this.delay>0)return super.recycleAsyncId(Z,x,le);0===Z.actions.length&&(cancelAnimationFrame(x),Z.scheduled=void 0)}});var ae=m(8139),De=m(8929),Ze=m(3753),Xe=m(6787),Le=m(6895);const Ge=["content"],me=["scroll"],se=["padding"],Ne=function(z){return{searchTerm:z}};function ze(z,Z){if(1&z&&(u.TgZ(0,"div",6),u.GkF(1,7),u.qZA()),2&z){const x=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",x.headerTemplate)("ngTemplateOutletContext",u.VKq(2,Ne,x.filterValue))}}function Ie(z,Z){if(1&z&&(u.TgZ(0,"div",8),u.GkF(1,7),u.qZA()),2&z){const x=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",x.footerTemplate)("ngTemplateOutletContext",u.VKq(2,Ne,x.filterValue))}}const he=["*"],pe=["searchInput"];function ne(z,Z){if(1&z){const x=u.EpF();u.TgZ(0,"span",15),u.NdJ("click",function(){u.CHM(x);const He=u.oxw().$implicit,ct=u.oxw(2);return u.KtG(ct.unselect(He))}),u._uU(1,"\xd7"),u.qZA(),u._UZ(2,"span",16)}if(2&z){const x=u.oxw().$implicit,le=u.oxw(2);u.xp6(2),u.Q6J("ngItemLabel",x.label)("escape",le.escapeHTML)}}function _e(z,Z){}const be=function(z,Z,x){return{item:z,clear:Z,label:x}};function oe(z,Z){if(1&z&&(u.TgZ(0,"div",12),u.YNc(1,ne,3,2,"ng-template",null,13,u.W1O),u.YNc(3,_e,0,0,"ng-template",14),u.qZA()),2&z){const x=Z.$implicit,le=u.MAs(2),He=u.oxw(2);u.ekj("ng-value-disabled",x.disabled),u.xp6(3),u.Q6J("ngTemplateOutlet",He.labelTemplate||le)("ngTemplateOutletContext",u.kEZ(4,be,x.value,He.clearItem,x.label))}}function Fe(z,Z){if(1&z&&(u.ynx(0),u.YNc(1,oe,4,8,"div",11),u.BQk()),2&z){const x=u.oxw();u.xp6(1),u.Q6J("ngForOf",x.selectedItems)("ngForTrackBy",x.trackByOption)}}function Re(z,Z){}const pt=function(z,Z){return{items:z,clear:Z}};function Qe(z,Z){if(1&z&&u.YNc(0,Re,0,0,"ng-template",14),2&z){const x=u.oxw();u.Q6J("ngTemplateOutlet",x.multiLabelTemplate)("ngTemplateOutletContext",u.WLB(2,pt,x.selectedValues,x.clearItem))}}function rt(z,Z){1&z&&u._UZ(0,"div",19)}function we(z,Z){}function Yt(z,Z){if(1&z&&(u.ynx(0),u.YNc(1,rt,1,0,"ng-template",null,17,u.W1O),u.YNc(3,we,0,0,"ng-template",18),u.BQk()),2&z){const x=u.MAs(2),le=u.oxw();u.xp6(3),u.Q6J("ngTemplateOutlet",le.loadingSpinnerTemplate||x)}}function zt(z,Z){if(1&z&&(u.TgZ(0,"span",20)(1,"span",21),u._uU(2,"\xd7"),u.qZA()()),2&z){const x=u.oxw();u.s9C("title",x.clearAllText)}}function Xt(z,Z){if(1&z&&u._UZ(0,"span",27),2&z){const x=u.oxw().$implicit,le=u.oxw(2);u.Q6J("ngItemLabel",x.label)("escape",le.escapeHTML)}}function gt(z,Z){}const Qt=function(z,Z,x,le){return{item:z,item$:Z,index:x,searchTerm:le}};function Wt(z,Z){if(1&z){const x=u.EpF();u.TgZ(0,"div",25),u.NdJ("click",function(){const ct=u.CHM(x).$implicit,Gt=u.oxw(2);return u.KtG(Gt.toggleItem(ct))})("mouseover",function(){const ct=u.CHM(x).$implicit,Gt=u.oxw(2);return u.KtG(Gt.onItemHover(ct))}),u.YNc(1,Xt,1,2,"ng-template",null,26,u.W1O),u.YNc(3,gt,0,0,"ng-template",14),u.qZA()}if(2&z){const x=Z.$implicit,le=u.MAs(2),He=u.oxw(2);u.ekj("ng-option-disabled",x.disabled)("ng-option-selected",x.selected)("ng-optgroup",x.children)("ng-option",!x.children)("ng-option-child",!!x.parent)("ng-option-marked",x===He.itemsList.markedItem),u.uIk("role",x.children?"group":"option")("aria-selected",x.selected)("id",null==x?null:x.htmlId),u.xp6(3),u.Q6J("ngTemplateOutlet",x.children?He.optgroupTemplate||le:He.optionTemplate||le)("ngTemplateOutletContext",u.l5B(17,Qt,x.value,x,x.index,He.searchTerm))}}function Lt(z,Z){if(1&z&&(u.TgZ(0,"span")(1,"span",30),u._uU(2),u.qZA(),u._uU(3),u.qZA()),2&z){const x=u.oxw(3);u.xp6(2),u.Oqu(x.addTagText),u.xp6(1),u.hij('"',x.searchTerm,'"')}}function wt(z,Z){}function Pn(z,Z){if(1&z){const x=u.EpF();u.TgZ(0,"div",28),u.NdJ("mouseover",function(){u.CHM(x);const He=u.oxw(2);return u.KtG(He.itemsList.unmarkItem())})("click",function(){u.CHM(x);const He=u.oxw(2);return u.KtG(He.selectTag())}),u.YNc(1,Lt,4,2,"ng-template",null,29,u.W1O),u.YNc(3,wt,0,0,"ng-template",14),u.qZA()}if(2&z){const x=u.MAs(2),le=u.oxw(2);u.ekj("ng-option-marked",!le.itemsList.markedItem),u.xp6(3),u.Q6J("ngTemplateOutlet",le.tagTemplate||x)("ngTemplateOutletContext",u.VKq(4,Ne,le.searchTerm))}}function Rt(z,Z){if(1&z&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&z){const x=u.oxw(3);u.xp6(1),u.Oqu(x.notFoundText)}}function cn(z,Z){}function yn(z,Z){if(1&z&&(u.ynx(0),u.YNc(1,Rt,2,1,"ng-template",null,31,u.W1O),u.YNc(3,cn,0,0,"ng-template",14),u.BQk()),2&z){const x=u.MAs(2),le=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",le.notFoundTemplate||x)("ngTemplateOutletContext",u.VKq(2,Ne,le.searchTerm))}}function Ft(z,Z){if(1&z&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&z){const x=u.oxw(3);u.xp6(1),u.Oqu(x.typeToSearchText)}}function Zn(z,Z){}function Ot(z,Z){if(1&z&&(u.ynx(0),u.YNc(1,Ft,2,1,"ng-template",null,33,u.W1O),u.YNc(3,Zn,0,0,"ng-template",18),u.BQk()),2&z){const x=u.MAs(2),le=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",le.typeToSearchTemplate||x)}}function bt(z,Z){if(1&z&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&z){const x=u.oxw(3);u.xp6(1),u.Oqu(x.loadingText)}}function ke(z,Z){}function je(z,Z){if(1&z&&(u.ynx(0),u.YNc(1,bt,2,1,"ng-template",null,34,u.W1O),u.YNc(3,ke,0,0,"ng-template",14),u.BQk()),2&z){const x=u.MAs(2),le=u.oxw(2);u.xp6(3),u.Q6J("ngTemplateOutlet",le.loadingTextTemplate||x)("ngTemplateOutletContext",u.VKq(2,Ne,le.searchTerm))}}function Dt(z,Z){if(1&z){const x=u.EpF();u.TgZ(0,"ng-dropdown-panel",22),u.NdJ("update",function(He){u.CHM(x);const ct=u.oxw();return u.KtG(ct.viewPortItems=He)})("scroll",function(He){u.CHM(x);const ct=u.oxw();return u.KtG(ct.scroll.emit(He))})("scrollToEnd",function(He){u.CHM(x);const ct=u.oxw();return u.KtG(ct.scrollToEnd.emit(He))})("outsideClick",function(){u.CHM(x);const He=u.oxw();return u.KtG(He.close())}),u.ynx(1),u.YNc(2,Wt,4,22,"div",23),u.YNc(3,Pn,4,6,"div",24),u.BQk(),u.YNc(4,yn,4,4,"ng-container",3),u.YNc(5,Ot,4,1,"ng-container",3),u.YNc(6,je,4,4,"ng-container",3),u.qZA()}if(2&z){const x=u.oxw();u.ekj("ng-select-multiple",x.multiple),u.Q6J("virtualScroll",x.virtualScroll)("bufferAmount",x.bufferAmount)("appendTo",x.appendTo)("position",x.dropdownPosition)("headerTemplate",x.headerTemplate)("footerTemplate",x.footerTemplate)("filterValue",x.searchTerm)("items",x.itemsList.filteredItems)("markedItem",x.itemsList.markedItem)("ngClass",x.appendTo?x.classes:null)("id",x.dropdownId),u.xp6(2),u.Q6J("ngForOf",x.viewPortItems)("ngForTrackBy",x.trackByOption),u.xp6(1),u.Q6J("ngIf",x.showAddTag),u.xp6(1),u.Q6J("ngIf",x.showNoItemsFound()),u.xp6(1),u.Q6J("ngIf",x.showTypeToSearch()),u.xp6(1),u.Q6J("ngIf",x.loading&&0===x.itemsList.filteredItems.length)}}const St=/[&<>"']/g,nn=RegExp(St.source),_n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ae(z){return null!=z}function Ee(z){return"object"==typeof z&&Ae(z)}function at(z){return z instanceof Function}let Jt=(()=>{class z{constructor(x){this.element=x,this.escape=!0}ngOnChanges(x){this.element.nativeElement.innerHTML=this.escape?function it(z){return z&&nn.test(z)?z.replace(St,Z=>_n[Z]):z}(this.ngItemLabel):this.ngItemLabel}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.SBq))},z.\u0275dir=u.lG2({type:z,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[u.TTD]}),z})(),Nt=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-option-tmp",""]]}),z})(),an=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-optgroup-tmp",""]]}),z})(),kt=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-label-tmp",""]]}),z})(),gn=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-multi-label-tmp",""]]}),z})(),mn=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-header-tmp",""]]}),z})(),tr=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-footer-tmp",""]]}),z})(),rn=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-notfound-tmp",""]]}),z})(),fn=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-typetosearch-tmp",""]]}),z})(),We=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-loadingtext-tmp",""]]}),z})(),Et=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-tag-tmp",""]]}),z})(),_t=(()=>{class z{constructor(x){this.template=x}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Rgc))},z.\u0275dir=u.lG2({type:z,selectors:[["","ng-loadingspinner-tmp",""]]}),z})();function Ct(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const qt={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Tt(z){return z.replace(/[^\u0000-\u007E]/g,x=>qt[x]||x)}class Ke{constructor(Z,x){this._ngSelect=Z,this._selectionModel=x,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let Z=this.selectedItems.length-1;for(;Z>=0;Z--){const x=this.selectedItems[Z];if(!x.disabled)return x}return null}setItems(Z){this._items=Z.map((x,le)=>this.mapItem(x,le)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(Z){if(Z.selected||this.maxItemsSelected)return;const x=this._ngSelect.multiple;x||this.clearSelected(),this._selectionModel.select(Z,x,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(Z)}unselect(Z){!Z.selected||(this._selectionModel.unselect(Z,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ae(Z.index)&&this._ngSelect.multiple&&this._showSelected(Z))}findItem(Z){let x;return x=this._ngSelect.compareWith?le=>this._ngSelect.compareWith(le.value,Z):this._ngSelect.bindValue?le=>!le.children&&this.resolveNested(le.value,this._ngSelect.bindValue)===Z:le=>le.value===Z||!le.children&&le.label&&le.label===this.resolveNested(Z,this._ngSelect.bindLabel),this._items.find(le=>x(le))}addItem(Z){const x=this.mapItem(Z,this._items.length);return this._items.push(x),this._filteredItems.push(x),x}clearSelected(Z=!1){this._selectionModel.clear(Z),this._items.forEach(x=>{x.selected=Z&&x.selected&&x.disabled,x.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(Z){return Z=Tt(Z).toLocaleLowerCase(),this.filteredItems.find(x=>Tt(x.label).toLocaleLowerCase().substr(0,Z.length)===Z)}filter(Z){if(!Z)return void this.resetFilteredItems();this._filteredItems=[],Z=this._ngSelect.searchFn?Z:Tt(Z).toLocaleLowerCase();const x=this._ngSelect.searchFn||this._defaultSearchFn,le=this._ngSelect.hideSelected;for(const He of Array.from(this._groups.keys())){const ct=[];for(const Gt of this._groups.get(He))le&&(Gt.parent&&Gt.parent.selected||Gt.selected)||x(Z,this._ngSelect.searchFn?Gt.value:Gt)&&ct.push(Gt);if(ct.length>0){const[Gt]=ct.slice(-1);if(Gt.parent){const Ut=this._items.find(Tn=>Tn===Gt.parent);this._filteredItems.push(Ut)}this._filteredItems.push(...ct)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(Z=>!Z.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(Z){this._markedIndex=this._filteredItems.indexOf(Z)}markSelectedOrDefault(Z){if(0===this._filteredItems.length)return;const x=this._getLastMarkedIndex();this._markedIndex=x>-1?x:Z?this.filteredItems.findIndex(le=>!le.disabled):-1}resolveNested(Z,x){if(!Ee(Z))return Z;if(-1===x.indexOf("."))return Z[x];{const le=x.split(".");let He=Z;for(let ct=0,Gt=le.length;ct<Gt;++ct){if(null==He)return null;He=He[le[ct]]}return He}}mapItem(Z,x){const le=Ae(Z.$ngOptionLabel)?Z.$ngOptionLabel:this.resolveNested(Z,this._ngSelect.bindLabel),He=Ae(Z.$ngOptionValue)?Z.$ngOptionValue:Z;return{index:x,label:Ae(le)?le.toString():"",value:He,disabled:Z.disabled,htmlId:`${this._ngSelect.dropdownId}-${x}`}}mapSelectedItems(){const Z=this._ngSelect.multiple;for(const x of this.selectedItems){const le=this._ngSelect.bindValue?this.resolveNested(x.value,this._ngSelect.bindValue):x.value,He=Ae(le)?this.findItem(le):null;this._selectionModel.unselect(x,Z),this._selectionModel.select(He||x,Z,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(x=>-1===this.selectedItems.indexOf(x)))}_showSelected(Z){if(this._filteredItems.push(Z),Z.parent){const x=Z.parent;this._filteredItems.find(He=>He===x)||this._filteredItems.push(x)}else if(Z.children)for(const x of Z.children)x.selected=!1,this._filteredItems.push(x);this._filteredItems=[...this._filteredItems.sort((x,le)=>x.index-le.index)]}_hideSelected(Z){this._filteredItems=this._filteredItems.filter(x=>x!==Z),Z.parent?Z.parent.children.every(le=>le.selected)&&(this._filteredItems=this._filteredItems.filter(le=>le!==Z.parent)):Z.children&&(this._filteredItems=this.filteredItems.filter(x=>x.parent!==Z))}_defaultSearchFn(Z,x){return Tt(x.label).toLocaleLowerCase().indexOf(Z)>-1}_getNextItemIndex(Z){return Z>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(Z){0===this._filteredItems.length||this._filteredItems.every(x=>x.disabled)||(this._markedIndex=this._getNextItemIndex(Z),this.markedItem.disabled&&this._stepToItem(Z))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const Z=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&Z<0?-1:Math.max(this.markedIndex,Z)}_groupBy(Z,x){const le=new Map;if(0===Z.length)return le;if(Array.isArray(Z[0].value[x])){for(const Gt of Z){const Ut=(Gt.value[x]||[]).map((Tn,bn)=>this.mapItem(Tn,bn));le.set(Gt,Ut)}return le}const He=at(this._ngSelect.groupBy),ct=Gt=>{const Ut=He?x(Gt.value):Gt.value[x];return Ae(Ut)?Ut:void 0};for(const Gt of Z){const Ut=ct(Gt),Tn=le.get(Ut);Tn?Tn.push(Gt):le.set(Ut,[Gt])}return le}_flatten(Z){const x=at(this._ngSelect.groupBy),le=[];for(const He of Array.from(Z.keys())){let ct=le.length;if(void 0===He){const Un=Z.get(void 0)||[];le.push(...Un.map(En=>(En.index=ct++,En)));continue}const Gt=Ee(He),Ut={label:Gt?"":String(He),children:void 0,parent:null,index:ct++,disabled:!this._ngSelect.selectableGroup,htmlId:Ct()},Tn=x?this._ngSelect.bindLabel:this._ngSelect.groupBy,bn=this._ngSelect.groupValue||(()=>Gt?He.value:{[Tn]:He}),or=Z.get(He).map(Un=>(Un.parent=Ut,Un.children=void 0,Un.index=ct++,Un));Ut.children=or,Ut.value=bn(He,or.map(Un=>Un.value)),le.push(Ut),le.push(...or)}return le}}var Dn=(()=>{return(z=Dn||(Dn={}))[z.Tab=9]="Tab",z[z.Enter=13]="Enter",z[z.Esc=27]="Esc",z[z.Space=32]="Space",z[z.ArrowUp=38]="ArrowUp",z[z.ArrowDown=40]="ArrowDown",z[z.Backspace=8]="Backspace",Dn;var z})();let Nn=(()=>{class z{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(x,le,He){const ct=this._dimensions,Gt=ct.itemHeight*le,Tn=Math.max(0,x)/Gt*le;let bn=Math.min(le,Math.ceil(Tn)+(ct.itemsPerViewport+1));const Un=Math.max(0,bn-ct.itemsPerViewport);let En=Math.min(Un,Math.floor(Tn)),qn=ct.itemHeight*Math.ceil(En)-ct.itemHeight*Math.min(En,He);return qn=isNaN(qn)?0:qn,En=isNaN(En)?-1:En,bn=isNaN(bn)?-1:bn,En-=He,En=Math.max(0,En),bn+=He,bn=Math.min(le,bn),{topPadding:qn,scrollHeight:Gt,start:En,end:bn}}setDimensions(x,le){const He=Math.max(1,Math.floor(le/x));this._dimensions={itemHeight:x,panelHeight:le,itemsPerViewport:He}}getScrollTo(x,le,He){const{panelHeight:ct}=this.dimensions,Gt=x+le,Tn=He+ct;return ct>=Gt&&He===x?null:Gt>Tn?He+Gt-Tn:x<=He?x:null}}return z.\u0275fac=function(x){return new(x||z)},z.\u0275prov=u.Yz7({token:z,factory:z.\u0275fac}),z})();const kn=["top","right","bottom","left"],hr=typeof requestAnimationFrame<"u"?J:ae.E;let un=(()=>{class z{constructor(x,le,He,ct,Gt){this._renderer=x,this._zone=le,this._panelService=He,this._document=Gt,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.outsideClick=new u.vpe,this._destroy$=new De.xQ,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=ct.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(x){x!==this._itemsLength&&(this._itemsLength=x,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:x,panelHeight:le}=this._panelService.dimensions,He=this.markedItem.index*x;return le>He?0:He}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(x){if(x.items){const le=x.items;this._onItemsChange(le.currentValue,le.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(x,le=!1){if(!x)return;const He=this.items.indexOf(x);if(He<0||He>=this.itemsLength)return;let ct;if(this.virtualScroll){const Gt=this._panelService.dimensions.itemHeight;ct=this._panelService.getScrollTo(He*Gt,Gt,this._lastScrollPosition)}else{const Gt=this._dropdown.querySelector(`#${x.htmlId}`);ct=this._panelService.getScrollTo(Gt.offsetTop,Gt.clientHeight,le?Gt.offsetTop:this._lastScrollPosition)}Ae(ct)&&(this._scrollablePanel.scrollTop=ct)}scrollToTag(){const x=this._scrollablePanel;x.scrollTop=x.scrollHeight-x.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),kn.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(x){kn.forEach(He=>{const ct=`ng-select-${He}`;this._renderer.removeClass(this._dropdown,ct),this._renderer.removeClass(this._select,ct)});const le=`ng-select-${x}`;this._renderer.addClass(this._dropdown,le),this._renderer.addClass(this._select,le)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,Ze.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,h.R)(this._destroy$),(0,N.e)(0,hr)).subscribe(x=>{const le=x.path||x.composedPath&&x.composedPath();this._onContentScrolled(le&&0!==le.length?le[0].scrollTop:x.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Xe.T)((0,Ze.R)(this._document,"touchstart",{capture:!0}),(0,Ze.R)(this._document,"mousedown",{capture:!0})).pipe((0,h.R)(this._destroy$)).subscribe(x=>this._checkToClose(x))})}_checkToClose(x){if(this._select.contains(x.target)||this._dropdown.contains(x.target))return;const le=x.path||x.composedPath&&x.composedPath();x.target&&x.target.shadowRoot&&le&&le[0]&&this._select.contains(le[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(x,le){this.items=x||[],this._scrollToEndFired=!1,this.itemsLength=x.length,this.virtualScroll?this._updateItemsRange(le):(this._setVirtualHeight(),this._updateItems(le))}_updateItems(x){this.update.emit(this.items),!1!==x&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,x)})})}_updateItemsRange(x){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{x?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(x){this.virtualScroll&&this._renderItemsRange(x),this._lastScrollPosition=x,this._fireScrollToEnd(x)}_updateVirtualHeight(x){this._updateScrollHeight&&(this._virtualPadding.style.height=`${x}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(x=null){if(x&&this._lastScrollPosition===x)return;const le=this._panelService.calculateItems(x=x||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(le.scrollHeight),this._contentPanel.style.transform=`translateY(${le.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(le.start,le.end)),this.scroll.emit({start:le.start,end:le.end})}),Ae(x)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=x,this._lastScrollPosition=x)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[x]=this.items;return this.update.emit([x]),Promise.resolve().then(()=>{const He=this._dropdown.querySelector(`#${x.htmlId}`).clientHeight;return this._virtualPadding.style.height=He*this.itemsLength+"px",this._panelService.setDimensions(He,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(x){this._scrollToEndFired||0===x||x+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(x){if("auto"!==this.position)return this.position;const le=this._select.getBoundingClientRect(),He=document.documentElement.scrollTop||document.body.scrollTop;return le.top+window.pageYOffset+le.height+x.getBoundingClientRect().height>He+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const x=this._select.getBoundingClientRect(),le=this._parent.getBoundingClientRect();this._dropdown.style.left=x.left-le.left+"px",this._dropdown.style.width=x.width+"px",this._dropdown.style.minWidth=x.width+"px"}_updateYPosition(){const x=this._select.getBoundingClientRect(),le=this._parent.getBoundingClientRect(),He=x.height;"top"===this._currentPosition?(this._dropdown.style.bottom=le.bottom-x.bottom+He+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=x.top-le.top+He+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,Ze.R)(this._dropdown,"mousedown").pipe((0,h.R)(this._destroy$)).subscribe(x=>{"INPUT"!==x.target.tagName&&x.preventDefault()})})}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(Nn),u.Y36(u.SBq),u.Y36(Le.K0,8))},z.\u0275cmp=u.Xpm({type:z,selectors:[["ng-dropdown-panel"]],viewQuery:function(x,le){if(1&x&&(u.Gf(Ge,7,u.SBq),u.Gf(me,7,u.SBq),u.Gf(se,7,u.SBq)),2&x){let He;u.iGM(He=u.CRH())&&(le.contentElementRef=He.first),u.iGM(He=u.CRH())&&(le.scrollElementRef=He.first),u.iGM(He=u.CRH())&&(le.paddingElementRef=He.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[u.TTD],ngContentSelectors:he,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(x,le){1&x&&(u.F$t(),u.YNc(0,ze,2,4,"div",0),u.TgZ(1,"div",1,2),u._UZ(3,"div",null,3),u.TgZ(5,"div",null,4),u.Hsn(7),u.qZA()(),u.YNc(8,Ie,2,4,"div",5)),2&x&&(u.Q6J("ngIf",le.headerTemplate),u.xp6(3),u.ekj("total-padding",le.virtualScroll),u.xp6(2),u.ekj("scrollable-content",le.virtualScroll&&le.items.length),u.xp6(3),u.Q6J("ngIf",le.footerTemplate))},dependencies:[Le.O5,Le.tP],encapsulation:2,changeDetection:0}),z})(),An=(()=>{class z{constructor(x){this.elementRef=x,this.stateChange$=new De.xQ,this._disabled=!1}get disabled(){return this._disabled}set disabled(x){this._disabled=this._isDisabled(x)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(x){x.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(x){return null!=x&&"false"!=`${x}`}}return z.\u0275fac=function(x){return new(x||z)(u.Y36(u.SBq))},z.\u0275cmp=u.Xpm({type:z,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[u.TTD],ngContentSelectors:he,decls:1,vars:0,template:function(x,le){1&x&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),z})(),Sn=(()=>{class z{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return z.\u0275fac=function(x){return new(x||z)},z.\u0275prov=u.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Vn=(()=>{class z{warn(x){console.warn(x)}}return z.\u0275fac=function(x){return new(x||z)},z.\u0275prov=u.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();const Jn=new u.OlP("ng-select-selection-model");let Qn=(()=>{class z{constructor(x,le,He,ct,Gt,Ut,Tn){this.classes=x,this.autoFocus=le,this.config=He,this._cd=Ut,this._console=Tn,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=bn=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new u.vpe,this.focusEvent=new u.vpe,this.changeEvent=new u.vpe,this.openEvent=new u.vpe,this.closeEvent=new u.vpe,this.searchEvent=new u.vpe,this.clearEvent=new u.vpe,this.addEvent=new u.vpe,this.removeEvent=new u.vpe,this.scroll=new u.vpe,this.scrollToEnd=new u.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Ct(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new De.xQ,this._keyPress$=new De.xQ,this._onChange=bn=>{},this._onTouched=()=>{},this.clearItem=bn=>{const or=this.selectedItems.find(Un=>Un.value===bn);this.unselect(or)},this.trackByOption=(bn,or)=>this.trackByFn?this.trackByFn(or.value):or,this._mergeGlobalConfig(He),this.itemsList=new Ke(this,ct()),this.element=Gt.nativeElement}get items(){return this._items}set items(x){null===x&&(x=[]),this._itemsAreUsed=!0,this._items=x}get compareWith(){return this._compareWith}set compareWith(x){if(null!=x&&!at(x))throw Error("`compareWith` must be a function.");this._compareWith=x}get clearSearchOnAdd(){return Ae(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ae(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(x){this._clearSearchOnAdd=x}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(x=>x.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(x){x.multiple&&this.itemsList.clearSelected(),x.items&&this._setItems(x.items.currentValue||[]),x.isOpen&&(this._manualOpen=Ae(x.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ae(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(x){if(Dn[x.which]){if(!1===this.keyDownFn(x))return;this.handleKeyCode(x)}else x.key&&1===x.key.length&&this._keyPress$.next(x.key.toLocaleLowerCase())}handleKeyCode(x){switch(x.which){case Dn.ArrowDown:this._handleArrowDown(x);break;case Dn.ArrowUp:this._handleArrowUp(x);break;case Dn.Space:this._handleSpace(x);break;case Dn.Enter:this._handleEnter(x);break;case Dn.Tab:this._handleTab(x);break;case Dn.Esc:this.close(),x.preventDefault();break;case Dn.Backspace:this._handleBackspace()}}handleMousedown(x){const le=x.target;"INPUT"!==le.tagName&&x.preventDefault(),le.classList.contains("ng-clear-wrapper")?this.handleClearClick():le.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():le.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(x){this.itemsList.clearSelected(),this._handleWriteValue(x),this._cd.markForCheck()}registerOnChange(x){this._onChange=x}registerOnTouched(x){this._onTouched=x}setDisabledState(x){this._disabled=x,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(x){!x||x.disabled||this.disabled||(this.multiple&&x.selected?this.unselect(x):this.select(x),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(x){x.selected||(this.itemsList.select(x),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(x.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(x){!x||(this.itemsList.unselect(x),this.focus(),this._updateNgModel(),this.removeEvent.emit(x))}selectTag(){let x;x=at(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const le=He=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(He,null):this.itemsList.addItem(He);!function st(z){return z instanceof Promise}(x)?x&&this.select(le(x)):x.then(He=>this.select(le(He))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const x=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(le=>le.label.toLowerCase()===x)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(le=>le.label.toLowerCase()===x))&&!this.loading}showNoItemsFound(){const x=0===this.itemsList.filteredItems.length;return(x&&!this._isTypeahead&&!this.loading||x&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(x){this._isComposing=!1,!this.searchWhileComposing&&this.filter(x)}filter(x){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=x,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(x),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:x,items:this.itemsList.filteredItems.map(le=>le.value)}),this.open())}onInputFocus(x){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(x),this.focused=!0)}onInputBlur(x){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(x),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(x){x.disabled||this.itemsList.markItem(x)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const x=this.selectedItems&&this.selectedItems[0];this.searchTerm=x&&x.label||null}_setItems(x){const le=x[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ae(le)?!Ee(le):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(x),x.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ae(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const x=He=>{this.items=He.map(ct=>({$ngOptionValue:ct.value,$ngOptionLabel:ct.elementRef.nativeElement.innerHTML,disabled:ct.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},le=()=>{const He=(0,Xe.T)(this.ngOptions.changes,this._destroy$);(0,Xe.T)(...this.ngOptions.map(ct=>ct.stateChange$)).pipe((0,h.R)(He)).subscribe(ct=>{const Gt=this.itemsList.findItem(ct.value);Gt.disabled=ct.disabled,Gt.label=ct.label||Gt.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,D.O)(this.ngOptions),(0,h.R)(this._destroy$)).subscribe(He=>{this.bindLabel=this._defaultLabel,x(He),le()})}_isValidWriteValue(x){if(!Ae(x)||this.multiple&&""===x||Array.isArray(x)&&0===x.length)return!1;const le=He=>!(!Ae(this.compareWith)&&Ee(He)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(He)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(x)?x.every(He=>le(He)):(this._console.warn("Multiple select ngModel should be array."),!1):le(x)}_handleWriteValue(x){if(!this._isValidWriteValue(x))return;const le=He=>{let ct=this.itemsList.findItem(He);if(ct)this.itemsList.select(ct);else{const Gt=Ee(He),Ut=!Gt&&!this.bindValue;Gt||Ut?this.itemsList.select(this.itemsList.mapItem(He,null)):this.bindValue&&(ct={[this.bindLabel]:null,[this.bindValue]:He},this.itemsList.select(this.itemsList.mapItem(ct,null)))}};this.multiple?x.forEach(He=>le(He)):le(x)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,h.R)(this._destroy$),(0,P.b)(x=>this._pressedKeys.push(x)),(0,k.b)(200),(0,M.h)(()=>this._pressedKeys.length>0),(0,G.U)(()=>this._pressedKeys.join(""))).subscribe(x=>{const le=this.itemsList.findByLabel(x);le&&(this.isOpen?(this.itemsList.markItem(le),this._scrollToMarked(),this._cd.markForCheck()):this.select(le)),this._pressedKeys=[]})}_setInputAttributes(){const x=this.searchInput.nativeElement,le={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const He of Object.keys(le))x.setAttribute(He,le[He])}_updateNgModel(){const x=[];for(const He of this.selectedItems)if(this.bindValue){let ct=null;ct=He.children?He.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(He.value,this.bindValue),x.push(ct)}else x.push(He.value);const le=this.selectedItems.map(He=>He.value);this.multiple?(this._onChange(x),this.changeEvent.emit(le)):(this._onChange(Ae(x[0])?x[0]:null),this.changeEvent.emit(le[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(x){this.searchTerm=x,this._isTypeahead&&this.typeahead.next(x)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(x){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),x.preventDefault()):this.showAddTag?(this.selectTag(),x.preventDefault()):this.close():this.close())}_handleEnter(x){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}x.preventDefault()}_handleSpace(x){this.isOpen||this._manualOpen||(this.open(),x.preventDefault())}_handleArrowDown(x){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),x.preventDefault()}_handleArrowUp(x){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),x.preventDefault())}_nextItemIsTag(x){const le=this.itemsList.markedIndex+x;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(le<0||le===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const x=this.searchTerm&&this.searchTerm.trim();return x&&x.length>=this.minTermLength}_mergeGlobalConfig(x){this.placeholder=this.placeholder||x.placeholder,this.notFoundText=this.notFoundText||x.notFoundText,this.typeToSearchText=this.typeToSearchText||x.typeToSearchText,this.addTagText=this.addTagText||x.addTagText,this.loadingText=this.loadingText||x.loadingText,this.clearAllText=this.clearAllText||x.clearAllText,this.virtualScroll=Ae(this.virtualScroll)?this.virtualScroll:!!Ae(x.disableVirtualScroll)&&!x.disableVirtualScroll,this.openOnEnter=Ae(this.openOnEnter)?this.openOnEnter:x.openOnEnter,this.appendTo=this.appendTo||x.appendTo,this.bindValue=this.bindValue||x.bindValue,this.bindLabel=this.bindLabel||x.bindLabel,this.appearance=this.appearance||x.appearance}}return z.\u0275fac=function(x){return new(x||z)(u.$8M("class"),u.$8M("autofocus"),u.Y36(Sn),u.Y36(Jn),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vn))},z.\u0275cmp=u.Xpm({type:z,selectors:[["ng-select"]],contentQueries:function(x,le,He){if(1&x&&(u.Suo(He,Nt,5,u.Rgc),u.Suo(He,an,5,u.Rgc),u.Suo(He,kt,5,u.Rgc),u.Suo(He,gn,5,u.Rgc),u.Suo(He,mn,5,u.Rgc),u.Suo(He,tr,5,u.Rgc),u.Suo(He,rn,5,u.Rgc),u.Suo(He,fn,5,u.Rgc),u.Suo(He,We,5,u.Rgc),u.Suo(He,Et,5,u.Rgc),u.Suo(He,_t,5,u.Rgc),u.Suo(He,An,5)),2&x){let ct;u.iGM(ct=u.CRH())&&(le.optionTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.optgroupTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.labelTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.multiLabelTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.headerTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.footerTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.notFoundTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.typeToSearchTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.loadingTextTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.tagTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.loadingSpinnerTemplate=ct.first),u.iGM(ct=u.CRH())&&(le.ngOptions=ct)}},viewQuery:function(x,le){if(1&x&&(u.Gf(un,5),u.Gf(pe,7)),2&x){let He;u.iGM(He=u.CRH())&&(le.dropdownPanel=He.first),u.iGM(He=u.CRH())&&(le.searchInput=He.first)}},hostVars:20,hostBindings:function(x,le){1&x&&u.NdJ("keydown",function(ct){return le.handleKeyDown(ct)}),2&x&&u.ekj("ng-select-typeahead",le.typeahead)("ng-select-multiple",le.multiple)("ng-select-taggable",le.addTag)("ng-select-searchable",le.searchable)("ng-select-clearable",le.clearable)("ng-select-opened",le.isOpen)("ng-select",le.useDefaultClass)("ng-select-disabled",le.disabled)("ng-select-filtered",le.filtered)("ng-select-single",le.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[u._Bn([{provide:e.JU,useExisting:(0,u.Gpc)(()=>z),multi:!0},Nn]),u.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(x,le){if(1&x){const He=u.EpF();u.TgZ(0,"div",0),u.NdJ("mousedown",function(Gt){return le.handleMousedown(Gt)}),u.TgZ(1,"div",1)(2,"div",2),u._uU(3),u.qZA(),u.YNc(4,Fe,2,2,"ng-container",3),u.YNc(5,Qe,1,5,null,3),u.TgZ(6,"div",4)(7,"input",5,6),u.NdJ("input",function(){u.CHM(He);const Gt=u.MAs(8);return u.KtG(le.filter(Gt.value))})("compositionstart",function(){return le.onCompositionStart()})("compositionend",function(){u.CHM(He);const Gt=u.MAs(8);return u.KtG(le.onCompositionEnd(Gt.value))})("focus",function(Gt){return le.onInputFocus(Gt)})("blur",function(Gt){return le.onInputBlur(Gt)})("change",function(Gt){return Gt.stopPropagation()}),u.qZA()()(),u.YNc(9,Yt,4,1,"ng-container",3),u.YNc(10,zt,3,1,"span",7),u.TgZ(11,"span",8),u._UZ(12,"span",9),u.qZA()(),u.YNc(13,Dt,7,19,"ng-dropdown-panel",10)}2&x&&(u.ekj("ng-appearance-outline","outline"===le.appearance)("ng-has-value",le.hasValue),u.xp6(3),u.Oqu(le.placeholder),u.xp6(1),u.Q6J("ngIf",(!le.multiLabelTemplate||!le.multiple)&&le.selectedItems.length>0),u.xp6(1),u.Q6J("ngIf",le.multiple&&le.multiLabelTemplate&&le.selectedValues.length>0),u.xp6(1),u.uIk("aria-expanded",le.isOpen)("aria-owns",le.isOpen?le.dropdownId:null),u.xp6(1),u.Q6J("readOnly",!le.searchable||le.itemsList.maxItemsSelected)("disabled",le.disabled)("value",le.searchTerm?le.searchTerm:""),u.uIk("id",le.labelForId)("tabindex",le.tabIndex)("aria-activedescendant",le.isOpen?null==le.itemsList||null==le.itemsList.markedItem?null:le.itemsList.markedItem.htmlId:null)("aria-controls",le.isOpen?le.dropdownId:null),u.xp6(2),u.Q6J("ngIf",le.loading),u.xp6(1),u.Q6J("ngIf",le.showClear()),u.xp6(3),u.Q6J("ngIf",le.isOpen))},dependencies:[Le.mk,Le.sg,Le.O5,Le.tP,un,Jt],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),z})();function ye(){return new Te}class Te{constructor(){this._selected=[]}get value(){return this._selected}select(Z,x,le){if(Z.selected=!0,(!Z.children||!x&&le)&&this._selected.push(Z),x)if(Z.parent){const He=Z.parent.children.length,ct=Z.parent.children.filter(Gt=>Gt.selected).length;Z.parent.selected=He===ct}else Z.children&&(this._setChildrenSelectedState(Z.children,!0),this._removeChildren(Z),this._selected=le&&this._activeChildren(Z)?[...this._selected.filter(He=>He.parent!==Z),Z]:[...this._selected,...Z.children.filter(He=>!He.disabled)])}unselect(Z,x){if(this._selected=this._selected.filter(le=>le!==Z),Z.selected=!1,x)if(Z.parent&&Z.parent.selected){const le=Z.parent.children;this._removeParent(Z.parent),this._removeChildren(Z.parent),this._selected.push(...le.filter(He=>He!==Z&&!He.disabled)),Z.parent.selected=!1}else Z.children&&(this._setChildrenSelectedState(Z.children,!1),this._removeChildren(Z))}clear(Z){this._selected=Z?this._selected.filter(x=>x.disabled):[]}_setChildrenSelectedState(Z,x){for(const le of Z)le.disabled||(le.selected=x)}_removeChildren(Z){this._selected=[...this._selected.filter(x=>x.parent!==Z),...Z.children.filter(x=>x.parent===Z&&x.disabled&&x.selected)]}_removeParent(Z){this._selected=this._selected.filter(x=>x!==Z)}_activeChildren(Z){return Z.children.every(x=>!x.disabled||x.selected)}}let ie=(()=>{class z{}return z.\u0275fac=function(x){return new(x||z)},z.\u0275mod=u.oAB({type:z}),z.\u0275inj=u.cJS({providers:[{provide:Jn,useValue:ye}],imports:[Le.ez]}),z})()},5024:(de,Q,m)=>{"use strict";m.d(Q,{eX:()=>zt,Qm:()=>_e,sQ:()=>an,GW:()=>Ie,l4:()=>Xt});var u=m(8555),e=m(6787),h=m(6498),N=m(8929),D=m(3489);class k{call(Et,_t){return _t.subscribe(new M(Et))}}class M extends D.L{_next(Et){}}var G=m(9312);class I{call(Et,_t){return _t.subscribe(new H(Et))}}class H extends D.L{constructor(Et){super(Et)}_next(Et){this.destination.next(G.P.createNext(Et))}_error(Et){const _t=this.destination;_t.next(G.P.createError(Et)),_t.complete()}_complete(){const Et=this.destination;Et.next(G.P.createComplete()),Et.complete()}}var $=m(4850),J=m(7221),re=m(2198),ae=m(4002),De=m(1709),Ze=m(8807);class Le{call(Et,_t){return _t.subscribe(new Ge(Et))}}class Ge extends D.L{constructor(Et){super(Et)}_next(Et){Et.observe(this.destination)}}var me=m(2986),se=m(4650);const Ne={dispatch:!0,useEffectsErrorHandler:!0},ze="__@ngrx/effects_create__";function Ie(We,Et){const _t=We(),Ct={...Ne,...Et};return Object.defineProperty(_t,ze,{value:Ct}),_t}function he(We){return Object.getOwnPropertyNames(We).filter(Ct=>!(!We[Ct]||!We[Ct].hasOwnProperty(ze))&&We[Ct][ze].hasOwnProperty("dispatch")).map(Ct=>({propertyName:Ct,...We[Ct][ze]}))}function pe(We){return Object.getPrototypeOf(We)}const ne="__@ngrx/effects__";function _e(We={}){return function(Et,_t){!function Fe(We,Et){oe(We)?We.constructor[ne].push(Et):Object.defineProperty(We.constructor,ne,{value:[Et]})}(Et,{...Ne,...We,propertyName:_t})}}function be(We){return(0,u.qC)(Re,pe)(We)}function oe(We){return We.constructor.hasOwnProperty(ne)}function Re(We){return oe(We)?We.constructor[ne]:[]}function rt(We,Et,_t){const Ct=pe(We).constructor.name,qt=function Qe(We){return[be,he].reduce((_t,Ct)=>_t.concat(Ct(We)),[])}(We).map(({propertyName:Tt,dispatch:Ke,useEffectsErrorHandler:Dn})=>{const Nn="function"==typeof We[Tt]?We[Tt]():We[Tt],kn=Dn?_t(Nn,Et):Nn;return!1===Ke?kn.pipe(function P(){return function(Et){return Et.lift(new k)}}()):kn.pipe(function V(){return function(Et){return Et.lift(new I)}}()).pipe((0,$.U)(un=>({effect:We[Tt],notification:un,propertyName:Tt,sourceName:Ct,sourceInstance:We})))});return(0,e.T)(...qt)}function Yt(We,Et,_t=10){return We.pipe((0,J.K)(Ct=>(Et&&Et.handleError(Ct),_t<=1?We:Yt(We,Et,_t-1))))}let zt=(()=>{class We extends h.y{constructor(_t){super(),_t&&(this.source=_t)}lift(_t){const Ct=new We;return Ct.source=this,Ct.operator=_t,Ct}}return We.\u0275fac=function(_t){return new(_t||We)(se.LFG(u.Y$))},We.\u0275prov=se.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Xt(...We){return(0,re.h)(Et=>We.some(_t=>"string"==typeof _t?_t===Et.type:_t.type===Et.type))}const gt=new se.OlP("@ngrx/effects Internal Root Guard"),Qt=new se.OlP("@ngrx/effects User Provided Effects"),Wt=new se.OlP("@ngrx/effects Internal Root Effects"),Lt=new se.OlP("@ngrx/effects Root Effects"),wt=new se.OlP("@ngrx/effects Internal Feature Effects"),Pn=new se.OlP("@ngrx/effects Feature Effects"),Rt=new se.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Yt}),cn="@ngrx/effects/init";function _n(We){return it(We,"ngrxOnInitEffects")}function it(We,Et){return We&&Et in We&&"function"==typeof We[Et]}(0,u.PH)(cn);let Ae=(()=>{class We extends N.xQ{constructor(_t,Ct){super(),this.errorHandler=_t,this.effectsErrorHandler=Ct}addEffects(_t){this.next(_t)}toActions(){return this.pipe((0,ae.v)(pe),(0,De.zg)(_t=>_t.pipe((0,ae.v)(Ee))),(0,De.zg)(_t=>{const Ct=_t.pipe((0,Ze.z)(Tt=>function st(We,Et){return _t=>{const Ct=rt(_t,We,Et);return function St(We){return it(We,"ngrxOnRunEffects")}(_t)?_t.ngrxOnRunEffects(Ct):Ct}}(this.errorHandler,this.effectsErrorHandler)(Tt)),(0,$.U)(Tt=>(function Ft(We,Et){if("N"===We.notification.kind){const _t=We.notification.value;!function Zn(We){return"function"!=typeof We&&We&&We.type&&"string"==typeof We.type}(_t)&&Et.handleError(new Error(`Effect ${function Ot({propertyName:We,sourceInstance:Et,sourceName:_t}){const Ct="function"==typeof Et[We];return`"${_t}.${String(We)}${Ct?"()":""}"`}(We)} dispatched an invalid action: ${function bt(We){try{return JSON.stringify(We)}catch{return We}}(_t)}`))}}(Tt,this.errorHandler),Tt.notification)),(0,re.h)(Tt=>"N"===Tt.kind&&null!=Tt.value),function Xe(){return function(Et){return Et.lift(new Le)}}()),qt=_t.pipe((0,me.q)(1),(0,re.h)(_n),(0,$.U)(Tt=>Tt.ngrxOnInitEffects()));return(0,e.T)(Ct,qt)}))}}return We.\u0275fac=function(_t){return new(_t||We)(se.LFG(se.qLn),se.LFG(Rt))},We.\u0275prov=se.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Ee(We){return function je(We){return it(We,"ngrxOnIdentifyEffects")}(We)?We.ngrxOnIdentifyEffects():""}let at=(()=>{class We{constructor(_t,Ct){this.effectSources=_t,this.store=Ct,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return We.\u0275fac=function(_t){return new(_t||We)(se.LFG(Ae),se.LFG(u.yh))},We.\u0275prov=se.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),Jt=(()=>{class We{constructor(_t,Ct,qt,Tt,Ke,Dn,Nn){this.sources=_t,Ct.start(),Tt.forEach(kn=>_t.addEffects(kn)),qt.dispatch({type:cn})}addEffects(_t){this.sources.addEffects(_t)}}return We.\u0275fac=function(_t){return new(_t||We)(se.LFG(Ae),se.LFG(at),se.LFG(u.yh),se.LFG(Lt),se.LFG(u.cr,8),se.LFG(u.CK,8),se.LFG(gt,8))},We.\u0275mod=se.oAB({type:We}),We.\u0275inj=se.cJS({}),We})(),Nt=(()=>{class We{constructor(_t,Ct,qt,Tt){Ct.forEach(Ke=>Ke.forEach(Dn=>_t.addEffects(Dn)))}}return We.\u0275fac=function(_t){return new(_t||We)(se.LFG(Jt),se.LFG(Pn),se.LFG(u.cr,8),se.LFG(u.CK,8))},We.\u0275mod=se.oAB({type:We}),We.\u0275inj=se.cJS({}),We})(),an=(()=>{class We{static forFeature(_t=[]){return{ngModule:Nt,providers:[_t,{provide:wt,multi:!0,useValue:_t},{provide:Qt,multi:!0,useValue:[]},{provide:Pn,multi:!0,useFactory:kt,deps:[se.zs3,wt,Qt]}]}}static forRoot(_t=[]){return{ngModule:Jt,providers:[_t,{provide:Wt,useValue:[_t]},{provide:gt,useFactory:mn,deps:[[at,new se.FiY,new se.tp0],[Wt,new se.PiD]]},{provide:Qt,multi:!0,useValue:[]},{provide:Lt,useFactory:kt,deps:[se.zs3,Wt,Qt]}]}}}return We.\u0275fac=function(_t){return new(_t||We)},We.\u0275mod=se.oAB({type:We}),We.\u0275inj=se.cJS({}),We})();function kt(We,Et,_t){const Ct=[];for(const qt of Et)Ct.push(...qt);for(const qt of _t)Ct.push(...qt);return function gn(We,Et){return Et.map(_t=>We.get(_t))}(We,Ct)}function mn(We,Et){if((1!==Et.length||0!==Et[0].length)&&We)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},6943:(de,Q,m)=>{"use strict";m.d(Q,{CE:()=>$,GC:()=>se,Qi:()=>ne,eU:()=>I,fb:()=>G,tE:()=>k});var u=m(8555),e=m(4650),h=m(610),N=m(7168);const D="@ngrx/router-store/request",k=((0,u.PH)(D,(0,u.Ky)()),"@ngrx/router-store/navigation"),G=((0,u.PH)(k,(0,u.Ky)()),"@ngrx/router-store/cancel"),I=((0,u.PH)(G,(0,u.Ky)()),"@ngrx/router-store/error"),$=((0,u.PH)(I,(0,u.Ky)()),"@ngrx/router-store/navigated");(0,u.PH)($,(0,u.Ky)());class ae{serialize(Fe){return{root:this.serializeRoute(Fe.root),url:Fe.url}}serializeRoute(Fe){const Re=Fe.children.map(pt=>this.serializeRoute(pt));return{params:Fe.params,data:Fe.data,url:Fe.url,outlet:Fe.outlet,routeConfig:Fe.routeConfig?{path:Fe.routeConfig.path,pathMatch:Fe.routeConfig.pathMatch,redirectTo:Fe.routeConfig.redirectTo,outlet:Fe.routeConfig.outlet,title:"string"==typeof Fe.routeConfig.title?Fe.routeConfig.title:void 0}:null,queryParams:Fe.queryParams,fragment:Fe.fragment,firstChild:Re[0],children:Re}}}var De=(()=>{return(oe=De||(De={}))[oe.PreActivation=1]="PreActivation",oe[oe.PostActivation=2]="PostActivation",De;var oe})();const Xe=new e.OlP("@ngrx/router-store Internal Configuration"),Le=new e.OlP("@ngrx/router-store Configuration");function Ge(oe){return{stateKey:"router",serializer:ae,navigationActionTiming:De.PreActivation,...oe}}class me{serialize(Fe){return{root:this.serializeRoute(Fe.root),url:Fe.url}}serializeRoute(Fe){const Re=Fe.children.map(pt=>this.serializeRoute(pt));return{params:Fe.params,paramMap:Fe.paramMap,data:Fe.data,url:Fe.url,outlet:Fe.outlet,routeConfig:Fe.routeConfig?{component:Fe.routeConfig.component,path:Fe.routeConfig.path,pathMatch:Fe.routeConfig.pathMatch,redirectTo:Fe.routeConfig.redirectTo,outlet:Fe.routeConfig.outlet,title:Fe.routeConfig.title}:null,queryParams:Fe.queryParams,queryParamMap:Fe.queryParamMap,fragment:Fe.fragment,component:Fe.routeConfig?Fe.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Re[0],pathFromRoot:void 0,children:Re}}}class se{}var Ne=(()=>{return(oe=Ne||(Ne={}))[oe.NONE=1]="NONE",oe[oe.ROUTER=2]="ROUTER",oe[oe.STORE=3]="STORE",Ne;var oe})();let ze=(()=>{class oe{constructor(Re,pt,Qe,rt,we,Yt){this.store=Re,this.router=pt,this.serializer=Qe,this.errorHandler=rt,this.config=we,this.activeRuntimeChecks=Yt,this.lastEvent=null,this.routerState=null,this.trigger=Ne.NONE,this.stateKey=this.config.stateKey,!(0,u.rM)()&&(0,e.X6Q)()&&(Yt?.strictActionSerializability||Yt?.strictStateSerializability)&&this.serializer instanceof me&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,u.Ys)(this.stateKey),(0,N.M)(this.store)).subscribe(([Re,pt])=>{this.navigateIfNeeded(Re,pt)})}navigateIfNeeded(Re,pt){if(!Re||!Re.state||this.trigger===Ne.ROUTER||this.lastEvent instanceof h.OD)return;const Qe=Re.state.url;(function Ie(oe,Fe){return he(oe)===he(Fe)})(this.router.url,Qe)||(this.storeState=pt,this.trigger=Ne.STORE,this.router.navigateByUrl(Qe).catch(rt=>{this.errorHandler.handleError(rt)}))}setUpRouterEventsListener(){const Re=this.config.navigationActionTiming===De.PostActivation;let pt;this.router.events.pipe((0,N.M)(this.store)).subscribe(([Qe,rt])=>{this.lastEvent=Qe,Qe instanceof h.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Ne.STORE&&(this.storeState=rt,this.dispatchRouterRequest(Qe))):Qe instanceof h.R9?(pt=Qe,!Re&&this.trigger!==Ne.STORE&&this.dispatchRouterNavigation(Qe)):Qe instanceof h.gk?(this.dispatchRouterCancel(Qe),this.reset()):Qe instanceof h.Q3?(this.dispatchRouterError(Qe),this.reset()):Qe instanceof h.m2&&(this.trigger!==Ne.STORE&&(Re&&this.dispatchRouterNavigation(pt),this.dispatchRouterNavigated(Qe)),this.reset())})}dispatchRouterRequest(Re){this.dispatchRouterAction(D,{event:Re})}dispatchRouterNavigation(Re){const pt=this.serializer.serialize(Re.state);this.dispatchRouterAction(k,{routerState:pt,event:new h.R9(Re.id,Re.url,Re.urlAfterRedirects,pt)})}dispatchRouterCancel(Re){this.dispatchRouterAction(G,{storeState:this.storeState,event:Re})}dispatchRouterError(Re){this.dispatchRouterAction(I,{storeState:this.storeState,event:new h.Q3(Re.id,Re.url,`${Re}`)})}dispatchRouterNavigated(Re){const pt=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction($,{event:Re,routerState:pt})}dispatchRouterAction(Re,pt){this.trigger=Ne.ROUTER;try{this.store.dispatch({type:Re,payload:{routerState:this.routerState,...pt,event:0===this.config.routerState?pt.event:{id:pt.event.id,url:pt.event.url,urlAfterRedirects:pt.event.urlAfterRedirects}}})}finally{this.trigger=Ne.NONE}}reset(){this.trigger=Ne.NONE,this.storeState=null,this.routerState=null}}return oe.\u0275fac=function(Re){return new(Re||oe)(e.LFG(u.yh),e.LFG(h.F0),e.LFG(se),e.LFG(e.qLn),e.LFG(Le),e.LFG(u.hg))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function he(oe){return oe?.length>0&&"/"===oe[oe.length-1]?oe.substring(0,oe.length-1):oe}function pe(oe={}){return{\u0275providers:[{provide:Xe,useValue:oe},{provide:Le,useFactory:Ge,deps:[Xe]},{provide:se,useClass:oe.serializer?oe.serializer:0===oe.routerState?me:ae},{provide:e.Xts,multi:!0,useFactory:()=>()=>(0,e.f3M)(ze)},ze]}}let ne=(()=>{class oe{static forRoot(Re={}){return{ngModule:oe,providers:[...pe(Re).\u0275providers]}}}return oe.\u0275fac=function(Re){return new(Re||oe)},oe.\u0275mod=e.oAB({type:oe}),oe.\u0275inj=e.cJS({}),oe})()},8555:(de,Q,m)=>{"use strict";m.d(Q,{Aw:()=>wr,CK:()=>Br,Ky:()=>re,P1:()=>Sn,PH:()=>J,UO:()=>Ne,UY:()=>cn,Y$:()=>nn,Ys:()=>Nt,ZF:()=>Qn,cr:()=>nr,hg:()=>Lt,qC:()=>Ft,qg:()=>se,rM:()=>Nn,sr:()=>Xt,yh:()=>at});var u=m(4650),e=m(591),h=m(6498),N=m(8929),D=m(341),P=m(7770),k=m(7168),M=m(2014),G=m(373),V=m(4850),I=m(5778);const H={};function J(Se,lt){if(H[Se]=(H[Se]||0)+1,"function"==typeof lt)return De(Se,(...dt)=>({...lt(...dt),type:Se}));switch(lt?lt._as:"empty"){case"empty":return De(Se,()=>({type:Se}));case"props":return De(Se,dt=>({...dt,type:Se}));default:throw new Error("Unexpected config.")}}function re(){return{_as:"props",_p:void 0}}function De(Se,lt){return Object.defineProperty(lt,"type",{value:Se,writable:!1})}const se="@ngrx/store/init";let Ne=(()=>{class Se extends e.X{constructor(){super({type:se})}next(qe){if("function"==typeof qe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof qe>"u")throw new TypeError("Actions must be objects");if(typeof qe.type>"u")throw new TypeError("Actions must have a type property");super.next(qe)}complete(){}ngOnDestroy(){super.complete()}}return Se.\u0275fac=function(qe){return new(qe||Se)},Se.\u0275prov=u.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const ze=[Ne],Ie=new u.OlP("@ngrx/store Internal Root Guard"),he=new u.OlP("@ngrx/store Internal Initial State"),pe=new u.OlP("@ngrx/store Initial State"),ne=new u.OlP("@ngrx/store Reducer Factory"),_e=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),be=new u.OlP("@ngrx/store Initial Reducers"),oe=new u.OlP("@ngrx/store Internal Initial Reducers"),Fe=new u.OlP("@ngrx/store Store Features"),Re=new u.OlP("@ngrx/store Internal Store Reducers"),pt=new u.OlP("@ngrx/store Internal Feature Reducers"),Qe=new u.OlP("@ngrx/store Internal Feature Configs"),rt=new u.OlP("@ngrx/store Internal Store Features"),we=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Yt=new u.OlP("@ngrx/store Feature Reducers"),zt=new u.OlP("@ngrx/store User Provided Meta Reducers"),Xt=new u.OlP("@ngrx/store Meta Reducers"),gt=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),Qt=new u.OlP("@ngrx/store User Runtime Checks Config"),Wt=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),Lt=new u.OlP("@ngrx/store Internal Runtime Checks"),wt=new u.OlP("@ngrx/store Check if Action types are unique");function cn(Se,lt={}){const qe=Object.keys(Se),dt={};for(let Mt=0;Mt<qe.length;Mt++){const xn=qe[Mt];"function"==typeof Se[xn]&&(dt[xn]=Se[xn])}const Vt=Object.keys(dt);return function(xn,ue){xn=void 0===xn?lt:xn;let nt=!1;const et={};for(let Bt=0;Bt<Vt.length;Bt++){const vn=Vt[Bt],zr=xn[vn],Yr=(0,dt[vn])(zr,ue);et[vn]=Yr,nt=nt||Yr!==zr}return nt?et:xn}}function Ft(...Se){return function(lt){if(0===Se.length)return lt;const qe=Se[Se.length-1];return Se.slice(0,-1).reduceRight((Vt,Mt)=>Mt(Vt),qe(lt))}}function Zn(Se,lt){return Array.isArray(lt)&&lt.length>0&&(Se=Ft.apply(null,[...lt,Se])),(qe,dt)=>{const Vt=Se(qe);return(Mt,xn)=>Vt(Mt=void 0===Mt?dt:Mt,xn)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class bt extends h.y{}class ke extends Ne{}let Dt=(()=>{class Se extends e.X{constructor(qe,dt,Vt,Mt){super(Mt(Vt,dt)),this.dispatcher=qe,this.initialState=dt,this.reducers=Vt,this.reducerFactory=Mt}get currentReducers(){return this.reducers}addFeature(qe){this.addFeatures([qe])}addFeatures(qe){const dt=qe.reduce((Vt,{reducers:Mt,reducerFactory:xn,metaReducers:ue,initialState:nt,key:et})=>{const Bt="function"==typeof Mt?function Ot(Se){const lt=Array.isArray(Se)&&Se.length>0?Ft(...Se):qe=>qe;return(qe,dt)=>(qe=lt(qe),(Vt,Mt)=>qe(Vt=void 0===Vt?dt:Vt,Mt))}(ue)(Mt,nt):Zn(xn,ue)(Mt,nt);return Vt[et]=Bt,Vt},{});this.addReducers(dt)}removeFeature(qe){this.removeFeatures([qe])}removeFeatures(qe){this.removeReducers(qe.map(dt=>dt.key))}addReducer(qe,dt){this.addReducers({[qe]:dt})}addReducers(qe){this.reducers={...this.reducers,...qe},this.updateReducers(Object.keys(qe))}removeReducer(qe){this.removeReducers([qe])}removeReducers(qe){qe.forEach(dt=>{this.reducers=function yn(Se,lt){return Object.keys(Se).filter(qe=>qe!==lt).reduce((qe,dt)=>Object.assign(qe,{[dt]:Se[dt]}),{})}(this.reducers,dt)}),this.updateReducers(qe)}updateReducers(qe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:qe})}ngOnDestroy(){this.complete()}}return Se.\u0275fac=function(qe){return new(qe||Se)(u.LFG(ke),u.LFG(pe),u.LFG(be),u.LFG(ne))},Se.\u0275prov=u.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const St=[Dt,{provide:bt,useExisting:Dt},{provide:ke,useExisting:Ne}];let nn=(()=>{class Se extends N.xQ{ngOnDestroy(){this.complete()}}return Se.\u0275fac=function(){let lt;return function(dt){return(lt||(lt=u.n5z(Se)))(dt||Se)}}(),Se.\u0275prov=u.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const _n=[nn];class it extends h.y{}let Ae=(()=>{class Se extends e.X{constructor(qe,dt,Vt,Mt){super(Mt);const et=qe.pipe((0,P.QV)(D.N)).pipe((0,k.M)(dt)).pipe((0,M.R)(Ee,{state:Mt}));this.stateSubscription=et.subscribe(({state:Bt,action:vn})=>{this.next(Bt),Vt.next(vn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Se.INIT=se,Se.\u0275fac=function(qe){return new(qe||Se)(u.LFG(Ne),u.LFG(bt),u.LFG(nn),u.LFG(pe))},Se.\u0275prov=u.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function Ee(Se={state:void 0},[lt,qe]){const{state:dt}=Se;return{state:qe(dt,lt),action:lt}}const st=[Ae,{provide:it,useExisting:Ae}];let at=(()=>{class Se extends h.y{constructor(qe,dt,Vt){super(),this.actionsObserver=dt,this.reducerManager=Vt,this.source=qe}select(qe,...dt){return Nt.call(null,qe,...dt)(this)}lift(qe){const dt=new Se(this,this.actionsObserver,this.reducerManager);return dt.operator=qe,dt}dispatch(qe){this.actionsObserver.next(qe)}next(qe){this.actionsObserver.next(qe)}error(qe){this.actionsObserver.error(qe)}complete(){this.actionsObserver.complete()}addReducer(qe,dt){this.reducerManager.addReducer(qe,dt)}removeReducer(qe){this.reducerManager.removeReducer(qe)}}return Se.\u0275fac=function(qe){return new(qe||Se)(u.LFG(it),u.LFG(Ne),u.LFG(Dt))},Se.\u0275prov=u.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Jt=[at];function Nt(Se,lt,...qe){return function(Vt){let Mt;if("string"==typeof Se){const xn=[lt,...qe].filter(Boolean);Mt=Vt.pipe((0,G.j)(Se,...xn))}else{if("function"!=typeof Se)throw new TypeError(`Unexpected type '${typeof Se}' in select operator, expected 'string' or 'function'`);Mt=Vt.pipe((0,V.U)(xn=>Se(xn,lt)))}return Mt.pipe((0,I.x)())}}const an="https://ngrx.io/guide/store/configuration/runtime-checks";function kt(Se){return void 0===Se}function gn(Se){return null===Se}function mn(Se){return Array.isArray(Se)}function We(Se){return"object"==typeof Se&&null!==Se}function Ct(Se){return"function"==typeof Se}function Nn(){return false}function kn(Se,lt){return Se===lt}function hr(Se,lt,qe){for(let dt=0;dt<Se.length;dt++)if(!qe(Se[dt],lt[dt]))return!0;return!1}function An(Se,lt=kn,qe=kn){let Mt,dt=null,Vt=null;return{memoized:function et(){if(void 0!==Mt)return Mt.result;if(!dt)return Vt=Se.apply(null,arguments),dt=arguments,Vt;if(!hr(arguments,dt,lt))return Vt;const Bt=Se.apply(null,arguments);return dt=arguments,qe(Vt,Bt)?Vt:(Vt=Bt,Bt)},reset:function xn(){dt=null,Vt=null},setResult:function ue(Bt){Mt={result:Bt}},clearResult:function nt(){Mt=void 0}}}function Sn(...Se){return function Jn(Se,lt={stateFn:Vn}){return function(...qe){let dt=qe;if(Array.isArray(dt[0])){const[Bt,...vn]=dt;dt=[...Bt,...vn]}const Vt=dt.slice(0,dt.length-1),Mt=dt[dt.length-1],xn=Vt.filter(Bt=>Bt.release&&"function"==typeof Bt.release),ue=Se(function(...Bt){return Mt.apply(null,Bt)}),nt=An(function(Bt,vn){return lt.stateFn.apply(null,[Bt,Vt,vn,ue])});return Object.assign(nt.memoized,{release:function et(){nt.reset(),ue.reset(),xn.forEach(Bt=>Bt.release())},projector:ue.memoized,setResult:nt.setResult,clearResult:nt.clearResult})}}(An)(...Se)}function Vn(Se,lt,qe,dt){if(void 0===qe){const Mt=lt.map(xn=>xn(Se));return dt.memoized.apply(null,Mt)}const Vt=lt.map(Mt=>Mt(Se,qe));return dt.memoized.apply(null,[...Vt,qe])}function Qn(Se){return Sn(lt=>{const qe=lt[Se];return(0,u.X6Q)()&&!(Se in lt)&&console.warn(`@ngrx/store: The feature name "${Se}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Se}', ...) or StoreModule.forFeature('${Se}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),qe},lt=>lt)}function z(Se,lt){return lt instanceof u.OlP?Se.get(lt):lt}function Z(Se,lt,qe){return qe.map((dt,Vt)=>{if(lt[Vt]instanceof u.OlP){const Mt=Se.get(lt[Vt]);return{key:dt.key,reducerFactory:Mt.reducerFactory?Mt.reducerFactory:cn,metaReducers:Mt.metaReducers?Mt.metaReducers:[],initialState:Mt.initialState}}return dt})}function x(Se,lt){return lt.map(dt=>dt instanceof u.OlP?Se.get(dt):dt)}function le(Se){return"function"==typeof Se?Se():Se}function He(Se,lt){return Se.concat(lt)}function ct(Se){if(Se)throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ut(Se){Object.freeze(Se);const lt=Ct(Se);return Object.getOwnPropertyNames(Se).forEach(qe=>{if(!qe.startsWith("\u0275")&&function Tt(Se,lt){return Object.prototype.hasOwnProperty.call(Se,lt)}(Se,qe)&&(!lt||"caller"!==qe&&"callee"!==qe&&"arguments"!==qe)){const dt=Se[qe];(We(dt)||Ct(dt))&&!Object.isFrozen(dt)&&Ut(dt)}}),Se}function bn(Se,lt=[]){return(kt(Se)||gn(Se))&&0===lt.length?{path:["root"],value:Se}:Object.keys(Se).reduce((dt,Vt)=>{if(dt)return dt;const Mt=Se[Vt];return function qt(Se){return Ct(Se)&&Se.hasOwnProperty("\u0275cmp")}(Mt)?dt:!(kt(Mt)||gn(Mt)||function fn(Se){return"number"==typeof Se}(Mt)||function rn(Se){return"boolean"==typeof Se}(Mt)||function tr(Se){return"string"==typeof Se}(Mt)||mn(Mt))&&(function _t(Se){if(!function Et(Se){return We(Se)&&!mn(Se)}(Se))return!1;const lt=Object.getPrototypeOf(Se);return lt===Object.prototype||null===lt}(Mt)?bn(Mt,[...lt,Vt]):{path:[...lt,Vt],value:Mt})},!1)}function or(Se,lt){if(!1===Se)return;const qe=Se.path.join("."),dt=new Error(`Detected unserializable ${lt} at "${qe}". ${an}#strict${lt}serializability`);throw dt.value=Se.value,dt.unserializablePath=qe,dt}function En(Se){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Se}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function qn({strictActionSerializability:Se,strictStateSerializability:lt}){return qe=>Se||lt?function Tn(Se,lt){return function(qe,dt){lt.action(dt)&&or(bn(dt),"action");const Vt=Se(qe,dt);return lt.state()&&or(bn(Vt),"state"),Vt}}(qe,{action:dt=>Se&&!Ln(dt),state:()=>lt}):qe}function Ar({strictActionImmutability:Se,strictStateImmutability:lt}){return qe=>Se||lt?function Gt(Se,lt){return function(qe,dt){const Vt=lt.action(dt)?Ut(dt):dt,Mt=Se(qe,Vt);return lt.state()?Ut(Mt):Mt}}(qe,{action:dt=>Se&&!Ln(dt),state:()=>lt}):qe}function Ln(Se){return Se.type.startsWith("@ngrx")}function yr({strictActionWithinNgZone:Se}){return lt=>Se?function Un(Se,lt){return function(qe,dt){if(lt.action(dt)&&!u.R0b.isInAngularZone())throw new Error(`Action '${dt.type}' running outside NgZone. ${an}#strictactionwithinngzone`);return Se(qe,dt)}}(lt,{action:qe=>Se&&!Ln(qe)}):lt}function Tr(Se){return[{provide:Wt,useValue:Se},{provide:Qt,useFactory:$r,deps:[Wt]},{provide:Lt,deps:[Qt],useFactory:En},{provide:Xt,multi:!0,deps:[Lt],useFactory:Ar},{provide:Xt,multi:!0,deps:[Lt],useFactory:qn},{provide:Xt,multi:!0,deps:[Lt],useFactory:yr}]}function hn(){return[{provide:wt,multi:!0,deps:[Lt],useFactory:ir}]}function $r(Se){return Se}function ir(Se){if(!Se.strictActionTypeUniqueness)return;const lt=Object.entries(H).filter(([,qe])=>qe>1).map(([qe])=>qe);if(lt.length)throw new Error(`Action types are registered more than once, ${lt.map(qe=>`"${qe}"`).join(", ")}. ${an}#strictactiontypeuniqueness`)}function Sr(Se,lt){return[{provide:Ie,useFactory:ct,deps:[[at,new u.FiY,new u.tp0]]},{provide:he,useValue:lt.initialState},{provide:pe,useFactory:le,deps:[he]},{provide:oe,useValue:Se},{provide:Re,useExisting:Se instanceof u.OlP?Se:oe},{provide:be,deps:[u.zs3,oe,[new u.tBr(Re)]],useFactory:z},{provide:zt,useValue:lt.metaReducers?lt.metaReducers:[]},{provide:gt,deps:[Xt,zt],useFactory:He},{provide:_e,useValue:lt.reducerFactory?lt.reducerFactory:cn},{provide:ne,deps:[_e,gt],useFactory:Zn},ze,St,_n,st,Jt,Tr(lt.runtimeChecks),hn()]}function Xn(Se,lt,qe={}){return[{provide:Qe,multi:!0,useValue:Se instanceof Object?{}:qe},{provide:Fe,multi:!0,useValue:{key:Se instanceof Object?Se.name:Se,reducerFactory:qe instanceof u.OlP||!qe.reducerFactory?cn:qe.reducerFactory,metaReducers:qe instanceof u.OlP||!qe.metaReducers?[]:qe.metaReducers,initialState:qe instanceof u.OlP||!qe.initialState?void 0:qe.initialState}},{provide:rt,deps:[u.zs3,Qe,Fe],useFactory:Z},{provide:pt,multi:!0,useValue:Se instanceof Object?Se.reducer:lt},{provide:we,multi:!0,useExisting:lt instanceof u.OlP?lt:pt},{provide:Yt,multi:!0,deps:[u.zs3,pt,[new u.tBr(we)]],useFactory:x},hn()]}let nr=(()=>{class Se{constructor(qe,dt,Vt,Mt,xn,ue){}}return Se.\u0275fac=function(qe){return new(qe||Se)(u.LFG(Ne),u.LFG(bt),u.LFG(nn),u.LFG(at),u.LFG(Ie,8),u.LFG(wt,8))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({}),Se})(),Br=(()=>{class Se{constructor(qe,dt,Vt,Mt,xn){this.features=qe,this.featureReducers=dt,this.reducerManager=Vt;const ue=qe.map((nt,et)=>{const vn=dt.shift()[et];return{...nt,reducers:vn,initialState:le(nt.initialState)}});Vt.addFeatures(ue)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Se.\u0275fac=function(qe){return new(qe||Se)(u.LFG(rt),u.LFG(Yt),u.LFG(Dt),u.LFG(nr),u.LFG(wt,8))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({}),Se})(),wr=(()=>{class Se{static forRoot(qe,dt={}){return{ngModule:nr,providers:[...Sr(qe,dt)]}}static forFeature(qe,dt,Vt={}){return{ngModule:Br,providers:[...Xn(qe,dt,Vt)]}}}return Se.\u0275fac=function(qe){return new(qe||Se)},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({}),Se})()},5344:(de,Q,m)=>{"use strict";m.d(Q,{AJ:()=>re,FA:()=>Ge,HZ:()=>Ne,JW:()=>Le,Kj:()=>ze});var u=m(5861),e=m(6895),h=m(4650),N=m(1446),D=m(9057),P=m(4850),k=m(2986),M=m(7545),G=m(591),V=m(6053),I=m(1086),H=m(5254),$=m(8555),J=m(6538);const re="asm_enabled";let ae=(()=>{class Ie{constructor(pe,ne,_e,be){this.location=pe,this.winRef=ne,this.launchDialogService=_e,this.featureModules=be}load(){this.isEnabled()&&this.addUi()}isEnabled(){return this.isLaunched()&&!this.isUsedBefore()&&this.winRef.localStorage&&this.winRef.localStorage.setItem(re,"true"),this.isLaunched()||this.isUsedBefore()}isLaunched(){const pe=this.location.path().split("?")[1];return!!pe&&pe.split("&").includes("asm=true")}isUsedBefore(){return!!this.winRef.localStorage&&"true"===this.winRef.localStorage.getItem(re)}addUi(){this.featureModules.resolveFeature("asm").subscribe(()=>this.launchDialogService.launch("ASM"))}}return Ie.\u0275fac=function(pe){return new(pe||Ie)(h.LFG(e.Ye),h.LFG(D.X9E),h.LFG(N.Q3W),h.LFG(D.q2V))},Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),De=(()=>{class Ie{}return Ie.\u0275fac=function(pe){return new(pe||Ie)},Ie.\u0275mod=h.oAB({type:Ie}),Ie.\u0275inj=h.cJS({providers:[{provide:h.ip1,useFactory:Ze,deps:[ae],multi:!0}],imports:[e.ez,N._Gt]}),Ie})();function Ze(Ie){return()=>{Ie.load()}}var Xe=(()=>{return(Ie=Xe||(Xe={})).CSAgent="CSAgent",Ie.User="User",Xe;var Ie})();let Le=(()=>{class Ie extends D.jg0{constructor(){super(...arguments),this._tokenTarget$=new G.X(Xe.User)}getTokenTarget(){return this._tokenTarget$}setTokenTarget(pe){this._tokenTarget$.next(pe)}getEmulatedUserToken(){return this.emulatedUserToken}setEmulatedUserToken(pe){this.emulatedUserToken=pe}switchTokenTargetToCSAgent(){this._tokenTarget$.next(Xe.CSAgent)}switchTokenTargetToUser(){this._tokenTarget$.next(Xe.User)}clearEmulatedUserToken(){this.emulatedUserToken=void 0}}return Ie.\u0275fac=function(){let he;return function(ne){return(he||(he=h.n5z(Ie)))(ne||Ie)}}(),Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),Ge=(()=>{class Ie{constructor(pe,ne,_e,be,oe,Fe){this.authService=pe,this.authStorageService=ne,this.userIdService=_e,this.oAuthLibWrapperService=be,this.store=oe,this.userProfileFacade=Fe}authorizeCustomerSupportAgent(pe,ne){var _e=this;return(0,u.Z)(function*(){let be;_e.authStorageService.getToken().subscribe(oe=>be=oe).unsubscribe(),_e.authStorageService.switchTokenTargetToCSAgent();try{let oe;yield _e.oAuthLibWrapperService.authorizeWithPasswordFlow(pe,ne),_e.userProfileFacade.get().subscribe(Fe=>oe=Fe?.customerId).unsubscribe(),_e.store.dispatch(new D.uQL.Logout),void 0!==oe&&void 0!==be?(_e.userIdService.setUserId(oe),_e.authStorageService.setEmulatedUserToken(be),_e.store.dispatch(new D.uQL.Login)):(_e.userIdService.setUserId(D.Fds),_e.authStorageService.clearEmulatedUserToken())}catch{_e.authStorageService.switchTokenTargetToUser()}})()}startCustomerEmulationSession(pe){this.authStorageService.clearEmulatedUserToken(),this.store.dispatch(new D.uQL.Logout),this.userIdService.setUserId(pe),this.store.dispatch(new D.uQL.Login)}isCustomerSupportAgentLoggedIn(){return(0,V.aj)([this.authStorageService.getToken(),this.authStorageService.getTokenTarget()]).pipe((0,P.U)(([pe,ne])=>Boolean(pe?.access_token&&ne===Xe.CSAgent)))}isCustomerEmulated(){return this.userIdService.isEmulated()}getCustomerSupportAgentTokenLoading(){return(0,I.of)(!1)}logoutCustomerSupportAgent(){var pe=this;return(0,u.Z)(function*(){const ne=pe.authStorageService.getEmulatedUserToken();let _e;pe.userIdService.isEmulated().subscribe(be=>_e=be).unsubscribe(),yield pe.oAuthLibWrapperService.revokeAndLogout(),pe.store.dispatch({type:"[Auth] Logout Customer Support Agent"}),pe.authStorageService.setTokenTarget(Xe.User),_e&&ne?(pe.store.dispatch(new D.uQL.Logout),pe.authStorageService.setToken(ne),pe.userIdService.setUserId(D.zyp),pe.authStorageService.clearEmulatedUserToken(),pe.store.dispatch(new D.uQL.Login)):pe.authService.logout()})()}}return Ie.\u0275fac=function(pe){return new(pe||Ie)(h.LFG(D.e80),h.LFG(Le),h.LFG(D.XBV),h.LFG(D.DzN),h.LFG($.yh),h.LFG(J.aT))},Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),me=(()=>{class Ie extends D.i$2{constructor(pe,ne,_e,be,oe,Fe,Re,pt){super(pe,ne,be,oe,Re,Fe,pt),this.authService=pe,this.authStorageService=ne,this.csAgentAuthService=_e,this.oAuthLibWrapperService=be,this.routingService=oe,this.globalMessageService=Fe,this.occEndpointsService=Re,this.authRedirectService=pt}shouldAddAuthorizationHeader(pe){return super.shouldAddAuthorizationHeader(pe)||this.isCSAgentTokenRequest(pe)}shouldCatchError(pe){return super.shouldCatchError(pe)||this.isCSAgentTokenRequest(pe)}alterRequest(pe,ne){const _e=!!this.getAuthorizationHeader(pe),be=this.isCSAgentTokenRequest(pe);let oe=super.alterRequest(pe,ne);return!_e&&be?(oe=pe.clone({setHeaders:{...this.createAuthorizationHeader(ne)}}),D.Fox.removeHeader(D.OPk,oe)):oe}isCSAgentTokenRequest(pe){const ne=D.Fox.getInterceptorParam(D.OPk,pe.headers);return Boolean(ne)}handleExpiredRefreshToken(){this.csAgentAuthService.isCustomerSupportAgentLoggedIn().pipe((0,k.q)(1)).subscribe(pe=>{pe?(this.authService.setLogoutProgress(!0),this.csAgentAuthService.logoutCustomerSupportAgent(),this.globalMessageService.add({key:"asm.csagentTokenExpired"},D.xUg.MSG_TYPE_ERROR)):super.handleExpiredRefreshToken()})}}return Ie.\u0275fac=function(pe){return new(pe||Ie)(h.LFG(D.e80),h.LFG(D.jg0),h.LFG(Ge),h.LFG(D.DzN),h.LFG(D.Znh),h.LFG(D.IWp),h.LFG(D.Lz0),h.LFG(D.FUY))},Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),se=(()=>{class Ie extends D.e80{constructor(pe,ne,_e,be,oe,Fe,Re){super(pe,ne,_e,be,oe,Re),this.store=pe,this.userIdService=ne,this.oAuthLibWrapperService=_e,this.authStorageService=be,this.authRedirectService=oe,this.globalMessageService=Fe,this.routingService=Re}canUserLogin(){let pe,ne;return this.authStorageService.getToken().subscribe(_e=>ne=_e).unsubscribe(),this.authStorageService.getTokenTarget().subscribe(_e=>pe=_e).unsubscribe(),!(Boolean(ne?.access_token)&&pe===Xe.CSAgent)}warnAboutLoggedCSAgent(){this.globalMessageService.add({key:"asm.auth.agentLoggedInError"},D.xUg.MSG_TYPE_ERROR)}loginWithCredentials(pe,ne){var _e=()=>super.loginWithCredentials,be=this;return(0,u.Z)(function*(){be.canUserLogin()?yield _e().call(be,pe,ne):be.warnAboutLoggedCSAgent()})()}loginWithRedirect(){return this.canUserLogin()?(super.loginWithRedirect(),!0):(this.warnAboutLoggedCSAgent(),!1)}coreLogout(){return this.userIdService.isEmulated().pipe((0,k.q)(1),(0,M.w)(pe=>pe?(this.authStorageService.clearEmulatedUserToken(),this.userIdService.clearUserId(),this.store.dispatch(new D.uQL.Logout),(0,I.of)(!0)):(0,H.D)(super.coreLogout()))).toPromise()}isUserLoggedIn(){return(0,V.aj)([this.authStorageService.getToken(),this.userIdService.isEmulated(),this.authStorageService.getTokenTarget()]).pipe((0,P.U)(([pe,ne,_e])=>Boolean(pe?.access_token)&&(_e===Xe.User||_e===Xe.CSAgent&&ne)))}}return Ie.\u0275fac=function(pe){return new(pe||Ie)(h.LFG($.yh),h.LFG(D.XBV),h.LFG(D.DzN),h.LFG(Le),h.LFG(D.FUY),h.LFG(D.IWp),h.LFG(D.Znh))},Ie.\u0275prov=h.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),Ne=(()=>{class Ie{}return Ie.\u0275fac=function(pe){return new(pe||Ie)},Ie.\u0275mod=h.oAB({type:Ie}),Ie.\u0275inj=h.cJS({providers:[{provide:D.jg0,useExisting:Le},{provide:D.e80,useExisting:se},{provide:D.i$2,useExisting:me}],imports:[De]}),Ie})();const ze="asm"},599:(de,Q,m)=>{"use strict";m.r(Q),m.d(Q,{MiniCartComponent:()=>Ze,MiniCartComponentService:()=>De,MiniCartModule:()=>Xe});var u=m(4650),e=m(3749),h=m(9057),N=m(1086),D=m(6053),P=m(7545),k=m(1059),M=m(4850),G=m(5778),V=m(4290),I=m(1446),H=m(610),$=m(6895);const J=function(){return{cxRoute:"cart"}},re=function(Le){return{count:Le}},ae=function(Le){return{total:Le}};let De=(()=>{class Le{constructor(me,se,Ne,ze,Ie){this.activeCartFacade=me,this.authService=se,this.statePersistenceService=Ne,this.siteContextParamsService=ze,this.eventService=Ie}getQuantity(){return this.activeCartRequired().pipe((0,P.w)(me=>me?this.activeCartFacade.getActive().pipe((0,k.O)({deliveryItemsQuantity:0}),(0,M.U)(se=>se.deliveryItemsQuantity||0)):(0,N.of)(0)))}getTotalPrice(){return this.activeCartRequired().pipe((0,P.w)(me=>me?this.activeCartFacade.getActive().pipe((0,M.U)(se=>se.totalPrice?.formattedValue??"")):(0,N.of)("")))}activeCartRequired(){return(0,D.aj)([this.hasActiveCartInStorage(),this.authService.isUserLoggedIn(),this.isCartCreated()]).pipe((0,M.U)(([me,se,Ne])=>me||se||Ne),(0,G.x)(),(0,V.o)(me=>!me,!0))}hasActiveCartInStorage(){return this.getCartStateFromBrowserStorage().pipe((0,M.U)(me=>Boolean(me?.active)))}isCartCreated(){return this.eventService.get(e.su).pipe((0,M.U)(me=>!0),(0,k.O)(!1))}getCartStateFromBrowserStorage(){return this.siteContextParamsService.getValues([h.iEg]).pipe((0,M.U)(me=>this.statePersistenceService.readStateFromStorage({key:"cart",context:me,storageType:h.iHd.LOCAL_STORAGE})))}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(e.bu),u.LFG(h.e80),u.LFG(h.WBb),u.LFG(h.Qnj),u.LFG(h.POd))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),Ze=(()=>{class Le{constructor(me){this.miniCartComponentService=me,this.iconTypes=I.e1G,this.quantity$=this.miniCartComponentService.getQuantity(),this.total$=this.miniCartComponentService.getTotalPrice()}}return Le.\u0275fac=function(me){return new(me||Le)(u.Y36(De))},Le.\u0275cmp=u.Xpm({type:Le,selectors:[["cx-mini-cart"]],decls:13,vars:29,consts:[[3,"routerLink"],[3,"type"],[1,"total"],[1,"count"]],template:function(me,se){1&me&&(u.TgZ(0,"a",0),u.ALo(1,"cxTranslate"),u.ALo(2,"async"),u.ALo(3,"cxUrl"),u._UZ(4,"cx-icon",1),u.TgZ(5,"span",2),u._uU(6),u.ALo(7,"cxTranslate"),u.ALo(8,"async"),u.qZA(),u.TgZ(9,"span",3),u._uU(10),u.ALo(11,"cxTranslate"),u.ALo(12,"async"),u.qZA()()),2&me&&(u.Q6J("routerLink",u.lcZ(3,10,u.DdM(22,J))),u.uIk("aria-label",u.xi3(1,5,"miniCart.item",u.VKq(23,re,u.lcZ(2,8,se.quantity$)))),u.xp6(4),u.Q6J("type",se.iconTypes.CART),u.xp6(2),u.hij(" ",u.xi3(7,12,"miniCart.total",u.VKq(25,ae,u.lcZ(8,15,se.total$)))," "),u.xp6(4),u.hij(" ",u.xi3(11,17,"miniCart.count",u.VKq(27,re,u.lcZ(12,20,se.quantity$)))," "))},dependencies:[H.yS,I.oJW,$.Ov,h.l2T,h.X$D],encapsulation:2,changeDetection:0}),Le})(),Xe=(()=>{class Le{}return Le.\u0275fac=function(me){return new(me||Le)},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[(0,h.i51)({cmsComponents:{MiniCartComponent:{component:Ze}}})],imports:[$.ez,H.Bz,h.bhT,I.QX1,h.LUR]}),Le})()},9505:(de,Q,m)=>{"use strict";m.d(Q,{CP:()=>Or,YA:()=>dn,$:()=>gr,YW:()=>ho,Jp:()=>Kr,r_:()=>No,CQ:()=>go,vI:()=>Mn,ym:()=>$o,n5:()=>to,i4:()=>Li,Eu:()=>Xn,N4:()=>Yt,Qx:()=>Pr,xb:()=>Mt,F7:()=>qr});var u=m(4650),e=m(9057),h=m(8555),N=m(3749),D=m(4850),P=m(1406),k=m(7221),M=m(1709),G=m(4002),V=m(7545),I=m(7168),H=m(2198),$=m(5778),re=m(2994),ae=m(2986),De=m(2313),Ze=m(5154),Xe=m(519),Le=m(1177);class me{constructor(Ue){this.durationSelector=Ue}call(Ue,ee){return ee.subscribe(new se(Ue,this.durationSelector))}}class se extends Le.Ds{constructor(Ue,ee){super(Ue),this.durationSelector=ee,this.hasValue=!1}_next(Ue){try{const ee=this.durationSelector.call(this,Ue);ee&&this._tryNext(Ue,ee)}catch(ee){this.destination.error(ee)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(Ue,ee){let Ve=this.durationSubscription;this.value=Ue,this.hasValue=!0,Ve&&(Ve.unsubscribe(),this.remove(Ve)),Ve=(0,Le.ft)(ee,new Le.IY(this)),Ve&&!Ve.closed&&this.add(this.durationSubscription=Ve)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const Ue=this.value,ee=this.durationSubscription;ee&&(this.durationSubscription=void 0,ee.unsubscribe(),this.remove(ee)),this.value=void 0,this.hasValue=!1,super._next(Ue)}}}var Ne=m(5254),ze=m(1086),Ie=m(2654),he=m(5409),pe=m(6053),ne=m(839),_e=m(8723),be=m(8896),oe=m(5024),Fe=m(655),Re=m(1446),pt=m(6538),Qe=m(6895),rt=m(610);const Yt="[Multi Cart] Multi Cart Data",zt="addVoucher",Xt="[Cart-entry] Add Entry",gt="[Cart-entry] Add Entry Success",Qt="[Cart-entry] Add Entry Fail",Wt="[Cart-entry] Remove Entry",Lt="[Cart-entry] Remove Entry Success",wt="[Cart-entry] Remove Entry Fail",Pn="[Cart-entry] Update Entry",Rt="[Cart-entry] Update Entry Success",cn="[Cart-entry] Update Entry Fail";class yn extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Xt}}class Ft extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=gt}}class Zn extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Qt}}class Ot extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Wt}}class bt extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Lt}}class ke extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=wt}}class je extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Pn}}class Dt extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Rt}}class St extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=cn}}const nn="[Cart-voucher] Add Cart Vouchers",_n="[Cart-voucher] Add Cart Voucher Fail",it="[Cart-voucher] Add Cart Voucher Success",Ae="[Cart-voucher] Reset Add Cart Voucher",Ee="[Cart-voucher] Remove Cart Voucher",st="[Cart-voucher] Remove Cart Voucher Fail",at="[Cart-voucher] Remove Cart Voucher Success";class Jt extends e.kPG.EntityLoadAction{constructor(Ue){super(e.BzF,zt),this.payload=Ue,this.type=nn}}class Nt extends e.kPG.EntityFailAction{constructor(Ue){super(e.BzF,zt,Ue.error),this.payload=Ue,this.type=_n}}class an extends e.kPG.EntitySuccessAction{constructor(Ue){super(e.BzF,zt),this.payload=Ue,this.type=it}}class kt extends e.kPG.EntityLoaderResetAction{constructor(){super(e.BzF,zt),this.type=Ae}}class gn extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Ee}}class mn extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=st}}class tr extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=at}}const rn="[Cart] Create Cart",fn="[Cart] Create Cart Fail",We="[Cart] Create Cart Success",Et="[Cart] Load Cart",_t="[Cart] Load Cart Fail",Ct="[Cart] Load Cart Success",qt="[Cart] Load Carts Success",Tt="[Cart] Add Email to Cart",Ke="[Cart] Add Email to Cart Fail",Dn="[Cart] Add Email to Cart Success",Nn="[Cart] Merge Cart",kn="[Cart] Merge Cart Success",hr="[Cart] Reset Cart Details",un="[Cart] Remove Cart",An="[Cart] Delete Cart",Sn="[Cart] Delete Cart Success",Vn="[Cart] Delete Cart Fail";class Jn extends e.kPG.EntityLoadAction{constructor(Ue){super(Yt,Ue.tempCartId),this.payload=Ue,this.type=rn}}class Qn extends e.kPG.EntityFailAction{constructor(Ue){super(Yt,Ue.tempCartId),this.payload=Ue,this.type=fn}}class ye extends e.kPG.EntitySuccessAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=We}}class Te extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Tt}}class ie extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Ke}}class z extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Dn}}class Z extends e.kPG.EntityLoadAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Et}}class x extends e.kPG.EntityFailAction{constructor(Ue){super(Yt,Ue.cartId,Ue.error),this.payload=Ue,this.type=_t}}class le extends e.kPG.EntitySuccessAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Ct}}class ct{constructor(Ue){this.payload=Ue,this.type=Nn}}class Gt extends e.kPG.EntityRemoveAction{constructor(Ue){super(Yt,Ue.oldCartId),this.payload=Ue,this.type=kn}}class Ut extends e.kPG.ProcessesLoaderResetAction{constructor(){super(Yt),this.type=hr}}class Tn extends e.kPG.EntityRemoveAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=un}}class bn{constructor(Ue){this.payload=Ue,this.type=An}}class or extends e.kPG.EntityRemoveAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Sn}}class Un{constructor(Ue){this.payload=Ue,this.type=Vn}}const En="[Cart] Cart Processes Increment",qn="[Cart] Cart Processes Decrement",Ar="[Cart] Set Active Cart Id",Ln="[Cart] Clear Cart State",yr="[Cart] Set cart type index",Tr="[Cart] Set cart data";class hn extends e.kPG.EntityProcessesIncrementAction{constructor(Ue){super(Yt,Ue),this.payload=Ue,this.type=En}}class $r extends e.kPG.EntityProcessesDecrementAction{constructor(Ue){super(Yt,Ue),this.payload=Ue,this.type=qn}}class ir{constructor(Ue){this.payload=Ue,this.type=Ar}}class sr extends e.kPG.EntityRemoveAllAction{constructor(){super(Yt),this.type=Ln}}class Sr{constructor(Ue){this.payload=Ue,this.type=yr}}var gr=Object.freeze({__proto__:null,CART_ADD_ENTRY:Xt,CART_ADD_ENTRY_SUCCESS:gt,CART_ADD_ENTRY_FAIL:Qt,CART_REMOVE_ENTRY:Wt,CART_REMOVE_ENTRY_SUCCESS:Lt,CART_REMOVE_ENTRY_FAIL:wt,CART_UPDATE_ENTRY:Pn,CART_UPDATE_ENTRY_SUCCESS:Rt,CART_UPDATE_ENTRY_FAIL:cn,CartAddEntry:yn,CartAddEntrySuccess:Ft,CartAddEntryFail:Zn,CartRemoveEntry:Ot,CartRemoveEntrySuccess:bt,CartRemoveEntryFail:ke,CartUpdateEntry:je,CartUpdateEntrySuccess:Dt,CartUpdateEntryFail:St,CART_ADD_VOUCHER:nn,CART_ADD_VOUCHER_FAIL:_n,CART_ADD_VOUCHER_SUCCESS:it,CART_RESET_ADD_VOUCHER:Ae,CART_REMOVE_VOUCHER:Ee,CART_REMOVE_VOUCHER_FAIL:st,CART_REMOVE_VOUCHER_SUCCESS:at,CartAddVoucher:Jt,CartAddVoucherFail:Nt,CartAddVoucherSuccess:an,CartResetAddVoucher:kt,CartRemoveVoucher:gn,CartRemoveVoucherFail:mn,CartRemoveVoucherSuccess:tr,CREATE_CART:rn,CREATE_CART_FAIL:fn,CREATE_CART_SUCCESS:We,LOAD_CART:Et,LOAD_CART_FAIL:_t,LOAD_CART_SUCCESS:Ct,LOAD_CARTS_SUCCESS:qt,ADD_EMAIL_TO_CART:Tt,ADD_EMAIL_TO_CART_FAIL:Ke,ADD_EMAIL_TO_CART_SUCCESS:Dn,MERGE_CART:Nn,MERGE_CART_SUCCESS:kn,RESET_CART_DETAILS:hr,REMOVE_CART:un,DELETE_CART:An,DELETE_CART_SUCCESS:Sn,DELETE_CART_FAIL:Vn,CreateCart:Jn,CreateCartFail:Qn,CreateCartSuccess:ye,AddEmailToCart:Te,AddEmailToCartFail:ie,AddEmailToCartSuccess:z,LoadCart:Z,LoadCartFail:x,LoadCartSuccess:le,LoadCartsSuccess:class He extends e.kPG.EntitySuccessAction{constructor(Ue){super(Yt,Ue.map(ee=>ee?.code??"")),this.payload=Ue,this.type=qt}},MergeCart:ct,MergeCartSuccess:Gt,ResetCartDetails:Ut,RemoveCart:Tn,DeleteCart:bn,DeleteCartSuccess:or,DeleteCartFail:Un,CART_PROCESSES_INCREMENT:En,CART_PROCESSES_DECREMENT:qn,SET_ACTIVE_CART_ID:Ar,CLEAR_CART_STATE:Ln,SET_CART_TYPE_INDEX:yr,SET_CART_DATA:Tr,CartProcessesIncrement:hn,CartProcessesDecrement:$r,SetActiveCartId:ir,ClearCartState:sr,SetCartTypeIndex:Sr,SetCartData:class br extends e.kPG.EntitySuccessAction{constructor(Ue){super(Yt,Ue.cartId),this.payload=Ue,this.type=Tr}}});class Mn{}let Rn=(()=>{class fe{constructor(ee){this.adapter=ee}add(ee,Ve,$e,ge){return this.adapter.add(ee,Ve,$e,ge)}update(ee,Ve,$e,ge,Ht){return this.adapter.update(ee,Ve,$e,ge,Ht)}remove(ee,Ve,$e){return this.adapter.remove(ee,Ve,$e)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(Mn))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ur=(()=>{class fe{constructor(ee,Ve){this.actions$=ee,this.cartEntryConnector=Ve,this.contextChange$=this.actions$.pipe((0,oe.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.addEntry$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Xt),(0,D.U)($e=>$e.payload),(0,P.b)($e=>this.cartEntryConnector.add($e.userId,$e.cartId,$e.productCode,$e.quantity).pipe((0,D.U)(ge=>new Ft({...$e,...ge})),(0,k.K)(ge=>(0,Ne.D)([new Zn({...$e,error:(0,e.cxH)(ge)}),new Z({cartId:$e.cartId,userId:$e.userId})])))),(0,e.FM_)(this.contextChange$))),this.removeEntry$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Wt),(0,D.U)($e=>$e.payload),(0,P.b)($e=>this.cartEntryConnector.remove($e.userId,$e.cartId,$e.entryNumber).pipe((0,D.U)(()=>new bt({...$e})),(0,k.K)(ge=>(0,Ne.D)([new ke({...$e,error:(0,e.cxH)(ge)}),new Z({cartId:$e.cartId,userId:$e.userId})])))),(0,e.FM_)(this.contextChange$))),this.updateEntry$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Pn),(0,D.U)($e=>$e.payload),(0,P.b)($e=>this.cartEntryConnector.update($e.userId,$e.cartId,$e.entryNumber,$e.quantity).pipe((0,D.U)(()=>new Dt({...$e})),(0,k.K)(ge=>(0,Ne.D)([new St({...$e,error:(0,e.cxH)(ge)}),new Z({cartId:$e.cartId,userId:$e.userId})])))),(0,e.FM_)(this.contextChange$)))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(oe.eX),u.LFG(Rn))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Xn{}let nr=(()=>{class fe{constructor(ee){this.adapter=ee}add(ee,Ve,$e){return this.adapter.add(ee,Ve,$e)}remove(ee,Ve,$e){return this.adapter.remove(ee,Ve,$e)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(Xn))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Br=(()=>{class fe{constructor(ee,Ve,$e){this.actions$=ee,this.cartVoucherConnector=Ve,this.messageService=$e,this.addCartVoucher$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(nn),(0,D.U)(ge=>ge.payload),(0,M.zg)(ge=>this.cartVoucherConnector.add(ge.userId,ge.cartId,ge.voucherId).pipe((0,D.U)(()=>(this.showGlobalMessage("voucher.applyVoucherSuccess",ge.voucherId,e.xUg.MSG_TYPE_CONFIRMATION),new an({...ge}))),(0,k.K)(Ht=>(0,Ne.D)([new Nt({...ge,error:(0,e.cxH)(Ht)}),new $r(ge.cartId),new Z({userId:ge.userId,cartId:ge.cartId})])))))),this.removeCartVoucher$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Ee),(0,D.U)(ge=>ge.payload),(0,M.zg)(ge=>this.cartVoucherConnector.remove(ge.userId,ge.cartId,ge.voucherId).pipe((0,D.U)(()=>(this.showGlobalMessage("voucher.removeVoucherSuccess",ge.voucherId,e.xUg.MSG_TYPE_INFO),new tr({userId:ge.userId,cartId:ge.cartId,voucherId:ge.voucherId}))),(0,k.K)(Ht=>(0,Ne.D)([new mn({error:(0,e.cxH)(Ht),cartId:ge.cartId,userId:ge.userId,voucherId:ge.voucherId}),new Z({userId:ge.userId,cartId:ge.cartId})]))))))}showGlobalMessage(ee,Ve,$e){this.messageService.add({key:ee,params:{voucherCode:Ve}},$e)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(oe.eX),u.LFG(nr),u.LFG(e.IWp))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function wr(fe,Ue){return Ue===e.Fds?fe?.guid??"":fe?.code??""}function qr(fe=""){return fe.startsWith("selectivecart")}function Er(fe){return"notFound"===fe.reason&&"cart"===fe.subjectType&&!qr(fe.subject)}function qe(fe){return"VoucherOperationError"===fe.type}function dt(fe){return"CartError"===fe.type||"CartAddressError"===fe.type||"CartEntryError"===fe.type||"CartEntryGroupError"===fe.type}function Vt(fe){return fe.startsWith("temp-")}function Mt(fe){return!fe||"object"==typeof fe&&0===Object.keys(fe).length}const nt=(0,h.ZF)("cart"),et=(0,h.P1)(nt,fe=>fe.carts),vn=fe=>(0,h.P1)(et,Ue=>e.kPG.entityValueSelector(Ue,fe)),Yr=fe=>(0,h.P1)(vn(fe),Ue=>Ue&&Ue.entries?Ue.entries:[]),gi=(0,h.P1)(et,fe=>Object.keys(fe.entities).map(Ue=>e.kPG.entityValueSelector(fe,Ue))),Ir=(0,h.P1)(nt,fe=>fe.index);class ho{}let go=(()=>{class fe{constructor(ee){this.adapter=ee}loadAll(ee){return this.adapter.loadAll(ee)}load(ee,Ve){return this.adapter.load(ee,Ve)}create(ee,Ve,$e){return this.adapter.create(ee,Ve,$e)}delete(ee,Ve){return this.adapter.delete(ee,Ve)}save(ee,Ve,$e,ge){return this.adapter.save(ee,Ve,$e,ge)}addEmail(ee,Ve,$e){return this.adapter.addEmail(ee,Ve,$e)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(ho))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();const mo=[ur,Br,(()=>{class fe{constructor(ee,Ve,$e){this.actions$=ee,this.cartConnector=Ve,this.store=$e,this.contextChange$=this.actions$.pipe((0,oe.l4)(e.dO9.CURRENCY_CHANGE,e.dO9.LANGUAGE_CHANGE)),this.loadCart$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Et),(0,D.U)(ge=>ge.payload),(0,G.v)(ge=>ge.cartId),(0,M.zg)(ge=>ge.pipe((0,V.w)(Ht=>(0,ze.of)(Ht).pipe((0,I.M)(this.store.pipe((0,h.Ys)((fe=>(0,h.P1)(et,Ue=>e.kPG.entityHasPendingProcessesSelector(Ue,fe)))(Ht.cartId)))))),(0,H.h)(([Ht,Bn])=>!Bn),(0,D.U)(([Ht])=>Ht),(0,V.w)(Ht=>this.cartConnector.load(Ht.userId,Ht.cartId).pipe((0,M.zg)(Bn=>{let ro=[];return Bn?(ro.push(new le({...Ht,cart:Bn,cartId:wr(Bn,Ht.userId)})),Ht.cartId===e.gSv&&ro.push(new Tn({cartId:e.gSv}))):ro=[new x({...Ht,error:{}})],ro}),(0,k.K)(Bn=>{if(Bn?.error?.errors){if(Bn.error.errors.filter(B=>"invalid"===B.reason).length>0)return(0,ze.of)(new Z({...Ht}));if(Bn.error.errors.filter(B=>Er(B)||"UnknownResourceError"===B.reason).length>0)return(0,ze.of)(new Tn({cartId:Ht.cartId}))}return(0,ze.of)(new x({...Ht,error:(0,e.cxH)(Bn)}))}))))),(0,e.FM_)(this.contextChange$))),this.createCart$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(rn),(0,D.U)(ge=>ge.payload),(0,M.zg)(ge=>this.cartConnector.create(ge.userId,ge.oldCartId,ge.toMergeCartGuid).pipe((0,V.w)(Ht=>{const Bn=[];return ge.oldCartId&&Bn.push(new Gt({extraData:ge.extraData,userId:ge.userId,tempCartId:ge.tempCartId,cartId:wr(Ht,ge.userId),oldCartId:ge.oldCartId})),[new ye({...ge,cart:Ht,cartId:wr(Ht,ge.userId)}),new Tn({cartId:ge.tempCartId}),...Bn]}),(0,k.K)(Ht=>(0,ze.of)(new Qn({...ge,error:(0,e.cxH)(Ht)}))))),(0,e.FM_)(this.contextChange$))),this.mergeCart$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Nn),(0,D.U)(ge=>ge.payload),(0,V.w)(ge=>this.cartConnector.load(ge.userId,e.gSv).pipe((0,D.U)(Ht=>{if(Ht?.code!==ge.cartId)return new Jn({userId:ge.userId,oldCartId:ge.cartId,toMergeCartGuid:Ht?Ht.guid:void 0,extraData:ge.extraData,tempCartId:ge.tempCartId})}),(0,H.h)(e.pTN))),(0,e.FM_)(this.contextChange$))),this.refresh$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(it),(0,D.U)(ge=>ge.payload),(0,P.b)(ge=>(0,Ne.D)([new $r(ge.cartId),new Z({userId:ge.userId,cartId:ge.cartId})])))),this.refreshWithoutProcesses$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(gt,Lt,Rt,at),(0,D.U)(ge=>ge.payload),(0,D.U)(ge=>new Z({userId:ge.userId,cartId:ge.cartId})))),this.resetCartDetailsOnSiteContextChange$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(e.dO9.LANGUAGE_CHANGE,e.dO9.CURRENCY_CHANGE),(0,M.zg)(()=>[new Ut]))),this.addEmail$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(Tt),(0,D.U)(ge=>ge.payload),(0,M.zg)(ge=>this.cartConnector.addEmail(ge.userId,ge.cartId,ge.email).pipe((0,M.zg)(()=>[new z({...ge}),new Z({userId:ge.userId,cartId:ge.cartId})]),(0,k.K)(Ht=>(0,Ne.D)([new ie({...ge,error:(0,e.cxH)(Ht)}),new Z({userId:ge.userId,cartId:ge.cartId})])))),(0,e.FM_)(this.contextChange$))),this.deleteCart$=(0,oe.GW)(()=>this.actions$.pipe((0,oe.l4)(An),(0,D.U)(ge=>ge.payload),(0,M.zg)(ge=>this.cartConnector.delete(ge.userId,ge.cartId).pipe((0,D.U)(()=>new or({...ge})),(0,k.K)(Ht=>(0,Ne.D)([new Un({...ge,error:(0,e.cxH)(Ht)}),new Z({...ge})]))))))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(oe.eX),u.LFG(go),u.LFG(h.yh))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),(()=>{class fe{constructor(ee){this.actions$=ee,this.processesIncrement$=this.actions$.pipe((0,oe.l4)(nn),(0,D.U)(Ve=>Ve.payload),(0,D.U)(Ve=>new hn(Ve.cartId))),this.setSelectiveId$=this.actions$.pipe((0,oe.l4)(Ct),(0,D.U)(Ve=>{switch(Ve.type){case Ct:{const $e=Ve.payload;if(qr($e.cartId))return new Sr({cartType:N.EI.SELECTIVE,cartId:$e.cartId});break}}}),(0,H.h)(e.pTN)),this.setActiveCartId$=this.actions$.pipe((0,oe.l4)(Ct,Et,We,rn,Ar),(0,D.U)(Ve=>{switch(Ve.type){case Et:if(Ve?.payload?.cartId===e.gSv)return new Sr({cartType:N.EI.ACTIVE,cartId:""});break;case Ct:case rn:if(Ve?.payload?.extraData?.active)return new Sr({cartType:N.EI.ACTIVE,cartId:Ve.meta.entityId});break;case We:return new Sr({cartType:Ve?.payload?.extraData?.active?N.EI.ACTIVE:N.EI.NEW_CREATED,cartId:Ve.meta.entityId});case Ar:return new Sr({cartType:N.EI.ACTIVE,cartId:Ve.payload})}}),(0,H.h)(e.pTN))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(oe.eX))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),(0,Fe.gn)([(0,oe.Qm)()],fe.prototype,"processesIncrement$",void 0),(0,Fe.gn)([(0,oe.Qm)()],fe.prototype,"setSelectiveId$",void 0),(0,Fe.gn)([(0,oe.Qm)()],fe.prototype,"setActiveCartId$",void 0),fe})()],Ao={[N.EI.ACTIVE]:""};function Xo(fe=Ao,Ue){switch(Ue.type){case yr:return{...fe,[Ue.payload.cartType]:Ue.payload.cartId};case un:case Sn:return Ue.payload?.cartId===fe[N.EI.ACTIVE]?{...fe,[N.EI.ACTIVE]:""}:fe;case Ln:return Ao}return fe}function To(fe,Ue){switch(Ue.type){case qt:return Ue.payload;case Ct:case We:case Tr:return Ue.payload.cart}return fe}const ei=[function mr(fe){return function(Ue,ee){return ee.type===e.uQL.LOGOUT&&(Ue=void 0),fe(Ue,ee)}}],ti=new u.OlP("MultiCartReducers"),Lo={provide:ti,useFactory:function ni(){return{carts:e.kPG.entityProcessesLoaderReducer(Yt,To),index:Xo}}};let Rr=(()=>{class fe{constructor(ee,Ve,$e){this.statePersistenceService=ee,this.store=Ve,this.siteContextParamsService=$e,this.subscription=new Ie.w}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:"cart",state$:this.getCartState(),context$:this.siteContextParamsService.getValues([e.iEg]),storageType:e.iHd.LOCAL_STORAGE,onRead:ee=>this.onRead(ee)}))}getCartState(){return this.store.pipe((0,H.h)(ee=>!!ee.cart),(0,h.Ys)(nt),(0,H.h)(ee=>!!ee),(0,D.U)(ee=>ee.index),function J(fe,Ue){return(0,$.x)((ee,Ve)=>Ue?Ue(ee[fe],Ve[fe]):ee[fe]===Ve[fe])}("Active"),(0,D.U)(ee=>({active:ee[N.EI.ACTIVE]??""})))}onRead(ee){this.store.dispatch(new sr),this.store.dispatch(new ir(ee?ee.active:""))}ngOnDestroy(){this.subscription.unsubscribe()}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(e.WBb),u.LFG(h.yh),u.LFG(e.Qnj))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function jo(fe,Ue){return()=>Ue.getStable("context").pipe((0,re.b)(()=>{fe.initSync()})).toPromise()}function Fo(){return Ue=>(ee,Ve)=>{const $e={...ee};return"@ngrx/store/init"===Ve.type&&($e.cart={...$e.cart,index:{[N.EI.ACTIVE]:void 0}}),Ue($e,Ve)}}let vo=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({providers:[{provide:e.z4I,useFactory:jo,deps:[Rr,e.yUt],multi:!0},{provide:h.sr,useFactory:Fo,multi:!0}]}),fe})();class to{}let Pi=(()=>{class fe{constructor(ee){this.adapter=ee}validate(ee,Ve){return this.adapter.validate(ee,Ve)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(to))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),lr=(()=>{class fe{constructor(ee,Ve,$e,ge){this.actionsSubject=ee,this.event=Ve,this.activeCartService=$e,this.stateEventService=ge,this.register()}register(){this.registerCreateCart(),this.registerAddEntry(),this.registerRemoveEntry(),this.registerUpdateEntry(),this.registerDeleteCart()}registerAddEntry(){this.registerMapped({action:Xt,event:N.uP}),this.registerMapped({action:gt,event:N.VD}),this.registerMapped({action:Qt,event:N.K$})}registerRemoveEntry(){this.registerMapped({action:Lt,event:N.A7}),this.registerMapped({action:wt,event:N.dC})}registerUpdateEntry(){this.registerMapped({action:Rt,event:N.X}),this.registerMapped({action:cn,event:N.gI})}registerCreateCart(){this.stateEventService.register({action:rn,event:N.su}),this.stateEventService.register({action:We,event:N.cA}),this.stateEventService.register({action:fn,event:N.Cj})}registerDeleteCart(){this.stateEventService.register({action:An,event:N.aY,factory:ee=>(0,e.PjU)(N.aY,{...ee.payload,cartCode:ee.payload.cartId})}),this.stateEventService.register({action:Sn,event:N.N0,factory:ee=>(0,e.PjU)(N.N0,{...ee.payload,cartCode:ee.payload.cartId})}),this.stateEventService.register({action:Vn,event:N.Ks,factory:ee=>(0,e.PjU)(N.Ks,{...ee.payload,cartCode:ee.payload.cartId})})}registerMapped(ee){const Ve=this.getAction(ee.action).pipe((0,V.w)($e=>(0,ze.of)($e).pipe((0,I.M)(this.activeCartService.getActive(),this.activeCartService.getActiveCartId()))),(0,H.h)(([$e,ge,Ht])=>$e.payload.cartId===Ht),(0,D.U)(([$e,ge])=>(0,e.PjU)(ee.event,{...$e.payload,cartCode:ge.code,entry:$e.payload.entry?$e.payload.entry:ge.entries?.[Number($e.payload.entryNumber)]})));return this.event.register(ee.event,Ve)}getAction(ee){return this.actionsSubject.pipe((0,oe.l4)(...[].concat(ee)))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(h.UO),u.LFG(e.POd),u.LFG(N.bu),u.LFG(e.vL$))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ri=(()=>{class fe{constructor(ee){}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(lr))},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({}),fe})(),Gr=(()=>{class fe{constructor(ee){this.eventService=ee,this.register()}register(){this.eventService.register(N.uB,this.buildCartPageEvent())}buildCartPageEvent(){return this.eventService.get(Re.z4w).pipe((0,H.h)(ee=>"cart"===ee.semanticRoute),(0,D.U)(ee=>(0,e.PjU)(N.uB,{navigation:ee})))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(e.POd))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),$o=(()=>{class fe{constructor(ee){}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(Gr))},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({}),fe})(),Or=(()=>{class fe{constructor(ee,Ve){this.multiCartFacade=ee,this.userIdService=Ve,this.subscription=new Ie.w,this.activeCartId$=this.userIdService.getUserId().pipe((0,ae.q)(1),(0,De.c)(this.multiCartFacade.getCartIdByType(N.EI.ACTIVE)),(0,H.h)($e=>void 0!==$e),(0,D.U)($e=>""===$e?e.gSv:$e)),this.cartEntity$=this.activeCartId$.pipe((0,V.w)($e=>this.multiCartFacade.getCartEntity($e))),this.checkInitLoad=void 0,this.initActiveCart(),this.detectUserChange()}initActiveCart(){const ee=this.cartEntity$.pipe((0,D.U)($e=>({cart:$e.value,isStable:!$e.loading&&0===$e.processesCount,loaded:Boolean(($e.error||$e.success)&&!$e.loading)})),(0,H.h)(({isStable:$e,cart:ge})=>$e||Mt(ge))),Ve=ee.pipe((0,I.M)(this.activeCartId$,this.userIdService.getUserId()),(0,re.b)(([{cart:$e,loaded:ge,isStable:Ht},Bn,ro])=>{Ht&&Mt($e)&&!ge&&!Vt(Bn)&&this.load(Bn,ro)}));this.activeCart$=(0,he.g)(()=>Ve.subscribe(),()=>ee).pipe((0,D.U)(({cart:$e})=>$e||{}),(0,$.x)(),(0,Ze.d)({bufferSize:1,refCount:!0}))}detectUserChange(){this.subscription.add(this.userIdService.getUserId().pipe((0,Xe.G)(),(0,I.M)(this.activeCartId$)).subscribe(([[ee,Ve],$e])=>{(function ue(fe,Ue){return fe!==e.Fds&&Ue!==fe})(Ve,ee)&&this.loadOrMerge($e,Ve,ee)}))}getActive(){return this.activeCart$}takeActive(){return this.isStable().pipe((0,H.h)(ee=>ee),(0,V.w)(()=>this.getActive()),(0,H.h)(ee=>!!ee),(0,ae.q)(1))}getActiveCartId(){return this.activeCart$.pipe((0,I.M)(this.userIdService.getUserId()),(0,D.U)(([ee,Ve])=>wr(ee,Ve)),(0,$.x)())}takeActiveCartId(){return this.isStable().pipe((0,H.h)(ee=>ee),(0,V.w)(()=>this.getActiveCartId()),(0,H.h)(ee=>!!ee),(0,ae.q)(1))}getEntries(){return this.activeCartId$.pipe((0,V.w)(ee=>this.multiCartFacade.getEntries(ee)),(0,$.x)())}getLastEntry(ee){return this.activeCartId$.pipe((0,V.w)(Ve=>this.multiCartFacade.getLastEntry(Ve,ee)),(0,$.x)())}getLoading(){return this.cartEntity$.pipe((0,D.U)(ee=>Boolean(ee.loading)),(0,$.x)())}isStable(){return this.activeCartId$.pipe((0,V.w)(ee=>this.multiCartFacade.isStable(ee)))}load(ee,Ve){Ve===e.Fds&&ee===e.gSv||this.multiCartFacade.loadCart({userId:Ve,cartId:ee,extraData:{active:!0}})}loadOrMerge(ee,Ve,$e){ee===e.gSv||$e!==e.Fds?this.multiCartFacade.loadCart({userId:Ve,cartId:ee,extraData:{active:!0}}):Boolean((0,e.P51)(this.isGuestCart()))?this.guestCartMerge(ee):this.multiCartFacade.mergeToCurrentCart({userId:Ve,cartId:ee,extraData:{active:!0}})}guestCartMerge(ee){this.getEntries().pipe((0,ae.q)(1)).subscribe(Ve=>{this.multiCartFacade.deleteCart(ee,e.Fds),this.addEntriesGuestMerge(Ve)})}addEntriesGuestMerge(ee){const Ve=ee.map($e=>({productCode:$e.product?.code??"",quantity:$e.quantity??0}));this.requireLoadedCart(!0).pipe((0,I.M)(this.userIdService.getUserId())).subscribe(([$e,ge])=>{this.multiCartFacade.addEntries(ge,wr($e,ge),Ve)})}isCartCreating(ee,Ve){return Vt(Ve)&&(ee.loading||ee.success||ee.error)}requireLoadedCart(ee=!1){this.checkInitLoad=void 0===this.checkInitLoad;const Ve=(ee?this.cartEntity$.pipe((0,H.h)(()=>!Boolean((0,e.P51)(this.isGuestCart())))):this.cartEntity$).pipe((0,H.h)($e=>!$e.loading||!!this.checkInitLoad));return this.activeCartId$.pipe((0,I.M)(Ve),(0,H.h)(([$e,ge])=>!this.isCartCreating(ge,$e)),(0,D.U)(([,$e])=>$e),(0,ae.q)(1),(0,I.M)(this.userIdService.getUserId()),(0,re.b)(([$e,ge])=>{Mt($e.value)&&ge!==e.Fds&&!$e.loading&&this.load(e.gSv,ge),this.checkInitLoad=!1}),(0,De.c)(Ve),(0,I.M)(this.userIdService.getUserId()),(0,H.h)(([$e,ge])=>Boolean(ge===e.Fds||$e.success||$e.error)),(0,ae.q)(1),(0,re.b)(([$e,ge])=>{Mt($e.value)&&this.multiCartFacade.createCart({userId:ge,extraData:{active:!0}})}),(0,De.c)(Ve),(0,H.h)($e=>$e.success||$e.error),(0,I.M)(this.activeCartId$),(0,H.h)(([$e,ge])=>!this.isCartCreating($e,ge)),(0,D.U)(([$e])=>$e.value),(0,H.h)($e=>!Mt($e)),(0,ae.q)(1))}addEntry(ee,Ve){this.requireLoadedCart().pipe((0,I.M)(this.userIdService.getUserId())).subscribe(([$e,ge])=>{this.multiCartFacade.addEntry(ge,wr($e,ge),ee,Ve)})}removeEntry(ee){this.activeCartId$.pipe((0,I.M)(this.userIdService.getUserId()),(0,ae.q)(1)).subscribe(([Ve,$e])=>{this.multiCartFacade.removeEntry($e,Ve,ee.entryNumber)})}updateEntry(ee,Ve){this.activeCartId$.pipe((0,I.M)(this.userIdService.getUserId()),(0,ae.q)(1)).subscribe(([$e,ge])=>{this.multiCartFacade.updateEntry(ge,$e,ee,Ve)})}getEntry(ee){return this.activeCartId$.pipe((0,V.w)(Ve=>this.multiCartFacade.getEntry(Ve,ee)),(0,$.x)())}addEmail(ee){this.activeCartId$.pipe((0,I.M)(this.userIdService.getUserId()),(0,ae.q)(1)).subscribe(([Ve,$e])=>{this.multiCartFacade.assignEmail(Ve,$e,ee)})}getAssignedUser(){return this.activeCart$.pipe((0,D.U)(ee=>ee.user))}isGuestCart(ee){return ee?(0,ze.of)(this.isCartUserGuest(ee)):this.activeCart$.pipe((0,D.U)(Ve=>this.isCartUserGuest(Ve)),(0,$.x)())}isCartUserGuest(ee){const Ve=ee.user;return Boolean(Ve&&(Ve.name===e.YI5||function xn(fe){return!!fe&&!!fe.match(e.QIJ)}(Ve.uid?.split("|").slice(1).join("|"))))}addEntries(ee){const Ve=ee.map($e=>({productCode:$e.product?.code??"",quantity:$e.quantity??0}));this.requireLoadedCart().pipe((0,I.M)(this.userIdService.getUserId())).subscribe(([$e,ge])=>{$e&&this.multiCartFacade.addEntries(ge,wr($e,ge),Ve)})}reloadActiveCart(){(0,pe.aj)([this.getActiveCartId(),this.userIdService.takeUserId()]).pipe((0,ae.q)(1),(0,D.U)(([ee,Ve])=>{this.multiCartFacade.loadCart({cartId:ee,userId:Ve,extraData:{active:!0}})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(N.WT),u.LFG(e.XBV))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),no=(()=>{class fe{constructor(ee){this.routingService=ee,this.NAVIGATION_SKIPS=2,this.navigationIdCount=0,this.subscription=new Ie.w,this.cartValidationResult$=new ne.t(1),this.checkForValidationResultClear$=this.routingService.getRouterState().pipe((0,I.M)(this.cartValidationResult$),(0,re.b)(([Ve,$e])=>{this.navigationIdCount+this.NAVIGATION_SKIPS<=Ve.navigationId&&$e.length&&(this.cartValidationResult$.next([]),this.navigationIdCount=Ve.navigationId)})),this.setInitialState()}ngOnDestroy(){this.subscription.unsubscribe()}setInitialState(){this.setNavigationIdStep(),this.subscription.add(this.checkForValidationResultClear$.subscribe())}updateValidationResultAndRoutingId(ee){this.cartValidationResult$.next(ee),this.setNavigationIdStep()}setNavigationIdStep(){this.routingService.getRouterState().pipe((0,ae.q)(1)).subscribe(ee=>this.navigationIdCount=ee.navigationId)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(e.Znh))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Pe=(()=>{class fe{constructor(ee,Ve,$e,ge,Ht){this.cartValidationConnector=ee,this.command=Ve,this.userIdService=$e,this.activeCartFacade=ge,this.cartValidationStateService=Ht,this.validateCartCommand=this.command.create(()=>(0,pe.aj)([this.activeCartFacade.getActiveCartId(),this.userIdService.takeUserId(),this.activeCartFacade.isStable()]).pipe((0,H.h)(([Bn,ro,Lr])=>Lr),(0,ae.q)(1),(0,V.w)(([Bn,ro])=>this.cartValidationConnector.validate(Bn,ro))),{strategy:e.flE.CancelPrevious})}validateCart(){return this.validateCartCommand.execute()}getValidationResults(){return this.cartValidationStateService.cartValidationResult$}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(Pi),u.LFG(e.VDr),u.LFG(e.XBV),u.LFG(N.bu),u.LFG(no))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),ft=(()=>{class fe{constructor(ee,Ve,$e){this.store=ee,this.activeCartFacade=Ve,this.userIdService=$e}addVoucher(ee,Ve){this.combineUserAndCartId(Ve).subscribe(([$e,ge])=>this.store.dispatch(new Jt({userId:$e,cartId:ge,voucherId:ee})))}removeVoucher(ee,Ve){this.combineUserAndCartId(Ve).subscribe(([$e,ge])=>this.store.dispatch(new gn({userId:$e,cartId:ge,voucherId:ee})))}getAddVoucherResultError(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessErrorFactory(zt)))}getAddVoucherResultSuccess(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessSuccessFactory(zt)))}getAddVoucherResultLoading(){return this.store.pipe((0,h.Ys)(e.VkE.getProcessLoadingFactory(zt)))}resetAddVoucherProcessingState(){this.store.dispatch(new kt)}combineUserAndCartId(ee){return ee?this.userIdService.getUserId().pipe((0,ae.q)(1),(0,D.U)(Ve=>[Ve,ee])):(0,pe.aj)([this.userIdService.getUserId(),this.activeCartFacade.getActiveCartId()]).pipe((0,ae.q)(1))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(h.yh),u.LFG(N.bu),u.LFG(e.XBV))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),tt=(()=>{class fe{constructor(ee,Ve){this.store=ee,this.userIdService=Ve}getCart(ee){return this.store.pipe((0,h.Ys)(vn(ee)))}getCarts(){return this.store.pipe((0,h.Ys)(gi))}getCartEntity(ee){return this.store.pipe((0,h.Ys)((fe=>(0,h.P1)(et,Ue=>e.kPG.entityProcessesLoaderStateSelector(Ue,fe)))(ee)))}isStable(ee){return this.store.pipe((0,h.Ys)((fe=>(0,h.P1)(et,Ue=>e.kPG.entityIsStableSelector(Ue,fe)))(ee)),function Ge(fe){return Ue=>Ue.lift(new me(fe))}(Ve=>Ve?(0,_e.H)(0):be.E),(0,$.x)())}generateTempCartId(){return`temp-${Math.random().toString(36).substr(2,9)}`}createCart({userId:ee,oldCartId:Ve,toMergeCartGuid:$e,extraData:ge}){const Ht=this.generateTempCartId();return this.store.dispatch(new Jn({extraData:ge,userId:ee,oldCartId:Ve,toMergeCartGuid:$e,tempCartId:Ht})),this.getCartIdByType(ge?.active?N.EI.ACTIVE:N.EI.NEW_CREATED).pipe((0,V.w)(Bn=>this.getCart(Bn)),(0,H.h)(e.pTN))}mergeToCurrentCart({userId:ee,cartId:Ve,extraData:$e}){const ge=this.generateTempCartId();this.store.dispatch(new ct({userId:ee,cartId:Ve,extraData:$e,tempCartId:ge}))}loadCart({cartId:ee,userId:Ve,extraData:$e}){this.store.dispatch(new Z({userId:Ve,cartId:ee,extraData:$e}))}getEntries(ee){return this.store.pipe((0,h.Ys)(Yr(ee)))}getLastEntry(ee,Ve){return this.store.pipe((0,h.Ys)(Yr(ee)),(0,D.U)($e=>{const ge=$e.filter(Ht=>Ht.product?.code===Ve);return ge?ge[ge.length-1]:void 0}))}addEntry(ee,Ve,$e,ge){this.store.dispatch(new yn({userId:ee,cartId:Ve,productCode:$e,quantity:ge}))}addEntries(ee,Ve,$e){$e.forEach(ge=>{this.store.dispatch(new yn({userId:ee,cartId:Ve,productCode:ge.productCode,quantity:ge.quantity}))})}removeEntry(ee,Ve,$e){this.store.dispatch(new Ot({userId:ee,cartId:Ve,entryNumber:`${$e}`}))}updateEntry(ee,Ve,$e,ge){ge>0?this.store.dispatch(new je({userId:ee,cartId:Ve,entryNumber:`${$e}`,quantity:ge})):this.removeEntry(ee,Ve,$e)}getEntry(ee,Ve){return this.store.pipe((0,h.Ys)(((fe,Ue)=>(0,h.P1)(Yr(fe),ee=>ee.find(Ve=>Ve.product?.code===Ue)))(ee,Ve)))}assignEmail(ee,Ve,$e){this.store.dispatch(new Te({userId:Ve,cartId:ee,email:$e}))}removeCart(ee){this.store.dispatch(new Tn({cartId:ee}))}deleteCart(ee,Ve){this.store.dispatch(new bn({userId:Ve,cartId:ee}))}reloadCart(ee,Ve){this.userIdService.takeUserId().subscribe($e=>this.store.dispatch(new Z({userId:$e,cartId:ee,extraData:Ve})))}getCartIdByType(ee){return this.store.pipe((0,h.Ys)((fe=>(0,h.P1)(Ir,Ue=>Ue&&Ue[fe]))(ee)),(0,$.x)())}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(h.yh),u.LFG(e.XBV))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),xt=(()=>{class fe{constructor(ee,Ve,$e,ge){this.userProfileFacade=ee,this.multiCartFacade=Ve,this.baseSiteService=$e,this.userIdService=ge}getCart(){return this.selectiveCart$||(this.selectiveCart$=(0,pe.aj)([this.getSelectiveCartId(),this.userProfileFacade.get(),this.userIdService.getUserId(),this.baseSiteService.getActive()]).pipe((0,$.x)(),(0,re.b)(([ee,Ve,$e,ge])=>{!Boolean(ee)&&$e!==e.Fds&&Ve?.customerId&&this.multiCartFacade.loadCart({userId:$e,cartId:`selectivecart${ge}${Ve.customerId}`})}),(0,H.h)(([ee])=>Boolean(ee)),(0,V.w)(([ee])=>this.multiCartFacade.getCart(ee)),(0,Ze.d)({bufferSize:1,refCount:!0}))),this.selectiveCart$}getEntries(){return this.getSelectiveCartId().pipe((0,V.w)(ee=>this.multiCartFacade.getEntries(ee)))}isStable(){return this.getSelectiveCartId().pipe((0,V.w)(ee=>this.multiCartFacade.isStable(ee)))}addEntry(ee,Ve){this.getSelectiveIdWithUserId().subscribe(([$e,ge])=>{this.multiCartFacade.addEntry(ge,$e,ee,Ve)})}removeEntry(ee){this.getSelectiveIdWithUserId().subscribe(([Ve,$e])=>{this.multiCartFacade.removeEntry($e,Ve,ee.entryNumber)})}updateEntry(ee,Ve){this.getSelectiveIdWithUserId().subscribe(([$e,ge])=>{this.multiCartFacade.updateEntry(ge,$e,ee,Ve)})}getEntry(ee){return this.getSelectiveCartId().pipe((0,V.w)(Ve=>this.multiCartFacade.getEntry(Ve,ee)))}getSelectiveCartId(){return this.multiCartFacade.getCartIdByType(N.EI.SELECTIVE)}getSelectiveIdWithUserId(){return this.getSelectiveCartId().pipe((0,$.x)(),(0,I.M)(this.userIdService.getUserId()),(0,ae.q)(1))}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(pt.aT),u.LFG(N.WT),u.LFG(e.Do$),u.LFG(e.XBV))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const It=[Or,{provide:N.bu,useExisting:Or},ft,{provide:N.LN,useExisting:ft},tt,{provide:N.WT,useExisting:tt},xt,{provide:N.Oo,useExisting:xt},Pe,{provide:N.mU,useExisting:Pe}];let Zt=(()=>{class fe extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(ee){return super.hasMatch(ee)&&this.getErrors(ee).some(dt)}handleError(ee,Ve){this.handleCartNotFoundError(ee,Ve),this.handleOtherCartErrors(ee,Ve)}handleCartNotFoundError(ee,Ve){this.getErrors(Ve).filter($e=>Er($e)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.cartNotFound"},e.xUg.MSG_TYPE_ERROR)})}handleOtherCartErrors(ee,Ve){this.getErrors(Ve).filter($e=>"notFound"!==$e.reason||"cart"!==$e.subjectType).forEach($e=>{this.globalMessageService.add($e.message?$e.message:{key:"httpHandlers.otherCartErrors"},e.xUg.MSG_TYPE_ERROR)})}getErrors(ee){return(ee.error?.errors||[]).filter(Ve=>"JaloObjectNoLongerValidError"!==Ve.type)}}return fe.\u0275fac=function(){let Ue;return function(Ve){return(Ue||(Ue=u.n5z(fe)))(Ve||fe)}}(),fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ln=(()=>{class fe extends e.kck{constructor(){super(...arguments),this.responseStatus=e.sdw.BAD_REQUEST}getPriority(){return 0}hasMatch(ee){return super.hasMatch(ee)&&this.getErrors(ee).some(qe)}handleError(ee,Ve){this.handleVoucherExceededError(ee,Ve),this.handleVoucherInvalidError(ee,Ve)}handleVoucherExceededError(ee,Ve){this.getErrors(Ve).filter($e=>function Se(fe){return"coupon.already.redeemed"===fe.message}($e)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.voucherExceeded"},e.xUg.MSG_TYPE_ERROR)})}handleVoucherInvalidError(ee,Ve){this.getErrors(Ve).filter($e=>function lt(fe){return"coupon.invalid.code.provided"===fe.message}($e)).forEach(()=>{this.globalMessageService.add({key:"httpHandlers.invalidCodeProvided"},e.xUg.MSG_TYPE_ERROR)})}getErrors(ee){return(ee.error?.errors||[]).filter(Ve=>"JaloObjectNoLongerValidError"!==Ve.type)}}return fe.\u0275fac=function(){let Ue;return function(Ve){return(Ue||(Ue=u.n5z(fe)))(Ve||fe)}}(),fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Xr=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({providers:[Lo],imports:[Qe.ez,e.vUS,h.Aw.forFeature("cart",ti,{metaReducers:ei}),oe.sQ.forFeature(mo)]}),fe})(),Kr=(()=>{class fe{}return fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({providers:[go,Rn,nr,Pi,...It,{provide:e.kck,useExisting:Zt,multi:!0},{provide:e.kck,useExisting:ln,multi:!0}],imports:[ri,Xr,vo,$o]}),fe})();const dn=new u.OlP("CartValidationNormalizer");let No=(()=>{class fe{constructor(ee){this.config=ee}isSelectiveCartEnabled(){return Boolean(this.config?.cart?.selectiveCart?.enabled)}isCartValidationEnabled(){return Boolean(this.config?.cart?.validation?.enabled)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(N.qB))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Li=(()=>{class fe{constructor(ee,Ve,$e,ge,Ht,Bn,ro){this.cartValidationService=ee,this.semanticPathService=Ve,this.router=$e,this.globalMessageService=ge,this.activeCartService=Ht,this.cartValidationStateService=Bn,this.cartConfigService=ro,this.GLOBAL_MESSAGE_TIMEOUT=1e4}canActivate(){return this.cartConfigService.isCartValidationEnabled()?this.cartValidationService.validateCart().pipe((0,I.M)(this.activeCartService.getEntries()),(0,D.U)(([ee,Ve])=>{if(this.cartValidationStateService.updateValidationResultAndRoutingId(ee.cartModifications??[]),void 0!==ee.cartModifications&&0!==ee.cartModifications.length){let $e;const ge=ee.cartModifications[0];return $e=1===Ve.length&&Ve[0].product?.code===ge.entry?.product?.code&&ge.statusCode===N.v$.NO_STOCK?{key:"validation.cartEntryRemoved",params:{name:ge.entry?.product?.name}}:{key:"validation.cartEntriesChangeDuringCheckout"},this.globalMessageService.add($e,e.xUg.MSG_TYPE_ERROR,this.GLOBAL_MESSAGE_TIMEOUT),this.activeCartService.reloadActiveCart(),this.router.parseUrl(this.semanticPathService.get("cart")??"")}return!0})):(0,ze.of)(!0)}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(N.mU),u.LFG(e.hCH),u.LFG(rt.F0),u.LFG(e.IWp),u.LFG(N.bu),u.LFG(no),u.LFG(No))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Pr=(()=>{class fe{constructor(ee){this.actionsSubject=ee}getResults(ee){return this.actionsSubject.pipe((0,oe.l4)(gt,Qt),(0,H.h)(Ve=>Ve.payload.cartId===ee),(0,D.U)(Ve=>this.mapMessages(Ve)))}mapMessages(ee){const{productCode:Ve}=ee.payload;if(ee instanceof Ft){const{quantity:$e,quantityAdded:ge,entry:Ht,statusCode:Bn}=ee.payload;if(Bn===N.QX.LOW_STOCK)return{productCode:Ve,statusCode:Bn,productName:Ht?.product?.name,quantity:$e,quantityAdded:ge};if(Bn===N.QX.SUCCESS||Bn===N.QX.NO_STOCK)return{productCode:Ve,statusCode:Bn,productName:Ht?.product?.name}}else if(ee instanceof Zn){const{error:$e}=ee.payload;if("UnknownIdentifierError"===$e?.details[0]?.type)return{productCode:Ve,statusCode:N.QX.UNKNOWN_IDENTIFIER}}return(0,u.X6Q)()&&console.warn("Unrecognized cart add entry action type while mapping messages",ee),{productCode:Ve,statusCode:N.QX.UNKNOWN_ERROR}}}return fe.\u0275fac=function(ee){return new(ee||fe)(u.LFG(h.UO))},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},7828:(de,Q,m)=>{"use strict";m.d(Q,{Tp:()=>Ze});var u=m(4650),e=m(3749),h=m(9057),N=m(529),D=m(1737),P=m(7221),k=m(373),M=m(4850),G=m(9505),V=m(6895);let I=(()=>{class Xe{constructor(Ge){this.converter=Ge}convert(Ge,me){return void 0===me&&(me={...Ge}),this.removeDuplicatePromotions(Ge,me),Ge.entries&&(me.entries=Ge.entries.map(se=>({...se,product:this.converter.convert(se.product,h.jrf),promotions:this.converter.convert({item:se,promotions:me?.appliedProductPromotions},e.Cx)}))),me}removeDuplicatePromotions(Ge,me){Ge&&Ge.potentialOrderPromotions&&(me.potentialOrderPromotions=this.removeDuplicateItems(Ge.potentialOrderPromotions)),Ge&&Ge.potentialProductPromotions&&(me.potentialProductPromotions=this.removeDuplicateItems(Ge.potentialProductPromotions)),Ge&&Ge.appliedOrderPromotions&&(me.appliedOrderPromotions=this.removeDuplicateItems(Ge.appliedOrderPromotions)),Ge&&Ge.appliedProductPromotions&&(me.appliedProductPromotions=this.removeDuplicateItems(Ge.appliedProductPromotions))}removeDuplicateItems(Ge){return Ge.filter((me,se,Ne)=>se===Ne.map(Ie=>JSON.stringify(Ie)).indexOf(JSON.stringify(me)))}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)(u.LFG(h.IXI))},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})(),H=(()=>{class Xe{convert(Ge,me){return this.getProductPromotion(Ge.item,Ge.promotions)}getProductPromotion(Ge,me){const se=[];if(me&&me.length>0)for(const Ne of me)if(Ne.description&&Ne.consumedEntries&&Ne.consumedEntries.length>0)for(const ze of Ne.consumedEntries)this.isConsumedByEntry(ze,Ge)&&se.push(Ne);return se}isConsumedByEntry(Ge,me){const se=Ge.orderEntryNumber;if(me&&me.entries&&me.entries.length>0){for(const Ne of me.entries)if(Ne.entryNumber===se)return!0;return!1}return se===me?.entryNumber}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})(),$=(()=>{class Xe{constructor(Ge,me,se){this.http=Ge,this.occEndpointsService=me,this.converterService=se}add(Ge,me,se,Ne=1){const ze=this.occEndpointsService.buildUrl("addEntries",{urlParams:{userId:Ge,cartId:me,quantity:Ne}});if(ze.includes(`quantity=${Ne}`)){const pe=new N.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(ze,{},{headers:pe,params:{code:se}}).pipe(this.converterService.pipeable(e.Ke))}const Ie={quantity:Ne,product:{code:se}},he=new N.WM({"Content-Type":"application/json"});return this.http.post(ze,Ie,{headers:he}).pipe(this.converterService.pipeable(e.Ke))}update(Ge,me,se,Ne,ze){let Ie={};ze&&(Ie={deliveryPointOfService:{name:ze}});const he=new N.WM({"Content-Type":"application/json"}),pe=this.occEndpointsService.buildUrl("updateEntries",{urlParams:{userId:Ge,cartId:me,entryNumber:se}});return this.http.patch(pe,{quantity:Ne,...Ie},{headers:he}).pipe(this.converterService.pipeable(e.Ke))}remove(Ge,me,se){const Ne=new N.WM({"Content-Type":"application/x-www-form-urlencoded"}),ze=this.occEndpointsService.buildUrl("removeEntries",{urlParams:{userId:Ge,cartId:me,entryNumber:se}});return this.http.delete(ze,{headers:Ne})}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),J=(()=>{class Xe{constructor(Ge,me,se){this.http=Ge,this.occEndpoints=me,this.converter=se}getCartVoucherEndpoint(Ge,me){return this.occEndpoints.buildUrl("cartVoucher",{urlParams:{userId:Ge,cartId:me}})}getHeaders(Ge){let me=new N.WM({"Content-Type":"application/json"});return Ge===h.Fds&&(me=h.Fox.createHeader(h._Re,!0,me)),me}add(Ge,me,se){const Ne=this.getCartVoucherEndpoint(Ge,me),ze=JSON.stringify({}),Ie=(new N.LE).set("voucherId",se),he=this.getHeaders(Ge);return this.http.post(Ne,ze,{headers:he,params:Ie}).pipe((0,P.K)(pe=>(0,D._)(pe)),this.converter.pipeable(e.ij))}remove(Ge,me,se){const Ne=this.getCartVoucherEndpoint(Ge,me)+"/"+encodeURIComponent(se),ze=this.getHeaders(Ge);return this.http.delete(Ne,{headers:ze}).pipe((0,P.K)(Ie=>(0,D._)(Ie)))}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),re=(()=>{class Xe{constructor(Ge,me,se){this.http=Ge,this.occEndpointsService=me,this.converterService=se}loadAll(Ge){return this.http.get(this.occEndpointsService.buildUrl("carts",{urlParams:{userId:Ge}})).pipe((0,k.j)("carts"),(0,M.U)(me=>me??[]),this.converterService.pipeableMany(e.jK))}load(Ge,me){return me===h.gSv?this.loadAll(Ge).pipe((0,M.U)(se=>se.find(Ne=>void 0===Ne.saveTime))):this.http.get(this.occEndpointsService.buildUrl("cart",{urlParams:{userId:Ge,cartId:me}})).pipe(this.converterService.pipeable(e.jK))}create(Ge,me,se){const Ne=JSON.stringify({});let ze={};return me&&(ze.oldCartId=me),se&&(ze.toMergeCartGuid=se),this.http.post(this.occEndpointsService.buildUrl("createCart",{urlParams:{userId:Ge},queryParams:ze}),Ne).pipe(this.converterService.pipeable(e.jK))}delete(Ge,me){let se=new N.WM;return Ge===h.Fds&&(se=h.Fox.createHeader(h._Re,!0,se)),this.http.delete(this.occEndpointsService.buildUrl("deleteCart",{urlParams:{userId:Ge,cartId:me}}),{headers:se})}save(Ge,me,se,Ne){const ze=this.occEndpointsService.buildUrl("saveCart",{urlParams:{userId:Ge,cartId:me,saveCartName:se,saveCartDescription:Ne}});return this.http.patch(ze,me).pipe((0,k.j)("savedCartData"),this.converterService.pipeable(e.jK))}addEmail(Ge,me,se){let Ne=new N.WM({"Content-Type":"application/x-www-form-urlencoded"});Ne=h.Fox.createHeader(h._Re,!0,Ne);const ze=(new N.LE).set("email",se),Ie=this.occEndpointsService.buildUrl("addEmail",{urlParams:{userId:Ge,cartId:me}});return this.http.put(Ie,ze,{headers:Ne})}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),ae=(()=>{class Xe{constructor(Ge,me,se){this.http=Ge,this.occEndpoints=me,this.converter=se}validate(Ge,me){const se=this.occEndpoints.buildUrl("validate",{urlParams:{cartId:Ge,userId:me}});return this.http.post(se,null).pipe((0,P.K)(Ne=>(0,D._)((0,h.cxH)(Ne))),this.converter.pipeable(G.YA))}}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Xe.\u0275prov=u.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const De={backend:{occ:{endpoints:{carts:"users/${userId}/carts?fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description)",cart:"users/${userId}/carts/${cartId}?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description",createCart:"users/${userId}/carts?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user",addEntries:"users/${userId}/carts/${cartId}/entries",updateEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",removeEntries:"users/${userId}/carts/${cartId}/entries/${entryNumber}",addEmail:"users/${userId}/carts/${cartId}/email",deleteCart:"users/${userId}/carts/${cartId}",cartVoucher:"users/${userId}/carts/${cartId}/vouchers",saveCart:"/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}",validate:"users/${userId}/carts/${cartId}/validate?fields=DEFAULT"}}}};let Ze=(()=>{class Xe{}return Xe.\u0275fac=function(Ge){return new(Ge||Xe)},Xe.\u0275mod=u.oAB({type:Xe}),Xe.\u0275inj=u.cJS({providers:[(0,h.i51)(De),{provide:G.YW,useClass:re},{provide:e.jK,useExisting:I,multi:!0},{provide:e.Cx,useExisting:H,multi:!0},{provide:G.vI,useClass:$},{provide:G.Eu,useClass:J},{provide:G.n5,useClass:ae}],imports:[V.ez]}),Xe})()},3749:(de,Q,m)=>{"use strict";m.d(Q,{A7:()=>De,Bx:()=>Lt,Cj:()=>H,Cx:()=>Ft,EI:()=>wt,JP:()=>Qe,K$:()=>re,Ke:()=>Zn,Ks:()=>Ie,LN:()=>Xt,N0:()=>ze,O0:()=>he,Oo:()=>gt,QX:()=>cn,SJ:()=>G,Tc:()=>me,VD:()=>J,WT:()=>be,X:()=>Ze,aY:()=>Ne,bu:()=>Yt,c7:()=>se,cA:()=>I,dC:()=>ae,eE:()=>M,gI:()=>Xe,ij:()=>bt,jK:()=>yn,lM:()=>Rt,mU:()=>zt,nw:()=>ne,oC:()=>Wt,pA:()=>Ge,pl:()=>_e,qB:()=>rt,su:()=>V,uB:()=>we,uP:()=>$,uf:()=>Re,v$:()=>Pn,wj:()=>Le,yj:()=>Qt});var u=m(4650),e=m(610),h=m(9057),N=m(1446),D=m(2654);const P={cart:{validation:{enabled:!1},selectiveCart:{enabled:!1}}},k={routing:{routes:{cart:{paths:["cart"]}}}},M=Symbol("ORDER_ENTRIES_CONTEXT");class G extends h.W8x{}let V=(()=>{class ke extends G{}return ke.type="CreateCartEvent",ke})(),I=(()=>{class ke extends G{}return ke.type="CreateCartSuccessEvent",ke})(),H=(()=>{class ke extends G{}return ke.type="CreateCartFailEvent",ke})(),$=(()=>{class ke extends G{}return ke.type="CartAddEntryEvent",ke})(),J=(()=>{class ke extends G{}return ke.type="CartAddEntrySuccessEvent",ke})(),re=(()=>{class ke extends G{}return ke.type="CartAddEntryFailEvent",ke})(),ae=(()=>{class ke extends G{}return ke.type="CartRemoveEntryFailEvent",ke})(),De=(()=>{class ke extends G{}return ke.type="CartRemoveEntrySuccessEvent",ke})(),Ze=(()=>{class ke extends G{}return ke.type="CartUpdateEntrySuccessEvent",ke})(),Xe=(()=>{class ke extends G{}return ke.type="CartUpdateEntryFailEvent",ke})(),Le=(()=>{class ke extends h.W8x{}return ke.type="CartUiEventAddToCart",ke})(),Ge=(()=>{class ke extends G{}return ke.type="MergeCartSuccessEvent",ke})(),me=(()=>{class ke extends G{}return ke.type="LoadCartEvent",ke})(),se=(()=>{class ke extends G{}return ke.type="RemoveCartEvent",ke})(),Ne=(()=>{class ke extends G{}return ke.type="DeleteCartEvent",ke})(),ze=(()=>{class ke extends G{}return ke.type="DeleteCartSuccessEvent",ke})(),Ie=(()=>{class ke extends G{}return ke.type="DeleteCartFailEvent",ke})();const he="cartBase",pe="cartBaseCore",ne="miniCart",_e="addToCart";let be=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(){return(0,h.wvQ)({facade:ke,feature:pe,methods:["getCart","getCarts","getCartEntity","isStable","createCart","mergeToCurrentCart","loadCart","getEntries","getLastEntry","addEntry","addEntries","removeEntry","updateEntry","getEntry","assignEmail","removeCart","deleteCart","reloadCart","getCartIdByType"],async:!0})},providedIn:"root"}),ke})(),oe=(()=>{class ke{constructor(Dt,St){this.eventService=Dt,this.multiCartFacade=St,this.subscriptions=new D.w,this.onCartBaseAction()}onCartBaseAction(){this.subscriptions.add(this.eventService.get(me).subscribe(({userId:Dt,cartId:St})=>{Dt&&St&&this.multiCartFacade.loadCart({userId:Dt,cartId:St})})),this.subscriptions.add(this.eventService.get(se).subscribe(({cartId:Dt})=>{this.multiCartFacade.removeCart(Dt)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return ke.\u0275fac=function(Dt){return new(Dt||ke)(u.LFG(h.POd),u.LFG(be))},ke.\u0275prov=u.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),Fe=(()=>{class ke{constructor(Dt){}}return ke.\u0275fac=function(Dt){return new(Dt||ke)(u.LFG(oe))},ke.\u0275mod=u.oAB({type:ke}),ke.\u0275inj=u.cJS({}),ke})();const Re=new u.OlP("ActiveCartOrderEntriesContext");function pt(){return{featureModules:{[he]:{cmsComponents:["CartApplyCouponComponent","CartComponent","CartProceedToCheckoutComponent","CartTotalsComponent","SaveForLaterComponent","ClearCartComponent"]},[ne]:{cmsComponents:["MiniCartComponent"]},[_e]:{cmsComponents:["ProductAddToCartComponent"]},[pe]:he}}}let Qe=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275mod=u.oAB({type:ke}),ke.\u0275inj=u.cJS({providers:[(0,h.x2j)(pt),(0,h.i51)(P),(0,h.i51)(k)],imports:[Fe,e.Bz.forChild([{path:null,canActivate:[N.al$],component:N.wAB,data:{cxRoute:"cart",cxContext:{[M]:Re}}}])]}),ke})(),rt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(Dt){let St=null;return St=Dt?new(Dt||ke):u.LFG(h.DeH),St},providedIn:"root"}),ke})(),we=(()=>{class ke extends N.kl2{}return ke.type="CartPageEvent",ke})(),Yt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(){return(0,h.wvQ)({facade:ke,feature:pe,methods:["getActive","takeActive","getActiveCartId","takeActiveCartId","getEntries","getLastEntry","getLoading","isStable","addEntry","removeEntry","updateEntry","getEntry","addEmail","getAssignedUser","isGuestCart","addEntries","requireLoadedCart","reloadActiveCart"],async:!0})},providedIn:"root"}),ke})(),zt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(){return(0,h.wvQ)({facade:ke,feature:pe,methods:["validateCart","getValidationResults"]})},providedIn:"root"}),ke})(),Xt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(){return(0,h.wvQ)({facade:ke,feature:pe,methods:["addVoucher","removeVoucher","getAddVoucherResultError","getAddVoucherResultSuccess","getAddVoucherResultLoading","resetAddVoucherProcessingState"],async:!0})},providedIn:"root"}),ke})(),gt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:function(){return(0,h.wvQ)({facade:ke,feature:pe,methods:["getCart","getEntries","isStable","addEntry","removeEntry","updateEntry","getEntry"],async:!0})},providedIn:"root"}),ke})(),Qt=(()=>{class ke{}return ke.\u0275fac=function(Dt){return new(Dt||ke)},ke.\u0275prov=u.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var Wt=(()=>{return(ke=Wt||(Wt={})).ITEM="cx-cart-item",ke.LIST_ITEM="cx-cart-item-list-row",ke.ITEM_DETAILS="cx-cart-item.details",ke.ITEM_CONFIGURATOR_ISSUES="cx-configurator-issues-notification",ke.ITEM_BUNDLE_DETAILS="cx-cart-item.bundle-details",ke.ORDER_SUMMARY="cx-order-summary",ke.CART_ITEM_LIST="cx-cart-item-list",Wt;var ke})(),Lt=(()=>{return(ke=Lt||(Lt={})).ActiveCart="CART",ke.Checkout="CHECKOUT",ke.Order="ORDER",ke.SaveForLater="SAVE_FOR_LATER",ke.SavedCart="SAVED_CART",Lt;var ke})(),wt=(()=>{return(ke=wt||(wt={})).ACTIVE="Active",ke.WISH_LIST="WishList",ke.SELECTIVE="Selective",ke.NEW_CREATED="NewCreated",wt;var ke})(),Pn=(()=>{return(ke=Pn||(Pn={})).NO_STOCK="noStock",ke.LOW_STOCK="lowStock",ke.REVIEW_CONFIGURATION="reviewConfiguration",ke.PRICING_ERROR="pricingError",ke.UNRESOLVABLE_ISSUES="unresolvableIssues",Pn;var ke})(),Rt=(()=>{return(ke=Rt||(Rt={})).ACTIVE_CART="ACTIVE_CART",ke.NEW_SAVED_CART="NEW_SAVED_CART",ke.QUICK_ORDER="QUICK_ORDER",ke.SAVED_CART="SAVED_CART",ke.ORDER_CONFIRMATION="ORDER_CONFIRMATION",ke.ORDER_DETAILS="ORDER_DETAILS",Rt;var ke})(),cn=(()=>{return(ke=cn||(cn={})).SUCCESS="success",ke.LOW_STOCK="lowStock",ke.NO_STOCK="noStock",ke.UNKNOWN_IDENTIFIER="unknownIdentifier",ke.UNKNOWN_ERROR="unknownError",ke.LIMIT_EXCEEDED="limitExceeded",cn;var ke})();const yn=new u.OlP("CartNormalizer"),Ft=new u.OlP("OrderEntryPromotionsNormalizer"),Zn=new u.OlP("CartModificationNormalizer"),bt=(new u.OlP("SaveCartNormalizer"),new u.OlP("CartVoucherNormalizer"))},8581:(de,Q,m)=>{"use strict";m.d(Q,{Jb:()=>P,Jx:()=>M,KI:()=>H,be:()=>I,e$:()=>re});var u=m(4650),e=m(9057),h=m(610),N=m(3749),D=m(1446);const P={quickOrder:{searchForm:{displayProductImages:!0,maxProducts:5,minCharactersBeforeRequest:3},list:{hardDeleteTimeout:7e3}}},M="cartQuickOrder",G="cartQuickOrderCore";let I=(()=>{class ae{}return ae.\u0275fac=function(Ze){return new(Ze||ae)},ae.\u0275prov=u.Yz7({token:ae,factory:function(){return function V(){return(0,e.wvQ)({facade:I,feature:G,methods:["addProduct","addToCart","clearList","canAdd","setListLimit","getEntries","getProductAdded","loadEntries","softDeleteEntry","searchProducts","setProductAdded","updateEntryQuantity","getSoftDeletedEntries","restoreSoftDeletedEntry","hardDeleteEntry","clearDeletedEntries","getNonPurchasableProductError","setNonPurchasableProductError","clearNonPurchasableProductError"]})}()},providedIn:"root"}),ae})();const H=new u.OlP("QuickOrderOrderEntriesContext");function $(){return{featureModules:{[M]:{cmsComponents:["QuickOrderComponent","CartQuickOrderFormComponent"]},[G]:M}}}const J={routing:{routes:{quickOrder:{paths:["my-account/quick-order"]}}}};let re=(()=>{class ae{}return ae.\u0275fac=function(Ze){return new(Ze||ae)},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({providers:[(0,e.x2j)($),(0,e.i51)(J),(0,e.i51)(P)],imports:[h.Bz.forChild([{path:null,canActivate:[D.al$],component:D.wAB,data:{cxRoute:"quickOrder",cxContext:{[N.eE]:H}}}])]}),ae})()},950:(de,Q,m)=>{"use strict";m.d(Q,{$O:()=>Ie,$Q:()=>V,AE:()=>me,Bi:()=>$,Fd:()=>se,Lr:()=>H,PN:()=>M,UQ:()=>Xe,aD:()=>Ge,dE:()=>k,eV:()=>G,fT:()=>De,gl:()=>Ze,j$:()=>J,j4:()=>ae,jk:()=>Ne,sY:()=>I,yt:()=>re});var u=m(3749),e=m(4650),h=m(9057),N=m(1446),D=m(610);class P extends u.SJ{}let k=(()=>{class he extends P{}return he.type="SaveCartEvent",he})(),M=(()=>{class he extends P{}return he.type="SaveCartSuccessEvent",he})(),G=(()=>{class he extends P{}return he.type="SaveCartEvent",he})(),V=(()=>{class he extends P{}return he.type="RestoreSavedCartEvent",he})(),I=(()=>{class he extends P{}return he.type="RestoreSavedCartSuccessEvent",he})(),H=(()=>{class he extends P{}return he.type="RestoreSavedCartFailEvent",he})(),$=(()=>{class he extends P{}return he.type="EditSavedCartEvent",he})(),J=(()=>{class he extends P{}return he.type="EditSavedCartSuccessEvent",he})(),re=(()=>{class he extends P{}return he.type="EditSavedCartFailEvent",he})(),ae=(()=>{class he extends P{}return he.type="CloneSavedCartEvent",he})(),De=(()=>{class he extends P{}return he.type="CloneSavedCartSuccessEvent",he})(),Ze=(()=>{class he extends P{}return he.type="CloneSavedCartFailEvent",he})();const Xe="cartSavedCart",Le="cartSavedCartCore";let Ge=(()=>{class he{}return he.\u0275fac=function(ne){return new(ne||he)},he.\u0275prov=e.Yz7({token:he,factory:function(){return(0,h.wvQ)({facade:he,feature:Le,methods:["editSavedCart","deleteSavedCart","getSavedCart","getSavedCartList","loadSavedCart","clearCloneSavedCart","clearRestoreSavedCart","clearSaveCart","clearSavedCarts","get","getList","getCloneSavedCartProcessError","getCloneSavedCartProcessLoading","getCloneSavedCartProcessSuccess","getRestoreSavedCartProcessError","getRestoreSavedCartProcessLoading","getRestoreSavedCartProcessSuccess","getSaveCartProcessError","getSaveCartProcessLoading","getSaveCartProcessSuccess","getSavedCartListProcess","getSavedCartListProcessLoading","isStable","cloneSavedCart","loadSavedCarts","restoreSavedCart","saveCart"],async:!0})},providedIn:"root"}),he})();var me=(()=>{return(he=me||(me={})).EDIT="edit",he.DELETE="delete",he.SAVE="save",he.RESTORE="restore",me;var he})();const se=new e.OlP("SavedCartOrderEntriesContext"),Ne=new e.OlP("NewSavedCartOrderEntriesContext");function ze(){return{featureModules:{[Xe]:{cmsComponents:["AddToSavedCartsComponent","AccountSavedCartHistoryComponent","SavedCartDetailsOverviewComponent","SavedCartDetailsItemsComponent","SavedCartDetailsActionComponent"],dependencies:[u.O0]},[Le]:Xe}}}let Ie=(()=>{class he{}return he.\u0275fac=function(ne){return new(ne||he)},he.\u0275mod=e.oAB({type:he}),he.\u0275inj=e.cJS({providers:[(0,h.x2j)(ze),(0,h.i51)({routing:{routes:{savedCarts:{paths:["my-account/saved-carts"]},savedCartsDetails:{paths:["my-account/saved-cart/:savedCartId"],paramsMapping:{savedCartId:"savedCartId"}}}}})],imports:[D.Bz.forChild([{path:null,canActivate:[h.a1M,N.al$],component:N.wAB,data:{cxRoute:"savedCartsDetails",cxContext:{[u.eE]:se}}},{path:null,canActivate:[h.a1M,N.al$],component:N.wAB,data:{cxRoute:"savedCarts",cxContext:{[u.eE]:Ne}}}])]}),he})()},1487:(de,Q,m)=>{"use strict";m.d(Q,{CN:()=>Xe,Go:()=>Ge,H0:()=>H,JO:()=>I,Rx:()=>G,hA:()=>$,uj:()=>me,vs:()=>Le});var u=m(4650),e=m(7935),h=m(9057),N=m(2654),D=m(6787);const P={checkout:{steps:[{id:"paymentType",name:"checkoutB2B.progress.methodOfPayment",routeName:"checkoutPaymentType",type:["paymentType"]},{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[e.u0.FREE],guest:!1}},k={routing:{routes:{checkoutPaymentType:{paths:["checkout/payment-type"]}}}};class M extends e.iJ{}let G=(()=>{class se extends M{}return se.type="CheckoutCostCenterSetEvent",se})();class V extends e.iJ{}let I=(()=>{class se extends V{}return se.type="CheckoutPaymentTypesQueryReloadEvent",se})(),H=(()=>{class se extends V{}return se.type="CheckoutPaymentTypesQueryResetEvent",se})(),$=(()=>{class se extends V{}return se.type="CheckoutPaymentTypeSetEvent",se})(),J=(()=>{class se{constructor(ze){this.eventService=ze,this.subscriptions=new N.w,this.onCostCenterSet()}onCostCenterSet(){this.subscriptions.add(this.eventService.get(G).subscribe(({cartId:ze,userId:Ie})=>{this.eventService.dispatch({cartId:ze,userId:Ie},e.Nw),this.eventService.dispatch({},e.$M)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return se.\u0275fac=function(ze){return new(ze||se)(u.LFG(h.POd))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),re=(()=>{class se{constructor(ze){this.eventService=ze,this.subscriptions=new N.w,this.onPaymentTypeSet(),this.onGetPaymentTypesQueryReload(),this.onGetPaymentTypesQueryReset()}onPaymentTypeSet(){this.subscriptions.add(this.eventService.get($).subscribe(({userId:ze,cartId:Ie})=>{this.eventService.dispatch({userId:ze,cartId:Ie},e.Nw),this.eventService.dispatch({},e.$M)}))}onGetPaymentTypesQueryReload(){this.subscriptions.add((0,D.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},I)}))}onGetPaymentTypesQueryReset(){this.subscriptions.add((0,D.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},H)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return se.\u0275fac=function(ze){return new(ze||se)(u.LFG(h.POd))},se.\u0275prov=u.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),ae=(()=>{class se{constructor(ze,Ie){}}return se.\u0275fac=function(ze){return new(ze||se)(u.LFG(J),u.LFG(re))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({}),se})();const De=[...e.r2,"CheckoutCostCenterComponent","CheckoutPaymentType"];function Ze(){return{featureModules:{[e.W$]:{cmsComponents:De}}}}let Xe=(()=>{class se{}return se.\u0275fac=function(ze){return new(ze||se)},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[(0,h.i51)(P),(0,h.i51)(k),(0,h.x2j)(Ze)],imports:[ae]}),se})(),Le=(()=>{class se{}return se.\u0275fac=function(ze){return new(ze||se)},se.\u0275prov=u.Yz7({token:se,factory:function(){return(0,h.wvQ)({facade:se,feature:e.VR,methods:["setCostCenter","getCostCenterState"]})},providedIn:"root"}),se})(),Ge=(()=>{class se{}return se.\u0275fac=function(ze){return new(ze||se)},se.\u0275prov=u.Yz7({token:se,factory:function(){return(0,h.wvQ)({facade:se,feature:e.VR,methods:["getPaymentTypes","getPaymentTypesState","setPaymentType","getSelectedPaymentTypeState","isAccountPayment","getPurchaseOrderNumberState"]})},providedIn:"root"}),se})();var me=(()=>{return(se=me||(me={})).ACCOUNT_PAYMENT="ACCOUNT",se.CARD_PAYMENT="CARD",me;var se})()},7935:(de,Q,m)=>{"use strict";m.d(Q,{$M:()=>Ge,B7:()=>rt,BG:()=>Ot,CZ:()=>De,Nw:()=>oe,Rv:()=>Zn,Tx:()=>bt,VG:()=>pe,VR:()=>zt,W$:()=>Yt,WB:()=>pt,Yy:()=>ne,eb:()=>Ie,f2:()=>be,iJ:()=>me,nh:()=>ke,oz:()=>ze,r2:()=>yn,s7:()=>_e,u0:()=>ae,vk:()=>Qe,vz:()=>Ne,xs:()=>Le,y6:()=>Re,ys:()=>Xt});var u=m(4650),e=m(3749),h=m(9057),N=m(950),D=m(4129),P=m(2654),k=m(6787),M=m(1737),G=m(2198),V=m(7545),I=m(4850),H=m(2986),$=m(7221),J=m(8555),re=m(529),ae=(()=>{return(je=ae||(ae={})).FREE="FREE",je.LEAST_EXPENSIVE="LEAST_EXPENSIVE",je.MOST_EXPENSIVE="MOST_EXPENSIVE",ae;var je})();let De=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275prov=u.Yz7({token:je,factory:function(St){let nn=null;return nn=St?new(St||je):u.LFG(h.DeH),nn},providedIn:"root"}),je})();const Ze={checkout:{steps:[{id:"deliveryAddress",name:"checkoutProgress.deliveryAddress",routeName:"checkoutDeliveryAddress",type:["deliveryAddress"]},{id:"deliveryMode",name:"checkoutProgress.deliveryMode",routeName:"checkoutDeliveryMode",type:["deliveryMode"]},{id:"paymentDetails",name:"checkoutProgress.paymentDetails",routeName:"checkoutPaymentDetails",type:["paymentDetails"]},{id:"reviewOrder",name:"checkoutProgress.reviewOrder",routeName:"checkoutReviewOrder",type:["reviewOrder"]}],express:!1,defaultDeliveryMode:[ae.FREE],guest:!1}},Xe={routing:{routes:{checkoutLogin:{paths:["checkout-login"],authFlow:!0},checkout:{paths:["checkout"]},checkoutDeliveryAddress:{paths:["checkout/delivery-address"]},checkoutDeliveryMode:{paths:["checkout/delivery-mode"]},checkoutPaymentDetails:{paths:["checkout/payment-details"]},checkoutReviewOrder:{paths:["checkout/review-order"]}}}};let Le=(()=>{class je extends h.W8x{}return je.type="CheckoutQueryReloadEvent",je})(),Ge=(()=>{class je extends h.W8x{}return je.type="CheckoutQueryResetEvent",je})();class me extends h.W8x{}class se extends me{}let Ne=(()=>{class je extends se{}return je.type="CheckoutDeliveryAddressCreatedEvent",je})(),ze=(()=>{class je extends se{}return je.type="CheckoutDeliveryAddressSetEvent",je})(),Ie=(()=>{class je extends se{}return je.type="CheckoutDeliveryAddressClearedEvent",je})();class he extends me{}let pe=(()=>{class je extends he{}return je.type="CheckoutDeliveryModeSetEvent",je})(),ne=(()=>{class je extends he{}return je.type="CheckoutDeliveryModeClearedEvent",je})(),_e=(()=>{class je extends he{}return je.type="CheckoutDeliveryModeClearedErrorEvent",je})(),be=(()=>{class je extends he{}return je.type="CheckoutSupportedDeliveryModesQueryReloadEvent",je})(),oe=(()=>{class je extends he{}return je.type="CheckoutSupportedDeliveryModesQueryResetEvent",je})();class Fe extends me{}let Re=(()=>{class je extends Fe{}return je.type="CheckoutPaymentDetailsCreatedEvent",je})(),pt=(()=>{class je extends Fe{}return je.type="CheckoutPaymentDetailsSetEvent",je})(),Qe=(()=>{class je extends Fe{}return je.type="CheckoutPaymentCardTypesQueryReloadEvent",je})(),rt=(()=>{class je extends Fe{}return je.type="CheckoutPaymentCardTypesQueryResetEvent",je})(),we=(()=>{class je{constructor(St){this.eventService=St,this.subscriptions=new P.w,this.onCheckoutQueryReload(),this.onCheckoutQueryReset()}onCheckoutQueryReload(){this.subscriptions.add((0,k.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},Le)}))}onCheckoutQueryReset(){this.subscriptions.add((0,k.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J),this.eventService.get(N.PN),this.eventService.get(N.sY),this.eventService.get(e.pA),this.eventService.get(D.uZ)).subscribe(()=>{this.eventService.dispatch({},Ge)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.POd))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const Yt="checkout",zt="checkoutCore";let Xt=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275prov=u.Yz7({token:je,factory:function(){return(0,h.wvQ)({facade:je,feature:zt,methods:["getDeliveryAddressState","createAndSetAddress","setDeliveryAddress","clearCheckoutDeliveryAddress"],async:!0})},providedIn:"root"}),je})(),gt=(()=>{class je{constructor(St,nn,_n,it){this.checkoutDeliveryAddressFacade=St,this.eventService=nn,this.globalMessageService=_n,this.activeCartFacade=it,this.subscriptions=new P.w,this.onDeliveryAddressCreated(),this.onDeliveryAddressSet(),this.onDeliveryAddressCleared(),this.onUserAddressChange()}onUserAddressChange(){this.subscriptions.add(this.eventService.get(h.yDL).pipe((0,G.h)(St=>St instanceof h.ZTc||St instanceof h.c$T),(0,V.w)(({userId:St})=>this.activeCartFacade.takeActiveCartId().pipe((0,I.U)(nn=>({cartId:nn,userId:St}))))).subscribe(({cartId:St,userId:nn})=>{this.checkoutDeliveryAddressFacade.clearCheckoutDeliveryAddress(),this.eventService.dispatch({cartId:St,userId:nn},oe)}))}onDeliveryAddressCreated(){this.subscriptions.add(this.eventService.get(Ne).subscribe(({cartId:St,userId:nn})=>{nn!==h.Fds&&this.eventService.dispatch({userId:nn},h.UQd),this.globalMessageService.add({key:"addressForm.userAddressAddSuccess"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({userId:nn,cartId:St},oe),this.eventService.dispatch({},Ge)}))}onDeliveryAddressSet(){this.subscriptions.add(this.eventService.get(ze).subscribe(({userId:St,cartId:nn})=>{this.eventService.dispatch({userId:St,cartId:nn},oe),this.eventService.dispatch({},Ge)}))}onDeliveryAddressCleared(){this.subscriptions.add(this.eventService.get(Ie).subscribe(()=>this.eventService.dispatch({},Ge)))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(Xt),u.LFG(h.POd),u.LFG(h.IWp),u.LFG(e.bu))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),Qt=(()=>{class je{constructor(St){this.eventService=St,this.subscriptions=new P.w,this.onDeliveryModeSet(),this.onDeliveryModeCleared(),this.onDeliveryModeClearedError(),this.onDeliveryModeReset(),this.onGetSupportedDeliveryModesQueryReload(),this.onGetSupportedDeliveryModesQueryReset()}onDeliveryModeSet(){this.subscriptions.add(this.eventService.get(pe).subscribe(({userId:St,cartId:nn,cartCode:_n})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:St,cartId:nn,cartCode:_n},e.Tc)}))}onDeliveryModeCleared(){this.subscriptions.add(this.eventService.get(ne).subscribe(({userId:St,cartId:nn,cartCode:_n})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:St,cartId:nn,cartCode:_n},e.Tc)}))}onDeliveryModeClearedError(){this.subscriptions.add(this.eventService.get(_e).subscribe(({userId:St,cartId:nn,cartCode:_n})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:St,cartId:nn,cartCode:_n},e.Tc)}))}onDeliveryModeReset(){this.subscriptions.add(this.eventService.get(oe).subscribe(({userId:St,cartId:nn})=>this.eventService.dispatch({userId:St,cartId:nn,cartCode:nn},e.Tc)))}onGetSupportedDeliveryModesQueryReload(){this.subscriptions.add((0,k.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},be)}))}onGetSupportedDeliveryModesQueryReset(){this.subscriptions.add((0,k.T)(this.eventService.get(h.rX_),this.eventService.get(h.p1J)).subscribe(()=>{this.eventService.dispatch({},oe)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.POd))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),Wt=(()=>{class je{constructor(St,nn){this.eventService=St,this.globalMessageService=nn,this.subscriptions=new P.w,this.onPaymentCreated(),this.onPaymentSet(),this.onGetCardTypesQueryReload()}onPaymentCreated(){this.subscriptions.add(this.eventService.get(Re).subscribe(({userId:St})=>{St!==h.Fds&&this.eventService.dispatch({userId:St},h.kmg),this.globalMessageService.add({key:"paymentForm.paymentAddedSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({},Ge)}))}onPaymentSet(){this.subscriptions.add(this.eventService.get(pt).subscribe(()=>{this.eventService.dispatch({},Ge)}))}onGetCardTypesQueryReload(){this.subscriptions.add((0,k.T)(this.eventService.get(h.QRE),this.eventService.get(h.Y1I)).subscribe(()=>{this.eventService.dispatch({},Qe)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.POd),u.LFG(h.IWp))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),Lt=(()=>{class je{constructor(St){this.eventService=St,this.subscriptions=new P.w,this.onOrderPlaced()}onOrderPlaced(){this.subscriptions.add(this.eventService.get(D.uZ).subscribe(({userId:St,cartId:nn,cartCode:_n})=>{this.eventService.dispatch({},Ge),this.eventService.dispatch({userId:St,cartId:nn,cartCode:_n},e.c7)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.POd))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),wt=(()=>{class je{constructor(St,nn){this.eventService=St,this.store=nn,this.subscriptions=new P.w,this.onUserAddressAction(),this.onUserPaymentAction()}onUserAddressAction(){this.subscriptions.add(this.eventService.get(h.UQd).subscribe(({userId:St})=>{this.store.dispatch(new h.EJN.LoadUserAddresses(St))}))}onUserPaymentAction(){this.subscriptions.add(this.eventService.get(h.kmg).subscribe(({userId:St})=>{this.store.dispatch(new h.EJN.LoadUserPaymentMethods(St))}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.POd),u.LFG(J.yh))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),Pn=(()=>{class je{constructor(St,nn,_n,it,Ae,Ee){}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(we),u.LFG(gt),u.LFG(Qt),u.LFG(Wt),u.LFG(Lt),u.LFG(wt))},je.\u0275mod=u.oAB({type:je}),je.\u0275inj=u.cJS({}),je})();const cn=[{provide:re.TP,useExisting:(()=>{class je{constructor(St,nn){this.routingService=St,this.multiCartFacade=nn}intercept(St,nn){return this.routingService.getRouterState().pipe((0,H.q)(1),(0,V.w)(_n=>nn.handle(St).pipe((0,$.K)(it=>{if(it instanceof re.UA&&this.isUserInCheckoutRoute(_n.state?.semanticRoute)&&this.isCartNotFoundError(it)){this.routingService.go({cxRoute:"cart"});const Ae=this.getCartIdFromError(it);Ae&&this.multiCartFacade.reloadCart(Ae)}return(0,M._)(it)}))))}isUserInCheckoutRoute(St){return St?.toLowerCase().startsWith("checkout")??!1}isCartNotFoundError(St){return 400===St.status&&"CartError"===St.error?.errors?.[0]?.type&&"notFound"===St.error?.errors?.[0]?.reason}getCartIdFromError(St){return St.error?.errors?.[0]?.subject}}return je.\u0275fac=function(St){return new(St||je)(u.LFG(h.Znh),u.LFG(e.WT))},je.\u0275prov=u.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})(),multi:!0}],yn=["CheckoutOrchestrator","CheckoutOrderSummary","CheckoutProgress","CheckoutProgressMobileBottom","CheckoutProgressMobileTop","CheckoutDeliveryMode","CheckoutPaymentDetails","CheckoutPlaceOrder","CheckoutReviewOrder","CheckoutDeliveryAddress","GuestCheckoutLoginComponent"];function Ft(){return{featureModules:{[Yt]:{cmsComponents:yn,dependencies:[e.O0]},[zt]:Yt}}}let Zn=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275mod=u.oAB({type:je}),je.\u0275inj=u.cJS({providers:[...cn,(0,h.i51)(Xe),(0,h.i51)(Ze),(0,h.x2j)(Ft)],imports:[Pn]}),je})(),Ot=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275prov=u.Yz7({token:je,factory:function(){return(0,h.wvQ)({facade:je,feature:zt,methods:["getSupportedDeliveryModesState","getSupportedDeliveryModes","setDeliveryMode","getSelectedDeliveryModeState","clearCheckoutDeliveryMode"],async:!0})},providedIn:"root"}),je})(),bt=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275prov=u.Yz7({token:je,factory:function(){return(0,h.wvQ)({facade:je,feature:zt,methods:["getPaymentCardTypesState","getPaymentCardTypes","getPaymentDetailsState","createPaymentDetails","setPaymentDetails"],async:!0})},providedIn:"root"}),je})(),ke=(()=>{class je{}return je.\u0275fac=function(St){return new(St||je)},je.\u0275prov=u.Yz7({token:je,factory:function(){return(0,h.wvQ)({facade:je,feature:zt,methods:["getCheckoutDetailsState"]})},providedIn:"root"}),je})()},9057:(de,Q,m)=>{"use strict";m.d(Q,{RzO:()=>na,jo8:()=>ah,O9k:()=>xm,w3G:()=>xe,ZWZ:()=>zl,k0m:()=>tl,cNt:()=>my,NpW:()=>Wa,uQL:()=>Nc,dSP:()=>Hl,a1M:()=>yv,i$2:()=>hd,nyr:()=>Qf,FUY:()=>Yl,e80:()=>Hi,jg0:()=>Za,KOx:()=>$n,iEg:()=>ns,pz3:()=>QA,MkU:()=>Jp,Do$:()=>ec,M$E:()=>V_,m2B:()=>rh,XwO:()=>j_,IkA:()=>Cs,Dcy:()=>Dm,ctt:()=>hf,VDr:()=>CE,flE:()=>Oa,ryK:()=>_0,DeH:()=>ao,XZr:()=>qi,yUt:()=>os,pEA:()=>a,vc1:()=>xy,Zu_:()=>Gp,IXI:()=>Do,nWM:()=>hS,ieQ:()=>_u,Y1I:()=>qg,KZK:()=>jD,dgE:()=>L0,W8x:()=>is,peS:()=>u0,Mvl:()=>_i,OK4:()=>Ty,cXr:()=>Em,c$T:()=>jm,uvI:()=>y0,QIJ:()=>HD,POd:()=>Sa,gLQ:()=>o0,Ru9:()=>jp,EY6:()=>$p,EJv:()=>qv,q2V:()=>nA,GSh:()=>rm,IWp:()=>$i,xUg:()=>_r,kck:()=>Ho,YPQ:()=>en,qug:()=>Bf,sdw:()=>Os,LUR:()=>Mm,zZ_:()=>$0,Fox:()=>Zl,ORv:()=>ma,TSl:()=>xa,QRE:()=>Bp,UQd:()=>mE,kmg:()=>vE,p1J:()=>ig,rX_:()=>Wf,z4I:()=>ea,aOY:()=>Sv,k$E:()=>zn,C8C:()=>pa,DzN:()=>kc,gSv:()=>Vu,Fds:()=>Fc,zyp:()=>fa,YI5:()=>Ph,Vri:()=>vs,Lz0:()=>cr,mS3:()=>VD,EM5:()=>YE,YB0:()=>vy,BzF:()=>Gn,jrf:()=>Tu,u3W:()=>wy,FRf:()=>Is,deh:()=>C0,GV4:()=>jn,VkE:()=>Dv,GCj:()=>yD,scg:()=>kD,bPT:()=>SS,FxR:()=>cE,x0A:()=>LD,tyF:()=>_f,ji5:()=>mh,M52:()=>lE,Fa4:()=>Am,Cvs:()=>Qp,_7J:()=>yE,gGW:()=>$u,TSP:()=>a0,Znh:()=>_s,Wrh:()=>EE,qI3:()=>LC,hCH:()=>ha,dO9:()=>nd,zQk:()=>Gi,R$7:()=>i_,Qnj:()=>jt,mR0:()=>P_,vL$:()=>ld,vUS:()=>Mi,WBb:()=>cd,kPG:()=>A,iHd:()=>fo,F3r:()=>Yh,IMh:()=>Ym,X$D:()=>H0,Wml:()=>B_,D7D:()=>Ra,_Re:()=>Uc,OPk:()=>rv,W5u:()=>Ms,ZTc:()=>GD,gyx:()=>_c,bhT:()=>By,l2T:()=>uA,EJN:()=>kv,yDL:()=>Rl,kFJ:()=>$D,ZZY:()=>kp,mjM:()=>LA,XBV:()=>Uo,GO$:()=>FA,zht:()=>ZA,xd:()=>NA,Y2r:()=>pD,TWG:()=>kA,Tie:()=>DE,KDu:()=>Zm,zYO:()=>Mr,JyF:()=>Kn,X9E:()=>Ya,twT:()=>OA,PjU:()=>ya,RH2:()=>Fr,wvQ:()=>oA,P51:()=>Cc,Pzz:()=>SE,jWE:()=>Ka,pTN:()=>Ti,Kn2:()=>Qi,cxH:()=>Fn,A2H:()=>ls,i51:()=>co,x2j:()=>ds,ARM:()=>mf,FM_:()=>Sm});var u=m(5861),e=m(4650),h=m(8555),N=m(839),D=m(1086),P=m(3753),k=m(591),M=m(8514),G=m(8896);function V(i,f=G.E,s=G.E){return(0,M.P)(()=>i()?f:s)}var I=m(6053),H=m(341),$=m(1737),J=m(2654),re=m(6498),ae=m(8929),De=m(5409),Ze=m(5254),Xe=m(3009),Le=m(6688),Ge=m(3489),me=m(5430),se=m(1177);function Ne(...i){const f=i[i.length-1];return"function"==typeof f&&i.pop(),(0,Xe.n)(i,void 0).lift(new ze(f))}class ze{constructor(f){this.resultSelector=f}call(f,s){return s.subscribe(new Ie(f,this.resultSelector))}}class Ie extends Ge.L{constructor(f,s,t=Object.create(null)){super(f),this.resultSelector=s,this.iterators=[],this.active=0,this.resultSelector="function"==typeof s?s:void 0}_next(f){const s=this.iterators;(0,Le.k)(f)?s.push(new pe(f)):s.push("function"==typeof f[me.hZ]?new he(f[me.hZ]()):new ne(this.destination,this,f))}_complete(){const f=this.iterators,s=f.length;if(this.unsubscribe(),0!==s){this.active=s;for(let t=0;t<s;t++){let n=f[t];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const f=this.iterators,s=f.length,t=this.destination;for(let c=0;c<s;c++){let d=f[c];if("function"==typeof d.hasValue&&!d.hasValue())return}let n=!1;const o=[];for(let c=0;c<s;c++){let d=f[c],p=d.next();if(d.hasCompleted()&&(n=!0),p.done)return void t.complete();o.push(p.value)}this.resultSelector?this._tryresultSelector(o):t.next(o),n&&t.complete()}_tryresultSelector(f){let s;try{s=this.resultSelector.apply(this,f)}catch(t){return void this.destination.error(t)}this.destination.next(s)}}class he{constructor(f){this.iterator=f,this.nextResult=f.next()}hasValue(){return!0}next(){const f=this.nextResult;return this.nextResult=this.iterator.next(),f}hasCompleted(){const f=this.nextResult;return Boolean(f&&f.done)}}class pe{constructor(f){this.array=f,this.index=0,this.length=0,this.length=f.length}[me.hZ](){return this}next(f){const s=this.index++;return s<this.length?{value:this.array[s],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ne extends se.Ds{constructor(f,s,t){super(f),this.parent=s,this.observable=t,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[me.hZ](){return this}next(){const f=this.buffer;return 0===f.length&&this.isComplete?{value:null,done:!0}:{value:f.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(f){this.buffer.push(f),this.parent.checkIterators()}subscribe(){return(0,se.ft)(this.observable,new se.IY(this))}}var _e=m(8139),be=m(567),oe=m(6787),Fe=m(4715);function pt(i){const{start:f,index:s,count:t,subscriber:n}=i;s>=t?n.complete():(n.next(f),!n.closed&&(i.index=s+1,i.start=f+1,this.schedule(i)))}var Qe=m(8723),rt=m(2986),we=m(4850),Yt=m(13),zt=m(1059),Xt=m(5778),gt=m(2198),Qt=m(5154),Wt=m(7168),Lt=m(2994),wt=m(7545),Pn=m(7770),Rt=m(7221),cn=m(8807),yn=m(7604),Ft=m(8117),Zn=m(519),Ot=m(9403),bt=m(1406),ke=m(1709),je=m(2536);function Dt(i,f,s,t){s&&"function"!=typeof s&&(t=s);const n="function"==typeof s?s:void 0,o=new N.t(i,f,t);return c=>(0,je.O)(()=>o,n)(c)}var St=m(2313),nn=m(2014),_n=m(1307);function it(i,f=null){return function(t){return t.lift(new Ae(i,f))}}class Ae{constructor(f,s){this.bufferSize=f,this.startBufferEvery=s,this.subscriberClass=s&&f!==s?st:Ee}call(f,s){return s.subscribe(new this.subscriberClass(f,this.bufferSize,this.startBufferEvery))}}class Ee extends Ge.L{constructor(f,s){super(f),this.bufferSize=s,this.buffer=[]}_next(f){const s=this.buffer;s.push(f),s.length==this.bufferSize&&(this.destination.next(s),this.buffer=[])}_complete(){const f=this.buffer;f.length>0&&this.destination.next(f),super._complete()}}class st extends Ge.L{constructor(f,s,t){super(f),this.bufferSize=s,this.startBufferEvery=t,this.buffers=[],this.count=0}_next(f){const{bufferSize:s,startBufferEvery:t,buffers:n,count:o}=this;this.count++,o%t==0&&n.push([]);for(let c=n.length;c--;){const d=n[c];d.push(f),d.length===s&&(n.splice(c,1),this.destination.next(d))}}_complete(){const{buffers:f,destination:s}=this;for(;f.length>0;){let t=f.shift();t.length>0&&s.next(t)}super._complete()}}var at=m(373),Jt=m(4002),Nt=m(384),an=m(943),kt=m(537);function gn(i=-1){return f=>f.lift(new mn(i,f))}class mn{constructor(f,s){this.count=f,this.source=s}call(f,s){return s.subscribe(new tr(f,this.count,this.source))}}class tr extends Ge.L{constructor(f,s,t){super(f),this.count=s,this.source=t}error(f){if(!this.isStopped){const{source:s,count:t}=this;if(0===t)return super.error(f);t>-1&&(this.count=t-1),s.subscribe(this._unsubscribeAndRecycle())}}}var rn=m(7625);class We{constructor(f,s){this.notifier=f,this.source=s}call(f,s){return s.subscribe(new Et(f,this.notifier,this.source))}}class Et extends se.Ds{constructor(f,s,t){super(f),this.notifier=s,this.source=t}error(f){if(!this.isStopped){let s=this.errors,t=this.retries,n=this.retriesSubscription;if(t)this.errors=void 0,this.retriesSubscription=void 0;else{s=new ae.xQ;try{const{notifier:o}=this;t=o(s)}catch(o){return super.error(o)}n=(0,se.ft)(t,new se.IY(this))}this._unsubscribeAndRecycle(),this.errors=s,this.retries=t,this.retriesSubscription=n,s.next(f)}}_unsubscribe(){const{errors:f,retriesSubscription:s}=this;f&&(f.unsubscribe(),this.errors=void 0),s&&(s.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:f}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=f,this.source.subscribe(this)}}var _t=m(1214),Ct=m(6895),qt=m(610),Tt=m(529),Ke=m(5024),Dn=m(1481),Nn=m(6943);function kn(i){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}var hr=[],un=hr.forEach,An=hr.slice;function Sn(i){return un.call(An.call(arguments,1),function(f){if(f)for(var s in f)void 0===i[s]&&(i[s]=f[s])}),i}function Vn(){return"function"==typeof XMLHttpRequest||"object"===(typeof XMLHttpRequest>"u"?"undefined":kn(XMLHttpRequest))}var z,Z,x,ye=m(2136),Te=m.t(ye,2);function ie(i){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}"function"==typeof fetch&&(z=typeof global<"u"&&global.fetch?global.fetch:typeof window<"u"&&window.fetch?window.fetch:fetch),Vn()&&(typeof global<"u"&&global.XMLHttpRequest?Z=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Z=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(typeof global<"u"&&global.ActiveXObject?x=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(x=window.ActiveXObject)),!z&&Te&&!Z&&!x&&(z=ye||Te),"function"!=typeof z&&(z=void 0);var le=function(f,s){if(s&&"object"===ie(s)){var t="";for(var n in s)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(s[n]);if(!t)return f;f=f+(-1!==f.indexOf("?")?"&":"?")+t.slice(1)}return f},He=function(f,s,t){z(f,s).then(function(n){if(!n.ok)return t(n.statusText||"Error",{status:n.status});n.text().then(function(o){t(null,{status:n.status,data:o})}).catch(t)}).catch(t)},ct=!1;const bn=function(f,s,t,n){return"function"==typeof t&&(n=t,t=void 0),n=n||function(){},z?function(f,s,t,n){f.queryStringParams&&(s=le(s,f.queryStringParams));var o=Sn({},"function"==typeof f.customHeaders?f.customHeaders():f.customHeaders);t&&(o["Content-Type"]="application/json");var c="function"==typeof f.requestOptions?f.requestOptions(t):f.requestOptions,d=Sn({method:t?"POST":"GET",body:t?f.stringify(t):void 0,headers:o},ct?{}:c);try{He(s,d,n)}catch(p){if(!c||0===Object.keys(c).length||!p.message||p.message.indexOf("not implemented")<0)return n(p);try{Object.keys(c).forEach(function(_){delete d[_]}),He(s,d,n),ct=!0}catch(_){n(_)}}}(f,s,t,n):Vn()||"function"==typeof ActiveXObject?function(f,s,t,n){t&&"object"===ie(t)&&(t=le("",t).slice(1)),f.queryStringParams&&(s=le(s,f.queryStringParams));try{var o;(o=Z?new Z:new x("MSXML2.XMLHTTP.3.0")).open(t?"POST":"GET",s,1),f.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!f.withCredentials,t&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var c=f.customHeaders;if(c="function"==typeof c?c():c)for(var d in c)o.setRequestHeader(d,c[d]);o.onreadystatechange=function(){o.readyState>3&&n(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(t)}catch(p){console&&console.log(p)}}(f,s,t,n):void n(new Error("No fetch and no xhr implementation found!"))};function or(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function Un(i,f){for(var s=0;s<f.length;s++){var t=f[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}var Ar=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,t,n){return function qn(i,f,s){return f in i?Object.defineProperty(i,f,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[f]=s,i}({},t,n||"")},request:bn,reloadInterval:!(typeof window<"u")&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Ln=function(){function i(f){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};or(this,i),this.services=f,this.options=s,this.allOptions=t,this.type="backend",this.init(f,s,t)}return function En(i,f,s){f&&Un(i.prototype,f),s&&Un(i,s),Object.defineProperty(i,"prototype",{writable:!1})}(i,[{key:"init",value:function(s){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=s,this.options=Sn(n,this.options||{},Ar()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval(function(){return t.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(s,t,n){this._readAny(s,s,t,t,n)}},{key:"read",value:function(s,t,n){this._readAny([s],s,[t],t,n)}},{key:"_readAny",value:function(s,t,n,o,c){var d=this,p=this.options.loadPath;"function"==typeof this.options.loadPath&&(p=this.options.loadPath(s,n)),p=function Qn(i){return function Jn(i){return!!i&&"function"==typeof i.then}(i)?i:Promise.resolve(i)}(p),p.then(function(_){if(!_)return c(null,{});var C=d.services.interpolator.interpolate(_,{lng:s.join("+"),ns:n.join("+")});d.loadUrl(C,c,t,o)})}},{key:"loadUrl",value:function(s,t,n,o){var c=this;this.options.request(this.options,s,void 0,function(d,p){if(p&&(p.status>=500&&p.status<600||!p.status))return t("failed loading "+s+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return t("failed loading "+s+"; status code: "+p.status,!1);if(!p&&d&&d.message&&d.message.indexOf("Failed to fetch")>-1)return t("failed loading "+s+": "+d.message,!0);if(d)return t(d,!1);var _,C;try{_="string"==typeof p.data?c.options.parse(p.data,n,o):p.data}catch{C="failed parsing "+s+" to json"}if(C)return t(C,!1);t(null,_)})}},{key:"create",value:function(s,t,n,o,c){var d=this;if(this.options.addPath){"string"==typeof s&&(s=[s]);var p=this.options.parsePayload(t,n,o),_=0,C=[],S=[];s.forEach(function(O){var j=d.options.addPath;"function"==typeof d.options.addPath&&(j=d.options.addPath(O,t));var ce=d.services.interpolator.interpolate(j,{lng:O,ns:t});d.options.request(d.options,ce,p,function(Me,Ye){_+=1,C.push(Me),S.push(Ye),_===s.length&&c&&c(C,S)})})}}},{key:"reload",value:function(){var s=this,t=this.services,n=t.backendConnector,o=t.languageUtils,c=t.logger,d=n.language;if(!d||"cimode"!==d.toLowerCase()){var p=[],_=function(S){o.toResolveHierarchy(S).forEach(function(j){p.indexOf(j)<0&&p.push(j)})};_(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(C){return _(C)}),p.forEach(function(C){s.allOptions.ns.forEach(function(S){n.read(C,S,"read",null,null,function(O,j){O&&c.warn("loading namespace ".concat(S," for language ").concat(C," failed"),O),!O&&j&&c.log("loaded namespace ".concat(S," for language ").concat(C),j),n.loaded("".concat(C,"|").concat(S),O,j)})})})}}}]),i}();Ln.type="backend";const yr=Ln;function Tr(i){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function hn(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function $r(i,f){for(var s=0;s<f.length;s++){var t=f[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function ir(i,f,s){return f&&$r(i.prototype,f),s&&$r(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function sr(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Sr(i,f){return(Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(i,f)}function br(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),f&&Sr(i,f)}function gr(i,f){if(f&&("object"===Tr(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return sr(i)}function Mn(i){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)})(i)}function Rn(i,f,s){return f in i?Object.defineProperty(i,f,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[f]=s,i}function nr(i,f){(null==f||f>i.length)&&(f=i.length);for(var s=0,t=new Array(f);s<f;s++)t[s]=i[s];return t}function Er(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function Se(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?Er(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Er(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var lt={type:"logger",log:function(f){this.output("log",f)},warn:function(f){this.output("warn",f)},error:function(f){this.output("error",f)},output:function(f,s){console&&console[f]&&console[f].apply(console,s)}},dt=new(function(){function i(f){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hn(this,i),this.init(f,s)}return ir(i,[{key:"init",value:function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=s||lt,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(s){this.debug=s}},{key:"log",value:function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(s,t,n,o){return o&&!this.debug?null:("string"==typeof s[0]&&(s[0]="".concat(n).concat(this.prefix," ").concat(s[0])),this.logger[t](s))}},{key:"create",value:function(s){return new i(this.logger,Se(Se({},{prefix:"".concat(this.prefix,":").concat(s,":")}),this.options))}},{key:"clone",value:function(s){return(s=s||this.options).prefix=s.prefix||this.prefix,new i(this.logger,s)}}]),i}()),Vt=function(){function i(){hn(this,i),this.observers={}}return ir(i,[{key:"on",value:function(s,t){var n=this;return s.split(" ").forEach(function(o){n.observers[o]=n.observers[o]||[],n.observers[o].push(t)}),this}},{key:"off",value:function(s,t){if(this.observers[s]){if(!t)return void delete this.observers[s];this.observers[s]=this.observers[s].filter(function(n){return n!==t})}}},{key:"emit",value:function(s){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this.observers[s]){var c=[].concat(this.observers[s]);c.forEach(function(p){p.apply(void 0,n)})}if(this.observers["*"]){var d=[].concat(this.observers["*"]);d.forEach(function(p){p.apply(p,[s].concat(n))})}}}]),i}();function Mt(){var i,f,s=new Promise(function(t,n){i=t,f=n});return s.resolve=i,s.reject=f,s}function xn(i){return null==i?"":""+i}function ue(i,f,s){i.forEach(function(t){f[t]&&(s[t]=f[t])})}function nt(i,f,s){function t(d){return d&&d.indexOf("###")>-1?d.replace(/###/g,"."):d}function n(){return!i||"string"==typeof i}for(var o="string"!=typeof f?[].concat(f):f.split(".");o.length>1;){if(n())return{};var c=t(o.shift());!i[c]&&s&&(i[c]=new s),i=Object.prototype.hasOwnProperty.call(i,c)?i[c]:{}}return n()?{}:{obj:i,k:t(o.shift())}}function et(i,f,s){var t=nt(i,f,Object);t.obj[t.k]=s}function vn(i,f){var s=nt(i,f),t=s.obj;if(t)return t[s.k]}function Wn(i,f,s){var t=vn(i,s);return void 0!==t?t:vn(f,s)}function zr(i,f,s){for(var t in f)"__proto__"!==t&&"constructor"!==t&&(t in i?"string"==typeof i[t]||i[t]instanceof String||"string"==typeof f[t]||f[t]instanceof String?s&&(i[t]=f[t]):zr(i[t],f[t],s):i[t]=f[t]);return i}function Yr(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var hi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function gi(i){return"string"==typeof i?i.replace(/[&<>"'\/]/g,function(f){return hi[f]}):i}var Ir=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Vo=[" ",",","?","!",";"];function go(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function Po(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?go(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):go(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}function Ao(i,f){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(i){if(i[f])return i[f];for(var t=f.split(s),n=i,o=0;o<t.length;++o){if(!n||"string"==typeof n[t[o]]&&o+1<t.length)return;if(void 0===n[t[o]]){for(var c=2,d=t.slice(o,o+c).join(s),p=n[d];void 0===p&&t.length>o+c;)c++,p=n[d=t.slice(o,o+c).join(s)];if(void 0===p)return;if(null===p)return null;if(f.endsWith(d)){if("string"==typeof p)return p;if(d&&"string"==typeof p[d])return p[d]}var _=t.slice(o+c).join(s);return _?Ao(p,_,s):void 0}n=n[t[o]]}return n}}var Xo=function(i){br(s,i);var f=function Oi(i){var f=function mo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,t=Mn(i);if(f){var o=Mn(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return gr(this,n)}}(s);function s(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return hn(this,s),n=f.call(this),Ir&&Vt.call(sr(n)),n.data=t||{},n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return ir(s,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var o=this.options.ns.indexOf(n);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(n,o,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=void 0!==d.keySeparator?d.keySeparator:this.options.keySeparator,_=void 0!==d.ignoreJSONStructure?d.ignoreJSONStructure:this.options.ignoreJSONStructure,C=[n,o];c&&"string"!=typeof c&&(C=C.concat(c)),c&&"string"==typeof c&&(C=C.concat(p?c.split(p):c)),n.indexOf(".")>-1&&(C=n.split("."));var S=vn(this.data,C);return S||!_||"string"!=typeof c?S:Ao(this.data&&this.data[n]&&this.data[n][o],c,p)}},{key:"addResource",value:function(n,o,c,d){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},_=this.options.keySeparator;void 0===_&&(_=".");var C=[n,o];c&&(C=C.concat(_?c.split(_):c)),n.indexOf(".")>-1&&(d=o,o=(C=n.split("."))[1]),this.addNamespaces(o),et(this.data,C,d),p.silent||this.emit("added",n,o,c,d)}},{key:"addResources",value:function(n,o,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var p in c)("string"==typeof c[p]||"[object Array]"===Object.prototype.toString.apply(c[p]))&&this.addResource(n,o,p,c[p],{silent:!0});d.silent||this.emit("added",n,o,c)}},{key:"addResourceBundle",value:function(n,o,c,d,p){var _=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},C=[n,o];n.indexOf(".")>-1&&(d=c,c=o,o=(C=n.split("."))[1]),this.addNamespaces(o);var S=vn(this.data,C)||{};d?zr(S,c,p):S=Po(Po({},S),c),et(this.data,C,S),_.silent||this.emit("added",n,o,c)}},{key:"removeResourceBundle",value:function(n,o){this.hasResourceBundle(n,o)&&delete this.data[n][o],this.removeNamespaces(o),this.emit("removed",n,o)}},{key:"hasResourceBundle",value:function(n,o){return void 0!==this.getResource(n,o)}},{key:"getResourceBundle",value:function(n,o){return o||(o=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Po(Po({},{}),this.getResource(n,o)):this.getResource(n,o)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"hasLanguageSomeTranslations",value:function(n){var o=this.getDataByLanguage(n);return!!(o&&Object.keys(o)||[]).find(function(d){return o[d]&&Object.keys(o[d]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),s}(Vt),mi={processors:{},addPostProcessor:function(f){this.processors[f.name]=f},handle:function(f,s,t,n,o){var c=this;return f.forEach(function(d){c.processors[d]&&(s=c.processors[d].process(s,t,n,o))}),s}};function To(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function mr(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?To(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):To(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var ni={},Lo=function(i){br(s,i);var f=function ei(i){var f=function ti(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,t=Mn(i);if(f){var o=Mn(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return gr(this,n)}}(s);function s(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hn(this,s),n=f.call(this),Ir&&Vt.call(sr(n)),ue(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,sr(n)),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=dt.create("translator"),n}return ir(s,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==n)return!1;var c=this.resolve(n,o);return c&&void 0!==c.res}},{key:"extractFromKey",value:function(n,o){var c=void 0!==o.nsSeparator?o.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");var d=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,p=o.ns||this.options.defaultNS||[],_=c&&n.indexOf(c)>-1,C=!(this.options.userDefinedKeySeparator||o.keySeparator||this.options.userDefinedNsSeparator||o.nsSeparator||function ho(i,f,s){f=f||"",s=s||"";var t=Vo.filter(function(d){return f.indexOf(d)<0&&s.indexOf(d)<0});if(0===t.length)return!0;var n=new RegExp("(".concat(t.map(function(d){return"?"===d?"\\?":d}).join("|"),")")),o=!n.test(i);if(!o){var c=i.indexOf(s);c>0&&!n.test(i.substring(0,c))&&(o=!0)}return o}(n,c,d));if(_&&!C){var S=n.match(this.interpolator.nestingRegexp);if(S&&S.length>0)return{key:n,namespaces:p};var O=n.split(c);(c!==d||c===d&&this.options.ns.indexOf(O[0])>-1)&&(p=O.shift()),n=O.join(d)}return"string"==typeof p&&(p=[p]),{key:n,namespaces:p}}},{key:"translate",value:function(n,o,c){var d=this;if("object"!==Tr(o)&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),o||(o={}),null==n)return"";Array.isArray(n)||(n=[String(n)]);var p=void 0!==o.returnDetails?o.returnDetails:this.options.returnDetails,_=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,C=this.extractFromKey(n[n.length-1],o),S=C.key,O=C.namespaces,j=O[O.length-1],ce=o.lng||this.language,Me=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(ce&&"cimode"===ce.toLowerCase()){if(Me){var Ye=o.nsSeparator||this.options.nsSeparator;return p?(Je.res="".concat(j).concat(Ye).concat(S),Je):"".concat(j).concat(Ye).concat(S)}return p?(Je.res=S,Je):S}var Je=this.resolve(n,o),ot=Je&&Je.res,Pt=Je&&Je.usedKey||S,$t=Je&&Je.exactUsedKey||S,sn=Object.prototype.toString.apply(ot),At=["[object Number]","[object Function]","[object RegExp]"],pn=void 0!==o.joinArrays?o.joinArrays:this.options.joinArrays,er=!this.i18nFormat||this.i18nFormat.handleAsObject,Cr="string"!=typeof ot&&"boolean"!=typeof ot&&"number"!=typeof ot;if(er&&ot&&Cr&&At.indexOf(sn)<0&&("string"!=typeof pn||"[object Array]"!==sn)){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var Ji=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Pt,ot,mr(mr({},o),{},{ns:O})):"key '".concat(S," (").concat(this.language,")' returned an object instead of string.");return p?(Je.res=Ji,Je):Ji}if(_){var Sf="[object Array]"===sn,Mu=Sf?[]:{},_h=Sf?$t:Pt;for(var Pa in ot)if(Object.prototype.hasOwnProperty.call(ot,Pa)){var Ef="".concat(_h).concat(_).concat(Pa);Mu[Pa]=this.translate(Ef,mr(mr({},o),{joinArrays:!1,ns:O})),Mu[Pa]===Ef&&(Mu[Pa]=ot[Pa])}ot=Mu}}else if(er&&"string"==typeof pn&&"[object Array]"===sn)(ot=ot.join(pn))&&(ot=this.extendTranslation(ot,n,o,c));else{var xu=!1,Sc=!1,Df=void 0!==o.count&&"string"!=typeof o.count,Ol=s.hasDefaultValue(o),iA=Df?this.pluralResolver.getSuffix(ce,o.count,o):"",Ch=o["defaultValue".concat(iA)]||o.defaultValue;!this.isValidLookup(ot)&&Ol&&(xu=!0,ot=Ch),this.isValidLookup(ot)||(Sc=!0,ot=S);var sA=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,aA=sA&&Sc?void 0:ot,yh=Ol&&Ch!==ot&&this.options.updateMissing;if(Sc||xu||yh){if(this.logger.log(yh?"updateKey":"missingKey",ce,j,S,yh?Ch:ot),_){var PE=this.resolve(S,mr(mr({},o),{},{keySeparator:!1}));PE&&PE.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Sh=[],Jm=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&Jm&&Jm[0])for(var jC=0;jC<Jm.length;jC++)Sh.push(Jm[jC]);else"all"===this.options.saveMissingTo?Sh=this.languageUtils.toResolveHierarchy(o.lng||this.language):Sh.push(o.lng||this.language);var LE=function(Af,zC,FE){var NE=Ol&&FE!==ot?FE:aA;d.options.missingKeyHandler?d.options.missingKeyHandler(Af,j,zC,NE,yh,o):d.backendConnector&&d.backendConnector.saveMissing&&d.backendConnector.saveMissing(Af,j,zC,NE,yh,o),d.emit("missingKey",Af,j,zC,ot)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Df?Sh.forEach(function($C){d.pluralResolver.getSuffixes($C,o).forEach(function(Af){LE([$C],S+Af,o["defaultValue".concat(Af)]||Ch)})}):LE(Sh,S,Ch))}ot=this.extendTranslation(ot,n,o,Je,c),Sc&&ot===S&&this.options.appendNamespaceToMissingKey&&(ot="".concat(j,":").concat(S)),(Sc||xu)&&this.options.parseMissingKeyHandler&&(ot="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(j,":").concat(S):S,xu?ot:void 0):this.options.parseMissingKeyHandler(ot))}return p?(Je.res=ot,Je):ot}},{key:"extendTranslation",value:function(n,o,c,d,p){var _=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,mr(mr({},this.options.interpolation.defaultVariables),c),d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(mr(mr({},c),{interpolation:mr(mr({},this.options.interpolation),c.interpolation)}));var S,C="string"==typeof n&&(c&&c.interpolation&&void 0!==c.interpolation.skipOnVariables?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(C){var O=n.match(this.interpolator.nestingRegexp);S=O&&O.length}var j=c.replace&&"string"!=typeof c.replace?c.replace:c;if(this.options.interpolation.defaultVariables&&(j=mr(mr({},this.options.interpolation.defaultVariables),j)),n=this.interpolator.interpolate(n,j,c.lng||this.language,c),C){var ce=n.match(this.interpolator.nestingRegexp);S<(ce&&ce.length)&&(c.nest=!1)}!1!==c.nest&&(n=this.interpolator.nest(n,function(){for(var ot=arguments.length,Pt=new Array(ot),$t=0;$t<ot;$t++)Pt[$t]=arguments[$t];return p&&p[0]===Pt[0]&&!c.context?(_.logger.warn("It seems you are nesting recursively key: ".concat(Pt[0]," in key: ").concat(o[0])),null):_.translate.apply(_,Pt.concat([o]))},c)),c.interpolation&&this.interpolator.reset()}var Ye=c.postProcess||this.options.postProcess,Je="string"==typeof Ye?[Ye]:Ye;return null!=n&&Je&&Je.length&&!1!==c.applyPostProcessor&&(n=mi.handle(Je,n,o,this.options&&this.options.postProcessPassResolved?mr({i18nResolved:d},c):c,this)),n}},{key:"resolve",value:function(n){var d,p,_,C,S,o=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof n&&(n=[n]),n.forEach(function(O){if(!o.isValidLookup(d)){var j=o.extractFromKey(O,c),ce=j.key;p=ce;var Me=j.namespaces;o.options.fallbackNS&&(Me=Me.concat(o.options.fallbackNS));var Ye=void 0!==c.count&&"string"!=typeof c.count,Je=Ye&&!c.ordinal&&0===c.count&&o.pluralResolver.shouldUseIntlApi(),ot=void 0!==c.context&&("string"==typeof c.context||"number"==typeof c.context)&&""!==c.context,Pt=c.lngs?c.lngs:o.languageUtils.toResolveHierarchy(c.lng||o.language,c.fallbackLng);Me.forEach(function($t){o.isValidLookup(d)||(S=$t,!ni["".concat(Pt[0],"-").concat($t)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(S)&&(ni["".concat(Pt[0],"-").concat($t)]=!0,o.logger.warn('key "'.concat(p,'" for languages "').concat(Pt.join(", "),'" won\'t get resolved as namespace "').concat(S,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Pt.forEach(function(sn){if(!o.isValidLookup(d)){C=sn;var Ji,At=[ce];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(At,ce,sn,$t,c);else{var pn;Ye&&(pn=o.pluralResolver.getSuffix(sn,c.count,c));var er="".concat(o.options.pluralSeparator,"zero");if(Ye&&(At.push(ce+pn),Je&&At.push(ce+er)),ot){var Cr="".concat(ce).concat(o.options.contextSeparator).concat(c.context);At.push(Cr),Ye&&(At.push(Cr+pn),Je&&At.push(Cr+er))}}for(;Ji=At.pop();)o.isValidLookup(d)||(_=Ji,d=o.getResource(sn,$t,Ji,c))}}))})}}),{res:d,usedKey:p,exactUsedKey:_,usedLng:C,usedNS:S}}},{key:"isValidLookup",value:function(n){return!(void 0===n||!this.options.returnNull&&null===n||!this.options.returnEmptyString&&""===n)}},{key:"getResource",value:function(n,o,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,o,c,d):this.resourceStore.getResource(n,o,c,d)}}],[{key:"hasDefaultValue",value:function(n){var o="defaultValue";for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&o===c.substring(0,o.length)&&void 0!==n[c])return!0;return!1}}]),s}(Vt);function vi(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Rr=function(){function i(f){hn(this,i),this.options=f,this.supportedLngs=this.options.supportedLngs||!1,this.logger=dt.create("languageUtils")}return ir(i,[{key:"getScriptPartFromCode",value:function(s){if(!s||s.indexOf("-")<0)return null;var t=s.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}},{key:"getLanguagePartFromCode",value:function(s){if(!s||s.indexOf("-")<0)return s;var t=s.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(s){if("string"==typeof s&&s.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=s.split("-");return this.options.lowerCaseLng?n=n.map(function(o){return o.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=vi(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=vi(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=vi(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}},{key:"isSupportedCode",value:function(s){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}},{key:"getBestMatchFromCodes",value:function(s){var n,t=this;return s?(s.forEach(function(o){if(!n){var c=t.formatLanguageCode(o);(!t.options.supportedLngs||t.isSupportedCode(c))&&(n=c)}}),!n&&this.options.supportedLngs&&s.forEach(function(o){if(!n){var c=t.getLanguagePartFromCode(o);if(t.isSupportedCode(c))return n=c;n=t.options.supportedLngs.find(function(d){if(0===d.indexOf(c))return d})}}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}},{key:"getFallbackCodes",value:function(s,t){if(!s)return[];if("function"==typeof s&&(s=s(t)),"string"==typeof s&&(s=[s]),"[object Array]"===Object.prototype.toString.apply(s))return s;if(!t)return s.default||[];var n=s[t];return n||(n=s[this.getScriptPartFromCode(t)]),n||(n=s[this.formatLanguageCode(t)]),n||(n=s[this.getLanguagePartFromCode(t)]),n||(n=s.default),n||[]}},{key:"toResolveHierarchy",value:function(s,t){var n=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],s),c=[],d=function(_){!_||(n.isSupportedCode(_)?c.push(_):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(_)))};return"string"==typeof s&&s.indexOf("-")>-1?("languageOnly"!==this.options.load&&d(this.formatLanguageCode(s)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&d(this.getScriptPartFromCode(s)),"currentOnly"!==this.options.load&&d(this.getLanguagePartFromCode(s))):"string"==typeof s&&d(this.formatLanguageCode(s)),o.forEach(function(p){c.indexOf(p)<0&&d(n.formatLanguageCode(p))}),c}}]),i}(),jo=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Fo={1:function(f){return Number(f>1)},2:function(f){return Number(1!=f)},3:function(f){return 0},4:function(f){return Number(f%10==1&&f%100!=11?0:f%10>=2&&f%10<=4&&(f%100<10||f%100>=20)?1:2)},5:function(f){return Number(0==f?0:1==f?1:2==f?2:f%100>=3&&f%100<=10?3:f%100>=11?4:5)},6:function(f){return Number(1==f?0:f>=2&&f<=4?1:2)},7:function(f){return Number(1==f?0:f%10>=2&&f%10<=4&&(f%100<10||f%100>=20)?1:2)},8:function(f){return Number(1==f?0:2==f?1:8!=f&&11!=f?2:3)},9:function(f){return Number(f>=2)},10:function(f){return Number(1==f?0:2==f?1:f<7?2:f<11?3:4)},11:function(f){return Number(1==f||11==f?0:2==f||12==f?1:f>2&&f<20?2:3)},12:function(f){return Number(f%10!=1||f%100==11)},13:function(f){return Number(0!==f)},14:function(f){return Number(1==f?0:2==f?1:3==f?2:3)},15:function(f){return Number(f%10==1&&f%100!=11?0:f%10>=2&&(f%100<10||f%100>=20)?1:2)},16:function(f){return Number(f%10==1&&f%100!=11?0:0!==f?1:2)},17:function(f){return Number(1==f||f%10==1&&f%100!=11?0:1)},18:function(f){return Number(0==f?0:1==f?1:2)},19:function(f){return Number(1==f?0:0==f||f%100>1&&f%100<11?1:f%100>10&&f%100<20?2:3)},20:function(f){return Number(1==f?0:0==f||f%100>0&&f%100<20?1:2)},21:function(f){return Number(f%100==1?1:f%100==2?2:f%100==3||f%100==4?3:0)},22:function(f){return Number(1==f?0:2==f?1:(f<0||f>10)&&f%10==0?2:3)}},vo=["v1","v2","v3"],to={zero:0,one:1,two:2,few:3,many:4,other:5};function Pi(){var i={};return jo.forEach(function(f){f.lngs.forEach(function(s){i[s]={numbers:f.nr,plurals:Fo[f.fc]}})}),i}var lr=function(){function i(f){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hn(this,i),this.languageUtils=f,this.options=s,this.logger=dt.create("pluralResolver"),(!this.options.compatibilityJSON||"v4"===this.options.compatibilityJSON)&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pi()}return ir(i,[{key:"addRule",value:function(s,t){this.rules[s]=t}},{key:"getRule",value:function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(s,{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[s]||this.rules[this.languageUtils.getLanguagePartFromCode(s)]}},{key:"needsPlural",value:function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(s,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(s,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(s,n).map(function(o){return"".concat(t).concat(o)})}},{key:"getSuffixes",value:function(s){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(s,n);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(c,d){return to[c]-to[d]}).map(function(c){return"".concat(t.options.prepend).concat(c)}):o.numbers.map(function(c){return t.getSuffix(s,c,n)}):[]}},{key:"getSuffix",value:function(s,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(s,n);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(t)):this.getSuffixRetroCompatible(o,t):(this.logger.warn("no plural rule found for: ".concat(s)),"")}},{key:"getSuffixRetroCompatible",value:function(s,t){var n=this,o=s.plurals(s.noAbs?t:Math.abs(t)),c=s.numbers[o];this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]&&(2===c?c="plural":1===c&&(c=""));var d=function(){return n.options.prepend&&c.toString()?n.options.prepend+c.toString():c.toString()};return"v1"===this.options.compatibilityJSON?1===c?"":"number"==typeof c?"_plural_".concat(c.toString()):d():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]?d():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!vo.includes(this.options.compatibilityJSON)}}]),i}();function ri(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function Gr(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?ri(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ri(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var $o=function(){function i(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hn(this,i),this.logger=dt.create("interpolator"),this.options=f,this.format=f.interpolation&&f.interpolation.format||function(s){return s},this.init(f)}return ir(i,[{key:"init",value:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.interpolation||(s.interpolation={escapeValue:!0});var t=s.interpolation;this.escape=void 0!==t.escape?t.escape:gi,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Yr(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Yr(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Yr(t.nestingPrefix):t.nestingPrefixEscaped||Yr("$t("),this.nestingSuffix=t.nestingSuffix?Yr(t.nestingSuffix):t.nestingSuffixEscaped||Yr(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var s="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(s,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(s,t,n,o){var d,p,_,c=this,C=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function S(Ye){return Ye.replace(/\$/g,"$$$$")}var O=function(Je){if(Je.indexOf(c.formatSeparator)<0){var ot=Wn(t,C,Je);return c.alwaysFormat?c.format(ot,void 0,n,Gr(Gr(Gr({},o),t),{},{interpolationkey:Je})):ot}var Pt=Je.split(c.formatSeparator),$t=Pt.shift().trim(),sn=Pt.join(c.formatSeparator).trim();return c.format(Wn(t,C,$t),sn,n,Gr(Gr(Gr({},o),t),{},{interpolationkey:$t}))};this.resetRegExp();var j=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,ce=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(Je){return S(Je)}},{regex:this.regexp,safeValue:function(Je){return S(c.escapeValue?c.escape(Je):Je)}}].forEach(function(Ye){for(_=0;d=Ye.regex.exec(s);){var Je=d[1].trim();if(void 0===(p=O(Je)))if("function"==typeof j){var ot=j(s,d,o);p="string"==typeof ot?ot:""}else if(o&&o.hasOwnProperty(Je))p="";else{if(ce){p=d[0];continue}c.logger.warn("missed to pass in variable ".concat(Je," for interpolating ").concat(s)),p=""}else"string"!=typeof p&&!c.useRawValueToEscape&&(p=xn(p));var Pt=Ye.safeValue(p);if(s=s.replace(d[0],Pt),ce?(Ye.regex.lastIndex+=p.length,Ye.regex.lastIndex-=d[0].length):Ye.regex.lastIndex=0,++_>=c.maxReplaces)break}}),s}},{key:"nest",value:function(s,t){var c,d,n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=Gr({},o);function _(j,ce){var Me=this.nestingOptionsSeparator;if(j.indexOf(Me)<0)return j;var Ye=j.split(new RegExp("".concat(Me,"[ ]*{"))),Je="{".concat(Ye[1]);j=Ye[0];var ot=(Je=this.interpolate(Je,p)).match(/'/g),Pt=Je.match(/"/g);(ot&&ot.length%2==0&&!Pt||Pt.length%2!=0)&&(Je=Je.replace(/'/g,'"'));try{p=JSON.parse(Je),ce&&(p=Gr(Gr({},ce),p))}catch($t){return this.logger.warn("failed parsing options string in nesting for key ".concat(j),$t),"".concat(j).concat(Me).concat(Je)}return delete p.defaultValue,j}for(p.applyPostProcessor=!1,delete p.defaultValue;c=this.nestingRegexp.exec(s);){var C=[],S=!1;if(-1!==c[0].indexOf(this.formatSeparator)&&!/{.*}/.test(c[1])){var O=c[1].split(this.formatSeparator).map(function(j){return j.trim()});c[1]=O.shift(),C=O,S=!0}if((d=t(_.call(this,c[1].trim(),p),p))&&c[0]===s&&"string"!=typeof d)return d;"string"!=typeof d&&(d=xn(d)),d||(this.logger.warn("missed to resolve ".concat(c[1]," for nesting ").concat(s)),d=""),S&&(d=C.reduce(function(j,ce){return n.format(j,ce,o.lng,Gr(Gr({},o),{},{interpolationkey:c[1].trim()}))},d.trim())),s=s.replace(c[0],d),this.regexp.lastIndex=0}return s}}]),i}();function Or(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function no(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?Or(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Or(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}function ft(i){var f={};return function(t,n,o){var c=n+JSON.stringify(o),d=f[c];return d||(d=i(n,o),f[c]=d),d(t)}}var tt=function(){function i(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hn(this,i),this.logger=dt.create("formatter"),this.options=f,this.formats={number:ft(function(s,t){var n=new Intl.NumberFormat(s,t);return function(o){return n.format(o)}}),currency:ft(function(s,t){var n=new Intl.NumberFormat(s,no(no({},t),{},{style:"currency"}));return function(o){return n.format(o)}}),datetime:ft(function(s,t){var n=new Intl.DateTimeFormat(s,no({},t));return function(o){return n.format(o)}}),relativetime:ft(function(s,t){var n=new Intl.RelativeTimeFormat(s,no({},t));return function(o){return n.format(o,t.range||"day")}}),list:ft(function(s,t){var n=new Intl.ListFormat(s,no({},t));return function(o){return n.format(o)}})},this.init(f)}return ir(i,[{key:"init",value:function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(s,t){this.formats[s.toLowerCase().trim()]=t}},{key:"addCached",value:function(s,t){this.formats[s.toLowerCase().trim()]=ft(t)}},{key:"format",value:function(s,t,n,o){var c=this,p=t.split(this.formatSeparator).reduce(function(_,C){var S=function Pe(i){var f=i.toLowerCase().trim(),s={};if(i.indexOf("(")>-1){var t=i.split("(");f=t[0].toLowerCase().trim();var n=t[1].substring(0,t[1].length-1);"currency"===f&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):"relativetime"===f&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(function(c){if(c){var p=function qr(i){return function ur(i){if(Array.isArray(i))return i}(i)||function Xn(i){if(typeof Symbol<"u"&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}(i)||function Br(i,f){if(i){if("string"==typeof i)return nr(i,f);var s=Object.prototype.toString.call(i).slice(8,-1);if("Object"===s&&i.constructor&&(s=i.constructor.name),"Map"===s||"Set"===s)return Array.from(i);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return nr(i,f)}}(i)||function wr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(":")),_=p[0],S=p.slice(1).join(":").trim().replace(/^'+|'+$/g,"");s[_.trim()]||(s[_.trim()]=S),"false"===S&&(s[_.trim()]=!1),"true"===S&&(s[_.trim()]=!0),isNaN(S)||(s[_.trim()]=parseInt(S,10))}})}return{formatName:f,formatOptions:s}}(C),O=S.formatName,j=S.formatOptions;if(c.formats[O]){var ce=_;try{var Me=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{};ce=c.formats[O](_,Me.locale||Me.lng||o.locale||o.lng||n,no(no(no({},j),o),Me))}catch(Je){c.logger.warn(Je)}return ce}return c.logger.warn("there was no format function for ".concat(O)),_},s);return p}}]),i}();function xt(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function It(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?xt(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):xt(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}var Kr=function(i){br(s,i);var f=function Zt(i){var f=function ln(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,t=Mn(i);if(f){var o=Mn(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return gr(this,n)}}(s);function s(t,n,o){var c,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return hn(this,s),c=f.call(this),Ir&&Vt.call(sr(c)),c.backend=t,c.store=n,c.services=o,c.languageUtils=o.languageUtils,c.options=d,c.logger=dt.create("backendConnector"),c.waitingReads=[],c.maxParallelReads=d.maxParallelReads||10,c.readingCalls=0,c.maxRetries=d.maxRetries>=0?d.maxRetries:5,c.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,c.state={},c.queue=[],c.backend&&c.backend.init&&c.backend.init(o,d.backend,d),c}return ir(s,[{key:"queueLoad",value:function(n,o,c,d){var p=this,_={},C={},S={},O={};return n.forEach(function(j){var ce=!0;o.forEach(function(Me){var Ye="".concat(j,"|").concat(Me);!c.reload&&p.store.hasResourceBundle(j,Me)?p.state[Ye]=2:p.state[Ye]<0||(1===p.state[Ye]?void 0===C[Ye]&&(C[Ye]=!0):(p.state[Ye]=1,ce=!1,void 0===C[Ye]&&(C[Ye]=!0),void 0===_[Ye]&&(_[Ye]=!0),void 0===O[Me]&&(O[Me]=!0)))}),ce||(S[j]=!0)}),(Object.keys(_).length||Object.keys(C).length)&&this.queue.push({pending:C,pendingCount:Object.keys(C).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(_),pending:Object.keys(C),toLoadLanguages:Object.keys(S),toLoadNamespaces:Object.keys(O)}}},{key:"loaded",value:function(n,o,c){var d=n.split("|"),p=d[0],_=d[1];o&&this.emit("failedLoading",p,_,o),c&&this.store.addResourceBundle(p,_,c),this.state[n]=o?-1:2;var C={};this.queue.forEach(function(S){(function Bt(i,f,s,t){var n=nt(i,f,Object),o=n.obj,c=n.k;o[c]=o[c]||[],t&&(o[c]=o[c].concat(s)),t||o[c].push(s)})(S.loaded,[p],_),function Xr(i,f){void 0!==i.pending[f]&&(delete i.pending[f],i.pendingCount--)}(S,n),o&&S.errors.push(o),0===S.pendingCount&&!S.done&&(Object.keys(S.loaded).forEach(function(O){C[O]||(C[O]={});var j=S.loaded[O];j.length&&j.forEach(function(ce){void 0===C[O][ce]&&(C[O][ce]=!0)})}),S.done=!0,S.errors.length?S.callback(S.errors):S.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(function(S){return!S.done})}},{key:"read",value:function(n,o,c){var d=this,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,_=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,C=arguments.length>5?arguments[5]:void 0;return n.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:n,ns:o,fcName:c,tried:p,wait:_,callback:C}):(this.readingCalls++,this.backend[c](n,o,function(S,O){if(d.readingCalls--,d.waitingReads.length>0){var j=d.waitingReads.shift();d.read(j.lng,j.ns,j.fcName,j.tried,j.wait,j.callback)}S&&O&&p<d.maxRetries?setTimeout(function(){d.read.call(d,n,o,c,p+1,2*_,C)},_):C(S,O)})):C(null,{})}},{key:"prepareLoading",value:function(n,o){var c=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),p&&p();"string"==typeof n&&(n=this.languageUtils.toResolveHierarchy(n)),"string"==typeof o&&(o=[o]);var _=this.queueLoad(n,o,d,p);if(!_.toLoad.length)return _.pending.length||p(),null;_.toLoad.forEach(function(C){c.loadOne(C)})}},{key:"load",value:function(n,o,c){this.prepareLoading(n,o,{},c)}},{key:"reload",value:function(n,o,c){this.prepareLoading(n,o,{reload:!0},c)}},{key:"loadOne",value:function(n){var o=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=n.split("|"),p=d[0],_=d[1];this.read(p,_,"read",void 0,void 0,function(C,S){C&&o.logger.warn("".concat(c,"loading namespace ").concat(_," for language ").concat(p," failed"),C),!C&&S&&o.logger.log("".concat(c,"loaded namespace ").concat(_," for language ").concat(p),S),o.loaded(n,C,S)})}},{key:"saveMissing",value:function(n,o,c,d,p){var _=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)?this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null==c||""===c||(this.backend&&this.backend.create&&this.backend.create(n,o,c,d,null,It(It({},_),{},{isUpdate:p})),n&&n[0]&&this.store.addResource(n[0],o,c,d))}}]),s}(Vt);function dn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(f){var s={};if("object"===Tr(f[1])&&(s=f[1]),"string"==typeof f[1]&&(s.defaultValue=f[1]),"string"==typeof f[2]&&(s.tDescription=f[2]),"object"===Tr(f[2])||"object"===Tr(f[3])){var t=f[3]||f[2];Object.keys(t).forEach(function(n){s[n]=t[n]})}return s},interpolation:{escapeValue:!0,format:function(f,s,t,n){return f},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function No(i){return"string"==typeof i.ns&&(i.ns=[i.ns]),"string"==typeof i.fallbackLng&&(i.fallbackLng=[i.fallbackLng]),"string"==typeof i.fallbackNS&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function Li(i,f){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);f&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),s.push.apply(s,t)}return s}function Pr(i){for(var f=1;f<arguments.length;f++){var s=null!=arguments[f]?arguments[f]:{};f%2?Li(Object(s),!0).forEach(function(t){Rn(i,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Li(Object(s)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(s,t))})}return i}function ee(){}function Ve(i){Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(function(s){"function"==typeof i[s]&&(i[s]=i[s].bind(i))})}var $e=function(i){br(s,i);var f=function fe(i){var f=function Ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,t=Mn(i);if(f){var o=Mn(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return gr(this,n)}}(s);function s(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(hn(this,s),t=f.call(this),Ir&&Vt.call(sr(t)),t.options=No(n),t.services={},t.logger=dt,t.modules={external:[]},Ve(sr(t)),o&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,o),gr(t,sr(t));setTimeout(function(){t.init(n,o)},0)}return t}return ir(s,[{key:"init",value:function(){var n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;"function"==typeof o&&(c=o,o={}),!o.defaultNS&&!1!==o.defaultNS&&o.ns&&("string"==typeof o.ns?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var d=dn();function p(Je){return Je?"function"==typeof Je?new Je:Je:null}if(this.options=Pr(Pr(Pr({},d),this.options),No(o)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Pr(Pr({},d.interpolation),this.options.interpolation)),void 0!==o.keySeparator&&(this.options.userDefinedKeySeparator=o.keySeparator),void 0!==o.nsSeparator&&(this.options.userDefinedNsSeparator=o.nsSeparator),!this.options.isClone){var _;dt.init(this.modules.logger?p(this.modules.logger):null,this.options),this.modules.formatter?_=this.modules.formatter:typeof Intl<"u"&&(_=tt);var C=new Rr(this.options);this.store=new Xo(this.options.resources,this.options);var S=this.services;S.logger=dt,S.resourceStore=this.store,S.languageUtils=C,S.pluralResolver=new lr(C,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),_&&(!this.options.interpolation.format||this.options.interpolation.format===d.interpolation.format)&&(S.formatter=p(_),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new $o(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new Kr(p(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",function(Je){for(var ot=arguments.length,Pt=new Array(ot>1?ot-1:0),$t=1;$t<ot;$t++)Pt[$t-1]=arguments[$t];n.emit.apply(n,[Je].concat(Pt))}),this.modules.languageDetector&&(S.languageDetector=p(this.modules.languageDetector),S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=p(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new Lo(this.services,this.options),this.translator.on("*",function(Je){for(var ot=arguments.length,Pt=new Array(ot>1?ot-1:0),$t=1;$t<ot;$t++)Pt[$t-1]=arguments[$t];n.emit.apply(n,[Je].concat(Pt))}),this.modules.external.forEach(function(Je){Je.init&&Je.init(n)})}if(this.format=this.options.interpolation.format,c||(c=ee),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var O=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);O.length>0&&"dev"!==O[0]&&(this.options.lng=O[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var j=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];j.forEach(function(Je){n[Je]=function(){var ot;return(ot=n.store)[Je].apply(ot,arguments)}});var ce=["addResource","addResources","addResourceBundle","removeResourceBundle"];ce.forEach(function(Je){n[Je]=function(){var ot;return(ot=n.store)[Je].apply(ot,arguments),n}});var Me=Mt(),Ye=function(){var ot=function($t,sn){n.isInitialized&&!n.initializedStoreOnce&&n.logger.warn("init: i18next is already initialized. You should call init just once!"),n.isInitialized=!0,n.options.isClone||n.logger.log("initialized",n.options),n.emit("initialized",n.options),Me.resolve(sn),c($t,sn)};if(n.languages&&"v1"!==n.options.compatibilityAPI&&!n.isInitialized)return ot(null,n.t.bind(n));n.changeLanguage(n.options.lng,ot)};return this.options.resources||!this.options.initImmediate?Ye():setTimeout(Ye,0),Me}},{key:"loadResources",value:function(n){var o=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,d=c,p="string"==typeof n?n:this.language;if("function"==typeof n&&(d=n),!this.options.resources||this.options.partialBundledLanguages){if(p&&"cimode"===p.toLowerCase())return d();var _=[],C=function(j){j&&o.services.languageUtils.toResolveHierarchy(j).forEach(function(Me){_.indexOf(Me)<0&&_.push(Me)})};if(p)C(p);else{var S=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);S.forEach(function(O){return C(O)})}this.options.preload&&this.options.preload.forEach(function(O){return C(O)}),this.services.backendConnector.load(_,this.options.ns,function(O){!O&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),d(O)})}else d(null)}},{key:"reloadResources",value:function(n,o,c){var d=Mt();return n||(n=this.languages),o||(o=this.options.ns),c||(c=ee),this.services.backendConnector.reload(n,o,function(p){d.resolve(),c(p)}),d}},{key:"use",value:function(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===n.type&&(this.modules.backend=n),("logger"===n.type||n.log&&n.warn&&n.error)&&(this.modules.logger=n),"languageDetector"===n.type&&(this.modules.languageDetector=n),"i18nFormat"===n.type&&(this.modules.i18nFormat=n),"postProcessor"===n.type&&mi.addPostProcessor(n),"formatter"===n.type&&(this.modules.formatter=n),"3rdParty"===n.type&&this.modules.external.push(n),this}},{key:"setResolvedLanguage",value:function(n){if(n&&this.languages&&!(["cimode","dev"].indexOf(n)>-1))for(var o=0;o<this.languages.length;o++){var c=this.languages[o];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}}},{key:"changeLanguage",value:function(n,o){var c=this;this.isLanguageChangingTo=n;var d=Mt();this.emit("languageChanging",n);var p=function(O){c.language=O,c.languages=c.services.languageUtils.toResolveHierarchy(O),c.resolvedLanguage=void 0,c.setResolvedLanguage(O)},C=function(O){!n&&!O&&c.services.languageDetector&&(O=[]);var j="string"==typeof O?O:c.services.languageUtils.getBestMatchFromCodes(O);j&&(c.language||p(j),c.translator.language||c.translator.changeLanguage(j),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage(j)),c.loadResources(j,function(ce){!function(O,j){j?(p(j),c.translator.changeLanguage(j),c.isLanguageChangingTo=void 0,c.emit("languageChanged",j),c.logger.log("languageChanged",j)):c.isLanguageChangingTo=void 0,d.resolve(function(){return c.t.apply(c,arguments)}),o&&o(O,function(){return c.t.apply(c,arguments)})}(ce,j)})};return n||!this.services.languageDetector||this.services.languageDetector.async?!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(C):C(n):C(this.services.languageDetector.detect()),d}},{key:"getFixedT",value:function(n,o,c){var d=this,p=function _(C,S){var O;if("object"!==Tr(S)){for(var j=arguments.length,ce=new Array(j>2?j-2:0),Me=2;Me<j;Me++)ce[Me-2]=arguments[Me];O=d.options.overloadTranslationOptionHandler([C,S].concat(ce))}else O=Pr({},S);O.lng=O.lng||_.lng,O.lngs=O.lngs||_.lngs,O.ns=O.ns||_.ns,O.keyPrefix=O.keyPrefix||c||_.keyPrefix;var Ye=d.options.keySeparator||".",Je=O.keyPrefix?"".concat(O.keyPrefix).concat(Ye).concat(C):C;return d.t(Je,O)};return"string"==typeof n?p.lng=n:p.lngs=n,p.ns=o,p.keyPrefix=c,p}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var o=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var d=this.resolvedLanguage||this.languages[0],p=!!this.options&&this.options.fallbackLng,_=this.languages[this.languages.length-1];if("cimode"===d.toLowerCase())return!0;var C=function(j,ce){var Me=o.services.backendConnector.state["".concat(j,"|").concat(ce)];return-1===Me||2===Me};if(c.precheck){var S=c.precheck(this,C);if(void 0!==S)return S}return!!(this.hasResourceBundle(d,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||C(d,n)&&(!p||C(_,n)))}},{key:"loadNamespaces",value:function(n,o){var c=this,d=Mt();return this.options.ns?("string"==typeof n&&(n=[n]),n.forEach(function(p){c.options.ns.indexOf(p)<0&&c.options.ns.push(p)}),this.loadResources(function(p){d.resolve(),o&&o(p)}),d):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(n,o){var c=Mt();"string"==typeof n&&(n=[n]);var d=this.options.preload||[],p=n.filter(function(_){return d.indexOf(_)<0});return p.length?(this.options.preload=d.concat(p),this.loadResources(function(_){c.resolve(),o&&o(_)}),c):(o&&o(),Promise.resolve())}},{key:"dir",value:function(n){return n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),n?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,d=Pr(Pr(Pr({},this.options),o),{isClone:!0}),p=new s(d);(void 0!==o.debug||void 0!==o.prefix)&&(p.logger=p.logger.clone(o));var _=["store","services","language"];return _.forEach(function(C){p[C]=n[C]}),p.services=Pr({},this.services),p.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p.translator=new Lo(p.services,p.options),p.translator.on("*",function(C){for(var S=arguments.length,O=new Array(S>1?S-1:0),j=1;j<S;j++)O[j-1]=arguments[j];p.emit.apply(p,[C].concat(O))}),p.init(d,c),p.translator.options=p.options,p.translator.backendConnector.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),s}(Vt);Rn($e,"createInstance",function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;return new $e(i,f)});var ge=$e.createInstance();ge.createInstance=$e.createInstance;const Dr=ge;var ii=m(655);function Qi(i){return i&&"object"==typeof i&&!Array.isArray(i)}function Fr(i={},...f){if(!f.length)return i;const s=f.shift()||{};if(Qi(s))for(const t in s)s[t]instanceof Date?i[t]=s[t]:Qi(s[t])?((!i[t]||!Qi(i[t]))&&(i[t]={}),Fr(i[t],s[t])):i[t]=s[t];return Fr(i,...f)}let ao=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(){return function Fi(){return Fr({},(0,e.f3M)(Iu),(0,e.f3M)(Ps))}()},providedIn:"root"}),i})();const Iu=new e.OlP("DefaultConfiguration",{providedIn:"root",factory:function wu(){return Fr({},...(0,e.f3M)(_i,e.XFs.Optional)??[])}}),Ps=new e.OlP("RootConfiguration",{providedIn:"root",factory:function Ec(){return Fr({},...(0,e.f3M)(qi,e.XFs.Optional)??[])}}),qi=new e.OlP("ConfigurationChunk"),_i=new e.OlP("DefaultConfigurationChunk");function ls(i={},f=!1){return{provide:f?_i:qi,useValue:i,multi:!0}}function Ls(i,f,s=!1){return{provide:s?_i:qi,useFactory:i,multi:!0,deps:f}}function co(i={}){return{provide:_i,useValue:i,multi:!0}}function ds(i,f){return{provide:_i,useFactory:i,multi:!0,deps:f}}const Ru={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}};var Fs=(()=>{return(i=Fs||(Fs={})).BILLING="BILLING",i.SHIPPING="SHIPPING",Fs;var i})(),jn=(()=>{return(i=jn||(jn={})).CONTENT_PAGE="ContentPage",i.PRODUCT_PAGE="ProductPage",i.CATEGORY_PAGE="CategoryPage",i.CATALOG_PAGE="CatalogPage",jn;var i})(),xe=(()=>{return(i=xe||(xe={})).GIVEN="GIVEN",i.WITHDRAWN="WITHDRAWN",xe;var i})();const ut="X-Anonymous-Consents";class en{}var $n=(()=>{return(i=$n||($n={})).ADMIN="b2badmingroup",i.CUSTOMER="b2bcustomergroup",i.MANAGER="b2bmanagergroup",i.APPROVER="b2bapprovergroup",$n;var i})(),zn=(()=>((zn||(zn={})).BACK_IN_STOCK="BACK_IN_STOCK",zn))(),Kn=(()=>{return(i=Kn||(Kn={})).SIZE="ApparelSizeVariantProduct",i.STYLE="ApparelStyleVariantProduct",i.COLOR="ElectronicsColorVariantProduct",Kn;var i})(),Mr=(()=>{return(i=Mr||(Mr={})).SIZE="size",i.STYLE="style",i.COLOR="color",i.THUMBNAIL="thumbnail",i.PRODUCT="product",i.ROLLUP_PROPERTY="rollupProperty",Mr;var i})();const Yn="[ENTITY] REMOVE",Nr="[ENTITY] REMOVE ALL";function oo(i,f){return{entityType:i,entityId:f}}function Mo(i,f){return{entityId:f,entityType:i,entityRemove:!0}}function Ci(i){return{entityId:null,entityType:i,entityRemove:!0}}const Ni="[LOADER] LOAD",ia="[LOADER] FAIL",Pl="[LOADER] SUCCESS",Ns="[LOADER] RESET";function La(i){return{entityType:i,loader:{load:!0}}}function Ou(i,f){return{entityType:i,loader:{error:f||!0}}}function Dc(i){return{entityType:i,loader:{success:!0}}}function Ac(i){return{entityType:i,loader:{}}}class xo{constructor(f){this.type=Ni,this.meta=La(f)}}class Zr{constructor(f,s){this.type=ia,this.meta=Ou(f,s)}}class uo{constructor(f){this.type=Pl,this.meta=Dc(f)}}class fs{constructor(f){this.type=Ns,this.meta=Ac(f)}}const sa="[ENTITY] LOAD",Tc="[ENTITY] LOAD FAIL",aa="[ENTITY] LOAD SUCCESS",ai="[ENTITY] RESET";function bc(i,f){return{...La(i),...oo(i,f)}}function Xi(i,f,s){return{...Ou(i,s),...oo(i,f)}}function Mc(i,f){return{...Dc(i),...oo(i,f)}}function ca(i,f){return{...Ac(i),...oo(i,f)}}class yi{constructor(f,s){this.type=sa,this.meta=bc(f,s)}}class ko{constructor(f,s,t){this.type=Tc,this.meta=Xi(f,s,t)}}class _o{constructor(f,s,t){this.payload=t,this.type=aa,this.meta=Mc(f,s)}}class Si{constructor(f,s){this.type=ai,this.meta=ca(f,s)}}function dr(i){return i.value}function lo(i){return i.loading??!1}function ci(i){return i.error??!1}function Yo(i){return i.success??!1}const ui={loading:!1,error:!1,success:!1,value:void 0};function xr(i,f){return(s=ui,t)=>{if(t.meta&&t.meta.loader&&t.meta.entityType===i){const n=t.meta.loader;return n.load?{...s,loading:!0,value:f?f(s.value,t):s.value}:n.error?{...s,loading:!1,error:!0,success:!1,value:f?f(s.value,t):void 0}:n.success?{...s,value:f?f(s.value,t):t.payload,loading:!1,error:!1,success:!0}:{...ui,value:f?f(ui.value,t):ui.value}}if(f){const n=f(s.value,t);if(n!==s.value)return{...s,value:n}}return s}}function Co(i,f){return i.entities[f]||ui}const Fa={entities:{}};function Vr(i,f){return(s=Fa,t)=>{let n=[],o=!1;if(t.meta&&t.meta.entityType===i&&void 0!==t.meta.entityId){if(null!==t.meta.entityId&&(n=[].concat(t.meta.entityId)),t.meta.entityRemove){if(null===t.meta.entityId)return Fa;{let d=!1;const p=Object.keys(s.entities).reduce((_,C)=>(n.includes(C)?d=!0:_[C]=s.entities[C],_),{});return d?{entities:p}:s}}o=Array.isArray(t.meta.entityId)&&Array.isArray(t.payload)}else n=Object.keys(s.entities);const c={};for(let d=0;d<n.length;d++){const p=n[d],_=o?{...t,payload:t.payload[d]}:t,C=f(s.entities[p],_);C&&(c[p]=C)}return Object.keys(c).length>0?{...s,entities:{...s.entities,...c}}:s}}function ki(i,f){return Vr(i,xr(i,f))}const ks="[PROCESSES LOADER] INCREMENT",Na="[PROCESSES LOADER] DECREMENT",ua="[PROCESSES LOADER] RESET";function Zo(i){return{entityType:i,loader:void 0,processesCountDiff:1}}function ps(i){return{entityType:i,loader:void 0,processesCountDiff:-1}}function xc(i){return{...Ac(i),processesCountDiff:null}}const ka="[ENTITY] PROCESSES LOADER RESET",Ua="[ENTITY] PROCESSES INCREMENT",Ui="[ENTITY] PROCESSES DECREMENT";function la(i,f){return{...xc(i),...oo(i,f)}}function hs(i,f){return{...Zo(i),...oo(i,f)}}function gs(i,f){return{...ps(i),...oo(i,f)}}function Lu(i){return!i.processesCount&&!i.loading}function ar(i){return void 0!==i.processesCount&&i.processesCount>0}const Fu={processesCount:0};function wf(i,f){return(s={...Fu,...ui},t)=>{const n=xr(i,f)(s,t);if(t.meta&&t.meta.entityType===i){const o=t.meta.processesCountDiff;if((0,e.X6Q)()&&s.processesCount&&o&&s.processesCount+o<0&&console.error(`Action '${t.type}' sets processesCount to value < 0!\nMake sure to keep processesCount in sync.\nThere should always be only one decrement action for each increment action.\nMake sure that you don't reset state in between those actions.\n`,t),o)return{...n,processesCount:s.processesCount?s.processesCount+o:o};if(null===o)return{...n,...Fu}}return n}}const Eh={...ui,...Fu};function Ha(i,f){return i.entities[f]||void 0}function Ah(i,f){return i.split(".").reduce((t,n)=>t?t[n]:void 0,f)}function eo(i,f,s){if(!i||!s||0===Object.keys(s).length)return{};const t=i.split(".").reduceRight((n,o)=>({[o]:n}),s);return function ja(i,f,s){const t=function Th(i,f){if(!i||!f)return[];const s=[];for(const t of f)t.includes(i)&&s.push(t);return s}(i,f);if(0===t.length)return s;const n=Fr({},s);for(const o of t){const c=o.split(".");let d=n;for(let p=0;p<c.length;p++){const _=c[p];p===c.length-1?d&&d[_]&&delete d[_]:d=d[_]}}return n}(i,f,t)}function Va(i,f,s){if(i&&0===i.length)return{};let t={};for(const n of i)t=Fr(t,eo(n,f,Ah(n,s)));return t}function kl(i,f){return i?Object.keys(i).filter(s=>i[s]===f):[]}function Ei(i,f){return`${f??""}?pageSize=${i.pageSize??""}&currentPage=${i.currentPage??""}&sort=${i.sort??""}`}function $a(i,f,s,t){const n=Co(i,s?Ei(s,t):t??"all");if(!n.value||!n.value.ids)return n;const o=Object.assign({},n,{value:{values:n.value.ids.map(c=>Co(f,c).value)}});return s&&o.value&&(o.value.pagination=n.value.pagination,o.value.sorts=n.value.sorts),o}var A=Object.freeze({__proto__:null,getStateSlice:Va,ENTITY_LOAD_ACTION:sa,ENTITY_FAIL_ACTION:Tc,ENTITY_SUCCESS_ACTION:aa,ENTITY_RESET_ACTION:ai,entityLoadMeta:bc,entityFailMeta:Xi,entitySuccessMeta:Mc,entityResetMeta:ca,EntityLoadAction:yi,EntityFailAction:ko,EntitySuccessAction:_o,EntityLoaderResetAction:Si,entityLoaderStateSelector:Co,entityValueSelector:function Tf(i,f){return dr(Co(i,f))},entityLoadingSelector:function Ll(i,f){return lo(Co(i,f))},entityErrorSelector:function Pu(i,f){return ci(Co(i,f))},entitySuccessSelector:function Fl(i,f){return Yo(Co(i,f))},entityLoaderReducer:ki,ENTITY_PROCESSES_LOADER_RESET_ACTION:ka,ENTITY_PROCESSES_INCREMENT_ACTION:Ua,ENTITY_PROCESSES_DECREMENT_ACTION:Ui,entityProcessesLoaderResetMeta:la,entityProcessesIncrementMeta:hs,entityProcessesDecrementMeta:gs,EntityProcessesLoaderResetAction:class Ba{constructor(f,s){this.type=ka,this.meta=la(f,s)}},EntityProcessesIncrementAction:class Ga{constructor(f,s){this.type=Ua,this.meta=hs(f,s)}},EntityProcessesDecrementAction:class xf{constructor(f,s){this.type=Ui,this.meta=gs(f,s)}},entityHasPendingProcessesSelector:function If(i,f){return ar(Co(i,f))},entityIsStableSelector:function Dh(i,f){return Lu(Co(i,f))},entityProcessesLoaderStateSelector:function Qm(i,f){return i.entities[f]||Eh},entityProcessesLoaderReducer:function Nu(i,f){return Vr(i,wf(i,f))},ENTITY_REMOVE_ACTION:Yn,ENTITY_REMOVE_ALL_ACTION:Nr,entityMeta:oo,entityRemoveMeta:Mo,entityRemoveAllMeta:Ci,EntityRemoveAction:class si{constructor(f,s){this.type=Yn,this.meta=Mo(f,s)}},EntityRemoveAllAction:class zo{constructor(f){this.type=Nr,this.meta=Ci(f)}},entitySelector:Ha,initialEntityState:Fa,entityReducer:Vr,LOADER_LOAD_ACTION:Ni,LOADER_FAIL_ACTION:ia,LOADER_SUCCESS_ACTION:Pl,LOADER_RESET_ACTION:Ns,loadMeta:La,failMeta:Ou,successMeta:Dc,resetMeta:Ac,LoaderLoadAction:xo,LoaderFailAction:Zr,LoaderSuccessAction:uo,LoaderResetAction:fs,loaderValueSelector:dr,loaderLoadingSelector:lo,loaderErrorSelector:ci,loaderSuccessSelector:Yo,initialLoaderState:ui,loaderReducer:xr,PROCESSES_INCREMENT_ACTION:ks,PROCESSES_DECREMENT_ACTION:Na,PROCESSES_LOADER_RESET_ACTION:ua,processesIncrementMeta:Zo,processesDecrementMeta:ps,processesLoaderResetMeta:xc,ProcessesLoaderResetAction:class bf{constructor(f){this.type=ua,this.meta=xc(f)}},ProcessesIncrementAction:class Nl{constructor(f){this.type=ks,this.meta=Zo(f)}},ProcessesDecrementAction:class Mf{constructor(f){this.type=Na,this.meta=ps(f)}},isStableSelector:Lu,hasPendingProcessesSelector:ar,initialProcessesState:Fu,processesLoaderReducer:wf,serializeSearchConfig:Ei,denormalizeSearch:function Uu(i,f){return $a(i.list,i.entities,f)},denormalizeCustomB2BSearch:$a,normalizeListPage:function wc(i,f){const s=i.values||[],t={ids:s.map(n=>n[f])};return i.pagination&&(t.pagination=i.pagination),i.sorts&&(t.sorts=i.sorts),{values:s,page:t}},serializeParams:function E(i,f){return[i,Ei(f)].toString()}});const y="anonymous-consents",R="[Anonymous Consents] Anonymous Consents",U="[Anonymous Consents] Load Anonymous Consent Templates",In="[Anonymous Consents] Set Anonymous Consents",tn="[Anonymous Consents] Give Anonymous Consent",rr="[Anonymous Consents] Withdraw Anonymous Consent",yo="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",Di="[Anonymous Consents] Anonymous Consent Templates Updated",es="[Anonymous Consents] Check Updated Versions";class Ko extends xo{constructor(){super(R),this.type=U}}class da extends uo{constructor(f){super(R),this.payload=f,this.type="[Anonymous Consents] Load Anonymous Consent Templates Success"}}class Bi extends Zr{constructor(f){super(R,f),this.type="[Anonymous Consents] Load Anonymous Consent Templates Fail"}}class Rf extends fs{constructor(){super(R),this.type="[Anonymous Consents] Reset Load Anonymous Consent Templates"}}class za{constructor(f){this.payload=f,this.type=In}}class bh{constructor(f){this.templateCode=f,this.type=tn}}class Mh{constructor(f){this.templateCode=f,this.type=rr}}class xh{constructor(f){this.dismissed=f,this.type=yo}}class Ul{constructor(f){this.updated=f,this.type=Di}}class Ic{constructor(){this.type=es}}const Rc=(0,h.ZF)(y),jr=(0,h.P1)(Rc,i=>i.templates),Hu=(0,h.P1)(jr,i=>dr(i)),Pf=(0,h.P1)(jr,lo),Bl=(0,h.P1)(jr,Yo),Oc=(0,h.P1)(jr,ci),Ih=(0,h.P1)(Rc,i=>i.ui.updated),Rh=(0,h.P1)(Rc,i=>i.ui.bannerDismissed),Pc=(0,h.P1)(Rc,i=>i.consents),fa="current",Fc="anonymous",Ph="guest",Vu="current",Ai="[Auth] Login",ms="[Auth] Logout";class Lf{constructor(){this.type=Ai}}class Gl{constructor(){this.type=ms}}var Nc=Object.freeze({__proto__:null,LOGIN:Ai,LOGOUT:ms,Login:Lf,Logout:Gl});let Uo=(()=>{class i{constructor(){this._userId=new N.t(1)}setUserId(s){this._userId.next(s)}getUserId(){return this._userId}takeUserId(s=!1){return this.getUserId().pipe((0,rt.q)(1),(0,we.U)(t=>{if(s&&t===Fc)throw new Error("Requested user id for logged user while user is not logged in.");return t}))}clearUserId(){this.setUserId(Fc)}isEmulated(){return this.getUserId().pipe((0,we.U)(s=>s!==Fc&&s!==fa))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var pa=(()=>{return(i=pa||(pa={}))[i.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",i[i.ImplicitFlow=1]="ImplicitFlow",i[i.AuthorizationCode=2]="AuthorizationCode",pa;var i})();let YC=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),Gi=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),vs=(()=>{class i extends Gi{}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),Hl=(()=>{class i{constructor(s,t){this.authConfig=s,this.occConfig=t}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){return this.prefixEndpoint(this.config?.tokenEndpoint??"")}getLoginUrl(){return this.prefixEndpoint(this.config?.loginUrl??"")}getRevokeEndpoint(){return this.prefixEndpoint(this.config?.revokeEndpoint??"")}getLogoutUrl(){return this.prefixEndpoint(this.config?.logoutUrl??"")}getUserinfoEndpoint(){return this.prefixEndpoint(this.config?.userinfoEndpoint??"")}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(s){let t=s;return t.startsWith("/")||(t="/"+t),`${this.getBaseUrl()}${t}`}getOAuthFlow(){const s=this.config?.OAuthLibConfig?.responseType;if(s){const t=s.split(" ");return t.includes("code")?pa.AuthorizationCode:t.includes("token")?pa.ImplicitFlow:pa.ResourceOwnerPasswordFlow}return pa.ResourceOwnerPasswordFlow}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(YC),e.LFG(vs))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Lh=new e.OlP("SERVER_REQUEST_URL"),Fh=new e.OlP("SERVER_REQUEST_ORIGIN");let Ya=(()=>{class i{constructor(s,t,n,o){this.platformId=t,this.serverUrl=n,this.serverOrigin=o,this.document=s}isBrowser(){return(0,Ct.NF)(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?(0,P.R)(this.nativeWindow,"resize").pipe((0,Yt.b)(300),(0,zt.O)({target:this.nativeWindow}),(0,Xt.x)()):(0,D.of)(null)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ct.K0),e.LFG(e.Lbi),e.LFG(Lh,8),e.LFG(Fh,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kc=(()=>{class i{constructor(s,t,n,o){this.oAuthService=s,this.authConfigService=t,this.platformId=n,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){const s=!this.winRef.isBrowser();this.oAuthService.configure({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(s?"":this.winRef.nativeWindow.location.origin),...this.authConfigService.getOAuthLibConfig()})}authorizeWithPasswordFlow(s,t){return this.oAuthService.fetchTokenUsingPasswordFlow(s,t)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(s=>{this.oAuthService.revokeTokenAndLogout().catch(()=>{this.oAuthService.logOut()}).finally(()=>{s()})})}logout(){this.oAuthService.logOut()}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(s=>{let t;const n=this.events$.pipe((0,gt.h)(o=>"token_received"===o.type),(0,rt.q)(1)).subscribe(o=>t=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{s({result:o,tokenReceived:!!t})}).finally(()=>{n.unsubscribe()})})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(_t.Ct),e.LFG(Hl),e.LFG(e.Lbi),e.LFG(Ya))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Za=(()=>{class i extends _t.Hy{constructor(){super(...arguments),this._token$=new k.X({})}decode(s,t){return i.nonStringifiedOAuthLibKeys.includes(s)?t:JSON.stringify(t)}encode(s,t){if(i.nonStringifiedOAuthLibKeys.includes(s))return t;try{return JSON.parse(t)}catch{return t}}getToken(){return this._token$}setToken(s){this._token$.next(s)}getItem(s){let t;return this.getToken().subscribe(n=>t=n).unsubscribe(),this.decode(s,t?.[s])}removeItem(s){const t={...this._token$.value};delete t[s],this._token$.next({...t})}setItem(s,t){s&&this._token$.next({...this._token$.value,[s]:this.encode(s,t)})}}return i.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ff="[Router] Change Next PageContext";class Nf{constructor(f){this.payload=f,this.type=Ff}}const Vl="router",qm=(0,h.ZF)(Vl),ju=(0,h.P1)(qm,i=>i.router),jl=((0,h.P1)(ju,i=>i.state&&i.state.semanticRoute||""),(0,h.P1)(ju,i=>i.state&&i.state.context||{id:""})),Nh=(0,h.P1)(ju,i=>i.nextState&&i.nextState.context),ev=(0,h.P1)(Nh,i=>!!i),Uh=i=>i.startsWith(":"),tv=i=>i.slice(1);let Bh=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),$u=(()=>{class i{constructor(s){this.config=s}getRouteConfig(s){const t=this.config?.routing?.routes,n=t&&t[s];return(!t||void 0===n)&&this.warn(`No path was configured for the named route '${s}'!`),n}warn(...s){(0,e.X6Q)()&&console.warn(...s)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(s){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[s]}initRouteNamesByPath(){this.routeNamesByPath={};for(const[s,t]of Object.entries(this.config?.routing?.routes??{}))t?.paths?.forEach(n=>{(0,e.X6Q)()&&this.routeNamesByPath[n]&&console.error(`The same path '${n}' is configured for two different route names: '${this.routeNamesByPath[n]}' and '${s}`),this.routeNamesByPath[n]=s})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Bh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$l=(()=>{class i{constructor(s){this.router=s}getPrimarySegments(s){const t=this.router.parseUrl(s);return this._getPrimarySegmentsFromUrlTree(t.root)}_getPrimarySegmentsFromUrlTree(s){const t=s.segments.map(o=>o.path),n=s.children[qt.eC]?this._getPrimarySegmentsFromUrlTree(s.children[qt.eC]):[];return t.concat(n)}matchPath(s,t){if(s=Array.isArray(s)?s:this.getPrimarySegments(s),t=Array.isArray(t)?t:this.getPrimarySegments(t),s.length!==t.length)return!1;for(let n=0;n<t.length;n++){const o=t[n],c=s[n];if(!Uh(o)&&o!==c)return!1}return!0}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qt.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ha=(()=>{class i{constructor(s,t){this.routingConfigService=s,this.urlParser=t,this.ROOT_URL=["/"]}get(s){const t=this.routingConfigService.getRouteConfig(s);return t&&Array.isArray(t.paths)?"/"+t.paths[0]:void 0}transform(s){Array.isArray(s)||(s=[s]);const t=[];for(const n of s)if(this.isRouteCommand(n)){const o=this.generateUrlPart(n);if(null===o)return this.ROOT_URL;t.push(...o)}else t.push(n);return this.shouldOutputAbsolute(s)&&t.unshift("/"),t}isRouteCommand(s){return s&&Boolean(s.cxRoute)}shouldOutputAbsolute(s){return this.isRouteCommand(s[0])}generateUrlPart(s){if(this.standarizeRouteCommand(s),!s.cxRoute)return null;const t=this.routingConfigService.getRouteConfig(s.cxRoute);if(!t||!t.paths)return null;const n=this.findPathWithFillableParams(t,s.params);return n?this.provideParamsValues(n,s.params,t.paramsMapping):null}standarizeRouteCommand(s){s.params=s.params||{}}provideParamsValues(s,t,n){return this.urlParser.getPrimarySegments(s).map(o=>{if(Uh(o)){const c=tv(o),d=this.getMappedParamName(c,n);return t?.[d]}return o})}findPathWithFillableParams(s,t){const n=s.paths?.find(o=>this.getParams(o).every(c=>{const d=this.getMappedParamName(c,s.paramsMapping);return void 0!==t?.[d]}));return n??null}getParams(s){return this.urlParser.getPrimarySegments(s).filter(Uh).map(tv)}getMappedParamName(s,t){return t&&t[s]||s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($u),e.LFG($l))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zl=(()=>{class i{constructor(s){this.router=s,this.routes$=this.router.events.pipe((0,gt.h)(t=>t instanceof qt.m2),(0,zt.O)(void 0),(0,we.U)(()=>{let t=this.router.routerState.snapshot.root;const n=[t];for(;t=t.firstChild;)n.push(t);return n}),(0,Qt.d)({bufferSize:1,refCount:!0}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qt.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Gh=(()=>{class i{constructor(s,t){this.router=s,this.activatedRoutesService=t,this.params$=this.activatedRoutesService.routes$.pipe((0,we.U)(n=>this.findAllParam(n)),(0,Qt.d)({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(s){return Object.assign({},...s.map(t=>t.params))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(qt.F0),e.LFG(zl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_s=(()=>{class i{constructor(s,t,n,o,c,d){this.store=s,this.winRef=t,this.semanticPathService=n,this.routingParamsService=o,this.router=c,this.location=d}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe((0,h.Ys)(ju))}getPageContext(){return this.store.pipe((0,h.Ys)(jl))}getNextPageContext(){return this.store.pipe((0,h.Ys)(Nh))}changeNextPageContext(s){this.store.dispatch(new Nf(s))}isNavigating(){return this.store.pipe((0,h.Ys)(ev))}go(s,t){const n=this.semanticPathService.transform(s);return this.navigate(n,t)}getUrl(s,t){let n=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(s),t));return n.startsWith("/")||(n=`/${n}`),n}getFullUrl(s,t){return`${this.winRef.document.location.origin}${this.getUrl(s,t)}`}goByUrl(s,t){return this.router.navigateByUrl(s,t)}back(){this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)?this.location.back():this.go(["/"])}forward(){this.location.forward()}navigate(s,t){return this.router.navigate(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Ya),e.LFG(ha),e.LFG(Gh),e.LFG(qt.F0),e.LFG(Ct.Ye))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ts=(()=>{class i{constructor(){this.redirectUrl$=new k.X(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(s){this.redirectUrl$.next(s)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nv=(()=>{class i{constructor(s,t){this.config=s,this.urlParsingService=t}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((s,t)=>!0===t.authFlow&&t.paths?.length?s.concat(t?.paths):s,[])),this._authFlowPaths}isAuthFlow(s){return this.authFlowPaths.some(t=>this.urlParsingService.matchPath(s,t))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Bh),e.LFG($l))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Yl=(()=>{class i{constructor(s,t,n,o){this.routing=s,this.router=t,this.authRedirectStorageService=n,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(s=>{s instanceof qt.m2&&this.setRedirectUrl(s.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe((0,rt.q)(1)).subscribe(s=>{void 0===s?this.routing.go("/"):this.routing.goByUrl(s),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){const s=this.router.getCurrentNavigation();if(!s?.finalUrl)return;const t=this.router.serializeUrl(s.finalUrl);this.setRedirectUrl(t)}setRedirectUrl(s){this.authFlowRoutesService.isAuthFlow(s)||this.authRedirectStorageService.setRedirectUrl(s)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(_s),e.LFG(qt.F0),e.LFG(ts),e.LFG(nv))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Hi=(()=>{class i{constructor(s,t,n,o,c,d){this.store=s,this.userIdService=t,this.oAuthLibWrapperService=n,this.authStorageService=o,this.authRedirectService=c,this.routingService=d,this.refreshInProgress$=new k.X(!1),this.logoutInProgress$=new k.X(!1)}checkOAuthParamsInUrl(){var s=this;return(0,u.Z)(function*(){try{const t=yield s.oAuthLibWrapperService.tryLogin(),n=s.authStorageService.getItem("access_token");t.result&&n&&(s.userIdService.setUserId(fa),s.store.dispatch(new Lf),t.tokenReceived&&s.authRedirectService.redirect())}catch{}})()}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(s,t){var n=this;return(0,u.Z)(function*(){try{yield n.oAuthLibWrapperService.authorizeWithPasswordFlow(s,t),n.userIdService.setUserId(fa),n.store.dispatch(new Lf),n.authRedirectService.redirect()}catch{}})()}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(s=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Gl),this.setLogoutProgress(!1),s()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe((0,we.U)(s=>Boolean(s?.access_token)),(0,Xt.x)())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(s){this.refreshInProgress$.next(s)}setLogoutProgress(s){this.logoutInProgress$.next(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo),e.LFG(kc),e.LFG(Za),e.LFG(Yl),e.LFG(_s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wa=(()=>{class i{constructor(s,t){this.store=s,this.authService=t}loadTemplates(){this.store.dispatch(new Ko)}getTemplates(s=!1){return V(()=>s,this.store.pipe((0,h.Ys)(Hu),(0,Wt.M)(this.getLoadTemplatesLoading()),(0,gt.h)(([t,n])=>!n),(0,Lt.b)(([t,n])=>{Boolean(t)||this.loadTemplates()}),(0,gt.h)(([t,n])=>Boolean(t)),(0,we.U)(([t,n])=>t)),this.store.pipe((0,h.Ys)(Hu)))}getTemplate(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(Hu,f=>f?f.find(s=>s.id===i):void 0))(s)))}getLoadTemplatesLoading(){return this.store.pipe((0,h.Ys)(Pf))}getLoadTemplatesSuccess(){return this.store.pipe((0,h.Ys)(Bl))}getLoadTemplatesError(){return this.store.pipe((0,h.Ys)(Oc))}resetLoadTemplatesState(){this.store.dispatch(new Rf)}getConsents(){return this.store.pipe((0,h.Ys)(Pc))}setConsents(s){return this.store.dispatch(new za(s))}getConsent(s){return this.authService.isUserLoggedIn().pipe((0,gt.h)(t=>!t),(0,Lt.b)(()=>this.getTemplates(!0)),(0,wt.w)(()=>this.store.pipe((0,h.Ys)((i=>(0,h.P1)(Pc,f=>f.find(s=>s.templateCode===i)))(s)))))}giveConsent(s){this.store.dispatch(new bh(s))}giveAllConsents(){return this.getTemplates(!0).pipe((0,Lt.b)(s=>s.forEach(t=>{t.id&&this.giveConsent(t.id)})))}isConsentGiven(s){return(s&&s.consentState===xe.GIVEN)??!1}withdrawConsent(s){this.store.dispatch(new Mh(s))}withdrawAllConsents(){return this.getTemplates(!0).pipe((0,Lt.b)(s=>s.forEach(t=>{t.id&&this.withdrawConsent(t.id)})))}isConsentWithdrawn(s){return s&&s.consentState===xe.WITHDRAWN}toggleBannerDismissed(s){this.store.dispatch(new xh(s)),s&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe((0,h.Ys)(Rh))}getTemplatesUpdated(){return this.getTemplates(!0).pipe((0,wt.w)(()=>this.store.pipe((0,h.Ys)(Ih))))}toggleTemplatesUpdated(s){this.store.dispatch(new Ul(s))}isBannerVisible(){return(0,I.aj)([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe((0,Lt.b)(()=>this.checkConsentVersions()),(0,we.U)(([s,t])=>!s||t))}checkConsentVersions(){this.store.dispatch(new Ic)}detectUpdatedTemplates(s,t){if(t.length!==s.length)return!0;for(let n=0;n<t.length;n++)if(t[n].version!==s[n].version)return!0;return!1}serializeAndEncode(s){if(!s)return"";const t=JSON.stringify(s);return encodeURIComponent(t)}decodeAndDeserialize(s){const t=decodeURIComponent(s);return t.length>0?JSON.parse(t):[]}consentsUpdated(s,t){return this.serializeAndEncode(s)!==this.serializeAndEncode(t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Hi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Uc="cx-use-client-token",rv="cx-use-csagent-token";class Zl{static createHeader(f,s,t){return t?t.append(f,JSON.stringify(s)):t=(new Tt.WM).set(f,JSON.stringify(s))}static removeHeader(f,s){const t=s.headers.delete(f);return s.clone({headers:t})}static getInterceptorParam(f,s){const t=s.get(f);if(t)return JSON.parse(t)}}function Ti(i){return typeof i<"u"}function Ka(i){return Ti(i)&&null!==i}const Hh="client-auth",Wl="[Client auth] Client Token Data",wo="[Token] Load Client Token";class zu extends xo{constructor(){super(Wl),this.type=wo}}class Io extends Zr{constructor(f){super(Wl,f),this.payload=f,this.type="[Token] Load Client Token Fail"}}class Bc extends uo{constructor(f){super(Wl),this.payload=f,this.type="[Token] Load Client Token Success"}}const Vh=(0,h.ZF)(Hh),Uf=(0,h.P1)(Vh,i=>i.clientToken);let jh=(()=>{class i{constructor(s){this.store=s}getClientToken(){return this.store.pipe((0,h.Ys)(Uf),(0,Pn.QV)(H.N),(0,gt.h)(s=>!!this.isClientTokenLoaded(s)||(s.loading||this.store.dispatch(new zu),!1)),(0,we.U)(s=>s.value))}refreshClientToken(){return this.store.dispatch(new zu),this.store.pipe((0,h.Ys)(Uf),(0,gt.h)(s=>this.isClientTokenLoaded(s)),(0,we.U)(s=>s.value),(0,gt.h)(Ti))}isClientTokenLoaded(s){return Boolean((s.success||s.error)&&!s.loading)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$h=(()=>{class i{constructor(s){this.clientTokenService=s}handleExpiredClientToken(s,t){return this.clientTokenService.refreshClientToken().pipe((0,rt.q)(1),(0,wt.w)(n=>t.handle(this.createNewRequestWithNewToken(s,n))))}createNewRequestWithNewToken(s,t){return s.clone({setHeaders:{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(jh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Gc(i,f){return i.context&&i.context[f]||[]}function ga(i,f){const s=Gc(i,f);return s&&s.length?s[0]:void 0}const ma="language",Cs="currency",ns="baseSite",Yh="theme";class Bf{encodeKey(f){return encodeURIComponent(f)}encodeValue(f){return encodeURIComponent(f)}decodeKey(f){return decodeURIComponent(f)}decodeValue(f){return decodeURIComponent(f)}}const Yu="default";function Hc(...i){const f=[];i=i.filter(s=>Boolean(s));for(const s of i)f.push(sv(s));return i[0]?.startsWith("/")&&(f[0]="/"+f[0]),i[i.length-1]?.endsWith("/")&&(f[f.length-1]=f[f.length-1]+"/"),f.join("/")}function sv(i){return(i=i.startsWith("/")?i.slice(1):i).endsWith("/")?i.slice(0,-1):i}const Gf="[Site-context] Load BaseSite",Jl="[Site-context] Load BaseSite Fail",Zu="[Site-context] Load BaseSite Success",Ql="[Site-context] Load BaseSites",Zh="[Site-context] Load BaseSites Fail",bi="[Site-context] Load BaseSites Success",Ja="[Site-context] Set Active BaseSite",Hf="[Site-context] BaseSite Change";class ql{constructor(f){this.payload=f,this.type=Jl}}class Xl{constructor(f){this.payload=f,this.type=Zu}}class Vf{constructor(){this.type=Ql}}class Wh{constructor(f){this.payload=f,this.type=Zh}}class Kh{constructor(f){this.payload=f,this.type=bi}}class jf{constructor(f){this.payload=f,this.type=Ja}}const Wu="[Site-context] Load Currencies",ed="[Site-context] Load Currencies Fail",Ku="[Site-context] Load Currencies Success",Vc="[Site-context] Set Active Currency",jc="[Site-context] Currency Change";class Jh{constructor(){this.type=Wu}}class td{constructor(f){this.payload=f,this.type=ed}}class $f{constructor(f){this.payload=f,this.type=Ku}}class va{constructor(f){this.payload=f,this.type=Vc}}class Ju{constructor(f){this.payload=f,this.type=jc}}const Ro="[Site-context] Load Languages",uv="[Site-context] Load Languages Fail",Jo="[Site-context] Load Languages Success",$c="[Site-context] Set Active Language",ys="[Site-context] Language Change";class Oo{constructor(){this.type=Ro}}class rs{constructor(f){this.payload=f,this.type=uv}}class zc{constructor(f){this.payload=f,this.type=Jo}}class Us{constructor(f){this.payload=f,this.type=$c}}class Vi{constructor(f){this.payload=f,this.type=ys}}var nd=Object.freeze({__proto__:null,LOAD_BASE_SITE:Gf,LOAD_BASE_SITE_FAIL:Jl,LOAD_BASE_SITE_SUCCESS:Zu,LOAD_BASE_SITES:Ql,LOAD_BASE_SITES_FAIL:Zh,LOAD_BASE_SITES_SUCCESS:bi,SET_ACTIVE_BASE_SITE:Ja,BASE_SITE_CHANGE:Hf,LoadBaseSite:class av{constructor(){this.type=Gf}},LoadBaseSiteFail:ql,LoadBaseSiteSuccess:Xl,LoadBaseSites:Vf,LoadBaseSitesFail:Wh,LoadBaseSitesSuccess:Kh,SetActiveBaseSite:jf,BaseSiteChange:class cv{constructor(){this.type=Hf}},LOAD_CURRENCIES:Wu,LOAD_CURRENCIES_FAIL:ed,LOAD_CURRENCIES_SUCCESS:Ku,SET_ACTIVE_CURRENCY:Vc,CURRENCY_CHANGE:jc,LoadCurrencies:Jh,LoadCurrenciesFail:td,LoadCurrenciesSuccess:$f,SetActiveCurrency:va,CurrencyChange:Ju,LOAD_LANGUAGES:Ro,LOAD_LANGUAGES_FAIL:uv,LOAD_LANGUAGES_SUCCESS:Jo,SET_ACTIVE_LANGUAGE:$c,LANGUAGE_CHANGE:ys,LoadLanguages:Oo,LoadLanguagesFail:rs,LoadLanguagesSuccess:zc,SetActiveLanguage:Us,LanguageChange:Vi});const Yc="siteContext",Qa=(0,h.ZF)(Yc),rd=(0,h.P1)(Qa,i=>i.baseSite),Qu=(0,h.P1)(Qa,i=>i&&i.baseSite&&i.baseSite.activeSite),qa=((0,h.P1)(Qa,i=>i&&i.baseSite&&i.baseSite.details),(0,h.P1)(rd,i=>i.entities)),Qh=(0,h.P1)(qa,i=>i?Object.keys(i).map(f=>i[f]):null),od=(0,h.P1)(Qa,i=>i.currencies),id=(0,h.P1)(od,i=>i.entities),Bo=(0,h.P1)(od,i=>i.activeCurrency),Zc=(0,h.P1)(id,i=>i?Object.keys(i).map(f=>i[f]):null),li=(0,h.P1)(Qa,i=>i.languages),lv=(0,h.P1)(li,i=>i.entities),sd=(0,h.P1)(li,i=>i.activeLanguage),ad=(0,h.P1)(lv,i=>i?Object.keys(i).map(f=>i[f]):null);let ec=(()=>{class i{constructor(s,t){this.store=s,this.config=t}getActive(){return this.store.pipe((0,h.Ys)(Qu),(0,gt.h)(s=>Boolean(s)))}getAll(){return this.store.pipe((0,h.Ys)(Qh),(0,Lt.b)(s=>{s||this.store.dispatch(new Vf)}),(0,gt.h)(Ka))}get(s){return s?this.getAll().pipe((0,we.U)(t=>t.find(n=>n.uid===s))):this.getActive().pipe((0,wt.w)(t=>this.getAll().pipe((0,we.U)(n=>n.find(o=>o.uid===t)))))}setActive(s){this.store.pipe((0,h.Ys)(Qu),(0,rt.q)(1)).subscribe(t=>{s&&t!==s&&this.store.dispatch(new jf(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&Gc(this.config,ns).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),cr=(()=>{class i{constructor(s,t){this.config=s,this.baseSiteService=t,this.baseSiteService&&this.baseSiteService.getActive().subscribe(n=>this._activeBaseSite=n)}get activeBaseSite(){return this._activeBaseSite??ga(this.config,ns)}getRawEndpointValue(s,t){return this.getEndpointForScope(s,t)}isConfigured(s,t){return!(typeof this.getEndpointFromConfig(s,t)>"u")}getBaseUrl(s={baseUrl:!0,prefix:!0,baseSite:!0}){return Hc(!1===s.baseUrl?"":this.config?.backend?.occ?.baseUrl??"",!1===s.prefix?"":this.getPrefix(),!1===s.baseSite?"":this.activeBaseSite)}buildUrl(s,t,n){let o=this.getEndpointForScope(s,t?.scope);if(t){const{urlParams:c,queryParams:d}=t;if(c&&(o=class zh{static resolve(f,s,t){for(const n of Object.keys(s)){const o=new RegExp("\\${"+n+"}","g");f=f.replace(o,t?encodeURIComponent(s[n]):s[n])}return f}}.resolve(o,c,!0)),d){let p={encoder:new Bf};if(o.includes("?")){let S;[o,S]=o.split("?"),p={...p,fromString:S}}let _=new Tt.LE(p);Object.keys(d).forEach(S=>{const O=d[S];void 0!==O&&(_=null===O?_.delete(S):_.set(S,O))});const C=_.toString();C.length&&(o+="?"+C)}}return this.buildUrlFromEndpointString(o,n)}getEndpointFromConfig(s,t){const n=this.config.backend?.occ?.endpoints;if(!n)return;const o=n[s];return t?t===Yu&&"string"==typeof o?o:o?.[t]:"string"==typeof o?o:o?.[Yu]}getEndpointForScope(s,t){const n=this.config.backend?.occ?.endpoints;if(!n)return"";const o=n[s];if(t){if(o?.[t])return o?.[t];if(t===Yu&&"string"==typeof o)return o;(0,e.X6Q)()&&console.warn(`${s} endpoint configuration missing for scope "${t}"`)}return("string"==typeof o?o:o?.[Yu])||s}buildUrlFromEndpointString(s,t){return Hc(this.getBaseUrl(t),s)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vs),e.LFG(ec,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const eg=[{provide:Tt.TP,useExisting:(()=>{class i{constructor(s,t,n){this.clientTokenService=s,this.clientErrorHandlingService=t,this.occEndpoints=n}intercept(s,t){const n=this.isClientTokenRequest(s);return n&&(s=Zl.removeHeader(Uc,s)),this.getClientToken(n).pipe((0,rt.q)(1),(0,wt.w)(o=>(o?.access_token&&s.url.includes(this.occEndpoints.getBaseUrl())&&(s=s.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),t.handle(s).pipe((0,Rt.K)(c=>c instanceof Tt.UA&&401===c.status&&n&&this.isExpiredToken(c)?this.clientErrorHandlingService.handleExpiredClientToken(s,t):(0,$._)(c))))))}getClientToken(s){return s?this.clientTokenService.getClientToken():(0,D.of)(void 0)}isClientTokenRequest(s){const t=Zl.getInterceptorParam(Uc,s.headers);return Boolean(t)}isExpiredToken(s){return"InvalidTokenError"===s.error?.errors?.[0]?.type}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(jh),e.LFG($h),e.LFG(cr))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}];var fo=(()=>{return(i=fo||(fo={})).NO_STORAGE="NO_STORAGE",i.LOCAL_STORAGE="LOCAL_STORAGE",i.SESSION_STORAGE="SESSION_STORAGE",fo;var i})(),vr=(()=>((vr||(vr={})).TRANSFER_STATE="SSR",vr))();function Jr(i,f){let s;switch(i){case fo.LOCAL_STORAGE:s=f.localStorage;break;case fo.SESSION_STORAGE:s=f.sessionStorage;break;case fo.NO_STORAGE:s=void 0;break;default:s=f.sessionStorage}return s}function dv(i,f){if(fv(i))return;const s=i.getItem(f);return s?JSON.parse(s):void 0}function fv(i){return!Boolean(i)}let cd=(()=>{class i{constructor(s){this.winRef=s}syncWithStorage({key:s,state$:t,context$:n=(0,D.of)(""),storageType:o=fo.LOCAL_STORAGE,onRead:c=(()=>{})}){const d=Jr(o,this.winRef),p=new J.w;return p.add(n.pipe((0,we.U)(_=>d?dv(d,this.generateKeyWithContext(_,s)):void 0),(0,Lt.b)(_=>c(_))).subscribe()),d&&p.add(t.pipe((0,Wt.M)(n)).subscribe(([_,C])=>{!function ZC(i,f,s){!fv(s)&&f&&s.setItem(i,JSON.stringify(f))}(this.generateKeyWithContext(C,s),_,d)})),p}readStateFromStorage({key:s,context:t="",storageType:n=fo.LOCAL_STORAGE}){const o=Jr(n,this.winRef);if(o)return dv(o,this.generateKeyWithContext(t,s))}generateKeyWithContext(s,t){return`spartacus\u26bf${[].concat(s).join("\u26bf")}\u26bf${t}`}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ya))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),io=(()=>{class i{constructor(s,t,n,o){this.statePersistenceService=s,this.userIdService=t,this.authStorageService=n,this.authRedirectStorageService=o,this.subscription=new J.w,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:s=>this.onRead(s)}))}getAuthState(){return(0,I.aj)([this.authStorageService.getToken().pipe((0,gt.h)(s=>!!s),(0,we.U)(s=>({...s}))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe((0,we.U)(([s,t,n])=>{let o=s;return o&&(o={...o},delete o.refresh_token),{token:o,userId:t,redirectUrl:n}}))}onRead(s){s?.token&&this.authStorageService.setToken(s.token),s?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(s.redirectUrl),s?.userId?this.userIdService.setUserId(s.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return Boolean(this.readStateFromStorage()?.token?.access_token)}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(cd),e.LFG(Uo),e.LFG(Za),e.LFG(ts))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Bs=(0,Dn.Cb)("cx-state"),tg=new e.OlP("TransferStateMetaReducer"),ng=[{provide:tg,useFactory:function WC(i,f,s,t){if(f&&s?.state?.ssrTransfer?.keys){if((0,Ct.NF)(i))return function hv(i,f,s){const t=kl(f,vr.TRANSFER_STATE);return function(n){return function(o,c){if(c.type===h.qg){if(o||(o=n(o,c)),!s&&i.hasKey(Bs)){const d=i.get(Bs,{});o=Fr({},o,Va(t,[],d))}return o}return n(o,c)}}}(f,s.state.ssrTransfer.keys,Boolean(t?.isUserLoggedIn()));if((0,Ct.PM)(i))return function pv(i,f){const s=kl(f,vr.TRANSFER_STATE);return function(t){return function(n,o){const c=t(n,o);if(c){const d=Va(s,[],c);i.set(Bs,d)}return c}}}(f,s.state.ssrTransfer.keys)}return n=>n},deps:[e.Lbi,[new e.FiY,Dn.ki],[new e.FiY,ao],[new e.FiY,io]]},{provide:h.sr,useExisting:tg,multi:!0}];let Mi=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...ng]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function Fn(i){if(i instanceof en)return i;if(i instanceof Tt.UA){const f=new en;return f.message=i.message,f.status=i.status,f.statusText=i.statusText,f.url=i.url,Array.isArray(i.error.errors)?f.details=i.error.errors:"string"==typeof i.error.error&&(f.details=[{type:i.error.error,message:i.error.error_description}]),f}(0,e.X6Q)()&&console.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",i)}let gv=(()=>{class i{constructor(s,t){this.http=s,this.authConfigService=t}loadClientAuthenticationToken(){const s=this.authConfigService.getTokenEndpoint(),t=(new Tt.LE).set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),n=new Tt.WM({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(s,t,{headers:n})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(Hl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rg=[(()=>{class i{constructor(s,t){this.actions$=s,this.clientAuthenticationTokenService=t,this.loadClientToken$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(wo),(0,cn.z)(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe((0,we.U)(n=>new Bc(n)),(0,Rt.K)(n=>(0,D.of)(new Io(Fn(n))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(gv))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],tc=new e.OlP("ClientAuthReducers"),Ss={provide:tc,useFactory:function og(){return{clientToken:xr(Wl)}}};let nc=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Ss],imports:[Ct.ez,Tt.JF,Mi,h.Aw.forFeature(Hh,tc),Ke.sQ.forFeature(rg)]}),i})(),Yf=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...eg]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ct.ez,nc]}),i})();const Qr=new e.OlP("ConfigInitializer"),Zf=new e.OlP("CONFIG_INITIALIZER_FORROOT_GUARD");let os=(()=>{class i{constructor(s,t,n){this.config=s,this.initializerGuard=t,this.rootConfig=n,this.ongoingScopes$=new k.X(void 0)}get isStable(){return!this.initializerGuard||0===this.ongoingScopes$.value?.length}getStable(...s){return this.isStable?(0,D.of)(this.config):this.ongoingScopes$.pipe((0,gt.h)(t=>!!t&&this.areReady(s,t)),(0,rt.q)(1),(0,yn.h)(this.config))}finishScopes(s){const t=[...this.ongoingScopes$.value??[]];for(const n of s)t.splice(t.indexOf(n),1);this.ongoingScopes$.next(t)}areReady(s,t){if(!s.length)return!t.length;for(const n of s)for(const o of t)if(this.scopesOverlap(n,o))return!1;return!0}scopesOverlap(s,t){return t.length>s.length&&([s,t]=[t,s]),s.startsWith(t)&&"."===(s[t.length]||".")}initialize(s){var t=this;return(0,u.Z)(function*(){if(t.ongoingScopes$.value)return;const n=[],o=[];for(const c of s||[])if(c){if(!c.scopes||!c.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");(0,e.X6Q)()&&!t.areReady(c.scopes,n)&&console.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),n.push(...c.scopes),o.push((0,u.Z)(function*(){const d=yield c.configFactory();Fr(t.rootConfig,d),Fr(t.config,d),t.finishScopes(c.scopes)})())}t.ongoingScopes$.next(n),o.length&&(yield Promise.all(o))})()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ao),e.LFG(Zf,8),e.LFG(Ps))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Kc=new e.OlP("ConfigurationValidator");function ud(i){return{provide:Kc,useValue:i,multi:!0}}function Qo(i){if(typeof i?.authentication?.baseUrl>"u"&&typeof i?.backend?.occ?.baseUrl>"u"&&!1!==i?.authentication?.OAuthLibConfig?.requireHttps)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}const KC={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function ya(i,f){return Object.assign(new i,f)}let is=(()=>{class i{}return i.type="CxEvent",i})(),Wf=(()=>{class i extends is{}return i.type="LogoutEvent",i})(),ig=(()=>{class i extends is{}return i.type="LoginEvent",i})();class mv{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new re.y(f=>(this.consumer=f,this.bindAllSourcesToConsumer(f),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe((0,Ft.B)()),this.consumer=null}add(f){this.has(f)||(this.consumer&&this.bindSourceToConsumer(f,this.consumer),this.sources.push(f))}bindAllSourcesToConsumer(f){this.sources.forEach(s=>this.bindSourceToConsumer(s,f))}unbindAllSourcesFromConsumer(){this.sources.forEach(f=>this.unbindSourceFromConsumer(f))}bindSourceToConsumer(f,s){const t=f.subscribe(n=>s.next(n));this.subscriptionsToSources.set(f,t)}unbindSourceFromConsumer(f){const s=this.subscriptionsToSources.get(f);void 0!==s&&(s.unsubscribe(),this.subscriptionsToSources.delete(f))}remove(f){let s;this.unbindSourceFromConsumer(f),-1!==(s=this.sources.findIndex(t=>t===f))&&this.sources.splice(s,1)}has(f){return this.sources.includes(f)}}let Sa=(()=>{class i{constructor(){this.eventsMeta=new Map}register(s,t){const n=this.getEventMeta(s);return n.mergingSubject.has(t)?(0,e.X6Q)()&&console.warn("EventService: the event source",t,"has been already registered for the type",s):n.mergingSubject.add(t),()=>n.mergingSubject.remove(t)}get(s){let t=this.getEventMeta(s).mergingSubject.output$;return(0,e.X6Q)()&&(t=this.getValidatedEventStream(t,s)),t}dispatch(s,t){t?s instanceof t||(s=ya(t,s)):t=s.constructor,this.getInputSubject(t).next(s)}getInputSubject(s){const t=this.getEventMeta(s);return t.inputSubject$||(t.inputSubject$=new ae.xQ,this.register(s,t.inputSubject$)),t.inputSubject$}getEventMeta(s){return this.eventsMeta.get(s)||((0,e.X6Q)()&&this.validateEventType(s),this.createEventMeta(s)),this.eventsMeta.get(s)}createEventMeta(s){const t={inputSubject$:null,mergingSubject:new mv};this.eventsMeta.set(s,t);let n=Object.getPrototypeOf(s);for(;null!==n&&Object.getPrototypeOf(n)!==Object.getPrototypeOf({});)this.register(n,t.mergingSubject.output$),n=Object.getPrototypeOf(n)}validateEventType(s){if(!s?.constructor)throw new Error(`EventService:  ${s} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(s)}validateCxEvent(s){let t=s;for(;null!==t&&Object.getPrototypeOf(t)!==Object.getPrototypeOf({});){if(t.type===is.type)return;t=Object.getPrototypeOf(t)}console.warn(`The ${s.name} (or one of its parent classes) does not inherit from the ${is.type}`)}getValidatedEventStream(s,t){return s.pipe((0,Lt.b)(n=>{n instanceof t||console.warn("EventService: The stream",s,"emitted the event",n,"that is not an instance of the declared type",t.name)}))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ld=(()=>{class i{constructor(s,t){this.actionsSubject=s,this.eventService=t}register(s){return this.eventService.register(s.event,this.getFromAction(s))}getFromAction(s){return this.actionsSubject.pipe((0,Ke.l4)(...[].concat(s.action))).pipe((0,we.U)(t=>this.createEvent(t,s.event,s.factory)))}createEvent(s,t,n){return n?n(s):ya(t,s.payload??{})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.UO),e.LFG(Sa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dd=(()=>{class i{constructor(s,t,n){this.stateEventService=s,this.eventService=t,this.authService=n,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:Ai,event:ig})}registerLogoutEvent(){this.eventService.register(Wf,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe((0,Zn.G)(),(0,gt.h)(([s,t])=>s&&!t),(0,we.U)(()=>ya(Wf,{})))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ld),e.LFG(Sa),e.LFG(Hi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ji=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dd))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var _r=(()=>{return(i=_r||(_r={})).MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",i.MSG_TYPE_ERROR="[GlobalMessage] Error",i.MSG_TYPE_INFO="[GlobalMessage] Information",i.MSG_TYPE_WARNING="[GlobalMessage] Warning",i.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",_r;var i})();const el="[Global-message] Add a Message",kr="[Global-message] Remove a Message",ss="[Global-message] Remove messages by type";class Jc{constructor(f){this.payload=f,this.type=el}}class Es{constructor(f){this.payload=f,this.type=kr}}class fd{constructor(f){this.payload=f,this.type=ss}}const pd="global-message",sg=(0,h.ZF)(pd),Kf=(0,h.P1)(sg,i=>i.entities),ag=i=>(0,h.P1)(Kf,f=>f&&f[i]);let $i=(()=>{class i{constructor(s){this.store=s}get(){return this.store.pipe((0,h.Ys)(Kf),(0,gt.h)(Ti))}add(s,t,n){this.store.dispatch(new Jc({text:"string"==typeof s?{raw:s}:s,type:t,timeout:n}))}remove(s,t){this.store.dispatch(void 0!==t?new Es({type:s,index:t}):new fd(s))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hd=(()=>{class i{constructor(s,t,n,o,c,d,p){this.authService=s,this.authStorageService=t,this.oAuthLibWrapperService=n,this.routingService=o,this.occEndpoints=c,this.globalMessageService=d,this.authRedirectService=p,this.refreshTokenTrigger$=new ae.xQ,this.token$=this.authStorageService.getToken().pipe((0,we.U)(_=>_?.access_token?_:void 0)),this.stopProgress$=this.token$.pipe((0,Zn.G)(),(0,Lt.b)(([_,C])=>{_?.access_token!==C?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe((0,Wt.M)(this.authService.refreshInProgress$,this.authService.logoutInProgress$),(0,gt.h)(([,_,C])=>!_&&!C),(0,Lt.b)(([_])=>{_?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=(0,De.g)(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe((0,Qt.d)({refCount:!0,bufferSize:1})),this.subscriptions=new J.w,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(s){return this.isOccUrl(s.url)}shouldAddAuthorizationHeader(s){const t=!!this.getAuthorizationHeader(s),n=this.isOccUrl(s.url);return!t&&n}alterRequest(s,t){const n=!!this.getAuthorizationHeader(s),o=this.isOccUrl(s.url);return!n&&o?s.clone({setHeaders:{...this.createAuthorizationHeader(t)}}):s}isOccUrl(s){return s.includes(this.occEndpoints.getBaseUrl())}getAuthorizationHeader(s){return s.headers.get("Authorization")}createAuthorizationHeader(s){if(s?.access_token)return{Authorization:`${s.token_type||"Bearer"} ${s.access_token}`};let t;return this.authStorageService.getToken().subscribe(n=>t=n).unsubscribe(),t?.access_token?{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`}:{}}handleExpiredAccessToken(s,t,n){return this.getValidToken(n).pipe((0,wt.w)(o=>o?t.handle(this.createNewRequestWithNewToken(s,o)):G.E))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},_r.MSG_TYPE_ERROR)})}getStableToken(){return(0,I.aj)([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe((0,Pn.QV)(H.N),(0,gt.h)(([s,t,n])=>!t&&!n),(0,wt.w)(()=>this.token$))}getValidToken(s){return(0,M.P)(()=>{let t=!1;return this.tokenToRetryRequest$.pipe((0,Lt.b)(n=>{n?.access_token===s?.access_token&&!t&&this.refreshTokenTrigger$.next(n),t=!0}),(0,Ot.n)(n=>n?.access_token===s?.access_token),(0,rt.q)(1))})}createNewRequestWithNewToken(s,t){return s.clone({setHeaders:{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`}})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Hi),e.LFG(Za),e.LFG(kc),e.LFG(_s),e.LFG(cr),e.LFG($i),e.LFG(Yl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _v=[{provide:Tt.TP,useExisting:(()=>{class i{constructor(s,t){this.authHttpHeaderService=s,this.authConfigService=t}intercept(s,t){const n=this.authHttpHeaderService.shouldCatchError(s);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(s)?this.authHttpHeaderService.getStableToken().pipe((0,rt.q)(1)):(0,D.of)(void 0)).pipe((0,we.U)(p=>({token:p,request:this.authHttpHeaderService.alterRequest(s,p)}))).pipe((0,wt.w)(({request:p,token:_})=>t.handle(p).pipe((0,Rt.K)(C=>{if(C instanceof Tt.UA)switch(C.status){case 401:if(this.isExpiredToken(C)&&n)return this.authHttpHeaderService.handleExpiredAccessToken(p,t,_);if(C.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_token"===C.error.error)return this.authHttpHeaderService.handleExpiredRefreshToken(),(0,D.of)();break;case 400:C.url?.includes(this.authConfigService.getTokenEndpoint())&&"invalid_grant"===C.error.error&&"refresh_token"===p.body.get("grant_type")&&this.authHttpHeaderService.handleExpiredRefreshToken()}return(0,$._)(C)}))))}isExpiredToken(s){return"InvalidTokenError"===s.error?.errors?.[0]?.type}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hd),e.LFG(Hl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0},{provide:Tt.TP,useExisting:(()=>{class i{constructor(s,t){this.authStorageService=s,this.authConfigService=t}intercept(s,t){const n=this.isTokenRevocationRequest(s);return this.authStorageService.getToken().pipe((0,rt.q)(1),(0,wt.w)(o=>(n&&(s=s.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),t.handle(s))))}isTokenRevocationRequest(s){return s.url===this.authConfigService.getRevokeEndpoint()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Za),e.LFG(Hl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}];function Cv(i,f){return()=>f.getStable().pipe((0,wt.w)(()=>i.checkOAuthParamsInUrl())).toPromise()}function lg(i){return()=>i.initSync()}let Jf=(()=>{class i{static forRoot(){return{ngModule:i,providers:[co(KC),ud(Qo),..._v,{provide:_t.Hy,useExisting:Za},{provide:e.ip1,useFactory:lg,deps:[io],multi:!0},{provide:e.ip1,useFactory:Cv,deps:[Hi,os],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ct.ez,_t.zr.forRoot(),ji]}),i})(),Qf=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ct.ez,Jf.forRoot(),Yf.forRoot()]}),i})(),yv=(()=>{class i{constructor(s,t,n,o){this.authService=s,this.authRedirectService=t,this.router=n,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe((0,we.U)(s=>s||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Hi),e.LFG(Yl),e.LFG(qt.F0),e.LFG(ha))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Sv=(()=>{class i{constructor(s,t,n){this.authService=s,this.semanticPathService=t,this.router=n}canActivate(){return this.authService.isUserLoggedIn().pipe((0,we.U)(s=>s?this.router.parseUrl(this.semanticPathService.get("home")??""):!s))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Hi),e.LFG(ha),e.LFG(qt.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tl=(()=>{class i extends vs{}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})();const fg=[{provide:Tt.TP,useExisting:(()=>{class i{constructor(s,t,n,o){this.anonymousConsentsService=s,this.authService=t,this.occEndpoints=n,this.config=o}intercept(s,t){return(0,I.aj)([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe((0,rt.q)(1),(0,wt.w)(([n,o])=>{if(!this.isOccUrl(s.url))return t.handle(s);const c=this.handleRequest(n,s);return t.handle(c).pipe((0,Lt.b)(d=>{d instanceof Tt.Zn&&(d.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,d.headers.get(ut),n)}))}))}handleResponse(s,t,n){if(!s&&t){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(t),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,n)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(s,t){if(!s)return t;const n=this.anonymousConsentsService.serializeAndEncode(s);return t.clone({setHeaders:{[ut]:n}})}isOccUrl(s){return s.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(s){const t=[...s];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(const n of t)n.templateCode&&this.config.anonymousConsents.requiredConsents.includes(n.templateCode)&&(n.consentState=xe.GIVEN);return t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Wa),e.LFG(Hi),e.LFG(cr),e.LFG(tl))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}],Gs="[User] Load Billing Countries",pg="[User] Load Billing Countries Fail",gd="[User] Load Billing Countries Success";class nl{constructor(){this.type=Gs}}class Ev{constructor(f){this.payload=f,this.type=pg}}class md{constructor(f){this.payload=f,this.type=gd}}const Gn="process";function rl(i){return(0,h.P1)(function rc(){return(0,h.ZF)(Gn)}(),f=>Co(f,i))}function Ds(i){return(0,h.P1)(rl(i),f=>lo(f))}function oc(i){return(0,h.P1)(rl(i),f=>Yo(f))}function ol(i){return(0,h.P1)(rl(i),f=>ci(f))}var Dv=Object.freeze({__proto__:null,getProcessStateFactory:rl,getProcessLoadingFactory:Ds,getProcessSuccessFactory:oc,getProcessErrorFactory:ol});const qc="giveConsent",Xc="withdrawConsent",vd="updateNotificationPreferences",Vs="addProductInterests",eu="removeProductInterests",ic="[User] User Consents",As="[User] User Payment Methods",So="[User] User Addresses",qf="[User] User Cost Centers",di="[User] Regions",js="[User] Customer Coupons",Ea="subscribeCustomerCoupon",zi="unsubscribeCustomerCoupon",Yi="claimCustomerCoupon",pr="[User] Notification Preferences",_d="[User] Product Interests",Cd="[User] Load Customer Coupons",hg="[User] Load Customer Coupons Fail",yd="[User] Load Customer Coupons Success",gg="[User] Reset Load Customer Coupons",Sd="[User] Subscribe Customer Notification Coupon",mg="[User] Subscribe Customer Coupon Notification Fail",sc="[User] Subscribe Customer Coupon Notification Success",il="[User] Reset Subscribe Customer Coupon Process",Xf="[User] Unsubscribe Customer Notification Coupon",Da="[User] Unsubscribe Customer Coupon Notification Fail",Ts="[User] Unsubscribe Customer Coupon Notification Success",ac="[User] Reset Unsubscribe Customer Coupon Process",ep="[User] Claim Customer",bs="[User] Claim Customer Fail",Zi="[User] Claim Customer Success";class cc extends xo{constructor(f){super(js),this.payload=f,this.type=Cd}}class Ed extends Zr{constructor(f){super(js,f),this.payload=f,this.type=hg}}class sl extends uo{constructor(f){super(js),this.payload=f,this.type=yd}}class fi extends yi{constructor(f){super(Gn,Ea),this.payload=f,this.type=Sd}}class vg extends ko{constructor(f){super(Gn,Ea,f),this.payload=f,this.type=mg}}class _g extends _o{constructor(f){super(Gn,Ea,f),this.payload=f,this.type=sc}}class Av extends yi{constructor(f){super(Gn,zi),this.payload=f,this.type=Xf}}class tp extends ko{constructor(f){super(Gn,zi,f),this.payload=f,this.type=Da}}class Tv extends _o{constructor(f){super(Gn,zi,f),this.payload=f,this.type=Ts}}class bv extends yi{constructor(f){super(Gn,Yi),this.payload=f,this.type=ep}}class np extends ko{constructor(f){super(Gn,Yi,f),this.payload=f,this.type=bs}}class al extends _o{constructor(f){super(Gn,Yi,f),this.payload=f,this.type=Zi}}const Aa="[User] Load Delivery Countries",yg="[User] Load Delivery Countries Fail",Dd="[User] Load Delivery Countries Success";class pi{constructor(){this.type=Aa}}class cl{constructor(f){this.payload=f,this.type=yg}}class ul{constructor(f){this.payload=f,this.type=Dd}}const rp="[User] Load Notification Preferences",op="[User] Load Notification Preferences Fail",ip="[User] Load Notification Preferences Success",Ur="[User] Update Notification Preferences",Ta="[User] Update Notification Preferences Fail",sp="[User] Update Notification Preferences Success",Sg="[User] Reset Notification Preferences",ll="[User] Clear Notification Preferences";class wn extends xo{constructor(f){super(pr),this.payload=f,this.type=rp}}class nu extends Zr{constructor(f){super(pr,f),this.payload=f,this.type=op}}class Eg extends uo{constructor(f){super(pr),this.payload=f,this.type=ip}}class ap extends yi{constructor(f){super(Gn,vd),this.payload=f,this.type=Ur}}class Dg extends ko{constructor(f){super(Gn,vd,f),this.payload=f,this.type=Ta}}class Ad extends _o{constructor(f){super(Gn,vd),this.payload=f,this.type=sp}}class cp extends Si{constructor(){super(Gn,vd),this.type=Sg}}class Ag extends fs{constructor(){super(pr),this.type=ll}}const Td="[User] Load User Payment Methods",bd="[User] Load User Payment Methods Fail",dl="[User] Load User Payment Methods Success",Tg="[User] Set Default User Payment Method",up="[User] Set Default User Payment Method Fail",lp="[User] Set Default User Payment Method Success",$s="[User] Delete User Payment Method",uc="[User] Delete User Payment Method Fail",Md="[User] Delete User  Payment Method Success";class zs extends xo{constructor(f){super(As),this.payload=f,this.type=Td}}class dp extends Zr{constructor(f){super(As,f),this.payload=f,this.type=bd}}class Mv extends uo{constructor(f){super(As),this.payload=f,this.type=dl}}class xv extends xo{constructor(f){super(As),this.payload=f,this.type=Tg}}class xd extends Zr{constructor(f){super(As,f),this.payload=f,this.type=up}}class wd extends uo{constructor(f){super(As),this.payload=f,this.type=lp}}class bg extends xo{constructor(f){super(As),this.payload=f,this.type=$s}}class qC extends Zr{constructor(f){super(As,f),this.payload=f,this.type=uc}}class Mg extends uo{constructor(f){super(As),this.payload=f,this.type=Md}}const Ys="Load Product Interests",fp="Load Product Interests Fail",Id="Load Product Interests Success",ru="Remove Product Interest",ba="Remove Product Interest Success",pp="Remove Product Interest Fail",hp="Add Product Interest",xg="Add Product Interest Fail",wg="Add Product Interest Success",Rd="Add Product Interest Reset",Ig="Remove Product Interest Reset",gp="Clear Product Interests";class Od extends xo{constructor(f){super(_d),this.payload=f,this.type=Ys}}class mp extends Zr{constructor(f){super(_d,f),this.payload=f,this.type=fp}}class Pd extends uo{constructor(f){super(_d),this.payload=f,this.type=Id}}class Ld extends yi{constructor(f){super(Gn,eu),this.payload=f,this.type=ru}}class wv extends _o{constructor(f){super(Gn,eu),this.payload=f,this.type=ba}}class vp extends ko{constructor(f){super(Gn,eu,f),this.payload=f,this.type=pp}}class Iv extends yi{constructor(f){super(Gn,Vs),this.payload=f,this.type=hp}}class Rv extends _o{constructor(f){super(Gn,Vs),this.payload=f,this.type=wg}}class lc extends ko{constructor(f){super(Gn,Vs,f),this.payload=f,this.type=xg}}class Rg extends Si{constructor(){super(Gn,Vs),this.type=Rd}}class Og extends Si{constructor(){super(Gn,eu),this.type=Ig}}class fl extends fs{constructor(){super(_d),this.type=gp}}const Go="[User] Load Regions",pl="[User] Load Regions Success",Pg="[User] Load Regions Fail",Fd="[User] Clear Regions";class Zs extends xo{constructor(f){super(di),this.payload=f,this.type=Go}}class hl extends Zr{constructor(f){super(di,f),this.payload=f,this.type=Pg}}class Nd extends uo{constructor(f){super(di),this.payload=f,this.type=pl}}class gl{constructor(){this.type=Fd}}const _p="[User] Load User Addresses",ou="[User] Load User Addresses Fail",Lg="[User] Load User Addresses Success",dc="[User] Add User Address",kd="[User] Add User Address Fail",ml="[User] Add User Address Success",iu="[User] Update User Address",Ud="[User] Update User Address Fail",Fg="[User] Update User Address Success",su="[User] Delete User Address",Ng="[User] Delete User Address Fail",Cp="[User] Delete User Address Success";class yp extends xo{constructor(f){super(So),this.payload=f,this.type=_p}}class Sp extends Zr{constructor(f){super(So,f),this.payload=f,this.type=ou}}class Ov extends uo{constructor(f){super(So),this.payload=f,this.type=Lg}}class Ep extends xo{constructor(f){super(So),this.payload=f,this.type=dc}}class Bd extends Zr{constructor(f){super(So,f),this.payload=f,this.type=kd}}class Dp extends uo{constructor(f){super(So),this.payload=f,this.type=ml}}class vl extends xo{constructor(f){super(So),this.payload=f,this.type=iu}}class Ap extends Zr{constructor(f){super(So,f),this.payload=f,this.type=Ud}}class Gd extends uo{constructor(f){super(So),this.payload=f,this.type=Fg}}class kg extends xo{constructor(f){super(So),this.payload=f,this.type=su}}class Pv extends Zr{constructor(f){super(So,f),this.payload=f,this.type=Ng}}class Lv extends uo{constructor(f){super(So),this.payload=f,this.type=Cp}}const Ug="[User] Load User Consents",Bg="[User] Load User Consents Success",Fv="[User] Load User Consents Fail",Gg="[User] Reset Load User Consents",Tp="[User] Give User Consent",Nv="[User] Give User Consent Fail",bp="[User] Give User Consent Success",Ws="[User] Reset Give User Consent Process",au="[User] Transfer Anonymous Consent",Hd="[User] Withdraw User Consent",Mp="[User] Withdraw User Consent Fail",Vd="[User] Withdraw User Consent Success",xp="[User] Reset Withdraw User Consent Process";class jd extends xo{constructor(f){super(ic),this.payload=f,this.type=Ug}}class Hg extends Zr{constructor(f){super(ic,f),this.payload=f,this.type=Fv}}class Ks extends uo{constructor(f){super(ic),this.payload=f,this.type=Bg}}class $d extends fs{constructor(){super(ic),this.type=Gg}}class wp extends yi{constructor(f){super(Gn,qc),this.payload=f,this.type=Tp}}class Vg extends ko{constructor(f){super(Gn,qc,f),this.type=Nv}}class Ip extends _o{constructor(f){super(Gn,qc),this.consentTemplate=f,this.type=bp}}class jg extends Si{constructor(){super(Gn,qc),this.type=Ws}}class $g{constructor(f){this.payload=f,this.type=au}}class _l extends yi{constructor(f){super(Gn,Xc),this.payload=f,this.type=Hd}}class fc extends ko{constructor(f){super(Gn,Xc,f),this.type=Mp}}class zd extends _o{constructor(){super(Gn,Xc),this.type=Vd}}class Js extends Si{constructor(){super(Gn,Xc),this.type=xp}}const pc="[User] Load Active CostCenters",cu="[User] Load Active CostCenters Fail",Yd="[User] Load Active CostCenters Success";class Cl extends xo{constructor(f){super(qf),this.payload=f,this.type=pc}}class Zd extends Zr{constructor(f){super(qf,f),this.payload=f,this.type=cu}}class Wd extends uo{constructor(f){super(qf),this.payload=f,this.type=Yd}}const uu="[User] Clear User Misc Data";class Rp{constructor(){this.type=uu}}const Op="[User] Register User Success";var kv=Object.freeze({__proto__:null,LOAD_BILLING_COUNTRIES:Gs,LOAD_BILLING_COUNTRIES_FAIL:pg,LOAD_BILLING_COUNTRIES_SUCCESS:gd,LoadBillingCountries:nl,LoadBillingCountriesFail:Ev,LoadBillingCountriesSuccess:md,LOAD_CUSTOMER_COUPONS:Cd,LOAD_CUSTOMER_COUPONS_FAIL:hg,LOAD_CUSTOMER_COUPONS_SUCCESS:yd,RESET_LOAD_CUSTOMER_COUPONS:gg,SUBSCRIBE_CUSTOMER_COUPON:Sd,SUBSCRIBE_CUSTOMER_COUPON_FAIL:mg,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:sc,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:il,UNSUBSCRIBE_CUSTOMER_COUPON:Xf,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:Da,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:Ts,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:ac,CLAIM_CUSTOMER_COUPON:ep,CLAIM_CUSTOMER_COUPON_FAIL:bs,CLAIM_CUSTOMER_COUPON_SUCCESS:Zi,LoadCustomerCoupons:cc,LoadCustomerCouponsFail:Ed,LoadCustomerCouponsSuccess:sl,ResetLoadCustomerCoupons:class tu extends fs{constructor(){super(js),this.type=gg}},SubscribeCustomerCoupon:fi,SubscribeCustomerCouponFail:vg,SubscribeCustomerCouponSuccess:_g,ResetSubscribeCustomerCouponProcess:class QC extends Si{constructor(){super(Gn,Ea),this.type=il}},UnsubscribeCustomerCoupon:Av,UnsubscribeCustomerCouponFail:tp,UnsubscribeCustomerCouponSuccess:Tv,ResetUnsubscribeCustomerCouponProcess:class Cg extends Si{constructor(){super(Gn,zi),this.type=ac}},ClaimCustomerCoupon:bv,ClaimCustomerCouponFail:np,ClaimCustomerCouponSuccess:al,LOAD_DELIVERY_COUNTRIES:Aa,LOAD_DELIVERY_COUNTRIES_FAIL:yg,LOAD_DELIVERY_COUNTRIES_SUCCESS:Dd,LoadDeliveryCountries:pi,LoadDeliveryCountriesFail:cl,LoadDeliveryCountriesSuccess:ul,LOAD_NOTIFICATION_PREFERENCES:rp,LOAD_NOTIFICATION_PREFERENCES_FAIL:op,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:ip,UPDATE_NOTIFICATION_PREFERENCES:Ur,UPDATE_NOTIFICATION_PREFERENCES_FAIL:Ta,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:sp,RESET_NOTIFICATION_PREFERENCES:Sg,CLEAR_NOTIFICATION_PREFERENCES:ll,LoadNotificationPreferences:wn,LoadNotificationPreferencesFail:nu,LoadNotificationPreferencesSuccess:Eg,UpdateNotificationPreferences:ap,UpdateNotificationPreferencesFail:Dg,UpdateNotificationPreferencesSuccess:Ad,ResetNotificationPreferences:cp,ClearNotificationPreferences:Ag,LOAD_USER_PAYMENT_METHODS:Td,LOAD_USER_PAYMENT_METHODS_FAIL:bd,LOAD_USER_PAYMENT_METHODS_SUCCESS:dl,SET_DEFAULT_USER_PAYMENT_METHOD:Tg,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:up,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:lp,DELETE_USER_PAYMENT_METHOD:$s,DELETE_USER_PAYMENT_METHOD_FAIL:uc,DELETE_USER_PAYMENT_METHOD_SUCCESS:Md,LoadUserPaymentMethods:zs,LoadUserPaymentMethodsFail:dp,LoadUserPaymentMethodsSuccess:Mv,SetDefaultUserPaymentMethod:xv,SetDefaultUserPaymentMethodFail:xd,SetDefaultUserPaymentMethodSuccess:wd,DeleteUserPaymentMethod:bg,DeleteUserPaymentMethodFail:qC,DeleteUserPaymentMethodSuccess:Mg,LOAD_PRODUCT_INTERESTS:Ys,LOAD_PRODUCT_INTERESTS_FAIL:fp,LOAD_PRODUCT_INTERESTS_SUCCESS:Id,REMOVE_PRODUCT_INTEREST:ru,REMOVE_PRODUCT_INTEREST_SUCCESS:ba,REMOVE_PRODUCT_INTEREST_FAIL:pp,ADD_PRODUCT_INTEREST:hp,ADD_PRODUCT_INTEREST_FAIL:xg,ADD_PRODUCT_INTEREST_SUCCESS:wg,ADD_PRODUCT_INTEREST_RESET:Rd,REMOVE_PRODUCT_INTEREST_RESET:Ig,CLEAR_PRODUCT_INTERESTS:gp,LoadProductInterests:Od,LoadProductInterestsFail:mp,LoadProductInterestsSuccess:Pd,RemoveProductInterest:Ld,RemoveProductInterestSuccess:wv,RemoveProductInterestFail:vp,AddProductInterest:Iv,AddProductInterestSuccess:Rv,AddProductInterestFail:lc,ResetAddInterestState:Rg,ResetRemoveInterestState:Og,ClearProductInterests:fl,LOAD_REGIONS:Go,LOAD_REGIONS_SUCCESS:pl,LOAD_REGIONS_FAIL:Pg,CLEAR_REGIONS:Fd,LoadRegions:Zs,LoadRegionsFail:hl,LoadRegionsSuccess:Nd,ClearRegions:gl,LOAD_USER_ADDRESSES:_p,LOAD_USER_ADDRESSES_FAIL:ou,LOAD_USER_ADDRESSES_SUCCESS:Lg,ADD_USER_ADDRESS:dc,ADD_USER_ADDRESS_FAIL:kd,ADD_USER_ADDRESS_SUCCESS:ml,UPDATE_USER_ADDRESS:iu,UPDATE_USER_ADDRESS_FAIL:Ud,UPDATE_USER_ADDRESS_SUCCESS:Fg,DELETE_USER_ADDRESS:su,DELETE_USER_ADDRESS_FAIL:Ng,DELETE_USER_ADDRESS_SUCCESS:Cp,LoadUserAddresses:yp,LoadUserAddressesFail:Sp,LoadUserAddressesSuccess:Ov,AddUserAddress:Ep,AddUserAddressFail:Bd,AddUserAddressSuccess:Dp,UpdateUserAddress:vl,UpdateUserAddressFail:Ap,UpdateUserAddressSuccess:Gd,DeleteUserAddress:kg,DeleteUserAddressFail:Pv,DeleteUserAddressSuccess:Lv,LOAD_USER_CONSENTS:Ug,LOAD_USER_CONSENTS_SUCCESS:Bg,LOAD_USER_CONSENTS_FAIL:Fv,RESET_LOAD_USER_CONSENTS:Gg,GIVE_USER_CONSENT:Tp,GIVE_USER_CONSENT_FAIL:Nv,GIVE_USER_CONSENT_SUCCESS:bp,RESET_GIVE_USER_CONSENT_PROCESS:Ws,TRANSFER_ANONYMOUS_CONSENT:au,WITHDRAW_USER_CONSENT:Hd,WITHDRAW_USER_CONSENT_FAIL:Mp,WITHDRAW_USER_CONSENT_SUCCESS:Vd,RESET_WITHDRAW_USER_CONSENT_PROCESS:xp,LoadUserConsents:jd,LoadUserConsentsFail:Hg,LoadUserConsentsSuccess:Ks,ResetLoadUserConsents:$d,GiveUserConsent:wp,GiveUserConsentFail:Vg,GiveUserConsentSuccess:Ip,ResetGiveUserConsentProcess:jg,TransferAnonymousConsent:$g,WithdrawUserConsent:_l,WithdrawUserConsentFail:fc,WithdrawUserConsentSuccess:zd,ResetWithdrawUserConsentProcess:Js,LOAD_ACTIVE_COST_CENTERS:pc,LOAD_ACTIVE_COST_CENTERS_FAIL:cu,LOAD_ACTIVE_COST_CENTERS_SUCCESS:Yd,LoadActiveCostCenters:Cl,LoadActiveCostCentersFail:Zd,LoadActiveCostCentersSuccess:Wd,CLEAR_USER_MISCS_DATA:uu,ClearUserMiscsData:Rp,REGISTER_USER_SUCCESS:Op,RegisterUserSuccess:class XC extends _o{constructor(){super(Gn,"registerUser"),this.type=Op}}});class Kd{}let Uv=(()=>{class i{constructor(s){this.adapter=s}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Kd))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Wi=(0,h.ZF)("user"),Jd=(0,h.P1)(Wi,i=>i.billingCountries),zg=(0,h.P1)(Jd,i=>i.entities),xi=(0,h.P1)(zg,i=>Object.keys(i).map(f=>i[f])),yl=(0,h.P1)(Wi,i=>i.customerCoupons),Bv=(0,h.P1)(yl,i=>Yo(i)),Pp=(0,h.P1)(yl,i=>lo(i)),Qd=((0,h.P1)(yl,i=>dr(i)),(0,h.P1)(Wi,i=>i.countries)),hc=(0,h.P1)(Qd,i=>i.entities),gc=(0,h.P1)(hc,i=>Object.keys(i).map(f=>i[f])),Ki=(0,h.P1)(Wi,i=>i.notificationPreferences),qd=(0,h.P1)(Ki,i=>dr(i)),Lp=(0,h.P1)(Ki,i=>dr(i).filter(f=>f.enabled)),Fp=(0,h.P1)(Ki,i=>lo(i)),du=(0,h.P1)(Wi,i=>i.payments),Qs=(0,h.P1)(du,i=>dr(i)),Np=(0,h.P1)(du,i=>lo(i)),Sl=(0,h.P1)(du,i=>Yo(i)&&!lo(i)),Xd=(0,h.P1)(Wi,i=>i.productInterests),cs=(0,h.P1)(Xd,i=>dr(i)),ef=(0,h.P1)(Xd,i=>lo(i)),fu=(0,h.P1)(Wi,i=>i.regions),Hv=((0,h.P1)(fu,i=>dr(i).entities),(0,h.P1)(fu,i=>({loaded:Yo(i),loading:lo(i),regions:dr(i).entities,country:dr(i).country}))),tf=((0,h.P1)(fu,i=>dr(i).country),(0,h.P1)(fu,i=>lo(i)),(0,h.P1)(fu,i=>Yo(i)),(0,h.P1)(Wi,i=>i.addresses)),nf=(0,h.P1)(tf,i=>dr(i)),Zg=(0,h.P1)(tf,i=>lo(i)),Wg=(0,h.P1)(tf,i=>Yo(i)&&!lo(i)),Ma=(0,h.P1)(Wi,i=>i.consents),pu=(0,h.P1)(Ma,i=>dr(i)),$v=(0,h.P1)(Ma,lo),rf=(0,h.P1)(Ma,Yo),zv=(0,h.P1)(Ma,ci),sf=(0,h.P1)(Wi,i=>i.costCenters);(0,h.P1)(sf,i=>dr(i));let kp=(()=>{class i{constructor(s,t,n){this.store=s,this.authService=t,this.userIdService=n}loadConsents(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new jd(s))})}getConsents(s=!1){return V(()=>s,this.store.pipe((0,h.Ys)(pu),(0,Wt.M)(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),(0,gt.h)(([t,n,o])=>!n),(0,Lt.b)(([t,n,o])=>{(!t||0===t.length)&&(o||this.loadConsents())}),(0,gt.h)(([t,n])=>Boolean(t)),(0,we.U)(([t,n])=>t)),this.store.pipe((0,h.Ys)(pu)))}getConsentsResultLoading(){return this.store.pipe((0,h.Ys)($v))}getConsentsResultSuccess(){return this.store.pipe((0,h.Ys)(rf))}getConsentsResultError(){return this.store.pipe((0,h.Ys)(zv))}resetConsentsProcessState(){this.store.dispatch(new $d)}getConsent(s){return this.authService.isUserLoggedIn().pipe((0,gt.h)(Boolean),(0,wt.w)(()=>this.getConsents(!0)),(0,wt.w)(()=>this.store.pipe((0,h.Ys)((i=>(0,h.P1)(pu,f=>f.find(s=>s.id===i)))(s)))),(0,gt.h)(Ti),(0,we.U)(t=>t.currentConsent))}isConsentGiven(s){return Boolean(s)&&Boolean(s.consentGivenDate)&&!Boolean(s.consentWithdrawnDate)}isConsentWithdrawn(s){return!Boolean(s)||Boolean(s?.consentWithdrawnDate)}giveConsent(s,t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new wp({userId:n,consentTemplateId:s,consentTemplateVersion:t}))})}getGiveConsentResultLoading(){return this.store.pipe((0,h.Ys)(Ds(qc)))}getGiveConsentResultSuccess(){return this.store.pipe((0,h.Ys)(oc(qc)))}getGiveConsentResultError(){return this.store.pipe((0,h.Ys)(ol(qc)))}resetGiveConsentProcessState(){return this.store.dispatch(new jg)}withdrawConsent(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new _l({userId:t,consentCode:s}))})}getWithdrawConsentResultLoading(){return this.store.pipe((0,h.Ys)(Ds(Xc)))}getWithdrawConsentResultSuccess(){return this.store.pipe((0,h.Ys)(oc(Xc)))}getWithdrawConsentResultError(){return this.store.pipe((0,h.Ys)(ol(Xc)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new Js)}filterConsentTemplates(s,t=[]){if(0===t.length)return s;const n=[];for(const o of s)o.id&&!t.includes(o.id)&&n.push(o);return n}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Hi),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qs=[(()=>{class i{constructor(s,t,n,o,c,d,p){this.actions$=s,this.anonymousConsentTemplatesConnector=t,this.authService=n,this.anonymousConsentsConfig=o,this.anonymousConsentService=c,this.userConsentService=d,this.userIdService=p,this.checkConsentVersions$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(es),(0,Wt.M)(this.anonymousConsentService.getConsents()),(0,bt.b)(([_,C])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe((0,we.U)(S=>{if(!S)return(0,e.X6Q)()&&console.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;const O=C.map(ce=>ce.templateVersion),j=S.map(ce=>ce.templateVersion);return this.detectUpdatedVersion(O,j)}),(0,wt.w)(S=>S?(0,D.of)(new Ko):G.E),(0,Rt.K)(S=>(0,D.of)(new Bi(Fn(S)))))))),this.loadAnonymousConsentTemplates$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(U),(0,Wt.M)(this.anonymousConsentService.getTemplates()),(0,bt.b)(([_,C])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe((0,ke.zg)(S=>{let O=!1;return C&&0!==C.length&&(O=this.anonymousConsentService.detectUpdatedTemplates(C,S)),[new da(S),new Ul(O)]}),(0,Rt.K)(S=>(0,D.of)(new Bi(Fn(S)))))))),this.transferAnonymousConsentsToUser$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ai),(0,gt.h)(()=>Boolean(this.anonymousConsentsConfig.anonymousConsents)),(0,Wt.M)(this.actions$.pipe((0,Ke.l4)(Op))),(0,gt.h)(([,_])=>Boolean(_)),(0,wt.w)(()=>this.anonymousConsentService.getConsents().pipe((0,Wt.M)(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),(0,gt.h)(([,,,_])=>_),(0,bt.b)(([_,C,S,O])=>{const j=[];for(const ce of _)if(this.anonymousConsentService.isConsentGiven(ce)&&!this.isRequiredConsent(ce.templateCode))for(const Me of S)if(Me.id===ce.templateCode){j.push(new $g({userId:C,consentTemplateId:Me.id,consentTemplateVersion:Me.version}));break}return j.length>0?j:G.E}))))),this.giveRequiredConsentsToUser$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ai),(0,gt.h)(_=>Boolean(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&_)),(0,bt.b)(()=>this.userConsentService.getConsentsResultSuccess().pipe((0,Wt.M)(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),(0,gt.h)(([,,,_])=>_),(0,Lt.b)(([_,C,S,O])=>{_||this.userConsentService.loadConsents()}),(0,we.U)(([_,C,S,O])=>({userId:C,templates:S})),(0,bt.b)(({userId:_,templates:C})=>{const S=[];for(const O of C)this.userConsentService.isConsentWithdrawn(O.currentConsent)&&this.isRequiredConsent(O.id)&&S.push(new wp({userId:_,consentTemplateId:O.id,consentTemplateVersion:O.version}));return S.length>0?S:G.E})))))}isRequiredConsent(s){return Boolean(s&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(s))}detectUpdatedVersion(s,t){if(s.length!==t.length)return!0;for(let n=0;n<t.length;n++)if(s[n]!==t[n])return!0;return!1}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(Uv),e.LFG(Hi),e.LFG(tl),e.LFG(Wa),e.LFG(kp),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()];let af=(()=>{class i{constructor(){this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(s){const t=s.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!t)return null;const[,,n,o]=t;try{return new RegExp(o,n)}catch(c){return(0,e.X6Q)()&&console.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${s} \nMessage: ${c}`),null}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cf=(()=>{class i{constructor(s,t,n){this.baseSiteService=s,this.javaRegExpConverter=t,this.winRef=n,this.scopes=["context"],this.configFactory=()=>this.resolveConfig().toPromise()}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe((0,we.U)(s=>s?.find(t=>this.isCurrentBaseSite(t))),(0,gt.h)(s=>{if(!s)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return Boolean(s)}),(0,we.U)(s=>this.getConfig(s)),(0,rt.q)(1))}getConfig(s){return{context:{urlParameters:this.getUrlParams(s.urlEncodingAttributes),[ns]:[s.uid],[ma]:this.getIsoCodes(s.baseStore?.languages,s.defaultLanguage||s.baseStore?.defaultLanguage),[Cs]:this.getIsoCodes(s.baseStore?.currencies,s.baseStore?.defaultCurrency),[Yh]:[s.theme]}}}isCurrentBaseSite(s){return-1!==(s.urlPatterns||[]).findIndex(n=>{const o=this.javaRegExpConverter.toJsRegExp(n);if(o)return o.test(this.currentUrl)})}getUrlParams(s){return(s||[]).map(n=>"storefront"===n?ns:n)}getIsoCodes(s,t){if(s&&t)return this.moveToFirst(s,o=>o.isocode===t.isocode).map(o=>o.isocode)}moveToFirst(s,t){const n=(s=[...s]).findIndex(t);if(-1!==n){const[o]=s.splice(n,1);s.unshift(o)}return s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ec),e.LFG(af),e.LFG(Ya))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class gu{}let mu=(()=>{class i{constructor(s){this.adapter=s}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(s){return this.adapter.loadCountries(s)}getRegions(s){return this.adapter.loadRegions(s)}getBaseSite(s){return this.adapter.loadBaseSite(s)}getBaseSites(){return this.adapter.loadBaseSites()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(gu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Up=new e.OlP("LanguageNormalizer"),Qg=new e.OlP("CurrencyNormalizer"),Zv=new e.OlP("CountryNormalizer"),Wv=new e.OlP("RegionNormalizer"),vu=new e.OlP("BaseSiteNormalizer");let Bp=(()=>{class i extends is{}return i.type="LanguageSetEvent",i})(),qg=(()=>{class i extends is{}return i.type="CurrencySetEvent",i})(),ey=(()=>{class i{constructor(s,t){this.actionsSubject=s,this.eventService=t,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){const s=this.actionsSubject.pipe((0,Ke.l4)($c),(0,we.U)(t=>ya(Bp,{activeLanguage:t.payload})));this.eventService.register(Bp,s)}registerSetCurrency(){const s=this.actionsSubject.pipe((0,Ke.l4)(Vc),(0,we.U)(t=>ya(qg,{activeCurrency:t.payload})));this.eventService.register(qg,s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.UO),e.LFG(Sa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ty=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ey))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),_u=(()=>{class i{constructor(s,t){this.store=s,this.config=t}getAll(){return this.store.pipe((0,h.Ys)(Zc),(0,Lt.b)(s=>{s||this.store.dispatch(new Jh)}),(0,gt.h)(Ka))}getActive(){return this.store.pipe((0,h.Ys)(Bo),(0,gt.h)(Ka))}setActive(s){this.store.pipe((0,h.Ys)(Bo),(0,rt.q)(1)).subscribe(t=>{t!==s&&this.isValid(s)&&this.store.dispatch(new va(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&Gc(this.config,Cs).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),xa=(()=>{class i{constructor(s,t){this.store=s,this.config=t}getAll(){return this.store.pipe((0,h.Ys)(ad),(0,Lt.b)(s=>{s||this.store.dispatch(new Oo)}),(0,gt.h)(Ka))}getActive(){return this.store.pipe((0,h.Ys)(sd),(0,gt.h)(Ka))}setActive(s){this.store.pipe((0,h.Ys)(sd),(0,rt.q)(1)).subscribe(t=>{t!==s&&this.isValid(s)&&this.store.dispatch(new Us(s))})}isInitialized(){let s=!1;return this.getActive().subscribe(()=>s=!0).unsubscribe(),s}isValid(s){return!!s&&Gc(this.config,ma).includes(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class Gp{}const Hp={provide:Gp,useFactory:function Xg(){return{[ma]:xa,[Cs]:_u,[ns]:ec}}};let Kv=(()=>{class i{constructor(s,t){this.baseSiteService=s,this.configInit=t}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,wt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Lt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const t=ga(s,ns);!this.baseSiteService.isInitialized()&&t&&this.baseSiteService.setActive(t)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ec),e.LFG(os))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vp=(()=>{class i{constructor(s,t,n){this.statePersistenceService=s,this.currencyService=t,this.config=n,this.initialized$=new N.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Cs,state$:this.currencyService.getActive(),onRead:s=>this.onRead(s)}),this.initialized$}onRead(s){!this.currencyService.isInitialized()&&s&&this.currencyService.setActive(s),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(cd),e.LFG(_u),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mc(i,f){return()=>i.initialize(f)}function El(i){return i.getStable().toPromise()}let em=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:Zf,useValue:!0},{provide:e.ip1,multi:!0,useFactory:mc,deps:[os,[new e.FiY,Qr]]},{provide:Ct.V_,useFactory:El,deps:[os]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function Jv(i,f){return()=>{(0,e.X6Q)()&&i.getStable().subscribe(t=>function Xu(i,f){for(const s of f){const t=s(i);t&&console.warn(t)}}(t,f||[]))}}let Qv=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,multi:!0,useFactory:Jv,deps:[os,[new e.FiY,Kc]]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();function tm(i){return"object"==typeof i&&!!i.features}function Dl(i,f){if("*"===i)return!0;const s=i.split("."),t=f.split(".");for(let n=0;n<t.length;n++){const o=Number(t[n]),c=Number(s[n])||0;if(o!==c)return c>o}return!0}function Xs(i,f){return!(!tm(i)||!i.features.level)&&(f.startsWith("!")?!Dl(i.features.level,f.substr(1,f.length)):Dl(i.features.level,f))}function nm(i,f){if(tm(i)){const s="!"===f[0]?i.features[f.substr(1,f.length)]:i.features[f],t="string"==typeof s?Xs(i,s):s;return f.startsWith("!")?!t:!!t}return!1}let Cu=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),jp=(()=>{class i{constructor(s){this.config=s}isLevel(s){return Xs(this.config,s)}isEnabled(s){return nm(this.config,s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Cu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qv=(()=>{class i{constructor(s,t,n){this.templateRef=s,this.viewContainer=t,this.featureConfig=n,this.hasView=!1}set cxFeatureLevel(s){this.featureConfig.isLevel(s.toString())&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isLevel(s.toString())&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(jp))},i.\u0275dir=e.lG2({type:i,selectors:[["","cxFeatureLevel",""]],inputs:{cxFeatureLevel:"cxFeatureLevel"}}),i})(),$p=(()=>{class i{constructor(s,t,n){this.templateRef=s,this.viewContainer=t,this.featureConfig=n,this.hasView=!1}set cxFeature(s){this.featureConfig.isEnabled(s)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(s)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(jp))},i.\u0275dir=e.lG2({type:i,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}}),i})(),rm=(()=>{class i{static forRoot(s="3.0"){return{ngModule:i,providers:[co({features:{level:s||"*"}})]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const wi={};class Al{constructor(f,s){this.mainInjector=f,this.complementaryInjectors=s}get(f,s,t){if(t&&t&e.XFs.Self){if(void 0!==s)return s;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(const n of this.complementaryInjectors){const o=n.get(f,wi,e.XFs.Self);if(o!==wi)return o}for(const n of this.complementaryInjectors){const o=n.get(f,wi);if(o!==wi)return o}return this.mainInjector.get(f,s)}}let Eo=(()=>{class i extends is{}return i.type="ModuleInitializedEvent",i})();const ea=new e.OlP("MODULE_INITIALIZER");let yu=(()=>{class i{constructor(s,t,n){this.compiler=s,this.injector=t,this.events=n,this.modules$=this.events.get(Eo).pipe((0,we.U)(o=>o.moduleRef),Dt()),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(s,t,n=[]){let o;return o=n.length?1===n.length?n[0].injector:new Al(this.injector,n.map(c=>c.injector)):this.injector,this.resolveModuleFactory(s).pipe((0,we.U)(([c])=>c.create(o)),(0,bt.b)(c=>this.runModuleInitializersForModule(c)),(0,Lt.b)(c=>this.events.dispatch(ya(Eo,{feature:t,moduleRef:c}))))}resolveDependencyModuleInstance(s){return this.resolveModuleFactory(s).pipe((0,we.U)(([t,n])=>{if(!this.dependencyModules.has(n)){const o=t.create(this.injector);this.dependencyModules.set(n,o)}return this.dependencyModules.get(n)}),(0,bt.b)(t=>this.runModuleInitializersForModule(t)),(0,Lt.b)(t=>this.events.dispatch(ya(Eo,{moduleRef:t}))))}runModuleInitializersForModule(s){const t=s.injector.get(ea,[],e.XFs.Self),n=this.runModuleInitializerFunctions(t);return n.length?(0,Ze.D)(Promise.all(n)).pipe((0,Rt.K)(o=>(console.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o),(0,$._)(o))),(0,St.c)((0,D.of)(s))):(0,D.of)(s)}runModuleInitializerFunctions(s){const t=[];try{if(s)for(let n=0;n<s.length;n++){const o=s[n]();this.isObjectPromise(o)&&t.push(o)}return t}catch(n){throw console.error("MODULE_INITIALIZER init function throwed an error. ",n),n}}isObjectPromise(s){return!!s&&"function"==typeof s.then}resolveModuleFactory(s){return(0,Ze.D)(s()).pipe((0,wt.w)(t=>t instanceof e.YKP?(0,D.of)([t,t]):(0,I.aj)([(0,Ze.D)(this.compiler.compileModuleAsync(t)),(0,D.of)(t)])),(0,Pn.QV)(H.N))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(s=>s.destroy())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.Sil),e.LFG(e.zs3),e.LFG(Sa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ii={};let Ms=(()=>{class i{constructor(s,t){this.rootInjector=s,this.lazyModules=t,this.injectors$=this.lazyModules.modules$.pipe((0,we.U)(n=>n.injector),(0,zt.O)(this.rootInjector))}get(s,t){return this.injectors$.pipe((0,we.U)((n,o)=>n.get(s,t??Ii,o?e.XFs.Self:void 0)),(0,gt.h)(n=>n!==Ii))}getMulti(s){return this.get(s,[]).pipe((0,gt.h)(t=>{if(!Array.isArray(t))throw new Error(`Multi-providers mixed with single providers for ${s.toString()}!`);return t.length>0}),(0,nn.R)((t,n)=>[...t,...n],[]))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.zs3),e.LFG(yu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Su=(()=>{class i{constructor(s,t,n,o){this.rootConfig=s,this.defaultConfig=t,this.unifiedInjector=n,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new k.X(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){return Ne(this.unifiedInjector.get(qi,[]),this.unifiedInjector.get(_i,[])).pipe((0,_n.T)(1),(0,Lt.b)(([n,o])=>this.processConfig(n,o)))}processConfig(s,t){t?.length&&Fr(this.ambientDefaultConfig,...t),s.length&&Fr(this.ambientConfig,...s),(s.length||t.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){const s=Fr({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(s),nm(this.config,"disableConfigUpdates")||Fr(this.config,s)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ps),e.LFG(Iu),e.LFG(Ms),e.LFG(ao))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),a=(()=>{class i{constructor(s){}static withConfig(s){return{ngModule:i,providers:[ls(s)]}}static withConfigFactory(s,t){return{ngModule:i,providers:[Ls(s,t)]}}static forRoot(s={}){return{ngModule:i,providers:[ls(s)]}}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Su))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();new e.OlP("TEST_CONFIG_COOKIE_NAME");let W=(()=>{class i{constructor(s,t,n){this.currencyService=s,this.currencyStatePersistenceService=t,this.configInit=n}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,wt.w)(()=>this.currencyStatePersistenceService.initSync()),(0,wt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Lt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const t=ga(s,Cs);!this.currencyService.isInitialized()&&t&&this.currencyService.setActive(t)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(_u),e.LFG(Vp),e.LFG(os))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Be=(()=>{class i{constructor(s,t,n){this.statePersistenceService=s,this.languageService=t,this.config=n,this.initialized$=new N.t(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:ma,state$:this.languageService.getActive(),onRead:s=>this.onRead(s)}),this.initialized$}onRead(s){!this.languageService.isInitialized()&&s&&this.languageService.setActive(s),this.initialized$.closed||(this.initialized$.next(),this.initialized$.complete())}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(cd),e.LFG(xa),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yt=(()=>{class i{constructor(s,t,n){this.languageService=s,this.languageStatePersistenceService=t,this.configInit=n}initialize(){this.subscription=this.configInit.getStable("context").pipe((0,wt.w)(()=>this.languageStatePersistenceService.initSync()),(0,wt.w)(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe((0,Lt.b)(s=>this.setDefaultFromConfig(s)))}setDefaultFromConfig(s){const t=ga(s,ma);!this.languageService.isInitialized()&&t&&this.languageService.setActive(t)}ngOnDestroy(){this.subscription?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(xa),e.LFG(Be),e.LFG(os))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jt=(()=>{class i{constructor(s,t,n){this.config=s,this.injector=t,this.serviceMap=n}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(s=>"urlParameters"!==s):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(s){return Gc(this.config,s)}getParamDefaultValue(s){return ga(this.config,s)}getSiteContextService(s){if(this.serviceMap[s])try{return this.injector.get(this.serviceMap[s])}catch{return void((0,e.X6Q)()&&console.warn(`Couldn't find site context service for '${s}'.`))}}getValue(s){let t;const n=this.getSiteContextService(s);return n&&n.getActive().subscribe(o=>t=o).unsubscribe(),void 0!==t?t:this.getParamDefaultValue(s)}setValue(s,t){const n=this.getSiteContextService(s);n&&n.setActive(t)}getValues(s){return 0===s.length?(0,D.of)([]):(0,I.aj)(s.map(t=>{const n=this.getSiteContextService(t);return n?n.getActive().pipe((0,Xt.x)()):(0,D.of)("")})).pipe((0,gt.h)(t=>t.every(n=>!!n)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Gi),e.LFG(e.zs3),e.LFG(Gp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),On=(()=>{class i extends qt.sz{constructor(s){super(),this.siteContextParams=s,this.URL_SPLIT=/(^[^#?]*)(.*)/}get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}parse(s){if(this.hasContextInRoutes){const t=this.urlExtractContextParameters(s),n=super.parse(t.url);return this.urlTreeIncludeContextParameters(n,t.params),n}return super.parse(s)}urlExtractContextParameters(s){const[,t,n]=s.match(this.URL_SPLIT)??[,"",""],o=t?.split("/")??[];""===o[0]&&o.shift();const c={};let d=0,p=0;for(;d<this.urlEncodingParameters.length&&p<o.length;){const _=this.urlEncodingParameters[d];this.siteContextParams.getParamValues(_).includes(o[p])&&(c[_]=o[p],p++),d++}return{url:s=o.slice(p).join("/")+n,params:c}}urlTreeIncludeContextParameters(s,t){s.siteContext=t}serialize(s){const t=this.urlTreeExtractContextParameters(s),n=super.serialize(s);return this.urlIncludeContextParameters(n,t)}urlTreeExtractContextParameters(s){return s.siteContext?s.siteContext:{}}urlIncludeContextParameters(s,t){return this.urlEncodingParameters.map(o=>t[o]?t[o]:this.siteContextParams.getValue(o)).join("/")+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(jt))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function qo(i){if(void 0===ga(i,ns))return"Please configure context.parameters.baseSite before using storefront library!"}function Eu(){return{context:{[ma]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Cs]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}const Tl=[{provide:e.ip1,useFactory:function wa(i){return()=>{i.initialize()}},deps:[yt],multi:!0},{provide:e.ip1,useFactory:function Du(i){return()=>{i.initialize()}},deps:[W],multi:!0},{provide:e.ip1,useFactory:function vc(i){return()=>{i.initialize()}},deps:[Kv],multi:!0}];let om=(()=>{class i{constructor(s,t,n){this.siteContextParams=s,this.serializer=t,this.injector=n,this.subscription=new J.w,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(qt.F0),this.location=this.injector.get(Ct.Ye);const s=this.siteContextParams.getUrlEncodingParameters();s.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(s),this.subscribeRouting())}subscribeChanges(s){s.forEach(t=>{const n=this.siteContextParams.getSiteContextService(t);n&&this.subscription.add(n.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[t]&&this.contextValues[t]!==o){const c=this.router.parseUrl(this.router.url),d=this.router.serializeUrl(c);this.location.replaceState(d)}this.contextValues[t]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe((0,gt.h)(s=>s instanceof qt.OD||s instanceof qt.m2||s instanceof qt.Q3||s instanceof qt.gk)).subscribe(s=>{this.isNavigating=s instanceof qt.OD,this.isNavigating&&this.setContextParamsFromRoute(s.url)}))}setContextParamsFromRoute(s){const{params:t}=this.serializer.urlExtractContextParameters(s);Object.keys(t).forEach(n=>this.siteContextParams.setValue(n,t[n]))}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(jt),e.LFG(On),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const im=[ec,xa,_u,{provide:e.ip1,useFactory:function Xv(i,f){return()=>i.getStable("context").pipe((0,Lt.b)(()=>{f.init()})).toPromise()},deps:[os,om],multi:!0}],HE=[jt,On,{provide:qt.Hx,useExisting:On}],jE=[(()=>{class i{constructor(s,t,n){this.actions$=s,this.siteConnector=t,this.state=n,this.loadLanguages$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ro),(0,cn.z)(()=>this.siteConnector.getLanguages().pipe((0,we.U)(o=>new zc(o)),(0,Rt.K)(o=>(0,D.of)(new rs(Fn(o)))))))),this.activateLanguage$=(0,Ke.GW)(()=>this.state.select(sd).pipe(it(2,1),(0,gt.h)(([o])=>!!o),(0,we.U)(([o,c])=>new Vi({previous:o,current:c}))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu),e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t,n){this.actions$=s,this.siteConnector=t,this.state=n,this.loadCurrencies$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Wu),(0,cn.z)(()=>this.siteConnector.getCurrencies().pipe((0,we.U)(o=>new $f(o)),(0,Rt.K)(o=>(0,D.of)(new td(Fn(o)))))))),this.activateCurrency$=(0,Ke.GW)(()=>this.state.select(Bo).pipe(it(2,1),(0,gt.h)(([o])=>!!o),(0,we.U)(([o,c])=>new Ju({previous:o,current:c}))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu),e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.siteConnector=t,this.loadBaseSite$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Gf),(0,cn.z)(()=>this.siteConnector.getBaseSite().pipe((0,we.U)(n=>{if(n)return new Xl(n);throw new Error("BaseSite is not found")}),(0,Rt.K)(n=>(0,D.of)(new ql(Fn(n)))))))),this.loadBaseSites$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ql),(0,cn.z)(()=>this.siteConnector.getBaseSites().pipe((0,we.U)(n=>new Kh(n)),(0,Rt.K)(n=>(0,D.of)(new Wh(Fn(n))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],sm={entities:null,details:{},activeSite:""};function am(i=sm,f){switch(f.type){case Zu:return{...i,details:f.payload};case Ja:{let s={};return i.entities&&(s=i.entities[f.payload]),{...i,details:s,activeSite:f.payload}}case bi:{const t=f.payload.reduce((o,c)=>({...o,[c.uid??""]:c}),{...i.entities}),n=t[i.activeSite];return{...i,details:n,entities:t}}}return i}const e_={entities:null,activeCurrency:null};function $E(i=e_,f){switch(f.type){case Ku:{const t=f.payload.reduce((n,o)=>({...n,[o.isocode??""]:o}),{...i.entities});return{...i,entities:t}}case Vc:{const s=f.payload;return{...i,activeCurrency:s}}}return i}const cm={entities:null,activeLanguage:null};function um(i=cm,f){switch(f.type){case Jo:{const t=f.payload.reduce((n,o)=>({...n,[o.isocode??""]:o}),{...i.entities});return{...i,entities:t}}case $c:{const s=f.payload;return{...i,activeLanguage:s}}}return i}const n_=new e.OlP("SiteContextReducers"),r_={provide:n_,useFactory:function t_(){return{languages:um,currencies:$E,baseSite:am}}};function oy(){return{state:{ssrTransfer:{keys:{[Yc]:vr.TRANSFER_STATE}}}}}let iy=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ds(oy),r_],imports:[Ct.ez,h.Aw.forFeature(Yc,n_),Ke.sQ.forFeature(jE)]}),i})();function o_(i,f){return f.context&&f.context[ns]?null:i}let i_=(()=>{class i{static forRoot(){return{ngModule:i,providers:[ds(Eu),Hp,...im,...HE,ud(qo),{provide:Qr,useFactory:o_,deps:[cf,Gi],multi:!0},...Tl]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Mi,iy,ty]}),i})();function sy(i=!1,f){return f.type===yo?f.dismissed:i}function cy(i=!1,f){return f.type===Di?f.updated:i}const uy=[];function ly(i,f,s){return i?i.map(t=>(t.templateCode===f&&(t={...t,consentState:s}),t)):[]}function dy(i=uy,f){switch(f.type){case tn:return ly(i,f.templateCode,xe.GIVEN);case rr:return ly(i,f.templateCode,xe.WITHDRAWN);case In:return f.payload}return i}const lm=new e.OlP("AnonymousConsentsReducers"),dm={provide:lm,useFactory:function fy(){return{templates:xr(R),consents:dy,ui:(0,h.UY)({bannerDismissed:sy,updated:cy})}}},a_=[function s_(i){return function(f,s){return void 0!==f&&(s.type===ms||s.type===ys)&&(f={...f,templates:{}}),i(f,s)}}];let py=(()=>{class i{constructor(s,t,n){this.statePersistenceService=s,this.store=t,this.anonymousConsentsService=n,this.subscription=new J.w,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:s=>this.onRead(s)}))}getAuthState(){return this.store.select(Rc)}onRead(s){const t=s?.templates,n=s?.consents,o=s?.ui;t?.success&&this.store.dispatch(new da(t.value??[])),n&&this.anonymousConsentsService.setConsents(n),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(cd),e.LFG(h.yh),e.LFG(Wa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hy(i){return()=>i.initSync()}let gy=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[dm,{provide:e.ip1,useFactory:hy,deps:[py],multi:!0}],imports:[Ct.ez,Mi,h.Aw.forFeature(y,lm,{metaReducers:a_}),Ke.sQ.forFeature(qs)]}),i})(),my=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...fg,Wa,co(Ru)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[gy]}),i})();const c_=new e.OlP("AnonymousConsentNormalizer"),vy=new e.OlP("PointOfServiceNormalizer"),YE=new e.OlP("PaymentDetailsNormalizer"),ZE={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},zp="[Cms] Navigation Entity",Yp="[Cms] Component Entity",so="[Cms] Load Component",Zp="[Cms] Load Component Fail",fm="[Cms] Load Component Success",pm="[Cms] Get Component from Page";class hm extends yi{constructor(f){super(Yp,f.uid),this.payload=f,this.type=so}}class l_ extends ko{constructor(f){super(Yp,f.uid,f.error),this.payload=f,this.type=Zp}}class d_ extends _o{constructor(f){super(Yp,f.uid||f.component.uid||""),this.payload=f,this.type=fm}}class f_ extends _o{constructor(f){super(Yp,[].concat(f).map(s=>s.component.uid)),this.payload=f,this.type=pm}}const Au="[Cms] Load NavigationEntry items",p_="[Cms] Load NavigationEntry items Success";class h_ extends yi{constructor(f){super(zp,f.nodeId),this.payload=f,this.type=Au}}class g_ extends ko{constructor(f,s){super(zp,f,s),this.payload=s,this.type="[Cms] Load NavigationEntry items Fail"}}class m_ extends _o{constructor(f){super(zp,f.nodeId),this.payload=f,this.type=p_}}const Cy="[Cms] Load Page Data",Wp="[Cms] Load Page Data Fail",uf="[Cms] Load Page Data Success",us="[Cms] Set Page Success Index",v_="[Cms] Set Page Fail Index";class lf extends yi{constructor(f){super(f.type??"",f.id),this.payload=f,this.type=Cy}}class ta extends ko{constructor(f,s){super(f.type??"",f.id,s),this.type=Wp}}class xs extends _o{constructor(f,s){super(f.type??"",f.id,s),this.type=uf}}class ws extends _o{constructor(f,s){super(f.type??"",f.id,s),this.type=us}}class __ extends ko{constructor(f,s){super(f.type??"",f.id),this.payload=s,this.type=v_}}const gm=(0,h.ZF)("cms"),yy=(0,h.P1)(gm,i=>i.components),C_=i=>(0,h.P1)(yy,f=>Ha(f,i)),y_=(i,f)=>(0,h.P1)(C_(i),s=>s&&s.pageContext&&s.pageContext[f]||ui),Sy=(i,f)=>(0,h.P1)((i=>(0,h.P1)(C_(i),f=>f?f.component:void 0))(i),((i,f)=>(0,h.P1)(y_(i,f),s=>dr(s)))(i,f),(s,t)=>{switch(t){case!0:return s;case!1:return null;case void 0:return}}),S_=(0,h.P1)(gm,i=>i.navigation),E_=i=>(0,h.P1)((i=>(0,h.P1)(S_,f=>Co(f,i)))(i),f=>dr(f)),_m=(0,h.P1)(gm,i=>i.page),D_=(0,h.P1)(_m,i=>i.index),ff=i=>(0,h.P1)((i=>(0,h.P1)(D_,f=>((i,f)=>{switch(f){case jn.CONTENT_PAGE:return i.content;case jn.PRODUCT_PAGE:return i.product;case jn.CATEGORY_PAGE:return i.category;case jn.CATALOG_PAGE:return i.catalog;default:return{entities:{}}}})(f,i.type)))(i),f=>Co(f,i.id)),Kp=i=>(0,h.P1)(ff(i),f=>dr(f)),ym=(0,h.P1)(_m,i=>i.pageData.entities),pf=i=>(0,h.P1)(ym,Kp(i),(f,s)=>f[s]);function Ia(i,f){return i?f&&i.type===jn.CONTENT_PAGE?`${i.type}`:`${i.type}-${i.id}`:"current"}let hf=(()=>{class i{constructor(s,t){this.store=s,this.routingService=t,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe((0,wt.w)(s=>this.store.select(pf(s))))}getComponentData(s,t){const n=Ia(t,!0);this.components[s]||(this.components[s]={});const o=this.components[s];return o[n]||(o[n]=this.createComponentData(s,t)),o[n]}createComponentData(s,t){if(!t)return this.routingService.getPageContext().pipe((0,gt.h)(d=>!!d),(0,wt.w)(d=>this.getComponentData(s,d)));const n=Ia(t,!0),o=(0,I.aj)([this.routingService.getNextPageContext(),this.store.pipe((0,h.Ys)(y_(s,n)))]).pipe((0,Pn.QV)(H.N),(0,Lt.b)(([d,p])=>{const _=p.loading||p.success||p.error,C=!!d&&Ia(d,!0)===n;!_&&!C&&this.store.dispatch(new hm({uid:s,pageContext:t}))})),c=this.store.pipe((0,h.Ys)(Sy(s,n)),(0,gt.h)(Ti));return(0,De.g)(()=>o.subscribe(),()=>c).pipe((0,Qt.d)({bufferSize:1,refCount:!0}))}getContentSlot(s){return this.routingService.getPageContext().pipe((0,wt.w)(t=>this.store.pipe((0,h.Ys)(((i,f)=>(0,h.P1)(pf(i),s=>{if(s)return s.slots?.[f]||{components:[]}}))(t,s)),(0,gt.h)(Ti))))}getNavigationEntryItems(s){return this.store.pipe((0,h.Ys)(E_(s)))}loadNavigationItems(s,t){this.store.dispatch(new h_({nodeId:s,items:t}))}refreshLatestPage(){this.routingService.getPageContext().pipe((0,rt.q)(1)).subscribe(s=>this.store.dispatch(new lf(s)))}refreshPageById(s){this.store.dispatch(new lf({id:s}))}refreshComponent(s,t){this.store.dispatch(new hm({uid:s,pageContext:t}))}getPageState(s){return this.store.pipe((0,h.Ys)(pf(s)))}getPageComponentTypes(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(pf(i),f=>(i=>{const f=new Set;if(i&&i.slots)for(const s of Object.keys(i.slots))for(const t of i.slots[s].components||[])f.add(t.flexType??"");return Array.from(f)})(f)))(s)))}hasPage(s,t=!1){return this.store.pipe((0,h.Ys)(ff(s)),(0,Lt.b)(n=>{(!(n.loading||n.success||n.error)||t&&!n.loading)&&(this.store.dispatch(new lf(s)),t=!1)}),(0,gt.h)(n=>!!n.hasOwnProperty("value")&&Boolean(n.success||n.error&&!n.loading)),(0,at.j)("success"),(0,we.U)(n=>!!n),(0,Rt.K)(()=>(0,D.of)(!1)))}getPage(s,t=!1){return this.hasPage(s,t).pipe((0,wt.w)(n=>n?this.getPageState(s):(0,D.of)(null)))}getPageIndex(s){return this.store.pipe((0,h.Ys)(Kp(s)))}setPageFailIndex(s,t){this.store.dispatch(new __(s,t))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(_s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const QE={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}};class Is{getScore(f){let s=0;return this.pageType&&(s+=f.type===this.pageType?1:-1),this.pageTemplate&&(s+=f.template===this.pageTemplate?1:-1),s}hasMatch(f){return this.getScore(f)>0}getPriority(f){return this.getScore(f)}}class Ra{}let Ty=(()=>{class i{constructor(s){this.translation=s}resolveBreadcrumbs({url:s,pageMetaConfig:t}){const n=t?.breadcrumb;return n?"string"!=typeof n&&n.raw?(0,D.of)([{link:s,label:n.raw}]):this.translateBreadcrumbLabel(n).pipe((0,we.U)(o=>[{label:o,link:s}])):(0,D.of)([])}translateBreadcrumbLabel(s){const t="string"==typeof s?s:s.i18n;return this.getParams().pipe((0,wt.w)(n=>this.translation.translate(t??"",n??{})))}getParams(){return(0,D.of)({})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ra))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qE=(()=>{class i{constructor(s,t){this.activatedRoutesService=s,this.injector=t,this.routes$=this.activatedRoutesService.routes$.pipe((0,we.U)(n=>n.slice(1,n.length))),this.routesWithExtras$=this.routes$.pipe((0,we.U)(n=>n.reduce((o,c)=>{const d=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(Ty),url:""},p=this.getResolver(c)??d.resolver,_=this.getUrlPart(c);return o.concat({route:c,resolver:p,url:d.url+(_?`/${_}`:"")})},[])),(0,Qt.d)({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(s){return this.routesWithExtras$.pipe((0,we.U)(t=>s?.includeCurrentRoute?t:this.trimCurrentRoute(t)),(0,wt.w)(t=>t.length?(0,I.aj)(t.map(n=>this.resolveRouteBreadcrumb(n))):(0,D.of)([])),(0,we.U)(t=>t.flat()))}getResolver(s){const t=this.getPageMetaConfig(s);return"string"!=typeof t&&t?.resolver?this.injector.get(t.resolver,null):null}resolveRouteBreadcrumb({route:s,resolver:t,url:n}){return"function"==typeof t.resolveBreadcrumbs?t.resolveBreadcrumbs({route:s,url:n,pageMetaConfig:this.getPageMetaConfig(s)}):(0,D.of)([])}trimCurrentRoute(s){let t=s.length-1;for(;0===s[t]?.route?.url.length&&t>=0;)t--;return s.slice(0,t)}getUrlPart(s){return s.url.map(t=>t.path).join("/")}getPageMetaConfig(s){return s?.routeConfig?.data?.cxPageMeta}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(zl),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),by=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),My=(()=>{class i{constructor(s,t){this.pageMetaConfig=s,this.winRef=t}getCanonicalUrl(s,t){const n={...this.pageMetaConfig?.pageMeta?.canonicalUrl,...s};return this.buildCanonicalUrl(t??this.winRef.location.href??"",n)}buildCanonicalUrl(s,t){return t.forceHttps&&(s=s.replace(/^http(?!s):/i,"https:")),t.forceWww&&(s=s.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),t.removeQueryParams&&(s=this.removeQueryParams(s,t)),t.forceTrailingSlash&&(s=s.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),s}removeQueryParams(s,t){const n=s.indexOf("?");if(n>-1){const o=s.substr(0,n),c=new URLSearchParams(s.substr(n));s=o,Array.isArray(t.removeQueryParams)&&(t.removeQueryParams.forEach(d=>{c.delete(d)}),c.toString().length>0&&(s=`${o}?${c.toString()}`))}return s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(by),e.LFG(Ya))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jp=(()=>{class i{constructor(s,t,n,o,c){this.cmsService=s,this.translation=t,this.routingPageMetaResolver=n,this.router=o,this.pageLinkService=c,this.page$=(0,M.P)(()=>this.cmsService.getCurrentPage()).pipe((0,gt.h)(d=>Boolean(d))),this.title$=this.page$.pipe((0,we.U)(d=>d.title)),this.description$=this.page$.pipe((0,we.U)(d=>d.description)),this.robots$=this.page$.pipe((0,we.U)(d=>d.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe((0,we.U)(d=>[{label:d,link:"/"}])),this.breadcrumb$=(0,I.aj)([this.homeBreadcrumb$,(0,M.P)(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe((0,we.U)(d=>d.flat()),(0,Qt.d)({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(s){return this.router.events.pipe((0,gt.h)(t=>t instanceof qt.m2),(0,zt.O)(null),(0,we.U)(()=>this.pageLinkService.getCanonicalUrl(s)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hf),e.LFG(Ra),e.LFG(qE),e.LFG(qt.F0),e.LFG(My))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xy=(()=>{class i extends Is{constructor(s){super(),this.basePageMetaResolver=s,this.pageType=jn.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Jp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wy=(()=>{class i{static forRoot(){return{ngModule:i,providers:[co(QE)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:Is,useExisting:xy,multi:!0}]}),i})();function Iy(i=0,f){return s=>{let t=[];return s.pipe((0,Lt.b)(n=>t.push(n)),(0,Yt.b)(i,f),(0,we.U)(()=>t),(0,Lt.b)(()=>t=[]))}}function Sm(i){return f=>i.pipe((0,zt.O)(void 0),(0,St.c)(f))}var Em=(()=>{return(i=Em||(Em={})).DEFER="DEFERRED-LOADING",i.INSTANT="INSTANT-LOADING",Em;var i})();let Dm=(()=>{class i extends vs{}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),t0=(()=>{class i extends Dm{}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),b_=(()=>{class i{constructor(s){this.cmsDataConfig=s}mergePageStructure(s,t){return this.mergePage(s,t).pipe((0,wt.w)(n=>this.mergeSlots(n)))}shouldIgnoreBackend(s){return this.getPageFromConfig(s).pipe((0,we.U)(t=>!!t&&!!t.ignoreBackend))}getComponentFromConfig(s){return(0,D.of)(this.getComponentById(s))}getComponentsFromConfig(s){return(0,D.of)(s.map(t=>this.getComponentById(t)))}getPageFromConfig(s){return(0,D.of)(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(t=>t.pageId===s):void 0)}mergePage(s,t){return this.getPageFromConfig(s).pipe((0,wt.w)(n=>n?(t.page||(t.page={...n},t.page.slots={}),t.page.slots||(t.page.slots={}),this.mergeSlots(t,n.slots)):(0,D.of)(t)))}mergeSlots(s,t){if(!t&&this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.slots&&(t=this.cmsDataConfig.cmsStructure.slots),!t)return(0,D.of)(s);for(const n of Object.keys(t))if(s.page?.slots&&!Object.keys(s.page.slots).includes(n)){s.page.slots[n]={};for(const o of this.getComponentsByPosition(t,n))s.page.slots[n].components||(s.page.slots[n].components=[]),s.page.slots[n].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),s.components||(s.components=[]),s.components.push(o)}return(0,D.of)(s)}getComponentsByPosition(s,t){const n=[];if(s[t]&&s[t].componentIds)for(const o of s[t].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){const c=this.cmsDataConfig.cmsStructure.components[o];c&&n.push({uid:o,...c})}return n}getComponentById(s){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[s]:void 0}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(t0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class M_{}let x_=(()=>{class i{constructor(s,t,n){this.cmsStructureConfigService=s,this.cmsComponentAdapter=t,this.config=n}get(s,t){return this.cmsStructureConfigService.getComponentFromConfig(s).pipe((0,wt.w)(n=>n?(0,D.of)(n):this.cmsComponentAdapter.load(s,t)))}getList(s,t){return this.cmsStructureConfigService.getComponentsFromConfig(s).pipe((0,wt.w)(n=>{const o=n.reduce((c,d,p)=>(void 0===d&&c.push(s[p]),c),[]);if(o.length>0){const c=this.config.componentsLoading?.pageSize||o.length,d=Math.ceil(o.length/c),p=[];let _=0;for(;_<d;)p.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(_*c,(_+1)*c),t)),_++;return Ne(...p).pipe((0,we.U)(C=>[...n.filter(Boolean)].concat(...C)))}return(0,D.of)(n)}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(b_),e.LFG(M_),e.LFG(Dm))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ry=(()=>{class i{constructor(s,t){this.actions$=s,this.cmsComponentConnector=t,this.contextChange$=this.actions$.pipe((0,Ke.l4)(ys,ms,Ai)),this.loadComponent$=(0,Ke.GW)(()=>({scheduler:n,debounce:o=0}={})=>this.actions$.pipe((0,Ke.l4)(so),(0,Jt.v)(c=>Ia(c.payload.pageContext)),(0,ke.zg)(c=>c.pipe(Iy(o,n),(0,ke.zg)(d=>this.loadComponentsEffect(d.map(p=>p.payload.uid),d[0].payload.pageContext??{id:""})))),Sm(this.contextChange$)))}loadComponentsEffect(s,t){return this.cmsComponentConnector.getList(s,t).pipe((0,wt.w)(n=>{const o=[],c=new Set(s);for(const d of n)o.push(new d_({component:d,uid:d.uid,pageContext:t})),c.delete(d.uid??"");return c.forEach(d=>{o.push(new l_({uid:d,pageContext:t}))}),(0,Ze.D)(o)}),(0,Rt.K)(n=>(0,Ze.D)(s.map(o=>new l_({uid:o,error:Fn(n),pageContext:t})))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(x_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const w_=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:"[^/]*"}],Fy=[...w_,{replace:/\?/g,with:"[^/]"}],I_=[...w_,{replace:/\?/g,with:"\\?"}];function Ny(i,f=!1){const s=f?I_:Fy,t=i.split("/").reverse();let n="";for(;t.length>0;){const o=t.pop();"**"===o?n+=t.length>0?"(?:.+\\/)?":".*":(n+=s.reduce((d,p)=>d?.replace(p.replace,p.with),o),t.length>0&&(n+="\\/"))}return n}let n0=(()=>{class i{getValidator(s){const t=function ky(i){return i.map(f=>{const s=!f.startsWith("!");return{positive:s,regex:`^${Ny(f=s?f:f.substr(1))}$`}})}(s).map(({positive:c,regex:d})=>({positive:c,regex:new RegExp(d)})),n=t.filter(c=>c.positive),o=t.filter(c=>!c.positive);return c=>n.some(d=>d.regex.test(c))&&!o.some(d=>d.regex.test(c))}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_c=(()=>{class i{constructor(s){this.globService=s}getFalsy(){return function(){return null}}getFromPaths(s){const t=s.map(o=>this.getFromPath(o)),n=this.getCombined(t);return(0,e.X6Q)()&&(n._paths=s),n}getCombined(s){const t=function(o,c,d){for(let p=0;p<s.length;p++){const _=s[p](o,c,d);if(_)return _}return null};return(0,e.X6Q)()&&(t._matchers=s),t}getFromPath(s=""){const t=function(o,c,d){if(""===s)return"full"===d.pathMatch&&(c.hasChildren()||o.length>0)?null:{consumed:[],posParams:{}};const p=s.split("/");if(p.length>o.length||"full"===d.pathMatch&&(c.hasChildren()||p.length<o.length))return null;const _={};for(let C=0;C<p.length;C++){const S=p[C],O=o[C];if(S.startsWith(":"))_[S.substring(1)]=O;else if(S!==O.path)return null}return{consumed:o.slice(0,p.length),posParams:_}};return(0,e.X6Q)()&&(t._path=s),t}getOpposite(s){const t=function(o,c,d){return s(o,c,d)?null:{consumed:o,posParams:{}}};return(0,e.X6Q)()&&(t._originalMatcher=s),t}getFromGlob(s){const t=this.globService.getValidator(s),n=function(c){const d=`/${c.map(p=>p.path).join("/")}`;return t(d)?{consumed:c,posParams:{}}:null};return(0,e.X6Q)()&&(n._globPatterns=s),n}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(n0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cA=(()=>{class i{constructor(s,t,n){this.injector=s,this.routingConfigService=t,this.urlMatcherService=n,this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){const s=this.injector.get(qt.F0);s.resetConfig(this.configureRoutes(s.config))}configureRoutes(s){return s.map(t=>{const n=this.configureRoute(t);return t.children&&t.children.length&&(n.children=this.configureRoutes(t.children)),n})}configureRoute(s){const t=this.getRouteName(s);if(t){const n=this.routingConfigService.getRouteConfig(t);return this.validateRouteConfig(n,t,s),n?.disabled?(delete s.path,{...s,matcher:this.urlMatcherService.getFalsy()}):n?.matchers?(delete s.path,{...s,matcher:this.resolveUrlMatchers(s,n?.matchers)}):1===n?.paths?.length?(delete s.matcher,{...s,path:n?.paths[0]}):(delete s.path,{...s,matcher:this.urlMatcherService.getFromPaths(n?.paths||[])})}return s}resolveUrlMatchers(s,t){const n=t?.map(o=>"function"==typeof o?o:this.resolveUrlMatcherFactory(s,o))??[];return this.urlMatcherService.getCombined(n)}resolveUrlMatcherFactory(s,t){return this.injector.get(t)(s)}getRouteName(s){return s.data&&s.data.cxRoute}validateRouteConfig(s,t,n){if((0,e.X6Q)()){if(null===s||null===s?.paths||s?.matchers)return;if(!s?.paths)return void this.warn(`Could not configure the named route '${t}'`,n,"due to undefined config or undefined 'paths' property for this route")}}warn(...s){(0,e.X6Q)()&&console.warn(...s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(e.zs3),e.LFG($u),e.LFG(_c))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uA=(()=>{class i{constructor(s){this.urlService=s}transform(s){return this.urlService.transform(s)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(ha,16))},i.\u0275pipe=e.Yjl({name:"cxUrl",type:i,pure:!0}),i})(),By=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Ct.ez]}),i})(),Gy=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),lA=(()=>{class i{constructor(s,t){this.winRef=s,this.platformId=t}canActivate(s,t){return(0,Ct.NF)(this.platformId)&&this.redirect(s,t),!1}redirect(s,t){const n=this.winRef.nativeWindow;n&&n.location&&(n.location.href=t.url)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ya),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Cn(i){return()=>{i.addRoutes()}}let r0=(()=>{class i{constructor(s,t,n){this.config=s,this.urlMatcherService=t,this.injector=n}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){const s=this.injector.get(qt.F0),t=this.getRoutes();t.length&&s.resetConfig([...t,...s.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];const s=[];return s.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[lA],component:{}}),s}getUrlMatcher(){const s=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Gy),e.LFG(_c),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),o0=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,multi:!0,useFactory:Cn,deps:[r0]}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const Hy="__HOMEPAGE__",bl="smartedit-preview";let Qp=(()=>{class i{constructor(s,t){this.config=s,this.urlParsingService=t,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(n=>this.getSegments(n)))}get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}isUrlProtected(s){return this.shouldProtect&&!this.matchAnyPath(s,this.nonProtectedPaths)}matchAnyPath(s,t){return t.some(n=>this.matchPath(s,n))}matchPath(s,t){return this.urlParsingService.matchPath(s,t)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((s,t)=>!1===t.protected&&t.paths&&t.paths.length?s.concat(t?.paths??[]):s,[])}getSegments(s){return(s||"").split("/")}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Bh),e.LFG($l))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Am=(()=>{class i{constructor(s,t){this.service=s,this.authGuard=t}canActivate(s){let t=s.url.map(n=>n.path);return t=t.length?t:[""],this.service.isUrlProtected(t)?this.authGuard.canActivate():(0,D.of)(!0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Qp),e.LFG(yv))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fA=[(()=>{class i{constructor(s,t){this.actions$=s,this.router=t,this.clearCmsRoutes$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ys,ms,Ai),(0,Lt.b)(()=>{const n=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));n.length!==this.router.config.length&&this.router.resetConfig(n)})),{dispatch:!1})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(qt.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],Vy={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function s0(i=Vy,f){switch(f.type){case Nn.tE:return{...i,nextState:f.payload.routerState,navigationId:f.payload.event.id};case Nn.eU:case Nn.fb:return{...i,nextState:void 0};case Ff:return i.nextState?{...i,nextState:{...i.nextState,context:f.payload}}:i;case Nn.CE:return{state:{...f.payload.routerState,context:i.nextState?.context??f.payload.routerState.context},navigationId:f.payload.event.id,nextState:void 0};default:return i}}const R_=new e.OlP("RouterReducers"),$y={provide:R_,useFactory:function jy(){return{router:s0}}};let zy=(()=>{class i{constructor(s){this.routingConfig=s}serialize(s){let o,c,t=s.root,n=!1,d="";for(;t.firstChild;)t=t.firstChild,d+="/"+t.url.map(_=>_.path).join("/"),t.data?.cxRoute&&(c=t.data?.cxRoute),t.data&&t.data.cxCmsRouteContext&&(o=t.data.cxCmsRouteContext),!n&&(o||t.routeConfig&&t.routeConfig.canActivate&&t.routeConfig.canActivate.find(_=>_&&"CmsPageGuard"===_.guardName))&&(n=!0);c=c||this.lookupSemanticRoute(d);const{params:p}=t;return t.url.length>0&&"cx-preview"===t.url[0].path?o={id:bl,type:jn.CONTENT_PAGE}:p.productCode?o={id:p.productCode,type:jn.PRODUCT_PAGE}:p.categoryCode?o={id:p.categoryCode,type:jn.CATEGORY_PAGE}:p.brandCode?o={id:p.brandCode,type:jn.CATEGORY_PAGE}:void 0!==t.data.pageLabel?o={id:t.data.pageLabel,type:jn.CONTENT_PAGE}:o||(o=t.url.length>0?{id:"/"+t.url.map(C=>C.path).join("/"),type:jn.CONTENT_PAGE}:{id:Hy,type:jn.CONTENT_PAGE}),{url:s.url,queryParams:s.root.queryParams,params:p,context:o,cmsRequired:n,semanticRoute:c}}lookupSemanticRoute(s){return this.routingConfig.getRouteName(s.substr(1))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($u))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function Yy(i){return()=>i.init()}let a0=(()=>{class i{static forRoot(){return{ngModule:i,providers:[$y,{provide:Nn.GC,useClass:zy},{provide:e.ip1,useFactory:Yy,deps:[cA],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Aw.forFeature(Vl,R_),Ke.sQ.forFeature(fA),Nn.Qi.forRoot({routerState:1,stateKey:Vl})]}),i})();const u0=new e.OlP("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>function c0(i,f){return t=>{const o=i.getRouteConfig(t.data&&t.data.cxRoute);return f.getFromPaths(o&&o.paths||[])}}((0,e.f3M)($u),(0,e.f3M)(_c))});let qp=(()=>{class i{constructor(s,t,n){this.actions$=s,this.cmsComponentConnector=t,this.routingService=n,this.loadNavigationItems$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Au),(0,we.U)(o=>o.payload),(0,we.U)(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),(0,ke.zg)(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe((0,gt.h)(Ti),(0,we.U)(c=>c.state.context),(0,rt.q)(1),(0,ke.zg)(c=>this.cmsComponentConnector.getList(o.ids.componentIds,c).pipe((0,we.U)(d=>new m_({nodeId:o.nodeId,components:d})),(0,Rt.K)(d=>(0,D.of)(new g_(o.nodeId,Fn(d))))))):(0,D.of)(new g_(o.nodeId,"navigation nodes are empty")))))}getIdListByItemType(s){const t=[],n=[],o=[];return s.forEach(c=>{"AbstractCMSComponent"===c.superType?n.push(c.id):"AbstractPage"===c.superType?t.push(c.id):"AbstractMedia"===c.superType&&o.push(c.id)}),{pageIds:t,componentIds:n,mediaIds:o}}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(x_),e.LFG(_s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class Zy{}let l0=(()=>{class i{constructor(s,t){this.cmsPageAdapter=s,this.cmsStructureConfigService=t}get(s){return this.cmsStructureConfigService.shouldIgnoreBackend(s.id).pipe((0,wt.w)(t=>t?(0,D.of)({}):this.cmsPageAdapter.load(s).pipe((0,Rt.K)(n=>n instanceof Tt.UA&&400===n.status?(0,D.of)({}):(0,$._)(n)))),(0,wt.w)(t=>this.mergeDefaultPageStructure(s,t)))}mergeDefaultPageStructure(s,t){return this.cmsStructureConfigService.mergePageStructure(s.id,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Zy),e.LFG(b_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Tm=[(()=>{class i{constructor(s,t,n){this.actions$=s,this.cmsPageConnector=t,this.routingService=n,this.refreshPage$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ys,ms,Ai),(0,wt.w)(()=>this.routingService.getRouterState().pipe((0,gt.h)(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),(0,rt.q)(1),(0,we.U)(o=>o.state.context),(0,ke.zg)(o=>(0,D.of)(new lf(o))))))),this.loadPageData$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Cy),(0,we.U)(o=>o.payload),(0,Jt.v)(o=>Ia(o)),(0,ke.zg)(o=>o.pipe((0,wt.w)(c=>this.cmsPageConnector.get(c).pipe((0,ke.zg)(d=>{const p=[new f_((d.components??[]).map(C=>({component:C,pageContext:c}))),new xs(c,d.page??{})],_=d.page?.label;return _&&_!==c.id&&p.unshift(new ws({id:_,type:c.type},d.page??{})),p}),(0,Rt.K)(d=>(0,D.of)(new ta(c,Fn(d))))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(l0),e.LFG(_s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Ry,qp],Wy={component:void 0,pageContext:{}};function Xp(i,f){switch(f.type){case Zp:return!1;case pm:case fm:return!0}return i}function Ky(i=Wy,f){switch(f.type){case so:{const s=xr(f.meta.entityType,Xp),t=Ia(f.payload.pageContext,!0);return{...i,pageContext:{...i.pageContext,[t]:s(i.pageContext[t],f)}}}case Zp:{const s=xr(f.meta.entityType,Xp),t=Ia(f.payload.pageContext,!0);return{...i,pageContext:{...i.pageContext,[t]:s(i.pageContext[t],f)}}}case fm:{const s=xr(f.meta.entityType,Xp),t=Ia(f.payload.pageContext,!0);return{...i,component:f.payload.component,pageContext:{...i.pageContext,[t]:s(i.pageContext[t],f)}}}case pm:{const s=xr(f.meta.entityType,Xp);if(!Array.isArray(f.payload)){const t=Ia(f.payload.pageContext,!0);return{...i,component:f.payload.component,pageContext:{...i.pageContext,[t]:s(i.pageContext[t],f)}}}}}return i}function eh(i,f){if(f.type===p_&&f.payload.components){const t=f.payload.components.reduce((n,o)=>({...n,[`${o.uid}_AbstractCMSComponent`]:o}),{});return{...i,...t}}return i}const th={entities:{}};function f0(i=th,f){if(f.type===uf){const s=f.payload;return{...i,entities:{...i.entities,[s.pageId??""]:s}}}return i}function bm(i){return(f,s)=>{if(s.meta&&s.meta.entityType===i)switch(s.type){case uf:return s.payload.pageId;case Wp:return;case v_:return s.payload;case us:return s.payload.pageId}return f}}const O_=new e.OlP("CmsReducers"),qy={provide:O_,useFactory:function Qy(){return{page:(0,h.UY)({pageData:f0,index:(0,h.UY)({content:ki(jn.CONTENT_PAGE,bm(jn.CONTENT_PAGE)),product:ki(jn.PRODUCT_PAGE,bm(jn.PRODUCT_PAGE)),category:ki(jn.CATEGORY_PAGE,bm(jn.CATEGORY_PAGE)),catalog:ki(jn.CATALOG_PAGE,bm(jn.CATALOG_PAGE))})}),components:Vr(Yp,Ky),navigation:ki(zp,eh)}}},Xy=[function p0(i){return function(f,s){return(s.type===ys||s.type===ms||s.type===Ai)&&(f=void 0),i(f,s)}}];function h0(){return{state:{ssrTransfer:{keys:{cms:vr.TRANSFER_STATE}}}}}let g0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ds(h0),qy],imports:[Ct.ez,Mi,h.Aw.forFeature("cms",O_,{metaReducers:Xy}),Ke.sQ.forFeature(Tm)]}),i})(),hA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[hf,co(ZE)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g0,wy.forRoot()]}),i})();const m0=new e.OlP("CmsPageNormalizer"),v0=new e.OlP("CmsComponentNormalizer");let _0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),P_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function mf(i,f=[],s=[]){const t=(i??[]).filter(o=>!o.hasMatch||o.hasMatch(...f));if(t.length<2)return t[0];let n=-1/0;return t.reduce((o,c)=>{const d=c.getPriority?c.getPriority(...s):0;return n>d?o:(n=d,c)},void 0)}function eS(i){return(0,M.P)(()=>{let f=0;const s=new re.y(t=>{const n=()=>{t.next(),t.complete()};f?_e.E.schedule(n):n(),f++});return(0,I.aj)(i).pipe((0,Nt.U)(()=>s))})}let C0=(()=>{class i{constructor(s,t,n,o){this.cms=s,this.unifiedInjector=t,this.pageMetaConfig=n,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(Is).pipe((0,Qt.d)({bufferSize:1,refCount:!0})),this.meta$=(0,M.P)(()=>this.cms.getCurrentPage()).pipe((0,gt.h)(c=>Boolean(c)),(0,wt.w)(c=>this.getMetaResolver(c)),(0,wt.w)(c=>c?this.resolve(c):(0,D.of)(null)),(0,Qt.d)({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(s){const t=this.getResolverMethods(),n=Object.keys(t).filter(o=>s[t[o]]).map(o=>s[t[o]]().pipe((0,we.U)(c=>({[o]:c}))));return 0===n.length?(0,D.of)({}):eS(n).pipe((0,we.U)(o=>Object.assign({},...o)))}getResolverMethods(){let s={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(t=>!(0,Ct.NF)(this.platformId??"")||!t.disabledInCsr||(0,e.X6Q)()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(t=>s[t.property]=t.method),s}getMetaResolver(s){return this.resolvers$.pipe((0,we.U)(t=>mf(t,[s],[s])))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(hf),e.LFG(Ms),e.LFG(by),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Rs=(()=>{return(i=Rs||(Rs={})).INDEX="INDEX",i.NOINDEX="NOINDEX",i.FOLLOW="FOLLOW",i.NOFOLLOW="NOFOLLOW",Rs;var i})();function Cc(i){let f;return i.subscribe(s=>f=s).unsubscribe(),f}let y0=(()=>{class i{constructor(s){this.unifiedInjector=s,this.componentDecorators$=this.unifiedInjector.getMulti(_0).pipe((0,Qt.d)(1)),this.slotDecorators$=this.unifiedInjector.getMulti(P_).pipe((0,Qt.d)(1))}addAttributesToComponent(s,t,n){(Cc(this.componentDecorators$)||[]).forEach(o=>o.decorate(s,t,n))}addAttributesToSlot(s,t,n){(Cc(this.slotDecorators$)||[]).forEach(o=>o.decorate(s,t,n))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ms))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),S0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})();var Os=(()=>{return(i=Os||(Os={}))[i.UNKNOWN=-1]="UNKNOWN",i[i.BAD_REQUEST=400]="BAD_REQUEST",i[i.UNAUTHORIZED=401]="UNAUTHORIZED",i[i.FORBIDDEN=403]="FORBIDDEN",i[i.NOT_FOUND=404]="NOT_FOUND",i[i.CONFLICT=409]="CONFLICT",i[i.BAD_GATEWAY=502]="BAD_GATEWAY",i[i.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",i[i.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",Os;var i})();let Ho=(()=>{class i{constructor(s,t){this.globalMessageService=s,this.platformId=t}hasMatch(s){return s.status===this.responseStatus}isSsr(){return!!this.platformId&&!(0,Ct.NF)(this.platformId)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($i),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),E0=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},_r.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),D0=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.BAD_REQUEST}handleError(s,t){this.handleBadPassword(s,t),this.handleBadLoginResponse(s,t),this.handleValidationError(s,t),this.handleGuestDuplicateEmail(s,t),this.handleUnknownIdentifierError(s,t)}handleBadPassword(s,t){t.url?.includes("/authorizationserver/oauth/token")&&"invalid_grant"===t.error?.error&&"password"===s.body?.get("grant_type")&&(this.globalMessageService.add({key:"httpHandlers.badRequestPleaseLoginAgain",params:{errorMessage:t.error.error_description||t.message||""}},_r.MSG_TYPE_ERROR),this.globalMessageService.remove(_r.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(s,t){this.getErrors(t).filter(n=>"PasswordMismatchError"===n.type).forEach(()=>{const o=new URL(s.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},_r.MSG_TYPE_ERROR)})}handleValidationError(s,t){this.getErrors(t).filter(n=>"ValidationError"===n.type).forEach(n=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${n.reason}.${n.subject}`},_r.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(s,t){this.getErrors(t).filter(n=>"DuplicateUidError"===n.type).forEach(n=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:n.message||""}},_r.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(s,t){this.getErrors(t).filter(n=>"UnknownIdentifierError"===n.type).forEach(n=>{this.globalMessageService.add(n.message?n.message:{key:"httpHandlers.unknownIdentifier"},_r.MSG_TYPE_ERROR)})}getErrors(s){return(s.error?.errors||[]).filter(t=>"JaloObjectNoLongerValidError"!==t.type)}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),A0=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},_r.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nh=(()=>{class i extends Ho{constructor(s,t,n){super(s),this.globalMessageService=s,this.authService=t,this.occEndpoints=n,this.responseStatus=Os.FORBIDDEN}handleError(s){s.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},_r.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(s){return new(s||i)(e.LFG($i),e.LFG(Hi),e.LFG(cr))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T0=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},_r.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nS=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},_r.MSG_TYPE_ERROR)}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),b0=(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.NOT_FOUND}handleError(){}getPriority(){return-10}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oS=[{provide:Ho,useExisting:(()=>{class i extends Ho{constructor(){super(...arguments),this.responseStatus=Os.UNKNOWN}hasMatch(s){return!0}handleError(s,t){((0,e.X6Q)()||this.isSsr())&&console.warn("An unknown http error occurred\n",t.message)}getPriority(){return-50}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0},{provide:Ho,useExisting:E0,multi:!0},{provide:Ho,useExisting:D0,multi:!0},{provide:Ho,useExisting:A0,multi:!0},{provide:Ho,useExisting:nh,multi:!0},{provide:Ho,useExisting:T0,multi:!0},{provide:Ho,useExisting:nS,multi:!0},{provide:Ho,useExisting:b0,multi:!0}],x0=[{provide:Tt.TP,useExisting:(()=>{class i{constructor(s){this.unifiedInjector=s,this.handlers$=this.unifiedInjector.getMulti(Ho).pipe((0,Qt.d)(1))}intercept(s,t){return t.handle(s).pipe((0,Rt.K)(n=>(n instanceof Tt.UA&&this.handleErrorResponse(s,n),(0,$._)(n))))}handleErrorResponse(s,t){const n=this.getResponseHandler(t);n&&n.handleError(s,t)}getResponseHandler(s){return mf(Cc(this.handlers$)??[],[s])}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ms))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),multi:!0}],L_={entities:{}};function w0(i=L_,f){switch(f.type){case el:{const s=f.payload;if(void 0===i.entities[s.type])return{...i,entities:{...i.entities,[s.type]:[s.text]}};{const t=i.entities[s.type];return{...i,entities:{...i.entities,[s.type]:[...t,s.text]}}}}case kr:{const s=f.payload.type,t=f.payload.index;if(0===Object.keys(i.entities).length||!i.entities[s])return i;const n=[...i.entities[s]];return n.splice(t,1),{...i,entities:{...i.entities,[s]:n}}}case ss:{const s={...i.entities,[f.payload]:[]};return{...i,entities:s}}}return i}const F_=new e.OlP("GlobalMessageReducers"),I0={provide:F_,useFactory:function iS(){return w0}};let R0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[I0],imports:[Mi,h.Aw.forFeature(pd,F_)]}),i})();class N_{static shallowEqualObjects(f,s){if(f===s)return!0;if(!f||!s)return!1;const t=Object.keys(f),n=Object.keys(s),o=t.length;if(o!==n.length)return!1;for(let d=0;d<o;d++){const p=t[d];if(f[p]!==s[p])return!1}return!0}static deepEqualObjects(f,s){if(f===s)return!0;if(!(f instanceof Object&&s instanceof Object))return!1;if(f.constructor!==s.constructor)return!1;for(const t in f)if(f.hasOwnProperty(t)){if(!s.hasOwnProperty(t))return!1;if(f[t]!==s[t]&&("object"!=typeof f[t]||!this.deepEqualObjects(f[t],s[t])))return!1}for(const t in s)if(s.hasOwnProperty(t)&&!f.hasOwnProperty(t))return!1;return!0}static countOfDeepEqualObjects(f,s){return s.reduce((t,n)=>(this.deepEqualObjects(f,n)&&t++,t),0)}static indexOfFirstOccurrence(f,s){for(let t=0;t<s.length;t++)if(this.deepEqualObjects(s[t],f))return t}}let k_=(()=>{class i{constructor(s,t,n,o){this.actions$=s,this.store=t,this.config=n,this.platformId=o,this.removeDuplicated$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(el),(0,at.j)("payload"),(0,wt.w)(c=>(0,D.of)(c.text).pipe((0,Wt.M)(this.store.pipe((0,h.Ys)(ag(c.type)))),(0,gt.h)(([d,p])=>N_.countOfDeepEqualObjects(d,p)>1),(0,we.U)(([d,p])=>{const _=N_.indexOfFirstOccurrence(d,p);if(void 0!==_)return new Es({type:c.type,index:_})}),(0,gt.h)(Ti))))),this.hideAfterDelay$=(0,Ke.GW)(()=>(0,Ct.NF)(this.platformId)?this.actions$.pipe((0,Ke.l4)(el),(0,at.j)("payload"),(0,bt.b)(c=>{const d=this.config.globalMessages?.[c.type];return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(ag(i),f=>f&&f.length))(c.type)),(0,rt.q)(1),(0,gt.h)(p=>(d&&void 0!==d.timeout||void 0!==c.timeout)&&p>0),(0,an.g)(c.timeout||d?.timeout),(0,wt.w)(()=>(0,D.of)(new Es({type:c.type,index:0}))))})):()=>G.E)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(h.yh),e.LFG(S0),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const O0={globalMessages:{[_r.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[_r.MSG_TYPE_INFO]:{timeout:3e3},[_r.MSG_TYPE_ERROR]:{timeout:7e3},[_r.MSG_TYPE_WARNING]:{timeout:7e3},[_r.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}};let sS=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...oS,...x0]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[co(O0)],imports:[R0,Ke.sQ.forFeature([k_])]}),i})(),U_=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:function(s){let t=null;return t=s?new(s||i):e.LFG(ao),t},providedIn:"root"}),i})(),P0=(()=>{class i{constructor(s){this.configInit=s,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>this.resolveConfig().toPromise()}resolveConfig(){return this.configInit.getStable("context.language").pipe((0,we.U)(s=>({i18n:{fallbackLang:s?.context?.language?.[0]}})))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(os))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),L0=(()=>{class i extends Ct.uU{constructor(s){super(""),this.language=s}transform(s,t,n){return super.transform(s,t,n,this.getLang())}getLang(){const s=this.getActiveLang();try{return(0,Ct.wM)(s),s}catch{return this.reportMissingLocaleData(s),"en"}}getActiveLang(){let s="";return this.language.getActive().subscribe(t=>s=t).unsubscribe(),s}reportMissingLocaleData(s){(0,e.X6Q)()&&console.warn(`cxDate pipe: No locale data registered for '${s}' (see https://angular.io/api/common/registerLocaleData).`)}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(xa,16))},i.\u0275pipe=e.Yjl({name:"cxDate",type:i,pure:!0}),i})();const F0={i18n:{fallbackLang:void 0,debug:!1}};let U0=(()=>{class i{init(s,t){this.sub=this.sub??t.getActive().subscribe(n=>s.changeLanguage(n))}ngOnDestroy(){this.sub?.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function aS(i){return(f,s,t,n)=>{i.get(s,{responseType:"text"}).subscribe(o=>n(null,{status:200,data:o}),o=>n(o,{data:null,status:o.status}))}}function cS(i,f){return f&&!i.match(/^http(s)?:\/\//)?(i.startsWith("/")&&(i=i.slice(1)),i.startsWith("./")&&(i=i.slice(2)),`${f}/${i}`):i}const uS=new e.OlP("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>Dr.createInstance()}),B0=[{provide:e.ip1,useFactory:function N0(i,f,s,t,n,o){return()=>f.getStable("i18n").pipe((0,Lt.b)(c=>{let d={ns:[],fallbackLng:c.i18n?.fallbackLang,debug:c.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};if(c.i18n?.backend?.loadPath){i=i.use(yr);const _={loadPath:cS(c.i18n.backend.loadPath,n),request:aS(t),reloadInterval:!1};d={...d,backend:_}}return i.init(d,()=>{(function k0(i,f={}){Object.keys(f).forEach(s=>{Object.keys(f[s]).forEach(t=>{i.addResourceBundle(s,t,f[s][t],!0,!0)})})})(i,c.i18n?.resources),o.init(i,s)})})).toPromise()},deps:[uS,os,xa,Tt.eN,[new e.FiY,Fh],U0],multi:!0}];let B_=(()=>{class i{constructor(s){this.config=s,this.duplicates={},this.chunks={},this.KEY_SEPARATOR=".";const t=s.i18n&&s.i18n.chunks||{};Object.keys(t).forEach(n=>{t[n].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(n)):this.chunks[o]=n})}),Object.keys(this.duplicates).length>0&&(0,e.X6Q)()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(s){const t=(s||"").split(this.KEY_SEPARATOR)[0];return this.chunks&&this.chunks[t]||t}warnDuplicates(s){const t=[];Object.keys(s).forEach(n=>{t.push(`* '${n}' found in chunks: ${s[n].join(", ")}. Used '${this.chunks[n]}.${n}'.`)}),console.warn(`Duplicated keys has been found in the config of i18n chunks:\n${t.join("\n")}`)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(U_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G0=(()=>{class i{constructor(s,t,n){this.config=s,this.translationChunk=t,this.i18next=n,this.NON_BREAKING_SPACE=String.fromCharCode(160),this.NAMESPACE_SEPARATOR=":"}translate(s,t={},n=!1){const o=this.translationChunk.getChunkNameForKey(s),c=this.getNamespacedKey(s,o);return new re.y(d=>{const p=()=>{!this.i18next.isInitialized||(this.i18next.exists(c,t)?d.next(this.i18next.t(c,t)):(n&&d.next(this.NON_BREAKING_SPACE),this.i18next.loadNamespaces(o,()=>{this.i18next.exists(c,t)?d.next(this.i18next.t(c,t)):(this.reportMissingKey(s,o),d.next(this.getFallbackValue(c)))})))};return p(),this.i18next.on("languageChanged",p),()=>this.i18next.off("languageChanged",p)})}loadChunks(s){return this.i18next.loadNamespaces(s)}getFallbackValue(s){return(0,e.X6Q)()?`[${s}]`:this.NON_BREAKING_SPACE}reportMissingKey(s,t){(0,e.X6Q)()&&console.warn(`Translation key missing '${s}' in the chunk '${t}'`)}getNamespacedKey(s,t){return t+this.NAMESPACE_SEPARATOR+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(U_),e.LFG(B_),e.LFG(uS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),H0=(()=>{class i{constructor(s,t){this.service=s,this.cd=t}transform(s,t={}){if(!s)return(0,e.X6Q)()&&console.error(`The given input for the cxTranslate pipe (${s}) is invalid and cannot be translated`),"";if(s.raw)return s.raw??"";const n="string"==typeof s?s:s.key;return"string"!=typeof s&&(t={...t,...s.params}),this.translate(n,t),this.translatedValue}translate(s,t){(s!==this.lastKey||!N_.shallowEqualObjects(t,this.lastOptions))&&(this.lastKey=s,this.lastOptions=t,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(s,t,!0).subscribe(n=>this.markForCheck(n)))}markForCheck(s){this.translatedValue=s,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.Y36(Ra,16),e.Y36(e.sBO,16))},i.\u0275pipe=e.Yjl({name:"cxTranslate",type:i,pure:!1}),i})();function V0(i,f){return void 0!==f?.i18n?.fallbackLang?null:i}let Mm=(()=>{class i{static forRoot(){return{ngModule:i,providers:[co(F0),{provide:Ra,useExisting:G0},...B0,{provide:Qr,useFactory:V0,deps:[P0,U_],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),H_=(()=>{class i{translate(s,t={},n=!1){return new re.y(o=>{const c=function G_(i,f={}){const s=Object.keys(f).sort().map(t=>`${t}:${f[t]}`).join(" ");return s?`${i} ${s}`:i}(s,t);o.next(c),o.complete()})}loadChunks(s){return Promise.resolve()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),$0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:Ra,useClass:H_}]}),i})();const rh=new e.OlP("CostCenterNormalizer"),V_=new e.OlP("CostCentersListNormalizer"),j_=new e.OlP("CostCenterSerializer");var Ml;!function(i){let f;var ve;let s,t,n,o,c,d,p,_,C,S,O,j,ce,Me,Ye,Je,ot,Pt,$t,sn,At,pn,er,Cr,Ji,Sf,Mu,_h,Pa,Ef,xu,Sc,Df,Ol,iA,Ch,sA,aA,yh,PE,Sh,Jm,jC,LE,$C,Af,zC,FE,NE,tT,nT,rT,oT,iT,sT,aT,cT,uT,lT,dT,fT,pT,hT,gT,mT,vT,_T,CT,yT,ST,ET,DT,AT;(ve=f=i.PageRobots||(i.PageRobots={})).INDEX_FOLLOW="INDEX_FOLLOW",ve.NOINDEX_FOLLOW="NOINDEX_FOLLOW",ve.INDEX_NOFOLLOW="INDEX_NOFOLLOW",ve.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW",function(ve){ve.Success="SUCCESS",ve.Info="INFO",ve.Warning="WARNING",ve.Error="ERROR"}(s=i.OrderEntryStatus||(i.OrderEntryStatus={})),function(ve){ve.BUY="BUY",ve.FROM="FROM"}(t=i.PriceType||(i.PriceType={})),function(ve){ve.PRIMARY="PRIMARY",ve.GALLERY="GALLERY"}(n=i.ImageType||(i.ImageType={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(o=i.Fields||(i.Fields={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(c=i.Fields1||(i.Fields1={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(d=i.Fields2||(i.Fields2={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(p=i.Fields3||(i.Fields3={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(_=i.Fields4||(i.Fields4={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(C=i.Fields5||(i.Fields5={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(S=i.Fields6||(i.Fields6={})),function(ve){ve.CONTENT_PAGE="ContentPage",ve.PRODUCT_PAGE="ProductPage",ve.CATEGORY_PAGE="CategoryPage",ve.CATALOG_PAGE="CatalogPage"}(O=i.PageType||(i.PageType={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(j=i.Fields7||(i.Fields7={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(ce=i.Fields8||(i.Fields8={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Me=i.Fields9||(i.Fields9={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Ye=i.Fields10||(i.Fields10={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Je=i.Fields11||(i.Fields11={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(ot=i.Fields12||(i.Fields12={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Pt=i.Fields13||(i.Fields13={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}($t=i.Fields14||(i.Fields14={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(sn=i.Fields15||(i.Fields15={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(At=i.Fields16||(i.Fields16={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(pn=i.SortEnum||(i.SortEnum={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(er=i.Fields17||(i.Fields17={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Cr=i.Fields18||(i.Fields18={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Ji=i.Fields19||(i.Fields19={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Sf=i.Fields20||(i.Fields20={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Mu=i.Fields21||(i.Fields21={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(_h=i.Fields22||(i.Fields22={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Pa=i.Fields23||(i.Fields23={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Ef=i.Fields24||(i.Fields24={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(xu=i.Fields25||(i.Fields25={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Sc=i.Fields26||(i.Fields26={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Df=i.Fields27||(i.Fields27={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Ol=i.Fields28||(i.Fields28={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(iA=i.Fields29||(i.Fields29={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Ch=i.Fields30||(i.Fields30={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(sA=i.Fields31||(i.Fields31={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(aA=i.Fields32||(i.Fields32={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(yh=i.Fields33||(i.Fields33={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(PE=i.Fields34||(i.Fields34={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Sh=i.Fields35||(i.Fields35={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Jm=i.Fields36||(i.Fields36={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(jC=i.Fields37||(i.Fields37={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(LE=i.Fields38||(i.Fields38={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}($C=i.Fields39||(i.Fields39={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(Af=i.Fields40||(i.Fields40={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(zC=i.Fields41||(i.Fields41={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(FE=i.Fields42||(i.Fields42={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(NE=i.Fields43||(i.Fields43={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(tT=i.Fields44||(i.Fields44={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(nT=i.Fields45||(i.Fields45={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(rT=i.Fields46||(i.Fields46={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(oT=i.Fields47||(i.Fields47={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(iT=i.Fields48||(i.Fields48={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(sT=i.Fields49||(i.Fields49={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(aT=i.Fields50||(i.Fields50={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(cT=i.Fields51||(i.Fields51={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(uT=i.Fields52||(i.Fields52={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(lT=i.Fields53||(i.Fields53={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(dT=i.Fields54||(i.Fields54={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(fT=i.Fields55||(i.Fields55={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(pT=i.Fields56||(i.Fields56={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(hT=i.Fields57||(i.Fields57={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(gT=i.Fields58||(i.Fields58={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(mT=i.Fields59||(i.Fields59={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(vT=i.Fields60||(i.Fields60={})),function(ve){ve.BASIC="BASIC",ve.DEFAULT="DEFAULT",ve.FULL="FULL"}(_T=i.Fields61||(i.Fields61={})),function(ve){ve.All="all",ve.Product="product",ve.Order="order"}(CT=i.Type||(i.Type={})),function(ve){ve.ANONYMOUS_CONSENT_GIVEN="GIVEN",ve.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"}(yT=i.CONSENT_STATUS||(i.CONSENT_STATUS={})),function(ve){ve.BACK_IN_STOCK="BACK_IN_STOCK"}(ST=i.NotificationType||(i.NotificationType={})),function(ve){ve.DAY="DAY",ve.WEEK="WEEK",ve.MONTH="MONTH",ve.QUARTER="QUARTER",ve.YEAR="YEAR"}(ET=i.Period||(i.Period={})),function(ve){ve.MONDAY="MONDAY",ve.TUESDAY="TUESDAY",ve.WEDNESDAY="WEDNESDAY",ve.THURSDAY="THURSDAY",ve.FRIDAY="FRIDAY",ve.SATURDAY="SATURDAY",ve.SUNDAY="SUNDAY"}(DT=i.DaysOfWeek||(i.DaysOfWeek={})),function(ve){ve.APPROVE="APPROVE",ve.REJECT="REJECT"}(AT=i.OrderApprovalDecisionValue||(i.OrderApprovalDecisionValue={}))}(Ml||(Ml={}));let z0=(()=>{class i{convert(s,t={}){return this.normalizePageData(s,t),this.normalizePageSlotData(s,t),this.normalizePageComponentData(s,t),this.normalizeComponentData(s,t),t}normalizePageData(s,t){if(!s)return;const n={};s.name&&(n.name=s.name),s.typeCode&&(n.type=s.typeCode),s.label&&(n.label=s.label),s.template&&(n.template=s.template),s.uid&&(n.pageId=s.uid),s.title&&(n.title=s.title),s.description&&(n.description=s.description),s.properties&&(n.properties=s.properties),this.normalizeRobots(s,n),t.page=n}normalizePageSlotData(s,t){if(s?.contentSlots){s.contentSlots.contentSlot&&!Array.isArray(s.contentSlots.contentSlot)&&(s.contentSlots.contentSlot=[s.contentSlots.contentSlot]),t.page=t.page??{},t.page.slots={};for(const n of s.contentSlots.contentSlot??[])n.position&&(t.page.slots[n.position]={},n.properties&&(t.page.slots[n.position].properties=n.properties))}}normalizePageComponentData(s,t){if(s?.contentSlots?.contentSlot)for(const n of s.contentSlots.contentSlot)if(Array.isArray(n.components?.component))for(const o of n.components?.component??[]){const c={uid:o.uid,typeCode:o.typeCode};if(o.properties&&(c.properties=o.properties),c.flexType="CMSFlexComponent"===o.typeCode?o.flexType:"JspIncludeComponent"===o.typeCode?o.uid:o.typeCode,n.position){let d=t.page?.slots?.[n.position];d&&(d.components||(d.components=[]),d.components.push(c))}}}normalizeComponentData(s,t){if(s?.contentSlots?.contentSlot)for(const n of s.contentSlots.contentSlot)if(Array.isArray(n.components?.component))for(const o of n.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),t.components||(t.components=[]),t.components.push(o)}normalizeRobots(s,t){const n=[];if(s.robotTag)switch(s.robotTag){case Ml.PageRobots.INDEX_FOLLOW:n.push(Rs.INDEX),n.push(Rs.FOLLOW);break;case Ml.PageRobots.NOINDEX_FOLLOW:n.push(Rs.NOINDEX),n.push(Rs.FOLLOW);break;case Ml.PageRobots.INDEX_NOFOLLOW:n.push(Rs.INDEX),n.push(Rs.NOFOLLOW);break;case Ml.PageRobots.NOINDEX_NOFOLLOW:n.push(Rs.NOINDEX),n.push(Rs.NOFOLLOW)}t.robots=n}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Do=(()=>{class i{constructor(s){this.unifiedInjector=s,this.subscriptions=new J.w,this.converters=new Map;const t=this.unifiedInjector.injectors$.pipe((0,Lt.b)(()=>this.converters.clear()));this.subscriptions.add(t.subscribe())}getConverters(s){if(!this.converters.has(s)){const t=Cc(this.unifiedInjector.getMulti(s));t&&this.converters.set(s,t)}return this.converters.get(s)}hasConverters(s){const t=this.getConverters(s);return Array.isArray(t)&&t.length>0}pipeable(s){return this.hasConverters(s)?(0,we.U)(t=>this.convertSource(t,s)):t=>t}pipeableMany(s){return this.hasConverters(s)?(0,we.U)(t=>this.convertMany(t,s)):t=>t}convert(s,t){return this.hasConverters(t)?this.convertSource(s,t):s}convertMany(s,t){return this.hasConverters(t)&&Array.isArray(s)?s.map(n=>this.convertSource(n,t)):s}convertSource(s,t){return this.getConverters(t)?.reduce((n,o)=>o.convert(s,n),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ms))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),lS=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n,this.headers=(new Tt.WM).set("Content-Type","application/json")}load(s,t){return this.http.get(this.getComponentEndPoint(s,t),{headers:this.headers}).pipe(this.converter.pipeable(v0))}findComponentsByIds(s,t,n="DEFAULT",o=0,c=s.length,d){const p={...this.getContextParams(t),...this.getPaginationParams(o,c,d)};return p.componentIds=s.toString(),this.http.get(this.getComponentsEndpoint(p,n),{headers:this.headers}).pipe((0,at.j)("component"),(0,we.U)(_=>_??[]),this.converter.pipeableMany(v0))}getComponentEndPoint(s,t){return this.occEndpoints.buildUrl("component",{urlParams:{id:s},queryParams:this.getContextParams(t)})}getComponentsEndpoint(s,t){return this.occEndpoints.buildUrl("components",{queryParams:{fields:t,...s}})}getPaginationParams(s,t,n){const o={};return void 0!==s&&(o.currentPage=s.toString()),void 0!==t&&(o.pageSize=t.toString()),void 0!==n&&(o.sort=n),o}getContextParams(s){let t={};switch(s.type){case jn.PRODUCT_PAGE:t={productCode:s.id};break;case jn.CATEGORY_PAGE:t={categoryCode:s.id};break;case jn.CATALOG_PAGE:t={catalogCode:s.id}}return t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$_=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n,this.headers=(new Tt.WM).set("Content-Type","application/json")}load(s){const t=this.getPagesRequestParams(s),n=s.type?this.occEndpoints.buildUrl("pages",{queryParams:t}):this.occEndpoints.buildUrl("page",{urlParams:{id:s.id}});return this.http.get(n,{headers:this.headers}).pipe(this.converter.pipeable(m0))}getPagesRequestParams(s){if(s.id===Hy||s.id===bl)return{};const t={};return s.type&&(t.pageType=s.type),s.type===jn.CONTENT_PAGE?t.pageLabelOrId=s.id:t.code=s.id,t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Y0=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:Zy,useExisting:$_},{provide:m0,useExisting:z0,multi:!0},{provide:M_,useExisting:lS}],imports:[Ct.ez]}),i})(),Z0=(()=>{class i{convert(s,t){return void 0===t&&(t={...s}),t.active=this.normalizeBoolean(s.active),t}normalizeBoolean(s){return void 0!==s&&("string"==typeof s?"true"===s:s)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fS=(()=>{class i{convert(s,t){return void 0===t&&(t={...s}),t.activeFlag=s.active,delete t.active,t}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),z_=(()=>{class i{constructor(s){this.converter=s}convert(s,t){return void 0===t&&(t={...s}),t.values=s.costCenters.map(n=>({...this.converter.convert(n,rh)})),t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const pS={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}};let hS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:V_,useExisting:z_,multi:!0},{provide:rh,useExisting:Z0,multi:!0},{provide:j_,useExisting:fS,multi:!0}],imports:[Ct.ez,a.withConfig(pS)]}),i})(),gS=(()=>{class i{constructor(s){this.config=s}convert(s,t){return void 0===t&&(t={...s}),s.images&&(t.images=this.normalize(s.images)),t}normalize(s){const t={};if(s)for(const n of s){const o=n.hasOwnProperty("galleryIndex");if(n.imageType){let c;if(t.hasOwnProperty(n.imageType)||(t[n.imageType]=o?[]:{}),o){const p=t[n.imageType];p[n.galleryIndex]||(p[n.galleryIndex]={}),c=p[n.galleryIndex]}else c=t[n.imageType];const d={...n};d.url=this.normalizeImageUrl(d.url??""),n.format&&(c[n.format]=d)}}return t}normalizeImageUrl(s){return new RegExp(/^(http|data:image|\/\/)/i).test(s)?s:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vs))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Tu=new e.OlP("ProductNormalizer");let K0=(()=>{class i{constructor(s){this.converterService=s,this.DEFAULT_TOP_VALUES=6}convert(s,t={}){return t={...t,...s},this.normalizeFacets(t),s.products&&(t.products=s.products.map(n=>this.converterService.convert(n,Tu))),t}normalizeFacets(s){this.normalizeFacetValues(s),this.normalizeUselessFacets(s)}normalizeUselessFacets(s){s.facets&&(s.facets=s.facets.filter(t=>!s.pagination||!s.pagination.totalResults||(!t.hasOwnProperty("visible")||t.visible)&&t.values&&t.values.find(n=>n.selected||(n.count??0)<(s.pagination?.totalResults??0))))}normalizeFacetValues(s){s.facets&&(s.facets=s.facets.map(t=>{const{topValues:n,...o}=t;return o.topValueCount=n&&n.length>0?n.length:this.DEFAULT_TOP_VALUES,o}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),J0=(()=>{class i{constructor(s){this.converter=s}convert(s,t=[]){return void 0===t&&(t={...s}),s&&s.references?t=s.references.map(n=>({...n,target:this.converter.convert(n.target,Tu)})):[]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Q0=(()=>{class i{constructor(s){this.config=s,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(s,t){return t=t??{...s},s.name&&(t.name=this.normalize(s.name),t.slug=this.normalizeSlug(s.name),t.nameHtml=s.name),t}normalize(s){return s.replace(/<[^>]*>/g,"")}normalizeSlug(s){return this.normalize(s).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vs))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Y_=new e.OlP("ProductReferencesListNormalizer");let vA=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}load(s,t,n){return this.http.get(this.getEndpoint(s,t,n)).pipe(this.converter.pipeable(Y_))}getEndpoint(s,t,n){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:s},queryParams:{referenceType:t,pageSize:n}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const mS=new e.OlP("ProductReviewNormalizer"),q0=new e.OlP("ProductReviewSerializer");let X0=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}load(s,t){return this.http.get(this.getEndpoint(s,t)).pipe((0,at.j)("reviews"),(0,we.U)(n=>n??[]),this.converter.pipeableMany(mS))}post(s,t){t=this.converter.convert(t,q0);const n=new Tt.WM({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",t.headline),o.append("comment",t.comment),o.append("rating",t.rating.toString()),o.append("alias",t.alias),this.http.post(this.getEndpoint(s),o.toString(),{headers:n})}getEndpoint(s,t){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:s},queryParams:{maxCount:t}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const eD=new e.OlP("ProductSearchPageNormalizer"),_A=new e.OlP("ProductSuggestionNormalizer"),tD={pageSize:20};let nD=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}search(s,t=tD){return this.http.get(this.getSearchEndpoint(s,t)).pipe(this.converter.pipeable(eD))}loadSuggestions(s,t=3){return this.http.get(this.getSuggestionEndpoint(s,t.toString())).pipe((0,at.j)("suggestions"),(0,we.U)(n=>n??[]),this.converter.pipeableMany(_A))}getSearchEndpoint(s,t){return this.occEndpoints.buildUrl("productSearch",{queryParams:{query:s,...t}})}getSuggestionEndpoint(s,t){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:s,max:t}})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function vS(i){return W_(Z_(Fr({},...i.map(t=>"string"==typeof t?ih(t):t))))}function Z_(i={}){const f=Object.keys(i);return f.includes("FULL")?(delete i.DEFAULT,delete i.BASIC):f.includes("DEFAULT")&&delete i.BASIC,Object.keys(i).forEach(s=>{i[s]=Z_(i[s])}),i}function ih(i,f=0){const s={};let t=f;for(;t<i.length;){if(","===i[t])t>f&&(s[i.substr(f,t-f)]={}),f=t+1;else if("("===i[t]){const n=ih(i,t+1);if(!Array.isArray(n))return s;s[i.substr(f,t-f)]=n[0],t=(f=n[1])-1}else if(")"===i[t])return t>f&&(s[i.substr(f,t-f)]={}),[s,t+1];t++}return f<i.length&&(s[i.substr(f,t-f)]={}),s}function W_(i){return Object.keys(i).map(f=>{const s=W_(i[f]);return s?`${f}(${s})`:f}).join(",")}function _S(i,f){return K_(i,"string"==typeof f?ih(f):f)}function K_(i,f){if(!Qi(i))return i;const s=Object.keys(f);if(0===s.length||s.find(n=>"BASIC"===n||"DEFAULT"===n||"FULL"===n))return i;const t={};return s.forEach(n=>{i.hasOwnProperty(n)&&(t[n]=K_(i[n],f[n]))}),t}let rD=(()=>{class i{constructor(s){this.http=s,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(s){const t={};for(const o of s){const[c,d]=this.splitFields(o.url??"");t[c]||(t[c]={}),o.fields=d?ih(d):{},void 0!==o.scopedData.scope&&(t[c][o.scopedData.scope]=o)}const n={};for(const[o,c]of Object.entries(t))n[this.getUrlWithFields(o,Object.values(c).map(p=>p.fields))]=c;return n}splitFields(s){const[t,n]=s.split("?"),o={};n&&n.split("&").forEach(p=>{const _=p.split("=");o[_[0]]=_[1]});const d=Object.keys(o).sort().reduce((p,_)=>(_!==this.FIELDS_PARAM&&p.push(o[_]?`${_}=${o[_]}`:_),p),[]).join("&");return[d?`${t}?${d}`:t,o[this.FIELDS_PARAM]]}getUrlWithFields(s,t){const n=vS(t);return n&&(s+=s.includes("?")?"&":"?",s+=`${this.FIELDS_PARAM}=${n}`),s}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oD=(()=>{class i{constructor(s,t){this.http=s,this.occFields=t}scopedDataLoad(s,t){const n=[];t||(t=c=>this.http.get(c));const o=this.occFields.getOptimalUrlGroups(s);return Object.entries(o).forEach(([c,d])=>{const p=Object.values(d);if(1===p.length)n.push({...p[0].scopedData,data$:t?.(c)});else{const _=t?.(c).pipe((0,Qt.d)(1));p.forEach(C=>{n.push({...C.scopedData,data$:_?.pipe((0,we.U)(S=>_S(S,C.fields)))})})}}),n}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(rD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iD=(()=>{class i{constructor(s,t,n,o){this.http=s,this.occEndpoints=t,this.converter=n,this.requestsOptimizer=o}load(s,t){return this.http.get(this.getEndpoint(s,t)).pipe(this.converter.pipeable(Tu))}loadMany(s){const t=s.map(n=>({scopedData:n,url:this.getEndpoint(n.code,n.scope)}));return this.requestsOptimizer.scopedDataLoad(t).map(n=>({...n,data$:n.data$?.pipe(this.converter.pipeable(Tu))}))}getEndpoint(s,t){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:s},scope:t})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do),e.LFG(oD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class CS{}class vf{}class J_{}class Q_{}const yS={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery",productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}};let SS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[co(yS),{provide:CS,useClass:iD},{provide:Tu,useExisting:gS,multi:!0},{provide:Tu,useExisting:Q0,multi:!0},{provide:vf,useClass:vA},{provide:Y_,useExisting:J0,multi:!0},{provide:Q_,useClass:nD},{provide:eD,useExisting:K0,multi:!0},{provide:J_,useClass:X0}],imports:[Ct.ez]}),i})(),ES=(()=>{class i{constructor(){}convert(s,t){return void 0===t&&(t={...s}),t.baseStore=s.stores?.[0],delete t.stores,t}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),DS=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpointsService=t,this.converterService=n}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe((0,we.U)(s=>s.languages??[]),this.converterService.pipeableMany(Up))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe((0,we.U)(s=>s.currencies??[]),this.converterService.pipeableMany(Qg))}loadCountries(s){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:s?{type:s}:void 0})).pipe((0,we.U)(t=>t.countries??[]),this.converterService.pipeableMany(Zv))}loadRegions(s){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:s}})).pipe((0,we.U)(t=>t.regions??[]),this.converterService.pipeableMany(Wv))}loadBaseSite(s){return s||(s=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,we.U)(t=>t.baseSites.find(n=>n.uid===s)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe((0,we.U)(s=>s.baseSites),this.converterService.pipeableMany(vu))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const sD={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=baseSites(uid,defaultLanguage(isocode),urlEncodingAttributes,urlPatterns,stores(currencies(isocode),defaultCurrency(isocode),languages(isocode),defaultLanguage(isocode)),theme,defaultPreviewCatalogId,defaultPreviewCategoryCode,defaultPreviewProductCode)"}}}};let CA=(()=>{class i{constructor(s,t,n,o){this.languageService=s,this.currencyService=t,this.occEndpoints=n,this.config=o,this.activeLang=ga(this.config,ma),this.activeCurr=ga(this.config,Cs),this.languageService.getActive().subscribe(c=>this.activeLang=c),this.currencyService.getActive().subscribe(c=>{this.activeCurr=c})}intercept(s,t){return s.url.includes(this.occEndpoints.getBaseUrl())&&(s=s.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),t.handle(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(xa),e.LFG(_u),e.LFG(cr),e.LFG(Gi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AS=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[co(sD),{provide:gu,useClass:DS},{provide:Tt.TP,useExisting:CA,multi:!0},{provide:vu,useExisting:ES,multi:!0}],imports:[Ct.ez]}),i})(),TS=(()=>{class i{constructor(s){this.anonymousConsentsService=s}convert(s){return this.anonymousConsentsService.decodeAndDeserialize(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Wa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bS=(()=>{class i{constructor(s){this.converter=s}convert(s,t){return void 0===t&&(t={...s}),s&&s.results&&(t.results=s.results.map(n=>({...n,product:this.converter.convert(n.product,Tu)}))),t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const q_=new e.OlP("ConsentTemplateNormalizer");let aD=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}loadAnonymousConsentTemplates(){const s=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(s).pipe((0,Rt.K)(t=>(0,$._)(t)),(0,we.U)(t=>t.consentTemplates??[]),this.converter.pipeableMany(q_))}loadAnonymousConsents(){const s=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(s,{observe:"response"}).pipe((0,Rt.K)(t=>(0,$._)(t)),(0,we.U)(t=>t.headers.get(ut)??""),this.converter.pipeable(c_))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const sh=new e.OlP("CustomerCouponSearchResultNormalizer");let cD=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}getCustomerCoupons(s,t,n,o){if(s===Fc)return(0,D.of)({});const c=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:s}});let d=(new Tt.LE).set("sort",o||"startDate:asc");t&&(d=d.set("pageSize",t.toString())),n&&(d=d.set("currentPage",n.toString()));const p=this.newHttpHeader();return this.http.get(c,{headers:p,params:d}).pipe(this.converter.pipeable(sh))}turnOffNotification(s,t){const n=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:s,couponCode:t}}),o=this.newHttpHeader();return this.http.delete(n,{headers:o})}turnOnNotification(s,t){const n=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:s,couponCode:t}}),o=this.newHttpHeader();return this.http.post(n,{headers:o})}claimCustomerCoupon(s,t){const n=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:s,couponCode:t}}),o=this.newHttpHeader();return this.http.post(n,{headers:o})}newHttpHeader(){return new Tt.WM({"Content-Type":"application/json"})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const ah=new e.OlP("AddressNormalizer"),na=new e.OlP("AddressesNormalizer"),xm=new e.OlP("AddressSerializer"),X_=new e.OlP("AddressValidationNormalizer");let ch=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}loadAll(s){const t=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:s}}),n=new Tt.WM({"Content-Type":"application/json"});return this.http.get(t,{headers:n}).pipe((0,Rt.K)(o=>(0,$._)(o)),(0,we.U)(o=>o.addresses??[]),this.converter.pipeableMany(ah))}add(s,t){const n=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:s}}),o=new Tt.WM({"Content-Type":"application/json"});return t=this.converter.convert(t,xm),this.http.post(n,t,{headers:o}).pipe((0,Rt.K)(c=>(0,$._)(c)))}update(s,t,n){const o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:s,addressId:t}}),c=new Tt.WM({"Content-Type":"application/json"});return n=this.converter.convert(n,xm),this.http.patch(o,n,{headers:c}).pipe((0,Rt.K)(d=>(0,$._)(d)))}verify(s,t){const n=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:s}});let o=new Tt.WM({"Content-Type":"application/json"});return s===Fc&&(o=Zl.createHeader(Uc,!0,o)),t=this.converter.convert(t,xm),this.http.post(n,t,{headers:o}).pipe((0,Rt.K)(c=>(0,$._)(c)),this.converter.pipeable(X_))}delete(s,t){const n=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:s,addressId:t}}),o=new Tt.WM({"Content-Type":"application/json"});return this.http.delete(n,{headers:o}).pipe((0,Rt.K)(c=>(0,$._)(c)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),uD=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}loadConsents(s){const t=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:s}}),n=new Tt.WM({"Cache-Control":"no-cache"});return this.http.get(t,{headers:n}).pipe((0,Rt.K)(o=>(0,$._)(o)),(0,we.U)(o=>o.consentTemplates??[]),this.converter.pipeableMany(q_))}giveConsent(s,t,n){const o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:s}}),c=(new Tt.LE).set("consentTemplateId",t).set("consentTemplateVersion",n.toString()),d=new Tt.WM({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,c,{headers:d}).pipe((0,Rt.K)(p=>(0,$._)(p)),this.converter.pipeable(q_))}withdrawConsent(s,t){const n=new Tt.WM({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:s,consentId:t}});return this.http.delete(o,{headers:n})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const MS=new e.OlP("ProductInterestsNormalizer"),xS=new Tt.WM({"Content-Type":"application/json"});let wm=(()=>{class i{constructor(s,t,n,o){this.http=s,this.occEndpoints=t,this.config=n,this.converter=o}getInterests(s,t,n,o,c,d){let p=(new Tt.LE).set("sort",o||"name:asc");return t&&(p=p.set("pageSize",t.toString())),n&&(p=p.set("currentPage",n.toString())),c&&(p=p.set("productCode",c)),d&&(p=p.set("notificationType",d.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:s}}),{headers:xS,params:p}).pipe(this.converter.pipeable(MS),(0,Rt.K)(_=>(0,$._)(_)))}removeInterest(s,t){const n=[];return t.productInterestEntry?.forEach(o=>{const c=(new Tt.LE).set("productCode",t.product?.code??"").set("notificationType",o.interestType);n.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:s}}),{params:c}).pipe((0,Rt.K)(d=>(0,$._)(d))))}),(0,be.D)(n)}addInterest(s,t,n){const o=(new Tt.LE).set("productCode",t).set("notificationType",n.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:s}}),{},{headers:xS,params:o}).pipe((0,Rt.K)(c=>(0,$._)(c)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(vs),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const Im=new e.OlP("NotificationPreferenceSerializer"),lD=new e.OlP("NotificationPreferenceNormalizer");class wS{}let IS=(()=>{class i{constructor(s){this.adapter=s}loadAll(s){return this.adapter.loadAll(s)}update(s,t){return this.adapter.update(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(wS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const eC=new Tt.WM({"Content-Type":"application/json"});let tC=(()=>{class i{constructor(s,t,n){this.http=s,this.converter=t,this.occEndpoints=n}loadAll(s){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:s}}),{headers:eC}).pipe((0,we.U)(t=>t.preferences??[]),this.converter.pipeableMany(lD),(0,Rt.K)(t=>(0,$._)(t)))}update(s,t){return t=this.converter.convert(t,Im),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:s}}),{preferences:t},{headers:eC}).pipe((0,Rt.K)(n=>(0,$._)(n)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(Do),e.LFG(cr))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),RS=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}loadAll(s){const t=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:s}})+"?saved=true",n=new Tt.WM({"Content-Type":"application/json"});return this.http.get(t,{headers:n}).pipe((0,Rt.K)(o=>(0,$._)(o)),(0,we.U)(o=>o.payments??[]),this.converter.pipeableMany(YE))}delete(s,t){const n=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:s,paymentDetailId:t}}),o=new Tt.WM({"Content-Type":"application/json"});return this.http.delete(n,{headers:o}).pipe((0,Rt.K)(c=>(0,$._)(c)))}setDefault(s,t){const n=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:s,paymentDetailId:t}}),o=new Tt.WM({"Content-Type":"application/json"});return this.http.patch(n,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe((0,Rt.K)(c=>(0,$._)(c)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class OS{}class PS{}class dD{}class Rm{}class Om{}class nC{}let rC=(()=>{class i{constructor(s){this.converter=s}convert(s,t){return void 0===t&&(t={...s}),t.values=s.addresses?.map(n=>({...this.converter.convert(n,ah)}))??[],t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oC={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}};let fD=(()=>{class i{constructor(s,t,n){this.http=s,this.occEndpoints=t,this.converter=n}loadActiveList(s){return this.http.get(this.getCostCentersEndpoint(s)).pipe(this.converter.pipeable(V_))}getCostCentersEndpoint(s,t){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:s},queryParams:t})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Tt.eN),e.LFG(cr),e.LFG(Do))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),pD=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[co(oC),{provide:OS,useClass:ch},{provide:PS,useClass:uD},{provide:Kd,useClass:aD},{provide:nC,useClass:RS},{provide:Rm,useClass:cD},{provide:wS,useClass:tC},{provide:Om,useClass:wm},{provide:dD,useClass:fD},{provide:MS,useExisting:bS,multi:!0},{provide:c_,useExisting:TS,multi:!0},{provide:na,useExisting:rC,multi:!0}],imports:[Ct.ez]}),i})();const hD={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function gD(i){if(void 0===i.backend||void 0===i.backend.occ||void 0===i.backend.occ.baseUrl)return"Please configure backend.occ.baseUrl before using storefront library!"}let LS=(()=>{class i{constructor(s){this.config=s}intercept(s,t){return this.requiresWithCredentials(s)&&(s=s.clone({withCredentials:!0})),t.handle(s)}requiresWithCredentials(s){return void 0!==this.occConfig?.useWithCredentials&&s.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vs))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iC=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:Tt.TP,useExisting:LS,multi:!0},co(hD),ud(gD)]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Y0,AS]}),i})();function mD(i){const f=sC("occ-backend-base-url",i);return f&&"OCC_BACKEND_BASE_URL_VALUE"!==f?{backend:{occ:{baseUrl:f}}}:{}}function BS(i){const f=sC("media-backend-base-url",i);return f&&"MEDIA_BACKEND_BASE_URL_VALUE"!==f?{backend:{media:{baseUrl:f}}}:{}}function sC(i,f){const s=f.getTag(`name="${i}"`);return s&&s.content}let GS=(()=>{class i{static forRoot(){return{ngModule:i,providers:[Ls(mD,[Dn.h_]),Ls(BS,[Dn.h_])]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),HS=(()=>{class i{constructor(s){this.config=s}expand(s,t){const n=this.config?.backend?.loadingScopes?.[s];if(n){const o=[...t];let c=o.length;for(;c>0;){c--;const d=n[o[c]]?.include;if(d)for(const p of d)o.includes(p)||(o.splice(c,0,p),c++)}return o}return t}getMaxAge(s,t){return 1e3*(this.config.backend?.loadingScopes?.[s]?.[t]?.maxAge??0)}getReloadTriggers(s,t){return this.config.backend?.loadingScopes?.[s]?.[t]?.reloadOn??[]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vs))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xl=new e.OlP("ProcessReducers"),_D={provide:xl,useFactory:function Ri(){return ki(Gn)}};let CD=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[_D],imports:[Mi,h.Aw.forFeature(Gn,xl)]}),i})(),yA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[CD]}),i})(),yD=(()=>{class i{constructor(s){this.adapter=s}get(s,t=""){return this.adapter.load(s,t)}getMany(s){return this.adapter.loadMany?this.adapter.loadMany(s):s.map(t=>({...t,data$:this.adapter.load(t.code,t.scope)}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(CS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),VS=(()=>{class i{constructor(s){this.adapter=s}get(s,t,n){return this.adapter.load(s,t,n)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(vf))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jS=(()=>{class i{constructor(s){this.adapter=s}get(s,t){return this.adapter.load(s,t)}add(s,t){return this.adapter.post(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(J_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_f=(()=>{class i{constructor(s){this.adapter=s}search(s,t){return this.adapter.search(s,t)}getSuggestions(s,t){return this.adapter.loadSuggestions(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Q_))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$S=(()=>{class i extends is{}return i.type="FacetChangedEvent",i})();const uh="[Product] Load Product References Data",Pm="[Product] Load Product References Data Success",aC="[Product] Clean Product References";class YS{constructor(f){this.payload=f,this.type=uh}}class ZS{constructor(f){this.payload=f,this.type="[Product] Load Product References Data Fail"}}class Lm{constructor(f){this.payload=f,this.type=Pm}}class cC{constructor(){this.type=aC}}const Fm="[Product] Load Product Reviews Data",dh="[Product] Load Product Reviews Data Success",WS="[Product] Post Product Review",lC="[Product] Post Product Review Success";class dC{constructor(f){this.payload=f,this.type=Fm}}class wl{constructor(f){this.payload=f,this.type="[Product] Load Product Reviews Data Fail"}}class KS{constructor(f){this.payload=f,this.type=dh}}class fC{constructor(f){this.payload=f,this.type=WS}}class Nm{constructor(f){this.payload=f,this.type="[Product] Post Product Review Fail"}}class SD{constructor(f){this.payload=f,this.type=lC}}const pC="[Product] Search Products",hC="[Product] Search Products Success",gC="[Product] Get Product Suggestions",mC="[Product] Get Product Suggestions Success",km="[Product] Clear Product Search Result";class _C{constructor(f,s){this.payload=f,this.auxiliary=s,this.type=pC}}class CC{constructor(f,s){this.payload=f,this.auxiliary=s,this.type="[Product] Search Products Fail"}}class yC{constructor(f,s){this.payload=f,this.auxiliary=s,this.type=hC}}class JS{constructor(f){this.payload=f,this.type=gC}}class SC{constructor(f){this.payload=f,this.type=mC}}class EC{constructor(f){this.payload=f,this.type="[Product] Get Product Suggestions Fail"}}class DC{constructor(f={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=f,this.type=km}}var Il;!function(i){function f(_,C,S){return{...bc(_,C),scope:S}}function s(_,C,S,O){return{...Xi(_,C,O),scope:S}}function t(_,C,S){return{...Mc(_,C),scope:S}}function n(_,C,S){return{...ca(_,C),scope:S}}i.entityScopedLoadMeta=f,i.entityScopedFailMeta=s,i.entityScopedSuccessMeta=t,i.entityScopedResetMeta=n,i.EntityScopedLoadAction=class o{constructor(C,S,O){this.type=sa,this.meta=f(C,S,O)}},i.EntityScopedFailAction=class c{constructor(C,S,O,j){this.type=Tc,this.meta=s(C,S,O,j)}},i.EntityScopedSuccessAction=class d{constructor(C,S,O,j){this.payload=j,this.type=aa,this.meta=t(C,S,O)}},i.EntityScopedResetAction=class p{constructor(C,S,O){this.type=ai,this.meta=n(C,S,O)}}}(Il||(Il={}));const Um="product",Cf="[Product] Detail Entity",fh="[Product] Load Product Data",AC="[Product] Load Product Data Fail",TC="[Product] Load Product Data Success";class bC extends Il.EntityScopedLoadAction{constructor(f,s=""){super(Cf,f,s),this.payload=f,this.type=fh}}class QS extends Il.EntityScopedFailAction{constructor(f,s,t=""){super(Cf,f,t,s),this.payload=s,this.type=AC}}class AD extends Il.EntityScopedSuccessAction{constructor(f,s=""){super(Cf,f.code??"",s),this.payload=f,this.type=TC}}class TD extends Il.EntityScopedResetAction{constructor(){super(Cf,void 0,"price"),this.type="[Product] Clear Product PRICE"}}const Bm=(0,h.ZF)(Um),bD=(0,h.P1)(Bm,i=>i.references),xD=(0,h.P1)(Bm,i=>i.reviews),SA={results:{},suggestions:[],auxResults:{}};function qS(i=SA,f){switch(f.type){case hC:{const s=f.payload,t=f.auxiliary?{auxResults:s}:{results:s};return{...i,...t}}case mC:{const s=f.payload;return{...i,suggestions:s}}case km:return{...i,results:f.payload.clearPageResults?{}:i.results,suggestions:f.payload.clearSearchboxResults?[]:i.suggestions,auxResults:f.payload.clearSearchboxResults?{}:i.auxResults}}return i}const MC=(0,h.P1)(Bm,i=>i.search),Hm=(0,h.P1)(MC,i=>i.results),xC=(0,h.P1)(MC,i=>i.auxResults),tE=(0,h.P1)(MC,i=>i.suggestions),Vm=(0,h.P1)(Bm,i=>i.details),hh=(i,f="")=>(0,h.P1)(Vm,s=>Co(s,i)[f]||ui),wC=(i,f="")=>(0,h.P1)(hh(i,f),s=>lo(s));(0,h.P1)(Vm,i=>Object.keys(i.entities));let mh=(()=>{class i{constructor(s){this.store=s}search(s,t){s&&this.store.dispatch(new _C({queryText:s,searchConfig:t}))}getResults(){return this.store.pipe((0,h.Ys)(Hm))}clearResults(){this.store.dispatch(new DC({clearPageResults:!0}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),EA=(()=>{class i{constructor(s,t){this.eventService=s,this.productSearchService=t,this.register()}register(){this.eventService.register($S,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe((0,Zn.G)(),(0,gt.h)(([s,t])=>this.compareSearchResults(s,t)),(0,we.U)(([s,t])=>{const n=this.getToggledBreadcrumb(t.breadcrumbs,s.breadcrumbs)||this.getToggledBreadcrumb(s.breadcrumbs,t.breadcrumbs);if(n)return ya($S,{code:n.facetCode,name:n.facetName,valueCode:n.facetValueCode,valueName:n.facetValueName,selected:t.breadcrumbs&&s.breadcrumbs&&t.breadcrumbs.length>s.breadcrumbs.length})}))}compareSearchResults(s,t){if(s&&0!==Object.keys(s).length){const o="allCategories"===t.breadcrumbs?.[0]?.facetCode&&s.breadcrumbs?.[0]?.facetCode===t.breadcrumbs[0]?.facetCode&&s.breadcrumbs[0].facetValueCode===t.breadcrumbs[0].facetValueCode;return""!==s.freeTextSearch&&s.freeTextSearch===t.freeTextSearch||o}return!1}getToggledBreadcrumb(s,t){if(s&&t&&s.length-t.length==1)return s.find(n=>!t.find(o=>o.facetCode===n.facetCode&&o.facetValueCode===n.facetValueCode))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Sa),e.LFG(mh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),RD=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(EA))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const rE=[(()=>{class i{constructor(s,t){this.actions$=s,this.productSearchConnector=t,this.searchProducts$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(pC),(0,Jt.v)(n=>n.auxiliary),(0,ke.zg)(n=>n.pipe((0,wt.w)(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe((0,we.U)(c=>new yC(c,o.auxiliary)),(0,Rt.K)(c=>(0,D.of)(new CC(Fn(c),o.auxiliary))))))))),this.getProductSuggestions$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(gC),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.productSearchConnector.getSuggestions(n.term,n.searchConfig?.pageSize).pipe((0,we.U)(o=>new SC(void 0===o?[]:o)),(0,Rt.K)(o=>(0,D.of)(new EC(Fn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(_f))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.productConnector=t,this.contextChange$=this.actions$.pipe((0,Ke.l4)(jc,ys)),this.loadProduct$=(0,Ke.GW)(()=>({scheduler:n,debounce:o=0}={})=>this.actions$.pipe((0,Ke.l4)(fh),(0,we.U)(c=>({code:c.payload,scope:c.meta.scope})),Iy(o,n),(0,ke.zg)(c=>(0,oe.T)(...this.productConnector.getMany(c).map(this.productLoadEffect))),Sm(this.contextChange$))),this.clearProductPrice$=this.actions$.pipe((0,Ke.l4)(ms,Ai),(0,we.U)(()=>new TD))}productLoadEffect(s){return s.data$?.pipe((0,we.U)(t=>new AD({code:s.code,...t},s.scope)),(0,Rt.K)(t=>(0,D.of)(new QS(s.code,Fn(t),s.scope))))??(0,D.of)(new QS(s.code,"Scoped product data does not exist",s.scope))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(yD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),(0,ii.gn)([(0,Ke.Qm)()],i.prototype,"clearProductPrice$",void 0),i})(),(()=>{class i{constructor(s,t,n){this.actions$=s,this.productReviewsConnector=t,this.globalMessageService=n,this.loadProductReviews$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Fm),(0,we.U)(o=>o.payload),(0,ke.zg)(o=>this.productReviewsConnector.get(o).pipe((0,we.U)(c=>new KS({productCode:o,list:c})),(0,Rt.K)(c=>(0,D.of)(new wl({message:o}))))))),this.postProductReview=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(WS),(0,we.U)(o=>o.payload),(0,ke.zg)(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe((0,we.U)(c=>new SD(c)),(0,Rt.K)(c=>(0,D.of)(new Nm(o.productCode))))))),this.showGlobalMessageOnPostProductReviewSuccess$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(lC),(0,Lt.b)(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},_r.MSG_TYPE_CONFIRMATION)})),{dispatch:!1})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(jS),e.LFG($i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.productReferencesConnector=t,this.loadProductReferences$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(uh),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.productReferencesConnector.get(n.productCode,n.referenceType,n.pageSize).pipe((0,we.U)(o=>new Lm({productCode:n.productCode,list:o})),(0,Rt.K)(o=>(0,D.of)(new ZS({message:n.productCode})))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(VS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],oE={};const iE={productCode:"",list:[]};function IC(i=iE,f){switch(f.type){case Pm:{const s=f.payload.productCode,t=f.payload.list;return{...i,list:[...i.list,...t||[]].reduce((n,o)=>(n.some(c=>c.referenceType===o.referenceType&&c.target?.code===o.target?.code)||n.push(o),n),[]),productCode:s}}case aC:return iE}return i}const OD={productCode:"",list:[]};function RC(i=OD,f){if(f.type===dh){const s=f.payload.productCode,t=f.payload.list;return{...i,productCode:s,list:t}}return i}const PC=new e.OlP("ProductReducers"),sE={provide:PC,useFactory:function OC(){return{search:qS,details:(i=Cf,Vr(i,function bA(i,f){const s=xr(i,f);return(t=oE,n)=>n&&n.meta&&n.meta.entityType===i?{...t,[n.meta.scope??""]:s(t[n.meta.scope??""],n)}:t}(i,f))),reviews:RC,references:IC};var i,f}},aE=[function PD(i){return function(f,s){return(s.type===jc||s.type===ys)&&(f=void 0),i(f,s)}}];let cE=(()=>{class i{constructor(s){this.store=s}loadProductReferences(s,t,n){this.store.dispatch(new YS({productCode:s,referenceType:t,pageSize:n}))}getProductReferences(s,t){return this.store.pipe((0,h.Ys)(((i,f)=>(0,h.P1)(bD,s=>s.productCode===i&&s.list?f?s.list.filter(t=>t.referenceType===f):s.list:[]))(s,t)))}cleanReferences(){this.store.dispatch(new cC)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LD=(()=>{class i{constructor(s){this.store=s}getByProductCode(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(xD,f=>{if(f.productCode===i)return f.list}))(s)),(0,Lt.b)(t=>{void 0===t&&void 0!==s&&this.store.dispatch(new dC(s))}),(0,we.U)(t=>t??[]))}add(s,t){this.store.dispatch(new fC({productCode:s,review:t}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uE=(()=>{class i{constructor(s,t,n,o,c){this.store=s,this.loadingScopes=t,this.actions$=n,this.platformId=o,this.eventService=c,this.products={}}get(s,t){return t=this.loadingScopes.expand("product",t),this.initProductScopes(s,t),this.products[s][this.getScopesIndex(t)]}initProductScopes(s,t){this.products[s]||(this.products[s]={});for(const n of t)this.products[s][n]||(this.products[s][n]=this.getProductForScope(s,n));t.length>1&&(this.products[s][this.getScopesIndex(t)]=eS(t.map(n=>this.products[s][n])).pipe((0,we.U)(n=>n.every(Boolean)?Fr({},...n):void 0),(0,Xt.x)()))}getScopesIndex(s){return s.join("\u0275")}getProductForScope(s,t){const n=this.store.pipe((0,h.Ys)(hh(s,t)),(0,we.U)(p=>!p.loading&&!p.success&&!p.error),(0,Xt.x)(),(0,gt.h)(p=>p)),o=this.store.pipe((0,h.Ys)(wC(s,t))),c=(0,oe.T)(n,...this.getProductReloadTriggers(s,t)).pipe((0,Yt.b)(0),(0,Wt.M)(o),(0,Lt.b)(([,p])=>{p||this.store.dispatch(new bC(s,t))})),d=this.store.pipe((0,h.Ys)(((i,f="")=>(0,h.P1)(hh(i,f),s=>dr(s)))(s,t)));return(0,De.g)(()=>c.subscribe(),()=>d).pipe((0,Qt.d)({bufferSize:1,refCount:!0}))}getProductReloadTriggers(s,t){const n=[],o=this.loadingScopes.getMaxAge("product",t);if(o&&(0,Ct.NF)(this.platformId)){const d=this.actions$.pipe((0,Ke.l4)(TC,AC),(0,gt.h)(_=>_.meta.entityId===s&&_.meta.scope===t)),p=this.actions$.pipe((0,Ke.l4)(fh),(0,gt.h)(_=>_.payload===s&&_.meta.scope===t));n.push(this.getMaxAgeTrigger(p,d,o))}const c=this.loadingScopes.getReloadTriggers("product",t).map(d=>this.eventService.get(d));return n.concat(c)}getMaxAgeTrigger(s,t,n,o){let c=0;const d=()=>o?o.now():Date.now(),p=t.pipe((0,Lt.b)(()=>c=d()));return(0,M.P)(()=>{const C=d()-c,S=p.pipe((0,an.g)(n,o),(0,yn.h)(!0),Sm(s));return C>n?(0,oe.T)((0,D.of)(!0),S):0===C?S:(0,oe.T)((0,D.of)(!0).pipe((0,an.g)(n-C,o)),S)})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(HS),e.LFG(Ke.eX),e.LFG(e.Lbi),e.LFG(Sa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),lE=(()=>{class i{constructor(s,t){this.store=s,this.productLoading=t}get(s,t=Yu){return s?this.productLoading.get(s,[].concat(t)):(0,D.of)(void 0)}isLoading(s,t=""){return this.store.pipe((0,h.Ys)(wC(s,t)))}isSuccess(s,t=""){return this.store.pipe((0,h.Ys)(((i,f="")=>(0,h.P1)(hh(i,f),s=>Yo(s)))(s,t)))}hasError(s,t=""){return this.store.pipe((0,h.Ys)(((i,f="")=>(0,h.P1)(hh(i,f),s=>ci(s)))(s,t)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(uE))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LC=(()=>{class i extends mh{search(s,t){this.store.dispatch(new _C({queryText:s,searchConfig:t},!0))}getResults(){return this.store.pipe((0,h.Ys)(xC))}clearResults(){this.store.dispatch(new DC({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe((0,h.Ys)(tE))}searchSuggestions(s,t){this.store.dispatch(new JS({term:s,searchConfig:t}))}}return i.\u0275fac=function(){let f;return function(t){return(f||(f=e.n5z(i)))(t||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bu=(()=>{class i extends Is{constructor(s,t,n,o){super(),this.productSearchService=s,this.cms=t,this.translation=n,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe((0,gt.h)(c=>Boolean(c)),(0,wt.w)(c=>this.hasProductListComponent(c)?this.productSearchService.getResults().pipe((0,gt.h)(d=>Boolean(d))):(0,D.of)(c))),this.pageType=jn.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe((0,gt.h)(s=>!!s.pagination),(0,wt.w)(s=>this.translation.translate("pageMetaResolver.category.title",{count:s.pagination?.totalResults,query:s.breadcrumbs?.length?s.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return(0,I.aj)([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe((0,we.U)(([s,t])=>s.breadcrumbs?this.resolveBreadcrumbData(s,t):[]))}resolveBreadcrumbData(s,t){const n=[];n.push({label:t,link:"/"});for(const o of s.breadcrumbs??[])o.facetValueName&&(("category"===o.facetCode||"allCategories"===o.facetCode)&&n.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),"brand"===o.facetCode&&n.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return n}hasProductListComponent(s){return!!Object.keys(s.slots||{}).find(t=>!!s.slots?.[t].components?.find(n=>"CMSProductListComponent"===n.typeCode||"ProductGridComponent"===n.typeCode))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(mh),e.LFG(hf),e.LFG(Ra),e.LFG(Jp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dE=(()=>{class i extends Is{constructor(s,t,n,o,c){super(),this.productSearchService=s,this.translation=t,this.authService=n,this.route=o,this.semanticPathService=c,this.total$=this.productSearchService.getResults().pipe((0,gt.h)(d=>!!d?.pagination),(0,we.U)(d=>d.pagination?.totalResults??0)),this.pageType=jn.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return(0,I.aj)([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe((0,we.U)(([s,t,n])=>{const o=[];return o.push({label:s,link:"/"}),n&&o.push({label:t,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe((0,wt.w)(s=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:s,coupon:this.couponCode})))}getScore(s){return super.getScore(s)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(mh),e.LFG(Ra),e.LFG(Hi),e.LFG(qt.gz),e.LFG(ha))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FC=(()=>{class i extends Is{constructor(s,t,n,o,c){super(),this.routingService=s,this.productService=t,this.translation=n,this.basePageMetaResolver=o,this.pageLinkService=c,this.product$=this.routingService.getRouterState().pipe((0,we.U)(d=>d.state.params.productCode),(0,gt.h)(d=>!!d),(0,wt.w)(d=>this.productService.get(d,"details")),(0,gt.h)(Ti)),this.pageType=jn.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe((0,wt.w)(s=>this.translation.translate("pageMetaResolver.product.heading",{heading:s.name})))}resolveTitle(){return this.product$.pipe((0,wt.w)(s=>{let t=s.name;return t+=this.resolveFirstCategory(s),t+=this.resolveManufacturer(s),this.translation.translate("pageMetaResolver.product.title",{title:t})}))}resolveDescription(){return this.product$.pipe((0,wt.w)(s=>this.translation.translate("pageMetaResolver.product.description",{description:s.summary})))}resolveBreadcrumbs(){return(0,I.aj)([this.product$.pipe(),this.translation.translate("common.home")]).pipe((0,we.U)(([s,t])=>{const n=[];n.push({label:t,link:"/"});for(const{name:o,code:c,url:d}of s.categories||[])n.push({label:o||c,link:d});return n}))}resolveImage(){return this.product$.pipe((0,we.U)(s=>s.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(s){const t=s?.categories?.[0];return t?` | ${t.name||t.code}`:""}resolveManufacturer(s){return s.manufacturer?` | ${s.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe((0,wt.w)(s=>this.findBaseProduct(s)),(0,we.U)(s=>{const t=this.routingService.getFullUrl({cxRoute:"product",params:s});return this.pageLinkService.getCanonicalUrl({},t)}))}findBaseProduct(s){return s?.baseProduct?this.productService.get(s.baseProduct,"list").pipe((0,gt.h)(Ti),(0,wt.w)(t=>this.findBaseProduct(t))):(0,D.of)(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(_s),e.LFG(lE),e.LFG(Ra),e.LFG(Jp),e.LFG(My))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yc=(()=>{class i extends Is{constructor(s,t,n,o){super(),this.routingService=s,this.productSearchService=t,this.translation=n,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe((0,gt.h)(c=>!!c?.pagination),(0,we.U)(c=>c.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe((0,we.U)(c=>c.state.params.query)),this.pageType=jn.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){return(0,I.aj)([this.total$,this.query$]).pipe((0,wt.w)(([t,n])=>this.translation.translate("pageMetaResolver.search.default_title").pipe((0,ke.zg)(o=>this.translation.translate("pageMetaResolver.search.title",{count:t,query:n||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(_s),e.LFG(mh),e.LFG(Ra),e.LFG(Jp))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function FD(){return{state:{ssrTransfer:{keys:{[Um]:vr.TRANSFER_STATE}}}}}let IA=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[ds(FD),sE],imports:[Ct.ez,h.Aw.forFeature(Um,PC,{metaReducers:aE}),Ke.sQ.forFeature(rE)]}),i})();const ND=[{provide:Is,useExisting:FC,multi:!0},{provide:Is,useExisting:bu,multi:!0},{provide:Is,useExisting:yc,multi:!0},{provide:Is,useExisting:dE,multi:!0}];let kD=(()=>{class i{static forRoot(){return{ngModule:i,providers:[...ND]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[IA,RD]}),i})(),fE=(()=>{class i{constructor(s){this.adapter=s}getAll(s){return this.adapter.loadAll(s)}add(s,t){return this.adapter.add(s,t)}update(s,t,n){return this.adapter.update(s,t,n)}verify(s,t){return this.adapter.verify(s,t)}delete(s,t){return this.adapter.delete(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(OS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),UD=(()=>{class i{constructor(s){this.adapter=s}loadConsents(s){return this.adapter.loadConsents(s)}giveConsent(s,t,n){return this.adapter.giveConsent(s,t,n)}withdrawConsent(s,t){return this.adapter.withdrawConsent(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(PS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pE=(()=>{class i{constructor(s){this.adapter=s}getActiveList(s){return this.adapter.loadActiveList(s)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(dD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),RA=(()=>{class i{constructor(s){this.adapter=s}getCustomerCoupons(s,t,n,o){return this.adapter.getCustomerCoupons(s,t,n,o)}turnOnNotification(s,t){return this.adapter.turnOnNotification(s,t)}turnOffNotification(s,t){return this.adapter.turnOffNotification(s,t)}claimCustomerCoupon(s,t){return this.adapter.claimCustomerCoupon(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Rm))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hE=(()=>{class i{constructor(s){this.adapter=s}getInterests(s,t,n,o,c,d){return this.adapter.getInterests(s,t,n,o,c,d)}removeInterest(s,t){return this.adapter.removeInterest(s,t)}addInterest(s,t,n){return this.adapter.addInterest(s,t,n)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Om))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),BD=(()=>{class i{constructor(s){this.adapter=s}getAll(s){return this.adapter.loadAll(s)}delete(s,t){return this.adapter.delete(s,t)}setDefault(s,t){return this.adapter.setDefault(s,t)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(nC))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Rl extends is{}let GD=(()=>{class i extends Rl{}return i.type="UpdateUserAddressEvent",i})(),jm=(()=>{class i extends Rl{}return i.type="DeleteUserAddressEvent",i})(),gE=(()=>{class i extends Rl{}return i.type="AddUserAddressEvent",i})(),mE=(()=>{class i extends Rl{}return i.type="LoadUserAddressesEvent",i})(),vE=(()=>{class i extends Rl{}return i.type="LoadUserPaymentMethodsEvent",i})(),NC=(()=>{class i{constructor(s){this.stateEventService=s,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:iu,event:GD})}addUserAddressEvent(){this.stateEventService.register({action:dc,event:gE})}deleteUserAddressEvent(){this.stateEventService.register({action:su,event:jm})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(ld))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),_E=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(NC))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var Oa=(()=>{return(i=Oa||(Oa={}))[i.Parallel=0]="Parallel",i[i.Queue=1]="Queue",i[i.CancelPrevious=2]="CancelPrevious",i[i.ErrorPrevious=3]="ErrorPrevious",Oa;var i})();let CE=(()=>{class i{constructor(){this.subscriptions=new J.w}create(s,t){const n=new ae.xQ,o=new ae.xQ;let c;switch(t?.strategy){case Oa.CancelPrevious:case Oa.ErrorPrevious:c=Ne(n,o).pipe((0,wt.w)(([p,_])=>s(p).pipe((0,Lt.b)(_),(0,kt.x)(()=>t.strategy===Oa.CancelPrevious?_.complete():_.error(new Error("Canceled by next command"))))),gn());break;case Oa.Parallel:c=Ne(n,o).pipe((0,ke.zg)(([p,_])=>s(p).pipe((0,Lt.b)(_))),gn());break;default:c=Ne(n,o).pipe((0,bt.b)(([p,_])=>s(p).pipe((0,Lt.b)(_))),gn())}return this.subscriptions.add(c.subscribe()),new class extends class $m{}{constructor(){super(...arguments),this.execute=p=>{const _=new N.t;return o.next(_),n.next(p),_}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yE=(()=>{class i{constructor(s){this.eventService=s,this.subscriptions=new J.w}create(s,t){const n={data:void 0,error:!1,loading:!0},o=new k.X(n),c=V(()=>o.value.loading,(0,D.of)(void 0)),d=this.getTriggersStream([c,...t?.reloadOn??[],...t?.resetOn??[]]),p=this.getTriggersStream(t?.resetOn??[]),_=this.getTriggersStream(t?.reloadOn??[]),C=d.pipe((0,Lt.b)(()=>{o.value.loading||o.next({...o.value,loading:!0})}),(0,St.c)(s().pipe((0,rn.R)(p))),(0,Lt.b)(j=>{o.next({loading:!1,error:!1,data:j})}),(0,Rt.K)((j,ce)=>(o.next({loading:!1,error:j,data:void 0}),ce)),(0,Ft.B)());t?.reloadOn?.length&&this.subscriptions.add(_.subscribe(()=>{o.value.loading||o.next({...o.value,loading:!0})})),t?.resetOn?.length&&this.subscriptions.add(p.subscribe(()=>{(void 0!==o.value.data||!1!==o.value.error||!1!==o.value.loading)&&o.next(n)}));const S=(0,De.g)(()=>C.subscribe(),()=>o),O=S.pipe((0,at.j)("data"),(0,Xt.x)());return{get:()=>O,getState:()=>S}}getTriggersStream(s){if(!s.length)return G.E;const t=s.map(n=>(0,Fe.b)(n)?n:this.eventService.get(n));return(0,oe.T)(...t)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Sa))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function SE(i){return"JaloObjectNoLongerValidError"===i.details?.[0]?.type}const HD=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,VD=/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/;function OA(i){const f=i?.shouldRetry??(()=>!0),s=i?.maxTries??3,t=i?.delay??300,n=function Re(i=0,f,s){return new re.y(t=>{void 0===f&&(f=i,i=0);let n=0,o=i;if(s)return s.schedule(pt,0,{index:n,count:f,start:i,subscriber:t});for(;;){if(n++>=f){t.complete();break}if(t.next(o++),t.closed)break}})}(1,s+1);return o=>o.pipe(function fn(i){return f=>f.lift(new We(i,f))}(c=>Ne(c,n).pipe((0,ke.zg)(([d,p])=>p>s||!f(d)?(0,$._)(d):(0,D.of)(p)),(0,we.U)(d=>d*d),(0,ke.zg)(d=>(0,Qe.H)(d*t)))))}var zm=(()=>{return(i=zm||(zm={})).HEAD="head",i.BODY="body",zm;var i})();let EE=(()=>{class i{constructor(s,t){this.document=s,this.platformId=t}embedScript(s){const{src:t,params:n,attributes:o,callback:c,errorCallback:d,placement:p=zm.HEAD}=s,_=(0,Ct.PM)(this.platformId);if((c||d)&&_)return;const C=n?t+this.parseParams(n):t;if(!_&&this.hasScript(C))return;const S=this.document.createElement("script");S.src=C,S.async=!0,S.defer=!0,o&&Object.keys(o).forEach(O=>{O.startsWith("data-")?S.setAttribute(O,o[O]):S[O]=o[O]}),c&&S.addEventListener("load",c),d&&S.addEventListener("error",d),p===zm.HEAD?this.document.head.appendChild(S):this.document.body.appendChild(S)}hasScript(s){return!!this.document.querySelector(`script[src="${s}"]`)}parseParams(s){let t="";const n=Object.keys(s);return n.length>0&&(t="?"+n.map(o=>encodeURI(o)+"="+encodeURI(s[o])).join("&")),t}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ct.K0),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Ym{static getLocalTimezoneOffset(f){const s=-1*(new Date).getTimezoneOffset();return`${s>=0?f?"-":"+":f?"+":"-"}${Math.abs(Math.floor(s/60)).toString().padStart(2,"0")}:${(s%60).toString().padStart(2,"0")}`}static convertDateToDatetime(f,s){return`${f}T${s?"23:59:59":"00:00:00"}${Ym.getLocalTimezoneOffset()}`}static convertDatetimeToDate(f){return new Date(`${f.substring(0,19)}${Ym.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}}let jD=(()=>{class i{constructor(s,t){this.store=s,this.userIdService=t}loadCustomerCoupons(s,t,n){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new cc({userId:o,pageSize:s,currentPage:t,sort:n}))})}getCustomerCoupons(s){return(0,I.aj)([this.store.pipe((0,h.Ys)(yl)),this.getClaimCustomerCouponResultLoading()]).pipe((0,gt.h)(([,t])=>!t),(0,Lt.b)(([t])=>{t.loading||t.success||t.error||this.loadCustomerCoupons(s)}),(0,we.U)(([t])=>t.value),(0,gt.h)(Ti))}getCustomerCouponsLoaded(){return this.store.pipe((0,h.Ys)(Bv))}getCustomerCouponsLoading(){return this.store.pipe((0,h.Ys)(Pp))}subscribeCustomerCoupon(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new fi({userId:t,couponCode:s}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Ds(Ea)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(oc(Ea)))}getSubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(ol(Ea)))}unsubscribeCustomerCoupon(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Av({userId:t,couponCode:s}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Ds(zi)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(oc(zi)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe((0,h.Ys)(ol(zi)))}claimCustomerCoupon(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new bv({userId:t,couponCode:s}))})}getClaimCustomerCouponResultSuccess(){return this.store.pipe((0,h.Ys)(oc(Yi)))}getClaimCustomerCouponResultLoading(){return this.store.pipe((0,h.Ys)(Ds(Yi)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$D=(()=>{class i{constructor(s,t,n,o){this.store=s,this.userIdService=t,this.userAddressConnector=n,this.command=o,this.userAddressVerificationCommand=this.command.create(c=>this.userIdService.takeUserId(!1).pipe((0,wt.w)(d=>this.userAddressConnector.verify(d,c.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new yp(s))})}addUserAddress(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Ep({userId:t,address:s}))})}setAddressAsDefault(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new vl({userId:t,addressId:s,address:{defaultAddress:!0}}))})}updateUserAddress(s,t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new vl({userId:n,addressId:s,address:t}))})}deleteUserAddress(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new kg({userId:t,addressId:s}))})}getAddresses(){return this.store.pipe((0,h.Ys)(nf))}getAddressesLoading(){return this.store.pipe((0,h.Ys)(Zg))}getAddressesLoadedSuccess(){return this.store.pipe((0,h.Ys)(Wg))}loadDeliveryCountries(){this.store.dispatch(new pi)}getDeliveryCountries(){return this.store.pipe((0,h.Ys)(gc))}getCountry(s){return this.store.pipe((0,h.Ys)((i=>(0,h.P1)(hc,f=>0!==Object.keys(f).length?f[i]:null))(s)))}loadRegions(s){this.store.dispatch(new Zs(s))}clearRegions(){this.store.dispatch(new gl)}getRegions(s){return this.store.pipe((0,h.Ys)(Hv),(0,we.U)(({regions:t,country:n,loading:o,loaded:c})=>s||!o&&!c?o&&!c?[]:!o&&s!==n&&s?(n&&this.clearRegions(),this.loadRegions(s),[]):t:(this.clearRegions(),[])))}verifyAddress(s){return this.userAddressVerificationCommand.execute({address:s})}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo),e.LFG(fE),e.LFG(CE))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),LA=(()=>{class i{constructor(s,t){this.store=s,this.userIdService=t}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe(s=>{this.store.dispatch(new Cl(s))},()=>{})}getCostCentersState(){return this.store.select(sf)}getActiveCostCenters(){return this.getCostCentersState().pipe((0,Pn.QV)(H.N),(0,Lt.b)(s=>{s.loading||s.success||s.error||this.loadActiveCostCenters()}),(0,gt.h)(s=>Boolean(s.success||s.error)),(0,we.U)(s=>s.value??[]))}getCostCenterAddresses(s){return this.getActiveCostCenters().pipe((0,we.U)(t=>{const n=t.find(o=>o.code===s);return n&&n.unit?n.unit.addresses??[]:[]}))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FA=(()=>{class i{constructor(s,t){this.store=s,this.userIdService=t}loadProductInterests(s,t,n,o,c){this.userIdService.takeUserId().subscribe(d=>{this.store.dispatch(new Od({userId:d,pageSize:s,currentPage:t,sort:n,productCode:o,notificationType:c}))})}getProductInterests(){return this.store.pipe((0,h.Ys)(cs))}getAndLoadProductInterests(s){return this.store.pipe((0,h.Ys)(Xd),(0,Lt.b)(t=>{t.loading||t.success||t.error||this.loadProductInterests(s)}),(0,we.U)(t=>t.value),(0,gt.h)(Ti))}getProdutInterestsLoading(){return this.store.pipe((0,h.Ys)(ef))}removeProdutInterest(s,t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Ld({userId:n,item:s,singleDelete:t}))})}getRemoveProdutInterestLoading(){return this.store.pipe((0,h.Ys)(Ds(eu)))}getRemoveProdutInterestSuccess(){return this.store.pipe((0,h.Ys)(oc(eu)))}addProductInterest(s,t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Iv({userId:n,productCode:s,notificationType:t}))})}getAddProductInterestSuccess(){return this.store.pipe((0,h.Ys)(oc(Vs)))}getAddProductInterestError(){return this.store.pipe((0,h.Ys)(ol(Vs)))}resetAddInterestState(){this.store.dispatch(new Rg)}resetRemoveInterestState(){this.store.dispatch(new Og)}clearProductInterests(){this.store.dispatch(new fl)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NA=(()=>{class i{constructor(s,t){this.store=s,this.userIdService=t}getPreferences(){return this.store.pipe((0,h.Ys)(qd))}getEnabledPreferences(){return this.store.pipe((0,h.Ys)(Lp))}loadPreferences(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new wn(s))})}clearPreferences(){this.store.dispatch(new Ag)}getPreferencesLoading(){return this.store.pipe((0,h.Ys)(Fp))}updatePreferences(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new ap({userId:t,preferences:s}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ds(vd))}resetNotificationPreferences(){this.store.dispatch(new cp)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kA=(()=>{class i{constructor(s,t){this.store=s,this.userIdService=t}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new zs(s))})}getPaymentMethods(){return this.store.pipe((0,h.Ys)(Qs))}getPaymentMethodsLoading(){return this.store.pipe((0,h.Ys)(Np))}getPaymentMethodsLoadedSuccess(){return this.store.pipe((0,h.Ys)(Sl))}setPaymentMethodAsDefault(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new xv({userId:t,paymentMethodId:s}))})}deletePaymentMethod(s){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new bg({userId:t,paymentMethodId:s}))})}getAllBillingCountries(){return this.store.pipe((0,h.Ys)(xi))}loadBillingCountries(){this.store.dispatch(new nl)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class DE{}let Zm=(()=>{class i{constructor(s,t,n){this.store=s,this.userIdService=t,this.userProfileFacade=n}getTitles(){if(this.userProfileFacade)return this.userProfileFacade.getTitles();throw Error("Cannot get a titles. Install `@spartacus/user` library which provides required services.")}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(h.yh),e.LFG(Uo),e.LFG(DE,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const HA=[(()=>{class i{constructor(s){this.actions$=s,this.clearMiscsData$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ys,jc),(0,we.U)(()=>new Rp)))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.siteConnector=t,this.loadDeliveryCountries$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Aa),(0,wt.w)(()=>this.siteConnector.getCountries(Fs.SHIPPING).pipe((0,we.U)(n=>new ul(n)),(0,Rt.K)(n=>(0,D.of)(new cl(Fn(n))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.siteConnector=t,this.loadRegions$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Go),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.siteConnector.getRegions(n).pipe((0,we.U)(o=>new Nd({entities:o,country:n})),(0,Rt.K)(o=>(0,D.of)(new hl(Fn(o)))))))),this.resetRegions$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(uu,Fd),(0,we.U)(()=>new fs(di))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t,n,o){this.actions$=s,this.userAddressConnector=t,this.userAddressService=n,this.messageService=o,this.loadUserAddresses$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(_p),(0,we.U)(c=>c.payload),(0,ke.zg)(c=>this.userAddressConnector.getAll(c).pipe((0,we.U)(d=>new Ov(d)),(0,Rt.K)(d=>(0,D.of)(new Sp(Fn(d)))))))),this.addUserAddress$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(dc),(0,we.U)(c=>c.payload),(0,ke.zg)(c=>this.userAddressConnector.add(c.userId,c.address).pipe((0,we.U)(d=>new Dp(d)),(0,Rt.K)(d=>(0,D.of)(new Bd(Fn(d)))))))),this.updateUserAddress$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(iu),(0,we.U)(c=>c.payload),(0,ke.zg)(c=>this.userAddressConnector.update(c.userId,c.addressId,c.address).pipe((0,we.U)(d=>c.address&&1===Object.keys(c.address).length&&c.address.defaultAddress?new yp(c.userId):new Gd(d)),(0,Rt.K)(d=>(0,D.of)(new Ap(Fn(d)))))))),this.deleteUserAddress$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(su),(0,we.U)(c=>c.payload),(0,ke.zg)(c=>this.userAddressConnector.delete(c.userId,c.addressId).pipe((0,we.U)(d=>new Lv(d)),(0,Rt.K)(d=>(0,D.of)(new Pv(Fn(d)))))))),this.showGlobalMessageOnAddSuccess$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ml),(0,Lt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Fg),(0,Lt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Cp),(0,Lt.b)(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(s){this.messageService.add({key:s},_r.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(fE),e.LFG($D),e.LFG($i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t,n){this.actions$=s,this.userPaymentMethodConnector=t,this.globalMessageService=n,this.loadUserPaymentMethods$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Td),(0,we.U)(o=>o.payload),(0,ke.zg)(o=>this.userPaymentMethodConnector.getAll(o).pipe((0,we.U)(c=>new Mv(c)),(0,Rt.K)(c=>(0,D.of)(new dp(Fn(c)))))))),this.setDefaultUserPaymentMethod$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Tg),(0,we.U)(o=>o.payload),(0,ke.zg)(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe((0,wt.w)(c=>[new wd(c),new zs(o.userId)]),(0,Rt.K)(c=>(0,D.of)(new xd(Fn(c)))))))),this.deleteUserPaymentMethod$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)($s),(0,we.U)(o=>o.payload),(0,ke.zg)(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe((0,wt.w)(c=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},_r.MSG_TYPE_CONFIRMATION),[new Mg(c),new zs(o.userId)])),(0,Rt.K)(c=>(0,D.of)(new qC(Fn(c))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(BD),e.LFG($i))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.siteConnector=t,this.loadBillingCountries$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Gs),(0,wt.w)(()=>this.siteConnector.getCountries(Fs.BILLING).pipe((0,we.U)(n=>new md(n)),(0,Rt.K)(n=>(0,D.of)(new Ev(Fn(n))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(mu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.userConsentConnector=t,this.resetConsents$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ys),(0,we.U)(()=>new $d))),this.getConsents$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ug),(0,we.U)(n=>n.payload),(0,bt.b)(n=>this.userConsentConnector.loadConsents(n).pipe((0,we.U)(o=>new Ks(o)),(0,Rt.K)(o=>(0,D.of)(new Hg(Fn(o)))))))),this.giveConsent$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Tp,au),(0,bt.b)(n=>this.userConsentConnector.giveConsent(n.payload.userId,n.payload.consentTemplateId??"",n.payload.consentTemplateVersion??0).pipe((0,we.U)(o=>new Ip(o)),(0,Rt.K)(o=>{const c=[new Vg(Fn(o))];return n.type===au&&409===o.status&&c.push(new fd(_r.MSG_TYPE_ERROR)),(0,D.of)(...c)}))))),this.withdrawConsent$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Hd),(0,we.U)(n=>n.payload),(0,bt.b)(({userId:n,consentCode:o})=>this.userConsentConnector.withdrawConsent(n,o).pipe((0,we.U)(()=>new zd),(0,Rt.K)(c=>(0,D.of)(new fc(Fn(c))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(UD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.customerCouponConnector=t,this.loadCustomerCoupons$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Cd),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.customerCouponConnector.getCustomerCoupons(n.userId,n.pageSize,n.currentPage,n.sort).pipe((0,we.U)(o=>new sl(o)),(0,Rt.K)(o=>(0,D.of)(new Ed(Fn(o)))))))),this.subscribeCustomerCoupon$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Sd),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.customerCouponConnector.turnOnNotification(n.userId,n.couponCode).pipe((0,we.U)(o=>new _g(o)),(0,Rt.K)(o=>(0,D.of)(new vg(Fn(o)))))))),this.unsubscribeCustomerCoupon$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Xf),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.customerCouponConnector.turnOffNotification(n.userId,n.couponCode).pipe((0,we.U)(()=>new Tv(n.couponCode)),(0,Rt.K)(o=>(0,D.of)(new tp(Fn(o)))))))),this.claimCustomerCoupon$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ep),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.customerCouponConnector.claimCustomerCoupon(n.userId,n.couponCode).pipe((0,we.U)(o=>new al(o)),(0,Rt.K)(o=>(0,D.of)(new np(Fn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(RA))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.connector=t,this.loadPreferences$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(rp),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.connector.loadAll(n).pipe((0,we.U)(o=>new Eg(o)),(0,Rt.K)(o=>(0,D.of)(new nu(Fn(o)))))))),this.updatePreferences$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ur),(0,we.U)(n=>n.payload),(0,ke.zg)(n=>this.connector.update(n.userId,n.preferences).pipe((0,we.U)(()=>new Ad(n.preferences)),(0,Rt.K)(o=>(0,D.of)(new Dg(Fn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(IS))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.userInterestsConnector=t,this.loadProductInteres$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(Ys),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.userInterestsConnector.getInterests(n.userId,n.pageSize,n.currentPage,n.sort,n.productCode,n.notificationType).pipe((0,we.U)(o=>new Pd(o)),(0,Rt.K)(o=>(0,D.of)(new mp(Fn(o)))))))),this.removeProductInterest$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(ru),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.userInterestsConnector.removeInterest(n.userId,n.item).pipe((0,wt.w)(o=>[new Od(n.singleDelete?{userId:n.userId,productCode:n.item.product?.code,notificationType:n.item.productInterestEntry?.[0].interestType}:{userId:n.userId}),new wv(o)]),(0,Rt.K)(o=>(0,D.of)(new vp(Fn(o)))))))),this.addProductInterest$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(hp),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.userInterestsConnector.addInterest(n.userId,n.productCode,n.notificationType).pipe((0,wt.w)(o=>[new Od({userId:n.userId,productCode:n.productCode,notificationType:n.notificationType}),new Rv(o)]),(0,Rt.K)(o=>(0,D.of)(new lc(Fn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(hE))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),(()=>{class i{constructor(s,t){this.actions$=s,this.userCostCenterConnector=t,this.loadActiveCostCenters$=(0,Ke.GW)(()=>this.actions$.pipe((0,Ke.l4)(pc),(0,we.U)(n=>n.payload),(0,wt.w)(n=>this.userCostCenterConnector.getActiveList(n).pipe((0,we.U)(o=>new Wd(o.values)),(0,Rt.K)(o=>(0,D.of)(new Zd(Fn(o))))))))}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Ke.eX),e.LFG(pE))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()],ZD={entities:{}};function VA(i=ZD,f){switch(f.type){case gd:{const t=f.payload.reduce((n,o)=>({...n,[o.isocode]:o}),{...i.entities});return{...i,entities:t}}case uu:return ZD}return i}const jA={coupons:[],sorts:[],pagination:{}};function xE(i=jA,f){switch(f.type){case yd:return f.payload;case sc:{const s=f.payload.coupon,t=new Array(i.coupons?.length??0);return i.coupons?.forEach((n,o)=>t[o]=s&&n.couponId===s.couponId?s:n),{...i,coupons:t}}case Ts:{const s=f.payload,t=new Array(i.coupons?.length??0);return i.coupons?.forEach((n,o)=>t[o]=n.couponId===s?{...n,notificationOn:!1}:n),{...i,coupons:t}}}return i}const wE={entities:{}};function WD(i=wE,f){switch(f.type){case Dd:{const t=f.payload.reduce((n,o)=>({...n,[o.isocode??""]:o}),{...i.entities});return{...i,entities:t}}case uu:return wE}return i}const BC=[];function KD(i=BC,f){switch(f.type){case op:return BC;case ip:case sp:return f.payload?f.payload:BC}return i}const Wm=[];function IE(i=Wm,f){switch(f.type){case dl:return f.payload?f.payload:Wm;case bd:return Wm}return i}const Km={results:[],pagination:{},sorts:[]};function JD(i=Km,f){switch(f.type){case Id:return f.payload?f.payload:Km;case fp:return Km}return i}const RE={entities:[],country:null};function OE(i=RE,f){if(f.type===pl){const s=f.payload.entities,t=f.payload.country;return s||t?{...i,entities:s,country:t}:RE}return i}const vh=[];function $A(i=vh,f){switch(f.type){case ou:return vh;case Lg:return f.payload?f.payload:vh}return i}const GC=[];function HC(i=GC,f){switch(f.type){case Bg:return f.payload||GC;case bp:{const s=f.consentTemplate;return i.map(t=>t.id===s.id?s:t)}}return i}const VC=[];function QD(i=VC,f){switch(f.type){case cu:return VC;case Yd:return f.payload?f.payload:VC}return i}const qD=new e.OlP("UserReducers"),XD={provide:qD,useFactory:function zA(){return{addresses:xr(So,$A),billingCountries:VA,consents:xr(ic,HC),payments:xr(As,IE),countries:WD,regions:xr(di,OE),customerCoupons:xr(js,xE),notificationPreferences:xr(pr,KD),productInterests:xr(_d,JD),costCenters:xr(qf,QD)}}},tA=[function eA(i){return function(f,s){return s.type===ms&&(f=void 0),i(f,s)}}];let YA=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[XD],imports:[Ct.ez,Mi,h.Aw.forFeature("user",qD,{metaReducers:tA}),Ke.sQ.forFeature(HA),qt.Bz]}),i})(),ZA=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[NC],imports:[YA,_E]}),i})(),nA=(()=>{class i{constructor(s,t){this.cmsConfig=s,this.lazyModules=t,this.features=new Map}isConfigured(s){return!!this.getFeatureConfig(s)?.module}resolveFeature(s){return s=this.resolveFeatureAlias(s),(0,M.P)(()=>{if(!this.features.has(s)){if(!this.isConfigured(s))return(0,$._)(new Error("No module defined for Feature Module "+s));const t=this.getFeatureConfig(s);this.features.set(s,this.resolveDependencies(t?.dependencies).pipe((0,wt.w)(n=>this.lazyModules.resolveModuleInstance(t?.module,s,n)),(0,Qt.d)()))}return this.features.get(s)})}getFeatureConfig(s){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(s)]}resolveFeatureAlias(s){for(;"string"==typeof this.cmsConfig.featureModules?.[s];)s=this.cmsConfig.featureModules?.[s];return s}resolveDependencies(s=[]){return s?.length?(0,be.D)(s.map(t=>"string"==typeof t?this.resolveFeature(t):this.lazyModules.resolveDependencyModuleInstance(t))):(0,D.of)(void 0)}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(Dm),e.LFG(yu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rA="proxyFacadeInstance";let WA=(()=>{class i{constructor(s,t){this.featureModules=s,this.injector=t}getResolver(s,t,n=!1){if(!this.featureModules.isConfigured(s))return(0,$._)(new Error(`Feature ${s} is not configured properly`));let o=this.featureModules.resolveFeature(s).pipe((0,we.U)(c=>c.injector),(0,we.U)(c=>c.get(t)));return n&&(o=o.pipe((0,an.g)(0))),o.pipe((0,Qt.d)())}call(s,t,n){const o=s.pipe((0,we.U)(c=>c[t](...n)),Dt());return o.connect(),o.pipe((0,wt.w)(c=>(0,Fe.b)(c)?c:G.E))}get(s,t){return s.pipe((0,wt.w)(n=>n[t]))}create({facade:s,feature:t,methods:n,properties:o,async:c}){const d=this.getResolver(t,s,c),p=new class extends s{};return(n??[]).forEach(_=>{p[_]=(...C)=>this.call(d,_,C)}),(o??[]).forEach(_=>{p[_]=this.get(d,_)}),p[rA]=!0,p}isProxyFacadeInstance(s){return!!s?.[rA]}}return i.\u0275fac=function(s){return new(s||i)(e.LFG(nA),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function oA(i){return(0,e.f3M)(WA).create(i)}function KA(i,f){return()=>Promise.all(i.runModuleInitializerFunctions(f)).catch(t=>{throw console.error("MODULE_INITIALIZER promise was rejected during app initialization.",t),t})}let JA=(()=>{class i{static forRoot(){return{ngModule:i,providers:[{provide:e.ip1,useFactory:KA,deps:[yu,[new e.FiY,ea]],multi:!0}]}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),QA=(()=>{class i{static forRoot(){return{ngModule:i}}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Mi.forRoot(),a.forRoot(),em.forRoot(),Qv.forRoot(),Mm.forRoot(),hA.forRoot(),sS.forRoot(),yA.forRoot(),rm.forRoot(),i_.forRoot(),GS.forRoot(),iC.forRoot(),JA.forRoot()]}),i})()},2732:(de,Q,m)=>{"use strict";m.d(Q,{Ru:()=>De,gV:()=>re,ir:()=>Xe,t1:()=>no,yN:()=>Ge});var u=m(4650),e=m(8555),h=m(9057),N=m(2994),D=m(4850),P=m(2986),k=m(7545),M=m(7221),G=m(4129),V=m(591),I=m(6053),H=m(1086),$=m(3749),J=m(5024);class re{}let ae=(()=>{class Pe{constructor(tt){this.adapter=tt}get(tt,xt){return this.adapter.load(tt,xt)}getHistory(tt,xt,It,Zt){return this.adapter.loadHistory(tt,xt,It,Zt)}getConsignmentTracking(tt,xt,It){return this.adapter.getConsignmentTracking(tt,xt,It)}cancel(tt,xt,It){return this.adapter.cancel(tt,xt,It)}return(tt,xt){return this.adapter.createReturnRequest(tt,xt)}getReturnRequestDetail(tt,xt){return this.adapter.loadReturnRequestDetail(tt,xt)}getReturnRequestList(tt,xt,It,Zt){return this.adapter.loadReturnRequestList(tt,xt,It,Zt)}cancelReturnRequest(tt,xt,It){return this.adapter.cancelReturnRequest(tt,xt,It)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(re))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class De{}let Ze=(()=>{class Pe{constructor(tt){this.adapter=tt}placeOrder(tt,xt,It){return this.adapter.placeOrder(tt,xt,It)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(De))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class Xe{}let Le=(()=>{class Pe{constructor(tt){this.adapter=tt}load(tt,xt){return this.adapter.load(tt,xt)}loadReplenishmentDetailsHistory(tt,xt,It,Zt,ln){return this.adapter.loadReplenishmentDetailsHistory(tt,xt,It,Zt,ln)}cancelReplenishmentOrder(tt,xt){return this.adapter.cancelReplenishmentOrder(tt,xt)}loadHistory(tt,xt,It,Zt){return this.adapter.loadHistory(tt,xt,It,Zt)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(Xe))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class Ge{}let me=(()=>{class Pe{constructor(tt){this.adapter=tt}scheduleReplenishmentOrder(tt,xt,It,Zt){return this.adapter.scheduleReplenishmentOrder(tt,xt,It,Zt)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(Ge))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const se="[Order] Load Consignment Tracking",ze="[Order] Load Consignment Tracking Success",Ie="[Order] Clear Consignment Tracking";class he{constructor(ft){this.payload=ft,this.type=se}}class pe{constructor(ft){this.payload=ft,this.type="[Order] Load Consignment Tracking Fail"}}class ne{constructor(ft){this.payload=ft,this.type=ze}}class _e{constructor(){this.type=Ie}}const oe="cancelOrder",Fe="cancelReturn",Re="cancelReplenishmentOrder",pt="[Order] User Orders",Qe="[Order] Order Return Requests",rt="[Order] Return Request Details",we="[Order] User Order Details",Yt="[Order] User Replenishment Orders",zt="[Order] User Replenishment Order Details",Xt="[Order] Load Order Details",Qt="[Order] Load Order Details Success",Lt="[Order] Cancel Order";class cn extends h.kPG.LoaderLoadAction{constructor(ft){super(we),this.payload=ft,this.type=Xt}}class yn extends h.kPG.LoaderFailAction{constructor(ft){super(we,ft),this.payload=ft,this.type="[Order] Load Order Details Fail"}}class Ft extends h.kPG.LoaderSuccessAction{constructor(ft){super(we),this.payload=ft,this.type=Qt}}class Zn extends h.kPG.LoaderResetAction{constructor(){super(we),this.type="[Order] Clear Order Details"}}class Ot extends h.kPG.EntityLoadAction{constructor(ft){super(h.BzF,oe),this.payload=ft,this.type=Lt}}class bt extends h.kPG.EntityFailAction{constructor(ft){super(h.BzF,oe,ft),this.payload=ft,this.type="[Order] Cancel Order Fail"}}class ke extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,oe),this.type="[Order] Cancel Order Success"}}class je extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,oe),this.type="[Order] Reset Cancel Order Process"}}const Dt="[Order] Create Order Return Request",_n="[Order] Load Order Return Request details",Ee="[Order] Cancel Order Return Request",Jt="[Order] Load User Order Return Request List",an="[Order] Load User Order Return Request List Success";class tr extends h.kPG.LoaderLoadAction{constructor(ft){super(rt),this.payload=ft,this.type=Dt}}class rn extends h.kPG.LoaderFailAction{constructor(ft){super(rt,ft),this.payload=ft,this.type="[Order] Create Order Return Request Fail"}}class fn extends h.kPG.LoaderSuccessAction{constructor(ft){super(rt),this.payload=ft,this.type="[Order] Create Order Return Request Success"}}class We extends h.kPG.LoaderLoadAction{constructor(ft){super(rt),this.payload=ft,this.type=_n}}class Et extends h.kPG.LoaderFailAction{constructor(ft){super(rt,ft),this.payload=ft,this.type="[Order] Load Order Return Request details Fail"}}class _t extends h.kPG.LoaderSuccessAction{constructor(ft){super(rt),this.payload=ft,this.type="[Order] Load Order Return Request details Success"}}class Ct extends h.kPG.EntityLoadAction{constructor(ft){super(h.BzF,Fe),this.payload=ft,this.type=Ee}}class qt extends h.kPG.EntityFailAction{constructor(ft){super(h.BzF,Fe,ft),this.payload=ft,this.type="[Order] Cancel Order Return Request Fail"}}class Tt extends h.kPG.EntitySuccessAction{constructor(){super(h.BzF,Fe),this.type="[Order] Cancel Order Return Request Success"}}class Ke extends h.kPG.LoaderLoadAction{constructor(ft){super(Qe),this.payload=ft,this.type=Jt}}class Dn extends h.kPG.LoaderFailAction{constructor(ft){super(Qe,ft),this.payload=ft,this.type="[Order] Load User Order Return Request List Fail"}}class Nn extends h.kPG.LoaderSuccessAction{constructor(ft){super(Qe),this.payload=ft,this.type=an}}class kn extends h.kPG.LoaderResetAction{constructor(){super(rt),this.type="[Order] Clear Order Return Request Details"}}class hr extends h.kPG.LoaderResetAction{constructor(){super(Qe),this.type="[Order] Clear Order Return Request List"}}class un extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,Fe),this.type="[Order] Reset Cancel Return Request Process"}}const An="[Order] Load User Orders",Sn="[Order] Load User Orders Fail",Vn="[Order] Load User Orders Success";class Qn extends h.kPG.LoaderLoadAction{constructor(ft){super(pt),this.payload=ft,this.type=An}}class ye extends h.kPG.LoaderFailAction{constructor(ft){super(pt,ft),this.payload=ft,this.type=Sn}}class Te extends h.kPG.LoaderSuccessAction{constructor(ft){super(pt),this.payload=ft,this.type=Vn}}class ie extends h.kPG.LoaderResetAction{constructor(){super(pt),this.type="[Order] Clear User Orders"}}const z="[Order] Load Replenishment Order Details",Z="[Order] Load Replenishment Order Details Success",He="[Order] Cancel Replenishment Order",ct="[Order] Cancel Replenishment Order Success";class Tn extends h.kPG.LoaderLoadAction{constructor(ft){super(zt),this.payload=ft,this.type=z}}class bn extends h.kPG.LoaderSuccessAction{constructor(ft){super(zt),this.payload=ft,this.type=Z}}class or extends h.kPG.LoaderFailAction{constructor(ft){super(zt,ft),this.payload=ft,this.type="[Order] Load Replenishment Order Details Fail"}}class Un extends h.kPG.LoaderResetAction{constructor(){super(zt),this.type="[Order] Clear Replenishment Order Details"}}class En extends h.kPG.EntityLoadAction{constructor(ft){super(h.BzF,Re),this.payload=ft,this.type=He}}class qn extends h.kPG.EntitySuccessAction{constructor(ft){super(h.BzF,Re),this.payload=ft,this.type=ct}}class Ar extends h.kPG.EntityFailAction{constructor(ft){super(h.BzF,Re,ft),this.payload=ft,this.type="[Order] Cancel Replenishment Order Fail"}}class Ln extends h.kPG.EntityLoaderResetAction{constructor(){super(h.BzF,Re),this.type="[Order] Clear Cancel Replenishment Order"}}const yr="[Order] Load User Replenishment Orders",hn="[Order] Load User Replenishment Orders Success";class ir extends h.kPG.LoaderLoadAction{constructor(ft){super(Yt),this.payload=ft,this.type=yr}}class sr extends h.kPG.LoaderFailAction{constructor(ft){super(Yt,ft),this.payload=ft,this.type="[Order] Load User Replenishment Orders Fail"}}class Sr extends h.kPG.LoaderSuccessAction{constructor(ft){super(Yt),this.payload=ft,this.type=hn}}class br extends h.kPG.LoaderResetAction{constructor(){super(Yt),this.type="[Order] Clear User Replenishment Orders"}}const Mn=(0,e.ZF)("order"),Rn=(0,e.P1)(Mn,Pe=>Pe.consignmentTracking),ur=(0,e.P1)(Rn,Pe=>Pe.tracking),Xn=(0,e.P1)(Mn,Pe=>Pe.orderDetail),nr=(0,e.P1)(Xn,Pe=>h.kPG.loaderValueSelector(Pe)),Br=(0,e.P1)(Mn,Pe=>Pe.orderReturn),wr=(0,e.P1)(Br,Pe=>h.kPG.loaderValueSelector(Pe)),qr=(0,e.P1)(Br,Pe=>h.kPG.loaderLoadingSelector(Pe)),Er=(0,e.P1)(Br,Pe=>h.kPG.loaderSuccessSelector(Pe)&&!h.kPG.loaderLoadingSelector(Pe)),Se=(0,e.P1)(Mn,Pe=>Pe.orderReturnList),qe=((0,e.P1)(Se,Pe=>h.kPG.loaderValueSelector(Pe)),(0,e.P1)(Mn,Pe=>Pe.orders)),dt=(0,e.P1)(qe,Pe=>h.kPG.loaderSuccessSelector(Pe)),Mt=((0,e.P1)(qe,Pe=>h.kPG.loaderValueSelector(Pe)),(0,e.P1)(Mn,Pe=>Pe.replenishmentOrder)),xn=(0,e.P1)(Mt,Pe=>h.kPG.loaderValueSelector(Pe)),ue=(0,e.P1)(Mt,Pe=>h.kPG.loaderLoadingSelector(Pe)),nt=(0,e.P1)(Mt,Pe=>h.kPG.loaderSuccessSelector(Pe)),et=(0,e.P1)(Mt,Pe=>h.kPG.loaderErrorSelector(Pe)),Bt=(0,e.P1)(Mn,Pe=>Pe.replenishmentOrders),Wn=((0,e.P1)(Bt,Pe=>h.kPG.loaderValueSelector(Pe)),(0,e.P1)(Bt,Pe=>h.kPG.loaderLoadingSelector(Pe))),zr=(0,e.P1)(Bt,Pe=>h.kPG.loaderErrorSelector(Pe)),Yr=(0,e.P1)(Bt,Pe=>h.kPG.loaderSuccessSelector(Pe));let gi=(()=>{class Pe{constructor(tt,xt,It,Zt){this.store=tt,this.processStateStore=xt,this.userIdService=It,this.routingService=Zt}getOrderDetails(){return this.store.pipe((0,e.Ys)(nr))}loadOrderDetails(tt){this.userIdService.takeUserId().subscribe(xt=>{this.store.dispatch(new cn({userId:xt,orderCode:tt}))})}clearOrderDetails(){this.store.dispatch(new Zn)}getOrderHistoryList(tt){return this.store.pipe((0,e.Ys)(qe),(0,N.b)(xt=>{xt.loading||xt.success||xt.error||this.loadOrderList(tt)}),(0,D.U)(xt=>xt.value))}getOrderHistoryListLoaded(){return this.store.pipe((0,e.Ys)(dt))}loadOrderList(tt,xt,It){this.userIdService.takeUserId(!0).subscribe(Zt=>{let ln;this.routingService.getRouterState().pipe((0,P.q)(1)).subscribe(Xr=>{ln=Xr?.state?.params?.replenishmentOrderCode}).unsubscribe(),this.store.dispatch(new Qn({userId:Zt,pageSize:tt,currentPage:xt,sort:It,replenishmentOrderCode:ln}))},()=>{})}clearOrderList(){this.store.dispatch(new ie)}getConsignmentTracking(){return this.store.pipe((0,e.Ys)(ur))}loadConsignmentTracking(tt,xt){this.userIdService.takeUserId().subscribe(It=>{this.store.dispatch(new he({userId:It,orderCode:tt,consignmentCode:xt}))})}clearConsignmentTracking(){this.store.dispatch(new _e)}cancelOrder(tt,xt){this.userIdService.takeUserId().subscribe(It=>{this.store.dispatch(new Ot({userId:It,orderCode:tt,cancelRequestInput:xt}))})}getCancelOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(oe)))}getCancelOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(oe)))}resetCancelOrderProcessState(){return this.store.dispatch(new je)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(e.yh),u.LFG(e.yh),u.LFG(h.XBV),u.LFG(h.Znh))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),Ir=(()=>{class Pe{constructor(tt,xt,It){this.store=tt,this.processStateStore=xt,this.userIdService=It}createOrderReturnRequest(tt){this.userIdService.takeUserId().subscribe(xt=>{this.store.dispatch(new tr({userId:xt,returnRequestInput:tt}))})}getOrderReturnRequest(){return this.store.pipe((0,e.Ys)(wr))}getOrderReturnRequestList(tt){return this.store.pipe((0,e.Ys)(Se),(0,N.b)(xt=>{xt.loading||xt.success||xt.error||this.loadOrderReturnRequestList(tt)}),(0,D.U)(xt=>xt.value))}loadOrderReturnRequestDetail(tt){this.userIdService.takeUserId().subscribe(xt=>{this.store.dispatch(new We({userId:xt,returnRequestCode:tt}))})}loadOrderReturnRequestList(tt,xt,It){this.userIdService.takeUserId(!0).subscribe(Zt=>{this.store.dispatch(new Ke({userId:Zt,pageSize:tt,currentPage:xt,sort:It}))},()=>{})}clearOrderReturnRequestList(){this.store.dispatch(new hr)}getReturnRequestLoading(){return this.store.pipe((0,e.Ys)(qr))}getReturnRequestSuccess(){return this.store.pipe((0,e.Ys)(Er))}clearOrderReturnRequestDetail(){this.store.dispatch(new kn)}cancelOrderReturnRequest(tt,xt){this.userIdService.takeUserId().subscribe(It=>{this.store.dispatch(new Ct({userId:It,returnRequestCode:tt,returnRequestModification:xt}))})}getCancelReturnRequestLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(Fe)))}getCancelReturnRequestSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(Fe)))}resetCancelReturnRequestProcessState(){return this.store.dispatch(new un)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(e.yh),u.LFG(e.yh),u.LFG(h.XBV))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),Vo=(()=>{class Pe{constructor(tt,xt,It,Zt,ln){this.activeCartFacade=tt,this.userIdService=xt,this.commandService=It,this.orderConnector=Zt,this.eventService=ln,this.placedOrder$=new V.X(void 0),this.placeOrderCommand=this.commandService.create(Xr=>this.checkoutPreconditions().pipe((0,k.w)(([Kr,dn])=>this.orderConnector.placeOrder(Kr,dn,Xr).pipe((0,N.b)(No=>{this.placedOrder$.next(No),this.eventService.dispatch({userId:Kr,cartId:dn,cartCode:dn,order:No},G.uZ)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,I.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,P.q)(1),(0,D.U)(([tt,xt,It])=>{if(!tt||!xt||tt===h.Fds&&!It)throw new Error("Checkout conditions not met");return[tt,xt]}))}placeOrder(tt){return this.placeOrderCommand.execute(tt)}getOrderDetails(){return this.placedOrder$.asObservable()}clearPlacedOrder(){this.placedOrder$.next(void 0)}setPlacedOrder(tt){this.placedOrder$.next(tt)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG($.bu),u.LFG(h.XBV),u.LFG(h.VDr),u.LFG(Ze),u.LFG(h.POd))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),ho=(()=>{class Pe{constructor(tt,xt,It){this.store=tt,this.processStateStore=xt,this.userIdService=It}loadReplenishmentOrderDetails(tt){this.userIdService.takeUserId(!0).subscribe(xt=>{this.store.dispatch(new Tn({userId:xt,replenishmentOrderCode:tt}))},()=>{})}getReplenishmentOrderDetails(){return this.store.pipe((0,e.Ys)(xn))}getReplenishmentOrderDetailsLoading(){return this.store.pipe((0,e.Ys)(ue))}getReplenishmentOrderDetailsSuccess(){return this.store.pipe((0,e.Ys)(nt))}getReplenishmentOrderDetailsError(){return this.store.pipe((0,e.Ys)(et))}clearReplenishmentOrderDetails(){this.store.dispatch(new Un)}cancelReplenishmentOrder(tt){this.userIdService.takeUserId(!0).subscribe(xt=>{this.store.dispatch(new En({userId:xt,replenishmentOrderCode:tt}))},()=>{})}getCancelReplenishmentOrderLoading(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessLoadingFactory(Re)))}getCancelReplenishmentOrderSuccess(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessSuccessFactory(Re)))}getCancelReplenishmentOrderError(){return this.processStateStore.pipe((0,e.Ys)(h.VkE.getProcessErrorFactory(Re)))}clearCancelReplenishmentOrderProcessState(){this.store.dispatch(new Ln)}getReplenishmentOrderHistoryList(tt){return this.store.pipe((0,e.Ys)(Bt),(0,N.b)(xt=>{xt.loading||xt.success||xt.error||this.loadReplenishmentOrderList(tt)}),(0,D.U)(xt=>xt.value))}getReplenishmentOrderHistoryListLoading(){return this.store.pipe((0,e.Ys)(Wn))}getReplenishmentOrderHistoryListError(){return this.store.pipe((0,e.Ys)(zr))}getReplenishmentOrderHistoryListSuccess(){return this.store.pipe((0,e.Ys)(Yr))}loadReplenishmentOrderList(tt,xt,It){this.userIdService.takeUserId(!0).subscribe(Zt=>{this.store.dispatch(new ir({userId:Zt,pageSize:tt,currentPage:xt,sort:It}))},()=>{})}clearReplenishmentOrderList(){this.store.dispatch(new br)}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(e.yh),u.LFG(e.yh),u.LFG(h.XBV))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),go=(()=>{class Pe{constructor(tt,xt,It,Zt,ln,Xr){this.activeCartFacade=tt,this.userIdService=xt,this.commandService=It,this.scheduledReplenishmentOrderConnector=Zt,this.eventService=ln,this.orderFacade=Xr,this.scheduleReplenishmentOrderCommand=this.commandService.create(({form:Kr,termsChecked:dn})=>this.checkoutPreconditions().pipe((0,k.w)(([No,Li])=>this.scheduledReplenishmentOrderConnector.scheduleReplenishmentOrder(Li,Kr,dn,No).pipe((0,N.b)(Pr=>{this.orderFacade.setPlacedOrder(Pr),this.eventService.dispatch({userId:No,cartId:Li,cartCode:Li,replenishmentOrder:Pr},G.oL)})))),{strategy:h.flE.CancelPrevious})}checkoutPreconditions(){return(0,I.aj)([this.userIdService.takeUserId(),this.activeCartFacade.takeActiveCartId(),this.activeCartFacade.isGuestCart()]).pipe((0,P.q)(1),(0,D.U)(([tt,xt,It])=>{if(!tt||!xt||tt===h.Fds&&!It)throw new Error("Order conditions not met");return[tt,xt]}))}scheduleReplenishmentOrder(tt,xt){return this.scheduleReplenishmentOrderCommand.execute({termsChecked:xt,form:tt})}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG($.bu),u.LFG(h.XBV),u.LFG(h.VDr),u.LFG(me),u.LFG(h.POd),u.LFG(G.Vh))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Po=[Ir,{provide:G.U1,useExisting:Ir},gi,{provide:G.Kr,useExisting:gi},ho,{provide:G.kp,useExisting:ho},go,{provide:G.wT,useExisting:go},Vo,{provide:G.Vh,useExisting:Vo}],mr=[(()=>{class Pe{constructor(tt,xt,It){this.actions$=tt,this.orderConnector=xt,this.replenishmentOrderConnector=It,this.loadUserOrders$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(An),(0,D.U)(Zt=>Zt.payload),(0,k.w)(Zt=>(Boolean(Zt.replenishmentOrderCode)?this.replenishmentOrderConnector.loadReplenishmentDetailsHistory(Zt.userId,Zt.replenishmentOrderCode??"",Zt.pageSize,Zt.currentPage,Zt.sort):this.orderConnector.getHistory(Zt.userId,Zt.pageSize,Zt.currentPage,Zt.sort)).pipe((0,D.U)(ln=>new Te(ln)),(0,M.K)(ln=>(0,H.of)(new ye((0,h.cxH)(ln)))))))),this.resetUserOrders$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(h.dO9.LANGUAGE_CHANGE),(0,D.U)(()=>new ie)))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(ae),u.LFG(Le))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),(()=>{class Pe{constructor(tt,xt,It){this.actions$=tt,this.orderConnector=xt,this.globalMessageService=It,this.loadOrderDetails$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(Xt),(0,D.U)(Zt=>Zt.payload),(0,k.w)(Zt=>this.orderConnector.get(Zt.userId,Zt.orderCode).pipe((0,D.U)(ln=>new Ft(ln)),(0,M.K)(ln=>(0,H.of)(new yn((0,h.cxH)(ln)))))))),this.cancelOrder$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(Lt),(0,D.U)(Zt=>Zt.payload),(0,k.w)(Zt=>this.orderConnector.cancel(Zt.userId,Zt.orderCode,Zt.cancelRequestInput).pipe((0,D.U)(()=>new ke),(0,M.K)(ln=>(ln.error?.errors.forEach(Xr=>this.globalMessageService.add(Xr.message,h.xUg.MSG_TYPE_ERROR)),(0,H.of)(new bt((0,h.cxH)(ln)))))))))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(ae),u.LFG(h.IWp))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),(()=>{class Pe{constructor(tt,xt){this.actions$=tt,this.orderConnector=xt,this.loadConsignmentTracking$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(se),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.orderConnector.getConsignmentTracking(It.orderCode,It.consignmentCode,It.userId).pipe((0,D.U)(Zt=>new ne(Zt)),(0,M.K)(Zt=>(0,H.of)(new pe((0,h.cxH)(Zt))))))))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(ae))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),(()=>{class Pe{constructor(tt,xt){this.actions$=tt,this.orderConnector=xt,this.createReturnRequest$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(Dt),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.orderConnector.return(It.userId,It.returnRequestInput).pipe((0,D.U)(Zt=>new fn(Zt)),(0,M.K)(Zt=>(0,H.of)(new rn((0,h.cxH)(Zt)))))))),this.loadReturnRequest$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(_n),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.orderConnector.getReturnRequestDetail(It.userId,It.returnRequestCode).pipe((0,D.U)(Zt=>new _t(Zt)),(0,M.K)(Zt=>(0,H.of)(new Et((0,h.cxH)(Zt)))))))),this.cancelReturnRequest$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(Ee),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.orderConnector.cancelReturnRequest(It.userId,It.returnRequestCode,It.returnRequestModification).pipe((0,D.U)(()=>new Tt),(0,M.K)(Zt=>(0,H.of)(new qt((0,h.cxH)(Zt)))))))),this.loadReturnRequestList$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(Jt),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.orderConnector.getReturnRequestList(It.userId,It.pageSize,It.currentPage,It.sort).pipe((0,D.U)(Zt=>new Nn(Zt)),(0,M.K)(Zt=>(0,H.of)(new Dn((0,h.cxH)(Zt))))))))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(ae))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),(()=>{class Pe{constructor(tt,xt,It){this.actions$=tt,this.replenishmentOrderConnector=xt,this.globalMessageService=It,this.loadReplenishmentOrderDetails$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(z),(0,D.U)(Zt=>Zt.payload),(0,k.w)(Zt=>this.replenishmentOrderConnector.load(Zt.userId,Zt.replenishmentOrderCode).pipe((0,D.U)(ln=>new bn(ln)),(0,M.K)(ln=>(0,H.of)(new or((0,h.cxH)(ln)))))))),this.cancelReplenishmentOrder$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(He),(0,D.U)(Zt=>Zt.payload),(0,k.w)(Zt=>this.replenishmentOrderConnector.cancelReplenishmentOrder(Zt.userId,Zt.replenishmentOrderCode).pipe((0,D.U)(ln=>new qn(ln)),(0,M.K)(ln=>(ln?.error?.errors.forEach(Xr=>this.globalMessageService.add(Xr.message,h.xUg.MSG_TYPE_ERROR)),(0,H.of)(new Ar((0,h.cxH)(ln)))))))))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(Le),u.LFG(h.IWp))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),(()=>{class Pe{constructor(tt,xt){this.actions$=tt,this.replenishmentOrderConnector=xt,this.loadUserReplenishmentOrders$=(0,J.GW)(()=>this.actions$.pipe((0,J.l4)(yr),(0,D.U)(It=>It.payload),(0,k.w)(It=>this.replenishmentOrderConnector.loadHistory(It.userId,It.pageSize,It.currentPage,It.sort).pipe((0,D.U)(Zt=>new Sr(Zt)),(0,M.K)(Zt=>(0,H.of)(new sr((0,h.cxH)(Zt))))))))}}return Pe.\u0275fac=function(tt){return new(tt||Pe)(u.LFG(J.eX),u.LFG(Le))},Pe.\u0275prov=u.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})()],ei={tracking:{}};function ti(Pe=ei,ft){switch(ft.type){case ze:return{tracking:ft.payload};case Ie:return ei}return Pe}const ni={};function Lo(Pe=ni,ft){return ft.type===Qt?ft.payload:Pe}const vi={returnRequests:[],pagination:{},sorts:[]};function Rr(Pe=vi,ft){return ft.type===an?ft.payload?ft.payload:vi:Pe}const jo={orders:[],pagination:{},sorts:[]};function Fo(Pe=jo,ft){switch(ft.type){case Vn:return ft.payload?ft.payload:jo;case Sn:return jo}return Pe}const vo={};function to(Pe=vo,ft){switch(ft.type){case Z:case ct:return ft.payload?ft.payload:vo;default:return Pe}}const Pi={replenishmentOrders:[],pagination:{},sorts:[]};function lr(Pe=Pi,ft){switch(ft.type){case hn:return ft.payload?ft.payload:Pi;case ct:{const tt=ft.payload,xt=[...Pe.replenishmentOrders??[]],It=xt.findIndex(Zt=>Zt.replenishmentOrderCode===tt.replenishmentOrderCode);return-1===It?Pi:(xt[It]={...tt},{...Pe,replenishmentOrders:xt})}}return Pe}const Gr=new u.OlP("OrderReducers"),$o={provide:Gr,useFactory:function ri(){return{orders:h.kPG.loaderReducer(pt,Fo),orderDetail:h.kPG.loaderReducer(we,Lo),replenishmentOrders:h.kPG.loaderReducer(Yt,lr),orderReturn:h.kPG.loaderReducer(rt),orderReturnList:h.kPG.loaderReducer(Qe,Rr),consignmentTracking:ti,replenishmentOrder:h.kPG.loaderReducer(zt,to)}}};let Or=(()=>{class Pe{}return Pe.\u0275fac=function(tt){return new(tt||Pe)},Pe.\u0275mod=u.oAB({type:Pe}),Pe.\u0275inj=u.cJS({providers:[$o],imports:[J.sQ.forFeature(mr),e.Aw.forFeature("order",Gr)]}),Pe})(),no=(()=>{class Pe{}return Pe.\u0275fac=function(tt){return new(tt||Pe)},Pe.\u0275mod=u.oAB({type:Pe}),Pe.\u0275inj=u.cJS({providers:[...Po,ae,Le,Ze,me],imports:[Or]}),Pe})()},679:(de,Q,m)=>{"use strict";m.d(Q,{FV:()=>Xe});var u=m(4650),e=m(3749),h=m(9057),N=m(529),D=m(4129),P=m(1737),k=m(7221),M=m(6895),G=m(2732);let V=(()=>{class Le{constructor(me){this.converter=me}convert(me,se){return void 0===se&&(se={...me}),me.entries&&(se.entries=me.entries.map(Ne=>this.convertOrderEntry(Ne,me.code,me.appliedProductPromotions))),me.consignments&&(se.consignments=me.consignments.map(Ne=>({...Ne,entries:Ne.entries?.map(ze=>({...ze,orderEntry:this.convertOrderEntry(ze.orderEntry,me.code,me.appliedProductPromotions)}))}))),me.unconsignedEntries&&(se.unconsignedEntries=me.unconsignedEntries.map(Ne=>this.convertOrderEntry(Ne,me.code,me.appliedProductPromotions))),se}convertOrderEntry(me,se,Ne){return{...me,product:this.converter.convert(me?.product,h.jrf),orderCode:se,promotions:this.converter.convert({item:me,promotions:Ne},e.Cx)}}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),I=(()=>{class Le{constructor(me){this.converter=me}convert(me,se){return void 0===se&&(se={...me}),me.entries&&(se.entries=me.entries.map(Ne=>({...Ne,product:this.converter.convert(Ne.product,h.jrf),promotions:this.converter.convert({item:Ne,promotions:me.appliedProductPromotions},e.Cx)}))),se}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),H=(()=>{class Le{constructor(me){this.converter=me}convert(me,se){return void 0===se&&(se={...me}),me.returnEntries&&(se.returnEntries=me.returnEntries.map(Ne=>({...Ne,orderEntry:this.convertOrderEntry(Ne.orderEntry)}))),se}convertOrderEntry(me){return{...me,product:this.converter.convert(me?.product,h.jrf)}}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),$=(()=>{class Le{convert(me,se){return void 0===se&&(se={...me}),me.replenishmentStartDate&&(se.replenishmentStartDate=this.convertDate(me.replenishmentStartDate)),se}convertDate(me){return`${me}T${(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hourCycle:"h23"})}:00${h.IMh.getLocalTimezoneOffset()}`}}return Le.\u0275fac=function(me){return new(me||Le)},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),J=(()=>{class Le{constructor(me,se,Ne){this.http=me,this.occEndpoints=se,this.converter=Ne}load(me,se){const Ne=this.occEndpoints.buildUrl("orderDetail",{urlParams:{userId:me,orderId:se}});let ze=new N.WM;return me===h.Fds&&(ze=h.Fox.createHeader(h._Re,!0,ze)),this.http.get(Ne,{headers:ze}).pipe(this.converter.pipeable(D.YA))}loadHistory(me,se,Ne,ze){const Ie={};se&&(Ie.pageSize=se.toString()),Ne&&(Ie.currentPage=Ne.toString()),ze&&(Ie.sort=ze.toString());const he=this.occEndpoints.buildUrl("orderHistory",{urlParams:{userId:me},queryParams:Ie});return this.http.get(he).pipe(this.converter.pipeable(D.Rc))}getConsignmentTracking(me,se,Ne=h.zyp){const ze=this.occEndpoints.buildUrl("consignmentTracking",{urlParams:{userId:Ne,orderCode:me,consignmentCode:se}});return this.http.get(ze).pipe(this.converter.pipeable(D.m1))}cancel(me,se,Ne){const ze=this.occEndpoints.buildUrl("cancelOrder",{urlParams:{userId:me,orderId:se}}),Ie=new N.WM({"Content-Type":"application/json"});return this.http.post(ze,Ne,{headers:Ie}).pipe((0,k.K)(he=>(0,P._)(he)))}createReturnRequest(me,se){const Ne=this.occEndpoints.buildUrl("returnOrder",{urlParams:{userId:me}}),ze=new N.WM({"Content-Type":"application/json"});return se=this.converter.convert(se,D.Nz),this.http.post(Ne,se,{headers:ze}).pipe((0,k.K)(Ie=>(0,P._)(Ie)),this.converter.pipeable(D.Ge))}loadReturnRequestList(me,se,Ne,ze){const Ie={};se&&(Ie.pageSize=se.toString()),Ne&&(Ie.currentPage=Ne.toString()),ze&&(Ie.sort=ze.toString());const he=this.occEndpoints.buildUrl("orderReturns",{urlParams:{userId:me},queryParams:Ie});return this.http.get(he).pipe(this.converter.pipeable(D.SL))}loadReturnRequestDetail(me,se){const Ne=this.occEndpoints.buildUrl("orderReturnDetail",{urlParams:{userId:me,returnRequestCode:se}});return this.http.get(Ne).pipe(this.converter.pipeable(D.Ge))}cancelReturnRequest(me,se,Ne){const ze=this.occEndpoints.buildUrl("cancelReturn",{urlParams:{userId:me,returnRequestCode:se}}),Ie=new N.WM({"Content-Type":"application/json"});return this.http.patch(ze,Ne,{headers:Ie}).pipe((0,k.K)(he=>(0,P._)(he)))}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),re=(()=>{class Le{constructor(me,se,Ne){this.http=me,this.occEndpoints=se,this.converter=Ne}placeOrder(me,se,Ne){let ze=new N.WM({"Content-Type":"application/x-www-form-urlencoded"});return me===h.Fds&&(ze=h.Fox.createHeader(h._Re,!0,ze)),this.http.post(this.getPlaceOrderEndpoint(me,se,Ne.toString()),{},{headers:ze}).pipe((0,k.K)(Ie=>(0,P._)((0,h.cxH)(Ie))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(D.YA))}getPlaceOrderEndpoint(me,se,Ne){return this.occEndpoints.buildUrl("placeOrder",{urlParams:{userId:me},queryParams:{cartId:se,termsChecked:Ne}})}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),ae=(()=>{class Le{constructor(me,se,Ne){this.http=me,this.occEndpoints=se,this.converter=Ne}load(me,se){return this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetails",{urlParams:{userId:me,replenishmentOrderCode:se}})).pipe(this.converter.pipeable(D.JD))}loadReplenishmentDetailsHistory(me,se,Ne,ze,Ie){const he={};return Ne&&(he.pageSize=Ne.toString()),ze&&(he.currentPage=ze.toString()),Ie&&(he.sort=Ie.toString()),this.http.get(this.occEndpoints.buildUrl("replenishmentOrderDetailsHistory",{urlParams:{userId:me,replenishmentOrderCode:se},queryParams:he})).pipe(this.converter.pipeable(D.Rc))}cancelReplenishmentOrder(me,se){const Ne=(new N.WM).set("Content-Type","application/json");return this.http.patch(this.occEndpoints.buildUrl("cancelReplenishmentOrder",{urlParams:{userId:me,replenishmentOrderCode:se}}),{},{headers:Ne}).pipe(this.converter.pipeable(D.JD))}loadHistory(me,se,Ne,ze){const Ie={};se&&(Ie.pageSize=se.toString()),Ne&&(Ie.currentPage=Ne.toString()),ze&&(Ie.sort=ze.toString());const he=this.occEndpoints.buildUrl("replenishmentOrderHistory",{urlParams:{userId:me},queryParams:Ie});return this.http.get(he).pipe(this.converter.pipeable(D.HN))}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),De=(()=>{class Le{constructor(me,se,Ne){this.http=me,this.occEndpoints=se,this.converter=Ne}scheduleReplenishmentOrder(me,se,Ne,ze){se=this.converter.convert(se,D.dC);const Ie=(new N.WM).set("Content-Type","application/json");return this.http.post(this.getScheduleReplenishmentOrderEndpoint(ze,me,Ne.toString()),se,{headers:Ie}).pipe((0,k.K)(he=>(0,P._)((0,h.cxH)(he))),(0,h.twT)({shouldRetry:h.Pzz}),this.converter.pipeable(D.JD))}getScheduleReplenishmentOrderEndpoint(me,se,Ne){return this.occEndpoints.buildUrl("scheduleReplenishmentOrder",{urlParams:{userId:me},queryParams:{cartId:se,termsChecked:Ne}})}}return Le.\u0275fac=function(me){return new(me||Le)(u.LFG(N.eN),u.LFG(h.Lz0),u.LFG(h.IXI))},Le.\u0275prov=u.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ze={backend:{occ:{endpoints:{orderHistory:"users/${userId}/orders",orderDetail:"users/${userId}/orders/${orderId}?fields=FULL",consignmentTracking:"users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking",cancelOrder:"users/${userId}/orders/${orderId}/cancellation",returnOrder:"users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",orderReturns:"users/${userId}/orderReturns?fields=BASIC",orderReturnDetail:"users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)",cancelReturn:"users/${userId}/orderReturns/${returnRequestCode}",replenishmentOrderDetails:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderDetailsHistory:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}/orders",cancelReplenishmentOrder:"users/${userId}/replenishmentOrders/${replenishmentOrderCode}?fields=FULL,costCenter(FULL),purchaseOrderNumber,paymentType,user",replenishmentOrderHistory:"users/${userId}/replenishmentOrders?fields=FULL,replenishmentOrders(FULL, purchaseOrderNumber)",placeOrder:"users/${userId}/orders?fields=FULL"}}}};let Xe=(()=>{class Le{}return Le.\u0275fac=function(me){return new(me||Le)},Le.\u0275mod=u.oAB({type:Le}),Le.\u0275inj=u.cJS({providers:[(0,h.i51)(Ze),{provide:G.gV,useClass:J},{provide:G.ir,useClass:ae},{provide:G.Ru,useClass:re},{provide:G.yN,useClass:De},{provide:D.Ge,useExisting:H,multi:!0},{provide:D.YA,useExisting:V,multi:!0},{provide:D.JD,useExisting:I,multi:!0},{provide:D.dC,useExisting:$,multi:!0}],imports:[M.ez]}),Le})()},4129:(de,Q,m)=>{"use strict";m.d(Q,{GH:()=>G,Ge:()=>be,HN:()=>Re,JD:()=>pe,Kr:()=>H,Nz:()=>oe,Rc:()=>ne,SL:()=>Fe,U1:()=>J,Vh:()=>re,WI:()=>se,YA:()=>he,_w:()=>Ne,dC:()=>pt,kp:()=>De,m1:()=>_e,oL:()=>M,pF:()=>Ie,uZ:()=>k,wT:()=>Ze});var u=m(9057),e=m(4650),h=m(1446),N=m(610),D=m(3749);class P extends u.W8x{}let k=(()=>{class Qe extends P{}return Qe.type="OrderPlacedEvent",Qe})(),M=(()=>{class Qe extends P{}return Qe.type="ReplenishmentOrderScheduledEvent",Qe})();const G="order",V="orderCore";let H=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275prov=e.Yz7({token:Qe,factory:function(){return function I(){return(0,u.wvQ)({facade:H,feature:V,methods:["getOrderDetails","loadOrderDetails","clearOrderDetails","getOrderHistoryList","getOrderHistoryListLoaded","loadOrderList","clearOrderList","getConsignmentTracking","loadConsignmentTracking","clearConsignmentTracking","cancelOrder","getCancelOrderLoading","getCancelOrderSuccess","resetCancelOrderProcessState"],async:!0})}()},providedIn:"root"}),Qe})(),J=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275prov=e.Yz7({token:Qe,factory:function(){return function $(){return(0,u.wvQ)({facade:J,feature:V,methods:["createOrderReturnRequest","getOrderReturnRequest","getOrderReturnRequestList","loadOrderReturnRequestDetail","loadOrderReturnRequestList","clearOrderReturnRequestList","getReturnRequestLoading","getReturnRequestSuccess","clearOrderReturnRequestDetail","cancelOrderReturnRequest","getCancelReturnRequestLoading","getCancelReturnRequestSuccess","resetCancelReturnRequestProcessState"],async:!0})}()},providedIn:"root"}),Qe})(),re=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275prov=e.Yz7({token:Qe,factory:function(){return(0,u.wvQ)({facade:Qe,feature:V,methods:["getOrderDetails","clearPlacedOrder","setPlacedOrder","placeOrder"]})},providedIn:"root"}),Qe})(),De=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275prov=e.Yz7({token:Qe,factory:function(){return function ae(){return(0,u.wvQ)({facade:De,feature:V,methods:["loadReplenishmentOrderDetails","getReplenishmentOrderDetails","getReplenishmentOrderDetailsLoading","getReplenishmentOrderDetailsSuccess","getReplenishmentOrderDetailsError","clearReplenishmentOrderDetails","cancelReplenishmentOrder","getCancelReplenishmentOrderLoading","getCancelReplenishmentOrderSuccess","getCancelReplenishmentOrderError","clearCancelReplenishmentOrderProcessState","getReplenishmentOrderHistoryList","getReplenishmentOrderHistoryListLoading","getReplenishmentOrderHistoryListError","getReplenishmentOrderHistoryListSuccess","loadReplenishmentOrderList","clearReplenishmentOrderList"],async:!0})}()},providedIn:"root"}),Qe})(),Ze=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275prov=e.Yz7({token:Qe,factory:function(){return(0,u.wvQ)({facade:Qe,feature:V,methods:["scheduleReplenishmentOrder"]})},providedIn:"root"}),Qe})();const me={routing:{routes:{orders:{paths:["my-account/orders"]},orderDetails:{paths:["my-account/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderGuest:{paths:["guest/order/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturn:{paths:["my-account/order/return/:orderCode"],paramsMapping:{orderCode:"code"}},orderReturnConfirmation:{paths:["my-account/order/return/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancel:{paths:["my-account/order/cancel/:orderCode"],paramsMapping:{orderCode:"code"}},orderCancelConfirmation:{paths:["my-account/order/cancel/confirmation/:orderCode"],paramsMapping:{orderCode:"code"}},returnRequestDetails:{paths:["my-account/return-request/:returnCode"],paramsMapping:{returnCode:"rma"}},replenishmentOrders:{paths:["my-account/my-replenishments"]},replenishmentDetails:{paths:["my-account/my-replenishment/:replenishmentOrderCode"],paramsMapping:{replenishmentOrderCode:"replenishmentOrderCode"}},replenishmentConfirmation:{paths:["replenishment/confirmation"]},orderConfirmation:{paths:["order-confirmation"]}}}},se=new e.OlP("OrderDetailsOrderEntriesContext"),Ne=new e.OlP("OrderConfirmationOrderEntriesContext");function ze(){return{featureModules:{[G]:{cmsComponents:["CancelOrderComponent","CancelOrderConfirmationComponent","ReturnOrderComponent","ReturnOrderConfirmationComponent","AccountOrderDetailsActionsComponent","AccountOrderDetailsItemsComponent","AccountOrderDetailsTotalsComponent","AccountOrderDetailsShippingComponent","AccountOrderHistoryComponent","ReplenishmentDetailItemsComponent","ReplenishmentDetailTotalsComponent","ReplenishmentDetailShippingComponent","ReplenishmentDetailActionsComponent","ReplenishmentDetailOrderHistoryComponent","AccountReplenishmentHistoryComponent","ReturnRequestOverviewComponent","ReturnRequestItemsComponent","ReturnRequestTotalsComponent","OrderReturnRequestListComponent","OrderConfirmationThankMessageComponent","OrderConfirmationItemsComponent","OrderConfirmationTotalsComponent","OrderConfirmationOverviewComponent","ReplenishmentConfirmationMessageComponent","ReplenishmentConfirmationOverviewComponent","ReplenishmentConfirmationItemsComponent","ReplenishmentConfirmationTotalsComponent"],dependencies:[D.O0]},[V]:G}}}let Ie=(()=>{class Qe{}return Qe.\u0275fac=function(we){return new(we||Qe)},Qe.\u0275mod=e.oAB({type:Qe}),Qe.\u0275inj=e.cJS({providers:[(0,u.x2j)(ze),(0,u.i51)(me)],imports:[N.Bz.forChild([{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{pageLabel:"order",cxRoute:"orderGuest"}},{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{cxRoute:"orderDetails",cxContext:{[D.eE]:se}}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancel"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderCancelConfirmation"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturn"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderReturnConfirmation"}},{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{cxRoute:"orders"}},{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentDetails"}},{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{cxRoute:"replenishmentOrders"}},{path:null,canActivate:[u.a1M,h.al$],component:h.wAB,data:{cxRoute:"returnRequestDetails"}},{path:null,canActivate:[h.al$],component:h.wAB,data:{cxRoute:"orderConfirmation",cxContext:{[D.eE]:Ne}}}])]}),Qe})();const he=new e.OlP("OrderNormalizer"),pe=new e.OlP("ReplenishmentOrderNormalizer"),ne=new e.OlP("OrderHistoryNormalizer"),_e=new e.OlP("ConsignmentTrackingNormalizer"),be=new e.OlP("OrderReturnRequestNormalizer"),oe=new e.OlP("OrderReturnRequestInputSerializer"),Fe=new e.OlP("OrderReturnsNormalizer"),Re=new e.OlP("ReplenishmentOrderHistoryNormalizer"),pt=new e.OlP("ReplenishmentOrderFormSerializer")},5883:(de,Q,m)=>{"use strict";m.d(Q,{E1:()=>se,UY:()=>h,al:()=>ze});var u=m(4650),e=m(9057);const h={budgetCode:"budgetCode",unitCode:"unitCode",costCenterCode:"costCenterCode",userCode:"userCode",userGroupCode:"userGroupCode",permissionCode:"permissionCode",addressCode:"addressId"},N=`organization/budgets/:${h.budgetCode}`,D={budgetCode:"code"},P={routing:{routes:{orgBudget:{paths:["organization/budgets"]},orgBudgetCreate:{paths:["organization/budgets/create"]},orgBudgetDetails:{paths:[`${N}`],paramsMapping:D},orgBudgetCostCenters:{paths:[`${N}/cost-centers`],paramsMapping:D},orgBudgetEdit:{paths:[`${N}/edit`],paramsMapping:D}}}},k=`organization/cost-centers/:${h.costCenterCode}`,M={costCenterCode:"code"},G={routing:{routes:{orgCostCenter:{paths:["organization/cost-centers"]},orgCostCenterCreate:{paths:["organization/cost-centers/create"]},orgCostCenterDetails:{paths:[`${k}`],paramsMapping:M},orgCostCenterBudgets:{paths:[`${k}/budgets`],paramsMapping:M},orgCostCenterAssignBudgets:{paths:[`${k}/budgets/assign`],paramsMapping:M},orgCostCenterEdit:{paths:[`${k}/edit`],paramsMapping:M}}}},V={layoutSlots:{CompanyPageTemplate:{slots:["BodyContent"]}}},I=`organization/purchase-limits/:${h.permissionCode}`,H={permissionCode:"code"},$={routing:{routes:{orgPurchaseLimit:{paths:["organization/purchase-limits"]},orgPurchaseLimitCreate:{paths:["organization/purchase-limits/create"]},orgPurchaseLimitDetails:{paths:[I],paramsMapping:H},orgPurchaseLimitEdit:{paths:[`${I}/edit`],paramsMapping:H}}}},J=`organization/units/:${h.unitCode}`,re={unitCode:"uid",addressId:"id",userCode:"customerId"},ae={routing:{routes:{orgUnits:{paths:["organization/units"]},orgUnitCreate:{paths:["organization/units/create"]},orgUnitDetails:{paths:[J],paramsMapping:re},orgUnitEdit:{paths:[`${J}/edit`],paramsMapping:re},orgUnitChildren:{paths:[`${J}/children`],paramsMapping:re},orgUnitCreateChild:{paths:[`${J}/children/create`],paramsMapping:re},orgUnitUserList:{paths:[`${J}/users`],paramsMapping:re},orgUnitCreateUser:{paths:[`${J}/users/create`],paramsMapping:re},orgUnitUserRoles:{paths:[`${J}/users/:userCode/roles`],paramsMapping:re},orgUnitApprovers:{paths:[`${J}/approvers`],paramsMapping:re},orgUnitAssignApprovers:{paths:[`${J}/approvers/assign`],paramsMapping:re},orgUnitAddressList:{paths:[`${J}/addresses`],paramsMapping:re},orgUnitAddressCreate:{paths:[`${J}/addresses/create`],paramsMapping:re},orgUnitAddressDetails:{paths:[`${J}/addresses/:addressId`],paramsMapping:re},orgUnitAddressEdit:{paths:[`${J}/addresses/:addressId/edit`],paramsMapping:re},orgUnitCostCenters:{paths:[`${J}/cost-centers`],paramsMapping:re},orgUnitCreateCostCenter:{paths:[`${J}/cost-centers/create`],paramsMapping:re}}}},De=`organization/user-groups/:${h.userGroupCode}`,Ze={userGroupCode:"uid"},Xe={routing:{routes:{orgUserGroup:{paths:["organization/user-groups"]},orgUserGroupCreate:{paths:["organization/user-groups/create"]},orgUserGroupDetails:{paths:[De],paramsMapping:Ze},orgUserGroupEdit:{paths:[`${De}/edit`],paramsMapping:Ze},orgUserGroupUsers:{paths:[`${De}/users`],paramsMapping:Ze},orgUserGroupAssignUsers:{paths:[`${De}/users/assign`],paramsMapping:Ze},orgUserGroupPermissions:{paths:[`${De}/purchase-limits`],paramsMapping:Ze},orgUserGroupAssignPermissions:{paths:[`${De}/purchase-limits/assign`],paramsMapping:Ze}}}},Le=`organization/users/:${h.userCode}`,Ge={userCode:"customerId"},me={routing:{routes:{orgUser:{paths:["organization/users"]},orgUserCreate:{paths:["organization/users/create"]},orgUserDetails:{paths:[Le],paramsMapping:Ge},orgUserEdit:{paths:[`${Le}/edit`],paramsMapping:Ge},orgUserChangePassword:{paths:[`${Le}/change-password`],paramsMapping:Ge},orgUserApprovers:{paths:[`${Le}/approvers`],paramsMapping:Ge},orgUserAssignApprovers:{paths:[`${Le}/approvers/assign`],paramsMapping:Ge},orgUserPermissions:{paths:[`${Le}/purchase-limits`],paramsMapping:Ge},orgUserAssignPermissions:{paths:[`${Le}/purchase-limits/assign`],paramsMapping:Ge},orgUserUserGroups:{paths:[`${Le}/user-groups`],paramsMapping:Ge},orgUserAssignUserGroups:{paths:[`${Le}/user-groups/assign`],paramsMapping:Ge}}}},se="organizationAdministration";function Ne(){return{featureModules:{[se]:{cmsComponents:["ManageBudgetsListComponent","ManageCostCentersListComponent","ManagePermissionsListComponent","ManageUnitsListComponent","ManageUsersListComponent","ManageUserGroupsListComponent"]}}}}let ze=(()=>{class Ie{}return Ie.\u0275fac=function(pe){return new(pe||Ie)},Ie.\u0275mod=u.oAB({type:Ie}),Ie.\u0275inj=u.cJS({providers:[(0,e.i51)(V),(0,e.i51)({routing:{routes:{organization:{paths:["organization"]}}}}),(0,e.i51)(P),(0,e.i51)(G),(0,e.i51)($),(0,e.i51)(ae),(0,e.i51)(me),(0,e.i51)(Xe),(0,e.x2j)(Ne)]}),Ie})()},5457:(de,Q,m)=>{"use strict";m.d(Q,{Vg:()=>H,Yl:()=>D,kd:()=>P});var u=m(4650),e=m(9057),h=m(6895),N=m(529);let D=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=u.Yz7({token:$,factory:function(re){let ae=null;return ae=re?new(re||$):u.LFG(e.DeH),ae},providedIn:"root"}),$})();const P="smartEdit";let k=(()=>{class ${constructor(re,ae,De){this.config=re,this.location=ae,this.featureModules=De}get cmsTicketId(){return this._cmsTicketId}load(){this.isLaunchedInSmartEdit()&&this.featureModules.isConfigured("smartEdit")&&this.featureModules.resolveFeature("smartEdit").subscribe()}isLaunchedInSmartEdit(){const re=this.location.path().split("?")[0],De=this.location.path().split("?")[1]?.split("&").find(Ze=>Ze.startsWith("cmsTicketId="));return this._cmsTicketId=De?.split("=")[1],re.split("/").pop()===this.config.smartEdit?.storefrontPreviewRoute&&!!this._cmsTicketId}}return $.\u0275fac=function(re){return new(re||$)(u.LFG(D),u.LFG(h.Ye),u.LFG(e.q2V))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const M={smartEdit:{storefrontPreviewRoute:"cx-preview",allowOrigin:"localhost:9002"}},V=[{provide:N.TP,useExisting:(()=>{class ${constructor(re){this.service=re}intercept(re,ae){return this.service.cmsTicketId&&re.url.includes("/cms/")&&(re=re.clone({setParams:{cmsTicketId:this.service.cmsTicketId}})),ae.handle(re)}}return $.\u0275fac=function(re){return new(re||$)(u.LFG(k))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),multi:!0}];function I($){return()=>{$.load()}}let H=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({providers:[...V,(0,e.i51)(M),{provide:u.ip1,useFactory:I,deps:[k],multi:!0}]}),$})()},1446:(de,Q,m)=>{"use strict";m.d(Q,{sAk:()=>Kf,rSk:()=>au,CY4:()=>Ap,qUU:()=>bp,_x$:()=>tg,_VN:()=>zi,qst:()=>yu,cgP:()=>Yi,p$5:()=>Da,Bst:()=>zc,R8M:()=>wg,sy8:()=>Ig,ncj:()=>Su,wHA:()=>zd,r:()=>Mi,AkF:()=>sc,dTQ:()=>Ts,Fy4:()=>So,bBg:()=>cc,Jv5:()=>Zd,exf:()=>Qr,al$:()=>ji,wtB:()=>wv,T2n:()=>Ea,ObY:()=>Vp,pHG:()=>Hs,kal:()=>Gg,Myk:()=>Oo,Lr3:()=>tu,I$v:()=>vg,Eo6:()=>Ed,GjU:()=>Lv,Yre:()=>_g,Obx:()=>QC,Lt1:()=>Fv,RRe:()=>Ro,Hyp:()=>uu,Ahv:()=>sl,Fym:()=>fi,hfq:()=>Ms,upR:()=>al,uY5:()=>Aa,srj:()=>bd,NHU:()=>dl,iqf:()=>Cp,mUh:()=>Qv,e1G:()=>fr,oJW:()=>vr,QX1:()=>Jr,KBw:()=>cr,g0H:()=>Bg,odZ:()=>yg,Td$:()=>Dd,oPH:()=>Jo,Q3W:()=>Vi,LOH:()=>Od,xuE:()=>nu,FLS:()=>vu,Ixg:()=>qg,R7z:()=>bs,cOq:()=>Zi,qqZ:()=>Tg,$zX:()=>up,Kcf:()=>Ks,lzR:()=>wp,z4w:()=>mc,xRf:()=>Dl,AG5:()=>Cl,VnX:()=>pi,LcC:()=>ul,F9u:()=>Ip,WCT:()=>_a,$3S:()=>Bo,f5$:()=>li,otu:()=>Wr,OKE:()=>qu,NyP:()=>ng,_Gt:()=>ss,kl2:()=>El,wAB:()=>Qo,GG_:()=>Es,JSc:()=>ud,ISW:()=>Jc,vFz:()=>Xu,QtL:()=>ll,u3b:()=>wn,X84:()=>Tv,Ird:()=>bv,z2b:()=>$g,k5W:()=>yd,UUf:()=>il,pvk:()=>Wg,knA:()=>xa,E7s:()=>Vv,xZn:()=>hu,tFc:()=>$v,GZp:()=>zv,Z6X:()=>lu,fw4:()=>tf,RVA:()=>gc,FHW:()=>Hp,dDJ:()=>qv,Sk1:()=>pu,zah:()=>Kg,nKP:()=>gu,lc1:()=>ap,Quc:()=>Dg,fVH:()=>lp,k$G:()=>$s,Fjo:()=>$i,Bvt:()=>Jd,F4:()=>zg,gJ3:()=>xv,H7c:()=>_p,ap8:()=>ou,iNG:()=>cl,ORR:()=>io,Fme:()=>di,_fG:()=>cp,aNp:()=>Td,v5t:()=>Zv,gJ4:()=>Dp,Fpw:()=>lc,ac$:()=>pp,dfC:()=>ba,U$I:()=>hp,wmr:()=>xg,FS_:()=>bi,HrZ:()=>Ag,XiQ:()=>wi,TrH:()=>rm,MuM:()=>$p,qCb:()=>Xa,ke7:()=>pl});var u=m(6895),e=m(4650),h=m(9057),N=m(591),D=m(6053),P=m(2654),k=m(1086),M=m(6498),G=m(839),V=m(8514),I=m(567),H=m(8896),$=m(1221),J=m(4715),re=m(5254),ae=m(8929),De=m(8723),Ze=m(5409),Xe=m(8139),Le=m(353),Ge=m(4241);function se(a){const{subscriber:g,counter:r,period:l}=a;g.next(r),this.schedule({subscriber:g,counter:r+1,period:l},l)}var Ne=m(6787),ze=m(2198),Ie=m(2994),he=m(4850),pe=m(2986),ne=m(7224),_e=m(1709),be=m(5778),oe=m(7545),Fe=m(5154),Re=m(7604),pt=m(8117),Qe=m(1059),rt=m(537),we=m(9403),zt=m(7168),Xt=m(2014),gt=m(8003),Qt=m(7221),Wt=m(13),Lt=m(1307),wt=m(373),Pn=m(7770),Rt=m(519),cn=m(655),yn=m(1481),Ft=m(610),Zn=m(1848),Ot=m(4006),bt=m(7039),ke=m(3753),je=m(3489);const Dt={leading:!0,trailing:!1};class Ae{constructor(g,r,l,v){this.duration=g,this.scheduler=r,this.leading=l,this.trailing=v}call(g,r){return r.subscribe(new Ee(g,this.duration,this.scheduler,this.leading,this.trailing))}}class Ee extends je.L{constructor(g,r,l,v,T){super(g),this.duration=r,this.scheduler=l,this.leading=v,this.trailing=T,this._hasTrailingValue=!1,this._trailingValue=null}_next(g){this.throttled?this.trailing&&(this._trailingValue=g,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(st,this.duration,{subscriber:this})),this.leading?this.destination.next(g):this.trailing&&(this._trailingValue=g,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const g=this.throttled;g&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),g.unsubscribe(),this.remove(g),this.throttled=null)}}function st(a){const{subscriber:g}=a;g.clearThrottle()}function Jt(a,g,r,l){const v=window&&!!window.document&&window.document.documentElement;let T=v&&g?window:r;if(a&&(T=a&&v&&"string"==typeof a?function Nt(a,g,r){return(r?window.document:g).querySelector(a)}(a,r.nativeElement,l):a,!T))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return T}function an(a){return a&&!a.firstChange}const gn={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},mn={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class tr{constructor(g=!0){this.vertical=g,this.propsMap=g?gn:mn}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Et(a){return["Window","global"].some(r=>Object.prototype.toString.call(a).includes(r))}function _t(a,g){return a?g.document.documentElement:null}function Ct(a,g){const r=function Dn({container:a,isWindow:g,axis:r}){const{offsetHeightKey:l,clientHeightKey:v}=Ke(r);return Nn(a,g,l,v)}(g);return g.isWindow?function qt(a,g,r){const{axis:l,container:v,isWindow:T}=r,{offsetHeightKey:W,clientHeightKey:Be}=Ke(l),yt=a+hr(_t(T,v),l,T),jt=Nn(g.nativeElement,T,W,Be),On=function kn(a,g,r){const l=g.topKey();if(a.getBoundingClientRect)return a.getBoundingClientRect()[l]+hr(a,g,r)}(g.nativeElement,l,T)+jt;return{height:a,scrolled:yt,totalToScroll:On,isWindow:T}}(r,a,g):function Tt(a,g,r){const{axis:l,container:v}=r;return{height:a,scrolled:v[l.scrollTopKey()],totalToScroll:v[l.scrollHeightKey()],isWindow:!1}}(r,0,g)}function Ke(a){return{offsetHeightKey:a.offsetHeightKey(),clientHeightKey:a.clientHeightKey()}}function Nn(a,g,r,l){if(isNaN(a[r])){const v=_t(g,a);return v?v[l]:0}return a[r]}function hr(a,g,r){const l=g.pageYOffsetKey(),v=g.scrollTopKey(),T=g.offsetTopKey();return isNaN(window.pageYOffset)?_t(r,a)[v]:a.ownerDocument?a.ownerDocument.defaultView[l]:a[T]}function un(a,g={down:0,up:0},r){let l,v;if(a.totalToScroll<=0)return!1;const T=a.isWindow?a.scrolled:a.height+a.scrolled;return r?(l=(a.totalToScroll-T)/a.totalToScroll,v=(g?.down?g.down:0)/10):(l=a.scrolled/(a.scrolled+(a.totalToScroll-T)),v=(g?.up?g.up:0)/10),l<=v}class z{constructor({totalToScroll:g}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=g}updateScrollPosition(g){return this.lastScrollPosition=g}updateTotalToScroll(g){this.lastTotalToScroll!==g&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=g)}updateScroll(g,r){this.updateScrollPosition(g),this.updateTotalToScroll(r)}updateTriggeredFlag(g,r){r?this.triggered.down=g:this.triggered.up=g}isTriggeredScroll(g,r){return r?this.triggered.down===g:this.triggered.up===g}}function ct(a){const{scrollDown:g,stats:{scrolled:r}}=a;return{type:g?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:r}}}let Gt=(()=>{class a{constructor(r,l){this.element=r,this.zone=l,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:r,infiniteScrollDisabled:l,infiniteScrollDistance:v}){const T=an(r),W=an(l),Be=an(v),yt=!W&&!this.infiniteScrollDisabled||W&&!l.currentValue||Be;(T||W||Be)&&(this.destroyScroller(),yt&&this.setup())}setup(){(function kt(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function Z(a){const{scrollContainer:g,scrollWindow:r,element:l,fromRoot:v}=a,T=function fn({windowElement:a,axis:g}){return function We(a,g){const r=a.isWindow||g&&!g.nativeElement?g:g.nativeElement;return{...a,container:r}}({axis:g,isWindow:Et(a)},a)}({axis:new tr(!a.horizontal),windowElement:Jt(g,r,l,v)}),W=new z({totalToScroll:Ct(l,T)}),yt={up:a.upDistance,down:a.downDistance};return function x(a){let g=(0,ke.R)(a.container,"scroll");return a.throttle&&(g=g.pipe(function it(a,g=Le.P,r=Dt){return l=>l.lift(new Ae(a,g,r.leading,r.trailing))}(a.throttle,void 0,{leading:!0,trailing:!0}))),g}({container:T.container,throttle:a.throttle}).pipe((0,_e.zg)(()=>(0,k.of)(Ct(l,T))),(0,he.U)(jt=>function le(a,g,r){const{scrollDown:l,fire:v}=function Sn(a,g,r){const l=function An(a,g){return a<g.scrolled}(a,g);return{fire:un(g,r,l),scrollDown:l}}(a,g,r);return{scrollDown:l,fire:v,stats:g}}(W.lastScrollPosition,jt,yt)),(0,Ie.b)(({stats:jt})=>W.updateScroll(jt.scrolled,jt.totalToScroll)),(0,ze.h)(({fire:jt,scrollDown:On,stats:{totalToScroll:qo}})=>function rn(a,g,r){return!!(a&&g||!r&&g)}(a.alwaysCallback,jt,W.isTriggeredScroll(qo,On))),(0,Ie.b)(({scrollDown:jt,stats:{totalToScroll:On}})=>{W.updateTriggeredFlag(On,jt)}),(0,he.U)(ct))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(r=>this.handleOnScroll(r))})}handleOnScroll({type:r,payload:l}){const v="[NGX_ISE] DOWN"===r?this.scrolled:this.scrolledUp;(function Ut(a){return a.observed??a.observers.length>0})(v)&&this.zone.run(()=>v.emit(l))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.R0b))},a.\u0275dir=e.lG2({type:a,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),a})(),Tn=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();var bn=m(529),or=m(5024),Un=m(6943),En=m(8555);const qn=function(a){return{"anonymous-consent-banner-hidden":a}};function Ar(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA()(),e.TgZ(11,"div",7)(12,"button",8),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.viewDetails())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()()()()(),e.BQk()}if(2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngClass",e.VKq(13,qn,!r)),e.xp6(5),e.hij(" ",e.lcZ(7,5,"anonymousConsents.banner.title")," "),e.xp6(3),e.hij(" ",e.lcZ(10,7,"anonymousConsents.banner.description")," "),e.xp6(4),e.hij(" ",e.lcZ(14,9,"anonymousConsents.banner.viewDetails")," "),e.xp6(3),e.hij(" ",e.lcZ(17,11,"anonymousConsents.banner.allowAll")," ")}}const Ln=["*"];function yr(a,g){1&a&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function Tr(a,g){1&a&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"cxTranslate"),e._UZ(3,"div",14),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"anonymousConsents.dialog.legalDescription")," "))}function hn(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",18)(1,"cx-consent-management-form",19),e.NdJ("consentChanged",function(v){e.CHM(r);const T=e.oxw(4);return e.KtG(T.onConsentChange(v))}),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw().ngIf,v=e.oxw(3);e.xp6(1),e.Q6J("consentTemplate",r)("requiredConsents",v.requiredConsents)("consent",v.getCorrespondingConsent(r,l))}}function $r(a,g){if(1&a&&(e.ynx(0),e.YNc(1,hn,2,3,"div",17),e.BQk()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function ir(a,g){if(1&a&&(e.TgZ(0,"div",15),e.YNc(1,$r,2,1,"ng-container",16),e.ALo(2,"async"),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.consents$))}}function sr(a,g){if(1&a){const r=e.EpF();e._UZ(0,"div",4),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",5)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close("Cross click"))}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",7),e._UZ(9,"cx-icon",8),e.qZA()()(),e.YNc(10,Tr,4,3,"div",9),e.TgZ(11,"div",10)(12,"a",11),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.rejectAll())}),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"a",11),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.allowAll())}),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA()(),e.YNc(18,ir,3,3,"div",12),e.ALo(19,"async")}if(2&a){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,8,"common.loaded")),e.xp6(4),e.hij(" ",e.lcZ(5,10,"anonymousConsents.dialog.title")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,12,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE),e.xp6(1),e.Q6J("ngIf",r.showLegalDescription),e.xp6(3),e.Oqu(e.lcZ(14,14,"anonymousConsents.dialog.clearAll")),e.xp6(3),e.Oqu(e.lcZ(17,16,"anonymousConsents.dialog.selectAll")),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,18,r.templates$))}}const Sr=["open"];function br(a,g){if(1&a&&e.GkF(0,4),2&a){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const gr=function(a){return{component:a}};function Mn(a,g){if(1&a){const r=e.EpF();e.YNc(0,br,1,1,"ng-template",3),e.NdJ("loaded",function(v){e.CHM(r);const T=e.oxw(4);return e.KtG(T.isLoaded(v))})}if(2&a){const r=e.oxw().$implicit,l=e.oxw(3);e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.VKq(3,gr,r))("cxOutletDefer",l.getComponentDeferOptions(r.flexType))}}function Rn(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Mn,1,5,null,0),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",r.flexType)}}function ur(a,g){if(1&a&&e.YNc(0,Rn,2,1,"ng-container",2),2&a){const r=e.oxw(2);e.Q6J("ngForOf",r.components)}}const Xn=function(a){return{components$:a}};function nr(a,g){if(1&a&&e.YNc(0,ur,1,1,"ng-template",1),2&a){const r=e.oxw();e.Q6J("cxOutlet",r.position)("cxOutletContext",e.VKq(2,Xn,r.components$))}}function Br(a,g){if(1&a&&(e._UZ(0,"cx-page-slot",3),e.ALo(1,"async")),2&a){const r=g.$implicit,l=e.oxw(3);e.Q6J("position",r)("isPageFold",r===e.lcZ(1,2,l.pageFoldSlot$))}}function wr(a,g){if(1&a&&(e.Hsn(0),e.YNc(1,Br,2,4,"cx-page-slot",2),e.ALo(2,"async")),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,r.slots$))}}const qr=function(a,g,r){return{templateName$:a,slots$:g,section$:r}};function Er(a,g){if(1&a&&e.YNc(0,wr,3,3,"ng-template",1),2&a){const r=g.ngIf,l=e.oxw();e.Q6J("cxPageTemplateStyle",r)("cxOutlet",r)("cxOutletContext",e.kEZ(3,qr,l.templateName$,l.slots$,l.section$))}}function Se(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"p"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"ul")(7,"li"),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"button",3),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.prompt())}),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()}2&a&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"pwa.addToHomeScreenDescription")," "),e.xp6(4),e.Oqu(e.lcZ(9,6,"pwa.noInstallationNeeded")),e.xp6(3),e.Oqu(e.lcZ(12,8,"pwa.fastAccessToApplication")),e.xp6(3),e.hij(" ",e.lcZ(15,10,"pwa.addToHomeScreen")," "))}function qe(a,g){if(1&a&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Oqu(r.title)}}function dt(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const v=e.oxw().ngIf,T=e.oxw();return e.KtG(T.activeSlide=T.activeSlide-v)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&a){const r=e.oxw(2);e.Q6J("disabled",0===r.activeSlide),e.uIk("aria-label",e.lcZ(1,3,"carousel.previousSlide")),e.xp6(2),e.Q6J("type",r.previousIcon)}}function Vt(a,g){1&a&&e.GkF(0)}const Mt=function(a){return{item:a}};function xn(a,g){if(1&a&&(e.TgZ(0,"div",12),e.YNc(1,Vt,1,0,"ng-container",13),e.qZA()),2&a){const r=g.ngIf,l=e.oxw(3).index,v=e.oxw(2);e.ekj("active",l===v.activeSlide),e.xp6(1),e.Q6J("ngTemplateOutlet",v.template)("ngTemplateOutletContext",e.VKq(4,Mt,r))}}function ue(a,g){if(1&a&&(e.ynx(0),e.YNc(1,xn,2,6,"div",11),e.ALo(2,"async"),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r))}}function nt(a,g){if(1&a&&(e.TgZ(0,"div",10),e.YNc(1,ue,3,3,"ng-container",4),e.ALo(2,"slice"),e.qZA()),2&a){const r=e.oxw().index,l=e.oxw().ngIf,v=e.oxw();e.ekj("active",r===v.activeSlide),e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,v.items,r,r+l))}}function et(a,g){if(1&a&&(e.ynx(0),e.YNc(1,nt,3,7,"div",9),e.BQk()),2&a){const r=g.index,l=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",r%l==0)}}function Bt(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const v=e.oxw().ngIf,T=e.oxw();return e.KtG(T.activeSlide=T.activeSlide+v)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",8),e.qZA()}if(2&a){const r=e.oxw().ngIf,l=e.oxw();e.Q6J("disabled",l.activeSlide>l.items.length-r-1),e.uIk("aria-label",e.lcZ(1,3,"carousel.nextSlide")),e.xp6(2),e.Q6J("type",l.nextIcon)}}const vn=function(a){return{currentSlideNumber:a}};function Wn(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",17),e.NdJ("focus",function(){e.CHM(r);const v=e.oxw().index,T=e.oxw(3);return e.KtG(T.activeSlide=v)}),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",18),e.qZA()}if(2&a){const r=e.oxw().index,l=e.oxw(2).ngIf,v=e.oxw();e.Q6J("disabled",r===v.activeSlide),e.uIk("aria-label",e.xi3(1,3,"carousel.slideNumber",e.VKq(6,vn,v.getSlideNumber(l,r)))),e.xp6(2),e.Q6J("type",v.indicatorIcon)}}function zr(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Wn,3,8,"button",16),e.BQk()),2&a){const r=g.index,l=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",r%l==0)}}function Yr(a,g){if(1&a&&(e.TgZ(0,"div",15),e.YNc(1,zr,2,1,"ng-container",4),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.items)}}function hi(a,g){if(1&a&&(e.ynx(0),e.YNc(1,qe,2,1,"h2",0),e.TgZ(2,"div",1),e.YNc(3,dt,3,5,"button",2),e.TgZ(4,"div",3),e.YNc(5,et,2,1,"ng-container",4),e.qZA(),e.YNc(6,Bt,3,5,"button",5),e.qZA(),e.YNc(7,Yr,2,1,"div",6),e.BQk()),2&a){const r=g.ngIf,l=e.oxw();e.xp6(1),e.Q6J("ngIf",l.title),e.xp6(1),e.Q6J("ngClass","size-"+r),e.xp6(1),e.Q6J("ngIf",r<l.items.length),e.xp6(2),e.Q6J("ngForOf",l.items),e.xp6(1),e.Q6J("ngIf",r<l.items.length),e.xp6(1),e.Q6J("ngIf",!l.hideIndicators&&r<l.items.length)}}function gi(a,g){if(1&a&&e._UZ(0,"cx-carousel",2),2&a){const r=g.ngIf;e.oxw();const l=e.MAs(3);e.Q6J("items",r)("template",l)}}const Ir=function(a,g,r){return{flexType:a,typeCode:g,uid:r}};function Vo(a,g){if(1&a&&e.GkF(0,3),2&a){const r=g.item;e.Q6J("cxComponentWrapper",e.kEZ(1,Ir,r.typeCode,r.typeCode,null==r?null:r.uid))}}function ho(a,g){1&a&&(e.TgZ(0,"div")(1,"div",2),e._UZ(2,"cx-spinner"),e.qZA()())}function go(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-consent-management-form",10),e.NdJ("consentChanged",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.onConsentChange(v))}),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw(3);e.Q6J("consentTemplate",r)("requiredConsents",l.requiredConsents)}}function Po(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"button",7),e.NdJ("click",function(){const T=e.CHM(r).ngIf,W=e.oxw(2);return e.KtG(W.rejectAll(T))}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){const T=e.CHM(r).ngIf,W=e.oxw(2);return e.KtG(W.allowAll(T))}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",6),e.YNc(11,go,1,2,"cx-consent-management-form",9),e.qZA()(),e.BQk()}if(2&a){const r=g.ngIf;e.xp6(4),e.hij(" ",e.lcZ(5,3,"consentManagementForm.clearAll")," "),e.xp6(3),e.hij(" ",e.lcZ(8,5,"consentManagementForm.selectAll")," "),e.xp6(4),e.Q6J("ngForOf",r)}}function Oi(a,g){if(1&a&&(e._UZ(0,"div",3),e.ALo(1,"cxTranslate"),e.YNc(2,Po,12,7,"ng-container",4),e.ALo(3,"async")),2&a){const r=e.oxw();e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,r.templateList$))}}function mo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("keydown.enter",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.close(v))})("keydown.space",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.close(v))})("click",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.close(v))}),e._UZ(1,"cx-icon",6),e.qZA()}if(2&a){const r=e.oxw();e.xp6(1),e.Q6J("type",r.iconTypes.CLOSE)}}function Ao(a,g){1&a&&e.GkF(0)}function Xo(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Ao,1,0,"ng-container",7),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",r.content)}}function mi(a,g){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.content)}}function To(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw();e.hij(" ",r.content," ")}}const mr=function(){return{placement:"auto",appendToBody:!0,displayCloseButton:!0}};function ei(a,g){if(1&a&&(e.TgZ(0,"button",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a){e.oxw();const r=e.MAs(6);e.Q6J("cxPopover",r)("cxPopoverOptions",e.DdM(5,mr)),e.xp6(1),e.hij(" ",e.lcZ(2,3,"common.more")," ")}}const ti=function(a){return[a]};function ni(a,g){if(1&a&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.Q6J("id","content-header"+(r.index>=0?"-"+r.index:"")),e.xp6(1),e.hij(" ",r.content.header," ")}}function Lo(a,g){if(1&a&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.deleteMsg," ")}}function vi(a,g){if(1&a&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.title," ")}}function Rr(a,g){if(1&a&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.content.textBold," ")}}function jo(a,g){if(1&a&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r," ")}}function Fo(a,g){if(1&a&&e._UZ(0,"cx-truncate-text-popover",21),2&a){const r=e.oxw().$implicit,l=e.oxw(2);e.Q6J("charactersLimit",l.charactersLimit)("content",r)}}function vo(a,g){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,jo,2,1,"div",18),e.YNc(2,Fo,1,2,"ng-template",null,19,e.W1O),e.qZA()),2&a){const r=e.MAs(3),l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!l.truncateText)("ngIfElse",r)}}function to(a,g){if(1&a&&(e.TgZ(0,"div")(1,"div",24),e._uU(2),e.qZA()()),2&a){const r=g.$implicit;e.xp6(2),e.hij(" ",r," ")}}function Pi(a,g){if(1&a&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.qZA(),e.YNc(3,to,3,1,"div",9),e.qZA()),2&a){const r=g.$implicit;e.xp6(2),e.Oqu(r.title),e.xp6(1),e.Q6J("ngForOf",r.text)}}function lr(a,g){if(1&a&&(e.TgZ(0,"div",25),e._UZ(1,"cx-icon",26),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("type",r.content.img)}}const ri=function(){return{autofocus:!0}};function Gr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.cancelEdit())}),e.ALo(3,"cxTranslate"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()(),e.TgZ(6,"div",30)(7,"button",31),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.delete())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA()()()}2&a&&(e.xp6(2),e.Q6J("cxAtMessage",e.lcZ(3,4,"assistiveMessage.actionCancelled")),e.xp6(2),e.hij(" ",e.lcZ(5,6,"common.cancel")," "),e.xp6(2),e.Q6J("cxFocus",e.DdM(10,ri)),e.xp6(2),e.hij(" ",e.lcZ(9,8,"common.delete")," "))}function $o(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(5);return e.KtG(v.delete())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function Or(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(5);return e.KtG(v.setDefault())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function no(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(5);return e.KtG(v.send())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit,l=e.oxw(3);e.uIk("aria-describedby",l.index>=0&&l.content.header&&!l.editMode?"content-header-"+l.index:null),e.xp6(1),e.hij(" ",r.name," ")}}function Pe(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(5);return e.KtG(v.edit())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function ft(a,g){if(1&a&&(e.ynx(0,35),e.YNc(1,$o,2,1,"button",36),e.YNc(2,Or,2,1,"button",36),e.YNc(3,no,2,2,"button",36),e.YNc(4,Pe,2,1,"button",36),e.BQk()),2&a){const r=e.oxw().$implicit;e.Q6J("ngSwitch",r.event),e.xp6(1),e.Q6J("ngSwitchCase","delete"),e.xp6(1),e.Q6J("ngSwitchCase","default"),e.xp6(1),e.Q6J("ngSwitchCase","send"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function tt(a,g){if(1&a&&(e.TgZ(0,"a",38),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.s9C("href",r.link,e.LSH),e.xp6(1),e.hij(" ",r.name," ")}}function xt(a,g){if(1&a&&(e.TgZ(0,"div")(1,"div"),e.YNc(2,ft,5,5,"ng-container",33),e.YNc(3,tt,2,2,"a",34),e.qZA()()),2&a){const r=g.$implicit,l=e.oxw(3);e.xp6(2),e.Q6J("ngIf",l.isCardAction(r)),e.xp6(1),e.Q6J("ngIf",l.isCardLinkAction(r))}}function It(a,g){if(1&a&&(e.TgZ(0,"div",32),e.YNc(1,xt,4,2,"div",9),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.content.actions)}}const Zt=function(a){return{number:a}};function ln(a,g){if(1&a&&(e.TgZ(0,"div",1),e.ALo(1,"cxTranslate"),e.YNc(2,ni,2,2,"div",2),e.TgZ(3,"div",3),e.YNc(4,Lo,2,1,"div",4),e.YNc(5,vi,2,1,"span",5),e.TgZ(6,"div",6)(7,"div",7),e.YNc(8,Rr,2,1,"div",8),e.YNc(9,vo,4,2,"div",9),e.YNc(10,Pi,4,2,"div",10),e.qZA(),e.YNc(11,lr,2,1,"div",11),e.qZA(),e.YNc(12,Gr,10,11,"div",12),e.YNc(13,It,2,1,"div",13),e.qZA()()),2&a){const r=e.oxw();let l;e.ekj("cx-card-border",r.border)("cx-card-fit-to-container",r.fitToContainer),e.Q6J("tabindex",r.border?0:-1),e.uIk("role",null!==(l=r.content.role)&&void 0!==l?l:null)("aria-label",r.content.label?e.xi3(1,18,r.content.label,e.VKq(21,Zt,r.index)):null),e.xp6(2),e.Q6J("ngIf",r.content.header&&!r.editMode),e.xp6(1),e.ekj("cx-card-delete",r.editMode),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.title),e.xp6(3),e.Q6J("ngIf",r.content.textBold),e.xp6(1),e.Q6J("ngForOf",r.content.text),e.xp6(1),e.Q6J("ngForOf",r.content.paragraphs),e.xp6(1),e.Q6J("ngIf",r.content.img),e.xp6(1),e.Q6J("ngIf",r.editMode),e.xp6(1),e.Q6J("ngIf",r.content.actions&&!r.editMode)}}function Xr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"img",1),e.NdJ("load",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.loadHandler())})("error",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.errorHandler())}),e.qZA()}if(2&a){const r=e.oxw();e.uIk("src",r.media.src,e.LSH)("srcset",r.media.srcset)("alt",r.media.alt)("role",r.media.role)("loading",r.loading)}}function Kr(a,g){if(1&a&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a){const r=g.$implicit,l=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,l.prefix+"."+r[0],l.getTranslationParams(r[1]))," ")}}function dn(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Kr,3,4,"p",1),e.BQk()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}function No(a,g){if(1&a&&(e.ynx(0),e.YNc(1,dn,2,1,"ng-container",0),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.hidden)}}const Li=function(a,g){return{max:a,min:g}},Pr=["fileInput"];function fe(a,g){if(1&a&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&a){const r=g.$implicit;e.xp6(1),e.hij(" ",null==r?null:r.name,"\n")}}function Ue(a,g){1&a&&e.GkF(0)}function ee(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"a",3),e.YNc(2,Ue,1,0,"ng-container",4),e.qZA(),e.BQk()),2&a){const r=e.oxw(),l=e.MAs(4);e.xp6(1),e.Q6J("href",r.url,e.LSH),e.uIk("target",r.target)("rel",r.rel)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",l)}}function Ve(a,g){1&a&&e.GkF(0)}function $e(a,g){if(1&a&&(e.TgZ(0,"a",5),e.YNc(1,Ve,1,0,"ng-container",4),e.qZA()),2&a){const r=e.oxw(),l=e.MAs(4);e.Q6J("routerLink",r.routerUrl)("queryParams",r.queryParams)("fragment",r.fragment),e.uIk("target",r.target)("id",r.id)("class",r.class)("style",r.style,e.Ckj)("title",r.title),e.xp6(1),e.Q6J("ngTemplateOutlet",l)}}function ge(a,g){1&a&&e.Hsn(0)}const Ht=["qty"];function Bn(a,g){if(1&a&&(e.TgZ(0,"ng-option",2),e._uU(1),e.qZA()),2&a){const r=g.$implicit,l=e.oxw();e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.name?r.name:l.sortLabels&&r.code?l.sortLabels[r.code]:"")}}const ro=function(a,g){return{ariaLabel:a,ariaControls:g}};function Lr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"a",1),e.NdJ("click",function(){const T=e.CHM(r).$implicit,W=e.oxw();return e.KtG(W.pageChange(T))}),e._uU(1),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw();e.Tol(r.type),e.ekj("disabled",l.isInactive(r))("current",l.isCurrent(r)),e.Q6J("routerLink",l.pageRoute)("queryParams",l.getQueryParams(r))("tabIndex",l.isInactive(r)?-1:0),e.uIk("aria-label",l.getAriaLabel(r.label,r.type)),e.xp6(1),e.hij(" ",r.label,"\n")}}function B(a,g){1&a&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))}function F(a,g){if(1&a&&(e.TgZ(0,"div",6)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a){const r=g.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,r))}}function w(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const T=e.CHM(r).index,W=e.oxw(2);return e.KtG(W.clear(W.messageType.MSG_TYPE_CONFIRMATION,T))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.SUCCESS),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function te(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",11)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const T=e.CHM(r).index,W=e.oxw(2);return e.KtG(W.clear(W.messageType.MSG_TYPE_INFO,T))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.INFO),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function ht(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",12)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const T=e.CHM(r).index,W=e.oxw(2);return e.KtG(W.clear(W.messageType.MSG_TYPE_WARNING,T))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.WARNING),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function on(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",13)(1,"span",8),e._UZ(2,"cx-icon",9),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){const T=e.CHM(r).index,W=e.oxw(2);return e.KtG(W.clear(W.messageType.MSG_TYPE_ERROR,T))}),e._UZ(7,"cx-icon",9),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.xp6(2),e.Q6J("type",l.iconTypes.ERROR),e.xp6(2),e.Oqu(e.lcZ(5,3,r)),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE)}}function Hr(a,g){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,F,4,3,"div",1),e.YNc(2,w,8,5,"div",2),e.YNc(3,te,8,5,"div",3),e.YNc(4,ht,8,5,"div",4),e.YNc(5,on,8,5,"div",5),e.qZA()),2&a){const r=g.ngIf,l=e.oxw();e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_ASSISTIVE]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_CONFIRMATION]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_INFO]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_WARNING]),e.xp6(1),e.Q6J("ngForOf",r[l.messageType.MSG_TYPE_ERROR])}}function oi(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.showBody=!v.showBody)}),e._uU(1),e._UZ(2,"cx-icon",11),e.qZA()}if(2&a){const r=e.oxw();e.uIk("aria-expanded",r.showBody)("aria-label",r.accordionText),e.xp6(1),e.hij(" ",r.accordionText," "),e.xp6(1),e.Q6J("type",r.showBody?"CARET_UP":"CARET_DOWN")}}function bo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.buttonAction.emit())}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw();e.Q6J("cxAtMessage",r.actionButtonMessage),e.xp6(1),e.hij(" ",r.actionButtonText," ")}}function Dr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.closeMessage.emit())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-icon",4),e.qZA()}if(2&a){const r=e.oxw();e.Q6J("cxAtMessage",e.lcZ(2,5,"common.close")),e.uIk("aria-label",e.lcZ(1,3,"common.close")),e.xp6(3),e.Q6J("type",r.iconTypes.CLOSE)}}function ii(a,g){1&a&&(e.TgZ(0,"div",14),e.Hsn(1),e.qZA())}function Qi(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw(2);e.xp6(2),e.Oqu(r.promotions[0].description)}}function Fr(a,g){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&a){const r=g.$implicit;e.xp6(1),e.hij(" ",r.description," ")}}function Fi(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"ul"),e.YNc(2,Fr,2,1,"li",3),e.qZA(),e.BQk()),2&a){const r=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",r.promotions)}}function ao(a,g){if(1&a&&(e.TgZ(0,"div",1),e.YNc(1,Qi,3,1,"ng-container",2),e.YNc(2,Fi,3,1,"ng-container",2),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",1===r.promotions.length),e.xp6(1),e.Q6J("ngIf",r.promotions.length>1)}}function wu(a,g){if(1&a&&(e.TgZ(0,"option",4),e.ALo(1,"async"),e._uU(2),e.qZA()),2&a){const r=g.$implicit,l=e.oxw(2);e.s9C("value",r.isocode),e.Q6J("selected",e.lcZ(1,3,l.activeItem$)===r.isocode),e.xp6(2),e.hij(" ",r.label," ")}}function Iu(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"label")(1,"span"),e._uU(2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"select",1),e.NdJ("change",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.active=v.target.value)}),e.YNc(5,wu,3,5,"option",2),e.qZA(),e._UZ(6,"cx-icon",3),e.qZA()}if(2&a){const r=g.ngIf,l=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,l.label$)),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("type",l.iconTypes.CARET_DOWN)}}const Ec=function(a){return{count:a}};function Ps(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-icon",1),e.NdJ("mouseover",function(){const T=e.CHM(r).$implicit,W=e.oxw();return e.KtG(W.setRate(T))})("click",function(){const T=e.CHM(r).$implicit,W=e.oxw();return e.KtG(W.saveRate(T))})("keydown.space",function(){const T=e.CHM(r).$implicit,W=e.oxw();return e.KtG(W.saveRate(T))}),e.ALo(1,"cxTranslate"),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw();e.Q6J("type",l.icon),e.uIk("tabindex",l.disabled?null:0)("aria-label",e.xi3(1,3,"productReview.addRate",e.VKq(6,Ec,r)))}}const qi=function(){return[1,2,3,4,5]};function _i(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function ls(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",l[r]," ")}}function Ls(a,g){if(1&a&&(e.TgZ(0,"tr")(1,"th"),e.YNc(2,_i,1,1,"ng-template",4),e.qZA(),e.TgZ(3,"td"),e.YNc(4,ls,1,1,"ng-template",4),e.qZA()()),2&a){const r=g.$implicit,l=e.oxw().$implicit,v=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",v.getHeaderOutletRef(r))("cxOutletContext",v.getHeaderOutletContext(r)),e.xp6(2),e.Q6J("cxOutlet",v.getDataOutletRef(r))("cxOutletContext",v.getDataOutletContext(r,l))}}function co(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"tbody",2),e.NdJ("click",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.launchItem(T))}),e.YNc(1,Ls,5,6,"tr",3),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw(3);e.ekj("is-current",l.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",l.structure.cells)}}function ds(a,g){if(1&a&&(e.ynx(0),e.YNc(1,co,2,3,"tbody",1),e.BQk()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function Ru(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function Fs(a,g){if(1&a&&(e.TgZ(0,"th",6),e.YNc(1,Ru,1,1,"ng-template",4),e.qZA()),2&a){const r=g.$implicit,l=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",l.getHeaderOutletRef(r))("cxOutletContext",l.getHeaderOutletContext(r))}}function jn(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",l[r]," ")}}function b(a,g){if(1&a&&(e.TgZ(0,"td"),e.YNc(1,jn,1,1,"ng-template",4),e.qZA()),2&a){const r=g.$implicit,l=e.oxw().$implicit,v=e.oxw(3);e.Tol(r),e.xp6(1),e.Q6J("cxOutlet",v.getDataOutletRef(r))("cxOutletContext",v.getDataOutletContext(r,l))}}function Y(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"tr",2),e.NdJ("click",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.launchItem(T))}),e.YNc(1,b,2,4,"td",3),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw(3);e.ekj("is-current",l.isCurrentItem(r)),e.xp6(1),e.Q6J("ngForOf",l.structure.cells)}}function L(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"thead")(2,"tr"),e.YNc(3,Fs,2,4,"th",5),e.qZA()(),e.YNc(4,Y,2,3,"tr",1),e.BQk()),2&a){const r=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",r.structure.cells),e.xp6(1),e.Q6J("ngForOf",r.data)("ngForTrackBy",r.trackData)}}function X(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit;e.hij(" ",r," ")}}function xe(a,g){if(1&a&&e._uU(0),2&a){const r=e.oxw().$implicit,l=e.oxw().$implicit;e.hij(" ",r[l]," ")}}function ut(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"td",2),e.NdJ("click",function(){const T=e.CHM(r).$implicit,W=e.oxw(4);return e.KtG(W.launchItem(T))}),e.YNc(1,xe,1,1,"ng-template",4),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw().$implicit,v=e.oxw(3);e.ekj("is-current",v.isCurrentItem(r)),e.xp6(1),e.Q6J("cxOutlet",v.getDataOutletRef(l))("cxOutletContext",v.getDataOutletContext(l,r))}}function vt(a,g){if(1&a&&(e.TgZ(0,"tr")(1,"th",6),e.YNc(2,X,1,1,"ng-template",4),e.qZA(),e.YNc(3,ut,2,4,"td",1),e.qZA()),2&a){const r=g.$implicit,l=e.oxw(3);e.Tol(r),e.xp6(2),e.Q6J("cxOutlet",l.getHeaderOutletRef(r))("cxOutletContext",l.getHeaderOutletContext(r)),e.xp6(1),e.Q6J("ngForOf",l.data)("ngForTrackBy",l.trackData)}}function en(a,g){if(1&a&&(e.ynx(0),e.YNc(1,vt,4,6,"tr",3),e.BQk()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.structure.cells)}}function $n(a,g){if(1&a&&(e.TgZ(0,"table"),e.YNc(1,ds,2,2,"ng-container",0),e.YNc(2,L,5,3,"ng-container",0),e.YNc(3,en,2,1,"ng-container",0),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.verticalStackedLayout),e.xp6(1),e.Q6J("ngIf",r.verticalLayout),e.xp6(1),e.Q6J("ngIf",r.horizontalLayout)}}function zn(a,g){if(1&a&&e._UZ(0,"p",6),2&a){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.headline,e.oJD)}}function Kn(a,g){if(1&a&&e._UZ(0,"p",7),2&a){const r=e.oxw(2).ngIf;e.Q6J("innerHTML",r.content,e.oJD)}}function Hn(a,g){if(1&a&&(e.TgZ(0,"cx-generic-link",2),e.YNc(1,zn,1,1,"p",3),e._UZ(2,"cx-media",4),e.YNc(3,Kn,1,1,"p",5),e.qZA()),2&a){const r=e.oxw().ngIf,l=e.oxw();e.Q6J("url",l.routerLink)("target",l.getTarget(r)),e.xp6(1),e.Q6J("ngIf",r.headline),e.xp6(1),e.Q6J("container",l.getImage(r)),e.xp6(1),e.Q6J("ngIf",r.content)}}function Mr(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Hn,4,5,"cx-generic-link",1),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.routerLink)}}function Yn(a,g){if(1&a&&(e.TgZ(0,"cx-generic-link",1),e._uU(1),e.qZA()),2&a){const r=g.ngIf,l=e.oxw();let v;e.Akn(r.styleAttributes),e.Q6J("url",null!==(v=r.url)&&void 0!==v?v:"")("target",l.getTarget(r)),e.xp6(1),e.Oqu(r.linkName)}}function Nr(a,g){if(1&a&&(e._UZ(0,"div",1),e.ALo(1,"cxSupplementHashAnchors")),2&a){let l;e.Q6J("innerHTML",e.lcZ(1,1,null!==(l=g.ngIf.content)&&void 0!==l?l:""),e.oJD)}}function Mo(a,g){if(1&a){const r=e.EpF();e.ynx(0,7),e.NdJ("cxComponentRef",function(v){e.CHM(r);const T=e.oxw(4);return e.KtG(T.tabCompLoaded(v))}),e.BQk()}if(2&a){const r=e.oxw(2).$implicit;e.Q6J("cxComponentWrapper",r)}}const Ci=function(a){return{param:a}},si=function(){return{}};function zo(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(v){e.CHM(r);const T=e.oxw().index,W=e.oxw(2);return e.KtG(W.select(T,v))}),e._uU(2),e.ALo(3,"cxTranslate"),e.ALo(4,"async"),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,Mo,1,1,"ng-template",6),e.qZA(),e.BQk()}if(2&a){const r=e.oxw(),l=r.index,v=r.$implicit,T=e.oxw(2);e.xp6(1),e.ekj("active",l===T.activeTabNum),e.uIk("aria-expanded",l===T.activeTabNum),e.xp6(1),e.hij(" ",e.xi3(3,8,v.title,e.VKq(13,Ci,e.lcZ(4,11,T.tabTitleParams[l])))," "),e.xp6(4),e.ekj("active",l===T.activeTabNum),e.xp6(1),e.Q6J("cxOutlet",v.flexType)("cxOutletContext",e.DdM(15,si))}}function Ni(a,g){if(1&a&&(e.ynx(0),e.YNc(1,zo,8,16,"ng-container",0),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function ia(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1),e.ALo(2,"cxTranslate"),e.YNc(3,Ni,2,1,"ng-container",2),e.qZA(),e.BQk()),2&a){const r=g.ngIf,l=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,l.ariaLabel)),e.xp6(2),e.Q6J("ngForOf",r)}}function Dc(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const T=e.CHM(r).$implicit,W=e.oxw(2);return e.KtG(W.scrollToTarget(T))}),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.qZA()}if(2&a){const r=g.$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"skipLink.skipTo")," ",e.lcZ(3,4,r.i18nKey)," ")}}const Ac=function(){return{tab:!0}};function xo(a,g){if(1&a&&(e.TgZ(0,"div",1),e.YNc(1,Dc,4,6,"button",2),e.qZA()),2&a){const r=g.ngIf;e.Q6J("cxFocus",e.DdM(2,Ac)),e.xp6(1),e.Q6J("ngForOf",r)}}const Zr=function(){return{disableMouseFocus:!0}};function uo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"header",4),e.NdJ("keydown.escape",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.collapseMenu())})("click",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.collapseMenuIfClickOutside(v))}),e.ALo(1,"async"),e._UZ(2,"cx-page-layout",5)(3,"cx-page-layout",6),e.qZA(),e._UZ(4,"cx-page-slot",7)(5,"cx-global-message",8)}if(2&a){const r=e.oxw(2);e.ekj("is-expanded",e.lcZ(1,3,r.isExpanded$)),e.Q6J("cxFocus",e.DdM(5,Zr))}}function fs(a,g){1&a&&(e.TgZ(0,"footer",9),e._UZ(1,"cx-page-layout",10),e.qZA()),2&a&&e.Q6J("cxFocus",e.DdM(1,Zr))}function sa(a,g){1&a&&(e.YNc(0,uo,6,6,"ng-template",1),e.TgZ(1,"main",2),e._UZ(2,"router-outlet"),e.qZA(),e.YNc(3,fs,2,2,"ng-template",3)),2&a&&(e.xp6(1),e.Q6J("cxFocus",e.DdM(1,Zr)))}const Tc=["submit"],aa=function(){return{required:"true"}},ai=function(a){return{ariaLabel:a}};function bc(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"ng-select",24),e.NdJ("change",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.countrySelected(v))}),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA(),e._UZ(8,"cx-form-errors",9),e.qZA()()}if(2&a){const r=e.oxw().ngIf,l=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"addressForm.country")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,10,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(14,aa))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(15,ai,e.lcZ(7,12,"addressForm.country"))),e.xp6(3),e.Q6J("control",l.addressForm.get("country.isocode"))}}function Xi(a,g){if(1&a&&(e.ynx(0),e.YNc(1,bc,9,17,"div",4),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function Mc(a,g){if(1&a&&(e.TgZ(0,"div")(1,"label")(2,"span",7),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",25),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,6,"addressForm.title")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("items",r)("placeholder",e.lcZ(6,8,"addressForm.title"))("cxNgSelectA11y",e.VKq(12,ai,e.lcZ(7,10,"addressForm.title")))}}function ca(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Mc,8,14,"div",4),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function yi(a,g){if(1&a&&(e.TgZ(0,"div",6),e.YNc(1,ca,2,1,"ng-container",4),e.ALo(2,"async"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.titles$))}}function ko(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",14)(2,"label")(3,"span",7),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"ng-select",27),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-form-errors",9),e.qZA()(),e.BQk()),2&a){const r=e.oxw().ngIf,l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"addressForm.state")),e.xp6(2),e.s9C("bindLabel",r[0].name?"name":"isocode"),e.s9C("bindValue",r[0].name?"isocode":"region"),e.s9C("placeholder",e.lcZ(7,12,"addressForm.selectOne")),e.Q6J("inputAttrs",e.DdM(16,aa))("searchable",!0)("clearable",!1)("items",r)("cxNgSelectA11y",e.VKq(17,ai,e.lcZ(8,14,"addressForm.state"))),e.xp6(3),e.Q6J("control",l.addressForm.get("region.isocode"))}}function _o(a,g){if(1&a&&(e.ynx(0,26),e.YNc(1,ko,10,19,"ng-container",4),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",0!==r.length)}}function Si(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",28)(2,"label")(3,"input",29),e.NdJ("change",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.toggleDefaultAddress())}),e.qZA(),e.TgZ(4,"span",30),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()()()()}2&a&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"addressForm.setAsDefault")))}function dr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",21)(1,"button",31),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.back())}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw();e.xp6(2),e.hij(" ",r.cancelBtnLabel||e.lcZ(3,1,"addressForm.chooseAddress")," ")}}function lo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",10)(1,"cx-card",11),e.NdJ("editCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.editAddressButtonHandle(T))})("setDefaultCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.setAddressAsDefault(T))})("deleteCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);let Be;return e.KtG(W.setEdit(null!==(Be=T.id)&&void 0!==Be?Be:""))})("cancelCard",function(){e.CHM(r);const v=e.oxw(3);return e.KtG(v.cancelCard())}),e.ALo(2,"async"),e.qZA()()}if(2&a){const r=g.$implicit,l=g.index,v=e.oxw(3);e.xp6(1),e.Q6J("index",l)("border",!0)("fitToContainer",!0)("content",e.lcZ(2,5,v.getCardContent(r)))("editMode",r.id===v.editCard)}}function ci(a,g){if(1&a&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.YNc(3,lo,3,7,"div",9),e.ALo(4,"async"),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,r.addresses$))}}function Yo(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"button",5),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.addAddressButtonHandle())}),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()(),e.YNc(6,ci,5,6,"div",6),e.ALo(7,"async"),e.BQk()}if(2&a){const r=e.oxw(),l=e.MAs(7);e.xp6(4),e.hij(" ",e.lcZ(5,3,"addressBook.addNewAddress")," "),e.xp6(2),e.Q6J("ngIf",!e.lcZ(7,5,r.addressesStateLoading$))("ngIfElse",l)}}function ui(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"section")(2,"p",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"cx-address-form",13),e.NdJ("submitAddress",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.addAddressSubmit(v))})("backToAddress",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.addAddressCancel())})("cancelCard",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.cancelCard())}),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e.ALo(8,"cxTranslate"),e.ALo(9,"async"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw();let l,v;e.xp6(3),e.hij(" ",e.lcZ(4,6,"addressBook.addNewDeliveryAddress")," "),e.xp6(2),e.s9C("actionBtnLabel",e.lcZ(7,10,"addressBook.addAddress")),e.s9C("cancelBtnLabel",e.lcZ(8,12,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("showCancelBtn",0!==(null==(l=e.lcZ(6,8,r.addresses$))?null:l.length))("setAsDefaultField",0!==(null==(v=e.lcZ(9,14,r.addresses$))?null:v.length))}}function xr(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"section")(2,"p",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"cx-address-form",14),e.NdJ("submitAddress",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.editAddressSubmit(v))})("backToAddress",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.editAddressCancel())}),e.ALo(6,"cxTranslate"),e.ALo(7,"cxTranslate"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,5,"addressBook.editDeliveryAddress")," "),e.xp6(2),e.s9C("actionBtnLabel",e.lcZ(6,7,"addressBook.updateAddress")),e.s9C("cancelBtnLabel",e.lcZ(7,9,"addressBook.backToAddressList")),e.Q6J("showTitleCode",!0)("addressData",r.currentAddress)}}function Co(a,g){1&a&&(e.TgZ(0,"div",15),e._UZ(1,"cx-spinner"),e.qZA())}function Tf(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",12)(1,"input",23),e.NdJ("ngModelChange",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.selectedAddress=v)}),e.qZA(),e.TgZ(2,"label",24),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"div",25)(6,"div",16)(7,"div",17),e._uU(8),e.qZA(),e.TgZ(9,"div",17),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e._uU(12),e.qZA(),e.TgZ(13,"div",17)(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",17),e._uU(17),e.qZA(),e.TgZ(18,"div",17),e._uU(19),e.qZA(),e.TgZ(20,"div",17),e._uU(21),e.qZA()()()()}if(2&a){const r=g.$implicit,l=g.index,v=e.oxw().ngIf,T=e.oxw();e.xp6(1),e.Q6J("ngModel",T.selectedAddress)("value",r)("id","suggested-addresses--suggested-"+l),e.xp6(1),e.Q6J("for","suggested-addresses--suggested-"+l),e.xp6(1),e.AsE(" ",e.lcZ(4,13,"addressSuggestion.suggestedAddress")," ",v.suggestedAddresses.length>1?l+1:null," "),e.xp6(5),e.Oqu(null==r?null:r.firstName),e.xp6(2),e.Oqu(null==r?null:r.lastName),e.xp6(2),e.Oqu(null==r?null:r.line1),e.xp6(3),e.Oqu(null==r?null:r.line2),e.xp6(2),e.Oqu(null==r?null:r.town),e.xp6(2),e.hij(" ",null==r||null==r.region?null:r.region.isocode," "),e.xp6(2),e.hij(" ",null==r?null:r.postalCode," ")}}function Ll(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.closeModal("Cross click"))}),e.ALo(6,"cxTranslate"),e.TgZ(7,"span",6),e._UZ(8,"cx-icon",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"p"),e._uU(12),e.ALo(13,"cxTranslate"),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,Tf,22,15,"div",11),e.TgZ(17,"div",12)(18,"input",13),e.NdJ("ngModelChange",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.selectedAddress=v)}),e.qZA(),e.TgZ(19,"label",14),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA(),e.TgZ(22,"div",15)(23,"div",16)(24,"div",17),e._uU(25),e.qZA(),e.TgZ(26,"div",17),e._uU(27),e.qZA(),e.TgZ(28,"div",17)(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"div",17),e._uU(32),e.qZA(),e.TgZ(33,"div",17),e._uU(34),e.qZA()()()()()(),e.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"button",21),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.closeModal("Edit address"))}),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e.TgZ(41,"button",22),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.closeModal(v.selectedAddress))}),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA()()()()()}if(2&a){const r=g.ngIf,l=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,18,"addressSuggestion.verifyYourAddress")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(6,20,"common.close")),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(4),e.AsE(" ",e.lcZ(13,22,"addressSuggestion.ensureAccuracySuggestChange")," ",e.lcZ(14,24,"addressSuggestion.chooseAddressToUse")," "),e.xp6(4),e.Q6J("ngForOf",r.suggestedAddresses),e.xp6(2),e.Q6J("ngModel",l.selectedAddress)("value",r.enteredAddress),e.xp6(2),e.hij(" ",e.lcZ(21,26,"addressSuggestion.enteredAddress")," "),e.xp6(5),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.firstName," ",null==r.enteredAddress?null:r.enteredAddress.lastName," "),e.xp6(2),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line1),e.xp6(3),e.Oqu(null==r.enteredAddress?null:r.enteredAddress.line2),e.xp6(2),e.AsE(" ",null==r.enteredAddress?null:r.enteredAddress.town," ",null==r.enteredAddress||null==r.enteredAddress.region?null:r.enteredAddress.region.isocode," "),e.xp6(2),e.hij(" ",null==r.enteredAddress?null:r.enteredAddress.postalCode," "),e.xp6(5),e.hij(" ",e.lcZ(40,28,"addressSuggestion.editAddress")," "),e.xp6(3),e.hij(" ",e.lcZ(43,30,"addressSuggestion.saveAddress")," ")}}const Pu=["element"];function Fl(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",21)(1,"cx-coupon-card",22),e.NdJ("notificationChanged",function(v){e.CHM(r);const T=e.oxw(4);return e.KtG(T.notificationChange(v))}),e.qZA()()}if(2&a){const r=g.$implicit,l=e.oxw(4);e.xp6(1),e.Q6J("coupon",r)("couponSubscriptionLoading$",l.couponSubscriptionLoading$)}}const Fa=function(){return["/my-account/notification-preference"]};function Vr(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"label",8)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",9),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.sortChange(v))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.qZA()(),e.TgZ(9,"div",10)(10,"cx-pagination",11),e.NdJ("viewPageEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.pageChange(v))}),e.qZA()()(),e.TgZ(11,"div",12),e.YNc(12,Fl,2,2,"div",13),e.qZA(),e.TgZ(13,"div",14)(14,"label",15)(15,"span"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"cx-sorting",16),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.sortChange(v))}),e.ALo(19,"async"),e.ALo(20,"cxTranslate"),e.ALo(21,"cxTranslate"),e.qZA()(),e.TgZ(22,"div",17)(23,"cx-pagination",11),e.NdJ("viewPageEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.pageChange(v))}),e.qZA()()(),e.TgZ(24,"div",18)(25,"span"),e._UZ(26,"cx-icon",19),e._uU(27),e.ALo(28,"cxTranslate"),e.TgZ(29,"a",20),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw().ngIf,l=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,19,"myCoupons.sortBy")),e.xp6(2),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(7,21,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(8,23,"myCoupons.sortCoupons")),e.xp6(4),e.Q6J("pagination",l.pagination),e.xp6(2),e.Q6J("ngForOf",r.coupons),e.xp6(4),e.Oqu(e.lcZ(17,25,"myCoupons.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,29,"myCoupons.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(19,27,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(21,31,"myCoupons.sortCoupons")),e.xp6(5),e.Q6J("pagination",l.pagination),e.xp6(3),e.Q6J("type",l.iconTypes.INFO),e.xp6(1),e.hij(" ",e.lcZ(28,33,"myCoupons.notesPreffix"),""),e.xp6(2),e.Q6J("routerLink",e.DdM(39,Fa)),e.xp6(1),e.Oqu(e.lcZ(31,35,"myCoupons.notesLink")),e.xp6(2),e.Oqu(e.lcZ(33,37,"myCoupons.notesSuffix"))}}function ki(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",6)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.YNc(5,Vr,34,40,"ng-container",1),e.BQk()),2&a){const r=g.ngIf;e.oxw();const l=e.MAs(6);e.xp6(3),e.Oqu(e.lcZ(4,3,"myCoupons.myCoupons")),e.xp6(2),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",l)}}function ks(a,g){1&a&&(e.TgZ(0,"section")(1,"p",23),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myCoupons.noCouponsMessage")," "))}function Na(a,g){if(1&a&&(e.ynx(0),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.YNc(3,ki,6,5,"ng-container",4),e.ALo(4,"async"),e.YNc(5,ks,4,3,"ng-template",null,5,e.W1O),e.BQk()),2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"common.loaded")),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,r.couponResult$))}}function ua(a,g){1&a&&(e.TgZ(0,"div",24),e._UZ(1,"cx-spinner"),e.qZA())}const Zo=function(a){return{cxRoute:"product",params:a}};function ps(a,g){if(1&a&&(e.TgZ(0,"div",38)(1,"a",39),e.ALo(2,"cxUrl"),e._uU(3),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,2,e.VKq(4,Zo,r))),e.xp6(2),e.hij(" ",r.name," ")}}const xc=function(a){return{code:a}};function bf(a,g){if(1&a&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a){const r=e.oxw().ngIf;e.xp6(2),e.Oqu(e.xi3(3,1,"myInterests.productId",e.VKq(4,xc,r.code)))}}function Nl(a,g){if(1&a&&(e.TgZ(0,"div",42)(1,"div",43),e._uU(2),e.qZA(),e.TgZ(3,"div",44),e._uU(4),e.qZA()()),2&a){const r=g.$implicit;e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.value," ")}}function Mf(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Nl,5,2,"div",41),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngForOf",null==r.selected?null:r.selected.variantOptionQualifiers)}}function ka(a,g){1&a&&(e.TgZ(0,"div",42)(1,"div",45),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"myInterests.outOfStock")," "))}const Ua=function(a){return{expirationDate:a}};function Ui(a,g){if(1&a&&(e.TgZ(0,"div",46)(1,"span",47),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",48),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"cxDate"),e.qZA()()),2&a){const r=g.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"myInterests."+r.interestType)," "),e.xp6(3),e.hij(" ",e.xi3(6,4,"myInterests.expirationDate",e.VKq(9,Ua,e.lcZ(7,7,r.expirationDate)))," ")}}function la(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"td")(2,"div",23)(3,"a",24),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",25),e.qZA()()(),e.TgZ(6,"td")(7,"div",26)(8,"div",27)(9,"div"),e.YNc(10,ps,4,6,"div",28),e.YNc(11,bf,4,6,"div",29),e.YNc(12,Mf,2,1,"ng-container",30),e.YNc(13,ka,4,3,"div",31),e.qZA()()()(),e.TgZ(14,"td")(15,"div",32)(16,"div",33),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()(),e.TgZ(21,"td")(22,"div",34)(23,"div",33),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.YNc(26,Ui,8,11,"div",35),e.qZA()(),e.TgZ(27,"td")(28,"div",36)(29,"button",37),e.NdJ("click",function(){e.CHM(r);const v=e.oxw().$implicit,T=e.oxw(4);return e.KtG(T.removeInterest(v))}),e.ALo(30,"async"),e._uU(31),e.ALo(32,"cxTranslate"),e.qZA()()(),e.BQk()}if(2&a){const r=g.ngIf,l=e.oxw().$implicit,v=e.oxw(4);e.xp6(3),e.Q6J("routerLink",e.lcZ(4,12,e.VKq(22,Zo,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(5),e.Q6J("ngIf",r.name),e.xp6(1),e.Q6J("ngIf",r.code),e.xp6(1),e.Q6J("ngForOf",r.baseOptions),e.xp6(1),e.Q6J("ngIf","outOfStock"===(null==r.stock?null:r.stock.stockLevelStatus)),e.xp6(4),e.hij(" ",e.lcZ(18,14,"myInterests.price")," "),e.xp6(3),e.Oqu(null==r.price?null:r.price.formattedValue),e.xp6(4),e.hij(" ",e.lcZ(25,16,"myInterests.notifications")," "),e.xp6(2),e.Q6J("ngForOf",l.productInterestEntry),e.xp6(3),e.Q6J("disabled",e.lcZ(30,18,v.isRemoveDisabled$)),e.xp6(2),e.hij(" ",e.lcZ(32,20,"myInterests.remove")," ")}}function hs(a,g){if(1&a&&(e.TgZ(0,"tr",21),e.YNc(1,la,33,24,"ng-container",22),e.ALo(2,"async"),e.qZA()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.product$))}}function gs(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"label",10)(3,"span"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"cx-sorting",11),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.sortChange(v))}),e.ALo(7,"async"),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.TgZ(10,"div",12)(11,"cx-pagination",13),e.NdJ("viewPageEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.pageChange(v))}),e.qZA()()(),e.TgZ(12,"table",14)(13,"thead",15)(14,"th",16),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e._UZ(17,"th",16),e.TgZ(18,"th",16),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"th",16),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"th",16),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,hs,3,3,"tr",17),e.qZA()(),e.TgZ(27,"div",18)(28,"label",19)(29,"span"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"cx-sorting",11),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.sortChange(v))}),e.ALo(33,"async"),e.ALo(34,"cxTranslate"),e.ALo(35,"cxTranslate"),e.qZA()(),e.TgZ(36,"div",20)(37,"cx-pagination",13),e.NdJ("viewPageEvent",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.pageChange(v))}),e.qZA()()(),e.BQk()}if(2&a){const r=e.oxw(2).ngIf,l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,18,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,22,"myInterests.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(7,20,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(9,24,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",l.pagination),e.xp6(4),e.hij(" ",e.lcZ(16,26,"myInterests.item")," "),e.xp6(4),e.hij(" ",e.lcZ(20,28,"myInterests.price")," "),e.xp6(3),e.hij(" ",e.lcZ(23,30,"myInterests.notifications")," "),e.xp6(4),e.Q6J("ngForOf",r.results),e.xp6(4),e.Oqu(e.lcZ(31,32,"myInterests.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(34,36,"myInterests.sortBy")),e.Q6J("sortOptions",l.sortOptions)("sortLabels",e.lcZ(33,34,l.sortLabels))("selectedOption",l.sort)("ariaLabel",e.lcZ(35,38,"myInterests.sortInterests")),e.xp6(5),e.Q6J("pagination",l.pagination)}}function Ba(a,g){if(1&a&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.ALo(2,"cxTranslate"),e.YNc(3,gs,38,40,"ng-container",8),e.qZA()),2&a){const r=e.oxw().ngIf;e.oxw();const l=e.MAs(3);e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(2),e.Q6J("ngIf",r.pagination&&r.pagination.totalCount&&r.pagination.totalCount>0)("ngIfElse",l)}}function Ga(a,g){if(1&a&&(e.TgZ(0,"div",3)(1,"div",4)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.YNc(5,Ba,4,5,"div",5),e.ALo(6,"async"),e.qZA()),2&a){const r=e.oxw(),l=e.MAs(5);e.xp6(3),e.Oqu(e.lcZ(4,3,"myInterests.header")),e.xp6(2),e.Q6J("ngIf",!e.lcZ(6,5,r.getInterestsloading$))("ngIfElse",l)}}function xf(a,g){1&a&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myInterests.noInterests")," "))}function Lu(a,g){1&a&&(e.TgZ(0,"div",50),e._UZ(1,"cx-spinner"),e.qZA())}function ar(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"label",11)(1,"input",12),e.NdJ("change",function(){e.CHM(r);const v=e.oxw().$implicit,T=e.oxw(3);return e.KtG(T.updatePreference(v))}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw().$implicit,l=e.oxw(3);e.xp6(1),e.Q6J("checked",r.enabled)("disabled",e.lcZ(2,4,l.isLoading$)),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"notificationPreference."+r.channel)," ",r.value," ")}}function Fu(a,g){if(1&a&&(e.ynx(0),e.YNc(1,ar,6,8,"label",10),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",r.visible)}}function wf(a,g){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"div",3),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,Fu,2,1,"ng-container",8),e.qZA(),e.TgZ(10,"label",9)(11,"strong"),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._uU(14),e.ALo(15,"cxTranslate"),e.qZA()()()()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,5,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,7,"notificationPreference.message")," "),e.xp6(3),e.Q6J("ngForOf",r),e.xp6(3),e.Oqu(e.lcZ(13,9,"notificationPreference.note")),e.xp6(2),e.hij("",e.lcZ(15,11,"notificationPreference.noteMessage")," ")}}function Eh(a,g){1&a&&(e.TgZ(0,"div",14),e._UZ(1,"cx-spinner"),e.qZA())}function If(a,g){if(1&a&&(e.ynx(0),e.YNc(1,wf,16,13,"div",1),e.YNc(2,Eh,2,0,"ng-template",null,2,e.W1O),e.BQk()),2&a){const r=g.ngIf,l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.length>0)("ngIfElse",l)}}function Dh(a,g){1&a&&(e.TgZ(0,"div"),e._UZ(1,"cx-spinner"),e.qZA())}function Qm(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"cx-card",12),e.NdJ("deleteCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.deletePaymentMethod(T))})("setDefaultCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.setDefaultPaymentMethod(T))})("editCard",function(){const T=e.CHM(r).$implicit,W=e.oxw(3);return e.KtG(W.setEdit(T))})("cancelCard",function(){e.CHM(r);const v=e.oxw(3);return e.KtG(v.cancelCard())}),e.ALo(3,"async"),e.qZA()()()}if(2&a){const r=g.$implicit,l=g.index,v=e.oxw(3);e.xp6(2),e.Q6J("index",l)("border",!0)("fitToContainer",!0)("content",e.lcZ(3,5,v.getCardContent(r)))("editMode",v.editCard===r.id)}}function Nu(a,g){if(1&a&&(e._UZ(0,"div",7),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",8),e.YNc(3,Qm,4,7,"div",9),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"common.loaded")),e.xp6(3),e.Q6J("ngForOf",r)}}function Ha(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.YNc(10,Dh,2,0,"div",5),e.ALo(11,"async"),e.YNc(12,Nu,4,4,"ng-template",null,6,e.W1O),e.qZA()(),e.BQk()),2&a){const r=e.MAs(13),l=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"paymentMethods.paymentMethods")),e.xp6(4),e.hij(" ",e.lcZ(9,6,"paymentMethods.newPaymentMethodsAreAddedDuringCheckout")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,8,l.loading$))("ngIfElse",r)}}const ku=function(a){return{nav:a}};function Ah(a,g){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"a",3),e.ALo(2,"cxTranslate"),e.qZA()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("routerLink",r.link)("innerHTML",r.label,e.oJD),e.uIk("aria-label",e.xi3(2,3,"navigation.navigateTo",e.VKq(6,ku,r.label)))}}function eo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"li",3)(1,"button",4),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.back())}),e._UZ(2,"cx-icon",5),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&a){const r=e.oxw();e.xp6(2),e.Q6J("type",r.iconType.CARET_LEFT),e.xp6(1),e.hij(" ",e.lcZ(4,2,"common.back")," ")}}function Va(a,g){1&a&&e.GkF(0)}const ja=function(a){return{node:a,depth:0}};function Th(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Va,1,0,"ng-container",6),e.BQk()),2&a){const r=g.$implicit;e.oxw();const l=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(2,ja,r))}}function kl(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const v=e.oxw().node,T=e.oxw();return e.KtG(T.closeIfClickedTheSameLink(v))}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw().node;e.Akn(r.styleAttributes),e.Tol(r.styleClasses),e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function Wo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-generic-link",10),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(3).node,T=e.oxw();return e.KtG(T.closeIfClickedTheSameLink(v))}),e._uU(1),e.qZA()}if(2&a){const r=e.oxw(3).node;e.Q6J("url",r.url)("target",r.target),e.xp6(1),e.hij(" ",r.title," ")}}function Ei(a,g){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){const r=e.oxw(3).node;e.xp6(1),e.hij(" ",r.title," ")}}function Uu(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.YNc(1,Wo,2,3,"cx-generic-link",13),e.TgZ(2,"button",14),e.NdJ("click",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.toggleOpen(v))})("mouseenter",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.onMouseEnter(v))})("keydown.space",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.toggleOpen(v))})("keydown.esc",function(){e.CHM(r);const v=e.oxw(3);return e.KtG(v.back())}),e.YNc(3,Ei,2,1,"ng-container",15),e._UZ(4,"cx-icon",5),e.qZA(),e.BQk()}if(2&a){const r=e.oxw(2),l=r.node,v=r.depth,T=e.oxw();e.xp6(1),e.Q6J("ngIf",l.url),e.xp6(1),e.uIk("tabindex",v<1?0:-1)("aria-haspopup",!0)("aria-expanded",!1)("aria-label",l.title),e.xp6(1),e.Q6J("ngIf",!l.url),e.xp6(1),e.Q6J("type",T.iconType.CARET_DOWN)}}function $a(a,g){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2).node;e.uIk("tabindex",-1),e.xp6(1),e.hij(" ",r.title," ")}}function wc(a,g){if(1&a&&(e.YNc(0,Uu,5,7,"ng-container",11),e.YNc(1,$a,2,2,"ng-template",null,12,e.W1O)),2&a){const r=e.MAs(2),l=e.oxw().node,v=e.oxw();e.Q6J("ngIf",v.flyout&&(null==l.children?null:l.children.length)>0)("ngIfElse",r)}}function E(a,g){1&a&&e.GkF(0)}const A=function(a,g){return{node:a,depth:g}};function y(a,g){if(1&a&&(e.ynx(0),e.YNc(1,E,1,0,"ng-container",6),e.BQk()),2&a){const r=g.$implicit,l=e.oxw(2).depth;e.oxw();const v=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",e.WLB(2,A,r,l+1))}}function R(a,g){if(1&a&&(e.TgZ(0,"div",16)(1,"ul",17),e.YNc(2,y,2,5,"ng-container",1),e.qZA()()),2&a){const r=e.oxw().node,l=e.oxw();e.xp6(1),e.uIk("depth",l.getTotalDepth(r))("wrap-after",r.children.length>l.wrapAfter?l.wrapAfter:null)("columns",l.getColumnCount(r.children.length)),e.xp6(1),e.Q6J("ngForOf",r.children)}}function U(a,g){if(1&a&&(e.TgZ(0,"li"),e.YNc(1,kl,2,7,"cx-generic-link",7),e.YNc(2,wc,3,2,"ng-template",null,8,e.W1O),e.YNc(4,R,3,4,"div",9),e.qZA()),2&a){const r=g.node,l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",r.url&&(!r.children||0===(null==r.children?null:r.children.length)))("ngIfElse",l),e.xp6(3),e.Q6J("ngIf",r.children&&r.children.length>0)}}function q(a,g){if(1&a&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&a){const r=g.ngIf,l=e.oxw();let v,T;e.Q6J("node",e.lcZ(1,5,l.node$))("ngClass",null!==(v=r.styleClass)&&void 0!==v?v:"")("wrapAfter",+(null!==(T=r.wrapAfter)&&void 0!==T?T:""))("resetMenuOnClose",r.resetMenuOnClose)("navAriaLabel",e.lcZ(2,7,"navigation.categoryNavLabel"))}}function Ce(a,g){if(1&a&&(e._UZ(0,"cx-navigation-ui",1),e.ALo(1,"async"),e.ALo(2,"cxTranslate")),2&a){const r=g.ngIf,l=e.oxw();let v;e.Q6J("node",r)("flyout",!1)("ngClass",null!==(v=e.lcZ(1,4,l.styleClass$))&&void 0!==v?v:"")("navAriaLabel",e.lcZ(2,6,"navigation.footerNavLabel"))}}function Oe(a,g){if(1&a&&e._UZ(0,"div",16),2&a){const r=e.oxw().ngIf;e.Q6J("innerHTML",r.message,e.oJD)}}const mt=function(a){return{query:a}},Kt=function(a){return{cxRoute:"search",params:a}};function In(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"li")(1,"a",17),e.NdJ("keydown.arrowup",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.focusPreviousChild(v))})("keydown.arrowdown",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.focusNextChild(v))})("keydown.enter",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.close(v,!0))})("keydown.escape",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.close(v,!0))})("blur",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.close(v))})("mousedown",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.preventDefault(v))})("click",function(){const T=e.CHM(r).$implicit,W=e.oxw().ngIf,Be=e.oxw(),yt=e.MAs(4);let jt;return Be.dispatchSuggestionEvent({freeText:yt.value,selectedSuggestion:T,searchSuggestions:null!==(jt=W.suggestions)&&void 0!==jt?jt:[]}),e.KtG(Be.updateChosenWord(T))}),e.ALo(2,"cxHighlight"),e.ALo(3,"cxUrl"),e.qZA()()}if(2&a){const r=g.$implicit;e.oxw(2);const l=e.MAs(4);e.xp6(1),e.Q6J("innerHTML",e.xi3(2,2,r,l.value),e.oJD)("routerLink",e.lcZ(3,5,e.VKq(9,Kt,e.VKq(7,mt,r))))}}function tn(a,g){if(1&a&&e._UZ(0,"cx-media",23),2&a){const r=e.oxw().$implicit;e.Q6J("container",null==r.images?null:r.images.PRIMARY)}}function rr(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"li")(1,"a",19),e.NdJ("keydown.arrowup",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.focusPreviousChild(v))})("keydown.arrowdown",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.focusNextChild(v))})("keydown.enter",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.close(v,!0))})("keydown.escape",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.close(v,!0))})("blur",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.close(v))})("mousedown",function(v){e.CHM(r);const T=e.oxw(3);return e.KtG(T.preventDefault(v))})("click",function(){const T=e.CHM(r).$implicit,W=e.oxw(3),Be=e.MAs(4);return e.KtG(W.dispatchProductEvent({freeText:Be.value,productCode:T.code}))}),e.ALo(2,"cxUrl"),e.YNc(3,tn,1,1,"cx-media",20),e._UZ(4,"div",21),e.TgZ(5,"span",22),e._uU(6),e.qZA()()()}if(2&a){const r=g.$implicit,l=e.oxw(3);e.xp6(1),e.ekj("has-media",l.config.displayProductImages),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(8,Zo,r))),e.xp6(2),e.Q6J("ngIf",l.config.displayProductImages),e.xp6(1),e.Q6J("innerHTML",r.nameHtml,e.oJD),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function yo(a,g){if(1&a&&(e.TgZ(0,"ul",18),e.ALo(1,"cxTranslate"),e.YNc(2,rr,7,10,"li",12),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"searchBox.ariaLabelProducts")),e.xp6(2),e.Q6J("ngForOf",r.products)}}function Di(a,g){if(1&a&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"cxTranslate"),e.ALo(3,"cxTranslate"),e.ALo(4,"cxTranslate"),e.qZA()),2&a){const r=e.oxw().ngIf;e.xp6(1),e.lnq(" ",e.xi3(2,3,"searchBox.suggestionsResult",e.VKq(11,Ec,null==r.suggestions?null:r.suggestions.length))," ",e.xi3(3,6,"searchBox.productsResult",e.VKq(13,Ec,null==r.products?null:r.products.length))," ",e.lcZ(4,9,"searchBox.initialDescription")," ")}}function es(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.close(v,!0))}),e.YNc(1,Oe,1,1,"div",10),e.TgZ(2,"ul",11),e.ALo(3,"cxTranslate"),e.YNc(4,In,4,11,"li",12),e.qZA(),e.YNc(5,yo,3,4,"ul",13),e.TgZ(6,"span",14),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,Di,5,15,"div",15),e.qZA()}if(2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",r.message),e.xp6(1),e.uIk("aria-label",e.lcZ(3,6,"searchBox.ariaLabelSuggestions")),e.xp6(2),e.Q6J("ngForOf",r.suggestions),e.xp6(1),e.Q6J("ngIf",r.products),e.xp6(2),e.hij(" ",e.lcZ(8,8,"searchBox.initialDescription")," "),e.xp6(2),e.Q6J("ngIf",(null==r.suggestions?null:r.suggestions.length)||(null==r.products?null:r.products.length))}}function Ko(a,g){if(1&a&&e._UZ(0,"cx-icon",2),2&a){const r=e.oxw();e.Q6J("type",r.iconTypes.GRID)}}function da(a,g){if(1&a&&e._UZ(0,"cx-icon",2),2&a){const r=e.oxw();e.Q6J("type",r.iconTypes.LIST)}}function Bi(a,g){if(1&a&&e._UZ(0,"cx-star-rating",14),2&a){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function Rf(a,g){1&a&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Bu(a,g){if(1&a&&(e.YNc(0,Bi,1,1,"cx-star-rating",11),e.YNc(1,Rf,3,3,"div",12),e.TgZ(2,"div",13),e.ALo(3,"cxTranslate"),e._uU(4),e.qZA()),2&a){const r=e.oxw();e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(1),e.uIk("aria-label",e.lcZ(3,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function Of(a,g){1&a&&e.GkF(0,16)}const za=function(a){return{product:a}};function bh(a,g){if(1&a&&e._UZ(0,"cx-star-rating",9),2&a){const r=e.oxw(2);e.Q6J("rating",null==r.product?null:r.product.averageRating)}}function Mh(a,g){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function xh(a,g){if(1&a&&(e.TgZ(0,"div",4),e.YNc(1,bh,1,1,"cx-star-rating",5),e.YNc(2,Mh,3,3,"div",6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8),e.ALo(5,"cxTranslate"),e._uU(6),e.qZA()()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.product.averageRating),e.xp6(1),e.Q6J("ngIf",!r.product.averageRating),e.xp6(2),e.uIk("aria-label",e.lcZ(5,4,"productDetails.productPrice")),e.xp6(2),e.hij(" ",null==r.product.price?null:r.product.price.formattedValue," ")}}function Ul(a,g){1&a&&e.GkF(0,10)}function Ic(a,g){1&a&&e._UZ(0,"cx-product-grid-item",8),2&a&&e.Q6J("product",g.$implicit)}function Gu(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Rc(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);let T;return e.KtG(v.loadNextPage((null!==(T=null==v.model||null==v.model.pagination?null:v.model.pagination.currentPage)&&void 0!==T?T:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function jr(a,g){1&a&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function Hu(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const v=e.oxw();let T;return e.KtG(v.scrollPage((null!==(T=null==v.model||null==v.model.pagination?null:v.model.pagination.currentPage)&&void 0!==T?T:0)+1))}),e.TgZ(2,"div",2),e.YNc(3,Ic,1,1,"cx-product-grid-item",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,Gu,3,3,"div",5),e.YNc(6,Rc,3,3,"div",6),e.qZA(),e.YNc(7,jr,2,0,"div",7),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();let l,v;e.xp6(1),e.Q6J("infiniteScrollDistance",5)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(2),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(l=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==l?l:0)>0?"cx-double-btn-container grid-btn-padding":"cx-single-btn-container grid-btn-padding"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(v=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==v?v:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function Pf(a,g){1&a&&e._UZ(0,"cx-product-list-item",13),2&a&&e.Q6J("product",g.$implicit)}function Bl(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.scrollToTop())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.backToTopBtn")," "))}function Oc(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);let T;return e.KtG(v.loadNextPage((null!==(T=null==v.model||null==v.model.pagination?null:v.model.pagination.currentPage)&&void 0!==T?T:0)+1))}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.showMoreBtn")," "))}function wh(a,g){1&a&&(e.TgZ(0,"div",11),e._UZ(1,"cx-spinner"),e.qZA())}function Ih(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("scrolled",function(){e.CHM(r);const v=e.oxw();let T;return e.KtG(v.scrollPage((null!==(T=null==v.model||null==v.model.pagination?null:v.model.pagination.currentPage)&&void 0!==T?T:0)+1))}),e.YNc(2,Pf,1,1,"cx-product-list-item",12),e.TgZ(3,"div",4),e.YNc(4,Bl,3,3,"div",5),e.YNc(5,Oc,3,3,"div",6),e.qZA(),e.YNc(6,wh,2,0,"div",7),e.qZA(),e.BQk()}if(2&a){const r=e.oxw();let l,v;e.xp6(1),e.Q6J("infiniteScrollDistance",3)("infiniteScrollThrottle",50)("infiniteScrollDisabled",r.isMaxProducts||r.isLastPage||r.isEmpty),e.xp6(1),e.Q6J("ngForOf",null==r.model?null:r.model.products),e.xp6(1),e.Q6J("className",!r.isLastPage&&(null!==(l=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==l?l:0)>0?"cx-double-btn-container":"cx-single-btn-container"),e.xp6(1),e.Q6J("ngIf",(r.isMaxProducts||r.isLastPage)&&(null!==(v=null==r.model||null==r.model.pagination?null:r.model.pagination.currentPage)&&void 0!==v?v:0)>0),e.xp6(1),e.Q6J("ngIf",r.isMaxProducts&&!r.isLastPage),e.xp6(1),e.Q6J("ngIf",r.appendProducts)}}function Rh(a,g){if(1&a&&(e.TgZ(0,"div",17)(1,"div",18),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-pagination",19),e.qZA()()),2&a){const r=e.oxw(2).ngIf;e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"productList.productSearchPagination")),e.xp6(2),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function Pc(a,g){1&a&&e._UZ(0,"cx-product-grid-item",22),2&a&&e.Q6J("product",g.$implicit)}function Lc(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",4),e.YNc(2,Pc,1,1,"cx-product-grid-item",21),e.qZA(),e.BQk()),2&a){const r=e.oxw(3).ngIf;e.xp6(2),e.Q6J("ngForOf",null==r?null:r.products)}}function Oh(a,g){1&a&&e._UZ(0,"cx-product-list-item",24),2&a&&e.Q6J("product",g.$implicit)}function fa(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Oh,1,1,"cx-product-list-item",23),e.BQk()),2&a){const r=e.oxw(3).ngIf;e.xp6(1),e.Q6J("ngForOf",null==r?null:r.products)}}function Fc(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Lc,3,1,"ng-container",20),e.YNc(2,fa,2,1,"ng-container",20),e.BQk()),2&a){const r=e.oxw().ngIf,l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r===l.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",r===l.ViewModes.List)}}function Ph(a,g){if(1&a&&e._UZ(0,"cx-product-scroll",25),2&a){const r=e.oxw().ngIf,l=e.oxw().ngIf,v=e.oxw();e.Q6J("scrollConfig",v.scrollConfig)("model",l)("inputViewMode",r)}}function Vu(a,g){if(1&a&&(e.TgZ(0,"div",17),e.ALo(1,"cxTranslate"),e.TgZ(2,"div",18),e._UZ(3,"cx-pagination",19),e.qZA()()),2&a){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.lcZ(1,3,"productList.productSearchPagination")),e.xp6(3),e.Q6J("pagination",r.pagination)("defaultPage",0)}}function Ai(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",4)(3,"label",8)(4,"span"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"cx-sorting",9),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.sortList(v))}),e.ALo(8,"cxTranslate"),e.ALo(9,"cxTranslate"),e.qZA()(),e.YNc(10,Rh,4,5,"div",10),e.TgZ(11,"div",11)(12,"cx-product-view",12),e.NdJ("modeChange",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.setViewMode(v))}),e.qZA()()()(),e.TgZ(13,"div",13),e.YNc(14,Fc,3,2,"ng-container",14),e.YNc(15,Ph,1,3,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(17,"div",16)(18,"div",4)(19,"label",8)(20,"span"),e._uU(21),e.ALo(22,"cxTranslate"),e.qZA(),e.TgZ(23,"cx-sorting",9),e.NdJ("sortListEvent",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.sortList(v))}),e.ALo(24,"cxTranslate"),e.ALo(25,"cxTranslate"),e.qZA()(),e.YNc(26,Vu,4,5,"div",10),e.TgZ(27,"div",11)(28,"cx-product-view",12),e.NdJ("modeChange",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.setViewMode(v))}),e.qZA()()()()()}if(2&a){const r=g.ngIf,l=e.MAs(16),v=e.oxw().ngIf,T=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,16,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,20,"productList.sortBy")),e.Q6J("sortOptions",v.sorts)("selectedOption",null==v.pagination?null:v.pagination.sort)("ariaLabel",e.lcZ(8,18,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!T.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r),e.xp6(2),e.Q6J("ngIf",!T.isInfiniteScroll)("ngIfElse",l),e.xp6(7),e.Oqu(e.lcZ(22,22,"productList.sortBy")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,26,"productList.sortBy")),e.Q6J("sortOptions",v.sorts)("selectedOption",null==v.pagination?null:v.pagination.sort)("ariaLabel",e.lcZ(24,24,"productList.sortResults")),e.xp6(3),e.Q6J("ngIf",!T.isInfiniteScroll),e.xp6(2),e.Q6J("mode",r)}}function ms(a,g){if(1&a&&(e.TgZ(0,"div",1)(1,"section",2),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",3)(4,"div",4),e.YNc(5,Ai,29,28,"div",5),e.ALo(6,"async"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"productList.productListResults")),e.xp6(4),e.Q6J("ngIf",e.lcZ(6,4,r.viewMode$))}}function Lf(a,g){1&a&&(e.TgZ(0,"h4"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productList.appliedFilter")," "))}const Gl=function(a){return{key:a}},Nc=function(a){return{filter:a}};function Uo(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown.space",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.removeFilterWithSpacebar(v))}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"cx-icon",3),e.qZA()}if(2&a){const r=g.$implicit,l=e.oxw().ngIf,v=e.oxw();e.Q6J("queryParams",v.getLinkParams(r))("cxFocus",e.VKq(8,Gl,v.getFocusKey(l,r))),e.uIk("aria-label",e.xi3(1,5,"productList.activeFilter",e.VKq(10,Nc,r.facetValueName))),e.xp6(3),e.Oqu(r.facetValueName),e.xp6(1),e.Q6J("type",v.closeIcon)}}function pa(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Lf,3,3,"h4",0),e.YNc(2,Uo,5,12,"a",1),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",r.activeFacets&&r.activeFacets.length>0),e.xp6(1),e.Q6J("ngForOf",null==r?null:r.activeFacets)}}const YC=["facetValue"],Gi=function(a,g){return{name:a,count:g}};function vs(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.openLink(v))}),e.ALo(2,"cxTranslate"),e.TgZ(3,"span",10),e._uU(4),e.TgZ(5,"span",11),e._uU(6),e.qZA()()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",l.getLinkParams(r))("cxFocus",e.VKq(12,Gl,r.name)),e.uIk("role",l.facet.multiSelect?"checkbox":null)("aria-checked",l.facet.multiSelect?r.selected:null)("aria-label",e.xi3(2,9,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(14,Gi,r.name,r.count))),e.xp6(4),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}function Hl(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"a",8,9),e.NdJ("keydown.space",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.openLink(v))}),e.TgZ(2,"span"),e._uU(3),e.TgZ(4,"span",12),e._uU(5),e.qZA()()()}if(2&a){const r=g.$implicit,l=e.oxw(2);e.ekj("selected",r.selected),e.Q6J("queryParams",l.getLinkParams(r))("cxFocus",e.VKq(6,Gl,r.name)),e.xp6(3),e.Oqu(r.name),e.xp6(2),e.Oqu(r.count)}}const Lh=function(){return{key:"moreorless"}};function Fh(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.decreaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&a&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.decreaseOptionsVisibility"))("cxFocus",e.DdM(10,Lh)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowLess")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showLess")," "))}function Ya(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.increaseVisibleValues())}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}2&a&&(e.Q6J("cxAtMessage",e.lcZ(1,4,"productFacetNavigation.increaseOptionsVisibility"))("cxFocus",e.DdM(10,Lh)),e.uIk("aria-label",e.lcZ(2,6,"productFacetNavigation.ariaLabelShowMore")),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productList.showMore")," "))}const kc=function(a){return{name:a}};function Za(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",1),e.NdJ("click",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.toggleGroup(v))}),e.ALo(2,"cxTranslate"),e._uU(3),e._UZ(4,"cx-icon",2)(5,"cx-icon",3),e.qZA(),e.TgZ(6,"div"),e.YNc(7,vs,7,17,"a",4),e.ALo(8,"slice"),e.TgZ(9,"div",5),e.YNc(10,Hl,6,8,"a",4),e.ALo(11,"slice"),e.YNc(12,Fh,5,11,"button",6),e.YNc(13,Ya,5,11,"button",7),e.qZA()(),e.BQk()}if(2&a){const r=g.ngIf,l=e.oxw();let v;e.xp6(1),e.uIk("aria-expanded",l.isExpanded)("aria-label",e.xi3(2,9,"productFacetNavigation.filterBy.name",e.VKq(20,kc,l.facet.name))),e.xp6(2),e.hij(" ",l.facet.name," "),e.xp6(1),e.Q6J("type",l.collapseIcon),e.xp6(1),e.Q6J("type",l.expandIcon),e.xp6(2),e.Q6J("ngForOf",e.Dn7(8,12,l.facet.values,0,r.topVisible)),e.xp6(3),e.Q6J("ngForOf",e.Dn7(11,16,l.facet.values,null!==(v=r.topVisible)&&void 0!==v?v:0,r.maxVisible)),e.xp6(2),e.Q6J("ngIf",r.maxVisible&&r.topVisible&&r.maxVisible>r.topVisible),e.xp6(1),e.Q6J("ngIf",r.maxVisible&&l.facet.values&&r.maxVisible>0&&r.maxVisible<l.facet.values.length)}}function Ff(a,g){if(1&a&&(e.TgZ(0,"cx-facet",5,6),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"cxTranslate"),e.qZA()),2&a){const r=g.$implicit,l=e.oxw(2);e.ekj("expanded",e.lcZ(2,6,l.isExpanded(r)))("collapsed",e.lcZ(3,8,l.isCollapsed(r))),e.Q6J("facet",r),e.uIk("aria-label",e.xi3(4,10,"productFacetNavigation.ariaLabelItemsAvailable",e.WLB(13,Gi,r.name,null==r||null==r.values?null:r.values.length)))}}function Nf(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"section",1),e.NdJ("esc",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.close(v))})("click",function(v){e.CHM(r);const T=e.oxw();return e.KtG(T.block(v))}),e.ALo(1,"cxTranslate"),e.TgZ(2,"h4"),e._uU(3),e.ALo(4,"cxTranslate"),e.TgZ(5,"button",2),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close())}),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-icon",3),e.qZA()(),e.YNc(8,Ff,5,16,"cx-facet",4),e.qZA()}if(2&a){const r=g.ngIf,l=e.oxw();e.Q6J("cxFocus",l.isDialog?l.dialogFocusConfig:e.DdM(13,si))("tabindex",-1),e.uIk("aria-label",e.lcZ(1,7,"productFacetNavigation.filterBy.facet")),e.xp6(3),e.hij(" ",e.lcZ(4,9,"productList.filterBy.label")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(6,11,"common.close")),e.xp6(2),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(1),e.Q6J("ngForOf",r)}}const kE=["trigger"];function Vl(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-facet-list",4),e.NdJ("closeList",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close())}),e.ALo(1,"async"),e.qZA()}if(2&a){const r=e.oxw();e.ekj("active",e.lcZ(1,5,r.isActive$))("dialog",r.hasTrigger),e.Q6J("isDialog",r.hasTrigger)}}const qm=function(a){return{title:a}};function ju(a,g){if(1&a&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"cxTranslate"),e.ALo(2,"async"),e.ALo(3,"async")),2&a){const r=g.ngIf,l=e.oxw(),v=e.MAs(3);e.Q6J("items",r)("title",e.lcZ(3,9,l.title$))("template",v),e.uIk("aria-label",e.xi3(1,4,"productCarousel.carouselLabel",e.VKq(11,qm,e.lcZ(2,7,l.title$))))}}function Xm(a,g){1&a&&e._UZ(0,"cx-product-carousel-item",3),2&a&&e.Q6J("item",g.item)}function jl(a,g){if(1&a&&(e._UZ(0,"cx-carousel",2),e.ALo(1,"async")),2&a){const r=g.ngIf,l=e.oxw(),v=e.MAs(3);e.Q6J("title",e.lcZ(1,3,l.title$))("items",r)("template",v)}}function Nh(a,g){if(1&a&&(e.TgZ(0,"a",3),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",4),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.qZA()()),2&a){const r=g.item;e.Q6J("routerLink",e.lcZ(1,4,e.VKq(6,Zo,r))),e.xp6(2),e.Q6J("container",null==r.images?null:r.images.PRIMARY),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(null==r.price?null:r.price.formattedValue)}}function ev(a,g){if(1&a&&(e.ynx(0),e._UZ(1,"cx-media",2),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("container",r)}}function kh(a,g){if(1&a&&e._UZ(0,"cx-carousel",4),2&a){const r=e.oxw().ngIf;e.oxw();const l=e.MAs(5);e.Q6J("items",r)("hideIndicators",!1)("template",l)}}function Uh(a,g){if(1&a&&(e.ynx(0),e.YNc(1,kh,1,3,"cx-carousel",3),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",r.length)}}function tv(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"cx-media",5),e.NdJ("focus",function(){const T=e.CHM(r).item,W=e.oxw();return e.KtG(W.openImage(T.container))}),e.ALo(1,"async"),e.qZA()}if(2&a){const r=g.item,l=e.oxw();e.ekj("is-active",e.lcZ(1,3,l.isActive(r.container))),e.Q6J("container",r.container)}}const UE=function(a,g){return{rating:a,count:g}};function BE(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(3);return e.KtG(v.showReviews())}),e.ALo(1,"cxTranslate"),e.ALo(2,"number"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()}if(2&a){const r=e.oxw(2).ngIf;e.uIk("aria-label",e.xi3(1,2,"productSummary.showReviewsDetailed",e.WLB(10,UE,e.xi3(2,5,null==r?null:r.averageRating,"1.0-1"),null==r?null:r.numberOfReviews))),e.xp6(3),e.hij(" ",e.lcZ(4,8,"productSummary.showReviews")," ")}}function Bh(a,g){if(1&a&&(e.TgZ(0,"div",3),e._UZ(1,"cx-star-rating",4),e.TgZ(2,"div",5),e._uU(3),e.qZA(),e.YNc(4,BE,5,13,"button",6),e.ALo(5,"async"),e.qZA()),2&a){const r=e.oxw().ngIf,l=e.oxw();let v;e.xp6(1),e.Q6J("rating",null!==(v=null==r?null:r.averageRating)&&void 0!==v?v:0),e.xp6(2),e.hij("(",null==r?null:r.numberOfReviews,")"),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,3,l.areReviewsAvailable$))}}function $u(a,g){1&a&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function $l(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Bh,6,5,"div",1),e.YNc(2,$u,3,3,"div",1),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngIf",null==r?null:r.averageRating),e.xp6(1),e.Q6J("ngIf",!(null!=r&&r.averageRating)),e.xp6(2),e.AsE(" ",e.lcZ(5,4,"productSummary.id")," ",null==r?null:r.code," ")}}function ha(a,g){if(1&a&&(e.TgZ(0,"div",2),e.ALo(1,"cxTranslate"),e._uU(2),e.qZA()),2&a){const r=e.oxw().ngIf;e.uIk("aria-label",e.lcZ(1,2,"productSummary.newItemPrice")),e.xp6(2),e.hij(" ",null==r||null==r.price?null:r.price.formattedValue," ")}}function zl(a,g){if(1&a&&e._UZ(0,"p",3),2&a){const r=e.oxw().ngIf;e.Q6J("innerHTML",null==r?null:r.summary,e.oJD)}}function Gh(a,g){if(1&a&&(e.ynx(0),e.YNc(1,ha,3,4,"ng-template",1),e.YNc(2,zl,1,1,"ng-template",1),e.BQk()),2&a){const r=g.ngIf,l=e.oxw();e.xp6(1),e.Q6J("cxOutlet",l.outlets.PRICE)("cxOutletContext",e.VKq(4,za,r)),e.xp6(1),e.Q6J("cxOutlet",l.outlets.SUMMARY)("cxOutletContext",e.VKq(6,za,r))}}function _s(a,g){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==r.featureUnit?null:r.featureUnit.symbol," ")}}function ts(a,g){if(1&a&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,_s,2,1,"span",0),e.qZA()),2&a){const r=g.$implicit,l=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==r?null:r.value," "),e.xp6(1),e.Q6J("ngIf",l.featureUnit&&l.featureUnit.symbol&&l.featureUnit.symbol.length>0&&"300"!==(null==l.featureUnit?null:l.featureUnit.unitType))}}function nv(a,g){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"ul"),e.YNc(5,ts,3,2,"li",2),e.qZA()()()),2&a){const r=g.$implicit;e.xp6(2),e.Oqu(r.name),e.xp6(3),e.Q6J("ngForOf",null==r?null:r.featureValues)}}function Yl(a,g){if(1&a&&(e.TgZ(0,"table")(1,"th")(2,"h2"),e._uU(3),e.qZA()(),e.YNc(4,nv,6,2,"tr",2),e.qZA()),2&a){const r=g.$implicit;e.xp6(3),e.Oqu(r.name),e.xp6(1),e.Q6J("ngForOf",r.features)}}function Hi(a,g){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1)(2,"h2"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.YNc(5,Yl,5,2,"table",2),e.qZA(),e.BQk()),2&a){const r=g.ngIf;e.xp6(3),e.Oqu(e.lcZ(4,2,"productDetails.specification")),e.xp6(2),e.Q6J("ngForOf",null==r?null:r.classifications)}}function Wa(a,g){if(1&a&&(e.ynx(0),e._UZ(1,"div",1),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("innerHTML",null==r?null:r.description,e.oJD)}}function Uc(a,g){if(1&a&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("cxComponentWrapper",r)}}function rv(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Uc,2,1,"ng-template",3),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.Q6J("cxOutlet",r.flexType)("cxOutletContext",e.DdM(2,si))}}function Zl(a,g){if(1&a&&(e.ynx(0),e.YNc(1,rv,2,3,"ng-container",0),e.BQk()),2&a){const r=g.$implicit;e.xp6(1),e.Q6J("ngIf",r)}}function Ti(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Zl,2,1,"ng-container",2),e.BQk()),2&a){const r=g.ngIf;e.xp6(1),e.Q6J("ngForOf",r)}}const Ka=["titleInput"],Hh=["writeReviewButton"];function Wl(a,g){if(1&a&&e._UZ(0,"cx-star-rating",9),2&a){const r=e.oxw(2).ngIf;e.Q6J("rating",r.averageRating)}}function wo(a,g){1&a&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productDetails.noReviews")," "))}function Kl(a,g){if(1&a&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.qZA(),e._UZ(3,"cx-star-rating",15),e.TgZ(4,"div",16),e._uU(5),e.qZA(),e.TgZ(6,"div",17),e._uU(7),e.ALo(8,"cxDate"),e.qZA(),e.TgZ(9,"div",18),e._uU(10),e.qZA()()),2&a){const r=g.$implicit;let l;e.xp6(2),e.Oqu(r.headline),e.xp6(1),e.Q6J("rating",null!==(l=r.rating)&&void 0!==l?l:0),e.xp6(2),e.hij(" ",r.alias?r.alias:null==r.principal?null:r.principal.name," "),e.xp6(2),e.Oqu(e.lcZ(8,5,r.date)),e.xp6(3),e.Oqu(r.comment)}}function kf(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2).ngIf,T=e.oxw(4);return e.KtG(T.maxListItems=v.length)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.more")," "))}function zu(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(6);return e.KtG(v.maxListItems=v.initialMaxListItems)}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"productReview.less")," "))}function Io(a,g){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,kf,3,3,"button",19),e.YNc(2,zu,3,3,"button",19),e.qZA()),2&a){const r=e.oxw(5);e.xp6(1),e.Q6J("ngIf",r.maxListItems===r.initialMaxListItems),e.xp6(1),e.Q6J("ngIf",r.maxListItems!==r.initialMaxListItems)}}function Bc(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Kl,11,7,"div",12),e.ALo(2,"slice"),e.YNc(3,Io,3,2,"div",11),e.BQk()),2&a){const r=g.ngIf,l=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,r,0,l.maxListItems)),e.xp6(2),e.Q6J("ngIf",r.length>l.initialMaxListItems)}}function ov(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Bc,4,6,"ng-container",11),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,r.reviews$))}}function Vh(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"h3"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",5,6),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.initiateWriteReview())}),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.YNc(9,Wl,1,1,"cx-star-rating",7),e.YNc(10,wo,3,3,"div",8),e.qZA(),e.YNc(11,ov,3,3,"ng-container",2),e.BQk()}if(2&a){const r=e.oxw().ngIf,l=e.MAs(6),v=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"productReview.overallRating")),e.xp6(4),e.hij(" ",e.lcZ(8,8,"productReview.writeReview")," "),e.xp6(2),e.Q6J("ngIf",r.averageRating),e.xp6(1),e.Q6J("ngIf",!r.averageRating),e.xp6(1),e.Q6J("ngIf",!v.isWritingReview)("ngIfElse",l)}}function Uf(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"form",20),e.NdJ("ngSubmit",function(){e.CHM(r);const v=e.oxw().ngIf,T=e.oxw();return e.KtG(T.submitReview(v))}),e.TgZ(1,"div",21)(2,"label")(3,"span",22),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"input",23,24)(8,"cx-form-errors",25),e.qZA()(),e.TgZ(9,"div",21)(10,"label")(11,"span",22),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e._UZ(14,"textarea",26)(15,"cx-form-errors",25),e.qZA()(),e.TgZ(16,"div",21)(17,"label")(18,"span",22),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e._UZ(21,"input",27),e.TgZ(22,"cx-star-rating",28),e.NdJ("change",function(v){e.CHM(r);const T=e.oxw(2);return e.KtG(T.setRating(v))}),e.ALo(23,"cxTranslate"),e.qZA(),e._UZ(24,"cx-form-errors",25),e.qZA()(),e.TgZ(25,"div",21)(26,"label")(27,"span",22),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA(),e._UZ(30,"input",29),e.qZA()(),e.TgZ(31,"div",30)(32,"div",31)(33,"button",32),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.cancelWriteReview())}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()(),e.TgZ(36,"div",31)(37,"button",33),e._uU(38),e.ALo(39,"cxTranslate"),e.qZA()()()()}if(2&a){const r=e.oxw(2);e.Q6J("formGroup",r.reviewForm),e.xp6(4),e.Oqu(e.lcZ(5,12,"productReview.reviewTitle")),e.xp6(4),e.Q6J("control",r.reviewForm.get("title")),e.xp6(4),e.Oqu(e.lcZ(13,14,"productReview.writeYourComments")),e.xp6(3),e.Q6J("control",r.reviewForm.get("comment")),e.xp6(4),e.Oqu(e.lcZ(20,16,"productReview.rating")),e.xp6(3),e.Q6J("disabled",!1),e.uIk("aria-label",e.lcZ(23,18,"productReview.ratingRequired")),e.xp6(2),e.Q6J("control",r.reviewForm.get("rating")),e.xp6(4),e.Oqu(e.lcZ(29,20,"productReview.reviewerName")),e.xp6(6),e.hij(" ",e.lcZ(35,22,"common.cancel")," "),e.xp6(4),e.hij(" ",e.lcZ(39,24,"common.submit")," ")}}function iv(a,g){if(1&a&&(e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,Vh,12,10,"ng-container",2),e.YNc(5,Uf,40,26,"ng-template",null,3,e.W1O),e.qZA()),2&a){const r=g.ngIf,l=e.MAs(6),v=e.oxw();e.xp6(2),e.AsE(" ",e.lcZ(3,4,"productDetails.reviews")," (",r.numberOfReviews,") "),e.xp6(2),e.Q6J("ngIf",!v.isWritingReview)("ngIfElse",l)}}function jh(a,g){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(": "+r.value)}}function $h(a,g){if(1&a&&(e.TgZ(0,"p",19)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,jh,2,1,"span",20),e.qZA()),2&a){const r=g.$implicit;e.xp6(2),e.Oqu(r.channel),e.xp6(1),e.Q6J("ngIf",r.value)}}const zh=function(){return{cxRoute:"notificationPreference"}},Gc=function(){return{cxRoute:"myInterests"}};function ga(a,g){if(1&a){const r=e.EpF();e.ynx(0),e._UZ(1,"div",8),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",9)(4,"div",10)(5,"p",11),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.YNc(8,$h,4,2,"p",12),e.TgZ(9,"p",11),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"p",11),e._uU(13),e.ALo(14,"cxTranslate"),e.TgZ(15,"a",13),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close("Link clicked"))}),e.ALo(16,"cxUrl"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"p",11),e._uU(22),e.ALo(23,"cxTranslate"),e.TgZ(24,"a",14),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close("Link clicked"))}),e.ALo(25,"cxUrl"),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA()()(),e.TgZ(30,"div",15)(31,"div",16)(32,"div",17)(33,"button",18),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.close("Button clicked"))}),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(1),e.uIk("aria-label",e.lcZ(2,13,"common.loaded")),e.xp6(5),e.hij(" ",e.lcZ(7,15,"stockNotification.subscriptionDialog.notifiedPrefix")," "),e.xp6(2),e.Q6J("ngForOf",r.enabledPrefs),e.xp6(2),e.hij(" ",e.lcZ(11,17,"stockNotification.subscriptionDialog.notifiedSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"stockNotification.subscriptionDialog.manageChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(16,21,e.DdM(37,zh))),e.xp6(2),e.hij(" ",e.lcZ(18,23,"stockNotification.subscriptionDialog.manageChannelsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(20,25,"stockNotification.subscriptionDialog.manageChannelsSuffix")," "),e.xp6(3),e.hij(" ",e.lcZ(23,27,"stockNotification.subscriptionDialog.manageSubscriptionsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(25,29,e.DdM(38,Gc))),e.xp6(2),e.hij(" ",e.lcZ(27,31,"stockNotification.subscriptionDialog.manageSubscriptionsLink"),""),e.xp6(2),e.hij(" ",e.lcZ(29,33,"stockNotification.subscriptionDialog.manageSubscriptionsSuffix")," "),e.xp6(6),e.hij(" ",e.lcZ(35,35,"stockNotification.subscriptionDialog.okBtn")," ")}}function ma(a,g){1&a&&(e.TgZ(0,"div",9)(1,"p"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"div",21)(5,"div",22),e._UZ(6,"cx-spinner"),e.qZA()()()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"stockNotification.subscriptionDialog.subscribing")," "))}function Cs(a,g){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"p"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()(),e.TgZ(5,"button",6),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(3);return e.KtG(v.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.BQk()}2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"stockNotification.getNotified")),e.xp6(3),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," "))}function ns(a,g){if(1&a&&(e.ynx(0),e.YNc(1,Cs,8,6,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(2),l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,r.prefsEnabled$))("ngIfElse",l)}}function Yh(a,g){if(1&a&&(e.ynx(0),e.YNc(1,ns,3,4,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&a){const r=e.oxw(),l=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,r.hasProductInterests$))("ngIfElse",l)}}const Bf=function(){return{cxRoute:"login"}};function Yu(a,g){1&a&&(e.ynx(0),e.TgZ(1,"a",10),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._uU(5),e.ALo(6,"cxTranslate"),e._UZ(7,"br"),e.BQk()),2&a&&(e.xp6(1),e.Q6J("routerLink",e.lcZ(2,3,e.DdM(9,Bf))),e.xp6(2),e.hij(" ",e.lcZ(4,5,"miniLogin.signInRegister"),""),e.xp6(2),e.hij(" ",e.lcZ(6,7,"stockNotification.getNotifySuffix"),""))}function Hc(a,g){1&a&&(e._uU(0),e.ALo(1,"cxTranslate"),e._UZ(2,"br"),e._uU(3),e.ALo(4,"cxTranslate"),e.TgZ(5,"a",10),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e._uU(9),e.ALo(10,"cxTranslate")),2&a&&(e.hij(" ",e.lcZ(1,5,"stockNotification.getNotify"),""),e.xp6(3),e.hij(" ",e.lcZ(4,7,"stockNotification.activateChannelsPrefix")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,9,e.DdM(15,zh))),e.xp6(2),e.Oqu(e.lcZ(8,11,"stockNotification.channelsLink")),e.xp6(2),e.hij("",e.lcZ(10,13,"stockNotification.activateChannelsSuffix")," "))}function sv(a,g){if(1&a){const r=e.EpF();e.TgZ(0,"div",7)(1,"p"),e.YNc(2,Yu,8,10,"ng-container",4),e.YNc(3,Hc,11,16,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(5,"button",9),e.NdJ("click",function(){e.CHM(r);const v=e.oxw();return e.KtG(v.subscribe())}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()}if(2&a){const r=e.MAs(4),l=e.oxw();e.xp6(2),e.Q6J("ngIf",l.anonymous)("ngIfElse",r),e.xp6(3),e.uIk("disabled",!!l.anonymous||null),e.xp6(1),e.hij(" ",e.lcZ(7,4,"stockNotification.notifyMe")," ")}}function Gf(a,g){if(1&a){const r=e.EpF();e.ynx(0),e._UZ(1,"div",11),e.ALo(2,"cxTranslate"),e.TgZ(3,"div",5)(4,"p"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"button",12),e.NdJ("click",function(){e.CHM(r);const v=e.oxw(2);return e.KtG(v.unsubscribe())}),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.BQk()}2&a&&(e.xp6(1),e.uIk("aria-label",e.lcZ(2,3,"common.loaded")),e.xp6(4),e.Oqu(e.lcZ(6,5,"stockNotification.notified")),e.xp6(3),e.hij(" ",e.lcZ(9,7,"stockNotification.stopNotify")," "))}function Jl(a,g){if(1&a&&(e.YNc(0,Gf,10,9,"ng-container",4),e.ALo(1,"async")),2&a){const r=e.oxw(),l=e.MAs(7);e.Q6J("ngIf",!e.lcZ(1,2,r.isRemoveInterestLoading$))("ngIfElse",l)}}function Zu(a,g){1&a&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e._UZ(3,"cx-spinner"),e.qZA()()())}const Zh="data-cx-focus-group";var bi=(()=>{return(a=bi||(bi={})).start="start",a.end="end",a.both="both",bi;var a})();let Ja=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Hf=(()=>{class a{constructor(r,l){this.elementRef=r,this.service=l,this.defaultConfig={}}ngOnInit(){this.setDefaultConfiguration(),this.requiredTabindex=-1}ngOnChanges(r){}setDefaultConfiguration(){(!this.config||""===this.config)&&this.defaultConfig&&(this.config=this.defaultConfig)}get host(){return this.elementRef.nativeElement}set requiredTabindex(r){this.requiresExplicitTabIndex&&(this.tabindex=r)}get requiresExplicitTabIndex(){return void 0===this.tabindex&&-1===["button","input","select","textarea"].indexOf(this.host.tagName.toLowerCase())&&!("A"===this.host.tagName&&(this.host.hasAttribute("href")||this.host.hasAttribute("routerlink")||this.host.getAttribute("ng-reflect-router-link")))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Ja))},a.\u0275dir=e.lG2({type:a,hostVars:1,hostBindings:function(r,l){2&r&&e.uIk("tabindex",l.tabindex)},inputs:{tabindex:"tabindex"},features:[e.TTD]}),a})(),av=(()=>{class a extends Hf{constructor(){super(...arguments),this.defaultConfig={disableMouseFocus:!0},this.mouseFocus=!1}handleMousedown(){this.shouldFocusVisible&&(this.mouseFocus=!0)}handleKeydown(r){this.shouldFocusVisible&&(this.mouseFocus=!this.isNavigating(r))}get shouldFocusVisible(){return this.config?.disableMouseFocus}isNavigating(r){return!(r.metaKey||"Tab"!==r.code&&["INPUT","TEXTAREA"].includes(r.target.tagName))}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275dir=e.lG2({type:a,hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("mousedown",function(){return l.handleMousedown()})("keydown",function(T){return l.handleKeydown(T)}),2&r&&e.ekj("mouse-focus",l.mouseFocus)},features:[e.qOj]}),a})(),ql=(()=>{class a extends av{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={block:!0},this.config={}}ngOnInit(){super.ngOnInit(),this.config.block&&(this.tabindex=-1)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Ja))},a.\u0275dir=e.lG2({type:a,features:[e.qOj]}),a})(),Vf=(()=>{class a extends Ja{constructor(){super(...arguments),this.focus=new Map}get(r){return this.focus.get(r||"_g_")}set(r,l){r&&this.focus.set(l||"_g_",r)}clear(r){this.focus.delete(r||"_g_")}getPersistenceGroup(r,l){return l?.group?l.group:r?.getAttribute(Zh)}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Wh=(()=>{class a extends ql{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={},this.config={}}handleFocus(r){this.service.set(this.key,this.group),r?.preventDefault(),r?.stopPropagation()}ngOnInit(){super.ngOnInit(),this.attr=this.key?this.key:void 0}setDefaultConfiguration(){"string"==typeof this.config&&""!==this.config&&(this.config={key:this.config}),super.setDefaultConfiguration()}ngAfterViewInit(){this.isPersisted&&this.host.focus({preventScroll:!0})}get isPersisted(){return!!this.key&&this.service.get(this.group)===this.key}get key(){return this.config?.key}get group(){return this.service.getPersistenceGroup(this.host,this.config)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Vf))},a.\u0275dir=e.lG2({type:a,hostVars:1,hostBindings:function(r,l){1&r&&e.NdJ("focus",function(T){return l.handleFocus(T)}),2&r&&e.uIk("data-cx-focus",l.attr)},features:[e.qOj]}),a})(),Kh=(()=>{class a{constructor(){this.focusableSelectors=["a[href]","button","[tabindex]","input","select","textarea"],this.focusableSelectorSuffix=":not([disabled]):not([hidden]):not([aria-hidden])"}query(r,l){return l&&""!==l?Array.from(r?.querySelectorAll(l)):[]}findFirstFocusable(r,l={autofocus:!0}){return this.query(r,"string"==typeof l?.autofocus?l.autofocus:"[autofocus]").find(T=>!this.isHidden(T))||this.findFocusable(r).find(T=>Boolean(T))}findFocusable(r,l=!1,v=!1){let T=this.focusableSelectorSuffix;l||(T+=":not([tabindex='-1'])");const W=this.focusableSelectors.map(Be=>Be+T).join(",");return this.query(r,W).filter(Be=>v?Boolean(Be):!this.isHidden(Be))}isHidden(r){return null===r.offsetParent}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),jf=(()=>{class a extends Vf{constructor(r){super(),this.selectFocusUtil=r}shouldFocus(r){return!!r?.focusOnEscape}handleEscape(r,l,v){this.shouldFocus(l)&&(r!==v.target?(r.focus({preventScroll:!0}),v.preventDefault(),v.stopPropagation()):l?.focusOnDoubleEscape&&this.selectFocusUtil.findFirstFocusable(r,{autofocus:!0})?.focus())}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Kh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),cv=(()=>{class a extends Wh{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={focusOnEscape:!0},this.esc=new e.vpe}handleEscape(r){this.service.shouldFocus(this.config)&&this.service.handleEscape(this.host,this.config,r),this.esc.emit(this.service.shouldFocus(this.config))}ngOnInit(){this.service.shouldFocus(this.config)&&(this.requiredTabindex=-1),super.ngOnInit()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(jf))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.escape",function(T){return l.handleEscape(T)})},outputs:{esc:"esc"},features:[e.qOj]}),a})(),Wu=(()=>{class a extends jf{findFirstFocusable(r,l={autofocus:!0}){return":host"===l?.autofocus?r:this.hasPersistedFocus(r,l)?this.getPersisted(r,this.getPersistenceGroup(r,l)):this.selectFocusUtil.findFirstFocusable(r,l)||r}hasPersistedFocus(r,l){return!!this.getPersisted(r,this.getPersistenceGroup(r,l))}getPersisted(r,l){if(!this.get(l))return;const v=Array.from(r?.querySelectorAll(`[data-cx-focus='${this.get(l)}']`));return v.length>0?v[0]:void 0}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ed=(()=>{class a extends cv{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={autofocus:!0}}ngAfterViewInit(){this.shouldAutofocus&&this.handleFocus(),(!this.shouldAutofocus||this.hasPersistedFocus)&&super.ngAfterViewInit()}ngOnChanges(r){r.config.currentValue?.refreshFocus&&(this.config.autofocus||(this.config.autofocus=!0),this.handleFocus()),super.ngOnChanges(r)}handleFocus(r){this.shouldAutofocus&&(r?.target&&r.target!==this.host?r.target.focus():this.firstFocusable?.focus()),super.handleFocus(r)}get hasPersistedFocus(){return this.service.hasPersistedFocus(this.host,this.config)}get shouldAutofocus(){return!!this.config?.autofocus}get firstFocusable(){return this.service.findFirstFocusable(this.host,this.config)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Wu))},a.\u0275dir=e.lG2({type:a,features:[e.qOj,e.TTD]}),a})(),Ku=(()=>{class a extends Wu{moveTab(r,l,v,T){l?.tab&&(("scroll"===l.tab?this.findNextScrollable(r,l,v):this.findNext(r,l,v))?.focus(),T.preventDefault(),T.stopPropagation())}findNextScrollable(r,l,v){const T=this.getActiveChild(r,l);if(!T)return;const W=Math.round(r.scrollWidth/r.clientWidth);let yt=Math.round(T.offsetLeft/(r.scrollWidth/W))+v;return 1===v&&yt>=W&&(yt=0),-1===v&&yt<0&&(yt=W-1),this.getChildren(r,l)?.find(On=>On.offsetLeft>=r.scrollWidth/W*yt)}findNext(r,l,v){const T=this.getChildren(r,l);let W=T?.findIndex(Be=>Be===this.getActiveChild(r,l));return(!W||-1===W)&&(W=0),W+=v,1===v&&W>=T?.length&&(W=T.length-1),-1===v&&W<0&&(W=0),T?T[W]:void 0}getActiveChild(r,l){const v=this.getPersisted(r,l?.group);if(v)return v;const T=this.getChildren(r,l);let W=T.findIndex(Be=>this.isActive(Be));return(!W||-1===W)&&(W=0),T[W]}getChildren(r,l){return"string"==typeof l.tab&&"scroll"!==l.tab?this.selectFocusUtil.query(r,l.tab):this.findFocusable(r,!0)}findFocusable(r,l=!1,v=!1){return this.selectFocusUtil.findFocusable(r,l,v)}isActive(r){const l=document.activeElement,v=l?.tagName;return r===l||!!v&&!!Array.from(r.querySelectorAll(v)).find(T=>T===l)}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Vc=(()=>{class a extends ed{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={tab:!0},this.config={}}handleNextTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,1,r)}handlePreviousTab(r){this.config?.tab&&this.service.moveTab(this.host,this.config,-1,r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Ku))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.arrowRight",function(T){return l.handleNextTab(T)})("keydown.arrowLeft",function(T){return l.handlePreviousTab(T)})},features:[e.qOj]}),a})(),jc=(()=>{class a extends Ku{hasFocusableChildren(r){return this.findFocusable(r).length>0}moveFocus(r,l,v,T){const W=this.findFocusable(r);let Be=W.findIndex(jt=>jt===T.target)+v;(Be>=0&&Be<W.length||Be<0&&this.getTrapStart(l.trap)||Be>=W.length&&this.getTrapEnd(l.trap))&&(Be>=W.length&&(Be=0),Be<0&&(Be=W.length-1),T.preventDefault(),T.stopPropagation(),W[Be].focus())}getTrapStart(r){return!0===r||r===bi.start}getTrapEnd(r){return!0===r||r===bi.end}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Jh=(()=>{class a extends Vc{constructor(r,l){super(r,l),this.elementRef=r,this.service=l,this.defaultConfig={trap:!0},this.config={},this.handleTrapDown=v=>{this.config.trap&&this.moveFocus(v,1)},this.handleTrapUp=v=>{this.config.trap&&this.moveFocus(v,-1)}}moveFocus(r,l){this.service.hasFocusableChildren(this.host)&&this.service.moveFocus(this.host,this.config,l,r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(jc))},a.\u0275dir=e.lG2({type:a,hostBindings:function(r,l){1&r&&e.NdJ("keydown.arrowdown",function(T){return l.handleTrapDown(T)})("keydown.tab",function(T){return l.handleTrapDown(T)})("keydown.arrowup",function(T){return l.handleTrapUp(T)})("keydown.shift.tab",function(T){return l.handleTrapUp(T)})},features:[e.qOj]}),a})(),td=(()=>{class a extends jc{}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),va=(()=>{class a extends Jh{constructor(r,l,v){super(r,l),this.elementRef=r,this.service=l,this.renderer=v,this.defaultConfig={lock:!0},this.config={},this.unlock=new e.vpe}handleEnter(r){this.shouldLock&&this.host===r.target&&(this.unlockFocus(r),r.preventDefault(),r.stopPropagation())}handleClick(r){this.shouldLock&&this.isLocked&&(this.unlockFocus(r),r.stopPropagation())}lockFocus(){this.addTabindexToChildren(-1)}unlockFocus(r){this.unlock.emit(!0),this.addTabindexToChildren(0),r?.target===this.host&&setTimeout(()=>{super.handleFocus(r)},100)}ngOnInit(){super.ngOnInit(),this.shouldLock=this.config?.lock,this.shouldLock&&(this.tabindex=0,this.config.hasOwnProperty("autofocus")||(this.config.autofocus=!0),this.config.hasOwnProperty("focusOnEscape")||(this.config.focusOnEscape=!1!==this.config?.focusOnEscape))}ngAfterViewInit(){if(this.shouldLock){if(this.group){const r=this.group;this.service.findFocusable(this.host).forEach(l=>this.renderer.setAttribute(l,Zh,r))}this.shouldAutofocus&&this.handleFocus()}super.ngAfterViewInit()}handleFocus(r){if(this.shouldLock){if(!this.shouldUnlockAfterAutofocus(r))return setTimeout(()=>this.lockFocus()),void r?.stopPropagation();setTimeout(()=>this.unlockFocus(r))}super.handleFocus(r)}handleEscape(r){this.shouldLock&&this.service.clear(this.config.group),super.handleEscape(r)}shouldUnlockAfterAutofocus(r){return!r&&this.service.hasPersistedFocus(this.host,this.config)}addTabindexToChildren(r=0){this.shouldLock&&(this.isLocked=-1===r,(!this.hasFocusableChildren||0!==r||0===r)&&this.focusable.forEach(l=>this.renderer.setAttribute(l,"tabindex",r.toString())))}get hasFocusableChildren(){return this.service.hasFocusableChildren(this.host)}get focusable(){return this.service.findFocusable(this.host,this.shouldLock,!0)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(td),e.Y36(e.Qsj))},a.\u0275dir=e.lG2({type:a,hostVars:4,hostBindings:function(r,l){1&r&&e.NdJ("keydown.enter",function(T){return l.handleEnter(T)})("keydown.space",function(T){return l.handleEnter(T)})("click",function(T){return l.handleClick(T)}),2&r&&e.ekj("focus-lock",l.shouldLock)("is-locked",l.isLocked)},outputs:{unlock:"unlock"},features:[e.qOj]}),a})(),Ju=(()=>{class a extends td{}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ro=(()=>{class a extends va{constructor(r,l,v){super(r,l,v),this.elementRef=r,this.service=l,this.renderer=v,this.defaultConfig={},this.config={}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(Ju),e.Y36(e.Qsj))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxFocus",""]],inputs:{config:["cxFocus","config"]},features:[e.qOj]}),a})(),Jo=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})();var Oo=(()=>{return(a=Oo||(Oo={})).POPOVER="POPOVER",a.POPOVER_CENTER="POPOVER_CENTER",a.POPOVER_CENTER_BACKDROP="POPOVER_CENTER_BACKDROP",a.DIALOG="DIALOG",a.SIDEBAR_START="SIDEBAR_START",a.SIDEBAR_END="SIDEBAR_END",Oo;var a})();let rs=(()=>{let a=class{constructor(r,l){this.document=r,this.rendererFactory=l,this.renderedCallers=[],this.dialogClasses=["d-block","fade","modal","show"],this.popoverClasses=["cx-dialog-popover"],this.popoverCenterClasses=["cx-dialog-popover-center"],this.popoverCenterBackdropClasses=["cx-dialog-popover-center-backdrop"],this.sidebarEndClasses=["cx-sidebar-end"],this.sidebarStartClasses=["cx-sidebar-start"],this.renderer=l.createRenderer(null,null)}shouldRender(r,l){return Boolean(l.component)&&(!this.renderedCallers.some(v=>v.caller===r)||!!l.multi)}applyClasses(r,l){let v=[];switch(l){case Oo.DIALOG:v=this.dialogClasses,this.renderer.addClass(this.document.body,"modal-open");break;case Oo.POPOVER:v=this.popoverClasses;break;case Oo.POPOVER_CENTER:v=this.popoverCenterClasses;break;case Oo.POPOVER_CENTER_BACKDROP:v=this.popoverCenterBackdropClasses;break;case Oo.SIDEBAR_END:v=this.sidebarEndClasses;break;case Oo.SIDEBAR_START:v=this.sidebarStartClasses}for(const T of v)this.renderer.addClass(r.location.nativeElement,T)}remove(r,l){this.renderedCallers=this.renderedCallers.filter(v=>v.caller!==r),l?.dialogType===Oo.DIALOG&&this.renderer.removeClass(this.document.body,"modal-open")}getPriority(){return-10}};return a=(0,cn.gn)([(0,cn.fM)(0,(0,e.tBr)(u.K0))],a),a})();var zc=(()=>{return(a=zc||(zc={})).xs="xs",a.sm="sm",a.md="md",a.lg="lg",a.xl="xl",zc;var a})();let Us=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Vi=(()=>{class a{constructor(r,l){this.renderStrategies=r,this.layoutConfig=l,this._dialogClose=new N.X(void 0),this._dataSubject=new N.X(void 0),this.renderStrategies=this.renderStrategies||[]}get data$(){return this._dataSubject.asObservable()}openDialog(r,l,v,T){const W=this.launch(r,v,T);if(W)return(0,D.aj)([W,this.dialogClose]).pipe((0,ze.h)(([,Be])=>void 0!==Be),(0,Ie.b)(([Be])=>{l?.nativeElement.focus(),this.clear(r),Be?.destroy()}),(0,he.U)(([Be])=>Be))}launch(r,l,v){const T=this.findConfiguration(r);if(T){const W=this.getStrategy(T);if(W)return this._dialogClose.next(void 0),this._dataSubject.next(v),W.render(T,r,l)}else(0,e.X6Q)()&&console.warn("No configuration provided for caller "+r)}openDialogAndSubscribe(r,l,v){this.openDialog(r,l,void 0,v)?.pipe((0,pe.q)(1)).subscribe()}clear(r){const l=this.findConfiguration(r);if(l){const v=this.getStrategy(l);v&&v.remove(r,l)}}get dialogClose(){return this._dialogClose.asObservable()}closeDialog(r){this._dialogClose.next(r)}findConfiguration(r){if(this.layoutConfig?.launch)return this.layoutConfig.launch[r]}getStrategy(r){return(0,h.ARM)(this.renderStrategies,[r])}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(rs),e.LFG(Us))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),nd=(()=>{class a{constructor(r,l,v){this.anonymousConsentsService=r,this.vcr=l,this.launchDialogService=v,this.subscriptions=new P.w,this.bannerVisible$=this.anonymousConsentsService.isBannerVisible()}viewDetails(){this.hideBanner();const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",void 0,this.vcr);r&&this.subscriptions.add(r.subscribe())}allowAll(){this.subscriptions.add(this.anonymousConsentsService.giveAllConsents().pipe((0,Ie.b)(()=>this.hideBanner())).subscribe())}hideBanner(){this.anonymousConsentsService.toggleBannerDismissed(!0)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.NpW),e.Y36(e.s_b),e.Y36(Vi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-management-banner"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"anonymous-consent-banner",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-lg-8","col-xs-12"],[1,"cx-banner-title"],[1,"cx-banner-description"],[1,"col-lg-4","col-xs-12","cx-banner-buttons"],[1,"btn","btn-action",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,Ar,18,15,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.bannerVisible$))},dependencies:[u.mk,u.O5,u.Ov,h.X$D],encapsulation:2}),a})(),Yc=(()=>{class a extends rs{constructor(r,l,v){super(r,l),this.document=r,this.rendererFactory=l,this.componentFactoryResolver=v}render(r,l,v){if(v&&this.shouldRender(l,r)){const T=this.componentFactoryResolver.resolveComponentFactory(r.component),W=v.createComponent(T);return r?.dialogType&&this.applyClasses(W,r?.dialogType),this.renderedCallers.push({caller:l,element:v.element,component:W}),(0,k.of)(W)}(0,e.X6Q)()&&console.warn(v?`Element for ${l} already rendered. To allow multi rendering add property multi: true.`:`No view container ref provided for ${l}`)}hasMatch(r){return Boolean(r.inline)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(u.K0),e.LFG(e.FYo),e.LFG(e._Vd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Qa=(()=>{class a extends rs{constructor(r,l,v,T){super(r,l),this.document=r,this.rendererFactory=l,this.componentFactoryResolver=v,this.injector=T}get hostComponent(){return this.injector.get(e.z2F)?.components?.[0]}render(r,l){if(this.shouldRender(l,r)){const v=this.componentFactoryResolver.resolveComponentFactory(r.component),T=e.zs3.create({providers:[]}),W=v.create(T);return this.injector.get(e.z2F)?.attachView(W.hostView),this.renderer.appendChild(this.hostComponent?.location.nativeElement,W.location.nativeElement),r?.dialogType&&this.applyClasses(W,r?.dialogType),this.renderedCallers.push({caller:l,component:W}),(0,k.of)(W)}}hasMatch(r){return Boolean(r.inlineRoot)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(u.K0),e.LFG(e.FYo),e.LFG(e._Vd),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Wr=(()=>{return(a=Wr||(Wr={})).REPLACE="replace",a.BEFORE="before",a.AFTER="after",Wr;var a})();class _a{}let qa=(()=>{class a{constructor(){this.templatesRefs={[Wr.BEFORE]:new Map,[Wr.REPLACE]:new Map,[Wr.AFTER]:new Map}}add(r,l,v=Wr.REPLACE){const T=this.templatesRefs[v];if(T){const Be=(T.get(r)||[]).concat([l]);T.set(r,Be)}}get(r,l=Wr.REPLACE,v=!1){const W=(this.templatesRefs[l]||this.templatesRefs[Wr.REPLACE]).get(r);return W&&!v?W[0]:W}remove(r,l=Wr.REPLACE,v){this.removeValueOrAll(this.templatesRefs[l]||this.templatesRefs[Wr.REPLACE],r,v)}removeValueOrAll(r,l,v){if(!v&&r.has(l))r.delete(l);else if(v&&r.has(l)){let T=r.get(l);T=T?.filter(W=>W!==v),T&&r.set(l,T)}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),qu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})(),qh=(()=>{class a{constructor(){this.outletRefs=new N.X(new Map)}render(r){0!==this.outletRefs.value.size&&this.outletRefs.value.get(r)?.render()}register(r,l){this.outletRefs.next(this.outletRefs.value.set(r,l))}getOutletRef(r){return this.outletRefs.asObservable().pipe((0,he.U)(l=>l.get(r)),(0,ze.h)(h.jWE))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),od=(()=>{class a{constructor(r){this.config=r}isIntersected(r,l){return this.intersects(r,l).pipe((0,ne.P)(v=>!0===v))}isIntersecting(r,l){return this.intersects(r,l)}intersects(r,l={}){return new M.y(T=>{const Be={rootMargin:this.getRootMargin(l),threshold:l.threshold},yt=new IntersectionObserver(jt=>{T.next(jt)},Be);return yt.observe(r),()=>{yt.disconnect()}}).pipe((0,_e.zg)(T=>T),(0,he.U)(T=>T.isIntersecting),(0,be.x)())}getRootMargin(r={}){if(r.rootMargin)return r.rootMargin;const l=this.config;return l.deferredLoading&&l.deferredLoading.intersectionMargin?l.deferredLoading.intersectionMargin:void 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Us))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),id=(()=>{class a{constructor(r,l,v){this.platformId=r,this.config=l,this.intersectionService=v,this.globalLoadStrategy=l.deferredLoading?.strategy??h.cXr.INSTANT}load(r,l){return this.shouldLoadInstantly((l||{}).deferLoading)?(0,k.of)(!0):this.intersectionService.isIntersected(r,l)}shouldLoadInstantly(r){return(0,u.PM)(this.platformId)||r===h.cXr.INSTANT||r!==h.cXr.DEFER&&this.globalLoadStrategy===h.cXr.INSTANT}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(e.Lbi),e.LFG(Us),e.LFG(od))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Bo=(()=>{class a{constructor(r,l,v,T,W){this.vcr=r,this.templateRef=l,this.outletService=v,this.deferLoaderService=T,this.outletRendererService=W,this.renderedTemplate=[],this.renderedComponents=new Map,this.outletContext$=new G.t(1),this.loaded=new e.vpe(!0),this.subscription=new P.w}render(){this.vcr.clear(),this.renderedTemplate=[],this.renderedComponents.clear(),this.subscription.unsubscribe(),this.subscription=new P.w,this.cxOutletDefer?this.deferLoading():this.build()}ngOnChanges(r){r.cxOutlet&&(this.render(),this.outletRendererService.register(this.cxOutlet,this)),r.cxOutletContext&&this.outletContext$.next(this.cxOutletContext)}deferLoading(){this.loaded.emit(!1);const r=this.getHostElement(this.vcr.element.nativeElement);this.subscription.add(this.deferLoaderService.load(r,this.cxOutletDefer).subscribe(()=>{this.build(),this.loaded.emit(!0)}))}build(){this.buildOutlet(Wr.BEFORE),this.buildOutlet(Wr.REPLACE),this.buildOutlet(Wr.AFTER)}buildOutlet(r){let l=this.outletService.get(this.cxOutlet,r,!0);l=l?.filter(T=>!this.renderedTemplate.includes(T)),!l&&r===Wr.REPLACE&&(l=[this.templateRef]),Array.isArray(l)||(l=[l]);const v=[];l.forEach(T=>{const W=this.create(T,r);W&&v.push(W)}),this.renderedComponents.set(r,v)}create(r,l){if(this.renderedTemplate.push(r),r instanceof e._Yv)return this.vcr.createComponent(r,void 0,this.getComponentInjector(l));if(r instanceof e.Rgc){const v=this.vcr.createEmbeddedView(r,{$implicit:this.cxOutletContext});return v.markForCheck(),v}}getComponentInjector(r){const l={reference:this.cxOutlet,position:r,context:this.cxOutletContext,context$:this.outletContext$.asObservable()};return e.zs3.create({providers:[{provide:_a,useValue:l}],parent:this.vcr.injector})}getHostElement(r){return r instanceof HTMLElement?r:this.getHostElement(r.parentNode)}ngOnDestroy(){this.subscription.unsubscribe(),this.outletContext$.complete()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(qa),e.Y36(id),e.Y36(qh))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxOutlet",""]],inputs:{cxOutlet:"cxOutlet",cxOutletContext:"cxOutletContext",cxOutletDefer:"cxOutletDefer"},outputs:{loaded:"loaded"},features:[e.TTD]}),a})();const Zc=new e.OlP("PROVIDE_OUTLET_OPTIONS");function Xa(a){return{provide:Zc,useValue:a,multi:!0}}function Xh(a,g,r){return()=>{(a??[]).forEach(v=>{const T=g.resolveComponentFactory(v.component);r.add(v.id,T,v.position??Wr.AFTER)})}}let li=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:e.ip1,useFactory:Xh,deps:[[new e.FiY,Zc],e._Vd,qa],multi:!0}]}}static forChild(){return{ngModule:a,providers:[{provide:h.z4I,useFactory:Xh,deps:[[new e.FiY,Zc],e._Vd,qa],multi:!0}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})(),lv=(()=>{class a extends rs{constructor(r,l,v,T,W){super(r,l),this.document=r,this.rendererFactory=l,this.outletService=v,this.componentFactoryResolver=T,this.outletRendererService=W}render(r,l){if(this.shouldRender(l,r)){const v=this.componentFactoryResolver.resolveComponentFactory(r.component);return this.outletService.add(r.outlet,v,r.position?r.position:Wr.BEFORE),this.outletRendererService.render(r.outlet),this.renderedCallers.push({caller:l}),this.outletRendererService.getOutletRef(r.outlet).pipe((0,he.U)(T=>T.renderedComponents.get(r.position?r.position:Wr.BEFORE).reverse().find(Be=>Be.componentType===v.componentType)),(0,Ie.b)(T=>{r?.dialogType&&T&&this.applyClasses(T,r?.dialogType)}))}}hasMatch(r){return Boolean(r.outlet)}remove(r,l){const v=this.componentFactoryResolver.resolveComponentFactory(l.component);this.outletService.remove(l.outlet,l.position?l.position:Wr.BEFORE,v),super.remove(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(u.K0),e.LFG(e.FYo),e.LFG(qa),e.LFG(e._Vd),e.LFG(qh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),sd=(()=>{class a extends rs{constructor(r,l,v){super(r,l),this.document=r,this.rendererFactory=l,this.routingService=v}render(r,l){this.routingService.go(r)}hasMatch(r){return Boolean(r.cxRoute)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(u.K0),e.LFG(e.FYo),e.LFG(h.Znh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ad=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:Us,useExisting:h.DeH}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:rs,useExisting:lv,multi:!0},{provide:rs,useExisting:Yc,multi:!0},{provide:rs,useExisting:sd,multi:!0},{provide:rs,useExisting:Qa,multi:!0}]}),a})();var fr=(()=>{return(a=fr||(fr={})).STAR="STAR",a.SEARCH="SEARCH",a.CART="CART",a.INFO="INFO",a.GRID="GRID",a.LIST="LIST",a.CARET_DOWN="CARET_DOWN",a.CARET_UP="CARET_UP",a.CARET_LEFT="CARET_LEFT",a.CARET_RIGHT="CARET_RIGHT",a.CLOSE="CLOSE",a.ERROR="ERROR",a.WARNING="WARNING",a.SUCCESS="SUCCESS",a.VISA="VISA",a.MASTER_CARD="MASTER_CARD",a.AMEX="AMEX",a.DINERS_CLUB="DINERS_CLUB",a.CREDIT_CARD="CREDIT_CARD",a.EXPAND="EXPAND",a.COLLAPSE="COLLAPSE",a.RESET="RESET",a.CIRCLE="CIRCLE",a.HEART="HEART",a.EMPTY_HEART="EMPTY_HEART",a.FILTER="FILTER",a.PENCIL="PENCIL",a.CLOCK="CLOCK",a.TRASH="TRASH",a.ACTIVE="ACTIVE",a.SORT_DOWN="SORT_DOWN",a.SORT="SORT",a.ON="ON",a.OFF="OFF",a.LINK_OUT="LINK_OUT",a.EXPAND_ARROWS="EXPAND_ARROWS",a.EYE="EYE",a.EYE_SLASH="EYE_SLASH",fr;var a})();let ec=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();var cr=(()=>{return(a=cr||(cr={})).SVG="svg",a.LINK="link",a.TEXT="text",cr;var a})();const zf={icon:{symbols:{SEARCH:"fas fa-search",CART:"fas fa-shopping-cart",INFO:"fas fa-info-circle",STAR:"fas fa-star",GRID:"fas fa-th-large",LIST:"fas fa-bars",CARET_UP:"fas fa-angle-up",CARET_DOWN:"fas fa-angle-down",CARET_RIGHT:"fas fa-angle-right",CARET_LEFT:"fas fa-angle-left",ERROR:"fas fa-exclamation-circle",WARNING:"fas fa-exclamation-triangle",SUCCESS:"fas fa-check-circle",CLOSE:"fas fa-times",VISA:"fab fa-cc-visa",MASTER_CARD:"fab fa-cc-mastercard",AMEX:"fab fa-cc-amex",DINERS_CLUB:"fab fa-cc-diners-club",CREDIT_CARD:"fas fa-credit-card",COLLAPSE:"fas fa-minus",EXPAND:"fas fa-plus",RESET:"fas fa-times-circle",CIRCLE:"fas fa-circle",HEART:"fas fa-heart",EMPTY_HEART:"far fa-heart",FILTER:"fas fa-filter",PENCIL:"fas fa-pencil-alt",CLOCK:"far fa-clock",TRASH:"fas fa-trash",ACTIVE:"fas fa-check",ON:"fas fa-toggle-on",OFF:"fas fa-toggle-off",LINK_OUT:"fas fa-external-link-alt",SORT_DOWN:"fas fa-sort-down",SORT:"fas fa-sort",EXPAND_ARROWS:"fas fa-expand",PDF_FILE:"fas fa-file-pdf",EYE:"fas fa-eye",EYE_SLASH:"fas fa-eye-slash"},resources:[{type:cr.LINK,url:"https://use.fontawesome.com/releases/v5.8.1/css/all.css"}]}};let eg=(()=>{class a{constructor(r,l,v){this.winRef=r,this.iconConfig=l,this.sanitizer=v,this.loadedResources=[]}getHtml(r){if(this.isResourceType(r,cr.SVG)){const l=this.sanitizer.sanitize(e.q3G.URL,this.getSvgPath(r)||null);if(l){const v=this.winRef.document.createElement("use");v.setAttribute("xlink:href",l);const T=this.winRef.document.createElement("svg");return T.appendChild(v),this.sanitizer.bypassSecurityTrustHtml(T.outerHTML)}}if(this.isResourceType(r,cr.TEXT)){const l=this.getSymbol(r);if(l){const v=this.winRef.document.createElement("div");return v.textContent=l,this.sanitizer.bypassSecurityTrustHtml(v.innerHTML)}}}getFlipDirection(r){return this.config?.flipDirection?.[r]}getStyleClasses(r){return this.getSymbol(r)||""}isResourceType(r,l){return void 0!==this.config?.resources&&!!this.config.resources.find(v=>v.types&&v.type===l&&v.types.includes(r))}getSvgPath(r){const l=this.config?.resources?.find(v=>v.type===cr.SVG&&v.types&&v.types.includes(r));if(l)return l.url?`${l.url}#${this.getSymbol(r)}`:`#${this.getSymbol(r)}`}addLinkResource(r){const l=this.findResource(r,cr.LINK);if(l?.url&&!this.loadedResources.includes(l.url)){this.loadedResources.push(l.url);const v=this.sanitizer.sanitize(e.q3G.URL,l.url);if(v){const T=this.winRef.document.getElementsByTagName("head")[0],W=this.winRef.document.createElement("link");W.rel="stylesheet",W.type="text/css",W.href=v,T.appendChild(W)}}}findResource(r,l){if(!this.config?.resources)return;let v=this.config.resources.find(T=>T.type===l&&T.types&&T.types.includes(r));return v||(v=this.config.resources.find(T=>T.type===l&&!T.types||T.types&&0===T.types.length)),v}getSymbol(r){if(this.config&&this.config.symbols&&this.config.symbols[r])return this.config.symbols[r]}get config(){return this.iconConfig.icon}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(ec),e.LFG(yn.H7))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var fo=(()=>{return(a=fo||(fo={})).LTR="ltr",a.RTL="rtl",fo;var a})();let vr=(()=>{class a{constructor(r,l,v){this.iconLoader=r,this.elementRef=l,this.renderer=v}set cxIcon(r){this.setIcon(r)}set type(r){this.setIcon(r)}setIcon(r){!r||""===r||(this.icon=this.iconLoader.getHtml(r),this.addStyleClasses(r),this.iconLoader.addLinkResource(r),this.flipIcon(r))}flipIcon(r){if(!this.iconLoader.getFlipDirection)return;const l=this.iconLoader.getFlipDirection(r);this.flipAtLtr=l===fo.LTR,this.flipAtRtl=l===fo.RTL}addStyleClasses(r){this.renderer.addClass(this.host,"cx-icon"),this.styleClasses?.forEach(l=>this.renderer.removeClass(this.host,l)),this.styleClasses=this.iconLoader.getStyleClasses(r)?.split(" "),this.styleClasses?.forEach(l=>{""!==l&&this.renderer.addClass(this.host,l)})}get host(){return this.elementRef.nativeElement}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(eg),e.Y36(e.SBq),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-icon"],["","cxIcon",""]],hostVars:4,hostBindings:function(r,l){2&r&&e.ekj("flip-at-rtl",l.flipAtRtl)("flip-at-ltr",l.flipAtLtr)},inputs:{cxIcon:"cxIcon",type:"type"},ngContentSelectors:Ln,decls:2,vars:1,consts:[[3,"outerHTML"]],template:function(r,l){1&r&&(e.F$t(),e._UZ(0,"i",0),e.Hsn(1)),2&r&&e.Q6J("outerHTML",l.icon,e.oJD)},encapsulation:2}),a})();const Wc={icon:{flipDirection:{CARET_RIGHT:fo.RTL,CARET_LEFT:fo.RTL}}};let Jr=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Wc),(0,h.i51)(zf)],imports:[u.ez]}),a})(),io=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-spinner"]],decls:4,vars:3,consts:[["role","status",1,"loader-container"],[1,"loader"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"spinner.loading")))},dependencies:[h.X$D],encapsulation:2}),a})(),Bs=(()=>{class a{constructor(){this.consentGiven=!1,this.requiredConsents=[],this.consentChanged=new e.vpe}ngOnInit(){this.consent?this.consentGiven=Boolean(this.consent.consentState===h.w3G.GIVEN):this.consentTemplate&&this.consentTemplate.currentConsent&&(this.consentTemplate.currentConsent.consentWithdrawnDate?this.consentGiven=!1:this.consentTemplate.currentConsent.consentGivenDate&&(this.consentGiven=!0))}onConsentChange(){this.consentGiven=!this.consentGiven,this.consentChanged.emit({given:this.consentGiven,template:this.consentTemplate})}isRequired(r){return!!r&&this.requiredConsents.includes(r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-consent-management-form"]],inputs:{consentTemplate:"consentTemplate",requiredConsents:"requiredConsents",consent:"consent"},outputs:{consentChanged:"consentChanged"},decls:8,vars:4,consts:[[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label","cx-be-bold"],[1,"form-check-label"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"label")(2,"input",1),e.NdJ("change",function(){return l.onConsentChange()}),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",3),e._uU(7),e.qZA()()()),2&r&&(e.xp6(2),e.Q6J("checked",l.consentGiven)("disabled",l.isRequired(null==l.consentTemplate?null:l.consentTemplate.id)),e.xp6(2),e.hij(" ",null==l.consentTemplate?null:l.consentTemplate.name," "),e.xp6(3),e.hij(" ",null==l.consentTemplate?null:l.consentTemplate.description," "))},encapsulation:2}),a})();const pv={launch:{ANONYMOUS_CONSENT:{inline:!0,component:(()=>{class a{constructor(r,l,v,T){this.config=r,this.anonymousConsentsService=l,this.el=v,this.launchDialogService=T,this.role="dialog",this.modal=!0,this.subscriptions=new P.w,this.showLegalDescription=!0,this.iconTypes=fr,this.requiredConsents=[],this.focusConfig={trap:!0,block:!0,autofocus:'input[type="checkbox"]',focusOnEscape:!0},this.config.anonymousConsents&&(this.showLegalDescription=this.config.anonymousConsents.showLegalDescriptionInDialog,this.config.anonymousConsents.requiredConsents&&(this.requiredConsents=this.config.anonymousConsents.requiredConsents))}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.templates$=this.anonymousConsentsService.getTemplates(),this.consents$=this.anonymousConsentsService.getConsents(),this.loading$=this.anonymousConsentsService.getLoadTemplatesLoading()}close(r){this.launchDialogService.closeDialog(r)}rejectAll(){this.subscriptions.add((0,D.aj)([this.templates$,this.consents$]).pipe((0,pe.q)(1),(0,be.x)(),(0,Ie.b)(([r,l])=>r.forEach(v=>{const T=this.getCorrespondingConsent(v,l);if(T&&this.anonymousConsentsService.isConsentGiven(T)){if(this.isRequiredConsent(v))return;v.id&&this.anonymousConsentsService.withdrawConsent(v.id)}}))).subscribe()),this.close("rejectAll")}allowAll(){this.subscriptions.add((0,D.aj)([this.templates$,this.consents$]).pipe((0,pe.q)(1),(0,be.x)(),(0,Ie.b)(([r,l])=>r.forEach(v=>{const T=this.getCorrespondingConsent(v,l);if(T&&(null==T.consentState||this.anonymousConsentsService.isConsentWithdrawn(T))){if(this.isRequiredConsent(v))return;v.id&&this.anonymousConsentsService.giveConsent(v.id)}}))).subscribe()),this.close("allowAll")}isRequiredConsent(r){return Boolean(r.id&&this.config.anonymousConsents?.requiredConsents&&this.config.anonymousConsents.requiredConsents.includes(r.id))}onConsentChange({given:r,template:l}){l.id&&(r?this.anonymousConsentsService.giveConsent(l.id):this.anonymousConsentsService.withdrawConsent(l.id))}getCorrespondingConsent(r,l=[]){for(const v of l)if(r.id===v.templateCode)return v;return null}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(e.SBq),e.Y36(Vi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-dialog"]],hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)}),2&r&&e.uIk("role",l.role)("aria-modal",l.modal)},decls:6,vars:5,consts:[[1,"cx-anonymous-consent-dialog",3,"cxFocus","esc"],[1,"cx-dialog-content"],[4,"ngIf","ngIfElse"],["dialogBody",""],["role","status"],[1,"cx-dialog-header"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["class","cx-dialog-description",4,"ngIf"],[1,"cx-dialog-buttons"],["tabindex","0",1,"btn-link","cx-action-link",3,"click"],["class","cx-dialog-body",4,"ngIf"],[1,"cx-dialog-description"],[1,"cx-dialog-separator","col-sm-12","d-xs-block","d-sm-block","d-md-none"],[1,"cx-dialog-body"],[4,"ngIf"],["class","cx-dialog-row col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"cx-dialog-row","col-sm-12","col-md-6"],[3,"consentTemplate","requiredConsents","consent","consentChanged"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1),e.YNc(2,yr,2,0,"div",2),e.ALo(3,"async"),e.YNc(4,sr,20,20,"ng-template",null,3,e.W1O),e.qZA()()),2&r){const v=e.MAs(5);e.Q6J("cxFocus",l.focusConfig),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,l.loading$))("ngIfElse",v)}},dependencies:[u.sg,u.O5,vr,io,Bs,Ro,u.Ov,h.X$D],encapsulation:2}),a})(),dialogType:Oo.DIALOG}}};let hv=(()=>{class a{constructor(r,l){this.vcr=r,this.launchDialogService=l}openDialog(){const r=this.launchDialogService.openDialog("ANONYMOUS_CONSENT",this.openElement,this.vcr);r&&r.pipe((0,pe.q)(1)).subscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(Vi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-anonymous-consent-open-dialog"]],viewQuery:function(r,l){if(1&r&&e.Gf(Sr,5),2&r){let v;e.iGM(v=e.CRH())&&(l.openElement=v.first)}},decls:4,vars:3,consts:[[1,"btn","btn-link",3,"click"],["open",""]],template:function(r,l){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return l.openDialog()}),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"anonymousConsents.preferences"),"\n"))},dependencies:[h.X$D],encapsulation:2}),a})(),tg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(pv),(0,h.i51)({cmsComponents:{AnonymousConsentManagementBannerComponent:{component:nd,deferLoading:h.cXr.INSTANT},AnonymousConsentOpenDialogComponent:{component:hv}}})],imports:[u.ez,h.LUR,h.GSh,Jo]}),a})();const ng=new e.OlP("PageLayoutHandler");let Mi=(()=>{class a{constructor(r,l,v){this.winRef=r,this.layoutConfig=l,this.platform=v,this.breakpoint$=(0,u.NF)(this.platform)?this.winRef.resize$.pipe((0,he.U)(T=>this.getBreakpoint(T.target.innerWidth)),(0,be.x)()):(0,k.of)(this.fallbackBreakpoint)}get breakpoints(){return this._breakpoints||(this._breakpoints=this.resolveBreakpointsFromConfig()),this._breakpoints}getSize(r){return this.getMaxSize(r)??this.getMinSize(this.breakpoints?.[this.breakpoints.indexOf(r)+1])}isDown(r){return this.breakpoint$.pipe((0,he.U)(l=>this.breakpoints.slice(0,this.breakpoints.indexOf(r)+1).includes(l)))}isUp(r){return this.breakpoint$.pipe((0,he.U)(l=>this.breakpoints.slice(this.breakpoints.indexOf(r)).includes(l)))}isEqual(r){return this.breakpoint$.pipe((0,he.U)(l=>l===r))}get fallbackBreakpoint(){return this.breakpoints?.[0]}resolveBreakpointsFromConfig(){return Object.keys(this.config).sort((l,v)=>{const T=this.getMinSize(l),W=Math.max(T?T+1:0,this.getMaxSize(l)||0),Be=this.getMinSize(v);return W<Math.max(Be?Be+1:0,this.getMaxSize(v)||0)?-1:0})}getMaxSize(r){const l=this.config[r];return l?"number"==typeof l?l:l.max?l.max:null:null}getMinSize(r){return this.config[r]?.min??null}getBreakpoint(r){return this.breakpoints.find(l=>{const v=this.getSize(l);return null!==v&&r<v})??this.breakpoints?.[this.breakpoints.length-1]}get config(){return this.layoutConfig?.breakpoints||{}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(Us),e.LFG(e.Lbi))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Fn=(()=>{class a{constructor(r,l,v,T){this.cms=r,this.config=l,this.breakpointService=v,this.unifiedInjector=T,this.subscription=new P.w,this.warnLogMessages={},this.logSlots={},this.subscription.add(this.unifiedInjector.getMulti(ng).subscribe(W=>this.handlers=W))}getSlots(r){return(0,D.aj)([this.page$,this.breakpointService.breakpoint$]).pipe((0,he.U)(([l,v])=>{const T=l.template;return{slots:this.resolveSlots(l,r,v),pageTemplate:T,breakpoint:v}}),(0,oe.w)(({slots:l,pageTemplate:v,breakpoint:T})=>{let W=(0,k.of)(l);for(const Be of this.handlers||[])W=Be.handle(W,v,r,T);return W}),(0,be.x)((l,v)=>{if(l.length!==v.length)return!1;for(let T=0;T<l.length;T++)if(l[T]!==v[T])return!1;return!0}))}getPageFoldSlot(r){return this.breakpointService.breakpoint$.pipe((0,he.U)(l=>{if(!this.config.layoutSlots)return;const T=this.getResponsiveSlotConfig(this.config.layoutSlots[r],"pageFold",l);return T?T.pageFold:void 0}))}resolveSlots(r,l,v){const T=this.getSlotConfig(r.template??"","slots",l,v);if(T&&T.slots){const W=r.slots?Object.keys(r.slots):[];return T.slots.filter(Be=>W.includes(Be))}return l?(this.logMissingLayoutConfig(r,l),[]):(this.logMissingLayoutConfig(r),r.slots?Object.keys(r.slots):[])}get page$(){return this.cms.getCurrentPage().pipe((0,ze.h)(r=>!!r))}get templateName$(){return this.page$.pipe((0,he.U)(r=>r.template),(0,ze.h)(h.pTN))}getSlotConfig(r,l,v,T){if(!this.config.layoutSlots)return;const W=this.config.layoutSlots[r];return v?this.getSlotConfigForSection(r,l,v,T):W?this.getResponsiveSlotConfig(W,l,T):void 0}getSlotConfigForSection(r,l,v,T){const W=this.config.layoutSlots?.[r];if(!W||!v)return;const Be=W[v]?W[v]:this.config.layoutSlots?.[v];if(!Be)return;const yt=this.getResponsiveSlotConfig(Be,l,T);return yt.hasOwnProperty(l)?yt:W[v].hasOwnProperty(l)?W[v]:this.config.layoutSlots?.[v]?this.config.layoutSlots[v]:void 0}getResponsiveSlotConfig(r,l,v){let T=r;if(!r||!v)return T;if(r[v]&&r[v].hasOwnProperty(l))return r[v];const W=this.breakpointService.breakpoints;for(const Be of W.slice(0,W.indexOf(v)))r[Be]&&r[Be].hasOwnProperty(l)&&(T=r[Be]);return T}logMissingLayoutConfig(r,l){if(!(0,e.X6Q)())return;r.template&&!this.logSlots[r.template]&&(console.info(`Available CMS page slots: '${(r.slots?Object.keys(r.slots):[]).join("','")}'`),this.logSlots[r.template]=!0);const v=l||r.template;v&&!this.warnLogMessages[v]&&(console.warn(`No layout config found for ${v}, you can configure a 'LayoutConfig' to control the rendering of page slots.`),this.warnLogMessages[v]=!0)}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ctt),e.LFG(Us),e.LFG(Mi),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),gv=(()=>{class a{constructor(r,l){this.configInitializer=r,this.featureModules=l,this.componentFeatureMap=new Map,this.featureInstances=new Map,this.initFeatureMap()}initFeatureMap(){this.configInitializer.getStable("featureModules").subscribe(r=>{this.featureModulesConfig=r.featureModules??{};for(const[l,v]of Object.entries(this.featureModulesConfig))if("string"!=typeof v&&v?.module&&v?.cmsComponents?.length)for(const T of v.cmsComponents)this.componentFeatureMap.set(T,l)})}hasFeatureFor(r){return this.componentFeatureMap.has(r)}getCmsMapping(r){const l=this.componentFeatureMap.get(r);return l?this.resolveFeatureInstance(l).pipe((0,he.U)(v=>v.componentsMappings?.[r])):(0,k.of)(void 0)}getModule(r){const l=this.componentFeatureMap.get(r);if(!l)return;let v;return this.featureInstances.get(l)?.subscribe(T=>{v=T.moduleRef}).unsubscribe(),v}resolveFeatureInstance(r){return(0,V.P)(()=>(this.featureInstances.has(r)||this.featureInstances.set(r,this.featureModules.resolveFeature(r).pipe((0,he.U)(l=>this.createFeatureInstance(l,r)),(0,Fe.d)())),this.featureInstances.get(r)))}createFeatureInstance(r,l){const v=this.featureModulesConfig[l],T={moduleRef:r,componentsMappings:{}},W=this.resolveFeatureConfiguration(r.injector);for(const Be of v.cmsComponents??[])T.componentsMappings[Be]=W.cmsComponents?.[Be]??{};return T}resolveFeatureConfiguration(r){const l=r.get(h.XZr,[],e.XFs.Self),v=r.get(h.Mvl,[],e.XFs.Self);return(0,h.RH2)({},...v??[],...l??[])}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.yUt),e.LFG(h.q2V))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ca=(()=>{class a{constructor(r,l,v,T){this.config=r,this.platformId=l,this.featureModules=v,this.configInitializer=T,this.missingComponents=[],this.mappings={},this.mappingResolvers=new Map,this.configInitializer.getStable("cmsComponents").subscribe(W=>{this.staticCmsConfig={...W.cmsComponents}})}determineMappings(r){return(0,V.P)(()=>{const l=[];for(const v of r)if(!this.mappings[v]){const T=(this.staticCmsConfig??this.config.cmsComponents)?.[v];this.featureModules.hasFeatureFor(v)?l.push(this.getFeatureMappingResolver(v,T)):T&&(this.mappings[v]=T)}return l.length?(0,I.D)(l).pipe((0,Re.h)(r)):(0,k.of)(r)})}getFeatureMappingResolver(r,l){if(!this.mappingResolvers.has(r)){const v=this.featureModules.getCmsMapping(r).pipe((0,ze.h)(h.pTN),(0,Ie.b)(T=>{this.mappings[r]=(0,h.RH2)({},T,l),this.mappingResolvers.delete(r)}),(0,pt.B)());this.mappingResolvers.set(r,v)}return this.mappingResolvers.get(r)}getModule(r){if(this.featureModules.hasFeatureFor(r))return this.featureModules.getModule(r)}getMapping(r){const l=this.mappings[r]??(this.staticCmsConfig??this.config.cmsComponents)?.[r];return(0,e.X6Q)()&&!l&&(this.missingComponents.includes(r)||(this.missingComponents.push(r),console.warn(`No component implementation found for the CMS component type '${r}'.\n`,"Make sure you implement a component and register it in the mapper."))),l}shouldRender(r){return!((0,u.PM)(this.platformId)&&this.getMapping(r)?.disableSSR)}getDeferLoadingStrategy(r){return(this.staticCmsConfig??this.config.cmsComponents)?.[r]?.deferLoading}getChildRoutes(r){const l=[];for(const v of r)this.shouldRender(v)&&l.push(this.getMapping(v)?.childRoutes??[]);return this.standardizeChildRoutes(l)}getStaticData(r){return this.getMapping(r)?.data}standardizeChildRoutes(r){const l={children:[]};return(r||[]).forEach(v=>{Array.isArray(v)?l.children?.push(...v):(l.children?.push(...v.children||[]),v.parent&&(l.parent=v.parent))}),l}getGuards(r){const l=new Set;for(const v of r)this.getMapping(v)?.guards?.forEach(T=>l.add(T));return Array.from(l)}getI18nKeys(r){const l=new Set;for(const v of r)this.shouldRender(v)&&this.getMapping(v)?.i18nKeys?.forEach(T=>l.add(T));return Array.from(l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Dcy),e.LFG(e.Lbi),e.LFG(gv),e.LFG(h.yUt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),rg=(()=>{class a{constructor(r,l,v){this.cmsComponentsService=r,this.platformId=l,this.document=v,this.resolvePrerenderedSlots()}resolvePrerenderedSlots(){(0,u.NF)(this.platformId)&&(this.prerenderedSlots=Array.from(this.document.querySelectorAll("cx-page-slot")).filter(r=>r.getBoundingClientRect().top<this.document.documentElement.clientHeight).map(r=>r.getAttribute("position")))}shouldNotDefer(r){return!!this.prerenderedSlots?.includes(r)&&(this.prerenderedSlots.splice(this.prerenderedSlots.indexOf(r),1),!0)}getComponentDeferOptions(r,l){return r&&this.shouldNotDefer(r)?{deferLoading:h.cXr.INSTANT}:{deferLoading:this.cmsComponentsService.getDeferLoadingStrategy(l)}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(e.Lbi),e.LFG(u.K0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class og extends h.W8x{}let tc=(()=>{class a extends og{}return a.type="ComponentCreate",a})(),Ss=(()=>{class a extends og{}return a.type="ComponentDestroy",a})();class nc{}let Yf=(()=>{class a{constructor(r){this.handlers=r,this.invalidMappings=new Set}resolve(r){const l=(0,h.ARM)(this.handlers,[r]);return(0,e.X6Q)()&&!l&&(this.invalidMappings.has(r)||(this.invalidMappings.add(r),console.warn("Can't resolve handler for component mapping: ",r))),l}getLauncher(r,l,v,T){return this.resolve(r)?.launcher(r,l,v,T)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(nc,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class Qr{}let Zf=(()=>{class a{constructor(r,l){this.componentsService=r,this.cmsService=l}get(r,l){return(0,V.P)(()=>{let v;return l&&(v=this.componentsService.getStaticData(l)),r?v?this.cmsService.getComponentData(r).pipe((0,he.U)(T=>({...v,...T})),(0,Qe.O)(v)):this.cmsService.getComponentData(r):v?(0,k.of)(v):H.E})}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(h.ctt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),os=(()=>{class a{constructor(r,l){this.cmsComponentsService=r,this.injector=l}getInjector(r,l,v){const T=this.cmsComponentsService.getMapping(r)?.providers??[];return e.zs3.create({providers:[{provide:Qr,useFactory:W=>({uid:l,data$:W.get(l,r)}),deps:[Zf]},...T],parent:v??this.injector})}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Kc=(()=>{class a{constructor(r,l,v,T,W,Be,yt,jt){this.vcr=r,this.cmsComponentsService=l,this.injector=v,this.dynamicAttributeService=T,this.renderer=W,this.componentHandler=Be,this.cmsInjector=yt,this.eventService=jt,this.cxComponentRef=new e.vpe}ngOnInit(){this.cmsComponentsService.determineMappings([this.cxComponentWrapper.flexType??""]).subscribe(()=>{this.cmsComponentsService.shouldRender(this.cxComponentWrapper.flexType??"")&&this.launchComponent()})}launchComponent(){const r=this.cmsComponentsService.getMapping(this.cxComponentWrapper.flexType??"");!r||(this.launcherResource=this.componentHandler.getLauncher(r,this.vcr,this.cmsInjector.getInjector(this.cxComponentWrapper.flexType??"",this.cxComponentWrapper.uid??"",this.injector),this.cmsComponentsService.getModule(this.cxComponentWrapper.flexType??""))?.pipe((0,ze.h)(h.pTN),(0,Ie.b)(({elementRef:l,componentRef:v})=>{this.cmpRef=v,this.cxComponentRef.emit(v),this.dispatchEvent(tc,l),this.decorate(l),this.injector.get(e.sBO).markForCheck()}),(0,rt.x)(()=>this.dispatchEvent(Ss))).subscribe())}dispatchEvent(r,l){const v={typeCode:this.cxComponentWrapper.typeCode,id:this.cxComponentWrapper.uid};r===tc&&(v.host=l?.nativeElement),this.eventService.dispatch(v,r)}decorate(r){this.dynamicAttributeService.addAttributesToComponent(r.nativeElement,this.renderer,this.cxComponentWrapper)}ngOnDestroy(){this.launcherResource&&this.launcherResource.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.s_b),e.Y36(Ca),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Yf),e.Y36(os),e.Y36(h.POd))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxComponentWrapper",""]],inputs:{cxComponentWrapper:"cxComponentWrapper"},outputs:{cxComponentRef:"cxComponentRef"}}),a})(),ud=(()=>{class a{constructor(r,l,v,T,W,Be){this.cmsService=r,this.dynamicAttributeService=l,this.renderer=v,this.elementRef=T,this.cd=W,this.pageSlotService=Be,this.isPageFold=!1,this.isPending=!0,this.hasComponents=!1,this.position$=new N.X(void 0),this.slot$=this.position$.pipe((0,ze.h)(h.pTN),(0,oe.w)(yt=>this.cmsService.getContentSlot(yt)),(0,be.x)(this.isDistinct)),this.components$=this.slot$.pipe((0,he.U)(yt=>yt?.components??[])),this.subscription=new P.w,this.pendingComponentCount=0}set position(r){this.position$.next(r)}get position(){return this.position$.value}ngOnInit(){this.subscription.add(this.slot$.pipe((0,Ie.b)(r=>this.decorate(r))).subscribe(r=>{this.components=r?.components||[],this.cd.markForCheck()}))}decorate(r){let l=this.class||"";this.lastPosition&&l.indexOf(this.lastPosition)>-1&&(l=l.replace(this.lastPosition,"")),this.position$.value&&(l+=` ${this.position$.value}`,this.lastPosition=this.position$.value),this.pending=r?.components?.length||0,this.hasComponents=!!r?.components&&r?.components?.length>0,l&&l!==this.class&&(this.class=l),r&&this.dynamicAttributeService.addAttributesToSlot(this.elementRef.nativeElement,this.renderer,r)}set pending(r){this.pendingComponentCount=r,this.isPending=this.pendingComponentCount>0}get pending(){return this.pendingComponentCount}isLoaded(r){r&&(this.pending--,this.cd.markForCheck())}getComponentDeferOptions(r){return this.pageSlotService.getComponentDeferOptions(this.position,r)}isDistinct(r,l){return Boolean(l.components&&r.components&&r.components.length===l.components.length&&!r.components.find((v,T)=>v.uid!==l.components?.[T].uid))}ngOnDestroy(){this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.ctt),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(rg))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-slot"],["","cx-page-slot",""]],hostVars:9,hostBindings:function(r,l){2&r&&(e.uIk("position",l.position),e.Tol(l.class),e.ekj("page-fold",l.isPageFold)("cx-pending",l.isPending)("has-components",l.hasComponents))},inputs:{position:"position",class:"class",isPageFold:"isPageFold",hasComponents:"hasComponents"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext","cxOutletDefer","loaded"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&e.YNc(0,nr,1,4,null,0),2&r&&e.Q6J("ngIf",l.position)},dependencies:[u.sg,u.O5,Bo,Kc],encapsulation:2,changeDetection:0}),a})(),Xu=(()=>{class a{constructor(r,l,v,T){this.pageLayoutService=r,this.elementRef=l,this.templateRef=v,this.cd=T,this.subscription=new P.w}set setTemplate(r){r&&""!==r?(this.useTemplateFromInput=!0,this.addStyleClass(r)):this.useTemplateFromInput&&this.clear()}ngOnInit(){this.useTemplateFromInput||this.subscription.add(this.pageLayoutService.templateName$.subscribe(r=>this.addStyleClass(r)))}addStyleClass(r,l){this.clear(l),r&&(this.currentTemplate=r,(l??this.host).classList.add(this.currentTemplate),this.cd.markForCheck())}clear(r){this.currentTemplate&&((r??this.host).classList?.remove(this.currentTemplate),this.cd.markForCheck())}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Fn),e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(e.sBO))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPageTemplateStyle",""]],inputs:{setTemplate:["cxPageTemplateStyle","setTemplate"]}}),a})(),Qo=(()=>{class a{constructor(r){this.pageLayoutService=r,this.section$=new N.X(void 0),this.templateName$=this.pageLayoutService.templateName$,this.layoutName$=this.section$.pipe((0,oe.w)(l=>l?(0,k.of)(l):this.templateName$)),this.slots$=this.section$.pipe((0,oe.w)(l=>this.pageLayoutService.getSlots(l))),this.pageFoldSlot$=this.templateName$.pipe((0,oe.w)(l=>this.pageLayoutService.getPageFoldSlot(l)),(0,be.x)())}set section(r){this.section$.next(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Fn))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-layout"]],inputs:{section:"section"},ngContentSelectors:Ln,decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxPageTemplateStyle","cxOutlet","cxOutletContext"],[3,"position","isPageFold",4,"ngFor","ngForOf"],[3,"position","isPageFold"]],template:function(r,l){1&r&&(e.F$t(),e.YNc(0,Er,1,7,null,0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.layoutName$))},dependencies:[u.sg,u.O5,Bo,ud,Xu,u.Ov],encapsulation:2,changeDetection:0}),a})(),KC=(()=>{class a{constructor(r,l){this.router=r,this.cmsComponentsService=l}cmsRouteExists(r){const l=r.startsWith("/");if(!l)return!1;const v=r.substr(1);return l&&!!this.router.config.find(T=>T.data&&T.data.cxCmsRouteContext&&T.path===v)}handleCmsRoutesInGuard(r,l,v,T){if(this.cmsRouteExists(T))return!0;const W=this.cmsComponentsService.getChildRoutes(l);return!W?.children?.length||!this.updateRouting(r,T,W)||(this.router.navigateByUrl(v),!1)}updateRouting(r,l,v){if(r.type===h.GV4.CONTENT_PAGE&&l.startsWith("/")&&l.length>1){const T={path:l.substr(1),component:Qo,children:v.children,data:(0,h.RH2)({},v?.parent?.data??{},{cxCmsRouteContext:{type:r.type,id:l}})};return this.router.resetConfig([T,...this.router.config]),!0}return!1}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ft.F0),e.LFG(Ca))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ya=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(KC),l},providedIn:"root"}),a})(),is=(()=>{class a{constructor(r,l,v){this.cmsComponentsService=r,this.translation=l,this.translationChunk=v}loadForComponents(r){const l=this.cmsComponentsService.getI18nKeys(r),v=new Set;for(const T of l)v.add(this.translationChunk.getChunkNameForKey(T));this.translation.loadChunks(Array.from(v))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(h.D7D),e.LFG(h.Wml))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Wf=(()=>{class a{constructor(r,l){this.cmsComponentsService=r,this.unifiedInjector=l}cmsPageCanActivate(r,l,v){const T=this.cmsComponentsService.getGuards(r);if(T.length){const W=T.map(Be=>{const yt=(0,h.P51)(this.unifiedInjector.get(Be));if(function Sa(a){return a&&function ld(a){return"function"==typeof a}(a.canActivate)}(yt))return function ig(a){return(0,J.b)(a)?a:function mv(a){return!!a&&"function"==typeof a.then}(a)?(0,re.D)(Promise.resolve(a)):(0,k.of)(a)}(yt.canActivate(l,v)).pipe((0,ne.P)());throw new Error("Invalid CanActivate guard in cmsMapping")});return(0,$.z)(...W).pipe((0,we.n)(Be=>!0===Be),function Yt(...a){return g=>(0,$.z)(g,(0,k.of)(...a))}(!0),(0,ne.P)())}return(0,k.of)(!0)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ca),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),dd=(()=>{class a{constructor(r,l,v,T,W,Be,yt){this.semanticPathService=r,this.cmsService=l,this.cmsRoutes=v,this.cmsI18n=T,this.cmsGuards=W,this.cmsComponentsService=Be,this.routing=yt}canActivatePage(r,l,v,T){return this.cmsService.getPageComponentTypes(r).pipe((0,pe.q)(1),(0,oe.w)(W=>this.cmsComponentsService.determineMappings(W)),(0,oe.w)(W=>this.cmsGuards.cmsPageCanActivate(W,v,T).pipe((0,zt.M)((0,k.of)(W)))),(0,Ie.b)(([W,Be])=>{!0===W&&this.cmsI18n.loadForComponents(Be)}),(0,he.U)(([W,Be])=>!0!==W||v?.data?.cxCmsRouteContext?W:this.cmsRoutes.handleCmsRoutesInGuard(r,Be,T.url,l.label||r.id)))}canActivateNotFoundPage(r,l,v){const T=this.semanticPathService.get("notFound");if(!T)return(0,k.of)(!1);const W={type:h.GV4.CONTENT_PAGE,id:T};return this.cmsService.getPage(W).pipe((0,oe.w)(Be=>Be?this.cmsService.getPageIndex(W).pipe((0,Ie.b)(yt=>{this.cmsService.setPageFailIndex(r,yt),this.routing.changeNextPageContext(W)}),(0,oe.w)(yt=>this.cmsService.getPageIndex(r).pipe((0,ze.h)(jt=>jt===yt))),(0,oe.w)(()=>this.canActivatePage(r,Be,l,v))):(0,k.of)(!1)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.hCH),e.LFG(h.ctt),e.LFG(ya),e.LFG(is),e.LFG(Wf),e.LFG(Ca),e.LFG(h.Znh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ji=(()=>{class a{constructor(r,l,v,T,W){this.routingService=r,this.cmsService=l,this.protectedRoutesGuard=v,this.service=T,this.routingConfig=W}canActivate(r,l){return this.protectedRoutesGuard.canActivate(r).pipe((0,oe.w)(v=>!0===v?this.routingService.getNextPageContext().pipe((0,ze.h)(h.pTN),(0,pe.q)(1),(0,oe.w)(T=>this.cmsService.getPage(T,this.shouldReload()).pipe((0,ne.P)(),(0,oe.w)(W=>W?this.service.canActivatePage(T,W,r,l):this.service.canActivateNotFoundPage(T,r,l))))):(0,k.of)(v)))}shouldReload(){return"once"!==this.routingConfig.getLoadStrategy()}}return a.guardName="CmsPageGuard",a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.ctt),e.LFG(h.Fa4),e.LFG(dd),e.LFG(h.gGW))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_r=(()=>{class a{hasMatch(r){return"function"==typeof r.component}getPriority(){return-50}launcher(r,l,v,T){return new M.y(W=>{let Be;const yt=v??l.injector,On=this.getComponentFactory(yt,r.component);return On&&(Be=l.createComponent(On,void 0,yt,void 0,T),W.next({elementRef:Be.location,componentRef:Be})),()=>{Be&&Be.destroy()}})}getComponentFactory(r,l){return l?r.get(e._Vd).resolveComponentFactory(l):null}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),el=(()=>{class a{constructor(r){this.defaultHandler=r}hasMatch(r){return"function"==typeof r.component&&this.isNotClass(r.component)}isNotClass(r){const l=r.toString().substr(0,20).replace(" ","");return l.startsWith("function()")||l.startsWith("()=>")}getPriority(){return-10}launcher(r,l,v,T){return(0,re.D)(r.component()).pipe((0,oe.w)(W=>this.defaultHandler.launcher({...r,component:W},l,v,T)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(_r))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),kr=(()=>{class a{constructor(r,l,v,T,W,Be,yt,jt,On){this.data=r,this.vcr=l,this.cmsComponentsService=v,this.injector=T,this.dynamicAttributeService=W,this.renderer=Be,this.componentHandler=yt,this.cmsInjector=jt,this.eventService=On,this.innerComponents$=this.data.data$.pipe((0,he.U)(qo=>qo?.composition?.inner??[]),(0,be.x)()),this.componentWrappers=[]}ngOnInit(){this.subscription=this.innerComponents$.subscribe(r=>{this.renderComponents(r)})}renderComponents(r){this.clearComponents(),r.forEach(l=>this.renderComponent(l))}renderComponent(r){const l=new Kc(this.vcr,this.cmsComponentsService,this.injector,this.dynamicAttributeService,this.renderer,this.componentHandler,this.cmsInjector,this.eventService);l.cxComponentWrapper={flexType:r,uid:""},l.ngOnInit(),this.componentWrappers.push(l)}clearComponents(){this.componentWrappers.forEach(r=>r.ngOnDestroy()),this.componentWrappers=[]}ngOnDestroy(){this.subscription?.unsubscribe(),this.clearComponents()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(e.s_b),e.Y36(Ca),e.Y36(e.zs3),e.Y36(h.uvI),e.Y36(e.Qsj),e.Y36(Yf),e.Y36(os),e.Y36(h.POd))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxInnerComponentsHost",""]]}),a})(),ss=(()=>{class a{static forRoot(){return{ngModule:a,providers:[{provide:nc,useExisting:_r,multi:!0},{provide:nc,useExisting:el,multi:!0}]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})(),Jc=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(rg))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,li,ss]}),a})(),Es=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,li,Jc]}),a})(),fd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();const JC={pwa:{enabled:!1,addToHomeScreen:!1}};let pd=(()=>{class a{constructor(r,l,v){this.config=r,this.globalMessageService=l,this.winRef=v,this.canPrompt=new N.X(!1),this.canPrompt$=this.canPrompt.asObservable(),this.config.pwa?.addToHomeScreen&&this.init()}init(){this.winRef.nativeWindow&&(this.winRef.nativeWindow.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredEvent=r,this.enableAddToHomeScreen()}),this.winRef.nativeWindow.addEventListener("appinstalled",()=>{this.globalMessageService.add({key:"pwa.addedToHomeScreen"},h.xUg.MSG_TYPE_CONFIRMATION),this.disableAddToHomeScreen(),this.deferredEvent=null}))}enableAddToHomeScreen(){this.canPrompt.next(!0)}disableAddToHomeScreen(){this.canPrompt.next(!1)}firePrompt(){this.deferredEvent&&this.deferredEvent.prompt()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(fd),e.LFG(h.IWp),e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),sg=(()=>{class a{constructor(r){this.addToHomeScreenService=r}ngOnInit(){this.canPrompt$=this.addToHomeScreenService.canPrompt$}prompt(){this.addToHomeScreenService.firePrompt()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(pd))},a.\u0275dir=e.lG2({type:a}),a})(),Kf=(()=>{class a extends sg{constructor(r){super(r),this.addToHomeScreenService=r}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(pd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-add-to-home-screen-banner"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-add-to-home-screen-banner"],[1,"cx-add-to-home-screen-banner-inner"],[1,"btn","btn-primary",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,Se,16,12,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.canPrompt$))},dependencies:[u.O5,u.Ov,h.X$D],encapsulation:2}),a})();function vv(a){return{enabled:!(0,e.X6Q)()&&a.pwa?.enabled||!1}}function GE(a){return()=>a}let $i=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(JC),{provide:Zn.JB,useFactory:vv,deps:[h.DeH]},{provide:e.ip1,useFactory:GE,deps:[pd],multi:!0}],imports:[u.ez,Zn.Wr.register("ngsw-worker.js"),h.LUR]}),a})();const hd={path:"**",canActivate:[ji],component:Qo};function cg(a){return()=>{a.get(Ft.F0).config.push(hd)}}let ug=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:cg}]}),a})();const Cv={routing:{routes:{home:{paths:[""]},notFound:{paths:["not-found"]},login:{paths:["login"],protected:!1,authFlow:!0},register:{paths:["login/register"],protected:!1,authFlow:!0},forgotPassword:{paths:["login/forgot-password"],protected:!1,authFlow:!0},resetPassword:{paths:["login/pw/change"],protected:!1,authFlow:!0},logout:{paths:["logout"],protected:!1,authFlow:!0},search:{paths:["search/:query"]},category:{paths:["category/:categoryCode"],paramsMapping:{categoryCode:"code"}},brand:{paths:["Brands/:brandName/c/:brandCode"]},product:{paths:["product/:productCode/:name"],paramsMapping:{productCode:"code"}},termsAndConditions:{paths:["terms-and-conditions"]},coupons:{paths:["my-account/coupons"]},couponClaim:{paths:["my-account/coupon/claim/:couponCode"],paramsMapping:{couponCode:"code"}},myInterests:{paths:["my-account/my-interests"]},notificationPreference:{paths:["my-account/notification-preference"]}}}};let lg=(()=>{class a{static forRoot(){return{ngModule:a,providers:[(0,h.i51)(Cv)]}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.TSP.forRoot(),ug]}),a})();function Jf({marker:a,paramName:g,precedingParamName:r}){r=r||"param";const l=function(T){const W=function Qf(a,g){for(let r=a.length-1;r>=0;r--)if(g(a[r]))return r;return-1}(T,({path:On})=>On===a);if(-1===W||W===T.length-1)return null;const yt=W+1,jt={[g]:T[yt]};for(let On=0;On<W;On++)jt[`${r}${On}`]=T[On];return{consumed:T.slice(0,yt+1),posParams:jt}};return(0,e.X6Q)()&&(l._suffixRouteConfig={marker:a,paramName:g,precedingParamName:r}),l}let yv=(()=>{class a{constructor(r,l){this.winRef=r,this.rendererFactory=l}setCanonicalLink(r){let l=this.winRef.document.querySelector('link[rel="canonical"]');r?l?l?.setAttribute("href",r):(l=this.renderer.createElement("link"),l.rel="canonical",l.href=r,this.renderer.appendChild(this.winRef.document.head,l)):l?.remove()}get renderer(){return this.rendererFactory.createRenderer(null,null)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E),e.LFG(e.FYo))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Sv=(()=>{class a{constructor(r,l,v,T){this.ngTitle=r,this.ngMeta=l,this.pageMetaService=v,this.pageMetaLinkService=T}init(){this.subscription=this.pageMetaService.getMeta().pipe((0,ze.h)(h.jWE)).subscribe(r=>this.meta=r)}set meta(r){this.title=r.title,this.description=r.description,this.image=r.image,this.robots=r.robots,this.canonicalUrl=r.canonicalUrl}set title(r){this.ngTitle.setTitle(r||"")}set description(r){r?this.addTag({name:"description",content:r||""}):this.ngMeta.removeTag('name="description"')}set image(r){r?this.addTag({name:"og:image",content:r}):this.ngMeta.removeTag('name="og:image"')}set robots(r){r&&r.length>0&&this.addTag({name:"robots",content:r.join(", ")})}set canonicalUrl(r){this.pageMetaLinkService?.setCanonicalLink(r)}addTag(r){r.content&&this.ngMeta.updateTag(r)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(yn.Dx),e.LFG(yn.h_),e.LFG(h.deh),e.LFG(yv))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const tl={seo:{structuredData:{disableInDevMode:!0}}};let dg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();const fg={provide:e.ip1,multi:!0,useFactory:function Gs(a,g){return()=>{g.getActive().subscribe(l=>{a.document.documentElement.lang=l.replace(/_/g,"-")})}},deps:[h.X9E,h.TSl]};let pg=(()=>{class a{constructor(r,l,v,T){this.platformId=r,this.winRef=l,this.rendererFactory=v,this.config=T,this.renderer=this.rendererFactory.createRenderer(null,null)}build(r){r&&this.isJsonLdRequired()&&(this.getJsonLdScriptElement().textContent=this.escapeHtml(r))}isJsonLdRequired(){return!(0,u.NF)(this.platformId)||(0,e.X6Q)()&&!this.config.seo?.structuredData?.disableInDevMode}getJsonLdScriptElement(){const r="json-ld";let l=this.winRef.document.getElementById(r);if(!l){const v=this.renderer.createElement("script");v.id=r,v.type="application/ld+json",this.renderer.appendChild(this.winRef.document.body,v),l=v}return l}escapeHtml(r){const l=this.renderer.createElement("div");return l.textContent=JSON.stringify(r),l.innerHTML}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(e.Lbi),e.LFG(h.X9E),e.LFG(e.FYo),e.LFG(dg))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const nl=new e.OlP("SchemaBuilderToken");new e.OlP("JsonLdProductBuilderToken");let md=(()=>{class a{constructor(r,l){this.scriptBuilder=r,this.builders=l,this.subscription=new P.w}build(){this.scriptBuilder.isJsonLdRequired()&&this.builders&&this.subscription.add(this.collectSchemas().subscribe(r=>{this.scriptBuilder.build(r)}))}collectSchemas(){return(0,D.aj)(this.builders.map(r=>r.build()))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(pg),e.LFG(nl,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Gn(a){return()=>{a.get(md).build()}}let rc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,useFactory:Gn,deps:[e.zs3],multi:!0}],imports:[u.ez]}),a})();function rl(a){return()=>{a.get(Sv).init()}}let Ds=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(tl),{provide:e.ip1,useFactory:rl,deps:[e.zs3],multi:!0},fg],imports:[rc]}),a})(),Hs=(()=>{class a{constructor(r,l){this.routingService=r,this.productService=l,this.DEFAULT_PRODUCT_SCOPE="details"}getProduct(r){return this.getCode().pipe((0,be.x)(),(0,oe.w)(l=>l?this.productService.get(l,r||this.DEFAULT_PRODUCT_SCOPE):(0,k.of)(null)),(0,ze.h)(h.pTN))}getCode(){return this.routingService.getRouterState().pipe((0,he.U)(r=>r.state.params.productCode))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.M52))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Vs(a){return(0,h.A2H)({...eu(a),...ic(a)})}function eu({componentId:a,pageSlotPosition:g}={}){const r={cmsStructure:{}};return a&&(r.cmsStructure={components:{[a]:{typeCode:a,flexType:a}}}),a&&g&&r.cmsStructure&&(r.cmsStructure.slots={[g]:{componentIds:[a]}}),r}function ic({pageTemplate:a,pageSlotPosition:g,breakpoint:r,section:l}={}){const v={};if(a&&g){const T={};r?T[r]={slots:[g]}:T.slots=[g],v.layoutSlots={[a]:T}}if(l&&g){const T={};r?T[r]={slots:[g]}:T.slots=[g],v.layoutSlots?v.layoutSlots[l]=T:v.layoutSlots={[l]:T}}return v}let As=(()=>{class a{constructor(r){this.winRef=r}getItemsPerSlide(r,l){return this.winRef.resize$.pipe((0,he.U)(()=>r.clientWidth),(0,he.U)(v=>this.calculateItems(v,l)))}calculateItems(r,l){let v=0;return l.endsWith("px")&&(v=r/l.substring(0,l.length-2)),l.endsWith("%")&&(v=r/(r*(l.substring(0,l.length-1)/100))),Math.floor(v)||1}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),So=(()=>{class a{constructor(r,l){this.el=r,this.service=l,this.itemWidth="300px",this.hideIndicators=!1,this.indicatorIcon=fr.CIRCLE,this.previousIcon=fr.CARET_LEFT,this.nextIcon=fr.CARET_RIGHT}set setItems(r){this.items=r,this.activeSlide=0}ngOnInit(){this.template||!(0,e.X6Q)()?this.size$=this.service.getItemsPerSlide(this.el.nativeElement,this.itemWidth).pipe((0,Ie.b)(()=>this.activeSlide=0)):console.error("No template reference provided to render the carousel items for the `cx-carousel`")}getSlideNumber(r,l){return Math.ceil((l+1)/r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(As))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-carousel"]],inputs:{title:"title",setItems:["items","setItems"],template:"template",itemWidth:"itemWidth",hideIndicators:"hideIndicators",indicatorIcon:"indicatorIcon",previousIcon:"previousIcon",nextIcon:"nextIcon"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"carousel-panel",3,"ngClass"],["class","previous",3,"disabled","click",4,"ngIf"],[1,"slides"],[4,"ngFor","ngForOf"],["class","next","tabindex","-1",3,"disabled","click",4,"ngIf"],["class","indicators",4,"ngIf"],[1,"previous",3,"disabled","click"],[3,"type"],["class","slide",3,"active",4,"ngIf"],[1,"slide"],["class","item",3,"active",4,"ngIf"],[1,"item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1",1,"next",3,"disabled","click"],[1,"indicators"],["tabindex","-1",3,"disabled","focus",4,"ngIf"],["tabindex","-1",3,"disabled","focus"],["aria-hidden","true",3,"type"]],template:function(r,l){1&r&&(e.YNc(0,hi,8,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",l.items&&l.items.length>0&&e.lcZ(1,1,l.size$))},dependencies:[u.mk,u.sg,u.O5,u.tP,vr,u.Ov,u.OU,h.X$D],encapsulation:2,changeDetection:0}),a})(),qf=(()=>{class a{constructor(r,l){this.componentData=r,this.cmsService=l,this.componentData$=this.componentData.data$.pipe((0,ze.h)(v=>Boolean(v)),(0,Ie.b)(v=>this.theme=`${v.effect}-theme`)),this.items$=this.componentData$.pipe((0,he.U)(v=>v.banners?.trim().split(" ")??[]),(0,he.U)(v=>v.map(T=>this.cmsService.getComponentData(T)))),this.theme=""}getItems(){return this.items$}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-banner-carousel"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.theme)},decls:4,vars:3,consts:[["itemWidth","100%","class","inline-navigation",3,"items","template",4,"ngIf"],["template",""],["itemWidth","100%",1,"inline-navigation",3,"items","template"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&(e.YNc(0,gi,1,2,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Vo,1,5,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.getItems()))},dependencies:[u.O5,Kc,So,u.Ov],encapsulation:2,changeDetection:0}),a})(),di=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR]}),a})(),js=(()=>{class a{constructor(r,l,v,T,W){this.userConsentService=r,this.globalMessageService=l,this.anonymousConsentsConfig=v,this.anonymousConsentsService=T,this.authService=W,this.subscriptions=new P.w,this.allConsentsLoading=new N.X(!1),this.requiredConsents=[]}ngOnInit(){this.loading$=(0,D.aj)([this.userConsentService.getConsentsResultLoading(),this.userConsentService.getGiveConsentResultLoading(),this.userConsentService.getWithdrawConsentResultLoading(),this.authService.isUserLoggedIn(),this.allConsentsLoading]).pipe((0,he.U)(([r,l,v,T,W])=>r||l||v||!T||W)),this.consentListInit(),this.giveConsentInit(),this.withdrawConsentInit()}consentListInit(){this.templateList$=this.userConsentService.getConsents().pipe((0,zt.M)(this.anonymousConsentsService.getTemplates(),this.authService.isUserLoggedIn()),(0,ze.h)(([r,l,v])=>v),(0,Ie.b)(([r,l])=>{this.consentsExists(r)||this.userConsentService.loadConsents()}),(0,he.U)(([r,l])=>this.anonymousConsentsConfig.anonymousConsents&&(this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&(this.requiredConsents=this.anonymousConsentsConfig.anonymousConsents.requiredConsents),this.anonymousConsentsConfig.anonymousConsents.consentManagementPage)?this.hideAnonymousConsents(r,l):r))}hideAnonymousConsents(r,l=[]){let v=[];return this.anonymousConsentsConfig.anonymousConsents?.consentManagementPage?.showAnonymousConsents?(this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents&&this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents.length>0&&(v=this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents),this.userConsentService.filterConsentTemplates(r,v)):(v=l.map(T=>T.id??""),this.userConsentService.filterConsentTemplates(r,v))}giveConsentInit(){this.userConsentService.resetGiveConsentProcessState(),this.subscriptions.add(this.userConsentService.getGiveConsentResultSuccess().subscribe(r=>this.onConsentGivenSuccess(r)))}withdrawConsentInit(){this.userConsentService.resetWithdrawConsentProcessState(),this.subscriptions.add(this.userConsentService.getWithdrawConsentResultLoading().pipe((0,we.n)(Boolean),(0,zt.M)(this.userConsentService.getWithdrawConsentResultSuccess()),(0,he.U)(([,r])=>r),(0,Ie.b)(r=>{r&&this.userConsentService.loadConsents()})).subscribe(r=>this.onConsentWithdrawnSuccess(r)))}consentsExists(r){return Boolean(r)&&r.length>0}onConsentChange({given:r,template:l}){r&&l.id&&void 0!==l.version?this.userConsentService.giveConsent(l.id,l.version):l.currentConsent?.code&&this.userConsentService.withdrawConsent(l.currentConsent.code)}onConsentGivenSuccess(r){r&&(this.userConsentService.resetGiveConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.given"},h.xUg.MSG_TYPE_CONFIRMATION))}onConsentWithdrawnSuccess(r){r&&(this.userConsentService.resetWithdrawConsentProcessState(),this.globalMessageService.add({key:"consentManagementForm.message.success.withdrawn"},h.xUg.MSG_TYPE_CONFIRMATION))}rejectAll(r=[]){const l=[];r.forEach(v=>{if(v.currentConsent&&this.userConsentService.isConsentGiven(v.currentConsent)){if(this.isRequiredConsent(v))return;l.push(v)}}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupWithdrawalStream(l).pipe((0,Ie.b)(v=>this.allConsentsLoading.next(!1))).subscribe())}setupWithdrawalStream(r=[]){return(0,$.z)(this.userConsentService.getWithdrawConsentResultLoading()).pipe((0,be.x)(),(0,ze.h)(Be=>!Be)).pipe((0,Xt.R)((Be,yt)=>Be+1,-1)).pipe((0,Ie.b)(Be=>{if(Be<r.length){const yt=r[Be].currentConsent?.code;yt&&this.userConsentService.withdrawConsent(yt)}})).pipe((0,ze.h)(Be=>Be===r.length))}allowAll(r=[]){const l=[];r.forEach(v=>{v.currentConsent&&this.userConsentService.isConsentWithdrawn(v.currentConsent)&&this.isRequiredConsent(v)||l.push(v)}),this.allConsentsLoading.next(!0),this.subscriptions.add(this.setupGiveStream(l).pipe((0,Ie.b)(v=>this.allConsentsLoading.next(!1))).subscribe())}setupGiveStream(r=[]){return(0,$.z)(this.userConsentService.getGiveConsentResultLoading()).pipe((0,be.x)(),(0,ze.h)(Be=>!Be)).pipe((0,Xt.R)((Be,yt)=>Be+1,-1)).pipe((0,Ie.b)(Be=>{if(Be<r.length){const yt=r[Be];yt.id&&void 0!==yt.version&&this.userConsentService.giveConsent(yt.id,yt.version)}})).pipe((0,ze.h)(Be=>Be===r.length))}isRequiredConsent(r){return Boolean(r.id&&this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents.includes(r.id))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.allConsentsLoading.unsubscribe(),this.userConsentService.resetGiveConsentProcessState(),this.userConsentService.resetWithdrawConsentProcessState()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.ZZY),e.Y36(h.IWp),e.Y36(h.k0m),e.Y36(h.NpW),e.Y36(h.e80))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-consent-management"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["consentManagementForm",""],[1,"cx-spinner"],["role","status"],[4,"ngIf"],[1,"cx-consent-action-links"],[1,"col-sm-12","col-md-8","col-lg-6"],["tabindex","0",1,"btn","btn-link","cx-action-link",3,"click"],[1,"cx-consent-toggles"],[3,"consentTemplate","requiredConsents","consentChanged",4,"ngFor","ngForOf"],[3,"consentTemplate","requiredConsents","consentChanged"]],template:function(r,l){if(1&r&&(e.YNc(0,ho,3,0,"div",0),e.ALo(1,"async"),e.YNc(2,Oi,4,6,"ng-template",null,1,e.W1O)),2&r){const v=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,l.loading$))("ngIfElse",v)}},dependencies:[u.sg,u.O5,io,Bs,u.Ov,h.X$D],encapsulation:2}),a})(),Ea=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ConsentManagementComponent:{component:js,guards:[h.a1M]}}})],imports:[u.ez,Ot.u5,Ot.UX,di,h.LUR,Jr]}),a})(),zi=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR,Jr,di,Ea,Jo]}),a})(),Yi=(()=>{class a{constructor(r,l,v){this.elementRef=r,this.templateRef=l,this.globalMessageService=v}get host(){return this.templateRef?this.templateRef.elementRef.nativeElement.parentElement:this.elementRef.nativeElement}handleClick(r){if(r?.preventDefault(),r?.target===this.host&&this.cxAtMessage){const l=Array.isArray(this.cxAtMessage)?this.cxAtMessage.join("\n"):this.cxAtMessage;this.globalMessageService.get().pipe((0,pe.q)(1)).subscribe(v=>{v[h.xUg.MSG_TYPE_ASSISTIVE]&&this.globalMessageService.remove(h.xUg.MSG_TYPE_ASSISTIVE),this.globalMessageService.add(l,h.xUg.MSG_TYPE_ASSISTIVE)})}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.Rgc,8),e.Y36(h.IWp))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxAtMessage",""]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)})},inputs:{cxAtMessage:"cxAtMessage"}}),a})();var pr=(()=>{return(a=pr||(pr={})).INSIDE_CLICK="insideClick",a.OUTSIDE_CLICK="outsideClick",a.ESCAPE_KEYDOWN="escapeKeydown",a.CLOSE_BUTTON_CLICK="closeButtonClick",a.CLOSE_BUTTON_KEYDOWN="closeButtonKeydown",a.ROUTE_CHANGE="routeChange",a.OPEN="open",a.OPEN_BY_KEYBOARD="openByKeyboard",pr;var a})();let _d=(()=>{class a{constructor(r){this.winRef=r}get allowedPlacements(){return["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"]}get placementSeparator(){return/\s+/}get window(){return this.winRef.nativeWindow}get document(){return this.winRef.document}getAllStyles(r){return this.window?.getComputedStyle(r)}getPositionStyleProperty(r){const l=this.getAllStyles(r);if(l)return l.position||void 0}isStaticPositioned(r){return"static"===(this.getPositionStyleProperty(r)||"static")}offsetParent(r){let l=r.offsetParent||this.document.documentElement;for(;l&&l!==this.document.documentElement&&this.isStaticPositioned(l);)l=l.offsetParent;return l||this.document.documentElement}position(r,l=!0){let v,T={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getPositionStyleProperty(r))v=r.getBoundingClientRect(),v={top:v.top,bottom:v.bottom,left:v.left,right:v.right,height:v.height,width:v.width};else{const W=this.offsetParent(r);v=this.offset(r,!1),W!==this.document.documentElement&&(T=this.offset(W,!1)),T.top+=W.clientTop,T.left+=W.clientLeft}return v.top-=T.top,v.bottom-=T.top,v.left-=T.left,v.right-=T.left,l&&(v.top=Math.round(v.top),v.bottom=Math.round(v.bottom),v.left=Math.round(v.left),v.right=Math.round(v.right)),v}offset(r,l=!0){const v=r.getBoundingClientRect(),T_top=this.window&&this.window.pageYOffset-this.document.documentElement.clientTop||0,T_left=this.window&&this.window.pageXOffset-this.document.documentElement.clientLeft||0,W={height:v.height||r.offsetHeight,width:v.width||r.offsetWidth,top:v.top+T_top,bottom:v.bottom+T_top,left:v.left+T_left,right:v.right+T_left};return l&&(W.height=Math.round(W.height),W.width=Math.round(W.width),W.top=Math.round(W.top),W.bottom=Math.round(W.bottom),W.left=Math.round(W.left),W.right=Math.round(W.right)),W}_positionElements(r,l,v,T){const[W="top",Be="center"]=v.split("-"),yt=T?this.offset(r,!1):this.position(r,!1),jt=this.getAllStyles(l);if(jt){const On=parseFloat(jt.marginTop),qo=parseFloat(jt.marginBottom),Eu=parseFloat(jt.marginLeft),Du=parseFloat(jt.marginRight);let wa=0,vc=0;switch(W){case"top":wa=yt.top-(l.offsetHeight+On+qo);break;case"bottom":wa=yt.top+yt.height;break;case"left":vc=yt.left-(l.offsetWidth+Eu+Du);break;case"right":vc=yt.left+yt.width}switch(Be){case"top":wa=yt.top;break;case"bottom":wa=yt.top+yt.height-l.offsetHeight;break;case"left":vc=yt.left;break;case"right":vc=yt.left+yt.width-l.offsetWidth;break;case"center":"top"===W||"bottom"===W?vc=yt.left+yt.width/2-l.offsetWidth/2:wa=yt.top+yt.height/2-l.offsetHeight/2}l.style.transform=`translate(${Math.round(vc)}px, ${Math.round(wa)}px)`;const Tl=l.getBoundingClientRect(),om=this.document.documentElement,Xv=this.window?.innerHeight||om.clientHeight,im=this.window?.innerWidth||om.clientWidth;return Tl.left>=0&&Tl.top>=0&&Tl.right<=im&&Tl.bottom<=Xv}return!1}positionElements(r,l,v,T){const W=Array.isArray(v)?v:v.split(this.placementSeparator);let Be=W.findIndex(qo=>"auto"===qo);Be>=0&&this.allowedPlacements.forEach(qo=>{null==W.find(Eu=>-1!==Eu.search("^"+qo))&&W.splice(Be++,1,qo)});const yt=l.style;yt.position="absolute",yt.top="0",yt.left="0";let jt="auto",On=!1;for(jt of W)if(this._positionElements(r,l,jt,T)){On=!0;break}return On||this._positionElements(r,l,jt,T),jt}getPositioningClass(r,l){let v=`${r||"top"}`;return l&&"auto"!==v&&(v=`${v} auto`),v}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Cd=(()=>{class a{constructor(r,l,v,T,W){this.positioningService=r,this.winRef=l,this.changeDetectionRef=v,this.renderer=T,this.router=W,this.iconTypes=fr}insideClick(){this.eventSubject.next(pr.INSIDE_CLICK)}outsideClick(r){!this.isClickedOnPopover(r)&&!this.isClickedOnDirective(r)&&this.eventSubject.next(pr.OUTSIDE_CLICK)}escapeKeydown(){this.eventSubject.next(pr.ESCAPE_KEYDOWN)}isClickedOnPopover(r){return this.popoverInstance.location.nativeElement.contains(r.target)}isClickedOnDirective(r){return this.triggerElement.nativeElement.contains(r.target)}close(r){r.preventDefault(),r instanceof MouseEvent?this.eventSubject.next(pr.CLOSE_BUTTON_CLICK):this.eventSubject.next(pr.CLOSE_BUTTON_KEYDOWN)}triggerScrollEvent(){this.scrollEventUnlistener=this.renderer.listen(this.winRef.nativeWindow,"scroll",()=>this.positionPopover())}positionPopover(){this.popoverClass=this.positioningService.positionElements(this.triggerElement.nativeElement,this.popoverInstance.location.nativeElement,this.positioningService.getPositioningClass(this.position,this.autoPositioning),this.appendToBody),this.changeDetectionRef.markForCheck(),this.baseClass=`${this.customClass} ${this.popoverClass} opened`}ngOnInit(){this.customClass||(this.customClass="cx-popover"),this.position||(this.position="top"),void 0===this.autoPositioning&&(this.autoPositioning=!0),this.baseClass=`${this.customClass}`,this.resizeSub=this.winRef.resize$.subscribe(()=>{this.positionPopover()}),this.routeChangeSub=this.router.events.pipe((0,ze.h)(r=>r instanceof Ft.OD)).subscribe(()=>{this.eventSubject.next(pr.ROUTE_CHANGE)}),this.positionOnScroll&&this.triggerScrollEvent()}isTemplate(r){return r instanceof e.Rgc}isString(r){return!(r instanceof e.Rgc)}ngAfterViewChecked(){this.positionPopover()}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.routeChangeSub&&this.routeChangeSub.unsubscribe(),this.scrollEventUnlistener&&this.scrollEventUnlistener()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(_d),e.Y36(h.X9E),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(Ft.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-popover"]],hostVars:1,hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.insideClick()})("click",function(T){return l.outsideClick(T)},!1,e.evT)("keydown.escape",function(){return l.escapeKeydown()}),2&r&&e.Ikx("className",l.baseClass)},decls:6,vars:4,consts:[[1,"arrow"],[1,"popover-body",3,"cxFocus"],[1,"cx-close-row"],["type","button","class","close",3,"keydown.enter","keydown.space","click",4,"ngIf"],[4,"ngIf"],["type","button",1,"close",3,"keydown.enter","keydown.space","click"],[3,"type"],[4,"ngTemplateOutlet"]],template:function(r,l){1&r&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,mo,2,1,"button",3),e.qZA(),e.YNc(4,Xo,2,1,"ng-container",4),e.YNc(5,mi,2,1,"span",4),e.qZA()),2&r&&(e.xp6(1),e.Q6J("cxFocus",l.focusConfig),e.xp6(2),e.Q6J("ngIf",l.displayCloseButton),e.xp6(1),e.Q6J("ngIf",l.isTemplate(l.content)),e.xp6(1),e.Q6J("ngIf",l.isString(l.content)))},dependencies:[u.O5,u.tP,Ro,vr],encapsulation:2,changeDetection:0}),a})(),hg=(()=>{class a{getFocusConfig(r,l){let v={};return r===pr.OPEN_BY_KEYBOARD&&l&&(v={trap:!0,block:!0,focusOnEscape:!1,autofocus:!0}),v}setFocusOnElement(r,l,v){l&&v&&r.nativeElement.focus()}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),yd=(()=>{class a{constructor(r,l,v,T,W,Be,yt){this.element=r,this.viewContainer=l,this.componentFactoryResolver=v,this.renderer=T,this.changeDetectorRef=W,this.popoverService=Be,this.winRef=yt,this.openPopover=new e.vpe,this.closePopover=new e.vpe,this.eventSubject=new ae.xQ,this.openTriggerEvents=[pr.OPEN,pr.OPEN_BY_KEYBOARD],this.focusPopoverTriggerEvents=[pr.OPEN_BY_KEYBOARD],this.closeTriggerEvents=[pr.ROUTE_CHANGE,pr.ESCAPE_KEYDOWN,pr.OUTSIDE_CLICK,pr.CLOSE_BUTTON_KEYDOWN,pr.CLOSE_BUTTON_CLICK],this.focusDirectiveTriggerEvents=[pr.ESCAPE_KEYDOWN,pr.CLOSE_BUTTON_KEYDOWN]}handlePress(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(pr.CLOSE_BUTTON_KEYDOWN):this.eventSubject.next(pr.OPEN_BY_KEYBOARD)}handleTab(){!this.focusConfig?.trap&&this.isOpen&&this.eventSubject.next(pr.CLOSE_BUTTON_KEYDOWN)}handleEscape(){this.eventSubject.next(pr.ESCAPE_KEYDOWN)}handleClick(r){r?.preventDefault(),r?.target!==this.element.nativeElement||this.isOpen?this.isOpen&&this.eventSubject.next(pr.CLOSE_BUTTON_CLICK):this.eventSubject.next(pr.OPEN)}open(r){this.cxPopoverOptions?.disable||(this.isOpen=!0,this.focusConfig=this.popoverService.getFocusConfig(r,this.cxPopoverOptions?.appendToBody||!1),this.renderPopover(),this.openPopover.emit())}close(){this.isOpen=!1,this.viewContainer.clear(),this.closePopover.emit()}handlePopoverEvents(){this.eventSubject.subscribe(r=>{this.openTriggerEvents.includes(r)&&this.open(r),this.focusPopoverTriggerEvents.includes(r)&&this.popoverContainer.location.nativeElement.focus(),this.closeTriggerEvents.includes(r)&&this.close(),this.focusDirectiveTriggerEvents.includes(r)&&this.popoverService.setFocusOnElement(this.element,this.focusConfig,this.cxPopoverOptions?.appendToBody)})}renderPopover(){const r=this.componentFactoryResolver.resolveComponentFactory(Cd);this.popoverContainer=this.viewContainer.createComponent(r);const l=this.popoverContainer.instance;l&&(l.content=this.cxPopover,l.triggerElement=this.element,l.popoverInstance=this.popoverContainer,l.focusConfig=this.focusConfig,l.eventSubject=this.eventSubject,l.position=this.cxPopoverOptions?.placement,l.customClass=this.cxPopoverOptions?.class,l.appendToBody=this.cxPopoverOptions?.appendToBody,l.positionOnScroll=this.cxPopoverOptions?.positionOnScroll,l.displayCloseButton=this.cxPopoverOptions?.displayCloseButton,l.autoPositioning=this.cxPopoverOptions?.autoPositioning,this.cxPopoverOptions?.appendToBody&&this.renderer.appendChild(this.winRef.document.body,this.popoverContainer.location.nativeElement),this.popoverContainer.changeDetectorRef.detectChanges())}ngOnInit(){this.handlePopoverEvents()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e._Vd),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(hg),e.Y36(h.X9E))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPopover",""]],hostBindings:function(r,l){1&r&&e.NdJ("keydown.enter",function(T){return l.handlePress(T)})("keydown.space",function(T){return l.handlePress(T)})("keydown.tab",function(){return l.handleTab()})("keydown.shift.tab",function(){return l.handleTab()})("keydown.escape",function(){return l.handleEscape()})("click",function(T){return l.handleClick(T)})},inputs:{cxPopover:"cxPopover",cxPopoverOptions:"cxPopoverOptions"},outputs:{openPopover:"openPopover",closePopover:"closePopover"}}),a})(),Sd=(()=>{class a{transform(r,l){if(!l)return r;let v="...";const T=l.length>0&&l[0]&&Number.isInteger(+l[0])?l[0]:20;return l.length>1&&void 0!==l[1]&&(v=l[1]),r.length>T?r.substring(0,T)+v:r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=e.Yjl({name:"cxTruncate",type:a,pure:!0}),a})(),mg=(()=>{class a{constructor(){this.charactersLimit=100}get isTruncated(){return this.content.length>+this.charactersLimit}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-truncate-text-popover"]],inputs:{content:"content",charactersLimit:"charactersLimit"},decls:8,vars:7,consts:[[1,"truncated-text"],["fullText",""],["class","ml-1 link cx-action-link",3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"ml-1","link","cx-action-link",3,"cxPopover","cxPopoverOptions"]],template:function(r,l){1&r&&(e.ynx(0)(1),e.TgZ(2,"span",0),e._uU(3),e.ALo(4,"cxTruncate"),e.qZA(),e.BQk(),e.YNc(5,To,1,1,"ng-template",null,1,e.W1O),e.YNc(7,ei,3,6,"button",2),e.BQk()),2&r&&(e.xp6(3),e.hij(" ",e.xi3(4,2,l.content,e.VKq(5,ti,l.charactersLimit))," "),e.xp6(4),e.Q6J("ngIf",l.isTruncated))},dependencies:[u.O5,yd,h.X$D,Sd],encapsulation:2,changeDetection:0}),a})(),sc=(()=>{class a{constructor(){this.iconTypes=fr,this.deleteCard=new e.vpe,this.setDefaultCard=new e.vpe,this.sendCard=new e.vpe,this.editCard=new e.vpe,this.cancelCard=new e.vpe,this.border=!1,this.editMode=!1,this.isDefault=!1,this.fitToContainer=!1,this.truncateText=!1,this.charactersLimit=100}setEditMode(){this.editMode=!0}cancelEdit(){this.editMode=!1,this.cancelCard.emit(5)}delete(){this.deleteCard.emit(1)}setDefault(){this.isDefault=!0,this.setDefaultCard.emit(2)}send(){this.sendCard.emit(3)}edit(){this.editCard.emit(4)}isCardAction(r){return void 0!==r.event}isCardLinkAction(r){return void 0!==r.link}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-card"]],inputs:{border:"border",editMode:"editMode",isDefault:"isDefault",content:"content",fitToContainer:"fitToContainer",truncateText:"truncateText",charactersLimit:"charactersLimit",index:"index"},outputs:{deleteCard:"deleteCard",setDefaultCard:"setDefaultCard",sendCard:"sendCard",editCard:"editCard",cancelCard:"cancelCard"},decls:1,vars:1,consts:[["class","cx-card",3,"tabindex","cx-card-border","cx-card-fit-to-container",4,"ngIf"],[1,"cx-card",3,"tabindex"],["class","card-header",3,"id",4,"ngIf"],[1,"card-body","cx-card-body"],["role","alert","class","cx-card-delete-msg",4,"ngIf"],["class","cx-card-title",4,"ngIf"],[1,"cx-card-container"],[1,"cx-card-label-container"],["class","cx-card-label-bold",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-card-paragraph",4,"ngFor","ngForOf"],["class","cx-card-img-container",4,"ngIf"],["class","row cx-card-body-delete",4,"ngIf"],["class","cx-card-actions",4,"ngIf"],[1,"card-header",3,"id"],["role","alert",1,"cx-card-delete-msg"],[1,"cx-card-title"],[1,"cx-card-label-bold"],["class","cx-card-label",4,"ngIf","ngIfElse"],["truncate",""],[1,"cx-card-label"],[3,"charactersLimit","content"],[1,"cx-card-paragraph"],[1,"cx-card-paragraph-title"],[1,"cx-card-paragraph-text"],[1,"cx-card-img-container"],[3,"type"],[1,"row","cx-card-body-delete"],[1,"col-md-6"],[1,"btn","btn-block","btn-secondary",3,"cxAtMessage","click"],[1,"col-md-6",3,"cxFocus"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"cx-card-actions"],[3,"ngSwitch",4,"ngIf"],["class","link cx-action-link",3,"href",4,"ngIf"],[3,"ngSwitch"],["type","button","class","link cx-action-link",3,"click",4,"ngSwitchCase"],["type","button",1,"link","cx-action-link",3,"click"],[1,"link","cx-action-link",3,"href"]],template:function(r,l){1&r&&e.YNc(0,ln,14,23,"div",0),2&r&&e.Q6J("ngIf",l.content)},dependencies:[u.sg,u.O5,u.RF,u.n9,Yi,vr,mg,Ro,h.X$D],encapsulation:2}),a})(),il=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz,Jo,Jr]}),a})(),Xf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR,il]}),a})(),Da=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Ts=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Da,h.LUR,Jr,Xf,Jo]}),a})();var ac=(()=>{return(a=ac||(ac={})).EAGER="eager",a.LAZY="lazy",ac;var a})();let ep=(()=>{class a{constructor(r){this.config=r}getMedia(r,l,v,T){if(!r)return;const W=r.url?r:this.resolveMedia(r,l);return{src:this.resolveAbsoluteUrl(W?.url??""),alt:v??W?.altText,role:T??W?.role,srcset:this.resolveSrcSet(r,l)}}get loadingStrategy(){return this.config?.imageLoadingStrategy??ac.EAGER}get sortedFormats(){const r=this.config?.mediaFormats;return!this._sortedFormats&&r&&(this._sortedFormats=Object.keys(r).map(l=>({code:l,size:r[l]})).sort((l,v)=>l.size.width&&v.size.width&&l.size.width>v.size.width?1:-1)),this._sortedFormats??[]}get reversedFormats(){return this._reversedFormats||(this._reversedFormats=this.sortedFormats.slice().reverse()),this._reversedFormats}resolveMedia(r,l){return r[this.resolveFormat(r,l)]}resolveFormat(r,l){return l&&r[l]?l:this.resolveBestFormat(r)||Object.keys(r)[0]}resolveBestFormat(r){return this.reversedFormats.find(l=>r.hasOwnProperty(l.code))?.code}resolveSrcSet(r,l){if(!r)return;let v=this.sortedFormats;const T=v.findIndex(Be=>Be.code===l);T>-1&&(v=v.slice(0,T+1));const W=v.reduce((Be,yt)=>{const jt=r[yt.code];return jt&&(Be&&(Be+=", "),Be+=`${this.resolveAbsoluteUrl(jt.url??"")} ${yt.size.width}w`),Be},"");return""===W?void 0:W}resolveAbsoluteUrl(r){return!r||r.startsWith("http")||r.startsWith("//")?r:this.getBaseUrl()+r}getBaseUrl(){return this.config.backend?.media?.baseUrl??this.config.backend?.occ?.baseUrl??""}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.DeH))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),bs=(()=>{class a{constructor(r){this.mediaService=r,this.loading=this.loadingStrategy,this.loaded=new e.vpe,this.isInitialized=!1,this.isLoading=!0,this.isMissing=!1}ngOnChanges(){this.create()}create(){this.media=this.mediaService.getMedia(this.container instanceof Array?this.container[0]:this.container,this.format,this.alt,this.role),this.media?.src||this.handleMissing()}loadHandler(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!1,this.loaded.emit(!0)}get loadingStrategy(){return this.mediaService.loadingStrategy===ac.LAZY?ac.LAZY:null}errorHandler(){this.handleMissing()}handleMissing(){this.isLoading=!1,this.isInitialized=!0,this.isMissing=!0,this.loaded.emit(!1)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ep))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-media"]],hostVars:6,hostBindings:function(r,l){2&r&&e.ekj("is-initialized",l.isInitialized)("is-loading",l.isLoading)("is-missing",l.isMissing)},inputs:{container:"container",format:"format",alt:"alt",role:"role",loading:"loading"},outputs:{loaded:"loaded"},features:[e.TTD],decls:1,vars:1,consts:[[3,"load","error",4,"ngIf"],[3,"load","error"]],template:function(r,l){1&r&&e.YNc(0,Xr,1,5,"img",0),2&r&&e.Q6J("ngIf",l.media&&l.media.src)},dependencies:[u.O5],encapsulation:2,changeDetection:0}),a})(),Zi=(()=>{class a{static forRoot(){return{ngModule:a}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})(),cc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz,Jr,Zi,h.bhT,h.LUR]}),a})(),Ed=(()=>{class a{get placeholder(){return"yyyy-mm-dd"}get pattern(){return this.placeholder.replace("yyyy","\\d{4}").replace("mm","\\d{1,2}").replace("dd","\\d{1,2}")}isValidFormat(r,l){return new RegExp(`^${l??this.pattern}$`).test(r)}getDate(r){if(!r)return;const l=this.placeholder.replace("yyyy","").replace("mm","").replace("dd","").substr(0,1),v=r.split(l),T=this.placeholder.split(l),W=T.indexOf("yyyy"),Be=T.indexOf("mm"),yt=T.indexOf("dd");return new Date(Number(v[W]),Number(v[Be])-1,Number(v[yt]))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),sl=(()=>{class a{constructor(r,l){this.ChangeDetectionRef=r,this.keyValueDiffers=l,this.prefix="formErrors",this.role="alert"}set control(r){!r||(this._control=r,this.differ=this.keyValueDiffers.find(this.control).create(),this.errorsDetails$=r?.statusChanges.pipe((0,Qe.O)({}),(0,he.U)(()=>r.errors||{}),(0,he.U)(l=>Object.entries(l).filter(([v,T])=>T))))}get control(){return this._control}ngDoCheck(){const r=this.differ?.diff(this.control);r&&r.forEachChangedItem(l=>{"touched"===l?.key&&this.ChangeDetectionRef.markForCheck()})}getTranslationParams(r){return r=(0,h.Kn2)(r)?r:{},{...r,...this.translationParams}}get invalid(){return this.control?.invalid}get dirty(){return this.control?.dirty}get touched(){return this.control?.touched}get hidden(){return!(this.invalid&&(this.touched||this.dirty))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.sBO),e.Y36(e.aQg))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-form-errors"]],hostVars:9,hostBindings:function(r,l){2&r&&(e.uIk("role",l.role),e.ekj("control-invalid",l.invalid)("control-dirty",l.dirty)("control-touched",l.touched)("cx-visually-hidden",l.hidden))},inputs:{prefix:"prefix",translationParams:"translationParams",control:"control"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&(e.YNc(0,No,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.errorsDetails$))},dependencies:[u.sg,u.O5,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),tu=(()=>{class a{constructor(r){this.service=r,this.update=new e.vpe}change(){this.update.emit()}get placeholder(){return this.service.placeholder}get pattern(){return this.service.pattern}getDate(r){return r&&this.service.isValidFormat(r)?r:void 0}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ed))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-date-picker"]],inputs:{control:"control",min:"min",max:"max",required:"required"},outputs:{update:"update"},decls:4,vars:15,consts:[["type","date",1,"form-control",3,"formControl","placeholder","pattern","change"],["prefix","formErrors.date",3,"control","translationParams"]],template:function(r,l){1&r&&(e.TgZ(0,"input",0),e.NdJ("change",function(){return l.change()}),e.qZA(),e._UZ(1,"cx-form-errors",1),e.ALo(2,"cxDate"),e.ALo(3,"cxDate")),2&r&&(e.Q6J("formControl",l.control)("placeholder",l.placeholder)("pattern",l.pattern),e.uIk("min",l.min)("max",l.max)("required",!1===l.required?void 0:l.required),e.xp6(1),e.Q6J("control",l.control)("translationParams",e.WLB(12,Li,e.lcZ(2,8,l.getDate(l.max)),e.lcZ(3,10,l.getDate(l.min)))))},dependencies:[Ot.Fj,Ot.JJ,Ot.Q7,Ot.c5,Ot.oH,sl,h.dgE],encapsulation:2}),a})(),fi=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR]}),a})(),vg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ot.UX,fi,h.LUR]}),a})(),_g=(()=>{class a{constructor(){this.accept="*",this.multiple=!1,this.update=new e.vpe,this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}selectFile(r){const l=r.target?.files;this.onChangeCallback(l),this.update.emit(l)}get selectedFiles(){if(this.fileInput.nativeElement.files)return Array.from(this.fileInput.nativeElement.files)}registerOnChange(r){this.onChangeCallback=r}registerOnTouched(r){this.onTouchedCallback=r}setDisabledState(r){this.fileInput.nativeElement.disabled=r}writeValue(r){r instanceof FileList&&(this.fileInput.nativeElement.files=r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-file-upload"]],viewQuery:function(r,l){if(1&r&&e.Gf(Pr,7),2&r){let v;e.iGM(v=e.CRH())&&(l.fileInput=v.first)}},inputs:{accept:"accept",multiple:"multiple"},outputs:{update:"update"},features:[e._Bn([{provide:Ot.JU,useExisting:(0,e.Gpc)(()=>a),multi:!0}])],ngContentSelectors:Ln,decls:6,vars:6,consts:[["type","file","aria-hidden","true",3,"accept","multiple","change"],["fileInput",""],["type","button",1,"btn","btn-action",3,"click"],[4,"ngFor","ngForOf"]],template:function(r,l){if(1&r){const v=e.EpF();e.F$t(),e.TgZ(0,"input",0,1),e.NdJ("change",function(W){return l.selectFile(W)}),e.qZA(),e.TgZ(2,"button",2),e.NdJ("click",function(){e.CHM(v);const W=e.MAs(1);return e.KtG(W.click())}),e.ALo(3,"cxTranslate"),e.Hsn(4),e.qZA(),e.YNc(5,fe,2,1,"p",3)}2&r&&(e.Q6J("accept",l.accept)("multiple",l.multiple),e.xp6(2),e.uIk("aria-label",e.lcZ(3,4,"common.selectFile")),e.xp6(3),e.Q6J("ngForOf",l.selectedFiles))},dependencies:[u.sg,h.X$D],encapsulation:2}),a})(),QC=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ot.UX,fi,h.LUR]}),a})(),Av=(()=>{class a{constructor(){this.showState={icon:fr.EYE_SLASH,inputType:"text",ariaLabel:"passwordVisibility.hidePassword"},this.hideState={icon:fr.EYE,inputType:"password",ariaLabel:"passwordVisibility.showPassword"},this.state=this.hideState}toggle(){this.state=this.state===this.hideState?this.showState:this.hideState,this.inputElement.setAttribute("type",this.state.inputType)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-password-visibility-toggle"]],inputs:{inputElement:"inputElement"},decls:4,vars:4,consts:[["type","button",3,"click"],["aria-hidden","true"],[3,"type"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.toggle()}),e.ALo(1,"cxTranslate"),e.TgZ(2,"span",1),e._UZ(3,"cx-icon",2),e.qZA()()),2&r&&(e.uIk("aria-label",e.lcZ(1,2,l.state.ariaLabel)),e.xp6(3),e.Q6J("type",l.state.icon))},dependencies:[vr,h.X$D],encapsulation:2,changeDetection:0}),a})(),tp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Tv=(()=>{class a{constructor(r,l,v,T,W){this.winRef=r,this.config=l,this.elementRef=v,this.viewContainerRef=T,this.changeDetectorRef=W}ngAfterViewInit(){this.config.form?.passwordVisibilityToggle&&(this.wrapInput(),this.insertComponent(),this.changeDetectorRef.detectChanges())}insertComponent(){const r=this.viewContainerRef.createComponent(Av);r.instance.inputElement=this.elementRef.nativeElement,this.inputWrapper?.appendChild(r.location.nativeElement)}wrapInput(){const r=this.elementRef.nativeElement,l=r.parentNode;this.inputWrapper=this.winRef.document.createElement("div"),this.inputWrapper.setAttribute("class","cx-password-input-wrapper"),l.replaceChild(this.inputWrapper,r),this.inputWrapper.appendChild(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.X9E),e.Y36(tp),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.sBO))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxPasswordVisibilitySwitch","","type","password"]]}),a})();const Cg={form:{passwordVisibilityToggle:!0}};let bv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Cg)],imports:[u.ez,Jr,h.LUR]}),a})(),np=(()=>{class a{constructor(){this.HTTP_PROTOCOL_REGEX=/^https?:\/\//i,this.MAILTO_PROTOCOL_REGEX=/^mailto:/i,this.TEL_PROTOCOL_REGEX=/^tel:/i}isExternalUrl(r){return"string"==typeof r&&(this.HTTP_PROTOCOL_REGEX.test(r)||this.MAILTO_PROTOCOL_REGEX.test(r)||this.TEL_PROTOCOL_REGEX.test(r))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),al=(()=>{class a{constructor(r,l){this.router=r,this.service=l,this.URL_SPLIT=/(^[^#?]*)(.*)/,this.routeParts={}}isExternalUrl(){return this.service.isExternalUrl(this.url)}get rel(){return"_blank"===this.target?"noopener":null}ngOnChanges(r){r.url&&this.setUrlParts(r.url.currentValue)}get routerUrl(){return this.routeParts.path}get queryParams(){return this.routeParts.queryParams}get fragment(){return this.routeParts.fragment??void 0}setUrlParts(r){"string"==typeof r?(r=this.getAbsoluteUrl(r),this.routeParts=this.splitUrl(r)):this.routeParts={path:r}}splitUrl(r=""){const{queryParams:l,fragment:v}=this.router.parseUrl(r),[,T]=r.match(this.URL_SPLIT)??[,""];return{path:[T??""],queryParams:l,fragment:v}}getAbsoluteUrl(r){return r.startsWith("/")?r:"/"+r}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ft.F0),e.Y36(np))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-generic-link"]],inputs:{url:"url",target:"target",id:"id",class:"class",style:"style",title:"title"},features:[e.TTD],ngContentSelectors:Ln,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["isLocalUrl",""],["content",""],[3,"href"],[4,"ngTemplateOutlet"],[3,"routerLink","queryParams","fragment"]],template:function(r,l){if(1&r&&(e.F$t(),e.YNc(0,ee,3,8,"ng-container",0),e.YNc(1,$e,2,9,"ng-template",null,1,e.W1O),e.YNc(3,ge,1,0,"ng-template",null,2,e.W1O)),2&r){const v=e.MAs(2);e.Q6J("ngIf",l.isExternalUrl())("ngIfElse",v)}},dependencies:[u.O5,u.tP,Ft.yS],encapsulation:2}),a})(),Aa=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz]}),a})(),yg=(()=>{class a{constructor(){this.min=1,this.step=1,this.allowZero=!1,this.readonly=!1}handleClick(){this.input.nativeElement.focus()}ngOnInit(){this.sub=this.control.valueChanges.pipe((0,Qe.O)(this.control.value)).subscribe(r=>this.control.setValue(this.getValidCount(r),{emitEvent:!1}))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}increment(){this.control.setValue(this.control.value+this.step),this.control.markAsDirty()}decrement(){this.control.setValue(this.control.value-this.step),this.control.markAsDirty()}getValidCount(r){return r<this.min&&!(0===r&&this.allowZero)&&(r=this.min),this.max&&r>this.max&&(r=this.max),r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-item-counter"]],viewQuery:function(r,l){if(1&r&&e.Gf(Ht,5),2&r){let v;e.iGM(v=e.CRH())&&(l.input=v.first)}},hostVars:2,hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.handleClick()}),2&r&&e.ekj("readonly",l.readonly)},inputs:{control:"control",min:"min",max:"max",step:"step",allowZero:"allowZero",readonly:"readonly"},decls:9,vars:18,consts:[["type","button",3,"disabled","tabindex","click"],["type","number",3,"min","max","step","readonly","tabindex","formControl"],["qty",""],["type","button","tabindex","0",3,"disabled","click"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.decrement()}),e.ALo(1,"cxTranslate"),e._uU(2," -\n"),e.qZA(),e._UZ(3,"input",1,2),e.ALo(5,"cxTranslate"),e.TgZ(6,"button",3),e.NdJ("click",function(){return l.increment()}),e.ALo(7,"cxTranslate"),e._uU(8," +\n"),e.qZA()),2&r&&(e.Q6J("disabled",l.control.disabled||l.control.value<=l.min)("tabindex",l.control.disabled||l.control.value<=l.min?-1:0),e.uIk("aria-label",e.lcZ(1,12,"itemCounter.removeOne")),e.xp6(3),e.Q6J("min",l.min)("max",l.max)("step",l.step)("readonly",l.readonly)("tabindex",l.readonly?-1:0)("formControl",l.control),e.uIk("aria-label",e.lcZ(5,14,"itemCounter.quantity")),e.xp6(3),e.Q6J("disabled",l.control.disabled||l.control.value>=l.max),e.uIk("aria-label",e.lcZ(7,16,"itemCounter.addOneMore")))},dependencies:[Ot.Fj,Ot.wV,Ot.JJ,Ot.qQ,Ot.Fd,Ot.oH,h.X$D],encapsulation:2}),a})(),Dd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ot.UX,h.LUR]}),a})(),pi=(()=>{class a{constructor(r,l){this.renderer=r,this.elementRef=l}ngAfterViewInit(){const r=this.elementRef.nativeElement.querySelector('[role="combobox"]'),l=this.cxNgSelectA11y.ariaLabel,T=this.cxNgSelectA11y.ariaControls??this.elementRef.nativeElement.id;l&&this.renderer.setAttribute(r,"aria-label",l),T&&this.renderer.setAttribute(r,"aria-controls",T)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.Qsj),e.Y36(e.SBq))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxNgSelectA11y",""]],inputs:{cxNgSelectA11y:"cxNgSelectA11y"}}),a})(),cl=(()=>{class a{constructor(){this.sortListEvent=new e.vpe}sortList(r){this.sortListEvent.emit(r)}get selectedLabel(){if(this.selectedOption)return this.sortOptions?.find(r=>r.code===this.selectedOption)?.name??this.sortLabels?.[this.selectedOption]}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-sorting"]],inputs:{sortOptions:"sortOptions",ariaControls:"ariaControls",ariaLabel:"ariaLabel",selectedOption:"selectedOption",placeholder:"placeholder",sortLabels:"sortLabels"},outputs:{sortListEvent:"sortListEvent"},decls:3,vars:11,consts:[[3,"searchable","clearable","placeholder","ngModel","cxNgSelectA11y","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,l){1&r&&(e.TgZ(0,"ng-select",0),e.NdJ("change",function(T){return l.sortList(T)}),e.ALo(1,"cxTranslate"),e.YNc(2,Bn,2,2,"ng-option",1),e.qZA()),2&r&&(e.s9C("placeholder",l.placeholder),e.Q6J("searchable",!1)("clearable",!1)("ngModel",l.selectedOption)("cxNgSelectA11y",e.WLB(8,ro,l.ariaLabel||e.lcZ(1,6,"productList.sortResults"),l.ariaControls)),e.xp6(2),e.Q6J("ngForOf",l.sortOptions))},dependencies:[u.sg,bt.w9,bt.jq,Ot.JJ,Ot.On,pi,h.X$D],encapsulation:2,changeDetection:0}),a})(),ul=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),rp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,bt.A0,Ot.u5,ul,h.LUR]}),a})();const op={pagination:{addStart:!0,addEnd:!0}};let ip=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})();var Ur=(()=>{return(a=Ur||(Ur={})).GAP="gap",a.FIRST="first",a.LAST="last",a.PREVIOUS="previous",a.NEXT="next",a.START="start",a.END="end",a.PAGE="page",Ur;var a})(),Ta=(()=>{return(a=Ta||(Ta={})).ASIDE="aside",a.BEFORE="before",a.AFTER="after",Ta;var a})();const sp={rangeCount:3,dotsLabel:"...",startLabel:"\xab",previousLabel:"\u2039",nextLabel:"\u203a",endLabel:"\xbb"};let Sg=(()=>{class a{constructor(r){this.paginationConfig=r}paginate(r,l){const v=[];return!r||r<2||(this.addPages(v,r,l),this.addDots(v,r),this.addFirstLast(v,r),this.addNavigation(v,r,l)),v}addPages(r,l,v){const T=this.getStartOfRange(l,v);if(void 0!==this.config.rangeCount&&null!==T){const W=Math.min(this.config.rangeCount,l);Array.from(Array(W)).forEach((Be,yt)=>{r.push({number:yt+T,label:String(yt+T+1),type:Ur.PAGE})})}}addDots(r,l){this.config.addDots&&(r.unshift(...(()=>{const W=r[0].number,Be=this.config.addFirst?1:0;if(void 0!==W&&W>Be){const yt=!this.config.substituteDotsForSingularPage||W!==Be+1,jt=this.config.addFirst&&this.config.substituteDotsForSingularPage&&0===Be,On=yt?Ur.GAP:jt?Ur.FIRST:Ur.PAGE;return[Object.assign({label:yt?this.config.dotsLabel:String(Be+1),type:On},yt?null:{number:Be})]}return[]})()),r.push(...(()=>{const W=r[r.length-1].number,Be=W?W+1:void 0,yt=l-(this.config.addLast?2:1);if(Be&&Be<=yt){const jt=this.config.addLast&&this.config.substituteDotsForSingularPage&&Be===yt,On=Be<l-(this.config.substituteDotsForSingularPage?1:0)-(this.config.addLast?1:0),qo=On?Ur.GAP:jt?Ur.LAST:Ur.PAGE;return[Object.assign({label:On?this.config.dotsLabel:String(Be+1),type:qo},On?null:{number:Be})]}return[]})()))}addFirstLast(r,l){this.config.addFirst&&0!==r[0].number&&r.unshift({number:0,label:"1",type:Ur.FIRST}),this.config.addLast&&r[r.length-1].number!==l-1&&r.push({number:l-1,label:String(l),type:Ur.LAST})}addNavigation(r,l,v){const T=this.getBeforeLinks(v),W=this.getAfterLinks(l,v),Be=this.config.navigationPosition;Be&&Be!==Ta.ASIDE?(Be===Ta.BEFORE&&r.unshift(...T,...W),Be===Ta.AFTER&&r.push(...T,...W)):(r.unshift(...T),r.push(...W))}getBeforeLinks(r){const l=[];return this.config.addStart&&l.push((()=>Object.assign({label:this.config.startLabel,type:Ur.START},r>0?{number:0}:null))()),this.config.addPrevious&&l.push((()=>Object.assign({label:this.config.previousLabel,type:Ur.PREVIOUS},r>0?{number:r-1}:null))()),l}getAfterLinks(r,l){const v=[];return this.config.addNext&&v.push((()=>Object.assign({label:this.config.nextLabel,type:Ur.NEXT},l<r-1?{number:l+1}:null))()),this.config.addEnd&&v.push((()=>Object.assign({label:this.config.endLabel,type:Ur.END},l<r-1?{number:r-1}:null))()),v}getStartOfRange(r,l){if(void 0!==this.config.rangeCount){const v=this.config.rangeCount-1,T=Math.round(v/2),W=Math.max(0,l-T),Be=Math.max(0,r-v-1);return Math.min(Be,W)}return null}get config(){return Object.assign(sp,this.paginationConfig.pagination)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(ip))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ll=(()=>{class a{constructor(r,l){this.paginationBuilder=r,this.activatedRoute=l,this.pageRoute=".",this.viewPageEvent=new e.vpe,this.pages=[]}get pagination(){return this._pagination}set pagination(r){r&&(this._pagination=r,this.render(r))}render(r){!r||(this.pages=this.paginationBuilder.paginate(r.totalPages??0,r.currentPage??0))}getAriaLabel(r,l){return(l=(l=l===Ur.START?Ur.FIRST:l)===Ur.END?Ur.LAST:l)===Ur.PAGE?`${l} ${r}`:`${l} ${Ur.PAGE}`}isCurrent(r){return r.type===Ur.PAGE&&r.number===this.pagination.currentPage}isInactive(r){return!r.hasOwnProperty("number")||r.number===this.pagination.currentPage}getQueryParams(r){const l=Object.assign({},this.activatedRoute.snapshot.queryParams);return this.queryParam&&void 0!==r.number&&void 0!==this.pagination.totalPages&&r.number<this.pagination.totalPages&&!this.isCurrent(r)&&(l[this.queryParam]=r.number),l[this.queryParam]===this.defaultPage&&delete l[this.queryParam],l}pageChange(r){this.viewPageEvent.emit(r.number)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Sg),e.Y36(Ft.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-pagination"]],inputs:{pageRoute:"pageRoute",queryParam:"queryParam",defaultPage:"defaultPage",pagination:"pagination"},outputs:{viewPageEvent:"viewPageEvent"},decls:1,vars:1,consts:[[3,"class","disabled","current","routerLink","queryParams","tabIndex","click",4,"ngFor","ngForOf"],[3,"routerLink","queryParams","tabIndex","click"]],template:function(r,l){1&r&&e.YNc(0,Lr,2,11,"a",0),2&r&&e.Q6J("ngForOf",l.pages)},dependencies:[u.sg,Ft.yS],encapsulation:2,changeDetection:0}),a})(),wn=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(op)],imports:[u.ez,Ft.Bz]}),a})(),nu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,bt.A0,Ot.u5,Ot.UX,Jr,wn,rp]}),a})(),ap=(()=>{class a{constructor(){this.ariaLabel="",this.class="",this.disabled=!1,this.loading=!1,this.clickEvent=new e.vpe}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-progress-button"]],inputs:{ariaLabel:"ariaLabel",class:"class",disabled:"disabled",loading:"loading"},outputs:{clickEvent:"clickEvent"},ngContentSelectors:Ln,decls:4,vars:4,consts:[[1,"btn","btn-primary",3,"disabled","ngClass","click"],[1,"cx-progress-button-container"],["class","loader-container",4,"ngIf"],[1,"loader-container"],[1,"loader"]],template:function(r,l){1&r&&(e.F$t(),e.TgZ(0,"button",0),e.NdJ("click",function(){return l.clickEvent.emit()}),e.TgZ(1,"div",1),e.YNc(2,B,4,3,"div",2),e.Hsn(3),e.qZA()()),2&r&&(e.Q6J("disabled",l.disabled||l.loading)("ngClass",l.class),e.uIk("aria-label",l.ariaLabel),e.xp6(2),e.Q6J("ngIf",l.loading))},dependencies:[u.mk,u.O5,h.X$D],encapsulation:2}),a})(),Dg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR]}),a})(),Ad=(()=>{class a{constructor(){this.defaultHideMode=!0,this.splitViewCount=1,this._views$=new N.X([])}add(r,l){const v={hidden:0!==r&&this.defaultHideMode,...l};this.views[r]||(this.views[r]=v,this.updateState(r,v.hidden),this._views$.next(this.views))}updateSplitView(r){r!==this.splitViewCount&&(this.splitViewCount=r,this.updateState())}getActiveView(){return this._views$.pipe((0,he.U)(r=>this.getActive(r)),(0,be.x)())}getViewState(r){return this._views$.pipe((0,he.U)(l=>l[r]),(0,ze.h)(l=>Boolean(l)))}remove(r){const l=this.getActive(this.views);this._views$.next(this.views.splice(0,r)),l>=r&&this.updateState(r)}get nextPosition(){return this.views.length||0}toggle(r,l){this.views[r]||this.add(r,{hidden:l??!1}),this.views[r]&&void 0===l&&!this.views[r].hidden&&r--,this.updateState(r,!0===l)}updateState(r,l){const v=[...this.views];void 0!==l&&r&&v[r]&&(v[r].hidden=l);let T=v.length-[...v].reverse().findIndex(W=>!W.hidden)-1;T===v.length&&(T=r?r-1:v.length-1),v.forEach((W,Be)=>{W&&Be!==r&&(W.hidden=Be>T||Be<T-(this.splitViewCount-1))}),this._views$.next(v)}getActive(r){const l=[...r].reverse().findIndex(T=>!T.hidden);return-1===l?0:r.length-l-1}get views(){return this._views$.value}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),cp=(()=>{class a{constructor(r,l,v){this.splitService=r,this.breakpointService=l,this.elementRef=v,this.subscription=new P.w,this.lastVisibleView=1}set hideMode(r){this.splitService.defaultHideMode=r}ngOnInit(){this.subscription.add(this.splitService.getActiveView().subscribe(r=>this.lastVisibleView=r+1)),this.subscription.add(this.breakpointService.breakpoint$.subscribe(()=>{this.splitService.updateSplitView(this.splitViewCount)}))}get splitViewCount(){return Number(getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-max-views"))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ad),e.Y36(Mi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-split-view"]],hostVars:3,hostBindings:function(r,l){2&r&&(e.uIk("active-view",l.lastVisibleView),e.Udp("--cx-active-view",l.lastVisibleView))},inputs:{hideMode:"hideMode"},features:[e._Bn([Ad])],ngContentSelectors:Ln,decls:1,vars:0,template:function(r,l){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),a})(),Ag=(()=>{class a{constructor(r,l,v){this.splitService=r,this.elementRef=l,this.cd=v,this.disappeared=!0,this.hiddenChange=new e.vpe}set hidden(r){this._hidden=r,this.splitService.toggle(this.viewPosition,r)}ngOnInit(){this.splitService.add(this.viewPosition,this._hidden?{hidden:this._hidden}:{}),this.subscription=this.splitService.getViewState(this.viewPosition).pipe((0,gt.j)(l=>(0,De.H)(l.hidden?1.25*this.duration:0))).subscribe(l=>{this.hiddenChange.emit(l.hidden),this._hidden=l.hidden,this.disappeared=l.hidden,this.cd.markForCheck()})}toggle(r){this.splitService.toggle(this.viewPosition,r)}get viewPosition(){return Number(this.position)>=0||(this.position=this.splitService.nextPosition.toString()),Number(this.position)}get duration(){const r=getComputedStyle(this.elementRef.nativeElement).getPropertyValue("--cx-transition-duration").trim();return r.indexOf("ms")>-1?Number(r.split("ms")[0]):r.indexOf("s")>-1?1e3*Number(r.split("s")[0]):300}ngOnDestroy(){this.splitService.remove(this.viewPosition),this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ad),e.Y36(e.SBq),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-view"]],hostVars:4,hostBindings:function(r,l){2&r&&(e.uIk("position",l.position)("disappeared",l.disappeared),e.Udp("--cx-view-position",l.position))},inputs:{position:"position",hidden:"hidden"},outputs:{hiddenChange:"hiddenChange"},ngContentSelectors:Ln,decls:1,vars:0,template:function(r,l){1&r&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),a})(),Td=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz]}),a})(),bd=(()=>{class a{constructor(r){this.globalMessageService=r,this.iconTypes=fr,this.messageType=h.xUg}ngOnInit(){this.messages$=this.globalMessageService.get()}clear(r,l){this.globalMessageService.remove(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-global-message"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-visually-hidden",4,"ngFor","ngForOf"],["class","alert alert-success",4,"ngFor","ngForOf"],["class","alert alert-info",4,"ngFor","ngForOf"],["class","alert alert-warning",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"cx-visually-hidden"],[1,"alert","alert-success"],[1,"alert-icon"],[3,"type"],["type","button",1,"close",3,"click"],[1,"alert","alert-info"],[1,"alert","alert-warning"],[1,"alert","alert-danger"]],template:function(r,l){1&r&&(e.YNc(0,Hr,6,5,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.messages$))},dependencies:[u.sg,u.O5,vr,u.Ov,h.X$D],encapsulation:2}),a})(),dl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Jr,h.LUR]}),a})(),Tg=(()=>{class a{constructor(){this.showBody=!1,this.isVisibleCloseButton=!0,this.closeMessage=new e.vpe,this.buttonAction=new e.vpe,this.iconTypes=fr}get getCssClassesForMessage(){return{"cx-message-success":this.type===h.xUg.MSG_TYPE_CONFIRMATION,"cx-message-info":this.type===h.xUg.MSG_TYPE_INFO,"cx-message-warning":this.type===h.xUg.MSG_TYPE_WARNING,"cx-message-danger":this.type===h.xUg.MSG_TYPE_ERROR}}get getIconType(){switch(this.type){case h.xUg.MSG_TYPE_WARNING:return fr.WARNING;case h.xUg.MSG_TYPE_ERROR:return fr.ERROR;case h.xUg.MSG_TYPE_INFO:return fr.INFO;default:return fr.SUCCESS}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-message"]],inputs:{text:"text",actionButtonText:"actionButtonText",actionButtonMessage:"actionButtonMessage",accordionText:"accordionText",showBody:"showBody",isVisibleCloseButton:"isVisibleCloseButton",type:"type"},outputs:{closeMessage:"closeMessage",buttonAction:"buttonAction"},ngContentSelectors:Ln,decls:11,vars:7,consts:[[1,"cx-message",3,"ngClass"],[1,"cx-message-content"],[1,"cx-message-header"],[1,"cx-message-icon"],[3,"type"],[1,"cx-message-text"],["aria-hidden","true","class","cx-message-accordion-button link cx-action-link","type","button",3,"click",4,"ngIf"],["aria-hidden","true","class","btn btn-link cx-action-link","type","button",3,"cxAtMessage","click",4,"ngIf"],["aria-hidden","true","class","close","type","button",3,"cxAtMessage","click",4,"ngIf"],["class","cx-message-body",4,"ngIf"],["aria-hidden","true","type","button",1,"cx-message-accordion-button","link","cx-action-link",3,"click"],[1,"cx-message-accordion-icon",3,"type"],["aria-hidden","true","type","button",1,"btn","btn-link","cx-action-link",3,"cxAtMessage","click"],["aria-hidden","true","type","button",1,"close",3,"cxAtMessage","click"],[1,"cx-message-body"]],template:function(r,l){1&r&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"cx-icon",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.YNc(7,oi,3,4,"button",6),e.YNc(8,bo,2,2,"button",7),e.qZA(),e.YNc(9,Dr,4,7,"button",8),e.qZA(),e.YNc(10,ii,2,0,"div",9),e.qZA()()),2&r&&(e.Q6J("ngClass",l.getCssClassesForMessage),e.xp6(4),e.Q6J("type",l.getIconType),e.xp6(2),e.hij(" ",l.text," "),e.xp6(1),e.Q6J("ngIf",l.accordionText),e.xp6(1),e.Q6J("ngIf",l.actionButtonText),e.xp6(1),e.Q6J("ngIf",l.isVisibleCloseButton),e.xp6(1),e.Q6J("ngIf",l.showBody||!l.accordionText))},dependencies:[Yi,u.mk,u.O5,vr,h.X$D],encapsulation:2}),a})(),up=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Da,u.ez,h.LUR,Jr]}),a})(),lp=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-promotions"]],inputs:{promotions:"promotions"},decls:1,vars:1,consts:[["class","cx-promotions",4,"ngIf"],[1,"cx-promotions"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&e.YNc(0,ao,3,2,"div",0),2&r&&e.Q6J("ngIf",l.promotions)},dependencies:[u.sg,u.O5],encapsulation:2,changeDetection:0}),a})(),$s=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})();var uc=(()=>{return(a=uc||(uc={})).LANGUAGE="LANGUAGE",a.CURRENCY="CURRENCY",uc;var a})();const Md={[h.ORv]:"Language",[h.IkA]:"Currency"};let zs=(()=>{class a{constructor(r,l,v){this.componentData=r,this.contextServiceMap=l,this.injector=v}getItems(r){return this.getService(r).pipe((0,oe.w)(l=>l.getAll()),(0,oe.w)(l=>this.getContext(r).pipe((0,oe.w)(v=>{const T=[];for(const W of l)T.push({...W,label:this.getOptionLabel(W,v)});return(0,k.of)(T)}))))}getActiveItem(r){return this.getService(r).pipe((0,oe.w)(l=>l.getActive()))}getLabel(r){return this.getContext(r).pipe((0,he.U)(l=>{if(l)return Md[l]}))}setActive(r,l){this.getService(l).pipe((0,pe.q)(1)).subscribe(v=>{v.setActive(r)})}getService(r){return this.getContext(r).pipe((0,he.U)(l=>l?this.getInjectedService(l):void 0),(0,ze.h)(h.pTN))}getContext(r){return r?(0,k.of)(r===uc.CURRENCY?h.IkA:r===uc.LANGUAGE?h.ORv:r):this.componentData?this.componentData.data$.pipe((0,he.U)(l=>l.context),(0,he.U)(l=>{switch(l){case"LANGUAGE":return h.ORv;case"CURRENCY":return h.IkA;default:return l}})):(0,k.of)(void 0)}getInjectedService(r){return this.injector.get(this.contextServiceMap[r],void 0)}getOptionLabel(r,l){switch(l){case h.ORv:return r.nativeName;case h.IkA:return r.symbol+" "+r.isocode;default:return r.isocode}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Qr,8),e.LFG(h.Zu_),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),dp=(()=>{class a{constructor(r){this.componentService=r,this.iconTypes=fr}get items$(){return this.componentService.getItems(this.context)}get activeItem$(){return this.componentService.getActiveItem(this.context)}set active(r){this.componentService.setActive(r,this.context)}get label$(){return this.componentService.getLabel(this.context)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(zs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-site-context-selector"]],inputs:{context:"context"},decls:3,vars:5,consts:[[4,"ngIf"],[3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"small",3,"type"],[3,"value","selected"]],template:function(r,l){if(1&r&&(e.YNc(0,Iu,7,5,"label",0),e.ALo(1,"async"),e.ALo(2,"async")),2&r){let v;e.Q6J("ngIf",(null==(v=e.lcZ(1,1,l.items$))?null:v.length)>1&&e.lcZ(2,3,l.items$))}},dependencies:[u.sg,u.O5,vr,u.Ov],encapsulation:2,changeDetection:0}),a})(),Mv=(()=>{class a{constructor(){this.siteContextType=uc}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-language-currency-selector"]],decls:2,vars:2,consts:[[3,"context"]],template:function(r,l){1&r&&e._UZ(0,"cx-site-context-selector",0)(1,"cx-site-context-selector",0),2&r&&(e.Q6J("context",l.siteContextType.LANGUAGE),e.xp6(1),e.Q6J("context",l.siteContextType.CURRENCY))},dependencies:[dp],encapsulation:2,changeDetection:0}),a})(),xv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSSiteContextComponent:{component:dp,providers:[{provide:zs,useClass:zs,deps:[Qr,h.Zu_,e.zs3]}]},LanguageCurrencyComponent:{component:Mv}}}),zs],imports:[u.ez,Ft.Bz,h.R$7,Jr]}),a})(),xd=(()=>{class a{constructor(){this.initialRate=0,this.icon=fr.STAR,this.disabled=!0,this.rating=this.initialRate,this.change=new e.vpe}setRate(r){this.disabled||(this.rating=r)}reset(){this.disabled||(this.rating=this.initialRate??0)}saveRate(r){this.disabled||(this.initialRate=r,this.setRate(r),this.change.emit(r))}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-star-rating"]],hostVars:3,hostBindings:function(r,l){1&r&&e.NdJ("mouseout",function(){return l.reset()}),2&r&&(e.uIk("disabled",l.disabled),e.Udp("--star-fill",l.rating))},inputs:{disabled:"disabled",rating:"rating"},outputs:{change:"change"},decls:1,vars:2,consts:[["class","star","role","button",3,"type","mouseover","click","keydown.space",4,"ngFor","ngForOf"],["role","button",1,"star",3,"type","mouseover","click","keydown.space"]],template:function(r,l){1&r&&e.YNc(0,Ps,2,8,"cx-icon",0),2&r&&e.Q6J("ngForOf",e.DdM(1,qi))},dependencies:[u.sg,vr,h.X$D],encapsulation:2,changeDetection:0}),a})(),wd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Jr,h.LUR]}),a})();const Mg={tableOptions:{headerComponent:(()=>{class a{constructor(r){this.outlet=r}get header(){if("string"==typeof this.fieldOptions?.label)return this.fieldOptions.label}get localizedHeader(){return this.fieldOptions?.label?.i18nKey||`${this.i18nRoot}.${this.field}`}get fieldOptions(){return this.outlet?.context._options?.cells?.[this.field]}get field(){return this.outlet?.context?._field}get type(){return this.outlet?.context?._type}get i18nRoot(){return this.outlet?.context?._i18nRoot}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(_a))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table-header-cell"]],decls:2,vars:3,template:function(r,l){1&r&&(e._uU(0),e.ALo(1,"cxTranslate")),2&r&&e.Oqu(l.header||e.lcZ(1,1,l.localizedHeader))},dependencies:[h.X$D],encapsulation:2,changeDetection:0}),a})(),dataComponent:(()=>{class a{constructor(r){this.outlet=r}get value(){return this.model[this.field]}get model(){return this.outlet?.context}get field(){return this.outlet?.context?._field}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(_a))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table-data-cell"]],hostVars:1,hostBindings:function(r,l){2&r&&e.uIk("title",l.value)},decls:1,vars:1,template:function(r,l){1&r&&e._uU(0),2&r&&e.Oqu(l.value)},encapsulation:2,changeDetection:0}),a})()}};let Ys=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),fp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez]}),a})(),Id=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR]}),a})(),ru=(()=>{class a{constructor(r,l,v){this.outletService=r,this.componentFactoryResolver=l,this.config=v,this.outletRefs=new Map}add(r){r?.cells?.forEach(l=>{const v=this.getHeaderRenderer(r,l);if(v){const W=this.getHeaderOutletRef(r.type,l);this.render(W,v)}const T=this.getDataRenderer(r,l);if(T){const W=this.getDataOutletRef(r.type,l);this.render(W,T)}})}render(r,l){if(this.outletRefs.has(r))return;this.outletRefs.set(r,!0);const v=this.componentFactoryResolver.resolveComponentFactory(l);this.outletService.add(r,v)}getHeaderRenderer(r,l){return r.options?.cells?.[l]?.headerComponent||r.options?.headerComponent||this.config.tableOptions?.headerComponent}getDataRenderer(r,l){return r.options?.cells?.[l]?.dataComponent||r.options?.dataComponent||this.config.tableOptions?.dataComponent}getHeaderOutletRef(r,l){return`table.${r}.header.${l}`}getHeaderOutletContext(r,l,v,T){return{_type:r,_options:l,_field:T,_i18nRoot:v}}getDataOutletRef(r,l){return`table.${r}.data.${l}`}getDataOutletContext(r,l,v,T,W){return{...W,_type:r,_options:l,_field:T,_i18nRoot:v}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(qa),e.LFG(e._Vd),e.LFG(Ys))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var ba=(()=>{return(a=ba||(ba={}))[a.VERTICAL=1]="VERTICAL",a[a.VERTICAL_STACKED=2]="VERTICAL_STACKED",a[a.HORIZONTAL=3]="HORIZONTAL",ba;var a})();let pp=(()=>{class a{constructor(r){this.rendererService=r,this.launch=new e.vpe}set structure(r){this._structure=r,this.init()}get structure(){return this._structure}init(){this.verticalLayout=!this.layout||this.layout===ba.VERTICAL,this.verticalStackedLayout=this.layout===ba.VERTICAL_STACKED,this.horizontalLayout=this.layout===ba.HORIZONTAL,this.rendererService.add(this.structure),this.addTableDebugInfo()}launchItem(r){this.launch.emit(r)}isCurrentItem(r){return!(!this.currentItem||!this.currentItem.value)&&this.currentItem?.value===r?.[this.currentItem?.property]}getHeaderOutletRef(r){return this.rendererService.getHeaderOutletRef(this.type,r)}getHeaderOutletContext(r){return this.rendererService.getHeaderOutletContext(this.type,this.options,this.i18nRoot,r)}getDataOutletRef(r){return this.rendererService.getDataOutletRef(this.type,r)}getDataOutletContext(r,l){return this.rendererService.getDataOutletContext(this.type,this.options,this.i18nRoot,r,l)}trackData(r,l){return JSON.stringify(l)}addTableDebugInfo(){(0,e.X6Q)()&&this.type&&(this.tableType=this.type)}get layout(){return this.structure?.options?.layout}get type(){return this.structure?.type}get options(){return this.structure?.options}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ru))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-table"]],hostVars:7,hostBindings:function(r,l){2&r&&(e.uIk("__cx-table-type",l.tableType),e.ekj("horizontal",l.horizontalLayout)("vertical",l.verticalLayout)("vertical-stacked",l.verticalStackedLayout))},inputs:{structure:"structure",data:"data",i18nRoot:"i18nRoot",currentItem:"currentItem"},outputs:{launch:"launch"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"is-current","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[3,"class",4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],["scope","col",3,"class",4,"ngFor","ngForOf"],["scope","col"]],template:function(r,l){1&r&&e.YNc(0,$n,4,3,"table",0),2&r&&e.Q6J("ngIf",l.structure)},dependencies:[u.sg,u.O5,Bo],encapsulation:2,changeDetection:0}),a})(),hp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Mg)],imports:[u.ez,li,Id,fp]}),a})(),xg=(()=>{class a{constructor(r,l){this.breakpointService=r,this.config=l}buildStructure(r,l){return this.hasTableConfig(r)?this.buildStructureFromConfig(r,l):this.buildRandomStructure(r)}buildStructureFromConfig(r,l){return this.breakpointService.breakpoint$.pipe((0,he.U)(v=>({...this.getTableConfig(r,v,l),type:r})))}getTableConfig(r,l,v){if(!this.config.table?.[r])return null;const T=this.findRelevantBreakpoints(l),W=[...T].reverse().find(jt=>!!this.config.table?.[r][jt]?.cells),Be=W&&this.config.table[r][W]?.cells||this.config.table[r].cells||v?.cells;let yt={...v?.options,...this.config.table[r].options};return T.forEach(jt=>{yt={...yt,...v?.[jt]?.options,...this.config.table?.[r]?.[jt]?.options}}),{cells:Be,options:yt}}buildStructureFromData(r,l){return this.logWarning(`No table configuration found to render table with type "${r}". The table header for "${r}" is generated by the help of the first data item`),l.pipe((0,he.U)(v=>{const T=Object.keys(v?.[0]).map(W=>W);return{type:r,cells:T}}))}buildRandomStructure(r){return this.logWarning(`No data available for "${r}", a random structure is generated (with hidden table headers).`),(0,k.of)({type:r,cells:["unknown","unknown","unknown","unknown","unknown"]})}findRelevantBreakpoints(r){const l=this.breakpointService.breakpoints.indexOf(r);return this.breakpointService.breakpoints.slice(0,l+1)}hasTableConfig(r){return!!this.config.table?.[r]}logWarning(r){(0,e.X6Q)()&&console.warn(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Mi),e.LFG(Ys))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),wg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{RotatingImagesComponent:{component:qf}}})],imports:[u.ez,ss,cc,Zi]}),a})(),Rd=(()=>{class a{constructor(r,l,v){this.component=r,this.urlService=l,this.cmsService=v,this.data$=this.component.data$.pipe((0,Ie.b)(T=>{this.setRouterLink(T),this.styleClasses=T.styleClasses}))}getTarget(r){return"true"===r.external||!0===r.external?"_blank":null}setRouterLink(r){r.urlLink?this.routerLink=r.urlLink:r.contentPage?this.cmsService.getPage({id:r.contentPage,type:h.GV4.CONTENT_PAGE}).pipe((0,pe.q)(1)).subscribe(l=>{this.routerLink=l?.label}):r.product?this.routerLink=this.urlService.transform({cxRoute:"product",params:{code:r.product}}):r.category&&(this.routerLink=this.urlService.transform({cxRoute:"category",params:{code:r.category}}))}getImage(r){if(r.media)return r.media}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.hCH),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-banner"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.styleClasses)},decls:2,vars:3,consts:[[4,"ngIf"],[3,"url","target",4,"ngIf"],[3,"url","target"],["class","headline",3,"innerHTML",4,"ngIf"],[3,"container"],["class","content",3,"innerHTML",4,"ngIf"],[1,"headline",3,"innerHTML"],[1,"content",3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,Mr,2,1,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[u.O5,al,bs,u.Ov],encapsulation:2,changeDetection:0}),a})(),Ig=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SimpleResponsiveBannerComponent:{component:Rd},BannerComponent:{component:Rd},SimpleBannerComponent:{component:Rd}}})],imports:[u.ez,Ft.Bz,Aa,Zi]}),a})(),gp=(()=>{class a{constructor(r){this.component=r,this.data$=this.component.data$.pipe((0,Ie.b)(l=>this.styleClasses=l?.styleClasses))}getTarget(r){return"true"===r.target||!0===r.target?"_blank":null}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-link"]],hostVars:2,hostBindings:function(r,l){2&r&&e.Tol(l.styleClasses)},decls:2,vars:3,consts:[[3,"url","style","target",4,"ngIf"],[3,"url","target"]],template:function(r,l){1&r&&(e.YNc(0,Yn,2,5,"cx-generic-link",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[u.O5,al,u.Ov],encapsulation:2,changeDetection:0}),a})(),Od=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSLinkComponent:{component:gp}}})],imports:[u.ez,Ft.Bz,Aa]}),a})(),mp=(()=>{class a{constructor(r,l){this.renderer=r,this.winRef=l}getPath(r){return`${this.winRef.location.href?.replace(/#.*$/,"")}${r}`}transform(r){const l=this.renderer.createElement("template");l.innerHTML=r.trim();const v=l.content.querySelectorAll("a");return Array.from(v).forEach(T=>{const W=T.getAttribute("href");0===W?.indexOf("#")&&this.renderer.setProperty(T,"href",this.getPath(W))}),l.innerHTML}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.Qsj,16),e.Y36(h.X9E,16))},a.\u0275pipe=e.Yjl({name:"cxSupplementHashAnchors",type:a,pure:!0}),a})(),Pd=(()=>{class a{constructor(r,l){this.component=r,this.router=l}handleClick(r){if(r.target instanceof HTMLAnchorElement){const v=r.target?.getAttribute("href");0===v?.indexOf("/")&&(r.preventDefault(),this.router.navigate([`/${v}`]))}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(Ft.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-paragraph"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)})},decls:2,vars:3,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,Nr,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.component.data$))},dependencies:[u.O5,u.Ov,mp],encapsulation:2,changeDetection:0}),a})(),Ld=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),wv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSParagraphComponent:{component:Pd},CMSTabParagraphComponent:{component:Pd}}})],imports:[u.ez,Ft.Bz,Ld]}),a})(),Rv=(()=>{class a{constructor(r,l,v){this.componentData=r,this.cmsService=l,this.winRef=v,this.activeTabNum=0,this.tabTitleParams=[],this.components$=this.componentData.data$.pipe((0,be.x)((T,W)=>T?.components===W?.components),(0,Ie.b)(T=>{this.ariaLabel=`${T?.uid}.tabPanelContainerRegion`}),(0,oe.w)(T=>(0,D.aj)((T?.components??"").split(" ").map(W=>this.cmsService.getComponentData(W).pipe((0,be.x)(),(0,he.U)(Be=>{if(Be)return Be.flexType||(Be={...Be,flexType:Be.typeCode}),{...Be,title:`${T.uid}.tabs.${Be.uid}`}}))))))}select(r,l){this.activeTabNum=this.activeTabNum===r?-1:r,l&&l?.target&&this.winRef?.nativeWindow?.scrollTo({left:0,top:l.target.parentNode.offsetTop,behavior:"smooth"})}ngOnInit(){this.activeTabNum=this.winRef?.nativeWindow?.history?.state?.activeTab??this.activeTabNum}ngAfterViewInit(){this.children.length>0&&this.getTitleParams(this.children)}tabCompLoaded(r){this.tabTitleParams.push(r.instance.tabTitleParam$)}getTitleParams(r){r.forEach(l=>{this.tabTitleParams.push(l.cmpRef?.instance.tabTitleParam$??null)})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.ctt),e.Y36(h.X9E))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-tab-paragraph-container"]],viewQuery:function(r,l){if(1&r&&e.Gf(Kc,5),2&r){let v;e.iGM(v=e.CRH())&&(l.children=v)}},decls:2,vars:3,consts:[[4,"ngIf"],["role","region","tabindex","-1",1,"container"],[4,"ngFor","ngForOf"],[3,"click"],["aria-hidden","true",1,"accordion-icon"],["tabindex","0","role","presentation",1,"cx-tab-paragraph-content"],[3,"cxOutlet","cxOutletContext"],[3,"cxComponentWrapper","cxComponentRef"]],template:function(r,l){1&r&&(e.YNc(0,ia,4,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.components$))},dependencies:[u.sg,u.O5,Kc,Bo,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),lc=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CMSTabParagraphContainer:{component:Rv}}})],imports:[u.ez,ss,li,h.LUR]}),a})(),fl=(()=>{class a{constructor(r){this.userAddressService=r}getAddresses(){return this.userAddressService.getAddresses()}getAddressesStateLoading(){return this.userAddressService.getAddressesLoading()}loadAddresses(){this.userAddressService.loadAddresses()}addUserAddress(r){this.userAddressService.addUserAddress(r)}updateUserAddress(r,l){this.userAddressService.updateUserAddress(r,l)}setAddressAsDefault(r){this.userAddressService.setAddressAsDefault(r)}deleteUserAddress(r){this.userAddressService.deleteUserAddress(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.kFJ))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Go={mr:1,mrs:2,miss:3,ms:4,dr:5,rev:6};function pl(a,g){return a.code&&g.code&&Go[a.code]&&Go[g.code]?Go[a.code]-Go[g.code]:1}let Pg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),hl=(()=>{class a{constructor(r,l){this.config=r,this.keyboardFocusService=l,this.skipLinks$=new N.X([])}getSkipLinks(){return this.skipLinks$}add(r,l){const v=this.config.skipLinks?.find(T=>T.key===r);if(v){const T=this.skipLinks$.value;T.splice(this.getSkipLinkIndexInArray(r),0,{target:l,i18nKey:v.i18nKey,position:v.position,key:r}),this.skipLinks$.next(T)}}remove(r){if(this.config.skipLinks?.find(v=>v.key===r)){let v=this.skipLinks$.value;v=v.filter(T=>T.key!==r),this.skipLinks$.next(v)}}scrollToTarget(r){const l=r.target instanceof HTMLElement?r.target:r.target?.parentElement,v=this.keyboardFocusService.findFirstFocusable(l)||l,T=v?.hasAttribute("tabindex");T||v?.setAttribute("tabindex","-1"),v?.focus(),T||v?.removeAttribute("tabindex")}getSkipLinkIndexInArray(r){let l=this.config.skipLinks?.findIndex(v=>v.key===r)??0;for(;l>0;){l--;const v=this.config.skipLinks?.[l];if(v){const W=this.skipLinks$.value.findIndex(Be=>Be.key===v.key);if(W>-1)return W+1}}return 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Pg),e.LFG(Ju))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Nd=(()=>{class a{constructor(r){this.skipLinkService=r,this.skipLinks$=this.skipLinkService.getSkipLinks()}scrollToTarget(r){this.skipLinkService.scrollToTarget(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(hl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-skip-link"]],decls:2,vars:3,consts:[[3,"cxFocus",4,"ngIf"],[3,"cxFocus"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,l){1&r&&(e.YNc(0,xo,2,3,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.skipLinks$))},dependencies:[u.sg,u.O5,Ro,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})();const gl={skipLinks:[{key:"cx-header",i18nKey:"skipLink.labels.header"},{key:"cx-main",i18nKey:"skipLink.labels.main"},{key:"cx-footer",i18nKey:"skipLink.labels.footer"}]};let _p=(()=>{class a{constructor(r,l){this.elementRef=r,this.skipLinkService=l}ngOnInit(){this.skipLinkService.add(this.cxSkipLink,this.elementRef.nativeElement)}ngOnDestroy(){this.skipLinkService.remove(this.cxSkipLink)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(e.SBq),e.Y36(hl))},a.\u0275dir=e.lG2({type:a,selectors:[["","cxSkipLink",""]],inputs:{cxSkipLink:"cxSkipLink"}}),a})(),ou=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(gl),{provide:e.ip1,useFactory:Lg,deps:[e._Vd,qa],multi:!0}],imports:[u.ez,h.LUR,h.pEA.withConfig(gl),Jo]}),a})();function Lg(a,g){return()=>{const l=a.resolveComponentFactory(Nd);g.add("cx-storefront",l,Wr.BEFORE)}}const dc={breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:{min:1200}}},ml={direction:{detect:!0,default:fo.LTR,rtlLanguages:["he","ar"]}};let iu=(()=>{class a{constructor(r,l,v){this.configInit=r,this.languageService=l,this.winRef=v,this.startsDetecting=!1,this.subscription=new P.w}initialize(){return this.configInit.getStable("direction").pipe((0,Ie.b)(r=>{this.config=r?.direction,this.config?.detect?this.detect():this.setDirection(this.winRef.document.documentElement,this.config?.default)})).toPromise()}detect(){this.startsDetecting||(this.subscription.add(this.languageService.getActive().subscribe(r=>this.setDirection(this.winRef.document.documentElement,this.getDirection(r)))),this.startsDetecting=!0)}setDirection(r,l){l?r.setAttribute("dir",l):r.removeAttribute("dir")}getDirection(r){return r&&this.config?.rtlLanguages?.includes(r)?fo.RTL:r&&this.config?.ltrLanguages?.includes(r)?fo.LTR:this.config?.default}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.yUt),e.LFG(h.TSl),e.LFG(h.X9E))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ud(a,g){return()=>{if(g.isLevel("2.1"))return a.initialize()}}let Fg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.ip1,multi:!0,useFactory:Ud,deps:[iu,h.Ru9]},(0,h.i51)(ml)]}),a})(),su=(()=>{class a{constructor(r){this.isExpanded=new N.X(!1),r.events.pipe((0,ze.h)(l=>l instanceof Ft.OD)).subscribe(()=>{this.toggle(!0)})}toggle(r){this.isExpanded.next(!r&&!this.isExpanded.value)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ft.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ng=(()=>{class a{constructor(r){this.hamburgerMenuService=r}toggle(){this.hamburgerMenuService.toggle()}get isExpanded(){return this.hamburgerMenuService.isExpanded}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(su))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-hamburger-menu"]],decls:6,vars:10,consts:[["type","button","aria-controls","header-account-container, header-categories-container, header-locale-container",1,"cx-hamburger",3,"click"],[1,"hamburger-box"],[1,"hamburger-inner"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.toggle()}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"cxTranslate"),e.TgZ(4,"span",1),e._UZ(5,"span",2),e.qZA()()),2&r&&(e.ekj("is-active",e.lcZ(1,4,l.isExpanded)),e.uIk("aria-expanded",e.lcZ(2,6,l.isExpanded))("aria-label",e.lcZ(3,8,"common.menu")))},dependencies:[u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Cp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{HamburgerMenuComponent:{component:Ng}}})],imports:[u.ez,h.LUR]}),a})(),yp=(()=>{class a{constructor(r,l){this.config=r,this.rendererFactory=l}init(r){this.renderer=this.rendererFactory.createRenderer(null,null),this.rootComponent=r,this.setTheme(this.config.context?.[h.F3r]?.[0])}setTheme(r){if(r){const l=this.rootComponent.location.nativeElement;this.renderer.removeClass(l,this.existingTheme),this.renderer.addClass(l,r),this.existingTheme=r}}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.zQk),e.LFG(e.FYo))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Sp(a){return r=>a.init(r)}let Ov=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:e.tb,multi:!0,useFactory:Sp,deps:[yp]}]}),a})(),Ep=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(dc)],imports:[qu,ad.forRoot(),Fg,Ov,qu]}),a})();var Bd=(()=>((Bd||(Bd={})).STOREFRONT="cx-storefront",Bd))();let Dp=(()=>{class a{constructor(r,l,v,T){this.hamburgerMenuService=r,this.routingService=l,this.elementRef=v,this.keyboardFocusService=T,this.isExpanded$=this.hamburgerMenuService.isExpanded,this.StorefrontOutlets=Bd,this.role="presentation",this.tabindex="0",this.keyboardFocusConfig={focusOnEscape:!0,focusOnDoubleEscape:!0}}handleEscape(r){this.keyboardFocusService.handleEscape(this.elementRef.nativeElement,this.keyboardFocusConfig,r)}ngOnInit(){this.navigateSubscription=this.routingService.isNavigating().subscribe(r=>{this.startNavigating=!0===r,this.stopNavigating=!1===r})}collapseMenuIfClickOutside(r){const l=r.target;"header"===l.nodeName.toLowerCase()&&l.className.includes("is-expanded")&&this.collapseMenu()}collapseMenu(){this.hamburgerMenuService.toggle(!0)}ngOnDestroy(){this.navigateSubscription&&this.navigateSubscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(su),e.Y36(h.Znh),e.Y36(e.SBq),e.Y36(Ju))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-storefront"]],viewQuery:function(r,l){if(1&r&&e.Gf(Nd,5),2&r){let v;e.iGM(v=e.CRH())&&(l.child=v.first)}},hostVars:6,hostBindings:function(r,l){1&r&&e.NdJ("keydown.escape",function(T){return l.handleEscape(T)}),2&r&&(e.Ikx("tabindex",l.tabindex),e.uIk("role",l.role),e.ekj("start-navigating",l.startNavigating)("stop-navigating",l.stopNavigating))},decls:1,vars:1,consts:[["cxPageTemplateStyle","",3,"cxOutlet"],["cxOutlet","cx-header"],["cxSkipLink","cx-main",3,"cxFocus"],["cxOutlet","cx-footer"],["cxSkipLink","cx-header",3,"cxFocus","keydown.escape","click"],["section","header"],["section","navigation"],["position","BottomHeaderSlot"],["aria-atomic","true","aria-live","assertive"],["cxSkipLink","cx-footer",3,"cxFocus"],["section","footer"]],template:function(r,l){1&r&&e.YNc(0,sa,4,2,"ng-template",0),2&r&&e.Q6J("cxOutlet",l.StorefrontOutlets.STOREFRONT)},dependencies:[Ft.lC,bd,Bo,Qo,Xu,ud,Ro,_p,u.Ov],encapsulation:2}),a})(),vl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz,dl,li,qu,Es,Jc,Jo,ou]}),a})(),Ap=(()=>{class a{constructor(r,l,v,T,W,Be){this.fb=r,this.userService=l,this.userAddressService=v,this.globalMessageService=T,this.translation=W,this.launchDialogService=Be,this.selectedCountry$=new N.X(""),this.setAsDefaultField=!0,this.showCancelBtn=!0,this.submitAddress=new e.vpe,this.backToAddress=new e.vpe,this.subscription=new P.w,this.addressForm=this.fb.group({country:this.fb.group({isocode:[null,Ot.kI.required]}),titleCode:[""],firstName:["",Ot.kI.required],lastName:["",Ot.kI.required],line1:["",Ot.kI.required],line2:[""],town:["",Ot.kI.required],region:this.fb.group({isocode:[null,Ot.kI.required]}),postalCode:["",Ot.kI.required],phone:"",defaultAddress:[!1]})}ngOnInit(){this.countries$=this.userAddressService.getDeliveryCountries().pipe((0,Ie.b)(r=>{0===Object.keys(r).length&&this.userAddressService.loadDeliveryCountries()})),this.titles$=this.getTitles(),this.regions$=this.selectedCountry$.pipe((0,oe.w)(r=>this.userAddressService.getRegions(r)),(0,Ie.b)(r=>{const l=this.addressForm.get("region.isocode");r&&r.length>0?l?.enable():l?.disable()})),this.addressData&&0!==Object.keys(this.addressData).length&&(this.addressForm.patchValue(this.addressData),this.countrySelected(this.addressData.country),this.addressData.region&&this.regionSelected(this.addressData.region)),this.addresses$=this.userAddressService.getAddresses()}getTitles(){return(0,D.aj)([this.translation.translate("addressForm.defaultTitle"),this.userService.getTitles()]).pipe((0,he.U)(([r,l])=>{const v={code:"",name:r};return l.sort(pl),[v,...l]}))}handleAddressVerificationResults(r){"ACCEPT"===r.decision?this.submitAddress.emit(this.addressForm.value):"REJECT"===r.decision?r.errors?.errors.some(l=>"titleCode"===l.subject)?this.globalMessageService.add({key:"addressForm.titleRequired"},h.xUg.MSG_TYPE_ERROR):this.globalMessageService.add({key:"addressForm.invalidAddress"},h.xUg.MSG_TYPE_ERROR):"REVIEW"===r.decision&&this.openSuggestedAddress(r)}countrySelected(r){this.addressForm.get("country")?.get("isocode")?.setValue(r?.isocode),this.selectedCountry$.next(r?.isocode??"")}regionSelected(r){this.addressForm.get("region")?.get("isocode")?.setValue(r.isocode)}toggleDefaultAddress(){this.addressForm.controls.defaultAddress.setValue(this.addressForm.value.defaultAddress)}back(){this.backToAddress.emit()}verifyAddress(){this.addressForm.valid?(this.addressForm.get("region")?.value.isocode&&this.regions$.pipe((0,pe.q)(1)).subscribe(r=>{const l=r.find(v=>v.isocode===this.addressForm.controls.region.value.isocode);Object.assign(this.addressForm.value.region,{isocodeShort:l?.isocodeShort})}),this.addressForm.dirty?this.subscription.add(this.userAddressService.verifyAddress(this.addressForm.value).subscribe(r=>{this.handleAddressVerificationResults(r)})):this.submitAddress.emit(void 0)):this.addressForm.markAllAsTouched()}openSuggestedAddress(r){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",this.element,{enteredAddress:this.addressForm.value,suggestedAddresses:r.suggestedAddresses}),this.subscription.add(this.launchDialogService.dialogClose.pipe((0,ze.h)(l=>Boolean(l))).subscribe(l=>{if("object"==typeof l){const v={...l,titleCode:this.addressForm.value.titleCode,phone:this.addressForm.value.phone,selected:!0};this.submitAddress.emit(v)}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ot.QS),e.Y36(h.KDu),e.Y36(h.kFJ),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(Vi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-address-form"]],viewQuery:function(r,l){if(1&r&&e.Gf(Tc,5),2&r){let v;e.iGM(v=e.CRH())&&(l.element=v.first)}},inputs:{addressData:"addressData",actionBtnLabel:"actionBtnLabel",cancelBtnLabel:"cancelBtnLabel",setAsDefaultField:"setAsDefaultField",showTitleCode:"showTitleCode",showCancelBtn:"showCancelBtn"},outputs:{submitAddress:"submitAddress",backToAddress:"backToAddress"},decls:74,vars:62,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","col-xl-10"],["formGroupName","country",1,"form-group"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"label-content","required"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],[1,"cx-address-form-btns"],["class","col-md-13 col-lg-6",4,"ngIf"],[1,"col-md-13","col-lg-6"],["type","submit",1,"btn","btn-block","btn-primary"],["submit",""],["id","country-select","formControlName","isocode","bindLabel","name","bindValue","isocode",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y","change"],["id","title-select","formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox","formControlName","defaultAddress",1,"form-check-input",3,"change"],[1,"form-check-label"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(r,l){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return l.verifyAddress()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,Xi,2,1,"ng-container",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,yi,3,3,"div",5),e.TgZ(7,"div",6)(8,"label")(9,"span",7),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",8),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",9),e.qZA()(),e.TgZ(15,"div",6)(16,"label")(17,"span",7),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",10),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label")(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA(),e._UZ(28,"input",11),e.ALo(29,"cxTranslate"),e._UZ(30,"cx-form-errors",9),e.qZA()(),e.TgZ(31,"div",6)(32,"label")(33,"span",12),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA(),e._UZ(36,"input",13),e.ALo(37,"cxTranslate"),e.qZA()(),e.TgZ(38,"div",1)(39,"div",14)(40,"label")(41,"span",7),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA(),e._UZ(44,"input",15),e.ALo(45,"cxTranslate"),e._UZ(46,"cx-form-errors",9),e.qZA()(),e.TgZ(47,"div",14)(48,"label")(49,"span",7),e._uU(50),e.ALo(51,"cxTranslate"),e.qZA(),e._UZ(52,"input",16),e.ALo(53,"cxTranslate"),e._UZ(54,"cx-form-errors",9),e.qZA()(),e.YNc(55,_o,2,1,"ng-container",17),e.ALo(56,"async"),e.qZA(),e.TgZ(57,"div",6)(58,"label")(59,"span",12),e._uU(60),e.ALo(61,"cxTranslate"),e.qZA(),e._UZ(62,"input",18),e.ALo(63,"cxTranslate"),e.qZA()(),e.YNc(64,Si,7,3,"div",5),e.ALo(65,"async"),e.TgZ(66,"div",19)(67,"div",1),e.YNc(68,dr,4,3,"div",20),e.TgZ(69,"div",21)(70,"button",22,23),e._uU(72),e.ALo(73,"cxTranslate"),e.qZA()()()()()()()),2&r){let v;e.Q6J("formGroup",l.addressForm),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,26,l.countries$)),e.xp6(2),e.Q6J("ngIf",l.showTitleCode),e.xp6(4),e.Oqu(e.lcZ(11,28,"addressForm.firstName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,30,"addressForm.firstName.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("firstName")),e.xp6(4),e.Oqu(e.lcZ(19,32,"addressForm.lastName.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,34,"addressForm.lastName.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("lastName")),e.xp6(4),e.Oqu(e.lcZ(27,36,"addressForm.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(29,38,"addressForm.streetAddress")),e.xp6(2),e.Q6J("control",l.addressForm.get("line1")),e.xp6(4),e.Oqu(e.lcZ(35,40,"addressForm.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,42,"addressForm.aptSuite")),e.xp6(6),e.Oqu(e.lcZ(43,44,"addressForm.city.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(45,46,"addressForm.city.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("town")),e.xp6(4),e.Oqu(e.lcZ(51,48,"addressForm.zipCode.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(53,50,"addressForm.zipCode.placeholder")),e.xp6(2),e.Q6J("control",l.addressForm.get("postalCode")),e.xp6(1),e.Q6J("ngIf",e.lcZ(56,52,l.regions$)),e.xp6(5),e.Oqu(e.lcZ(61,54,"addressForm.phoneNumber.label")),e.xp6(2),e.s9C("placeholder",e.lcZ(63,56,"addressForm.phoneNumber.placeholder")),e.xp6(2),e.Q6J("ngIf",(null==(v=e.lcZ(65,58,l.addresses$))?null:v.length)&&l.setAsDefaultField),e.xp6(4),e.Q6J("ngIf",l.showCancelBtn),e.xp6(4),e.hij(" ",l.actionBtnLabel||e.lcZ(73,60,"common.continue")," ")}},dependencies:[pi,u.O5,Ot._Y,Ot.Fj,Ot.Wl,Ot.JJ,Ot.JL,Ot.Q7,Ot.sg,Ot.u,Ot.x0,bt.w9,sl,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Gd=(()=>{class a{constructor(r,l,v){this.service=r,this.translation=l,this.globalMessageService=v,this.showAddAddressForm=!1,this.showEditAddressForm=!1}ngOnInit(){this.addresses$=this.service.getAddresses(),this.addressesStateLoading$=this.service.getAddressesStateLoading(),this.service.loadAddresses()}addAddressButtonHandle(){this.showEditAddressForm=!1,this.showAddAddressForm=!0}editAddressButtonHandle(r){this.showAddAddressForm=!1,this.showEditAddressForm=!0,this.currentAddress=r}addAddressSubmit(r){this.showAddAddressForm=!1,this.service.addUserAddress(r)}addAddressCancel(){this.showAddAddressForm=!1}editAddressSubmit(r){this.showEditAddressForm=!1,r&&this.currentAddress.id&&this.service.updateUserAddress(this.currentAddress.id,r)}editAddressCancel(){this.showEditAddressForm=!1}getCardContent(r){return(0,D.aj)([this.translation.translate("addressCard.default"),this.translation.translate("addressCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("common.edit"),this.translation.translate("addressBook.areYouSureToDeleteAddress")]).pipe((0,he.U)(([l,v,T,W,Be])=>{let yt="";r.region&&r.region.isocode&&(yt=r.region.isocode+", ");const jt=[];return r.defaultAddress||jt.push({name:v,event:"default"}),jt.push({name:W,event:"edit"}),jt.push({name:T,event:"delete"}),{role:"region",textBold:r.firstName+" "+r.lastName,text:[r.line1,r.line2,r.town+", "+yt+r.country?.isocode,r.postalCode,r.phone],actions:jt,header:r.defaultAddress?`\u2713 ${l}`:"",deleteMsg:Be,label:r.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}))}setAddressAsDefault(r){this.service.setAddressAsDefault(r.id??""),this.globalMessageService.add({key:"addressMessages.setAsDefaultSuccessfully",params:{streetAddress:r.line1}},h.xUg.MSG_TYPE_CONFIRMATION)}deleteAddress(r){this.service.deleteUserAddress(r)}setEdit(r){this.editCard!==r?this.editCard=r:this.deleteAddress(r)}cancelCard(){this.editCard=null}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(fl),e.Y36(h.D7D),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-address-book"]],decls:8,vars:7,consts:[[1,"cx-section"],[4,"ngIf"],["loading",""],[1,"row"],[1,"col-md-6"],[1,"btn","btn-block","btn-action",3,"click"],["class","row cx-address-deck",4,"ngIf","ngIfElse"],[1,"row","cx-address-deck"],["role","status"],["class","col-md-6 cx-address-card",4,"ngFor","ngForOf"],[1,"col-md-6","cx-address-card"],[3,"index","border","fitToContainer","content","editMode","editCard","setDefaultCard","deleteCard","cancelCard"],[1,"cx-section-msg"],[1,"cx-form",3,"showTitleCode","showCancelBtn","actionBtnLabel","cancelBtnLabel","setAsDefaultField","submitAddress","backToAddress","cancelCard"],[3,"showTitleCode","actionBtnLabel","cancelBtnLabel","addressData","submitAddress","backToAddress"],[1,"col-md-12","cx-address-spinner"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,Yo,8,7,"ng-container",1),e.ALo(2,"async"),e.YNc(3,ui,10,16,"ng-container",1),e.ALo(4,"async"),e.YNc(5,xr,8,11,"ng-container",1),e.qZA(),e.YNc(6,Co,2,0,"ng-template",null,2,e.W1O)),2&r){let v,T;e.xp6(1),e.Q6J("ngIf",(null==(v=e.lcZ(2,3,l.addresses$))?null:v.length)&&!(l.showAddAddressForm||l.showEditAddressForm)),e.xp6(2),e.Q6J("ngIf",(!(null!=(T=e.lcZ(4,5,l.addresses$))&&T.length)||l.showAddAddressForm)&&!l.showEditAddressForm),e.xp6(2),e.Q6J("ngIf",l.showEditAddressForm)}},dependencies:[u.sg,u.O5,sc,Ap,io,u.Ov,h.X$D],encapsulation:2}),a})(),kg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),Pv=(()=>{class a{download(r,l){const v=document.createElement("a");v.setAttribute("href",r),v.setAttribute("download",`${l}`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Lv=(()=>{class a{constructor(r){this.fileDownloadService=r}convert(r,l){return r.reduce((v,T)=>`${v}${T.reduce((Be,yt)=>`${Be+=""!==Be?l:""}${yt.includes(l)?`"${yt}"`:yt}`,"")}\r\n`,"")}download(r,l,v){const{fileName:T,type:W,extension:Be}=v,yt=this.convert(r,l),jt=new Blob([yt],{type:W}),On=URL.createObjectURL(jt);this.fileDownloadService.download(On,`${T}.${Be}`)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Pv))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ug=(()=>{class a{loadTextFile(r){return new M.y(l=>{const v=new FileReader;v.readAsText(r),v.onload=()=>{l.next(v.result),l.complete()},v.onerror=T=>{v.abort(),l.error(T)}})}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Bg=(()=>{class a{constructor(r){this.fileReaderService=r}loadFile(r,l){return this.fileReaderService.loadTextFile(r).pipe((0,he.U)(v=>this.parse(v,l)))}validateFile(r,{separator:l,isDataParsable:v,maxEntries:T}){const W={};return this.fileReaderService.loadTextFile(r).pipe((0,Ie.b)(Be=>{this.validateEmpty(Be,W)}),(0,he.U)(Be=>this.parse(Be,l)),(0,Ie.b)(Be=>{this.validateNotParsable(Be,W,v),this.validateTooManyEntries(Be,W,T)}),(0,Qt.K)(Be=>(0,k.of)(Be)),(0,he.U)(()=>0===Object.keys(W).length?null:W))}parse(r,l,v=!0){return r.split("\n").map(T=>T.split(l).map(W=>W.replace(/"/g,""))).filter((T,W)=>!(v&&0===W)&&""!==T[0])}validateEmpty(r,l){if(0===r.toString().length)throw l.empty=!0,l}validateTooManyEntries(r,l,v){if(v&&r.length>v)throw l.tooManyEntries={maxEntries:v},l}validateNotParsable(r,l,v){if(v&&!v(r))throw l.notParsable=!0,l}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Ug))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Fv=(()=>{class a{maxSize(r){return l=>{const v={};return r&&Array.from(l.value).forEach(W=>{W.size>1e6*r&&(v.tooLarge={maxSize:r,invalidFiles:[...v.tooLarge?.invalidFiles??[],W.name]})}),0===Object.keys(v).length?null:v}}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class Gg{static emailValidator(g){const r=g.value;return!r||r.length&&!r.match(h.QIJ)?{cxInvalidEmail:!0}:null}static passwordValidator(g){const r=g.value;return!r||r.length&&!r.match(h.mS3)?{cxInvalidPassword:!0}:null}static starRatingEmpty(g){const r=g.value;return r>=1&&r<=5?null:{cxStarRatingEmpty:!0}}static passwordsMustMatch(g,r){return v=>Tp(v,g,r,"cxPasswordsMustMatch")}static emailsMustMatch(g,r){return v=>Tp(v,g,r,"cxEmailsMustMatch")}static mustBePositive(g){return g.value>=0?null:{cxNegativeAmount:!0}}static noSpecialCharacters(g){const l=String(g.value);return["/"].some(T=>l.includes(T))?{cxContainsSpecialCharacters:!0}:null}static patternValidation(g){return l=>{const v={};return l.value&&""!==l.value&&!g(l.value)&&(v.pattern=!0),0===Object.keys(v).length?null:v}}static dateRange(g,r,l){return T=>{const W=T.controls[g],Be=T.controls[r],yt=l(W.value),jt=l(Be.value);return!yt||!jt||(W.errors?.pattern||yt>jt&&W.setErrors({max:!0}),Be.errors?.pattern||jt<yt&&Be.setErrors({min:!0})),null}}}function Tp(a,g,r,l){const T=a.controls[r];T.errors&&!T.errors[l]||T.setErrors(a.controls[g].value!==T.value?{[l]:!0}:null)}let Nv=(()=>{class a{constructor(r,l){this.launchDialogService=r,this.el=l,this.iconTypes=fr,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0},this.data$=this.launchDialogService.data$}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.closeModal("Cross click")}ngOnInit(){this.data$.pipe((0,pe.q)(1)).subscribe(r=>this.setSelectedAddress(r))}closeModal(r){this.launchDialogService.closeDialog(r)}setSelectedAddress(r){this.selectedAddress=r.suggestedAddresses?.length?r.suggestedAddresses[0]:r.enteredAddress,console.log(this.selectedAddress)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Vi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-suggested-addresses-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)})},decls:3,vars:4,consts:[[1,"cx-suggested-addresses-dialog",3,"cxFocus","esc"],["class","cx-suggested-addresses-container",4,"ngIf"],[1,"cx-suggested-addresses-container"],[1,"cx-suggested-addresses-header","cx-modal-header"],[1,"cx-suggested-addresses-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],["ngForm","",1,"cx-suggested-addresses-body"],[1,"cx-dialog-info"],[1,"cx-dialog-options"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","name","selectedAddress","id","suggested-addresses--entered",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","suggested-addresses--entered",1,"form-check-label","cx-dialog-label"],[1,"cx-dialog-entered"],[1,"cx-card-container"],[1,"cx-card-label"],[1,"cx-suggested-addresses-footer","cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-12","col-lg-6","offset-lg-6"],[1,"btn","btn-secondary","cx-dialog-buttons",3,"click"],["cxAutoFocus","",1,"btn","btn-primary","cx-dialog-buttons",3,"click"],["type","radio","name","selectedAddress",1,"form-check-input",3,"ngModel","value","id","ngModelChange"],[1,"form-check-label","cx-dialog-label",3,"for"],[1,"cx-dialog-suggested"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.closeModal("Escape clicked")}),e.YNc(1,Ll,44,32,"div",1),e.ALo(2,"async"),e.qZA()),2&r&&(e.Q6J("cxFocus",l.focusConfig),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,l.data$)))},dependencies:[u.sg,u.O5,Ot.Fj,Ot._,Ot.JJ,Ot.JL,Ot.On,Ot.F,vr,Ro,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),bp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[ul,u.ez,Ot.UX,Ot.u5,Ft.Bz,bt.A0,Jr,h.LUR,fi,Jo]}),a})();const Ws={launch:{SUGGESTED_ADDRESSES:{inlineRoot:!0,component:Nv,dialogType:Oo.DIALOG}}};let au=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountAddressBookComponent:{component:Gd,guards:[h.a1M]}}}),(0,h.i51)(Ws),h.kFJ],imports:[u.ez,Ts,bp,di,h.LUR]}),a})(),Hd=(()=>{class a{constructor(r,l){this.routingService=r,this.translation=l,this.RELEVANCE=":relevance",this.CUSTOMER_COUPON_CODE=":customerCouponCode:"}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:this.buildSearchParam(r)}},{queryParams:{couponcode:r.couponId}})}buildSearchParam(r){return r.allProductsApplicable?this.RELEVANCE:this.RELEVANCE+this.CUSTOMER_COUPON_CODE+r.couponId}getSortLabels(){return(0,D.aj)([this.translation.translate("myCoupons.startDateAsc"),this.translation.translate("myCoupons.startDateDesc"),this.translation.translate("myCoupons.endDateAsc"),this.translation.translate("myCoupons.endDateDesc")]).pipe((0,he.U)(([r,l,v,T])=>({byStartDateAsc:r,byStartDateDesc:l,byEndDateAsc:v,byEndDateDesc:T})))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(h.D7D))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Mp=(()=>{class a{constructor(r,l,v){this.myCouponsComponentService=r,this.launchDialogService=l,this.vcr=v,this.notificationChanged=new e.vpe}onSubscriptionChange(){this.notificationChanged.emit({couponId:this.coupon.couponId??"",notification:!this.coupon.notificationOn})}readMore(){const r=this.launchDialogService.openDialog("COUPON",this.element,this.vcr,{coupon:this.coupon});r&&r.pipe((0,pe.q)(1)).subscribe()}findProducts(){this.myCouponsComponentService.launchSearchPage(this.coupon)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hd),e.Y36(Vi),e.Y36(e.s_b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-card"]],viewQuery:function(r,l){if(1&r&&e.Gf(Pu,5),2&r){let v;e.iGM(v=e.CRH())&&(l.element=v.first)}},inputs:{coupon:"coupon",couponSubscriptionLoading$:"couponSubscriptionLoading$"},outputs:{notificationChanged:"notificationChanged"},decls:40,vars:38,consts:[[1,"card"],[1,"card-body","cx-card-body"],[1,"cx-coupon-data"],[1,"cx-coupon-card-row","top"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-card-date"],[1,"cx-coupon-date"],[1,"cx-coupon-date-start"],[1,"cx-coupon-date-end"],[1,"cx-card-read-more",3,"click"],[1,"cx-coupon-card-row","bottom"],[1,"cx-coupon-notification","form-check"],["type","checkbox",1,"form-check-input",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-coupon-find-product","col-lg-6","col-md-12","col-sm-6"],[1,"btn","btn-block","btn-action",3,"click"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"div"),e.ALo(10,"lowercase"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA()(),e.TgZ(13,"div",6)(14,"p"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"div",7)(18,"div",8),e._uU(19),e.ALo(20,"cxDate"),e.qZA(),e.TgZ(21,"div",9),e._uU(22),e.ALo(23,"cxDate"),e.qZA()()(),e.TgZ(24,"a",10),e.NdJ("click",function(){return l.readMore()}),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e.TgZ(27,"div",11)(28,"div",12)(29,"label")(30,"input",13),e.NdJ("change",function(){return l.onSubscriptionChange()}),e.ALo(31,"async"),e.ALo(32,"async"),e.qZA(),e.TgZ(33,"span",14),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()(),e.TgZ(36,"div",15)(37,"button",16),e.NdJ("click",function(){return l.findProducts()}),e._uU(38),e.ALo(39,"cxTranslate"),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Oqu(null==l.coupon?null:l.coupon.couponId),e.xp6(2),e.hij(": ",null==l.coupon?null:l.coupon.name,""),e.xp6(1),e.Gre("cx-coupon-status ",e.lcZ(10,16,null==l.coupon?null:l.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(12,18,"myCoupons."+(null==l.coupon?null:l.coupon.status))," "),e.xp6(4),e.Oqu(e.lcZ(16,20,"myCoupons.effectiveTitle")),e.xp6(4),e.hij(" ",e.xi3(20,22,null==l.coupon?null:l.coupon.startDate,"medium")," -\xa0 "),e.xp6(3),e.hij(" ",e.xi3(23,25,null==l.coupon?null:l.coupon.endDate,"medium")," "),e.xp6(3),e.Oqu(e.lcZ(26,28,"myCoupons.readMore")),e.xp6(5),e.ekj("disabled",e.lcZ(31,30,l.couponSubscriptionLoading$)),e.Q6J("checked",null==l.coupon?null:l.coupon.notificationOn)("disabled",e.lcZ(32,32,l.couponSubscriptionLoading$)),e.xp6(4),e.hij(" ",e.lcZ(35,34,"myCoupons.notification")," "),e.xp6(4),e.hij(" ",e.lcZ(39,36,"myCoupons.findProducts")," "))},dependencies:[u.Ov,u.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),Vd=(()=>{class a{constructor(r,l){this.couponService=r,this.myCouponsComponentService=l,this.iconTypes=fr,this.subscriptions=new P.w,this.PAGE_SIZE=10,this.sortMapping={byStartDateAsc:"startDate:asc",byStartDateDesc:"startDate:desc",byEndDateAsc:"endDate:asc",byEndDateDesc:"endDate:desc"},this.sort="byStartDateAsc",this.sortOptions=[{code:"byStartDateAsc",selected:!1},{code:"byStartDateDesc",selected:!1},{code:"byEndDateAsc",selected:!1},{code:"byEndDateDesc",selected:!1}]}ngOnInit(){this.couponResult$=this.couponService.getCustomerCoupons(this.PAGE_SIZE).pipe((0,Ie.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:this.sort})),this.couponsLoading$=this.couponService.getCustomerCouponsLoading(),this.couponSubscriptionLoading$=(0,D.aj)([this.couponService.getSubscribeCustomerCouponResultLoading(),this.couponService.getUnsubscribeCustomerCouponResultLoading()]).pipe((0,he.U)(([r,l])=>r||l)),this.sortLabels=this.myCouponsComponentService.getSortLabels(),this.subscriptions.add(this.couponService.getSubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)})).add(this.couponService.getUnsubscribeCustomerCouponResultError().subscribe(r=>{this.subscriptionFail(r)}))}subscriptionFail(r){r&&this.couponService.loadCustomerCoupons(this.PAGE_SIZE)}sortChange(r){this.sort=r,this.couponService.loadCustomerCoupons(this.PAGE_SIZE,this.pagination.currentPage,this.sortMapping[r])}pageChange(r){this.couponService.loadCustomerCoupons(this.PAGE_SIZE,r,this.sortMapping[this.sort])}notificationChange({couponId:r,notification:l}){l?this.couponService.subscribeCustomerCoupon(r):this.couponService.unsubscribeCustomerCoupon(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.KZK),e.Y36(Hd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-my-coupons"]],decls:5,vars:4,consts:[[1,"cx-section"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[4,"ngIf"],["noCoupons",""],[1,"cx-my-coupons-header"],[1,"cx-my-coupons-sort","top","row"],[1,"cx-my-coupons-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination","cx-mycoupon-thead-mobile"],[3,"pagination","viewPageEvent"],["id","coupon-deck",1,"row","cx-coupon-deck"],["class","col-md-6 cx-coupon-card",4,"ngFor","ngForOf"],[1,"cx-my-coupons-sort","bottom","row"],[1,"cx-my-coupons-form-group","form-group","cx-mycoupon-thead-mobile","col-sm-12","col-md-4","col-lg-4"],["ariaControls","coupon-deck",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-my-coupons-pagination"],[1,"cx-my-coupons-notes"],[3,"type"],[3,"routerLink"],[1,"col-md-6","cx-coupon-card"],[3,"coupon","couponSubscriptionLoading$","notificationChanged"],[1,"cx-section-msg"],[1,"col-md-12","cx-coupon-spinner"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.YNc(1,Na,7,6,"ng-container",1),e.ALo(2,"async"),e.YNc(3,ua,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&r){const v=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,l.couponsLoading$))("ngIfElse",v)}},dependencies:[u.sg,u.O5,io,Ft.yS,vr,cl,ll,Mp,u.Ov,h.X$D],encapsulation:2}),a})(),xp=(()=>{class a{constructor(r,l){this.launchDialogService=r,this.el=l,this.subscription=new P.w,this.iconTypes=fr,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.coupon=r.coupon}))}ngOnDestroy(){this.subscription?.unsubscribe()}close(r){this.launchDialogService.closeDialog(r)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Vi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)})},decls:36,vars:33,consts:[[1,"cx-coupon-dialog",3,"cxFocus","esc"],[1,"cx-coupon-container"],[1,"cx-dialog-header","modal-header"],[1,"cx-dialog-title","modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"cx-dialog-item","col-sm-12","col-md-12"],[1,"cx-coupon-card-head"],[1,"card-label-bold","cx-coupon-card-id"],[1,"cx-coupon-description"],[1,"cx-coupon-dialog-date"],[1,"cx-coupon-date"],[1,"cx-coupon-dialog-status"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return l.close("Cross click")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._UZ(9,"cx-icon",6),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"span",11),e._uU(15),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",12),e._uU(19),e.qZA(),e.TgZ(20,"div",13)(21,"p"),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"div",14),e._uU(25),e.ALo(26,"cxDate"),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",15)(29,"p"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"div"),e.ALo(33,"lowercase"),e._uU(34),e.ALo(35,"cxTranslate"),e.qZA()()()()()()()),2&r&&(e.Q6J("cxFocus",l.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,15,"myCoupons.dialogTitle")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,17,"common.close")),e.xp6(3),e.Q6J("type",l.iconTypes.CLOSE),e.xp6(6),e.Oqu(null==l.coupon?null:l.coupon.couponId),e.xp6(2),e.hij(": ",null==l.coupon?null:l.coupon.name,""),e.xp6(2),e.Oqu(null==l.coupon?null:l.coupon.description),e.xp6(3),e.Oqu(e.lcZ(23,19,"myCoupons.effectiveTitle")),e.xp6(3),e.AsE(" ",e.xi3(26,21,null==l.coupon?null:l.coupon.startDate,"medium")," - ",e.xi3(27,24,null==l.coupon?null:l.coupon.endDate,"medium")," "),e.xp6(5),e.Oqu(e.lcZ(31,27,"myCoupons.status")),e.xp6(2),e.Gre("cx-coupon-status ",e.lcZ(33,29,null==l.coupon?null:l.coupon.status),""),e.xp6(2),e.hij(" ",e.lcZ(35,31,"myCoupons."+(null==l.coupon?null:l.coupon.status))," "))},dependencies:[vr,Ro,u.i8,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),jd=(()=>{class a{constructor(r,l,v){this.couponService=r,this.routingService=l,this.messageService=v}ngOnInit(){this.routingService.getRouterState().subscribe(r=>{const l=r.state.params.couponCode;l?(this.couponService.claimCustomerCoupon(l),this.subscription=this.couponService.getClaimCustomerCouponResultSuccess().subscribe(v=>{v&&this.messageService.add({key:"myCoupons.claimCustomerCoupon"},h.xUg.MSG_TYPE_CONFIRMATION),this.routingService.go({cxRoute:"coupons"})})):this.routingService.go({cxRoute:"notFound"})}).unsubscribe()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.KZK),e.Y36(h.Znh),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-coupon-claim"]],decls:0,vars:0,template:function(r,l){},encapsulation:2}),a})();const Hg={launch:{COUPON:{inline:!0,component:xp,dialogType:Oo.DIALOG}}};let Ks=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyCouponsComponent:{component:Vd,guards:[h.a1M]},CouponClaimComponent:{component:jd,guards:[h.a1M]}}}),(0,h.i51)(Hg)],imports:[u.ez,Ts,di,h.LUR,Ft.Bz,h.bhT,Jr,nu,Ft.Bz.forChild([{path:null,canActivate:[h.a1M,ji],component:Qo,data:{cxRoute:"couponClaim"}}]),Jo]}),a})(),$d=(()=>{class a{constructor(r,l,v){this.productInterestService=r,this.translationService=l,this.productService=v,this.DEFAULT_PAGE_SIZE=10,this.sortMapping={byNameAsc:"name:asc",byNameDesc:"name:desc"},this.sort="byNameAsc",this.sortOptions=[{code:"byNameAsc",selected:!1},{code:"byNameDesc",selected:!1}]}ngOnInit(){this.interests$=this.productInterestService.getAndLoadProductInterests(this.DEFAULT_PAGE_SIZE).pipe((0,Ie.b)(r=>this.pagination={currentPage:r.pagination?.page,pageSize:r.pagination?.count,totalPages:r.pagination?.totalPages,totalResults:r.pagination?.totalCount,sort:"byNameAsc"}),(0,he.U)(r=>({...r,results:r.results?r.results.map(l=>({...l,product$:this.getProduct(l)})):r.results}))),this.getInterestsloading$=this.productInterestService.getProdutInterestsLoading(),this.isRemoveDisabled$=(0,D.aj)([this.getInterestsloading$,this.productInterestService.getRemoveProdutInterestLoading()]).pipe((0,he.U)(([r,l])=>r||l)),this.sortLabels=this.getSortLabels()}getSortLabels(){return(0,D.aj)([this.translationService.translate("myInterests.sorting.byNameAsc"),this.translationService.translate("myInterests.sorting.byNameDesc")]).pipe((0,he.U)(([r,l])=>({byNameAsc:r,byNameDesc:l})))}getProduct(r){return this.productService.get(r.product?.code??"","details")}removeInterest(r){this.productInterestService.removeProdutInterest({product:r.product,productInterestEntry:r.productInterestEntry})}sortChange(r){this.sort=r,this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,0,this.sortMapping[r])}pageChange(r){this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE,r,this.sortMapping[this.sort])}ngOnDestroy(){this.productInterestService.clearProductInterests(),this.productInterestService.resetRemoveInterestState()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.GO$),e.Y36(h.D7D),e.Y36(h.M52))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-my-interests"]],decls:6,vars:3,consts:[["class","container",4,"ngIf"],["noInterest",""],["loading",""],[1,"container"],[1,"cx-product-interests-title","h3"],["class","cx-product-interests-body",4,"ngIf","ngIfElse"],[1,"cx-product-interests-body"],["role","status"],[4,"ngIf","ngIfElse"],[1,"cx-product-interests-sort","top","row"],[1,"cx-product-interests-form-group","form-group","col-sm-12","col-md-4","col-lg-4"],["ariaControls","product-interests-table",3,"sortOptions","sortLabels","selectedOption","placeholder","ariaLabel","sortListEvent"],[1,"cx-product-interests-pagination","cx-product-interests-thead-mobile"],[3,"pagination","viewPageEvent"],["id","product-interests-table",1,"table","cx-product-interests-table"],[1,"cx-product-interests-thead-mobile"],["scope","col"],["class","cx-product-interests-product-item",4,"ngFor","ngForOf"],[1,"cx-product-interests-sort","bottom","row"],[1,"cx-product-interests-form-group","cx-product-interests-thead-mobile","form-group","col-sm-12","col-md-4","col-lg-4"],[1,"cx-product-interests-pagination"],[1,"cx-product-interests-product-item"],[4,"ngIf"],[1,"cx-product-interests-label"],["tabindex","-1",1,"cx-product-interests-product-image-link",3,"routerLink"],["format","thumbnail",3,"container"],[1,"cx-info","col-10"],[1,"cx-info-container","row"],["class","cx-name",4,"ngIf"],["class","cx-code",4,"ngIf"],[4,"ngFor","ngForOf"],["class","cx-property",4,"ngIf"],[1,"cx-product-interests-product-price"],[1,"d-md-none","cx-product-interests-label"],[1,"cx-product-interests-subscriptions"],["class","cx-product-interests-notification",4,"ngFor","ngForOf"],[1,"cx-actions","cx-product-interests-remove-button"],["type","button",1,"link","cx-product-interests-remove-btn",3,"disabled","click"],[1,"cx-name"],[1,"cx-link","cx-product-interests-product-code-link",3,"routerLink"],[1,"cx-code"],["class","cx-property",4,"ngFor","ngForOf"],[1,"cx-property"],[1,"cx-label","cx-product-interests-variant-name"],[1,"cx-value","cx-product-interests-variant-value"],[1,"cx-label","cx-product-interests-product-stock"],[1,"cx-product-interests-notification"],[1,"cx-product-interests-type"],[1,"cx-product-interests-expiration-date"],[1,"cx-product-interests-message"],[1,"cx-spinner"]],template:function(r,l){1&r&&(e.YNc(0,Ga,7,7,"div",0),e.ALo(1,"async"),e.YNc(2,xf,3,3,"ng-template",null,1,e.W1O),e.YNc(4,Lu,2,0,"ng-template",null,2,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.interests$))},dependencies:[u.sg,u.O5,cl,ll,bs,io,Ft.yS,u.Ov,h.X$D,h.dgE,h.l2T],encapsulation:2,changeDetection:0}),a})(),wp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{MyInterestsComponent:{component:$d,guards:[h.a1M]}}})],imports:[u.ez,h.LUR,nu,h.LUR,h.bhT,Zi,di,Ft.Bz.forChild([{path:null,canActivate:[h.a1M,ji],component:Qo,data:{cxRoute:"myInterests"}}])]}),a})(),Vg=(()=>{class a{constructor(r){this.notificationPreferenceService=r,this.preferences=[]}ngOnInit(){this.notificationPreferenceService.resetNotificationPreferences(),this.preferences$=this.notificationPreferenceService.getPreferences().pipe((0,Ie.b)(r=>this.preferences=r)),this.notificationPreferenceService.loadPreferences(),this.isLoading$=(0,D.aj)([this.notificationPreferenceService.getPreferencesLoading(),this.notificationPreferenceService.getUpdatePreferencesResultLoading()]).pipe((0,he.U)(([r,l])=>r||l))}updatePreference(r){const l=[];this.preferences.forEach(v=>{l.push(v.channel===r.channel?{...v,enabled:!v.enabled}:v)}),this.notificationPreferenceService.updatePreferences(l)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.xd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-notification-preference"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"row","d-flex","justify-content-center"],[1,"col-md-8"],[1,"pref-header"],[1,"form-check","cx-notification-channels"],[4,"ngFor","ngForOf"],[1,"pref-note"],["class","pref-channel",4,"ngIf"],[1,"pref-channel"],["role","checkbox","type","checkbox",1,"form-check-input","cx-np-checkbox",3,"checked","disabled","change"],[1,"form-check-label"],[1,"cx-spinner"]],template:function(r,l){1&r&&(e.YNc(0,If,4,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.preferences$))},dependencies:[u.sg,u.O5,io,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Ip=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NotificationPreferenceComponent:{component:Vg,guards:[h.a1M]}}})],imports:[u.ez,di,h.LUR,Ft.Bz.forChild([{path:null,canActivate:[h.a1M,ji],component:Qo,data:{cxRoute:"notificationPreference"}}])]}),a})(),jg=(()=>{class a{constructor(r,l,v){this.userPaymentService=r,this.translation=l,this.globalMessageService=v,this.iconTypes=fr}ngOnInit(){this.paymentMethods$=this.userPaymentService.getPaymentMethods().pipe((0,Ie.b)(r=>{r.length>0&&!r.find(l=>l.defaultPayment)&&this.setDefaultPaymentMethod(r[0])})),this.editCard=void 0,this.loading$=this.userPaymentService.getPaymentMethodsLoading(),this.userPaymentService.loadPaymentMethods()}getCardContent({defaultPayment:r,accountHolderName:l,expiryMonth:v,expiryYear:T,cardNumber:W,cardType:Be}){return(0,D.aj)([this.translation.translate("paymentCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("paymentCard.deleteConfirmation"),this.translation.translate("paymentCard.expires",{month:v,year:T}),this.translation.translate("paymentCard.defaultPaymentMethod")]).pipe((0,he.U)(([yt,jt,On,qo,Eu])=>{const Du=[];return r||Du.push({name:yt,event:"default"}),Du.push({name:jt,event:"edit"}),{role:"region",header:r?Eu:void 0,textBold:l,text:[W??"",qo],actions:Du,deleteMsg:On,img:this.getCardIcon(Be?.code??""),label:r?"paymentCard.defaultPaymentLabel":"paymentCard.additionalPaymentLabel"}}))}deletePaymentMethod(r){r.id&&(this.userPaymentService.deletePaymentMethod(r.id),this.editCard=void 0)}setEdit(r){this.editCard=r.id}cancelCard(){this.editCard=void 0}setDefaultPaymentMethod(r){this.userPaymentService.setPaymentMethodAsDefault(r.id??""),this.globalMessageService?.add({key:"paymentMessages.setAsDefaultSuccessfully"},h.xUg.MSG_TYPE_CONFIRMATION)}getCardIcon(r){let l;return l="visa"===r?this.iconTypes.VISA:"master"===r||"mastercard_eurocard"===r?this.iconTypes.MASTER_CARD:"diners"===r?this.iconTypes.DINERS_CLUB:"amex"===r?this.iconTypes.AMEX:this.iconTypes.CREDIT_CARD,l}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.TWG),e.Y36(h.D7D),e.Y36(h.IWp))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-payment-methods"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-payment","container"],[1,"cx-header"],[1,"cx-body"],[1,"cx-msg"],[4,"ngIf","ngIfElse"],["cards",""],["role","status"],[1,"cx-existing","row"],["class","cx-payment-card col-sm-12 col-md-12 col-lg-6",4,"ngFor","ngForOf"],[1,"cx-payment-card","col-sm-12","col-md-12","col-lg-6"],[1,"cx-payment-inner"],[3,"index","border","fitToContainer","content","editMode","deleteCard","setDefaultCard","editCard","cancelCard"]],template:function(r,l){1&r&&(e.YNc(0,Ha,14,10,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.paymentMethods$))},dependencies:[u.sg,u.O5,sc,io,u.Ov,h.X$D],encapsulation:2}),a})(),$g=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{AccountPaymentDetailsComponent:{component:jg,guards:[h.a1M]}}})],imports:[u.ez,Ts,di,h.LUR]}),a})(),_l=(()=>{class a{constructor(r,l){this.component=r,this.pageMetaService=l}ngOnInit(){this.setTitle()}ngAfterViewInit(){this.lastestTitle$=this.title$}setTitle(){this.title$=this.pageMetaService.getMeta().pipe((0,ze.h)(h.jWE),(0,he.U)(r=>(r.heading||r.title)??""))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.deh))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-page-title"]],decls:3,vars:3,consts:[[1,"cx-visually-hidden"]],template:function(r,l){1&r&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"async"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,l.title$)))},dependencies:[u.Ov],encapsulation:2,changeDetection:0}),a})(),fc=(()=>{class a extends _l{constructor(r,l,v){super(r,l),this.component=r,this.pageMetaService=l,this.translation=v}ngOnInit(){super.ngOnInit(),this.setCrumbs()}setCrumbs(){this.crumbs$=(0,D.aj)([this.pageMetaService.getMeta(),this.translation.translate("common.home")]).pipe((0,he.U)(([r,l])=>r?.breadcrumbs?r.breadcrumbs:[{label:l,link:"/"}]))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.deh),e.Y36(h.D7D))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-breadcrumb"]],features:[e.qOj],decls:12,vars:15,consts:[["tabindex","-1"],[4,"ngFor","ngForOf"],["aria-live","polite","aria-atomic","true",1,"cx-visually-hidden"],[3,"routerLink","innerHTML"]],template:function(r,l){1&r&&(e.TgZ(0,"nav",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"ol"),e.ALo(3,"cxTranslate"),e.YNc(4,Ah,3,8,"li",1),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"span",2),e._uU(7),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"h1"),e._uU(10),e.ALo(11,"async"),e.qZA()),2&r&&(e.uIk("aria-label",e.lcZ(1,5,"common.breadcrumbs")),e.xp6(2),e.uIk("aria-label",e.lcZ(3,7,"common.breadcrumbs")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,9,l.crumbs$)),e.xp6(3),e.hij(" ",e.lcZ(8,11,l.lastestTitle$),"\n"),e.xp6(3),e.Oqu(e.lcZ(11,13,l.title$)))},dependencies:[u.sg,Ft.yS,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),zd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{BreadcrumbComponent:{component:fc}}})],imports:[u.ez,Ft.Bz,h.u3W,h.LUR]}),a})(),Js=(()=>{class a{constructor(r,l){this.cmsService=r,this.semanticPathService=l}createNavigation(r){return(0,D.aj)([r,this.getNavigationNode(r)]).pipe((0,he.U)(([l,v])=>({title:l.name,children:[v]})))}getNavigationNode(r){return r?r.pipe((0,ze.h)(l=>!!l),(0,oe.w)(l=>{const v=l.navigationNode?l.navigationNode:l;return this.cmsService.getNavigationEntryItems(v.uid??"").pipe((0,Ie.b)(T=>{if(void 0===T)this.loadNavigationEntryItems(v,!0);else{const W=[];this.loadNavigationEntryItems(v,!1,W);const Be=Object.keys(T).map(jt=>T[jt].uid??""),yt=W.filter(jt=>jt.id&&!Be.includes(jt.id));yt.length>0&&this.cmsService.loadNavigationItems(v.uid??"",yt)}}),(0,ze.h)(Boolean),(0,he.U)(T=>this.populateNavigationNode(v,T)??{}))})):(0,k.of)()}loadNavigationEntryItems(r,l,v=[]){r.entries&&r.entries.length>0&&r.entries.forEach(T=>{v.push({superType:T.itemSuperType,id:T.itemId})}),r.children&&r.children.length>0&&r.children.forEach(T=>this.loadNavigationEntryItems(T,!1,v)),l&&r.uid&&this.cmsService.loadNavigationItems(r.uid,v)}populateNavigationNode(r,l){const v={};if(r.title&&(v.title=r.title),r.styleClasses&&(v.styleClasses=r.styleClasses),r.styleAttributes&&(v.styleAttributes=r.styleAttributes),r.entries&&r.entries.length>0&&this.populateLink(v,r.entries[0],l),r.children?.length>0){const T=r.children.map(W=>this.populateNavigationNode(W,l)).filter(Boolean);T.length>0&&(v.children=T)}return 0===Object.keys(v).length?null:v}populateLink(r,l,v){const T=v[`${l.itemId}_${l.itemSuperType}`];if(T&&"CMSLinkComponent"===l.itemType){r.title||(r.title=T.linkName);const W=this.getLink(T);r.title&&W&&(r.url=W,("true"===T.target||!0===T.target)&&(r.target="_blank")),T.styleClasses&&(r.styleClasses=T.styleClasses),T.styleAttributes&&(r.styleAttributes=T.styleAttributes)}}getLink(r){return r.url?r.url:r.contentPageLabelOrId?r.contentPageLabelOrId:r.categoryCode?this.semanticPathService.transform({cxRoute:"category",params:{code:r.categoryCode,name:r.name}}):r.productCode?this.semanticPathService.transform({cxRoute:"product",params:{code:r.productCode,name:r.name}}):void 0}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ctt),e.LFG(h.hCH))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),pc=(()=>{class a{constructor(r,l,v,T,W){this.router=r,this.renderer=l,this.elemRef=v,this.hamburgerMenuService=T,this.winRef=W,this.iconType=fr,this.flyout=!0,this.isOpen=!1,this.openNodes=[],this.subscriptions=new P.w,this.resize=new e.vpe,this.subscriptions.add(this.router.events.pipe((0,ze.h)(Be=>Be instanceof Ft.m2)).subscribe(()=>this.clear())),this.subscriptions.add(this.resize.pipe((0,Wt.b)(50)).subscribe(()=>{this.alignWrappersToRightIfStickOut()}))}onResize(){this.resize.next()}ngOnInit(){this.resetMenuOnClose&&this.resetOnMenuCollapse()}resetOnMenuCollapse(){this.subscriptions.add(this.hamburgerMenuService?.isExpanded.pipe((0,be.x)(),(0,ze.h)(Boolean)).subscribe(()=>{this.reinitializeMenu()}))}closeIfClickedTheSameLink(r){"string"==typeof r.url&&this.winRef.nativeWindow?.location.href.includes(r.url)&&(this.elemRef.nativeElement.querySelectorAll("li.is-open:not(.back), li.is-opened").forEach(l=>{this.renderer.removeClass(l,"is-open"),this.renderer.removeClass(l,"is-opened")}),this.reinitializeMenu(),this.hamburgerMenuService.toggle())}reinitializeMenu(){this.openNodes?.length>0&&(this.clear(),this.renderer.removeClass(this.elemRef.nativeElement,"is-open"))}ariaCollapseNodes(){this.openNodes.forEach(r=>{Array.from(r.children).filter(l=>"BUTTON"===l?.tagName).forEach(l=>{this.renderer.setAttribute(l,"aria-expanded","false")})})}toggleOpen(r){"keydown"===r.type&&r.preventDefault(),this.ariaCollapseNodes();const l=r.currentTarget,v=l.parentNode;this.openNodes.includes(v)?"keydown"===r.type?this.back():(this.openNodes=this.openNodes.filter(T=>T!==v),this.renderer.removeClass(v,"is-open")):(this.openNodes.push(v),this.renderer.setAttribute(l,"aria-expanded","true")),this.updateClasses(),r.stopImmediatePropagation(),r.stopPropagation()}back(){this.openNodes[this.openNodes.length-1]&&(this.renderer.removeClass(this.openNodes[this.openNodes.length-1],"is-open"),this.openNodes.pop(),this.updateClasses())}clear(){this.openNodes=[],this.updateClasses()}onMouseEnter(r){this.alignWrapperToRightIfStickOut(r.currentTarget),this.focusAfterPreviousClicked(r)}getTotalDepth(r,l=0){return r.children&&r.children.length>0?Math.max(...r.children.map(v=>this.getTotalDepth(v,l+1))):l}getColumnCount(r){return Math.round(r/(this.wrapAfter||r))}focusAfterPreviousClicked(r){const l=r.target||r.relatedTarget;return l.ownerDocument.activeElement?.matches("nav[tabindex]")&&l.parentElement?.matches(".flyout")&&l.focus(),l.ownerDocument}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}alignWrapperToRightIfStickOut(r){const l=r.querySelector(".wrapper"),v=r.closest("body");l&&(this.renderer.removeStyle(l,"margin-left"),l.offsetLeft+l.offsetWidth>v.offsetLeft+v.offsetWidth&&this.renderer.setStyle(l,"margin-left",r.offsetWidth-l.offsetWidth+"px"))}alignWrappersToRightIfStickOut(){Array.from(this.elemRef.nativeElement.childNodes).filter(l=>"LI"===l.tagName).forEach(l=>this.alignWrapperToRightIfStickOut(l))}updateClasses(){this.openNodes.forEach((r,l)=>{l+1<this.openNodes.length?(this.renderer.addClass(r,"is-opened"),this.renderer.removeClass(r,"is-open")):(this.renderer.removeClass(r,"is-opened"),this.renderer.addClass(r,"is-open"))}),this.isOpen=this.openNodes.length>0}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ft.F0),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(su),e.Y36(h.X9E))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-navigation-ui"]],hostVars:4,hostBindings:function(r,l){1&r&&e.NdJ("resize",function(){return l.onResize()},!1,e.Jf7),2&r&&e.ekj("flyout",l.flyout)("is-open",l.isOpen)},inputs:{node:"node",wrapAfter:"wrapAfter",resetMenuOnClose:"resetMenuOnClose",navAriaLabel:"navAriaLabel",flyout:"flyout",isOpen:"isOpen"},decls:6,vars:3,consts:[["class","back is-open",4,"ngIf"],[4,"ngFor","ngForOf"],["nav",""],[1,"back","is-open"],[3,"click"],[3,"type"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"url","target","style","class","click",4,"ngIf","ngIfElse"],["heading",""],["class","wrapper",4,"ngIf"],[3,"url","target","click"],[4,"ngIf","ngIfElse"],["title",""],[3,"url","target","click",4,"ngIf"],[3,"click","mouseenter","keydown.space","keydown.esc"],[4,"ngIf"],[1,"wrapper"],[1,"childs"]],template:function(r,l){if(1&r&&(e.TgZ(0,"nav")(1,"ul"),e.YNc(2,eo,5,4,"li",0),e.YNc(3,Th,2,4,"ng-container",1),e.qZA()(),e.YNc(4,U,5,3,"ng-template",null,2,e.W1O)),2&r){let v;e.uIk("aria-label",l.navAriaLabel),e.xp6(2),e.Q6J("ngIf",l.flyout&&(null!==(v=null==l.node||null==l.node.children?null:l.node.children.length)&&void 0!==v?v:0)>1),e.xp6(1),e.Q6J("ngForOf",null==l.node?null:l.node.children)}},dependencies:[u.sg,u.O5,u.tP,vr,al,h.X$D],encapsulation:2,changeDetection:0}),a})(),cu=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.getNavigationNode(this.componentData.data$),this.data$=this.componentData.data$}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(Js))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-category-navigation"]],decls:2,vars:3,consts:[[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel",4,"ngIf"],[3,"node","ngClass","wrapAfter","resetMenuOnClose","navAriaLabel"]],template:function(r,l){1&r&&(e.YNc(0,q,3,9,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.data$))},dependencies:[u.mk,u.O5,pc,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Yd=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.createNavigation(this.componentData.data$),this.name$=this.componentData.data$.pipe((0,he.U)(v=>v?.navigationNode?.title)),this.styleClass$=this.componentData.data$.pipe((0,he.U)(v=>v?.styleClass))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(Js))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-navigation"]],decls:4,vars:9,consts:[[3,"node","ngClass","navAriaLabel"]],template:function(r,l){if(1&r&&(e._UZ(0,"cx-navigation-ui",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async")),2&r){let v;e.Q6J("node",e.lcZ(1,3,l.node$))("ngClass",null!==(v=e.lcZ(2,5,l.styleClass$))&&void 0!==v?v:"")("navAriaLabel",e.lcZ(3,7,l.name$))}},dependencies:[u.mk,pc,u.Ov],encapsulation:2,changeDetection:0}),a})(),Cl=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{NavigationComponent:{component:Yd}}})],imports:[u.ez,Ft.Bz,Jr,Aa,h.LUR]}),a})(),Zd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{CategoryNavigationComponent:{component:cu,data:{resetMenuOnClose:!0}}}})],imports:[u.ez,Cl,h.LUR]}),a})(),Wd=(()=>{class a{constructor(r,l){this.componentData=r,this.service=l,this.node$=this.service.getNavigationNode(this.componentData.data$),this.styleClass$=this.componentData.data$.pipe((0,he.U)(v=>v?.styleClass))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(Js))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-footer-navigation"]],decls:2,vars:3,consts:[[3,"node","flyout","ngClass","navAriaLabel",4,"ngIf"],[3,"node","flyout","ngClass","navAriaLabel"]],template:function(r,l){1&r&&(e.YNc(0,Ce,3,8,"cx-navigation-ui",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.node$))},dependencies:[u.mk,u.O5,pc,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),uu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{FooterNavigationComponent:{component:Wd}}})],imports:[u.ez,Ft.Bz,Cl,Aa,h.LUR]}),a})(),Op=(()=>{class a{transform(r,l){return l?r.replace(l.trim(),`<span class="highlight">${l.trim()}</span>`):r}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=e.Yjl({name:"cxHighlight",type:a,pure:!0}),a})(),XC=(()=>{class a extends h.W8x{}return a.type="SearchBoxSuggestionSelectedEvent",a})(),kv=(()=>{class a extends h.W8x{}return a.type="SearchBoxProductSelectedEvent",a})();const Kd="has-searchbox-results";let Uv=(()=>{class a{constructor(r,l,v,T,W){this.searchService=r,this.routingService=l,this.translationService=v,this.winRef=T,this.eventService=W}search(r,l){r&&""!==r?l.minCharactersBeforeRequest&&r.length<l.minCharactersBeforeRequest||(l.displayProducts&&this.searchService.search(r,{pageSize:l.maxProducts}),l.displaySuggestions&&this.searchService.searchSuggestions(r,{pageSize:l.maxSuggestions})):this.clearResults()}getResults(r){return(0,D.aj)([this.getProductResults(r),this.getProductSuggestions(r),this.getSearchMessage(r)]).pipe((0,he.U)(([l,v,T])=>({products:l?l.products:void 0,suggestions:v,message:T})),(0,Ie.b)(l=>this.toggleBodyClass(Kd,this.hasResults(l))))}clearResults(){this.searchService.clearResults(),this.toggleBodyClass(Kd,!1)}hasBodyClass(r){return this.winRef.document.body.classList.contains(r)}toggleBodyClass(r,l){void 0===l?this.winRef.document.body.classList.toggle(r):l?this.winRef.document.body.classList.add(r):this.winRef.document.body.classList.remove(r)}dispatchProductSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,productCode:r.productCode},kv)}dispatchSuggestionSelectedEvent(r){this.eventService.dispatch({freeText:r.freeText,selectedSuggestion:r.selectedSuggestion,searchSuggestions:r.searchSuggestions},XC)}hasResults(r){return!!r.products&&r.products.length>0||!!r.suggestions&&r.suggestions.length>0||!!r.message}getProductResults(r){return r.displayProducts?this.searchService.getResults():(0,k.of)({})}getProductSuggestions(r){return r.displaySuggestions?this.searchService.getSuggestionResults().pipe((0,he.U)(l=>l.map(v=>v.value).filter(h.pTN)),(0,oe.w)(l=>0===l.length?this.getExactSuggestion(r).pipe((0,he.U)(v=>v?[v]:[])):(0,k.of)(l))):(0,k.of)([])}getExactSuggestion(r){return this.getProductResults(r).pipe((0,oe.w)(l=>l.products&&l.products.length>0?this.fetchTranslation("searchBox.help.exactMatch",{term:l.freeTextSearch}):(0,k.of)(void 0)))}getSearchMessage(r){return(0,D.aj)([this.getProductResults(r),this.getProductSuggestions(r)]).pipe((0,oe.w)(([l,v])=>l&&l.products&&0===l.products.length&&v&&0===v.length?this.fetchTranslation("searchBox.help.noMatch"):(0,k.of)(void 0)))}launchSearchPage(r){this.routingService.go({cxRoute:"search",params:{query:r}})}fetchTranslation(r,l){return this.translationService.translate(r,l)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.qI3),e.LFG(h.Znh),e.LFG(h.D7D),e.LFG(h.X9E),e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Wi={minCharactersBeforeRequest:1,displayProducts:!0,displaySuggestions:!0,maxProducts:5,maxSuggestions:5,displayProductImages:!0};let Jd=(()=>{class a{constructor(r,l,v,T){this.searchBoxComponentService=r,this.componentData=l,this.winRef=v,this.routingService=T,this.iconTypes=fr,this.ignoreCloseEvent=!1,this.chosenWord="",this.config$=(this.componentData?.data$||(0,k.of)({})).pipe((0,he.U)(W=>{const Be=(yt,jt)=>"false"!==yt[jt]&&!1!==yt[jt];return{...Wi,...W,displayProducts:Be(W,"displayProducts"),displayProductImages:Be(W,"displayProductImages"),displaySuggestions:Be(W,"displaySuggestions"),...this.config}}),(0,Ie.b)(W=>this.config=W)),this.results$=this.config$.pipe((0,oe.w)(W=>this.searchBoxComponentService.getResults(W)))}set queryText(r){r&&this.search(r)}ngOnInit(){this.subscription=this.routingService.getRouterState().pipe((0,ze.h)(r=>!r.nextState)).subscribe(r=>{"search"===r.state.context?.id&&r.state.context?.type===h.GV4.CONTENT_PAGE||(this.chosenWord="")})}search(r){this.searchBoxComponentService.search(r,this.config),this.open()}open(){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!0)}dispatchSuggestionEvent(r){this.searchBoxComponentService.dispatchSuggestionSelectedEvent(r)}dispatchProductEvent(r){this.searchBoxComponentService.dispatchProductSelectedEvent(r)}close(r,l){setTimeout(()=>{(!this.ignoreCloseEvent&&!this.isSearchBoxFocused()||l)&&this.blurSearchBox(r)})}blurSearchBox(r){this.searchBoxComponentService.toggleBodyClass("searchbox-is-active",!1),r&&r.target&&r.target.blur()}isSearchBoxFocused(){return this.getResultElements().includes(this.getFocusedElement())||this.winRef.document.querySelector('input[aria-label="Search"]')===this.getFocusedElement()}avoidReopen(r){this.searchBoxComponentService.hasBodyClass("searchbox-is-active")&&(this.close(r),r.preventDefault())}getResultElements(){return Array.from(this.winRef.document.querySelectorAll(".products > li a, .suggestions > li a"))}getFocusedElement(){return this.winRef.document.activeElement}updateChosenWord(r){this.chosenWord=r}getFocusedIndex(){return this.getResultElements().indexOf(this.getFocusedElement())}focusPreviousChild(r){r.preventDefault();const[l,v]=[this.getResultElements(),this.getFocusedIndex()];l.length&&(v<1?l[l.length-1].focus():l[v-1].focus())}focusNextChild(r){this.open(),r.preventDefault();const[l,v]=[this.getResultElements(),this.getFocusedIndex()];l.length&&(v>=l.length-1?l[0].focus():l[v+1].focus())}launchSearchResult(r,l){!l||0===l.trim().length||(this.close(r),this.searchBoxComponentService.launchSearchPage(l))}disableClose(){this.ignoreCloseEvent=!0}preventDefault(r){r.preventDefault()}clear(r){this.disableClose(),r.value="",this.searchBoxComponentService.clearResults(),setTimeout(()=>{r.focus(),this.ignoreCloseEvent=!1})}ngOnDestroy(){this.subscription?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Uv),e.Y36(Qr,8),e.Y36(h.X9E),e.Y36(h.Znh))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-searchbox"]],inputs:{config:"config",queryText:"queryText"},decls:17,vars:24,consts:[["role","search"],[1,"searchbox"],["autocomplete","off","aria-describedby","initialDescription","aria-controls","results",3,"placeholder","value","focus","click","input","blur","keydown.escape","keydown.enter","keydown.arrowup","keydown.arrowdown"],["searchInput",""],[1,"reset",3,"mousedown","keydown.enter"],[3,"type"],["role","presentation",1,"search-icon"],[1,"search",3,"click"],["class","results","id","results","role","dialog",3,"click",4,"ngIf"],["id","results","role","dialog",1,"results",3,"click"],["class","message",3,"innerHTML",4,"ngIf"],["role","listbox",1,"suggestions"],[4,"ngFor","ngForOf"],["class","products","role","listbox",4,"ngIf"],["id","initialDescription",1,"cx-visually-hidden"],["aria-live","assertive","class","cx-visually-hidden",4,"ngIf"],[1,"message",3,"innerHTML"],["role","option",3,"innerHTML","routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["role","listbox",1,"products"],["role","option",3,"routerLink","keydown.arrowup","keydown.arrowdown","keydown.enter","keydown.escape","blur","mousedown","click"],["format","thumbnail","role","presentation",3,"container",4,"ngIf"],[1,"name",3,"innerHTML"],[1,"price"],["format","thumbnail","role","presentation",3,"container"],["aria-live","assertive",1,"cx-visually-hidden"]],template:function(r,l){if(1&r){const v=e.EpF();e.TgZ(0,"div",0),e.ALo(1,"cxTranslate"),e.TgZ(2,"label",1)(3,"input",2,3),e.NdJ("focus",function(){return l.open()})("click",function(){return l.open()})("input",function(){e.CHM(v);const W=e.MAs(4);return e.KtG(l.search(W.value))})("blur",function(W){return l.close(W)})("keydown.escape",function(W){return l.close(W)})("keydown.enter",function(W){e.CHM(v);const Be=e.MAs(4);return l.close(W,!0),l.launchSearchResult(W,Be.value),e.KtG(l.updateChosenWord(Be.value))})("keydown.arrowup",function(W){return l.focusPreviousChild(W)})("keydown.arrowdown",function(W){return l.focusNextChild(W)}),e.ALo(5,"cxTranslate"),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("mousedown",function(){e.CHM(v);const W=e.MAs(4);return e.KtG(l.clear(W))})("keydown.enter",function(){e.CHM(v);const W=e.MAs(4);return e.KtG(l.clear(W))}),e.ALo(8,"cxTranslate"),e._UZ(9,"cx-icon",5),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"cx-icon",5),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return l.open()}),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-icon",5),e.qZA()()(),e.YNc(15,es,10,10,"div",8),e.ALo(16,"async")}if(2&r){const v=e.MAs(4);e.uIk("aria-label",e.lcZ(1,12,"searchBox.productSearch")),e.xp6(2),e.ekj("dirty",!!v.value),e.xp6(1),e.s9C("value",l.chosenWord),e.Q6J("placeholder",e.lcZ(5,14,"searchBox.placeholder")),e.uIk("aria-label",e.lcZ(6,16,"searchBox.placeholder")),e.xp6(4),e.uIk("aria-label",e.lcZ(8,18,"common.reset")),e.xp6(2),e.Q6J("type",l.iconTypes.RESET),e.xp6(2),e.Q6J("type",l.iconTypes.SEARCH),e.xp6(1),e.uIk("aria-label",e.lcZ(13,20,"common.search")),e.xp6(2),e.Q6J("type",l.iconTypes.SEARCH),e.xp6(1),e.Q6J("ngIf",e.lcZ(16,22,l.results$))}},dependencies:[u.sg,u.O5,Ft.yS,bs,vr,u.Ov,h.l2T,h.X$D,Op],encapsulation:2,changeDetection:0}),a})(),zg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{SearchBoxComponent:{component:Jd}}})],imports:[u.ez,Ft.Bz,Zi,Jr,h.bhT,h.LUR]}),a})(),Pp=(()=>{class a{constructor(r,l,v,T,W,Be,yt){this.productSearchService=r,this.routing=l,this.activatedRoute=v,this.currencyService=T,this.languageService=W,this.router=Be,this.config=yt,this.RELEVANCE_ALLCATEGORIES=":relevance:allCategories:",this.searchResults$=this.productSearchService.getResults().pipe((0,ze.h)(jt=>Object.keys(jt).length>0)),this.searchByRouting$=(0,D.aj)([this.routing.getRouterState().pipe((0,be.x)((jt,On)=>jt.state.url===On.state.url)),...this.siteContext]).pipe((0,Wt.b)(0),(0,he.U)(([jt,...On])=>jt.state),(0,Ie.b)(jt=>{const On=this.getCriteriaFromRoute(jt.params,jt.queryParams);this.search(On)})),this.model$=(0,Ze.g)(()=>this.searchByRouting$.subscribe(),()=>this.searchResults$).pipe((0,Fe.d)({bufferSize:1,refCount:!0}))}getCriteriaFromRoute(r,l){return{query:l.query||this.getQueryFromRouteParams(r),pageSize:l.pageSize||this.config.view?.defaultPageSize,currentPage:l.currentPage,sortCode:l.sortCode}}getQueryFromRouteParams({query:r,categoryCode:l,brandCode:v}){return r||(l?this.RELEVANCE_ALLCATEGORIES+l:v?this.RELEVANCE_ALLCATEGORIES+v:void 0)}search(r){const l=r.currentPage,v=r.pageSize,T=r.sortCode;this.productSearchService.search(r.query,Object.assign({},l&&{currentPage:l},v&&{pageSize:v},T&&{sort:T}))}getPageItems(r){this.routing.getRouterState().subscribe(l=>{const T={...this.getCriteriaFromRoute(l.state.params,l.state.queryParams),currentPage:r};this.search(T)}).unsubscribe()}sort(r){this.route({sortCode:r})}route(r){this.router.navigate([],{queryParams:r,queryParamsHandling:"merge",relativeTo:this.activatedRoute})}get siteContext(){return[this.languageService.getActive(),this.currencyService.getActive()]}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ji5),e.LFG(h.Znh),e.LFG(Ft.gz),e.LFG(h.ieQ),e.LFG(h.TSl),e.LFG(Ft.F0),e.LFG(kg))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var as=(()=>{return(a=as||(as={})).Grid="grid",a.List="list",as;var a})();let Qd=(()=>{class a{constructor(){this.iconTypes=fr,this.modeChange=new e.vpe}get buttonClass(){return`cx-product-${this.viewMode?.toLowerCase()}`}get viewMode(){return"list"===this.mode?this.iconTypes.GRID:this.iconTypes.LIST}changeMode(){this.modeChange.emit(this.mode===as.Grid?as.List:as.Grid)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-view"]],inputs:{mode:"mode"},outputs:{modeChange:"modeChange"},decls:5,vars:8,consts:[["tabindex","0",1,"btn","cx-product-layout",3,"ngClass","click"],[3,"type",4,"ngIf"],[3,"type"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return l.changeMode()}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e.YNc(3,Ko,1,1,"cx-icon",1),e.YNc(4,da,1,1,"cx-icon",1),e.qZA()),2&r&&(e.Q6J("ngClass",l.buttonClass),e.uIk("aria-label",l.viewMode===l.iconTypes.GRID?e.lcZ(1,4,"productView.gridView"):l.viewMode===l.iconTypes.LIST?e.lcZ(2,6,"productView.listView"):null),e.xp6(3),e.Q6J("ngIf",l.viewMode===l.iconTypes.GRID),e.xp6(1),e.Q6J("ngIf",l.viewMode===l.iconTypes.LIST))},dependencies:[u.mk,u.O5,vr,h.X$D],encapsulation:2,changeDetection:0}),a})();var hc=(()=>{return(a=hc||(hc={})).INTRO="PDP.INTRO",a.PRICE="PDP.PRICE",a.SHARE="PDP.SHARE",a.SUMMARY="PDP.SUMMARY",hc;var a})(),gc=(()=>{return(a=gc||(gc={})).ITEM_ACTIONS="cx-product-list-item.actions",a.ITEM_DETAILS="cx-product-list-item.details",gc;var a})();let lu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Ki=(()=>{class a extends lu{constructor(){super(...arguments),this.product$=new G.t(1)}}return a.\u0275fac=function(){let g;return function(l){return(g||(g=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),qd=(()=>{class a{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=gc}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ki))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-list-item"]],inputs:{product:"product"},features:[e._Bn([Ki,{provide:lu,useExisting:Ki}]),e.TTD],decls:17,vars:23,consts:[[1,"row"],[1,"col-12","col-md-4"],[1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"col-12","col-md-8"],[1,"cx-product-name",3,"routerLink"],[3,"innerHtml"],[3,"cxOutlet"],[1,"col-12","col-md-7","col-xl-7"],[1,"cx-product-summary",3,"innerHtml"],[1,"col-12","col-md-5","col-xl-5"],[3,"rating",4,"ngIf"],["class","cx-product-no-review",4,"ngIf"],[1,"cx-product-price"],[3,"rating"],[1,"cx-product-no-review"],["cxInnerComponentsHost",""]],template:function(r,l){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.ALo(3,"cxTranslate"),e.ALo(4,"cxUrl"),e._UZ(5,"cx-media",3),e.qZA()(),e.TgZ(6,"div",4)(7,"a",5),e.ALo(8,"cxUrl"),e._UZ(9,"h2",6),e.qZA(),e.YNc(10,Bu,5,6,"ng-template",7),e.TgZ(11,"div",0)(12,"div",8)(13,"p",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",10),e.YNc(16,Of,1,0,"ng-template",7),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("routerLink",e.lcZ(4,13,e.VKq(17,Zo,l.product))),e.uIk("aria-label",null!=l.product.images&&l.product.images.hasOwnProperty("PRIMARY")?void 0:e.xi3(3,10,"productDetails.noProductImage",e.VKq(19,za,l.product.name))),e.xp6(3),e.Q6J("container",null==l.product.images?null:l.product.images.PRIMARY)("alt",l.product.name||l.product.summary),e.xp6(2),e.Q6J("routerLink",e.lcZ(8,15,e.VKq(21,Zo,l.product))),e.xp6(2),e.Q6J("innerHtml",l.product.nameHtml,e.oJD),e.xp6(1),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_DETAILS),e.xp6(3),e.Q6J("innerHtml",l.product.summary,e.oJD),e.xp6(1),e.hij(" ",l.product.summary," "),e.xp6(2),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_ACTIONS))},dependencies:[u.O5,bs,Bo,kr,Ft.yS,xd,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),Lp=(()=>{class a{constructor(r){this.productListItemContextSource=r,this.ProductListOutlets=gc}ngOnChanges(r){r?.product&&this.productListItemContextSource.product$.next(this.product)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ki))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-grid-item"]],inputs:{product:"product"},features:[e._Bn([Ki,{provide:lu,useExisting:Ki}]),e.TTD],decls:7,vars:15,consts:[["tabindex","-1",1,"cx-product-image-container",3,"routerLink"],["format","product",1,"cx-product-image",3,"container","alt"],[1,"cx-product-name",3,"routerLink","innerHTML"],[3,"cxOutlet"],[1,"cx-product-rating"],[3,"rating",4,"ngIf"],[4,"ngIf"],[1,"cx-product-price-container"],[1,"cx-product-price"],[3,"rating"],["cxInnerComponentsHost",""]],template:function(r,l){1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.qZA(),e._UZ(3,"a",2),e.ALo(4,"cxUrl"),e.YNc(5,xh,7,6,"ng-template",3),e.YNc(6,Ul,1,0,"ng-template",3)),2&r&&(e.Q6J("routerLink",e.lcZ(1,7,e.VKq(11,Zo,l.product))),e.xp6(2),e.Q6J("container",null==l.product.images?null:l.product.images.PRIMARY)("alt",l.product.summary),e.xp6(1),e.Q6J("routerLink",e.lcZ(4,9,e.VKq(13,Zo,l.product)))("innerHTML",l.product.nameHtml,e.oJD),e.xp6(2),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_DETAILS),e.xp6(1),e.Q6J("cxOutlet",l.ProductListOutlets.ITEM_ACTIONS))},dependencies:[u.O5,bs,Bo,kr,Ft.yS,xd,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),Fp=(()=>{class a{constructor(r,l){this.productListComponentService=r,this.ref=l,this.subscription=new P.w,this.ViewModes=as,this.appendProducts=!1,this.resetList=!1,this.isMaxProducts=!1,this.isLastPage=!1,this.isEmpty=!1}set setConfig(r){this.setComponentConfigurations(r)}set setModel(r){this.infiniteScrollOperations(r)}set setViewMode(r){this.inputViewMode=r,this.viewMode?this.resetListOnViewModeChange():this.viewMode=r}scrollPage(r){this.appendProducts=!0,this.ref.markForCheck(),this.productListComponentService.getPageItems(r)}loadNextPage(r){this.isMaxProducts=!1,this.scrollPage(r)}scrollToTop(){window.scroll(0,0)}setComponentConfigurations(r){const l=r.view?.infiniteScroll?.showMoreButton,v=r.view?.infiniteScroll?.productLimit;this.productLimit=l?1:v}infiniteScrollOperations(r){this.appendProducts?this.model={...r,products:this.model.products?.concat(r.products??[])}:(this.model=r,this.maxProducts=this.productLimit),this.setConditions(),this.ref.markForCheck()}resetListOnViewModeChange(){this.scrollToTop(),this.resetList=!0,this.productListComponentService.getPageItems(0)}setConditions(){this.isEmpty=!this.model.products||0===this.model.products.length,this.isLastPage=this.model.pagination?.currentPage===(this.model.pagination?.totalPages??0)-1,this.model.products&&(this.isMaxProducts=void 0!==this.productLimit&&0!==this.productLimit&&this.model.products.length>=(this.maxProducts??0),this.isMaxProducts&&(this.maxProducts=this.model.products.length+(this.productLimit??0))),this.viewMode!==this.inputViewMode&&(this.viewMode=this.inputViewMode),this.resetList=!1,this.appendProducts=!1}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Pp),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-scroll"]],inputs:{setConfig:["scrollConfig","setConfig"],setModel:["model","setModel"],setViewMode:["inputViewMode","setViewMode"]},decls:2,vars:2,consts:[[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[1,"row"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[3,"className"],["class","btn btn-block btn-action",3,"click",4,"ngIf"],["class","btn btn-block btn-action align-btn",3,"click",4,"ngIf"],["class","cx-spinner",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],[1,"btn","btn-block","btn-action",3,"click"],[1,"btn","btn-block","btn-action","align-btn",3,"click"],[1,"cx-spinner"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"]],template:function(r,l){1&r&&(e.YNc(0,Hu,8,8,"ng-container",0),e.YNc(1,Ih,7,8,"ng-container",0)),2&r&&(e.Q6J("ngIf",l.viewMode===l.ViewModes.Grid),e.xp6(1),e.Q6J("ngIf",l.viewMode===l.ViewModes.List))},dependencies:[u.sg,u.O5,Gt,io,qd,Lp,h.X$D],encapsulation:2}),a})(),du=(()=>{class a{constructor(r,l,v,T){this.pageLayoutService=r,this.productListComponentService=l,this.globalMessageService=v,this.scrollConfig=T,this.subscription=new P.w,this.model$=this.productListComponentService.model$,this.viewMode$=new N.X(as.Grid),this.ViewModes=as}ngOnInit(){this.isInfiniteScroll=this.scrollConfig.view?.infiniteScroll?.active,this.subscription.add(this.pageLayoutService.templateName$.pipe((0,pe.q)(1)).subscribe(r=>{this.viewMode$.next("ProductGridPageTemplate"===r?as.Grid:as.List)})),this.subscription.add((0,D.aj)([this.model$,this.viewMode$]).pipe((0,Lt.T)(1),(0,ze.h)(([r,l])=>!!r&&!!l)).subscribe(()=>this.globalMessageService.add({key:"sorting.pageViewUpdated"},h.xUg.MSG_TYPE_ASSISTIVE,500)))}sortList(r){this.productListComponentService.sort(r)}setViewMode(r){this.viewMode$.next(r)}ngOnDestroy(){this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Fn),e.Y36(Pp),e.Y36(h.IWp),e.Y36(kg))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-list"]],decls:2,vars:3,consts:[["class","cx-page",4,"ngIf"],[1,"cx-page"],["tabindex","-1",1,"cx-page-section"],[1,"container"],[1,"row"],["class","col-12 col-lg-12",4,"ngIf"],[1,"col-12","col-lg-12"],[1,"cx-sorting","top"],[1,"form-group","cx-sort-dropdown","col-12","col-lg-4","mr-auto"],["ariaControls","product-results-list",3,"sortOptions","selectedOption","ariaLabel","placeholder","sortListEvent"],["class","col-auto",4,"ngIf"],[1,"col-auto","ml-auto","ml-lg-0"],[3,"mode","modeChange"],["id","product-results-list",1,"cx-product-container"],[4,"ngIf","ngIfElse"],["infiniteScroll",""],[1,"cx-sorting","bottom"],[1,"col-auto"],[1,"cx-pagination"],["queryParam","currentPage",3,"pagination","defaultPage"],[4,"ngIf"],["class","col-12 col-sm-6 col-md-4",3,"product",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4",3,"product"],["class","cx-product-search-list",3,"product",4,"ngFor","ngForOf"],[1,"cx-product-search-list",3,"product"],[3,"scrollConfig","model","inputViewMode"]],template:function(r,l){1&r&&(e.YNc(0,ms,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.model$))},dependencies:[u.sg,u.O5,cl,ll,qd,Lp,Qd,Fp,u.Ov,h.X$D],encapsulation:2}),a})();var Qs=(()=>{return(a=Qs||(Qs={})).EXPANDED="EXPANDED",a.COLLAPSED="COLLAPSED",Qs;var a})();let Np=(()=>{class a{constructor(r,l){this.routing=r,this.productListComponentService=l,this.routeState$=this.routing.getRouterState().pipe((0,wt.j)("state")),this.searchResult$=this.routeState$.pipe((0,oe.w)(v=>this.productListComponentService.model$.pipe((0,ze.h)(T=>this.filterForPage(v,T)),(0,he.U)(T=>({...T,breadcrumbs:this.filterBreadcrumbs(T?.breadcrumbs??[],v.params)}))))),this.facetList$=this.searchResult$.pipe((0,he.U)(v=>({facets:v.facets,activeFacets:v.breadcrumbs})))}filterForPage(r,l){return!!l.currentQuery?.query?.value&&(r.context.type===h.GV4.CATEGORY_PAGE?l.currentQuery.query.value.indexOf(`allCategories:${r.context.id}`)>-1:r.context.type===h.GV4.CONTENT_PAGE&&"search"===r.context.id&&l.freeTextSearch===r.params.query.split(":")[0])}filterBreadcrumbs(r,l){return r?r.filter(v=>!("allCategories"===v.facetCode&&(v.facetValueCode===l.categoryCode||v.facetValueCode===l.brandCode))):[]}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.Znh),e.LFG(Pp))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Sl=(()=>{class a{constructor(r){this.productFacetService=r,this.facetState=new Map,this.codec=new bn.mL,this.facetList$=this.productFacetService.facetList$.pipe((0,Ie.b)(l=>{l.facets?.forEach(v=>this.initialize(v))}))}getState(r){return this.initialize(r),r.name?this.facetState.get(r.name)??(0,k.of)({}):(0,k.of)({})}getStateSnapshot(r){return this.getState(r).value}toggle(r,l){const v=this.getStateSnapshot(r),T={toggled:l?Qs.COLLAPSED:Qs.EXPANDED};T.toggled===Qs.COLLAPSED&&(T.maxVisible=v.topVisible),this.updateState(r,T)}increaseVisibleValues(r){this.updateState(r,{maxVisible:r.values?.length})}decreaseVisibleValues(r){this.updateState(r,{maxVisible:r.topValueCount})}initialize(r){const l=r.topValueCount&&r.topValueCount>0?r.topValueCount:r.values?.length||0;r.name&&!this.hasState(r)&&this.facetState.set(r.name,new N.X({topVisible:l,maxVisible:l}))}updateState(r,l){const v={...this.getStateSnapshot(r),...l};r.name&&this.facetState.get(r.name)?.next(v)}hasState(r){return!!r.name&&this.facetState.has(r.name)}getLinkParams(r){return{query:this.codec.decodeValue(this.decodeUriComponentSafe(r)).replace(/\+/g," ")}}decodeUriComponentSafe(r){return r.replace(/%(?![0-9a-fA-F]{2})/g,"%25")}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Np))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Xd=(()=>{class a{constructor(r){this.facetService=r,this.facetList$=this.facetService.facetList$,this.closeIcon=fr.CLOSE}getLinkParams(r){return this.facetService.getLinkParams(r.removeQuery?.query?.value??"")}getFocusKey(r,l){return r.facets?.find(v=>v.values?.find(T=>T.name===l.facetValueName))?"":l.facetValueName}removeFilterWithSpacebar(r){r?.preventDefault(),r?.target?.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Sl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-active-facets"]],inputs:{closeIcon:"closeIcon"},decls:2,vars:3,consts:[[4,"ngIf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space",4,"ngFor","ngForOf"],["routerLink","./","role","button",3,"queryParams","cxFocus","keydown.space"],["aria-hidden","true",3,"type"]],template:function(r,l){1&r&&(e.YNc(0,pa,3,2,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.facetList$))},dependencies:[u.sg,u.O5,Ft.yS,vr,Ro,u.Ov,h.X$D],encapsulation:2}),a})(),cs=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Ft.Bz,h.LUR,Jr,Jo]}),a})(),ef=(()=>{class a{constructor(r,l,v){this.facetService=r,this.elementRef=l,this.cd=v,this.expandIcon=fr.EXPAND,this.collapseIcon=fr.COLLAPSE}set facet(r){this._facet=r,this.isMultiSelect=!!r.multiSelect,this.state$=this.facetService.getState(r)}get facet(){return this._facet}toggleGroup(r){const l=this.elementRef.nativeElement,v=this.keyboardFocus?.isLocked;this.facetService.toggle(this.facet,this.isExpanded),(!v||this.isExpanded)&&(l.focus(),r.stopPropagation())}get isExpanded(){return null!==this.values?.first?.nativeElement.offsetParent}openLink(r){r.target.click(),r.preventDefault()}increaseVisibleValues(){this.facetService.increaseVisibleValues(this.facet)}decreaseVisibleValues(){this.facetService.decreaseVisibleValues(this.facet)}getLinkParams(r){return this.facetService.getLinkParams(r.query?.query?.value??"")}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Sl),e.Y36(e.SBq),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-facet"]],viewQuery:function(r,l){if(1&r&&(e.Gf(Ro,5),e.Gf(YC,5)),2&r){let v;e.iGM(v=e.CRH())&&(l.keyboardFocus=v.first),e.iGM(v=e.CRH())&&(l.values=v)}},hostVars:2,hostBindings:function(r,l){2&r&&e.ekj("multi-select",l.isMultiSelect)},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",facet:"facet"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"heading",3,"click"],[1,"collapse-icon",3,"type"],[1,"expand-icon",3,"type"],["routerLink","./","class","value",3,"queryParams","selected","cxFocus","keydown.space",4,"ngFor","ngForOf"],[1,"more"],["aria-expanded","true","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["aria-expanded","false","class","cx-action-link",3,"cxAtMessage","cxFocus","click",4,"ngIf"],["routerLink","./",1,"value",3,"queryParams","cxFocus","keydown.space"],["facetValue",""],["aria-hidden","true"],["aria-hidden","true",1,"count"],[1,"count"],["aria-expanded","true",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"],["aria-expanded","false",1,"cx-action-link",3,"cxAtMessage","cxFocus","click"]],template:function(r,l){1&r&&(e.YNc(0,Za,14,22,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.state$))},dependencies:[Yi,u.sg,u.O5,vr,Ro,Ft.yS,u.Ov,u.OU,h.X$D],encapsulation:2,changeDetection:0}),a})(),fu=(()=>{class a{constructor(r,l,v){this.facetService=r,this.elementRef=l,this.renderer=v,this.closeList=new e.vpe,this.facetList$=this.facetService.facetList$,this.iconTypes=fr,this.dialogFocusConfig={trap:!0,block:!0,focusOnEscape:!0,autofocus:"cx-facet"}}set isDialog(r){this._isDialog=r,r&&this.renderer.addClass(document.body,"modal-open")}get isDialog(){return this._isDialog}handleClick(){this.close()}expandFacetGroup(r,l){l.isExpanded||this.facetService.toggle(r,l.isExpanded)}isExpanded(r){return this.facetService.getState(r).pipe((0,he.U)(l=>l.toggled===Qs.EXPANDED))}isCollapsed(r){return this.facetService.getState(r).pipe((0,he.U)(l=>l.toggled===Qs.COLLAPSED))}close(r){this.renderer.removeClass(document.body,"modal-open"),this.closeList.emit(r)}block(r){r?.stopPropagation()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Sl),e.Y36(e.SBq),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-facet-list"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(){return l.handleClick()})},inputs:{isDialog:"isDialog"},outputs:{closeList:"closeList"},decls:2,vars:3,consts:[["class","inner",3,"cxFocus","tabindex","esc","click",4,"ngIf"],[1,"inner",3,"cxFocus","tabindex","esc","click"],["type","button",1,"close",3,"click"],["aria-hidden","true",3,"type"],["role","group",3,"facet","expanded","collapsed",4,"ngFor","ngForOf"],["role","group",3,"facet"],["facetRef",""]],template:function(r,l){if(1&r&&(e.YNc(0,Nf,9,14,"section",0),e.ALo(1,"async")),2&r){let v;e.Q6J("ngIf",null==(v=e.lcZ(1,1,l.facetList$))?null:v.facets)}},dependencies:[u.sg,u.O5,vr,ef,Ro,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Gv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Da,u.ez,h.LUR,Jr,Jo,Ft.Bz,h.bhT]}),a})(),Hv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,h.LUR,Jr,Gv,Jo]}),a})(),Yg=(()=>{class a{constructor(r){this.breakpointService=r,this.iconTypes=fr,this.CLOSE_DELAY=300,this.open$=new N.X(!1),this.isOpen$=this.breakpointService.breakpoint$.pipe((0,Pn.QV)(Xe.E),(0,oe.w)(()=>this.hasTrigger?this.open$:(0,k.of)(!0)),(0,gt.j)(l=>function me(a=0,g=Le.P){return(!(0,Ge.k)(a)||a<0)&&(a=0),(!g||"function"!=typeof g.schedule)&&(g=Le.P),new M.y(r=>(r.add(g.schedule(se,a,{subscriber:r,counter:0,period:a})),r))}(l?0:this.CLOSE_DELAY))),this.isActive$=this.open$.pipe((0,Pn.QV)(Xe.E))}launch(){this.open$.next(!0)}close(){this.open$.next(!1),this.trigger.nativeElement.focus()}get hasTrigger(){return null!==this.trigger.nativeElement.offsetParent}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Mi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-facet-navigation"]],viewQuery:function(r,l){if(1&r&&e.Gf(kE,5),2&r){let v;e.iGM(v=e.CRH())&&(l.trigger=v.first)}},decls:8,vars:7,consts:[[1,"btn","btn-action","btn-block","dialog-trigger",3,"click"],["trigger",""],[3,"type"],[3,"isDialog","active","dialog","closeList",4,"ngIf"],[3,"isDialog","closeList"]],template:function(r,l){1&r&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(){return l.launch()}),e._UZ(2,"cx-icon",2),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-active-facets"),e.YNc(6,Vl,2,7,"cx-facet-list",3),e.ALo(7,"async")),2&r&&(e.xp6(2),e.Q6J("type",l.iconTypes.FILTER),e.xp6(1),e.hij(" ",e.lcZ(4,3,"productList.filterBy.label"),"\n"),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,5,l.isOpen$)))},dependencies:[u.O5,fu,Xd,vr,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Vv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,Hv,cs,Jr,h.LUR,h.pEA.withConfig({cmsComponents:{ProductRefinementComponent:{component:Yg}}})]}),a})();const jv={view:{defaultPageSize:12,infiniteScroll:{active:!1,productLimit:0,showMoreButton:!1}}};let tf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(jv),(0,h.i51)({cmsComponents:{CMSProductListComponent:{component:du,data:{composition:{inner:["ProductAddToCartComponent"]}}},ProductGridComponent:{component:du,data:{composition:{inner:["ProductAddToCartComponent"]}}},SearchResultsListComponent:{component:du,data:{composition:{inner:["ProductAddToCartComponent"]}}}}})],imports:[Da,u.ez,h.GSh,h.LUR,Jr,Tn,Dd,nu,Zi,li,ss,Ft.Bz,di,wd,h.bhT]}),a})(),nf=(()=>{class a{constructor(r){this.productListItemContextSource=r}ngOnChanges(r){r?.item&&this.productListItemContextSource.product$.next(this.item)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Ki))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-carousel-item"]],inputs:{item:"item"},features:[e._Bn([Ki,{provide:lu,useExisting:Ki}]),e.TTD],decls:9,vars:9,consts:[["tabindex","0",3,"routerLink"],["format","product",3,"container","alt"],[1,"cx-product-name"],[1,"price"],[1,"actions"],["cxInnerComponentsHost",""]],template:function(r,l){if(1&r&&(e.TgZ(0,"a",0),e.ALo(1,"cxUrl"),e._UZ(2,"cx-media",1),e.TgZ(3,"h3",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e.GkF(8,5),e.qZA()),2&r){let v;e.Q6J("routerLink",e.lcZ(1,5,e.VKq(7,Zo,l.item))),e.xp6(2),e.Q6J("container",null==l.item.images?null:l.item.images.PRIMARY)("alt",null!==(v=l.item.name)&&void 0!==v?v:""),e.xp6(2),e.hij(" ",l.item.name," "),e.xp6(2),e.hij(" ",null==l.item.price?null:l.item.price.formattedValue," ")}},dependencies:[bs,Ft.yS,kr,h.l2T],encapsulation:2,changeDetection:0}),a})(),Zg=(()=>{class a{constructor(r,l){this.componentData=r,this.productService=l,this.PRODUCT_SCOPE=["list","price","stock"],this.componentData$=this.componentData.data$.pipe((0,ze.h)(v=>Boolean(v))),this.title$=this.componentData$.pipe((0,he.U)(v=>v.title)),this.items$=this.componentData$.pipe((0,he.U)(v=>v.productCodes?.trim().split(" ")??[]),(0,he.U)(v=>v.map(T=>this.productService.get(T,[...this.PRODUCT_SCOPE]))))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(h.M52))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-carousel"]],decls:4,vars:3,consts:[["role","region","itemWidth","285px",3,"items","title","template",4,"ngIf"],["carouselItem",""],["role","region","itemWidth","285px",3,"items","title","template"],[3,"item"]],template:function(r,l){1&r&&(e.YNc(0,ju,4,13,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Xm,1,1,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.items$))},dependencies:[u.O5,So,nf,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Wg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductCarouselComponent:{component:Zg}}})],imports:[u.ez,cc,Zi,Ft.Bz,h.bhT,h.LUR,ss]}),a})(),Ma=(()=>{class a{constructor(r,l,v){this.cmsComponentData=r,this.currentProductService=l,this.productReferenceService=v,this.items$=this.productCode$.pipe((0,zt.M)(this.componentData$),(0,Ie.b)(([T,W])=>this.productReferenceService.loadProductReferences(T,W.productReferenceTypes)),(0,oe.w)(([T,W])=>this.getProductReferences(T,W.productReferenceTypes??"")))}get componentData$(){return this.cmsComponentData.data$.pipe((0,ze.h)(r=>Boolean(r)))}get productCode$(){return this.currentProductService.getProduct().pipe((0,ze.h)(h.jWE),(0,he.U)(r=>r.code??""),(0,Ie.b)(r=>this.productReferenceService.cleanReferences()))}get title$(){return this.componentData$.pipe((0,he.U)(r=>r?.title))}getProductReferences(r,l){return this.productReferenceService.getProductReferences(r,l).pipe((0,ze.h)(v=>Boolean(v)),(0,he.U)(v=>v.map(T=>(0,k.of)(T.target))))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Qr),e.Y36(Hs),e.Y36(h.FxR))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-references"]],decls:4,vars:3,consts:[[3,"title","items","template",4,"ngIf"],["carouselItem",""],[3,"title","items","template"],["tabindex","0",3,"routerLink"],["format","product",3,"container"],[1,"price"]],template:function(r,l){1&r&&(e.YNc(0,jl,2,5,"cx-carousel",0),e.ALo(1,"async"),e.YNc(2,Nh,7,8,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.items$))},dependencies:[u.O5,So,bs,Ft.yS,u.Ov,h.l2T],encapsulation:2,changeDetection:0}),a})(),pu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReferencesComponent:{component:Ma}}})],imports:[u.ez,cc,Zi,Ft.Bz,h.bhT]}),a})(),hu=(()=>{class a{constructor(r){this.currentProductService=r,this.mainMediaContainer=new N.X(null),this.product$=this.currentProductService.getProduct().pipe((0,ze.h)(h.jWE),(0,be.x)(),(0,Ie.b)(l=>{this.mainMediaContainer.next(l.images?.PRIMARY?l.images.PRIMARY:{})})),this.thumbs$=this.product$.pipe((0,he.U)(l=>this.createThumbs(l))),this.mainImage$=(0,D.aj)([this.product$,this.mainMediaContainer]).pipe((0,he.U)(([,l])=>l))}openImage(r){this.mainMediaContainer.next(r)}isActive(r){return this.mainMediaContainer.pipe((0,ze.h)(Boolean),(0,he.U)(l=>l.zoom&&l.zoom.url&&r.zoom&&r.zoom.url&&l.zoom.url===r.zoom.url))}getActive(r){return this.mainMediaContainer.pipe((0,ze.h)(Boolean),(0,he.U)(l=>{const v=r.find(T=>T.media&&l.zoom&&T.media.container&&T.media.container.zoom&&T.media.container.zoom.url===l.zoom.url);return r.indexOf(v)}))}createThumbs(r){return!r.images||!r.images.GALLERY||r.images.GALLERY.length<2?[]:r.images.GALLERY.map(l=>(0,k.of)({container:l}))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-images"]],decls:6,vars:6,consts:[[4,"ngIf"],["thumb",""],[3,"container"],["class","thumbs","itemWidth","120px",3,"items","hideIndicators","template",4,"ngIf"],["itemWidth","120px",1,"thumbs",3,"items","hideIndicators","template"],["tabindex","0","format","product",3,"container","focus"]],template:function(r,l){1&r&&(e.YNc(0,ev,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Uh,2,1,"ng-container",0),e.ALo(3,"async"),e.YNc(4,tv,2,5,"ng-template",null,1,e.W1O)),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,l.mainImage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,l.thumbs$)))},dependencies:[u.O5,bs,So,u.Ov],encapsulation:2,changeDetection:0}),a})(),$v=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductImagesComponent:{component:hu}}})],imports:[u.ez,Ft.Bz,Zi,li,cc]}),a})(),rf=(()=>{class a{constructor(r,l,v,T){this.currentProductService=r,this.translationService=l,this.winRef=v,this.eventService=T,this.product$=this.currentProductService.getProduct(),this.areReviewsAvailable$=(0,Ne.T)((0,V.P)(()=>(0,k.of)(!!this.getReviewsComponent())),this.eventService.get(tc).pipe((0,ze.h)(W=>W.id===this.reviewsComponentId),(0,Re.h)(!0)),this.eventService.get(Ss).pipe((0,ze.h)(W=>W.id===this.reviewsComponentId),(0,Re.h)(!1))),this.reviewsComponentId="ProductReviewsTabComponent",this.reviewsTranslationKey=`TabPanelContainer.tabs.${this.reviewsComponentId}`}showReviews(){this.translationService.translate(this.reviewsTranslationKey).subscribe(r=>{const l=this.getTabsComponent(),v=l&&this.getTabByLabel(r,l);v&&(this.clickTabIfInactive(v),setTimeout(()=>{v.scrollIntoView({behavior:"smooth"}),v.focus({preventScroll:!0})}))}).unsubscribe()}getReviewsComponent(){return this.winRef.document.querySelector("cx-product-reviews")}getTabsComponent(){return this.winRef.document.querySelector("cx-tab-paragraph-container")}clickTabIfInactive(r){(!r.classList.contains("active")||r.classList.contains("toggled"))&&r.click()}getTabByLabel(r,l){const v=l.getElementsByTagName("button");return Array.from(v).find(T=>T.innerHTML.includes(r))}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs),e.Y36(h.D7D),e.Y36(h.X9E),e.Y36(h.POd))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-intro"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","rating",4,"ngIf"],[1,"code"],[1,"rating"],[3,"rating"],[1,"count"],["class","btn btn-link cx-action-link",3,"click",4,"ngIf"],[1,"btn","btn-link","cx-action-link",3,"click"]],template:function(r,l){1&r&&(e.YNc(0,$l,6,6,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[u.O5,xd,u.Ov,u.JJ,h.X$D],encapsulation:2,changeDetection:0}),a})(),zv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductIntroComponent:{component:rf}}})],imports:[u.ez,h.LUR,wd]}),a})(),sf=(()=>{class a{constructor(r){this.currentProductService=r,this.outlets=hc,this.product$=this.currentProductService.getProduct(["details","price"])}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cxOutlet","cxOutletContext"],[1,"price"],[1,"summary",3,"innerHTML"]],template:function(r,l){1&r&&(e.YNc(0,Gh,3,8,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[u.O5,Bo,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),Kg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSummaryComponent:{component:sf}}})],imports:[u.ez,li,h.LUR]}),a})(),Yv=(()=>{class a{constructor(r){this.currentProductService=r,this.product$=this.currentProductService.getProduct("attributes")}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-attributes"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,l){1&r&&(e.YNc(0,Hi,6,4,"ng-container",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[u.sg,u.O5,u.Ov,h.X$D],encapsulation:2,changeDetection:0}),a})(),kp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductSpecsTabComponent:{component:Yv}}})],imports:[u.ez,h.LUR]}),a})(),Jg=(()=>{class a{constructor(r,l,v){this.currentProductService=r,this.componentData=l,this.cmsService=v,this.children$=this.componentData.data$.pipe((0,oe.w)(T=>(0,D.aj)((T?.children??"").split(" ").map(W=>this.cmsService.getComponentData(W).pipe((0,be.x)(),(0,he.U)(Be=>{if(Be)return Be.flexType||(Be={...Be,flexType:Be.typeCode}),Be}))))))}ngOnInit(){this.product$=this.currentProductService.getProduct()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs),e.Y36(Qr),e.Y36(h.ctt))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-details-tab"]],decls:4,vars:6,consts:[[4,"ngIf"],[1,"container",3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"cxOutlet","cxOutletContext"],[1,"container"],[3,"cxComponentWrapper"]],template:function(r,l){1&r&&(e.YNc(0,Wa,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Ti,2,1,"ng-container",0),e.ALo(3,"async")),2&r&&(e.Q6J("ngIf",e.lcZ(1,2,l.product$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,l.children$)))},dependencies:[u.sg,u.O5,Kc,Bo,u.Ov],encapsulation:2,changeDetection:0}),a})(),qs=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductDetailsTabComponent:{component:Jg}}})],imports:[u.ez,ss,li]}),a})(),af=(()=>{class a{constructor(r,l,v,T){this.reviewService=r,this.currentProductService=l,this.fb=v,this.cd=T,this.isWritingReview=!1,this.initialMaxListItems=5,this.product$=this.currentProductService.getProduct(),this.reviews$=this.product$.pipe((0,ze.h)(h.jWE),(0,he.U)(W=>W.code??""),(0,be.x)(),(0,oe.w)(W=>this.reviewService.getByProductCode(W)),(0,Ie.b)(()=>{this.resetReviewForm(),this.maxListItems=this.initialMaxListItems}))}initiateWriteReview(){this.isWritingReview=!0,this.cd.detectChanges(),this.titleInput&&this.titleInput.nativeElement&&this.titleInput.nativeElement.focus()}cancelWriteReview(){this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}setRating(r){this.reviewForm.controls.rating.setValue(r)}submitReview(r){this.reviewForm.valid?this.addReview(r):this.reviewForm.markAllAsTouched()}addReview(r){const l=this.reviewForm.controls;this.reviewService.add(r.code??"",{headline:l.title.value,comment:l.comment.value,rating:l.rating.value,alias:l.reviewerName.value}),this.isWritingReview=!1,this.resetReviewForm(),this.cd.detectChanges(),this.writeReviewButton&&this.writeReviewButton.nativeElement&&this.writeReviewButton.nativeElement.focus()}resetReviewForm(){this.reviewForm=this.fb.group({title:["",Ot.kI.required],comment:["",Ot.kI.required],rating:[null,Gg.starRatingEmpty],reviewerName:""})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.x0A),e.Y36(Hs),e.Y36(Ot.QS),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-product-reviews"]],viewQuery:function(r,l){if(1&r&&(e.Gf(Ka,5),e.Gf(Hh,5)),2&r){let v;e.iGM(v=e.CRH())&&(l.titleInput=v.first),e.iGM(v=e.CRH())&&(l.writeReviewButton=v.first)}},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf","ngIfElse"],["writeReview",""],[1,"header"],[1,"btn","btn-primary",3,"click"],["writeReviewButton",""],["class","rating",3,"rating",4,"ngIf"],["class","rating",4,"ngIf"],[1,"rating",3,"rating"],[1,"rating"],[4,"ngIf"],["class","review","tabindex","0",4,"ngFor","ngForOf"],["tabindex","0",1,"review"],[1,"title"],[3,"rating"],[1,"name"],[1,"date"],[1,"text"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label-content"],["required","true","type","text","formControlName","title",1,"form-control"],["titleInput",""],[3,"control"],["required","true","rows","3","formControlName","comment",1,"form-control"],["required","true","type","number","formControlName","rating",1,"rating-input"],["tabindex","0",3,"disabled","change"],["type","text","formControlName","reviewerName",1,"form-control"],[1,"form-group","row"],[1,"col-12","col-md-4"],["type","button",1,"btn","btn-block","btn-secondary",3,"click"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(r,l){1&r&&(e.YNc(0,iv,7,6,"div",0),e.ALo(1,"async")),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.product$))},dependencies:[u.sg,u.O5,Ot._Y,Ot.Fj,Ot.wV,Ot.JJ,Ot.JL,Ot.Q7,Ot.sg,Ot.u,xd,sl,u.Ov,u.OU,h.X$D,h.dgE],encapsulation:2,changeDetection:0}),a})(),cf=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({cmsComponents:{ProductReviewsTabComponent:{component:af}}})],imports:[u.ez,Ot.UX,Ot.u5,h.LUR,wd,fi]}),a})(),gu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[kp,qs,cf]}),a})(),mu=(()=>{class a{constructor(r,l,v){this.interestsService=r,this.launchDialogService=l,this.el=v,this.subscription=new P.w,this.enabledPrefs=[],this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}handleClick(r){r.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}close(r){this.launchDialogService.closeDialog(r)}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(r=>{this.init(r.subscribeSuccess$,r.enabledPrefs)}))}init(r,l){this.subscribeSuccess$=r,this.enabledPrefs=l}ngOnDestroy(){this.subscribeSuccess$&&this.subscribeSuccess$.subscribe(r=>{r&&this.interestsService.resetAddInterestState()}).unsubscribe(),this.subscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(h.GO$),e.Y36(Vi),e.Y36(e.SBq))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-stock-notification-dialog"]],hostBindings:function(r,l){1&r&&e.NdJ("click",function(T){return l.handleClick(T)})},decls:14,vars:11,consts:[[1,"cx-stock-notification-dialog",3,"cxFocus","esc"],[1,"cx-stock-notification-container"],[1,"cx-dialog-header","cx-modal-header"],[1,"cx-dialog-title","modal-title"],["type","button","tabindex","-1",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf","ngIfElse"],["loading",""],["role","status"],[1,"cx-dialog-body","modal-body"],[1,"cx-stock-notification-content"],[1,"cx-stock-notification-text"],["class","channels",4,"ngFor","ngForOf"],[1,"link-prefs","cx-stock-notification-link",3,"routerLink","click"],[1,"link-interests","cx-stock-notification-link",3,"routerLink","click"],[1,"cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-4","offset-md-8","col-lg-3","offset-lg-9"],["type","button",1,"btn","btn-primary","btn-block","btn-ok",3,"click"],[1,"channels"],[4,"ngIf"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,l){if(1&r&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return l.close("Escape clicked")}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return l.close("Button clicked")}),e.ALo(7,"cxTranslate"),e.TgZ(8,"span",5),e._uU(9,"\xd7"),e.qZA()()(),e.YNc(10,ga,36,39,"ng-container",6),e.ALo(11,"async"),e.qZA(),e.YNc(12,ma,7,3,"ng-template",null,7,e.W1O),e.qZA()),2&r){const v=e.MAs(13);e.Q6J("cxFocus",l.focusConfig),e.xp6(4),e.hij(" ",e.lcZ(5,5,"stockNotification.subscriptionDialog.header")," "),e.xp6(2),e.uIk("aria-label",e.lcZ(7,7,"common.close")),e.xp6(4),e.Q6J("ngIf",e.lcZ(11,9,l.subscribeSuccess$))("ngIfElse",v)}},dependencies:[u.sg,u.O5,Ft.yS,io,Ro,u.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})(),Up=(()=>{class a{constructor(r,l,v,T,W,Be,yt,jt){this.currentProductService=r,this.globalMessageService=l,this.translationService=v,this.interestsService=T,this.notificationPrefService=W,this.userIdService=Be,this.launchDialogService=yt,this.vcr=jt,this.anonymous=!0,this.enabledPrefs=[],this.subscriptions=new P.w}ngOnInit(){this.outOfStock$=(0,D.aj)([this.currentProductService.getProduct().pipe((0,ze.h)(h.jWE)),this.userIdService.getUserId()]).pipe((0,Ie.b)(([r,l])=>{this.productCode=r.code??"",l!==h.Fds&&(this.anonymous=!1,this.notificationPrefService.loadPreferences(),this.interestsService.loadProductInterests(void 0,void 0,void 0,r.code,h.k$E.BACK_IN_STOCK))}),(0,he.U)(([r])=>!!r.stock&&"outOfStock"===r.stock.stockLevelStatus)),this.hasProductInterests$=this.interestsService.getProductInterests().pipe((0,he.U)(r=>!!r.results&&1===r.results.length)),this.subscribeSuccess$=this.interestsService.getAddProductInterestSuccess(),this.isRemoveInterestLoading$=this.interestsService.getRemoveProdutInterestLoading(),this.prefsEnabled$=this.notificationPrefService.getEnabledPreferences().pipe((0,Ie.b)(r=>this.enabledPrefs=r),(0,he.U)(r=>r.length>0)),this.subscriptions.add(this.interestsService.getAddProductInterestError().subscribe(r=>{r&&this.onInterestAddingError()})),this.subscriptions.add(this.interestsService.getRemoveProdutInterestSuccess().subscribe(r=>{r&&this.onInterestRemovingSuccess()}))}subscribe(){this.openDialog(),this.interestsService.addProductInterest(this.productCode,h.k$E.BACK_IN_STOCK)}unsubscribe(){this.interestsService.removeProdutInterest({product:{code:this.productCode},productInterestEntry:[{interestType:h.k$E.BACK_IN_STOCK}]},!0)}onInterestRemovingSuccess(){this.subscriptions.add(this.translationService.translate("stockNotification.unsubscribeSuccess").pipe((0,ne.P)()).subscribe(r=>this.globalMessageService.add(r,h.xUg.MSG_TYPE_INFO))),this.interestsService.resetRemoveInterestState()}onInterestAddingError(){this.launchDialogService.closeDialog("Interests error"),this.interestsService.resetAddInterestState()}openDialog(){const l=this.launchDialogService.openDialog("STOCK_NOTIFICATION",this.element,this.vcr,{subscribeSuccess$:this.subscribeSuccess$,enabledPrefs:this.enabledPrefs});l&&l.pipe((0,pe.q)(1)).subscribe()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.interestsService.clearProductInterests(),this.notificationPrefService.clearPreferences()}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(Hs),e.Y36(h.IWp),e.Y36(h.D7D),e.Y36(h.GO$),e.Y36(h.xd),e.Y36(h.XBV),e.Y36(Vi),e.Y36(e.s_b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["cx-stock-notification"]],viewQuery:function(r,l){if(1&r&&e.Gf(Pu,5),2&r){let v;e.iGM(v=e.CRH())&&(l.element=v.first)}},decls:8,vars:3,consts:[[4,"ngIf"],["disableNotify",""],["stopNotify",""],["loading",""],[4,"ngIf","ngIfElse"],[1,"stock-notification-notes"],["type","button",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],["id","outOfStockMessage",1,"stock-notification-notes"],["loggedIn",""],["type","button","aria-describedby","outOfStockMessage",1,"btn","btn-primary","btn-block","btn-notify",3,"click"],[3,"routerLink"],["role","status"],["type","button",1,"btn","btn-primary","btn-block","btn-stop-notify",3,"click"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"col-sm-12"]],template:function(r,l){1&r&&(e.YNc(0,Yh,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,sv,8,6,"ng-template",null,1,e.W1O),e.YNc(4,Jl,2,4,"ng-template",null,2,e.W1O),e.YNc(6,Zu,4,0,"ng-template",null,3,e.W1O)),2&r&&e.Q6J("ngIf",e.lcZ(1,1,l.outOfStock$))},dependencies:[u.O5,Ft.yS,io,u.Ov,h.X$D,h.l2T],encapsulation:2,changeDetection:0}),a})();const Qg={launch:{STOCK_NOTIFICATION:{inlineRoot:!0,component:mu,dialogType:Oo.DIALOG}}};let Zv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Qg),(0,h.i51)({cmsComponents:{StockNotificationComponent:{component:Up}}})],imports:[u.ez,Ft.Bz,h.LUR,di,h.bhT,Jo]}),a})(),Wv=(()=>{class a{constructor(r,l,v){this.authService=r,this.authConfigService=l,this.cmsPageGuard=v}canActivate(r,l){return this.authService.isUserLoggedIn().pipe((0,pe.q)(1),(0,oe.w)(v=>this.authConfigService.getOAuthFlow()===h.C8C.ResourceOwnerPasswordFlow||v?this.cmsPageGuard.canActivate(r,l):this.authService.loginWithRedirect()?H.E:(0,k.of)(!1)))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.e80),e.LFG(h.dSP),e.LFG(ji))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),vu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Es,Ft.Bz.forChild([{path:null,canActivate:[Wv],component:Qo,data:{cxRoute:"login"}}])]}),a})(),Bp=(()=>{class a{constructor(r,l,v,T,W){this.auth=r,this.cms=l,this.semanticPathService=v,this.protectedRoutes=T,this.router=W}canActivate(){return(0,re.D)(this.logout()).pipe((0,oe.w)(()=>this.cms.hasPage({id:this.semanticPathService.get("logout")??"",type:h.GV4.CONTENT_PAGE}).pipe((0,he.U)(r=>r||this.getRedirectUrl()))))}logout(){return this.auth.coreLogout()}getRedirectUrl(){return this.router.parseUrl(this.semanticPathService.get(this.protectedRoutes.shouldProtect?"login":"home")??"")}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.e80),e.LFG(h.ctt),e.LFG(h.hCH),e.LFG(h.Cvs),e.LFG(Ft.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),qg=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[Es,Ft.Bz.forChild([{path:null,canActivate:[Bp,ji],component:Qo,data:{cxRoute:"logout"}}])]}),a})();const _u=new e.OlP("PRODUCT_DETAILS_URL_MATCHER",{providedIn:"root",factory:()=>function ty(a,g){return l=>{const v=g(l),T=Jf({marker:"p",paramName:"productCode"});return a.getCombined([v,T])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let xa=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{product:{matchers:[_u]}}}})],imports:[Ft.Bz.forChild([{path:null,canActivate:[ji],component:Qo,data:{cxRoute:"product"}}])]}),a})();const Xg=new e.OlP("PRODUCT_LISTING_URL_MATCHER",{providedIn:"root",factory:()=>function Gp(a,g){return l=>{const v=g(l),T=Jf({marker:"c",paramName:"categoryCode"});return a.getCombined([v,T])}}((0,e.f3M)(h.gyx),(0,e.f3M)(h.peS))});let Hp=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)({routing:{routes:{category:{matchers:[Xg]}}}})],imports:[Ft.Bz.forChild([{path:null,canActivate:[ji],component:Qo,data:{pageLabel:"search",cxRoute:"search"}},{path:null,canActivate:[ji],component:Qo,data:{cxRoute:"brand"}},{path:null,canActivate:[ji],component:Qo,data:{cxRoute:"category"}}])]}),a})(),Kv=(()=>{class a{constructor(r,l){this.activatedRoutesService=r,this.injector=l,this.contextTokenMapping$=this.activatedRoutesService.routes$.pipe((0,he.U)(v=>this.getRoutesContextTokenMapping(v)),(0,Fe.d)({refCount:!0,bufferSize:1}))}getRoutesContextTokenMapping(r){return Object.assign({},...r.map(l=>l?.data?.cxContext))}get(r){return this.contextTokenMapping$.pipe((0,oe.w)(l=>{const v=l?.[r];return v?this.injector.get(v):(0,k.of)(void 0)}))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.ZWZ),e.LFG(h.W5u))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Vp=(()=>{class a{constructor(r){this.routingContextService=r}get(r){return this.resolveContext(r).pipe((0,be.x)(),(0,Fe.d)({refCount:!0,bufferSize:1}))}resolveContext(r){return this.routingContextService.get(r)}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Kv))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),mc=(()=>{class a extends h.W8x{}return a.type="NavigationEvent",a})();class El extends h.W8x{}let em=(()=>{class a extends El{}return a.type="HomePageEvent",a})(),Jv=(()=>{class a{constructor(r){this.eventService=r,this.register()}register(){this.eventService.register(em,this.buildHomePageEvent())}buildHomePageEvent(){return this.eventService.get(mc).pipe((0,ze.h)(r=>"home"===r.semanticRoute),(0,he.U)(r=>(0,h.PjU)(em,{navigation:r})))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Qv=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Jv))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),tm=(()=>{class a{constructor(r,l){this.actions=r,this.eventService=l,this.register()}register(){this.eventService.register(mc,this.buildNavigationEvent())}buildNavigationEvent(){return this.getNavigatedEvent().pipe((0,he.U)(r=>(0,h.PjU)(mc,{context:r.context,semanticRoute:r.semanticRoute,url:r.url,params:r.params})))}getNavigatedEvent(){return this.actions.pipe((0,or.l4)(Un.CE),(0,he.U)(r=>r.payload.routerState))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(En.UO),e.LFG(h.POd))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Dl=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(tm))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})(),Xs=(()=>{class a extends El{}return a.type="ProductDetailsPageEvent",a})(),nm=(()=>{class a extends El{}return a.type="CategoryPageResultsEvent",a})(),Cu=(()=>{class a extends El{}return a.type="SearchPageResultsEvent",a})(),jp=(()=>{class a{constructor(r,l,v){this.eventService=r,this.productService=l,this.productSearchService=v,this.register()}register(){this.eventService.register(Cu,this.buildSearchPageResultsEvent()),this.eventService.register(Xs,this.buildProductDetailsPageEvent()),this.eventService.register(nm,this.buildCategoryResultsPageEvent())}buildProductDetailsPageEvent(){return this.eventService.get(mc).pipe((0,ze.h)(r=>"product"===r.semanticRoute),(0,oe.w)(r=>this.productService.get(r.context.id).pipe((0,ze.h)(l=>Boolean(l)),(0,pe.q)(1),(0,he.U)(l=>(0,h.PjU)(Xs,{navigation:r,categories:l?.categories,code:l?.code,name:l?.name,price:l?.price})))))}buildCategoryResultsPageEvent(){const r=this.productSearchService.getResults().pipe((0,Lt.T)(1));return this.eventService.get(mc).pipe((0,oe.w)(l=>"category"!==l?.semanticRoute?H.E:r.pipe((0,he.U)(v=>(0,h.PjU)(nm,{navigation:l,categoryCode:l?.context?.id,numberOfResults:v?.pagination?.totalResults??0,categoryName:v.breadcrumbs?.[0].facetValueName})))))}buildSearchPageResultsEvent(){const r=this.productSearchService.getResults().pipe((0,Lt.T)(1));return this.eventService.get(mc).pipe((0,oe.w)(l=>"search"!==l?.semanticRoute?H.E:r.pipe((0,he.U)(v=>(0,h.PjU)(Cu,{navigation:l,searchTerm:v?.freeTextSearch??"",numberOfResults:v?.pagination?.totalResults??0})))))}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(h.POd),e.LFG(h.M52),e.LFG(h.ji5))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),qv=(()=>{class a{constructor(r){}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(jp))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({}),a})();const $p={mediaFormats:{mobile:{width:400},tablet:{width:770},desktop:{width:1140},widescreen:{width:1400},cartIcon:{width:65},thumbnail:{width:96},product:{width:284},zoom:{width:515}}},rm={layoutSlots:{header:{lg:{slots:["PreHeader","SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]},navigation:{lg:{slots:[]},slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]},footer:{slots:["Footer"]},LandingPage2Template:{pageFold:"Section2B",slots:["Section1","Section2A","Section2B","Section2C","Section3","Section4","Section5"]},ContentPage1Template:{slots:["Section2A","Section2B"]},CategoryPageTemplate:{pageFold:"Section2",slots:["Section1","Section2","Section3"]},ProductListPageTemplate:{slots:["ProductLeftRefinements","ProductListSlot"]},ProductGridPageTemplate:{slots:["ProductLeftRefinements","ProductGridSlot"]},SearchResultsListPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsListSlot","Section4"]},SearchResultsGridPageTemplate:{slots:["Section2","ProductLeftRefinements","SearchResultsGridSlot","Section4"]},ProductDetailsPageTemplate:{lg:{pageFold:"UpSelling"},pageFold:"Summary",slots:["Summary","UpSelling","CrossSelling","Tabs","PlaceholderContentSlot"]},CartPageTemplate:{slots:["TopContent","CenterRightContentSlot","EmptyCartMiddleContent"]},AccountPageTemplate:{slots:["BodyContent","SideContent"]},LoginPageTemplate:{slots:["LeftContentSlot","RightContentSlot"]},ErrorPageTemplate:{slots:["TopContent","MiddleContent","BottomContent"]},OrderConfirmationPageTemplate:{slots:["BodyContent","SideContent"]},MultiStepCheckoutSummaryPageTemplate:{slots:["TopContent","BodyContent","SideContent","BottomContent"]},CheckoutLoginPageTemplate:{slots:["RightContentSlot"]}}},wi=[Vs({componentId:"HamburgerMenuComponent",pageSlotPosition:"PreHeader"}),Vs({componentId:"LoginComponent",pageSlotPosition:"SiteLogin"})],Al={enableResetViewOnNavigate:{active:!0,ignoreQueryString:!1,ignoreRoutes:[]}};let Eo=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=e.Yz7({token:a,factory:function(r){let l=null;return l=r?new(r||a):e.LFG(h.DeH),l},providedIn:"root"}),a})(),ea=(()=>{class a{constructor(r,l,v,T){this.config=r,this.router=l,this.viewportScroller=v,this.injector=T}get hostComponent(){return this.injector.get(e.z2F)?.components?.[0]}initializeWithConfig(){this.config?.enableResetViewOnNavigate?.active&&this.setResetViewOnNavigate(this.config.enableResetViewOnNavigate.active)}setResetViewOnNavigate(r){this.subscription?.unsubscribe(),r&&(this.subscription=this.router.events.pipe((0,ze.h)(l=>l instanceof Ft.Xs),(0,Rt.G)()).subscribe(l=>{const v=l[0],T=l[1],W=T.position;if(W)setTimeout(()=>this.viewportScroller.scrollToPosition(W));else{if(this.config.enableResetViewOnNavigate?.ignoreQueryString&&this.isPathEqual(v,T)||this.isChildRoute(T))return;setTimeout(()=>this.viewportScroller.scrollToPosition([0,0]),100)}this.hostComponent?.location?.nativeElement.focus()}))}isChildRoute(r){return this.config.enableResetViewOnNavigate?.ignoreRoutes?.some(l=>r.routerEvent.urlAfterRedirects.split("/").includes(l))??!1}isPathEqual(r,l){return r.routerEvent.urlAfterRedirects.split("?")[0]===l.routerEvent.urlAfterRedirects.split("?")[0]}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(Eo),e.LFG(Ft.F0),e.LFG(u.EM),e.LFG(e.zs3))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),yu=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[(0,h.i51)(Al),{provide:e.ip1,useFactory:Ii,deps:[ea],multi:!0}],imports:[Ft.Bz.forRoot([],{anchorScrolling:"enabled",relativeLinkResolution:"corrected",initialNavigation:"enabledBlocking"})]}),a})();function Ii(a){return()=>a.initializeWithConfig()}var Ms;(Ms||(Ms={})).deepUpdateValueAndValidity=function g(r,l={}){(r instanceof Ot.nJ||r instanceof Ot.vC)&&Object.values(r.controls).forEach(v=>{g(v,l)}),r.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})};let Su=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.pz3.forRoot(),Ft.Bz,dl,li,qu,$i,Es,Ds,ss.forRoot(),Jc,ou,Jo,Ep,lg.forRoot(),Zi.forRoot(),li.forRoot(),vl,Ep,vl]}),a})()},9873:(de,Q,m)=>{"use strict";m.d(Q,{$N:()=>ze,bQ:()=>Ne,od:()=>be});var u=m(4650),e=m(4006),h=m(9057),N=m(1446),D=m(591),P=m(5254),k=m(1086),M=m(2994),G=m(7168),V=m(7545),I=m(6895),H=m(610),$=m(7212);function J(oe,Fe){1&oe&&u._UZ(0,"cx-spinner",8)}const re=function(){return{cxRoute:"forgotPassword"}},ae=function(){return{cxRoute:"register"}};function De(oe,Fe){1&oe&&(u.ynx(0),u.TgZ(1,"a",3),u.ALo(2,"cxUrl"),u._uU(3),u.ALo(4,"cxTranslate"),u.qZA(),u.BQk()),2&oe&&(u.xp6(1),u.Q6J("routerLink",u.lcZ(2,2,u.DdM(6,ae))),u.xp6(2),u.Oqu(u.lcZ(4,4,"loginForm.register")))}const Ze=function(){return{cxRoute:"checkoutLogin"}};function Xe(oe,Fe){1&oe&&(u.ynx(0),u.TgZ(1,"a",4),u.ALo(2,"cxUrl"),u._uU(3),u.ALo(4,"cxTranslate"),u.qZA(),u.BQk()),2&oe&&(u.xp6(1),u.Q6J("routerLink",u.lcZ(2,2,u.DdM(6,Ze))),u.xp6(2),u.Oqu(u.lcZ(4,4,"loginForm.guestCheckout")))}const Le=function(oe){return{name:oe}};function Ge(oe,Fe){if(1&oe&&(u.ynx(0),u.TgZ(1,"div",2),u._uU(2),u.ALo(3,"cxTranslate"),u.qZA(),u._UZ(4,"cx-page-slot",3),u.BQk()),2&oe){const Re=Fe.ngIf;u.xp6(2),u.hij(" ",u.xi3(3,1,"miniLogin.userGreeting",u.VKq(4,Le,Re.name))," ")}}const me=function(){return{cxRoute:"login"}};function se(oe,Fe){1&oe&&(u.TgZ(0,"a",4),u.ALo(1,"cxUrl"),u._uU(2),u.ALo(3,"cxTranslate"),u.qZA()),2&oe&&(u.Q6J("routerLink",u.lcZ(1,2,u.DdM(6,me))),u.xp6(2),u.Oqu(u.lcZ(3,4,"miniLogin.signInRegister")))}let Ne=(()=>{class oe{constructor(Re,pt,Qe){this.auth=Re,this.globalMessage=pt,this.winRef=Qe,this.busy$=new D.X(!1),this.isUpdating$=this.busy$.pipe((0,M.b)(rt=>{const we=this.winRef.nativeWindow?.history?.state?.newUid;we&&this.form.patchValue({userId:we}),!0===rt?this.form.disable():this.form.enable()})),this.form=new e.nJ({userId:new e.p4("",[e.kI.required,N.kal.emailValidator]),password:new e.p4("",e.kI.required)})}login(){this.form.valid?(this.busy$.next(!0),(0,P.D)(this.auth.loginWithCredentials(this.form.value.userId.toLowerCase(),this.form.value.password)).pipe((0,G.M)(this.auth.isUserLoggedIn()),(0,M.b)(([Re,pt])=>this.onSuccess(pt))).subscribe()):this.form.markAllAsTouched()}onSuccess(Re){Re&&(this.globalMessage.remove(h.xUg.MSG_TYPE_ERROR),this.form.reset()),this.busy$.next(!1)}}return oe.\u0275fac=function(Re){return new(Re||oe)(u.LFG(h.e80),u.LFG(h.IWp),u.LFG(h.X9E))},oe.\u0275prov=u.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),ze=(()=>{class oe{constructor(Re){this.service=Re,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.style=!0}onSubmit(){this.service.login()}}return oe.\u0275fac=function(Re){return new(Re||oe)(u.Y36(Ne))},oe.\u0275cmp=u.Xpm({type:oe,selectors:[["cx-login-form"]],hostVars:2,hostBindings:function(Re,pt){2&Re&&u.ekj("user-form",pt.style)},decls:25,vars:32,consts:[["class","overlay",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"label-content"],["required","true","type","email","formControlName","userId",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn-link",3,"routerLink"],["type","submit",1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"]],template:function(Re,pt){1&Re&&(u.YNc(0,J,1,0,"cx-spinner",0),u.ALo(1,"async"),u.TgZ(2,"form",1),u.NdJ("ngSubmit",function(){return pt.onSubmit()}),u.TgZ(3,"label")(4,"span",2),u._uU(5),u.ALo(6,"cxTranslate"),u.qZA(),u._UZ(7,"input",3),u.ALo(8,"cxTranslate"),u._UZ(9,"cx-form-errors",4),u.qZA(),u.TgZ(10,"label")(11,"span",2),u._uU(12),u.ALo(13,"cxTranslate"),u.qZA(),u._UZ(14,"input",5),u.ALo(15,"cxTranslate"),u.ALo(16,"cxTranslate"),u._UZ(17,"cx-form-errors",4),u.qZA(),u.TgZ(18,"a",6),u.ALo(19,"cxUrl"),u._uU(20),u.ALo(21,"cxTranslate"),u.qZA(),u.TgZ(22,"button",7),u._uU(23),u.ALo(24,"cxTranslate"),u.qZA()()),2&Re&&(u.Q6J("ngIf",u.lcZ(1,13,pt.isUpdating$)),u.xp6(2),u.Q6J("formGroup",pt.form),u.xp6(3),u.Oqu(u.lcZ(6,15,"loginForm.emailAddress.label")),u.xp6(2),u.s9C("placeholder",u.lcZ(8,17,"loginForm.emailAddress.placeholder")),u.xp6(2),u.Q6J("control",pt.form.get("userId")),u.xp6(3),u.Oqu(u.lcZ(13,19,"loginForm.password.label")),u.xp6(2),u.s9C("placeholder",u.lcZ(15,21,"loginForm.password.placeholder")),u.uIk("aria-label",u.lcZ(16,23,"loginForm.password.placeholder")),u.xp6(3),u.Q6J("control",pt.form.get("password")),u.xp6(1),u.Q6J("routerLink",u.lcZ(19,25,u.DdM(31,re))),u.xp6(2),u.hij(" ",u.lcZ(21,27,"loginForm.forgotPassword")," "),u.xp6(2),u.Q6J("disabled",pt.form.disabled),u.xp6(1),u.hij(" ",u.lcZ(24,29,"loginForm.signIn")," "))},dependencies:[I.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,H.yS,N.Ahv,N.ORR,N.X84,I.Ov,h.l2T,h.X$D],encapsulation:2,changeDetection:0}),oe})(),Ie=(()=>{class oe{}return oe.\u0275fac=function(Re){return new(Re||oe)},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerLoginComponent:{component:ze,guards:[h.aOY],providers:[{provide:Ne,useClass:Ne,deps:[h.e80,h.IWp,h.X9E]}]}}})],imports:[I.ez,e.u5,e.UX,H.Bz,h.bhT,h.LUR,N.Fym,N.Fme,N.Ird]}),oe})(),he=(()=>{class oe{constructor(Re){this.activatedRoute=Re,this.loginAsGuest=!1}ngOnInit(){this.loginAsGuest=this.activatedRoute.snapshot.queryParams.forced}}return oe.\u0275fac=function(Re){return new(Re||oe)(u.Y36(H.gz))},oe.\u0275cmp=u.Xpm({type:oe,selectors:[["cx-login-register"]],decls:6,vars:5,consts:[[1,"register"],[1,"cx-section-title"],[4,"ngIf"],[1,"btn","btn-block","btn-secondary","btn-register",3,"routerLink"],[1,"btn","btn-block","btn-secondary","btn-guest",3,"routerLink"]],template:function(Re,pt){1&Re&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2),u.ALo(3,"cxTranslate"),u.qZA(),u.YNc(4,De,5,7,"ng-container",2),u.YNc(5,Xe,5,7,"ng-container",2),u.qZA()),2&Re&&(u.xp6(2),u.hij(" ",u.lcZ(3,3,"loginForm.dontHaveAccount")," "),u.xp6(2),u.Q6J("ngIf",!pt.loginAsGuest),u.xp6(1),u.Q6J("ngIf",pt.loginAsGuest))},dependencies:[I.O5,H.yS,h.l2T,h.X$D],encapsulation:2}),oe})(),pe=(()=>{class oe{}return oe.\u0275fac=function(Re){return new(Re||oe)},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({providers:[(0,h.i51)({cmsComponents:{ReturningCustomerRegisterComponent:{component:he,guards:[h.aOY]}}})],imports:[I.ez,H.Bz,h.bhT,N.ISW,h.LUR]}),oe})(),ne=(()=>{class oe{constructor(Re,pt){this.auth=Re,this.userAccount=pt}ngOnInit(){this.user$=this.auth.isUserLoggedIn().pipe((0,V.w)(Re=>Re?this.userAccount.get():(0,k.of)(void 0)))}}return oe.\u0275fac=function(Re){return new(Re||oe)(u.Y36(h.e80),u.Y36($.gf))},oe.\u0275cmp=u.Xpm({type:oe,selectors:[["cx-login"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["login",""],[1,"cx-login-greet"],["id","account-nav","position","HeaderLinks"],["role","link",3,"routerLink"]],template:function(Re,pt){if(1&Re&&(u.YNc(0,Ge,5,6,"ng-container",0),u.ALo(1,"async"),u.YNc(2,se,4,7,"ng-template",null,1,u.W1O)),2&Re){const Qe=u.MAs(3);u.Q6J("ngIf",u.lcZ(1,2,pt.user$))("ngIfElse",Qe)}},dependencies:[I.O5,H.yS,N.JSc,I.Ov,h.l2T,h.X$D],encapsulation:2}),oe})(),_e=(()=>{class oe{}return oe.\u0275fac=function(Re){return new(Re||oe)},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({providers:[(0,h.i51)({cmsComponents:{LoginComponent:{component:ne}}})],imports:[I.ez,H.Bz,h.bhT,N.ISW,h.LUR]}),oe})(),be=(()=>{class oe{}return oe.\u0275fac=function(Re){return new(Re||oe)},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({imports:[_e,Ie,pe]}),oe})()},7212:(de,Q,m)=>{"use strict";m.d(Q,{Jj:()=>H,gf:()=>V,gu:()=>M,x7:()=>k});var u=m(4650),e=m(9057),h=m(2654);let N=(()=>{class ${constructor(re,ae){this.eventService=re,this.globalMessageService=ae,this.subscriptions=new h.w,this.onAuth()}onAuth(){this.subscriptions.add(this.eventService.get(e.rX_).subscribe(()=>{this.globalMessageService.add({key:"authMessages.signedOutSuccessfully"},e.xUg.MSG_TYPE_CONFIRMATION)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return $.\u0275fac=function(re){return new(re||$)(u.LFG(e.POd),u.LFG(e.IWp))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),D=(()=>{class ${constructor(re){}}return $.\u0275fac=function(re){return new(re||$)(u.LFG(N))},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})();class P extends e.W8x{}let k=(()=>{class $ extends P{}return $.type="UserAccountChangedEvent",$})();const M="userAccount",G="userAccountCore";let V=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=u.Yz7({token:$,factory:function(){return(0,e.wvQ)({facade:$,feature:G,methods:["get"]})},providedIn:"root"}),$})();function I(){return{featureModules:{[M]:{cmsComponents:["LoginComponent","ReturningCustomerLoginComponent","ReturningCustomerRegisterComponent"]},[G]:M}}}let H=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({providers:[(0,e.x2j)(I)],imports:[D]}),$})()},6538:(de,Q,m)=>{"use strict";m.d(Q,{LL:()=>P,PF:()=>D,Ye:()=>V,aT:()=>k,t5:()=>h,zm:()=>M});var u=m(4650),e=m(9057);const h="userProfile",N="userProfileCore";let D=(()=>{class I{}return I.\u0275fac=function($){return new($||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return(0,e.wvQ)({facade:I,feature:N,methods:["update"]})},providedIn:"root"}),I})(),P=(()=>{class I{}return I.\u0275fac=function($){return new($||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return(0,e.wvQ)({facade:I,feature:N,methods:["update","reset","requestForgotPasswordEmail"]})},providedIn:"root"}),I})(),k=(()=>{class I{}return I.\u0275fac=function($){return new($||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return(0,e.wvQ)({facade:I,feature:N,methods:["get","update","close","getTitles"]})},providedIn:"root"}),I})(),M=(()=>{class I{}return I.\u0275fac=function($){return new($||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return(0,e.wvQ)({facade:I,feature:N,methods:["register","registerGuest","getTitles"]})},providedIn:"root"}),I})();function G(){return{featureModules:{[h]:{cmsComponents:["RegisterCustomerComponent","UpdateProfileComponent","UpdateEmailComponent","UpdatePasswordComponent","ForgotPasswordComponent","ResetPasswordComponent","CloseAccountComponent"]},[N]:h}}}let V=(()=>{class I{}return I.\u0275fac=function($){return new($||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({providers:[(0,e.x2j)(G),{provide:e.Tie,useExisting:k}]}),I})()},1214:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ct:()=>OAuthService,Hy:()=>OAuthStorage,zr:()=>OAuthModule});var _home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5861),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4650),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6895),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(529),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8929),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5254),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1946),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1737),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6053),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6787),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2994),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(943),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7224),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6227),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2986),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1709),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1302);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class de extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return de.\u0275fac=function(){let Q;return function(u){return(Q||(Q=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(de)))(u||de)}}(),de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class de{constructor(){this.data=new Map}getItem(m){return this.data.get(m)}removeItem(m){this.data.delete(m)}setItem(m,u){this.data.set(m,u)}}return de.\u0275fac=function(m){return new(m||de)},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})();class ReceivedTokens{}class OAuthEvent{constructor(Q){this.type=Q}}class OAuthSuccessEvent extends OAuthEvent{constructor(Q,m=null){super(Q),this.info=m}}class OAuthInfoEvent extends OAuthEvent{constructor(Q,m=null){super(Q),this.info=m}}class OAuthErrorEvent extends OAuthEvent{constructor(Q,m,u=null){super(Q),this.reason=m,this.params=u}}function b64DecodeUnicode(de){const Q=de.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(Q).split("").map(function(m){return"%"+("00"+m.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(de){return btoa(de).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(Q){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=m=>{location.href=m},Q&&Object.assign(this,Q)}}class WebHttpUrlEncodingCodec{encodeKey(Q){return encodeURIComponent(Q)}encodeValue(Q){return encodeURIComponent(Q)}decodeKey(Q){return decodeURIComponent(Q)}decodeValue(Q){return decodeURIComponent(Q)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(Q){var m=this;return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){let u=m.inferHashAlgorithm(Q.idTokenHeader),e=yield m.calcHash(Q.accessToken,u),N=base64UrlEncode(e.substr(0,e.length/2)),D=Q.idTokenClaims.at_hash.replace(/=/g,"");return N!==D&&(console.error("exptected at_hash: "+N),console.error("actual at_hash: "+D)),N===D})()}inferHashAlgorithm(Q){let m=Q.alg;if(!m.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+m);return"sha-"+m.substr(2)}}let UrlHelperService=(()=>{class de{getHashFragmentParams(m){let u=m||window.location.hash;if(u=decodeURIComponent(u),0!==u.indexOf("#"))return{};const e=u.indexOf("?");return u=u.substr(e>-1?e+1:1),this.parseQueryString(u)}parseQueryString(m){const u={};let e,h,N,D,P,k,M;if(null===m)return u;e=m.split("&");for(let G=0;G<e.length;G++)h=e[G],N=h.indexOf("="),-1===N?(D=h,P=null):(D=h.substr(0,N),P=h.substr(N+1)),k=decodeURIComponent(D),M=decodeURIComponent(P),"/"===k.substr(0,1)&&(k=k.substr(1)),u[k]=M;return u}}return de.\u0275fac=function(m){return new(m||de)},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u";const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(de){return"[object Array]"===Object.prototype.toString.call(de)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(de){return"object"==typeof de&&de.buffer&&de.buffer.constructor===ArrayBuffer});var createOutputMethod=function(de,Q){return function(m){return new Sha256(Q,!0).update(m)[de]()}},createMethod=function(de){var Q=createOutputMethod("hex",de);NODE_JS&&(Q=nodeWrap(Q,de)),Q.create=function(){return new Sha256(de)},Q.update=function(e){return Q.create().update(e)};for(var m=0;m<OUTPUT_TYPES.length;++m){var u=OUTPUT_TYPES[m];Q[u]=createOutputMethod(u,de)}return Q},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(de){if("string"==typeof de)return crypto.createHash(algorithm).update(de,"utf8").digest("hex");if(null==de)throw new Error(ERROR);return de.constructor===ArrayBuffer&&(de=new Uint8Array(de)),Array.isArray(de)||ArrayBuffer.isView(de)||de.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(de)).digest("hex"):method(de)};return nodeMethod},createHmacOutputMethod=function(de,Q){return function(m,u){return new HmacSha256(m,Q,!0).update(u)[de]()}},createHmacMethod=function(de){var Q=createHmacOutputMethod("hex",de);Q.create=function(e){return new HmacSha256(e,de)},Q.update=function(e,h){return Q.create(e).update(h)};for(var m=0;m<OUTPUT_TYPES.length;++m){var u=OUTPUT_TYPES[m];Q[u]=createHmacOutputMethod(u,de)}return Q};function Sha256(de,Q){Q?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=de}function HmacSha256(de,Q,m){var u,e=typeof de;if("string"===e){var P,h=[],N=de.length,D=0;for(u=0;u<N;++u)(P=de.charCodeAt(u))<128?h[D++]=P:P<2048?(h[D++]=192|P>>6,h[D++]=128|63&P):P<55296||P>=57344?(h[D++]=224|P>>12,h[D++]=128|P>>6&63,h[D++]=128|63&P):(P=65536+((1023&P)<<10|1023&de.charCodeAt(++u)),h[D++]=240|P>>18,h[D++]=128|P>>12&63,h[D++]=128|P>>6&63,h[D++]=128|63&P);de=h}else{if("object"!==e)throw new Error(ERROR);if(null===de)throw new Error(ERROR);if(ARRAY_BUFFER&&de.constructor===ArrayBuffer)de=new Uint8Array(de);else if(!(Array.isArray(de)||ARRAY_BUFFER&&ArrayBuffer.isView(de)))throw new Error(ERROR)}de.length>64&&(de=new Sha256(Q,!0).update(de).array());var k=[],M=[];for(u=0;u<64;++u){var G=de[u]||0;k[u]=92^G,M[u]=54^G}Sha256.call(this,Q,m),this.update(M),this.oKeyPad=k,this.inner=!0,this.sharedMemory=m}Sha256.prototype.update=function(de){if(!this.finalized){var Q,m=typeof de;if("string"!==m){if("object"!==m)throw new Error(ERROR);if(null===de)throw new Error(ERROR);if(ARRAY_BUFFER&&de.constructor===ArrayBuffer)de=new Uint8Array(de);else if(!(Array.isArray(de)||ARRAY_BUFFER&&ArrayBuffer.isView(de)))throw new Error(ERROR);Q=!0}for(var u,h,e=0,N=de.length,D=this.blocks;e<N;){if(this.hashed&&(this.hashed=!1,D[0]=this.block,D[16]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=D[10]=D[11]=D[12]=D[13]=D[14]=D[15]=0),Q)for(h=this.start;e<N&&h<64;++e)D[h>>2]|=de[e]<<SHIFT[3&h++];else for(h=this.start;e<N&&h<64;++e)(u=de.charCodeAt(e))<128?D[h>>2]|=u<<SHIFT[3&h++]:u<2048?(D[h>>2]|=(192|u>>6)<<SHIFT[3&h++],D[h>>2]|=(128|63&u)<<SHIFT[3&h++]):u<55296||u>=57344?(D[h>>2]|=(224|u>>12)<<SHIFT[3&h++],D[h>>2]|=(128|u>>6&63)<<SHIFT[3&h++],D[h>>2]|=(128|63&u)<<SHIFT[3&h++]):(u=65536+((1023&u)<<10|1023&de.charCodeAt(++e)),D[h>>2]|=(240|u>>18)<<SHIFT[3&h++],D[h>>2]|=(128|u>>12&63)<<SHIFT[3&h++],D[h>>2]|=(128|u>>6&63)<<SHIFT[3&h++],D[h>>2]|=(128|63&u)<<SHIFT[3&h++]);this.lastByteIndex=h,this.bytes+=h-this.start,h>=64?(this.block=D[16],this.start=h-64,this.hash(),this.hashed=!0):this.start=h}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var de=this.blocks,Q=this.lastByteIndex;de[16]=this.block,de[Q>>2]|=EXTRA[3&Q],this.block=de[16],Q>=56&&(this.hashed||this.hash(),de[0]=this.block,de[16]=de[1]=de[2]=de[3]=de[4]=de[5]=de[6]=de[7]=de[8]=de[9]=de[10]=de[11]=de[12]=de[13]=de[14]=de[15]=0),de[14]=this.hBytes<<3|this.bytes>>>29,de[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var k,I,J,re,ae,De,de=this.h0,Q=this.h1,m=this.h2,u=this.h3,e=this.h4,h=this.h5,N=this.h6,D=this.h7,P=this.blocks;for(k=16;k<64;++k)P[k]=P[k-16]+(((I=P[k-15])>>>7|I<<25)^(I>>>18|I<<14)^I>>>3)+P[k-7]+(((I=P[k-2])>>>17|I<<15)^(I>>>19|I<<13)^I>>>10)<<0;for(De=Q&m,k=0;k<64;k+=4)this.first?(this.is224?(J=300032,D=(I=P[0]-1413257819)-150054599<<0,u=I+24177077<<0):(J=704751109,D=(I=P[0]-210244248)-1521486534<<0,u=I+143694565<<0),this.first=!1):(D=u+(I=D+((e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7))+(e&h^~e&N)+K[k]+P[k])<<0,u=I+(((de>>>2|de<<30)^(de>>>13|de<<19)^(de>>>22|de<<10))+((J=de&Q)^de&m^De))<<0),N=m+(I=N+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))+(D&e^~D&h)+K[k+1]+P[k+1])<<0,m=I+(((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+((re=u&de)^u&Q^J))<<0,h=Q+(I=h+((N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7))+(N&D^~N&e)+K[k+2]+P[k+2])<<0,Q=I+(((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+((ae=m&u)^m&de^re))<<0,e=de+(I=e+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&N^~h&D)+K[k+3]+P[k+3])<<0,de=I+(((Q>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10))+((De=Q&m)^Q&u^ae))<<0;this.h0=this.h0+de<<0,this.h1=this.h1+Q<<0,this.h2=this.h2+m<<0,this.h3=this.h3+u<<0,this.h4=this.h4+e<<0,this.h5=this.h5+h<<0,this.h6=this.h6+N<<0,this.h7=this.h7+D<<0},Sha256.prototype.hex=function(){this.finalize();var de=this.h0,Q=this.h1,m=this.h2,u=this.h3,e=this.h4,h=this.h5,N=this.h6,D=this.h7,P=HEX_CHARS[de>>28&15]+HEX_CHARS[de>>24&15]+HEX_CHARS[de>>20&15]+HEX_CHARS[de>>16&15]+HEX_CHARS[de>>12&15]+HEX_CHARS[de>>8&15]+HEX_CHARS[de>>4&15]+HEX_CHARS[15&de]+HEX_CHARS[Q>>28&15]+HEX_CHARS[Q>>24&15]+HEX_CHARS[Q>>20&15]+HEX_CHARS[Q>>16&15]+HEX_CHARS[Q>>12&15]+HEX_CHARS[Q>>8&15]+HEX_CHARS[Q>>4&15]+HEX_CHARS[15&Q]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[15&m]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[N>>28&15]+HEX_CHARS[N>>24&15]+HEX_CHARS[N>>20&15]+HEX_CHARS[N>>16&15]+HEX_CHARS[N>>12&15]+HEX_CHARS[N>>8&15]+HEX_CHARS[N>>4&15]+HEX_CHARS[15&N];return this.is224||(P+=HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[15&D]),P},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var de=this.h0,Q=this.h1,m=this.h2,u=this.h3,e=this.h4,h=this.h5,N=this.h6,D=this.h7,P=[de>>24&255,de>>16&255,de>>8&255,255&de,Q>>24&255,Q>>16&255,Q>>8&255,255&Q,m>>24&255,m>>16&255,m>>8&255,255&m,u>>24&255,u>>16&255,u>>8&255,255&u,e>>24&255,e>>16&255,e>>8&255,255&e,h>>24&255,h>>16&255,h>>8&255,255&h,N>>24&255,N>>16&255,N>>8&255,255&N];return this.is224||P.push(D>>24&255,D>>16&255,D>>8&255,255&D),P},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var de=new ArrayBuffer(this.is224?28:32),Q=new DataView(de);return Q.setUint32(0,this.h0),Q.setUint32(4,this.h1),Q.setUint32(8,this.h2),Q.setUint32(12,this.h3),Q.setUint32(16,this.h4),Q.setUint32(20,this.h5),Q.setUint32(24,this.h6),this.is224||Q.setUint32(28,this.h7),de},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var de=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(de),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(de){if("string"!=typeof de)throw new TypeError("expected string");var Q,m=de,u=new Uint8Array(m.length);for(Q=0;Q<m.length;Q++)u[Q]=m.charCodeAt(Q);return u}function encodeUTF8(de){var Q,m=[];for(Q=0;Q<de.length;Q++)m.push(String.fromCharCode(de[Q]));return m.join("")}let DefaultHashHandler=(()=>{class de{calcHash(m,u){return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(m)))})()}toHashString2(m){let u="";for(let e of m)u+=String.fromCharCode(e);return u}toHashString(m){const u=new Uint8Array(m);let e="";for(let h of u)e+=String.fromCharCode(h);return e}}return de.\u0275fac=function(m){return new(m||de)},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})(),OAuthService=(()=>{class de extends AuthConfig{constructor(m,u,e,h,N,D,P,k,M,G){super(),this.ngZone=m,this.http=u,this.config=N,this.urlHelper=D,this.logger=P,this.crypto=k,this.dateTimeService=G,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=M,N||(N={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),h&&(this.tokenValidationHandler=h),N&&this.configure(N);try{e?this.setStorage(e):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(V){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",V)}if(this.checkLocalStorageAccessable()){const V=window?.navigator?.userAgent;(V?.includes("MSIE ")||V?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const m="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(m,m),localStorage.removeItem(m),0))}catch{return!1}}configure(m){Object.assign(this,new AuthConfig,m),this.config=Object.assign({},new AuthConfig,m),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(m=>"token_received"===m.type)).subscribe(m=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(m={},u,e=!0){let h=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(N=>{"token_received"===N.type?h=!0:"logout"===N.type&&(h=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(N=>"token_expires"===N.type&&(null==u||"any"===u||N.info===u)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(N=>{h&&this.refreshInternal(m,e).catch(D=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(m,u){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(m,u):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(m=null){return this.loadDiscoveryDocument().then(u=>this.tryLogin(m))}loadDiscoveryDocumentAndLogin(m=null){return this.loadDiscoveryDocumentAndTryLogin(m=m||{}).then(u=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof m.state?m.state:""),!1))}debug(...m){this.showDebugInformation&&this.logger.debug.apply(this.logger,m)}validateUrlFromDiscoveryDocument(m){const u=[],e=this.validateUrlForHttps(m),h=this.validateUrlAgainstIssuer(m);return e||u.push("https for all urls required. Also for urls received by discovery."),h||u.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),u}validateUrlForHttps(m){if(!m)return!0;const u=m.toLowerCase();return!(!1!==this.requireHttps&&(!u.match(/^http:\/\/localhost($|[:\/])/)&&!u.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||u.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(m,u){if(!m)throw new Error(`'${u}' should not be null`);if(!this.validateUrlForHttps(m))throw new Error(`'${u}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(m){return!this.strictDiscoveryDocumentValidation||!m||m.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(m=>"token_received"===m.type)).subscribe(m=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const m=this.getAccessTokenExpiration(),u=this.getAccessTokenStoredAt(),e=this.calcTimeout(u,m);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}setupIdTokenTimer(){const m=this.getIdTokenExpiration(),u=this.getIdTokenStoredAt(),e=this.calcTimeout(u,m);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(e)).subscribe(h=>{this.ngZone.run(()=>{this.eventsSubject.next(h)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(m,u){const e=this.dateTimeService.now();return Math.max(0,(u-m)*this.timeoutFactor-(e-m))}setStorage(m){this._storage=m,this.configChanged()}loadDiscoveryDocument(m=null){return new Promise((u,e)=>{m||((m=this.issuer||"").endsWith("/")||(m+="/"),m+=".well-known/openid-configuration"),this.validateUrlForHttps(m)?this.http.get(m).subscribe(h=>{if(!this.validateDiscoveryDocument(h))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void e("discovery_document_validation_error");this.loginUrl=h.authorization_endpoint,this.logoutUrl=h.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=h.grant_types_supported,this.issuer=h.issuer,this.tokenEndpoint=h.token_endpoint,this.userinfoEndpoint=h.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=h.jwks_uri,this.sessionCheckIFrameUrl=h.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(h),this.revocationEndpoint=h.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(N=>{const P=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:h,jwks:N});this.eventsSubject.next(P),u(P)}).catch(N=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",N)),e(N)})},h=>{this.logger.error("error loading discovery document",h),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",h)),e(h)}):e("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((m,u)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(e=>{this.jwks=e,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),m(e)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",e)),u(e)}):m(null)})}validateDiscoveryDocument(m){let u;return this.skipIssuerCheck||m.issuer===this.issuer?(u=this.validateUrlFromDiscoveryDocument(m.authorization_endpoint),u.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",u),!1):(u=this.validateUrlFromDiscoveryDocument(m.end_session_endpoint),u.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",u),!1):(u=this.validateUrlFromDiscoveryDocument(m.token_endpoint),u.length>0&&this.logger.error("error validating token_endpoint in discovery document",u),u=this.validateUrlFromDiscoveryDocument(m.revocation_endpoint),u.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",u),u=this.validateUrlFromDiscoveryDocument(m.userinfo_endpoint),u.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",u),!1):(u=this.validateUrlFromDiscoveryDocument(m.jwks_uri),u.length>0?(this.logger.error("error validating jwks_uri in discovery document",u),!1):(this.sessionChecksEnabled&&!m.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+m.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(m,u,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(m,u,e).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((m,u)=>{const e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:e,observe:"response",responseType:"text"}).subscribe(h=>{if(this.debug("userinfo received",JSON.stringify(h)),h.headers.get("content-type").startsWith("application/json")){let N=JSON.parse(h.body);const D=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!D.sub||N.sub!==D.sub))return void u("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");N=Object.assign({},D,N),this._storage.setItem("id_token_claims_obj",JSON.stringify(N)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),m({info:N})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),m(JSON.parse(h.body))},h=>{this.logger.error("error loading user info",h),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",h)),u(h)})})}fetchTokenUsingPasswordFlow(m,u,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:m,password:u},e)}fetchTokenUsingGrant(m,u,e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let h=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",m).set("scope",this.scope);if(this.useHttpBasicAuth){const N=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+N)}if(this.useHttpBasicAuth||(h=h.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(h=h.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const N of Object.getOwnPropertyNames(this.customQueryParams))h=h.set(N,this.customQueryParams[N]);for(const N of Object.keys(u))h=h.set(N,u[N]);return e=e.set("Content-Type","application/x-www-form-urlencoded"),new Promise((N,D)=>{this.http.post(this.tokenEndpoint,h,{headers:e}).subscribe(P=>{this.debug("tokenResponse",P),this.storeAccessTokenResponse(P.access_token,P.refresh_token,P.expires_in||this.fallbackAccessTokenExpirationTimeInSec,P.scope,this.extractRecognizedCustomParameters(P)),this.oidc&&P.id_token&&this.processIdToken(P.id_token,P.access_token).then(k=>{this.storeIdToken(k),N(P)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),N(P)},P=>{this.logger.error("Error performing ${grantType} flow",P),this.eventsSubject.next(new OAuthErrorEvent("token_error",P)),D(P)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((m,u)=>{let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),h=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const N=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+N)}if(this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const N of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(N,this.customQueryParams[N]);this.http.post(this.tokenEndpoint,e,{headers:h}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(N=>N.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(N.id_token,N.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(D=>this.storeIdToken(D)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(D=>N)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(N))).subscribe(N=>{this.debug("refresh tokenResponse",N),this.storeAccessTokenResponse(N.access_token,N.refresh_token,N.expires_in||this.fallbackAccessTokenExpirationTimeInSec,N.scope,this.extractRecognizedCustomParameters(N)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),m(N)},N=>{this.logger.error("Error refreshing token",N),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",N)),u(N)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=m=>{const u=this.processMessageEventMessage(m);this.tryLogin({customHashFragment:u,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(m={},u=!0){const e=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(m.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const h=this.document.getElementById(this.silentRefreshIFrameName);h&&this.document.body.removeChild(h),this.silentRefreshSubject=e.sub;const N=this.document.createElement("iframe");N.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,u,m).then(G=>{N.setAttribute("src",G),this.silentRefreshShowIFrame||(N.style.display="none"),this.document.body.appendChild(N)});const P=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(G=>G instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),k=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(G=>"token_received"===G.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),M=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S3)([P,k,M]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(G=>{if(G instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===G.type||(G=new OAuthErrorEvent("silent_refresh_error",G)),this.eventsSubject.next(G),G;return"token_received"===G.type&&(G=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(G)),G})).toPromise()}initImplicitFlowInPopup(m){return this.initLoginFlowInPopup(m)}initLoginFlowInPopup(m){return m=m||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(u=>new Promise((e,h)=>{let P,D=null;m.windowRef?m.windowRef&&!m.windowRef.closed&&(D=m.windowRef,D.location.href=u):D=window.open(u,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(m));const k=H=>{this.tryLogin({customHashFragment:H,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{G(),e(!0)},$=>{G(),h($)})};D?P=window.setInterval(()=>{(!D||D.closed)&&(G(),h(new OAuthErrorEvent("popup_closed",{})))},500):h(new OAuthErrorEvent("popup_blocked",{}));const G=()=>{window.clearInterval(P),window.removeEventListener("storage",I),window.removeEventListener("message",V),null!==D&&D.close(),D=null},V=H=>{const $=this.processMessageEventMessage(H);$&&null!==$?(window.removeEventListener("storage",I),k($)):console.log("false event firing")},I=H=>{"auth_hash"===H.key&&(window.removeEventListener("message",V),k(H.newValue))};window.addEventListener("message",V),window.addEventListener("storage",I)}))}calculatePopupFeatures(m){const u=m.height||470,e=m.width||500,h=window.screenLeft+(window.outerWidth-e)/2;return`location=no,toolbar=no,width=${e},height=${u},top=${window.screenTop+(window.outerHeight-u)/2},left=${h}`}processMessageEventMessage(m){let u="#";if(this.silentRefreshMessagePrefix&&(u+=this.silentRefreshMessagePrefix),!m||!m.data||"string"!=typeof m.data)return;const e=m.data;return e.startsWith(u)?"#"+e.substr(u.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=m=>{const u=m.origin.toLowerCase(),e=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),e.startsWith(u)){switch(m.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",m)}else this.debug("sessionCheckEventListener","wrong origin",u,"expected",e,"event",m)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(m=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(m=>{this.debug("token refresh after session change worked")}).catch(m=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(m=>"silently_refreshed"===m.type||"silent_refresh_timeout"===m.type||"silent_refresh_error"===m.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(m=>{"silently_refreshed"!==m.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const m=this.document.getElementById(this.sessionCheckIFrameName);m&&this.document.body.removeChild(m);const u=this.document.createElement("iframe");u.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),u.setAttribute("src",this.sessionCheckIFrameUrl),u.style.display="none",this.document.body.appendChild(u),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const m=this.document.getElementById(this.sessionCheckIFrameName);m||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const u=this.getSessionState();u||this.stopSessionCheckTimer(),m.contentWindow.postMessage(this.clientId+" "+u,this.issuer)}createLoginUrl(m="",u="",e="",h=!1,N={}){var D=this;return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const P=D;let k;k=e||D.redirectUri;const M=yield D.createAndSaveNonce();if(m=m?M+D.config.nonceStateSeparator+encodeURIComponent(m):M,!D.requestAccessToken&&!D.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");D.responseType=D.config.responseType?D.config.responseType:D.oidc&&D.requestAccessToken?"id_token token":D.oidc&&!D.requestAccessToken?"id_token":"token";const G=P.loginUrl.indexOf("?")>-1?"&":"?";let V=P.scope;D.oidc&&!V.match(/(^|\s)openid($|\s)/)&&(V="openid "+V);let I=P.loginUrl+G+"response_type="+encodeURIComponent(P.responseType)+"&client_id="+encodeURIComponent(P.clientId)+"&state="+encodeURIComponent(m)+"&redirect_uri="+encodeURIComponent(k)+"&scope="+encodeURIComponent(V);if(D.responseType.includes("code")&&!D.disablePKCE){const[H,$]=yield D.createChallangeVerifierPairForPKCE();D.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",$):D._storage.setItem("PKCE_verifier",$),I+="&code_challenge="+H,I+="&code_challenge_method=S256"}u&&(I+="&login_hint="+encodeURIComponent(u)),P.resource&&(I+="&resource="+encodeURIComponent(P.resource)),P.oidc&&(I+="&nonce="+encodeURIComponent(M)),h&&(I+="&prompt=none");for(const H of Object.keys(N))I+="&"+encodeURIComponent(H)+"="+encodeURIComponent(N[H]);if(D.customQueryParams)for(const H of Object.getOwnPropertyNames(D.customQueryParams))I+="&"+H+"="+encodeURIComponent(D.customQueryParams[H]);return I})()}initImplicitFlowInternal(m="",u=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof u?h=u:"object"==typeof u&&(e=u),this.createLoginUrl(m,h,null,!1,e).then(this.config.openUri).catch(N=>{console.error("Error in initImplicitFlow",N),this.inImplicitFlow=!1})}initImplicitFlow(m="",u=""){""!==this.loginUrl?this.initImplicitFlowInternal(m,u):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initImplicitFlowInternal(m,u))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(m){const u=this;if(m.onTokenReceived){const e={idClaims:u.getIdentityClaims(),idToken:u.getIdToken(),accessToken:u.getAccessToken(),state:u.state};m.onTokenReceived(e)}}storeAccessTokenResponse(m,u,e,h,N){if(this._storage.setItem("access_token",m),h&&!Array.isArray(h)?this._storage.setItem("granted_scopes",JSON.stringify(h.split(" "))):h&&Array.isArray(h)&&this._storage.setItem("granted_scopes",JSON.stringify(h)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),e){const D=1e3*e,k=this.dateTimeService.new().getTime()+D;this._storage.setItem("expires_at",""+k)}u&&this._storage.setItem("refresh_token",u),N&&N.forEach((D,P)=>{this._storage.setItem(P,D)})}tryLogin(m=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(m).then(u=>!0):this.tryLoginImplicitFlow(m)}parseQueryString(m){return m&&0!==m.length?("?"===m.charAt(0)&&(m=m.substr(1)),this.urlHelper.parseQueryString(m)):{}}tryLoginCodeFlow(m=null){var u=this;return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const e=(m=m||{}).customHashFragment?m.customHashFragment.substring(1):window.location.search,h=u.getCodePartsFromUrl(e),N=h.code,D=h.state,P=h.session_state;if(!m.preventClearHashAfterLogin){const G=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,G)}let[k,M]=u.parseState(D);if(u.state=M,h.error){u.debug("error trying to login"),u.handleLoginError(m,h);const G=new OAuthErrorEvent("code_error",{},h);return u.eventsSubject.next(G),Promise.reject(G)}if(!m.disableNonceCheck){if(!k)return u.saveRequestedRoute(),Promise.resolve();if(!m.disableOAuth2StateCheck&&!u.validateNonce(k)){const V=new OAuthErrorEvent("invalid_nonce_in_state",null);return u.eventsSubject.next(V),Promise.reject(V)}return u.storeSessionState(P),N&&(yield u.getTokenFromCode(N,m),u.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const m=this._storage.getItem("requested_route");m&&history.replaceState(null,"",window.location.origin+m)}getCodePartsFromUrl(m){return m&&0!==m.length?("?"===m.charAt(0)&&(m=m.substr(1)),this.urlHelper.parseQueryString(m)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(m,u){let e=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",m).set("redirect_uri",u.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let h;h=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),h?e=e.set("code_verifier",h):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(e,u)}fetchAndProcessToken(m,u){u=u||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let e=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const h=btoa(`${this.clientId}:${this.dummyClientSecret}`);e=e.set("Authorization","Basic "+h)}return this.useHttpBasicAuth||(m=m.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(m=m.set("client_secret",this.dummyClientSecret)),new Promise((h,N)=>{if(this.customQueryParams)for(let D of Object.getOwnPropertyNames(this.customQueryParams))m=m.set(D,this.customQueryParams[D]);this.http.post(this.tokenEndpoint,m,{headers:e}).subscribe(D=>{this.debug("refresh tokenResponse",D),this.storeAccessTokenResponse(D.access_token,D.refresh_token,D.expires_in||this.fallbackAccessTokenExpirationTimeInSec,D.scope,this.extractRecognizedCustomParameters(D)),this.oidc&&D.id_token?this.processIdToken(D.id_token,D.access_token,u.disableNonceCheck).then(P=>{this.storeIdToken(P),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(D)}).catch(P=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",P)),console.error("Error validating tokens"),console.error(P),N(P)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),h(D))},D=>{console.error("Error getting token",D),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",D)),N(D)})})}tryLoginImplicitFlow(m=null){let u;u=(m=m||{}).customHashFragment?this.urlHelper.getHashFragmentParams(m.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",u);const e=u.state;let[h,N]=this.parseState(e);if(this.state=N,u.error){this.debug("error trying to login"),this.handleLoginError(m,u);const G=new OAuthErrorEvent("token_error",{},u);return this.eventsSubject.next(G),Promise.reject(G)}const D=u.access_token,P=u.id_token,k=u.session_state,M=u.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!D||this.requestAccessToken&&!m.disableOAuth2StateCheck&&!e||this.oidc&&!P)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!k&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!m.disableNonceCheck&&!this.validateNonce(h)){const V=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(V),Promise.reject(V)}return this.requestAccessToken&&this.storeAccessTokenResponse(D,null,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,M),this.oidc?this.processIdToken(P,D,m.disableNonceCheck).then(G=>m.validationHandler?m.validationHandler({accessToken:D,idClaims:G.idTokenClaims,idToken:G.idToken,state:e}).then(V=>G):G).then(G=>(this.storeIdToken(G),this.storeSessionState(k),this.clearHashAfterLogin&&!m.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(m),this.inImplicitFlow=!1,!0)).catch(G=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",G)),this.logger.error("Error validating tokens"),this.logger.error(G),Promise.reject(G))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!m.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(m),Promise.resolve(!0))}parseState(m){let u=m,e="";if(m){const h=m.indexOf(this.config.nonceStateSeparator);h>-1&&(u=m.substr(0,h),e=m.substr(h+this.config.nonceStateSeparator.length))}return[u,e]}validateNonce(m){let u;return u=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),u===m||(console.error("Validating access_token failed, wrong state/nonce.",u,m),!1)}storeIdToken(m){this._storage.setItem("id_token",m.idToken),this._storage.setItem("id_token_claims_obj",m.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+m.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(m){this._storage.setItem("session_state",m)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(m,u){m.onLoginError&&m.onLoginError(u),this.clearHashAfterLogin&&!m.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(m=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:m}processIdToken(m,u,e=!1){const h=m.split("."),D=b64DecodeUnicode(this.padBase64(h[0])),P=JSON.parse(D),M=b64DecodeUnicode(this.padBase64(h[1])),G=JSON.parse(M);let V;if(V=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(G.aud)){if(G.aud.every(ae=>ae!==this.clientId)){const ae="Wrong audience: "+G.aud.join(",");return this.logger.warn(ae),Promise.reject(ae)}}else if(G.aud!==this.clientId){const ae="Wrong audience: "+G.aud;return this.logger.warn(ae),Promise.reject(ae)}if(!G.sub){const ae="No sub claim in id_token";return this.logger.warn(ae),Promise.reject(ae)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==G.sub){const ae=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${G.sub}`;return this.logger.warn(ae),Promise.reject(ae)}if(!G.iat){const ae="No iat claim in id_token";return this.logger.warn(ae),Promise.reject(ae)}if(!this.skipIssuerCheck&&G.iss!==this.issuer){const ae="Wrong issuer: "+G.iss;return this.logger.warn(ae),Promise.reject(ae)}if(!e&&G.nonce!==V){const ae="Wrong nonce: "+G.nonce;return this.logger.warn(ae),Promise.reject(ae)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!G.at_hash){const ae="An at_hash is needed!";return this.logger.warn(ae),Promise.reject(ae)}const I=this.dateTimeService.now(),H=1e3*G.iat,$=1e3*G.exp,J=this.getClockSkewInMsec();if(H-J>=I||$+J<=I){const ae="Token has expired";return console.error(ae),console.error({now:I,issuedAtMSec:H,expiresAtMSec:$}),Promise.reject(ae)}const re={accessToken:u,idToken:m,jwks:this.jwks,idTokenClaims:G,idTokenHeader:P,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(re).then(ae=>({idToken:m,idTokenClaims:G,idTokenClaimsJson:M,idTokenHeader:P,idTokenHeaderJson:D,idTokenExpiresAt:$})):this.checkAtHash(re).then(ae=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!ae){const De="Wrong at_hash";return this.logger.warn(De),Promise.reject(De)}return this.checkSignature(re).then(De=>{const Xe={idToken:m,idTokenClaims:G,idTokenClaimsJson:M,idTokenHeader:P,idTokenHeaderJson:D,idTokenExpiresAt:$};return this.disableAtHashCheck?Xe:this.checkAtHash(re).then(Le=>{if(this.requestAccessToken&&!Le){const Ge="Wrong at_hash";return this.logger.warn(Ge),Promise.reject(Ge)}return Xe})})})}getIdentityClaims(){const m=this._storage.getItem("id_token_claims_obj");return m?JSON.parse(m):null}getGrantedScopes(){const m=this._storage.getItem("granted_scopes");return m?JSON.parse(m):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(m){for(;m.length%4!=0;)m+="=";return m}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const m=this._storage.getItem("expires_at"),u=this.dateTimeService.new();return!(m&&parseInt(m,10)<u.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const m=this._storage.getItem("id_token_expires_at"),u=this.dateTimeService.new();return!(m&&parseInt(m,10)<u.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(m){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(m)>=0&&null!==this._storage.getItem(m)?JSON.parse(this._storage.getItem(m)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(m={},u=""){let e=!1;"boolean"==typeof m&&(e=m,m={});const h=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(D=>this._storage.removeItem(D)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||e||!h&&!this.postLogoutRedirectUri)return;let N;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)N=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(h)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let D=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});h&&(D=D.set("id_token_hint",h));const P=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";P&&(D=D.set("post_logout_redirect_uri",P),u&&(D=D.set("state",u)));for(let k in m)D=D.set(k,m[k]);N=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+D.toString()}this.config.openUri(N)}createAndSaveNonce(){const m=this;return this.createNonce().then(function(u){return m.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",u):m._storage.setItem("nonce",u),u})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const m=this.document.getElementById(this.silentRefreshIFrameName);m&&m.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const u=this.document.getElementById(this.sessionCheckIFrameName);u&&u.remove()}createNonce(){return new Promise(m=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let e=45,h="";const N=typeof self>"u"?null:self.crypto||self.msCrypto;if(N){let D=new Uint8Array(e);N.getRandomValues(D),D.map||(D.map=Array.prototype.map),D=D.map(P=>u.charCodeAt(P%u.length)),h=String.fromCharCode.apply(null,D)}else for(;0<e--;)h+=u[Math.random()*u.length|0];m(base64UrlEncode(h))})}checkAtHash(m){var u=this;return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return u.tokenValidationHandler?u.tokenValidationHandler.validateAtHash(m):(u.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(m){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(m):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(m="",u={}){return"code"===this.responseType?this.initCodeFlow(m,u):this.initImplicitFlow(m,u)}initCodeFlow(m="",u={}){""!==this.loginUrl?this.initCodeFlowInternal(m,u):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(e=>"discovery_document_loaded"===e.type)).subscribe(e=>this.initCodeFlowInternal(m,u))}initCodeFlowInternal(m="",u={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let e={},h=null;"string"==typeof u?h=u:"object"==typeof u&&(e=u),this.createLoginUrl(m,h,null,!1,e).then(this.config.openUri).catch(N=>{console.error("Error in initAuthorizationCodeFlow"),console.error(N)})}createChallangeVerifierPairForPKCE(){var m=this;return(0,_home_hybris_olf_commerce_js_storefront_olf_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){if(!m.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const u=yield m.createNonce();return[base64UrlEncode(yield m.crypto.calcHash(u,"sha-256")),u]})()}extractRecognizedCustomParameters(m){let u=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(e=>{m[e]&&u.set(e,JSON.stringify(m[e]))}),u}revokeTokenAndLogout(m={},u=!1){let e=this.revocationEndpoint,h=this.getAccessToken(),N=this.getRefreshToken();if(!h)return;let D=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),P=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const k=btoa(`${this.clientId}:${this.dummyClientSecret}`);P=P.set("Authorization","Basic "+k)}if(this.useHttpBasicAuth||(D=D.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(D=D.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const k of Object.getOwnPropertyNames(this.customQueryParams))D=D.set(k,this.customQueryParams[k]);return new Promise((k,M)=>{let G,V;if(h){let I=D.set("token",h).set("token_type_hint","access_token");G=this.http.post(e,I,{headers:P})}else G=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(N){let I=D.set("token",N).set("token_type_hint","refresh_token");V=this.http.post(e,I,{headers:P})}else V=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);u&&(G=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(I=>0===I.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(I))),V=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(I=>0===I.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(I)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.aj)([G,V]).subscribe(I=>{this.logOut(m),k(I),this.logger.info("Token successfully revoked")},I=>{this.logger.error("Error revoking token",I),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",I)),M(I)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return de.\u0275fac=function(m){return new(m||de)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(Q){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(Q)}}let DefaultOAuthInterceptor=(()=>{class de{constructor(m,u,e){this.oAuthService=m,this.errorHandler=u,this.moduleConfig=e}checkUrl(m){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(m):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(u=>m.toLowerCase().startsWith(u.toLowerCase()))}intercept(m,u){const e=m.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(e)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(N=>!!N)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(N=>"token_received"===N.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(N=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(N=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.zg)(N=>{if(N){const P=m.headers.set("Authorization","Bearer "+N);m=m.clone({headers:P})}return u.handle(m).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(D=>this.errorHandler.handleError(D)))})):u.handle(m).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(N=>this.errorHandler.handleError(N))):u.handle(m)}}return de.\u0275fac=function(m){return new(m||de)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},de.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:de,factory:de.\u0275fac}),de})();class NullValidationHandler{validateSignature(Q){return Promise.resolve(null)}validateAtHash(Q){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return typeof sessionStorage<"u"?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class de{static forRoot(m=null,u=NullValidationHandler){return{ngModule:de,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:u},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:m},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return de.\u0275fac=function(m){return new(m||de)},de.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:de}),de.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),de})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")},5861:(de,Q,m)=>{"use strict";function u(h,N,D,P,k,M,G){try{var V=h[M](G),I=V.value}catch(H){return void D(H)}V.done?N(I):Promise.resolve(I).then(P,k)}function e(h){return function(){var N=this,D=arguments;return new Promise(function(P,k){var M=h.apply(N,D);function G(I){u(M,P,k,G,V,"next",I)}function V(I){u(M,P,k,G,V,"throw",I)}G(void 0)})}}m.d(Q,{Z:()=>e})}},de=>{de(de.s=4371)}]);