"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=559,exports.ids=[559],exports.modules={6559:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UserAccountModule:()=>UserAccountModule});var core=__webpack_require__(5e3),spartacus_user_account_components=__webpack_require__(9184),spartacus_user_account_root=__webpack_require__(7777),spartacus_core=__webpack_require__(5945),switchMap=__webpack_require__(7545);const USER_ACCOUNT_NORMALIZER=new core.OlP("UserAccountNormalizer");new core.OlP("UserAccountSerializer");class UserAccountAdapter{}__name(UserAccountAdapter,"UserAccountAdapter");class UserAccountConnector{constructor(adapter){this.adapter=adapter}get(userId){return this.adapter.load(userId)}}__name(UserAccountConnector,"UserAccountConnector"),UserAccountConnector.\u0275fac=__name(function(t){return new(t||UserAccountConnector)(core.LFG(UserAccountAdapter))},"UserAccountConnector_Factory"),UserAccountConnector.\u0275prov=core.Yz7({token:UserAccountConnector,factory:UserAccountConnector.\u0275fac});class UserAccountService{constructor(userAccountConnector,userIdService,query){this.userAccountConnector=userAccountConnector,this.userIdService=userIdService,this.query=query,this.userQuery=this.query.create(()=>this.userIdService.takeUserId(!0).pipe((0,switchMap.w)(userId=>this.userAccountConnector.get(userId))),{reloadOn:[spartacus_user_account_root.x7],resetOn:[spartacus_core.p1J,spartacus_core.rX_]})}get(){return this.userQuery.get()}}__name(UserAccountService,"UserAccountService"),UserAccountService.\u0275fac=__name(function(t){return new(t||UserAccountService)(core.LFG(UserAccountConnector),core.LFG(spartacus_core.XBV),core.LFG(spartacus_core._7J))},"UserAccountService_Factory"),UserAccountService.\u0275prov=core.Yz7({token:UserAccountService,factory:UserAccountService.\u0275fac});const facadeProviders=[UserAccountService,{provide:spartacus_user_account_root.gf,useExisting:UserAccountService}];class UserAccountCoreModule{}__name(UserAccountCoreModule,"UserAccountCoreModule"),UserAccountCoreModule.\u0275fac=__name(function(t){return new(t||UserAccountCoreModule)},"UserAccountCoreModule_Factory"),UserAccountCoreModule.\u0275mod=core.oAB({type:UserAccountCoreModule}),UserAccountCoreModule.\u0275inj=core.cJS({providers:[UserAccountConnector,...facadeProviders]});var throwError=__webpack_require__(1737),catchError=__webpack_require__(7221),http=__webpack_require__(520);class OccUserAccountAdapter{constructor(http2,occEndpoints,converter){this.http=http2,this.occEndpoints=occEndpoints,this.converter=converter}load(userId){const url=this.occEndpoints.buildUrl("user",{urlParams:{userId}});return this.http.get(url).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error))),this.converter.pipeable(USER_ACCOUNT_NORMALIZER))}}__name(OccUserAccountAdapter,"OccUserAccountAdapter"),OccUserAccountAdapter.\u0275fac=__name(function(t){return new(t||OccUserAccountAdapter)(core.LFG(http.eN),core.LFG(spartacus_core.Lz0),core.LFG(spartacus_core.IXI))},"OccUserAccountAdapter_Factory"),OccUserAccountAdapter.\u0275prov=core.Yz7({token:OccUserAccountAdapter,factory:OccUserAccountAdapter.\u0275fac});class UserAccountOccModule{}__name(UserAccountOccModule,"UserAccountOccModule"),UserAccountOccModule.\u0275fac=__name(function(t){return new(t||UserAccountOccModule)},"UserAccountOccModule_Factory"),UserAccountOccModule.\u0275mod=core.oAB({type:UserAccountOccModule}),UserAccountOccModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({backend:{occ:{endpoints:{user:"users/${userId}"}}}}),{provide:UserAccountAdapter,useClass:OccUserAccountAdapter}]});class UserAccountModule{}__name(UserAccountModule,"UserAccountModule"),UserAccountModule.\u0275fac=__name(function(t){return new(t||UserAccountModule)},"UserAccountModule_Factory"),UserAccountModule.\u0275mod=core.oAB({type:UserAccountModule}),UserAccountModule.\u0275inj=core.cJS({imports:[UserAccountCoreModule,UserAccountOccModule,spartacus_user_account_components.od]})}};